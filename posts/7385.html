<html><pre>
Return-Path: &lt;fielding@...&gt;
X-Sender: fielding@...
X-Apparently-To: rest-discuss@yahoogroups.com
Received: (qmail 161 invoked from network); 2 Jan 2007 20:03:40 -0000
Received: from unknown (66.218.66.216)
  by m15.grp.scd.yahoo.com with QMQP; 2 Jan 2007 20:03:40 -0000
Received: from unknown (HELO scorpio.lunarpages.com) (209.200.229.70)
  by mta1.grp.scd.yahoo.com with SMTP; 2 Jan 2007 20:03:40 -0000
Received: from wsip-70-183-62-251.oc.oc.cox.net ([70.183.62.251] helo=[10.2.8.55])
	by scorpio.lunarpages.com with esmtpa (Exim 4.52)
	id 1H1pt2-0004nl-M4; Tue, 02 Jan 2007 12:05:28 -0800
In-Reply-To: &lt;01df01c72e65$274311f0$2102fea9@...&gt;
References: &lt;01df01c72e65$274311f0$2102fea9@...&gt;
Mime-Version: 1.0 (Apple Message framework v752.2)
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: &lt;71BB7BD6-3C9A-45C8-8837-FC584F1D98E8@...&gt;
Cc: &quot;&#39;Steve G. Bjorg&#39;&quot; &lt;steveb@...&gt;,
  &lt;rest-discuss@yahoogroups.com&gt;
Content-Transfer-Encoding: 7bit
Date: Tue, 2 Jan 2007 12:03:37 -0800
To: &quot;Mike Schinkel&quot; &lt;mikeschinkel@...&gt;
X-Mailer: Apple Mail (2.752.2)
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - scorpio.lunarpages.com
X-AntiAbuse: Original Domain - yahoogroups.com
X-AntiAbuse: Originator/Caller UID/GID - [0 0] / [47 12]
X-AntiAbuse: Sender Address Domain - gbiv.com
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-eGroups-Msg-Info: 1:0:0:0
From: &quot;Roy T. Fielding&quot; &lt;fielding@...&gt;
Subject: Re: [rest-discuss] Re: MindTouch Dream
X-Yahoo-Group-Post: member; u=175757792; y=ZTE3j-10uQ1SeiAIpP6UTE6q3nwOgcEOGRa-u1H-MwAwsVx5or_k
X-Yahoo-Profile: roy_fielding

On Jan 2, 2007, at 3:57 AM, Mike Schinkel wrote:
&gt; Steve G. Bjorg wrote:
&gt; &gt; Mike Schinkel wrote:
&gt; &gt; &gt; &gt; Ah yes, the ugly &#39;@&#39; prefix. It&#39;s to avoid naming clashes  
&gt; between
&gt; &gt; &gt; &gt; built-in and custom URIs.
&gt; &gt; &gt;
&gt; &gt; &gt; I definitely wouldn&#39;t use something that requires encoding.
&gt; &gt;
&gt; &gt; It doesn&#39;t. According to [1] (section 3.3), the &#39;@&#39; character is
&gt; &gt; legal in the URI path and does not require escaping.
&gt; &gt; [1] http://www.ietf.org/rfc/rfc2396.txt
&gt;
&gt; I didn&#39;t check rfc 2396, but rfc 3986 obsoletes it. Reading from  
&gt; &quot;Reserved
&gt; Characters&quot; section[1] it appears that you should percent encode  
&gt; the &#39;@&#39;
&gt; character, but I could be misreading. Can anyone on the list with more
&gt; experience tell me if I&#39;m interpreting it incorrectly, and if so why?

A URI generator should percent-encode reserved characters when they
are not being used as delimiters, so that other layers that do use
them as delimiters can treat them specially without misinterpreting
normal data (e.g., a name that just happens to start with @ would
be encoded, whereas the delimiter used by Dream would not).

In other words, Dream is using a reserved character correctly.
Whether or not @ is the best choice for that reserved character
is a long story and probably depends on what URIs are allowed
(some use @ in the path for other things) and whether or not it
interfaces with XPath processing (which uses @ for attribute names).

....Roy




<html><pre>
Return-Path: &lt;fielding@...&gt;
X-Sender: fielding@...
X-Apparently-To: rest-discuss@yahoogroups.com
Received: (qmail 23210 invoked from network); 2 Oct 2007 23:48:15 -0000
Received: from unknown (69.147.108.202)
  by m57.grp.scd.yahoo.com with QMQP; 2 Oct 2007 23:48:15 -0000
Received: from unknown (HELO spaceymail-a4.g.dreamhost.com) (208.97.132.74)
  by mta3.grp.re1.yahoo.com with SMTP; 2 Oct 2007 23:48:15 -0000
Received: from [10.2.8.55] (wsip-70-183-62-251.oc.oc.cox.net [70.183.62.251])
	by spaceymail-a4.g.dreamhost.com (Postfix) with ESMTP id C5BFD16189E;
	Tue,  2 Oct 2007 16:48:14 -0700 (PDT)
In-Reply-To: &lt;e9dffd640710021528q6c744231obe1d5db2637bdca7@...&gt;
References: &lt;fdti9p+d5u4@...&gt; &lt;47024D3D.3050503@...&gt; &lt;470252B3.9020006@...&gt; &lt;a6a6df360710021406v6c931656j4ebbadb81728b9d8@...&gt; &lt;e9dffd640710021419k3633fa3am1c121aa258a21709@...&gt; &lt;a6a6df360710021432y62555a6brdbd6a3c70f4372de@...&gt; &lt;e9dffd640710021528q6c744231obe1d5db2637bdca7@...&gt;
Mime-Version: 1.0 (Apple Message framework v752.2)
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: &lt;BB1BDBF2-199A-408F-9DE5-74C76EBB42B8@...&gt;
Cc: &quot;Nick Gall&quot; &lt;nick.gall@...&gt;,
	&quot;Peter Lacey&quot; &lt;placey@...&gt;,
	rest-discuss@yahoogroups.com
Content-Transfer-Encoding: 7bit
Date: Tue, 2 Oct 2007 16:48:22 -0700
To: Mark Baker &lt;distobj@...&gt;
X-Mailer: Apple Mail (2.752.2)
X-eGroups-Msg-Info: 1:12:0:0:0
From: &quot;Roy T. Fielding&quot; &lt;fielding@...&gt;
Subject: Re: [rest-discuss] 30x Status codes
X-Yahoo-Group-Post: member; u=175757792; y=uV7QtJOap0iQJXn13YNlEjhVZDm5e1v9PCYTEq9O_eV-UKnfwZMl
X-Yahoo-Profile: roy_fielding

On Oct 2, 2007, at 3:28 PM, Mark Baker wrote:
&gt; On 10/2/07, Nick Gall &lt;nick.gall@...&gt; wrote:
&gt; &gt; On 10/2/07, Mark Baker &lt;distobj@...&gt; wrote:
&gt; &gt; &gt; On 10/2/07, Nick Gall &lt;nick.gall@...&gt; wrote:
&gt; &gt; &gt; &gt; Wouldn&#39;t using the Content-Location HTTP header field also be  
&gt; a &quot;good way to canonicalize your resources&quot;?
&gt; &gt; &gt;
&gt; &gt; &gt; In theory, yes. In practice in the wild, not so much.
&gt; &gt;
&gt; &gt; Agreed. But I was thinking about &quot;Web API&quot; (programmatic) use of  
&gt; HTTP
&gt; &gt; as opposed to typical browser behavior. As long as one documented
&gt; &gt; one&#39;s interface and clients used HTTP libraries with full access to
&gt; &gt; headers, then using Content-Location should be straightforward.  
&gt; Unless
&gt; &gt; intermediaries (eg caches) typically strip such headers in  
&gt; flight. Do
&gt; &gt; they?
&gt;
&gt; I believe that&#39;s what Roy said, yes.

I meant to say that origin servers sometimes don&#39;t know
what their own real URI should be due to the presence of
intermediaries that rewrite incoming requests.  And, because
those same intermediaries aren&#39;t smart enough to rewrite
responses that contain C-Location values (or simply don&#39;t know
if the origin server already did that for them), the resulting
field value is often wrong.

That could be solvable using relative values for the
location and a better description in the spec.  I am not
convinced that the 209 code is needed.  OTOH, I also heard
second-hand complaints from browser implementers that IIS is
sending bogus location values by default.

....Roy






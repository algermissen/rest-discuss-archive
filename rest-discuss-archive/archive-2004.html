<style>pre {white-space: pre-wrap;}</style>
-----------------------------------------------------------------------------------<br>
Post ID:4090<br>
Sender:Seth Johnson &lt;seth.johnson@...&gt;<br>
Post Date/Time:2004-01-03 00:58:05<br>
Subject:Re: [rest-discuss] Implementing MONITOR<br>
Message:<br><br>
<pre>
Jan Algermissen wrote:
&gt; 
&gt; Seth Johnson wrote:
&gt; &gt;
&gt; &gt; -----Original Message-----
&gt; &gt; From: Jan Algermissen &lt;jalgermissen@...&gt;
&gt; &gt; Date: Mon, 29 Dec 2003 10:30:55 +0100
&gt; &gt; Subject: Re: [rest-discuss] Implementing MONITOR
&gt; &gt;
&gt; &gt; So the monitored resource would have to only POST existing
&gt; &gt; standard "content types?"
&gt; 
&gt; Hmm...yes. what is the problem with this?  Or in other words: why
&gt; is this a problem in the case of MONITOR but not a problem for
&gt; the other methods?
&gt; 
&gt; Or am I misunderstanding your point?


Well, I think that POST is supposed to be much more flexible than that.  But
I'm not sure it matters, after all.

Seth Johnso


-- 

DRM is Theft!  We are the Stakeholders!

New Yorkers for Fair Use
http://www.nyfairuse.org

[CC] Counter-copyright: http://realmeasures.dyndns.org/cc

I reserve no rights restricting copying, modification or distribution of
this incidentally recorded communication.  Original authorship should be
attributed reasonably, but only so far as such an expectation might hold for
usual practice in ordinary social discourse to which one holds no claim of
exclusive rights.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4091<br>
Sender:"Sergio Nunes" &lt;ssn@...&gt;<br>
Post Date/Time:2004-01-03 18:49:32<br>
Subject:Help on defining a web services framework<br>
Message:<br><br>
<pre>Hi,

I'm working on a framework for student information sharing between
universities using a REST architecture. Imagine two interfaces that
the universities *may* implement:

http://university.edu/ws/list - returns a list of links to each student.
http://university.edu/ws/search - accepts a keyword and returns a list
of links to each student that contains 'keyword' in it's name.

Sample response:

&lt;students&gt;
  &lt;student link="http://university.edu/ws/student/001"/&gt;
  &lt;student link="http://university.edu/ws/student/002"/&gt;
  &lt;student link="http://university.edu/ws/student/003"/&gt;
&lt;/students&gt;

Since each university might implement neither, one or both interfaces,
I would like to define a way for each university to "say" which
interfaces they implement... something like WSDL, that would allow
automatic service discovery among universities.

Is there any standard way of doing this within the REST arch. style?

Thanks in advance.
Best regards,
Sérgio Nunes



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4092<br>
Sender:Walden Mathews &lt;waldenm@...&gt;<br>
Post Date/Time:2004-01-03 21:00:22<br>
Subject:Re: [rest-discuss] Help on defining a web services framework<br>
Message:<br><br>
<pre>You already have it below ((1) and (2)).

----- Original Message ----- 
From: "Sergio Nunes" &lt;ssn@...&gt;
To: &lt;rest-discuss@yahoogroups.com&gt;
Sent: Saturday, January 03, 2004 1:49 PM
Subject: [rest-discuss] Help on defining a web services framework


Hi,

I'm working on a framework for student information sharing between
universities using a REST architecture. Imagine two interfaces that
the universities *may* implement:

(1) http://university.edu/ws/list - returns a list of links to each student.
(2) http://university.edu/ws/search - accepts a keyword and returns a list
of links to each student that contains 'keyword' in it's name.

Sample response:

&lt;students&gt;
  &lt;student link="http://university.edu/ws/student/001"/&gt;
  &lt;student link="http://university.edu/ws/student/002"/&gt;
  &lt;student link="http://university.edu/ws/student/003"/&gt;
&lt;/students&gt;

Since each university might implement neither, one or both interfaces,
I would like to define a way for each university to "say" which
interfaces they implement... something like WSDL, that would allow
automatic service discovery among universities.

Is there any standard way of doing this within the REST arch. style?

Thanks in advance.
Best regards,
Sï¿½rgio Nunes





Yahoo! Groups Links

To visit your group on the web, go to:
 http://groups.yahoo.com/group/rest-discuss/

To unsubscribe from this group, send an email to:
 rest-discuss-unsubscribe@yahoogroups.com

Your use of Yahoo! Groups is subject to:
 http://docs.yahoo.com/info/terms/



__________ NOD32 1.590 (20040102) Information __________

This message was checked by NOD32 Antivirus System.
http://www.nod32.com



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4093<br>
Sender:"=?ISO-8859-1?Q?S=E9rgio?= Nunes" &lt;ssn@...&gt;<br>
Post Date/Time:2004-01-04 11:54:27<br>
Subject:Re: [rest-discuss] Help on defining a web services framework<br>
Message:<br><br>
<pre>Yes, but I need something that is *machine readable* so that no human intervention is needed to check which methods are already implemented in each university.

I could implement my own XML schema for this, but I'm trying to find some kind of standard in the "REST realm".

Thanks anyway,
Sérgio Nunes

&gt; You already have it below ((1) and (2)).
&gt; 
&gt; ----- Original Message ----- 
&gt; From: "Sergio Nunes" &lt;ssn@...&gt;
&gt; To: &lt;rest-discuss@yahoogroups.com&gt;
&gt; Sent: Saturday, January 03, 2004 1:49 PM
&gt; Subject: [rest-discuss] Help on defining a web services framework
&gt; 
&gt; 
&gt; Hi,
&gt; 
&gt; I'm working on a framework for student information sharing between
&gt; universities using a REST architecture. Imagine two interfaces that
&gt; the universities *may* implement:
&gt; 
&gt; (1) http://university.edu/ws/list - returns a list of links to each student.
&gt; (2) http://university.edu/ws/search - accepts a keyword and returns a list
&gt; of links to each student that contains 'keyword' in it's name.
&gt; 
&gt; Sample response:
&gt; 
&gt; &lt;students&gt;
&gt;   &lt;student link="http://university.edu/ws/student/001"/&gt;
&gt;   &lt;student link="http://university.edu/ws/student/002"/&gt;
&gt;   &lt;student link="http://university.edu/ws/student/003"/&gt;
&gt; &lt;/students&gt;
&gt; 
&gt; Since each university might implement neither, one or both interfaces,
&gt; I would like to define a way for each university to "say" which
&gt; interfaces they implement... something like WSDL, that would allow
&gt; automatic service discovery among universities.
&gt; 
&gt; Is there any standard way of doing this within the REST arch. style?
&gt; 
&gt; Thanks in advance.
&gt; Best regards,
&gt; Sérgio Nunes
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; Yahoo! Groups Links
&gt; 
&gt; To visit your group on the web, go to:
&gt;  http://groups.yahoo.com/group/rest-discuss/
&gt; 
&gt; To unsubscribe from this group, send an email to:
&gt;  rest-discuss-unsubscribe@yahoogroups.com
&gt; 
&gt; Your use of Yahoo! Groups is subject to:
&gt;  http://docs.yahoo.com/info/terms/
&gt; 
&gt; 
&gt; 
&gt; __________ NOD32 1.590 (20040102) Information __________
&gt; 
&gt; This message was checked by NOD32 Antivirus System.
&gt; http://www.nod32.com
&gt; 
&gt; 
&gt; 
&gt; 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4094<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2004-01-04 12:22:12<br>
Subject:Re: [rest-discuss] Help on defining a web services framework<br>
Message:<br><br>
<pre>REST doesn't constrain data formats in this way, but if you consider the
Semantic Web effort as a REST extension (which it's pretty close to
being), then you might want to publish a resource which returns an RDF
representation that declares which of those other two resources are
available.  Something like;

GET http://university.edu/ws/ HTTP/1.1
Accept: application/rdf+xml

which returns;

&lt;rdf:RDF xmlns:rdf="..."
         xmlns:my="..."
         xmlns:rf="http://www.markbaker.ca/2003/05/rdfforms/"&gt;
  &lt;my:StudentList rdf:about="http://university.edu/ws/list"/&gt;
  &lt;my:StudentSearch rdf:about="http://university.edu/ws/search"&gt;
    &lt;rf:indexedBy&gt;
      &lt;rf:IndexParam rf:shortName="name"&gt;
        &lt;rdf:predicate rdf:resource="http://university.edu/ws/studentName"/&gt;
      &lt;/rf:IndexParam&gt;
    &lt;/rf:indexedBy&gt;
  &lt;/my:StudentSearch&gt;
&lt;/rdf:RDF&gt;

The use of RDF Forms is just a machine processable way to declare that a
resource can be "searched" via URI/GET parameterization.

Mark.

On Sun, Jan 04, 2004 at 11:54:27AM +0000, Sï¿½rgio Nunes wrote:
&gt; Yes, but I need something that is *machine readable* so that no human intervention is needed to check which methods are already implemented in each university.
&gt; 
&gt; I could implement my own XML schema for this, but I'm trying to find some kind of standard in the "REST realm".
&gt; 
&gt; Thanks anyway,
&gt; Sï¿½rgio Nunes
&gt; 
&gt; &gt; You already have it below ((1) and (2)).
&gt; &gt; 
&gt; &gt; ----- Original Message ----- 
&gt; &gt; From: "Sergio Nunes" &lt;ssnOrunbox.com&gt;
&gt; &gt; To: &lt;rest-discussOyahoogroups.com&gt;
&gt; &gt; Sent: Saturday, January 03, 2004 1:49 PM
&gt; &gt; Subject: [rest-discuss] Help on defining a web services framework
&gt; &gt; 
&gt; &gt; 
&gt; &gt; Hi,
&gt; &gt; 
&gt; &gt; I'm working on a framework for student information sharing between
&gt; &gt; universities using a REST architecture. Imagine two interfaces that
&gt; &gt; the universities *may* implement:
&gt; &gt; 
&gt; &gt; (1) http://university.edu/ws/list - returns a list of links to each student.
&gt; &gt; (2) http://university.edu/ws/search - accepts a keyword and returns a list
&gt; &gt; of links to each student that contains 'keyword' in it's name.
&gt; &gt; 
&gt; &gt; Sample response:
&gt; &gt; 
&gt; &gt; &lt;students&gt;
&gt; &gt;   &lt;student link="http://university.edu/ws/student/001"/&gt;
&gt; &gt;   &lt;student link="http://university.edu/ws/student/002"/&gt;
&gt; &gt;   &lt;student link="http://university.edu/ws/student/003"/&gt;
&gt; &gt; &lt;/students&gt;
&gt; &gt; 
&gt; &gt; Since each university might implement neither, one or both interfaces,
&gt; &gt; I would like to define a way for each university to "say" which
&gt; &gt; interfaces they implement... something like WSDL, that would allow
&gt; &gt; automatic service discovery among universities.
&gt; &gt; 
&gt; &gt; Is there any standard way of doing this within the REST arch. style?
&gt; &gt; 
&gt; &gt; Thanks in advance.
&gt; &gt; Best regards,
&gt; &gt; Sï¿½rgio Nunes
&gt; &gt; 
&gt; &gt; 
&gt; &gt; 
&gt; &gt; 
&gt; &gt; 
&gt; &gt; Yahoo! Groups Links
&gt; &gt; 
&gt; &gt; To visit your group on the web, go to:
&gt; &gt;  http://groups.yahoo.com/group/rest-discuss/
&gt; &gt; 
&gt; &gt; To unsubscribe from this group, send an email to:
&gt; &gt;  rest-discuss-unsubscribeOyahoogroups.com
&gt; &gt; 
&gt; &gt; Your use of Yahoo! Groups is subject to:
&gt; &gt;  http://docs.yahoo.com/info/terms/
&gt; &gt; 
&gt; &gt; 
&gt; &gt; 
&gt; &gt; __________ NOD32 1.590 (20040102) Information __________
&gt; &gt; 
&gt; &gt; This message was checked by NOD32 Antivirus System.
&gt; &gt; http://www.nod32.com
&gt; &gt; 
&gt; &gt; 
&gt; &gt; 
&gt; &gt; 
&gt; 
&gt;  
&gt; 
&gt; Yahoo! Groups Links
&gt; 
&gt; To visit your group on the web, go to:
&gt;  http://groups.yahoo.com/group/rest-discuss/
&gt; 
&gt; To unsubscribe from this group, send an email to:
&gt;  rest-discuss-unsubscribeOyahoogroups.com
&gt; 
&gt; Your use of Yahoo! Groups is subject to:
&gt;  http://docs.yahoo.com/info/terms/ 
&gt; 

-- 
Mark Baker.   Ottawa, Ontario, CANADA.        http://www.markbaker.ca

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4095<br>
Sender:Vincent D Murphy &lt;vdm@...&gt;<br>
Post Date/Time:2004-01-04 21:06:06<br>
Subject:Re: [rest-discuss] Help on defining a web services framework<br>
Message:<br><br>
<pre>On 4 Jan 2004, at 12:22, Mark Baker wrote:
&gt;          xmlns:rf="http://www.markbaker.ca/2003/05/rdfforms/"&gt;

i couldn't GET that URI.  navigating from your home page i found
http://www.markbaker.ca/2003/05/RDF-Forms/ .

&gt; The use of RDF Forms is just a machine processable way to declare that 
&gt; a
&gt; resource can be "searched" via URI/GET parameterization.

i think this sentence belongs on the web page.
its easier to understand than what's there now.

-vincent


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4096<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2004-01-18 03:23:56<br>
Subject:Rohit's dissertation<br>
Message:<br><br>
<pre>http://www.ics.uci.edu/~rohit/DecentralizingREST.pdf

270 pages worth of Ph.D fodder, wow.  I figured it was 23M because it
was full of images 8-)

Mark.
-- 
Mark Baker.   Ottawa, Ontario, CANADA.        http://www.markbaker.ca

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4097<br>
Sender:"Adam Rifkin" &lt;adam@...&gt;<br>
Post Date/Time:2004-01-21 21:19:17<br>
Subject:RE: Ro Phd [rest-discuss] Digest Number 489<br>
Message:<br><br>
<pre>You've been outed...


-----Original Message-----
From:	rest-discuss@yahoogroups.com [mailto:rest-discuss@yahoogroups.com]
Sent:	Sat 1/17/2004 7:25 PM
To:	rest-discuss@yahoogroups.com
Cc:	
Subject:	[rest-discuss] Digest Number 489
There is 1 message in this issue.

Topics in this digest:

      1. Rohit's dissertation
           From: Mark Baker &lt;distobj@...&gt;


________________________________________________________________________
________________________________________________________________________

Message: 1
   Date: Sat, 17 Jan 2004 22:23:56 -0500
   From: Mark Baker &lt;distobj@acm.org&gt;
Subject: Rohit's dissertation

http://www.ics.uci.edu/~rohit/DecentralizingREST.pdf

270 pages worth of Ph.D fodder, wow.  I figured it was 23M because it
was full of images 8-)

Mark.
-- 
Mark Baker.   Ottawa, Ontario, CANADA.        http://www.markbaker.ca


________________________________________________________________________
________________________________________________________________________




------------------------------------------------------------------------
Yahoo! Groups Links

To visit your group on the web, go to:
 http://groups.yahoo.com/group/rest-discuss/

To unsubscribe from this group, send an email to:
 rest-discuss-unsubscribe@yahoogroups.com

Your use of Yahoo! Groups is subject to:
 http://docs.yahoo.com/info/terms/ 
------------------------------------------------------------------------




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4098<br>
Sender:"Donald Strong" &lt;dstrong@...&gt;<br>
Post Date/Time:2004-02-05 03:11:34<br>
Subject:Restful URIs<br>
Message:<br><br>
<pre>Hi,

Why is there a preference, within the REST community, for URIs of the form

    http://university.edu/ws/student/001

rather than this form?

    http://university.edu/ws/student?id=001

Is there a specification that mandates the former or is it simply consensus
within the group that the former is "more RESTful" than the latter?

Donald.



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4099<br>
Sender:Lucas Gonze &lt;lgonze@...&gt;<br>
Post Date/Time:2004-01-21 20:48:31<br>
Subject:standard practice for URIs<br>
Message:<br><br>
<pre>[oops, sorry Lucas, not sure how i missed this  -- M.B.]

Hey folks,

I'm having three kinds of problems implementing a RESTful browser app.

One, using POST instead of GET is sometimes impractical because of the
HTML.  POST requires a form, which is a block element, and the extra line
break is sometimes not doable for design reasons.  I can kludge my way
around that, sure, but it would require a layer of unrobust code -- either
a javascript form submit of some kind or CSS bits known to be unreliable.

Two, names for URLs.  What to call a login page?  POST to /account?  That
makes no sense.  I wonder if there are standards or best practices
evolving for URIs.

Three, the usability of HTTP authentication is not OK.  If I do
challenge/response, the user gets this scary popup dialog, without the
important links for creating a new account and recovering your password.
But if I don't use that scary dialog, I have to use a cookie for
authentication.  Neither option is good.

Any suggestions?

Thanks in advance.

- Lucas Gonze



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4100<br>
Sender:"Roy T. Fielding" &lt;fielding@...&gt;<br>
Post Date/Time:2004-02-05 05:02:48<br>
Subject:Re: [rest-discuss] Restful URIs<br>
Message:<br><br>
<pre>&gt; Why is there a preference, within the REST community, for URIs of the 
&gt; form
&gt;
&gt;     http://university.edu/ws/student/001
&gt;
&gt; rather than this form?
&gt;
&gt;     http://university.edu/ws/student?id=001
&gt;
&gt; Is there a specification that mandates the former or is it simply 
&gt; consensus
&gt; within the group that the former is "more RESTful" than the latter?

There are several reasons.  The first is simply practical: many
caches do not cache responses to requests that contain what appears
to be query information, since there is usually less of a chance
of a future hit on the same query.  Server-side caches can optimize
around that for their own common queries, but they have no way of
changing the intermediaries.

The second reason is that path is a hierarchical name space, unlike
the query.  If you are using hierarchical tools to manipulate
hierarchical spaces, it is best to avoid escaping from the hierarchy
in arbitrary ways.  A hierarchy is, after all, simply a pre-established
query with a defined order among elements.

The third reason is that there is only one query portion of a URI.
If you use it for silly reasons, then it won't be as useful for
actual queries (user-driven options).

I am sure there are other reasons -- those are just off the top of
my head.  There are also implementation-specific reasons, such as
more predefined options in Apache for handling requests in the path,
resulting in more efficient handling of blobs of data that are stored
as simple files.

....Roy


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4101<br>
Sender:Yannick Loiseau &lt;yloiseau@...&gt;<br>
Post Date/Time:2004-02-05 07:47:08<br>
Subject:Re: [rest-discuss] standard practice for URIs<br>
Message:<br><br>
<pre>[...]
&gt; Three, the usability of HTTP authentication is not OK.  If I do
&gt; challenge/response, the user gets this scary popup dialog, without the
&gt; important links for creating a new account and recovering your password.
&gt; But if I don't use that scary dialog, I have to use a cookie for
&gt; authentication.  Neither option is good.
[...]

if tour only problem is to have some links to creation and recovery, you
can put them in the 403 error page, since the user need them only if the
login fails.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4102<br>
Sender:Lucas Gonze &lt;lgonze@...&gt;<br>
Post Date/Time:2004-02-05 14:10:33<br>
Subject:Re: [rest-discuss] standard practice for URIs<br>
Message:<br><br>
<pre>
On Thursday, Feb 5, 2004, at 02:47 America/New_York, Yannick Loiseau 
wrote:

&gt; [...]
&gt; &gt; Three, the usability of HTTP authentication is not OK.  If I do
&gt; &gt; challenge/response, the user gets this scary popup dialog, without 
&gt; the
&gt; &gt; important links for creating a new account and recovering your 
&gt; password.
&gt; &gt; But if I don't use that scary dialog, I have to use a cookie for
&gt; &gt; authentication.  Neither option is good.
&gt; [...]
&gt;
&gt; if tour only problem is to have some links to creation and recovery, 
&gt; you
&gt; can put them in the 403 error page, since the user need them only if 
&gt; the
&gt; login fails.

This confounds user expectations.  Users without an account shouldn't 
be asked for their password unless they do something to indicate they 
have one.  A page with options for  ((1) logging in (2) recovering 
password (3) creating an account) matches user expectations, a 
challenge dialog with an option for entering your valid password 
doesn't.  I don't mean it matches expectations because it's the 
standard, although that's the truth.  I mean that it matches 
expectations because it matches the reality of a user's potential 
states.

Another reason is that challenge-response is fixed in the hierarchy of 
a web site.  You can't hit the challenge at /account and have the info 
still visible at /history.  However, with cookies you can login at 
/account and still have the authentication info visible at /history.  
This is a common application requirement -- a web app frequently needs 
to handle a request differently depending on whether the user is logged 
in or whether the login account has write privs.

- Lucas


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4103<br>
Sender:"Tony Butterfield" &lt;tab@...&gt;<br>
Post Date/Time:2004-02-05 14:07:57<br>
Subject:REST toolkits<br>
Message:<br><br>
<pre>There has been occasional talk for some time on this list about REST
toolkits. (Re Msg# 1418, 3094)

To summarise, what has been talked about is a REST-compliant HTTP
toolkit, but because of the limitations of todays clients, many
toolkits tend to compromise REST and make all interfaces use GET or
POST.

I would like to propose elements of a broader definition of something
to help development and deployment of REST-oriented systems. This
would include:

*) HTTP compliant but not HTTP oriented

*) equally suitable for machine-machine and machine-human(browser)

*) equally suitable acting as a client, a server, or a peer in a
network.

*) the REST paradigm could be applied internally as way of making
modular, scalable and decoupled applications, not just on the network
interface.

*) although REST doesn't dictate the use of XML, accept that XML is
the defacto-standard universal data syntax and use it for all
meta-data and as as the lingua-franca between all other
representations.

-- 
Tony Butterfield &lt;tab@...&gt;
1060 Research



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4104<br>
Sender:Yannick Loiseau &lt;yloiseau@...&gt;<br>
Post Date/Time:2004-02-05 14:29:17<br>
Subject:[Fwd: Re: [rest-discuss] standard practice for URIs]<br>
Message:<br><br>
<pre>

Le jeu 05/02/2004 ï¿½ 15:10, Lucas Gonze a ï¿½crit :
&gt; On Thursday, Feb 5, 2004, at 02:47 America/New_York, Yannick Loiseau 
&gt; wrote:
&gt; 
&gt; &gt; [...]
&gt; &gt; &gt; Three, the usability of HTTP authentication is not OK.  If I do
&gt; &gt; &gt; challenge/response, the user gets this scary popup dialog, without 
&gt; &gt; the
&gt; &gt; &gt; important links for creating a new account and recovering your 
&gt; &gt; password.
&gt; &gt; &gt; But if I don't use that scary dialog, I have to use a cookie for
&gt; &gt; &gt; authentication.  Neither option is good.
&gt; &gt; [...]
&gt; &gt;
&gt; &gt; if tour only problem is to have some links to creation and recovery, 
&gt; &gt; you
&gt; &gt; can put them in the 403 error page, since the user need them only if 
&gt; &gt; the
&gt; &gt; login fails.
&gt; 
&gt; This confounds user expectations.  Users without an account shouldn't 
&gt; be asked for their password unless they do something to indicate they 
&gt; have one.  A page with options for  ((1) logging in (2) recovering 
&gt; password (3) creating an account) matches user expectations, a 
&gt; challenge dialog with an option for entering your valid password 
&gt; doesn't.  I don't mean it matches expectations because it's the 
&gt; standard, although that's the truth.  I mean that it matches 
&gt; expectations because it matches the reality of a user's potential 
&gt; states.

you can still create a default page with the 3 links, and add the
recovering link to the error page. That is not an architectural problem,
it's just GUI design

&gt; Another reason is that challenge-response is fixed in the hierarchy of 
&gt; a web site.  You can't hit the challenge at /account and have the info 
&gt; still visible at /history.  However, with cookies you can login at 
&gt; /account and still have the authentication info visible at /history.  
&gt; This is a common application requirement -- a web app frequently needs 
&gt; to handle a request differently depending on whether the user is logged 
&gt; in or whether the login account has write privs.

the virtual hierarchy implied by the uris deosn't have to be a real
folder/file hierarchy. For ex., your service root can be a cgi,
mod_(php/perl/python) script, etc. taking its arguments from the rest of
the url...

all the authentication process (whereever you are in the hierarchy) is
managed by the service, which can decide wether the access can be
granted or not. as an example, imagine a webmail/news service.
the service is at / and it require a passwd for /mail but not for /news
/mail/&lt;user&gt;/&lt;box&gt; return the content of the box, but the folder doesn't
exist as a subfolder of /mail (the script can query a imap server,
forwarding the user/password)
As long as the client sends the authentication headers, the
authentication is visible from everywhere...




&gt; - Lucas
&gt; 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4105<br>
Sender:Lucas Gonze &lt;lgonze@...&gt;<br>
Post Date/Time:2004-02-05 14:28:39<br>
Subject:Re: standard practice for URIs<br>
Message:<br><br>
<pre>On Thursday, Feb 5, 2004, at 04:08 America/New_York, sem_antico wrote:
&gt; FORM is only a block element in the default browser CSS - why not
&gt; change it to inline in your CSS?
...
&gt; I'd suggest that netscape 4.7 user should just live with a small
&gt; graphic design glitch rather than ruining the architecture of your
&gt; application.

Problems with the CSS to make a form element act like an inline element 
are a lot more widespread than Netscape 4.7.  Of course it is possible 
to work around all those problems, but the CSS is elaborate enough to 
create more work than this is worth.  What makes the CSS elaborate is 
browser bugs.  Avoiding or working around the browser bugs requires 
coding and debugging for each major browser, which means browser 
detection and which requires a person skilled in browser bugs.   My 
application would be more complex, more expensive to develop, and less 
robust.

&gt;&gt; Three, the usability of HTTP authentication is not OK.  If I do
&gt;&gt; challenge/response, the user gets this scary popup dialog, without the
&gt;&gt; important links for creating a new account and recovering your 
&gt;&gt; password.
&gt;
&gt; This is not a problem with HTTP authentication per se, but it is a
&gt; problem with the lack of control over the UI that the available HTTP
&gt; user agents present. If we could get the user agents fixed then a lot
&gt; more folks would happily use HTTP authentication.

That is the right analysis.  Unfortunately not useful right now.

Here is an interesting page on the problem:
http://fishbowl.pastiche.org/2003/12/30/saving_http_authentication

- Lucas Gonze


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4106<br>
Sender:Josh Sled &lt;jsled-yahoogroup@...&gt;<br>
Post Date/Time:2004-02-05 14:46:06<br>
Subject:Re: [rest-discuss] Help on defining a web services framework<br>
Message:<br><br>
<pre>On Sat, Jan 03, 2004 at 06:49:32PM -0000, Sergio Nunes wrote:

| I'm working on a framework for student information sharing between
| universities using a REST architecture. Imagine two interfaces that
| the universities *may* implement:
| 
| http://university.edu/ws/list - returns a list of links to each student.
| http://university.edu/ws/search - accepts a keyword and returns a list
| of links to each student that contains 'keyword' in it's name.

FWIW, might I propose the following...

list: students/ - a container of all students.
search: students?keywordName=keywordValue[&amp;keywordName1=keywordValue1[&amp;...]]

That is ... you don't really need 'list' and 'search' there.  Searches
are queries are '?', and list is just a different type of resource that
contains things.

The semantics might be easier for others to understand with "list" and
"search" there [until "list" changes], but you're looking to solve the
real problem there anyways, below...

| Since each university might implement neither, one or both interfaces,
| I would like to define a way for each university to "say" which
| interfaces they implement... something like WSDL, that would allow
| automatic service discovery among universities.
| 
| Is there any standard way of doing this within the REST arch. style?

Yes: define a way to provide a semantic binding to automate things.
RDFForms is a way to do that.  Some new/ad-hoc way might be good, too.
The arch. style can't really specify such things.


What are you looking to automate?

If you're thinking about WSDL, it may be things like automagically
creating a YourFavoriteLanguage interface to call methods on a remote
functional-endpoint space [even a document-based RESTful one].  If you're
really looking for ease of making that first spike through to the remote
system, I'd suggest doing this.


An issue, here, is that WSDL doesn't spec a "full" HTTP binding -- only
GET/POST.  I've been thinking that the spec doesn't matter so much as the
deployed clients, here, and Apache's WS efforts could be extended with a
de-facto full binding.  Thus, WSDL could still be used to specify and create
prog-language-descriptions for an on-the-wire full-HTTP, RESTful interface.


But I've also thought that the WSDL people are trying to automate the
easy part of the problem -- creating a specific language interface and
calling stubs.  The hard parts are still hard -- the full discovery and
semantic-binding of the interfaces ... what I need to know to write an
actual program around those calling stubs to get real work done ... real
descriptions of the format and nature of the data-types involved, &amp;c.
But now there's this big spec and tool in place that doesn't really solve
it much better than something like javadoc or HTML.

...jsled

-- 
http://www.asynchronous.org - `a=jsled; b=asynchronous.org; echo ${a}@${b}`

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4107<br>
Sender:Josh Sled &lt;jsled-yahoogroup@...&gt;<br>
Post Date/Time:2004-02-05 15:15:22<br>
Subject:Re: [rest-discuss] Restful URIs<br>
Message:<br><br>
<pre>On Wed, Feb 04, 2004 at 09:02:48PM -0800, Roy T. Fielding wrote:

| &gt; Why is there a preference, within the REST community, for URIs of the 
| &gt; form
| &gt;
| &gt;     http://university.edu/ws/student/001
| &gt;
| &gt; rather than this form?
| &gt;
| &gt;     http://university.edu/ws/student?id=001
| &gt;
| &gt; Is there a specification that mandates the former or is it simply 
| &gt; consensus
| &gt; within the group that the former is "more RESTful" than the latter?

The former identify resources.  The latter query resource-spaces.

Passive, actionable identification is more useful than required queries.

| The second reason is that path is a hierarchical name space, unlike
| the query.  If you are using hierarchical tools to manipulate
| hierarchical spaces, it is best to avoid escaping from the hierarchy
| in arbitrary ways.  A hierarchy is, after all, simply a pre-established
| query with a defined order among elements.

I've done something like...

/ws/student/jsled
  - something identifying the resource of the Eternal Student me.

/ws/student?emailId=jsled-nospam@...
  - which returns a [0,1] list which matches the element, and could
    conceivably return a redirection response [3xx in http].

I like the queries as exactly that ... queries.  I don't see a problem
with a query for the resource by ID, but I don't think the query is a
"good" identifier for the resource itself.  Probably specifically because
of that "[0,1]" part ... if it returns 0, what is the URI identifying?


Also, consider an implementation binding ["HTTP++"] that had a QUERY
operator with a body.  Your use of URI now becomes a {uri, body} tuple,
which is going to be cumbersome ... especially if you're going to use RDF.

| The third reason is that there is only one query portion of a URI.
| If you use it for silly reasons, then it won't be as useful for
| actual queries (user-driven options).

Indeed.  Especially since of certain limitations of the query-param space,
you could end up with -- at the least confusing -- parameter-aliasing
issues to get different slices of information.  If students have an
home-address-id, you might end up with something like...

/ws/student?id=001&amp;otherid=002

... in which case you need to define an order of sub-query execution,
which sucks.

...jsled

-- 
http://www.asynchronous.org - `a=jsled; b=asynchronous.org; echo ${a}@${b}`

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4108<br>
Sender:Yannick Loiseau &lt;yloiseau@...&gt;<br>
Post Date/Time:2004-02-05 15:56:50<br>
Subject:Re: [rest-discuss] standard practice for URIs<br>
Message:<br><br>
<pre>
&gt; That's orthogonal.  The problem I'm describing is that users would have 
&gt; to authenticate at the root of the visible hierarchy, so that pages 
&gt; which are still accessible but which look different can know the auth 
&gt; info.  For pages where authentication is optional that makes no sense.

this is a different problem that has already benn discussed here. If the
pasge is accessible to everybody, but look different for each user, this
is not an authentication problem, but a personnalisation or
customization, which is not the purpose of http auth.




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4109<br>
Sender:Lucas Gonze &lt;lgonze@...&gt;<br>
Post Date/Time:2004-02-05 16:26:57<br>
Subject:Re: [rest-discuss] standard practice for URIs<br>
Message:<br><br>
<pre>I said:
&gt;&gt; That's orthogonal.  The problem I'm describing is that users would 
&gt;&gt; have
&gt;&gt; to authenticate at the root of the visible hierarchy, so that pages
&gt;&gt; which are still accessible but which look different can know the auth
&gt;&gt; info.  For pages where authentication is optional that makes no sense.
&gt;

On Thursday, Feb 5, 2004, at 10:56 America/New_York, Yannick Loiseau 
wrote:
&gt; this is a different problem that has already benn discussed here. If 
&gt; the
&gt; pasge is accessible to everybody, but look different for each user, 
&gt; this
&gt; is not an authentication problem, but a personnalisation or
&gt; customization, which is not the purpose of http auth.

So let's say there are two different application requirements, 
authentication for the purpose of customization and authentication for 
the purpose of access control.  Customization determines whether I show 
the "edit" button.  Access control determines whether I I accept a POST 
to a particular resource.  Are you suggesting that I should have the 
user sign in twice?

- Lucas



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4110<br>
Sender:"Laurian Gridinoc" &lt;laur@...&gt;<br>
Post Date/Time:2004-02-05 22:09:23<br>
Subject:Re: [rest-discuss] Restful URIs<br>
Message:<br><br>
<pre>Hello,

I have a similar question regarding the using of hierarchy over queries  
when 'switching' languages.

Example:
I have a resource with 2 language representations, english and romanian.
I rely on HTTP language negotiation but sometimes the user might want to  
choose the representation via a link - how can I address a specific  
representation?
I usually choose queries, in the idea that the resource should have only  
one URI assigned to it, and the user might query its space.

http://example.tld/path2resource?language=RO

I saw sites that use language codes in the path, mostly at root:

http://example.tld/RO/path2resource

But then I have 2 different URIs for the same resource, also if I have  
this construct:

http://example.tld/path2resource/EN/
(I might run into problems in resolving relative URIs here)

I know that URIs are compared character by character, including the query  
string; and even with queries I have different URIs for the same resource,  
but with queries I get more of the feeling of one URI...

Using a cookie for storing preferences (for additional info when  
negotiating) and not for keeping a session can be considered RESTful?

Then I can have the query return a redirect back to the resource URI while  
setting a cookie with the language preference which will override  
accept-language header.

Which would be the correct approach?

Thank you,
--
Laurian Gridinoc
Chief Developer
GRAPEFRUIT DESIGN
www.grapefruitdesign.com


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4111<br>
Sender:Vincent D Murphy &lt;vdm@...&gt;<br>
Post Date/Time:2004-02-06 13:09:53<br>
Subject:Re: [rest-discuss] Restful URIs<br>
Message:<br><br>
<pre>On 5 Feb 2004, at 15:15, Josh Sled wrote:
&gt; Also, consider an implementation binding ["HTTP++"] that had a QUERY
&gt; operator with a body.  Your use of URI now becomes a {uri, body} tuple,
&gt; which is going to be cumbersome ... especially if you're going to use 
&gt; RDF.

i thought of the same thing before, for verbose queries, but i didn't
think you would need a separate method.

the body for GET isn't used now, so why not put it there?  semantics
would be something like "if the GET has an entity body, use it as a
representation of a query".


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4112<br>
Sender:Vincent D Murphy &lt;vdm@...&gt;<br>
Post Date/Time:2004-02-06 13:43:38<br>
Subject:XML as a universal data syntax?<br>
Message:<br><br>
<pre>On 5 Feb 2004, at 14:07, Tony Butterfield wrote:
&gt; *) although REST doesn't dictate the use of XML, accept that XML is
&gt; the defacto-standard universal data syntax and use it for all
&gt; meta-data and as as the lingua-franca between all other
&gt; representations.

A lot of CSV and packed binary data files may beg to differ.
I would rather see these files used as-is as representations
on the web rather than drag them kicking and screaming through
an XML conversion just for the sake of 'updating their syntax'.

While I acknowledge that XML is useful to a lot of systems,
it is also a rather complex beast to work with.  I think the
collective experience with RSS feeds (just to cite an example
I am familiar with) shows that many software and content
authors still have trouble with basic interoperability issues
like character encoding and entity escaping.

I would not be comfortable calling this a universal data syntax.
I still wonder whether such a syntax exists.  Perhaps if it does
indeed exist, we can do better than XML in a decade or two.
I sure hope so, but even if we did, we would have oceans of data
in XML files by then, so we would still need the ability to
accommodate representations with different syntaxes within our
architecture.

I don't think there is a need to couple REST to representations
that use XML as a language syntax.  I regard the fact that REST
doesn't dictate any particular representation syntax as a feature.

What benefits would standardising on a single syntax bring?

PS kudos on netkernel; very nice piece of work.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4113<br>
Sender:Tony Butterfield &lt;tab@...&gt;<br>
Post Date/Time:2004-02-06 14:41:35<br>
Subject:Re: XML as a universal data syntax?<br>
Message:<br><br>
<pre>On Fri, 2004-02-06 at 13:43, Vincent D Murphy wrote:
&gt; On 5 Feb 2004, at 14:07, Tony Butterfield wrote:
&gt; &gt; *) although REST doesn't dictate the use of XML, accept that XML is
&gt; &gt; the defacto-standard universal data syntax and use it for all
&gt; &gt; meta-data and as as the lingua-franca between all other
&gt; &gt; representations.
&gt; 
&gt; A lot of CSV and packed binary data files may beg to differ.
&gt; I would rather see these files used as-is as representations
&gt; on the web rather than drag them kicking and screaming through
&gt; an XML conversion just for the sake of 'updating their syntax'.

I completely agree with what you are saying. What I meant was that when
it comes to manipulating disparate data formats, having a bi-directional
conversion between it and a common data syntax can be quite handy.
Obviously this is impractical for data like an MPEG stream but it works
for simple things like CSV, cookies, URI query strings, exception
stacks, primitive types to name a few that I have used.

&gt; 
&gt; While I acknowledge that XML is useful to a lot of systems,
&gt; it is also a rather complex beast to work with.  I think the
&gt; collective experience with RSS feeds (just to cite an example
&gt; I am familiar with) shows that many software and content
&gt; authors still have trouble with basic interoperability issues
&gt; like character encoding and entity escaping.

Yes, I agree. XML does have complex corners. Some say it is carrying a
bit too much baggage with it. But on the plus side it is flexible enough
for the job and it has been widespread adoption.
&gt; 
&gt; I would not be comfortable calling this a universal data syntax.
&gt; I still wonder whether such a syntax exists.  Perhaps if it does
&gt; indeed exist, we can do better than XML in a decade or two.
&gt; I sure hope so, but even if we did, we would have oceans of data
&gt; in XML files by then, so we would still need the ability to
&gt; accommodate representations with different syntaxes within our
&gt; architecture.

XML is the closest thing we have today in terms of adoption and
flexibility. But exactly, the ability to accommodate representations
with different syntaxes is essential- both to be future proof and to
accommodate what we have today.
&gt; 
&gt; I don't think there is a need to couple REST to representations
&gt; that use XML as a language syntax.  I regard the fact that REST
&gt; doesn't dictate any particular representation syntax as a feature.
&gt; 
&gt; What benefits would standardising on a single syntax bring?

I don't think there is need to couple REST to XML either. But I think
that pragmatically, given what I believe about XML, good support for XML
in a REST toolkit is, if not essential, then extremely useful. 

-- 
Tony Butterfield &lt;tab@...&gt;
1060 Research


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4114<br>
Sender:Josh Sled &lt;jsled-yahoogroup@...&gt;<br>
Post Date/Time:2004-02-06 15:15:46<br>
Subject:Re: [rest-discuss] REST toolkits<br>
Message:<br><br>
<pre>On Thu, Feb 05, 2004 at 02:07:57PM -0000, Tony Butterfield wrote:

| To summarise, what has been talked about is a REST-compliant HTTP
| toolkit, but because of the limitations of todays clients, many
| toolkits tend to compromise REST and make all interfaces use GET or
| POST.

True, though the clients can be fixed.  And programmatic clients
[httpclient, &amp;c.] support the full HTTP method range.

One problem is that it's hard to jump from "architectural style" to
"implementation support"... there's a step or two in the middle that
makes the implementation hard.  I think the point of such a toolkit is
to make good decisions about a lot of those things, leading the person
quickly and simply from the style to a working/functional impl that is
entailed by the constraints of the style.

| I would like to propose elements of a broader definition of something
| to help development and deployment of REST-oriented systems. This
| would include:
| 
| *) HTTP compliant but not HTTP oriented

Why not?  HTTP is pretty good for a lot of what one would want to do.
I'd say start with HTTP and move forward after getting something going.

| *) equally suitable for machine-machine and machine-human(browser)

Hmm... I'd agree, but would tend to focus just a bit more on
machine-machine -- like 51/49 -- for a couple of reasons...

Humans are really good at glossing over details and repetition that
machines require in order to function correctly.

At the same time, a too-complex exchange may be perfectly understandable
and well-specified for a machine, but inscrutable for a human.

It's like the ad-hoc XML vs. RDF issue ... RDF[/XML] can look really
close to XML, but is well-specified enough for machines to "deal".
Random ad-hoc XML may convey the same content to a human, but leaves a
machine in an ambiguous state.  At the end of the day, it's machines
that are going to be connecting and doing things, though during
discovery/development/debugging/maintenance, it's all about humans.

| *) equally suitable acting as a client, a server, or a peer in a
| network.

The REST style is primarily C/S ... I think of peer-relationships as just
a quickly-flip-flopping C/S, sometimes, but may very well be wrong.

| *) the REST paradigm could be applied internally as way of making
| modular, scalable and decoupled applications, not just on the network
| interface.

This is true, with the obvious challenge being performance.  Super-lacking
client support for pipelining is one issue, though there is also an inherent
issue with batching that I've not found a good RESTful solution for.

If you assume a RESTful and network-based interface, there's no reason why
an on-the-same-machine or in-process communication should necessarily use
HTTP instead of a native message-formatting and transport.  The important
thing is the message-formating and description, I think.

| *) although REST doesn't dictate the use of XML, accept that XML is
| the defacto-standard universal data syntax and use it for all
| meta-data and as as the lingua-franca between all other
| representations.

Unless it's not appropriate [as per the followon thread].

And, personally, I'd try to make it easy to exchange RDF/XML instead of
just XML, for many reasons.



So what would such a toolkit look like?

Let's start with a simple use-case to engender discussion...

Alice provides an Image-Processing web service, with a RESTful interface.
Bob wants to connect to and use that service before lunch. The service is
pretty simple: given an image and list of transformations, it returns the
transformed image [plus some other things it determines along the way].
Ideally, Bob would like to sit down an write:

-----
Image img = // ...;
TransformList xformList = // ...;
ImageProcessing imgSvc = ImageProcessing.getInstance();

Image newImage = imgSvc.processImage( img, xformList );
display( newImage );
-----

* What parts of this can the toolkit help with or make simple?
* What [information, description, &amp;c.] is required to use it?
* Why _wouldn't_ Bob use it?


I guess I realize after I type this up that there may be two really different
goals here, between building a toolkit focused on:

1/ human-machine -- a toolkit for building RESTful, human-focused web sites.

2/ machine-machine -- a toolkit for building RESTful,
   developer-/code-focused web services.

Which toolkit do you want to build?  I'm looking for the latter.
I don't think they're entirely seperate, actually, but it's good to know
where we stand. :)

...jsled

-- 
http://www.asynchronous.org - `a=jsled; b=asynchronous.org; echo ${a}@${b}`

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4115<br>
Sender:Mark Thompson &lt;lists@...&gt;<br>
Post Date/Time:2004-02-06 15:26:42<br>
Subject:Re: [rest-discuss] Restful URIs<br>
Message:<br><br>
<pre>(REST newbie - so I apologise if I say something out of line)

On Feb 05, 2004, at 22:09, Laurian Gridinoc wrote:
&gt;
&gt; http://example.tld/path2resource?language=RO
&gt; http://example.tld/RO/path2resource
&gt; http://example.tld/path2resource/EN/
&gt;
&gt; Which would be the correct approach?

Is there not a case for employing path parameterisation here? (à la 
RFCs 1808 and 2396, etc.)

To me, aspects such as language choice is not a query, it's a 
parameter, and as such I would consider the following to be an 
appropriate URI:

http://example.tld/path/to/resource;lang=en

or, to use a couple of more specific examples:

http://example.tld/publications;lang=en/2004/02/naming
http://example.tld/superbowl/reports;lang=fr/semi-finals

This approach also holds for resources where the nature of the 
formatting of the resource cannot be sufficiently specified by an 
Accept: header (e.g. I want text/html, but actually I want a two-column 
match report and not the default fat-paragraph form - again, not a 
query, but a parameter):

http://example.tld/superbowl/reports;lang=fr/semi-finals;format=flow
http://example.tld/superbowl/reports;lang=fr/semi-finals;format=2col


.. or is path parameterisation Considered Harmful?


Mark/

--
http://purl.org/net/stripes



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4116<br>
Sender:"S. Alexander Jacobson" &lt;alex@...&gt;<br>
Post Date/Time:2004-02-06 22:00:08<br>
Subject:Re: [rest-discuss] RDF Forms<br>
Message:<br><br>
<pre>Revisiting this topic (because I have a current need)...

A common goal of software architecture is to
separate logic from presentation (model from
view).

Modern browsers facilitate this separation for web
apps by accepting raw XML from web servers and
applying the XSLT stylesheets designated in the
PIs to generate HTML on the client.  As a result,
server developers can focus on generating correct
data and client developers can focus on presenting
this data to the user in optimal fashion.  The
client/server contract is defined by the
DTD/Schema for the XML.

In this world, the XSLT developer should be
completely ignorant of server architecture,
depending entirely on the content of the generated
XML to construct HTML pages.  In particular, the
XML should supply both href and action attribute
values.  It should also supply the information for
the XSLT developer to construct HTML forms to
query/post to those action resources.

The problem is we need to choose a way to present
that information.  My suggestion is to use relaxNG
in the following manner:

 &lt;form action="url" method="POST" src="schema.rng"/&gt;

Or the relax schema can be the content of the form element.

Note: relaxNG is superior to DTDs in this context
because the XSLT can process it directly.  I
prefer it to XML schema because it is simpler.

An issue w/ using an XML specification language
here is that you need to use javascript to get
browsers to POST XML and perhaps you don't want to
pass XML in query strings.  The question is
whether these issues loom so large that it is
worth the complexity of Yet Another Forms
Spefication System (RDF-Forms, WIDL, X-Forms,
etc).

I'd rather just have the server automatically
interpret a name/value posting as
&lt;POST&gt;&lt;name&gt;value&lt;/name&gt;&lt;name2&gt;value&lt;/name&gt;&lt;/POST&gt;
etc.  And have the schema/dtd specify which
names are valid in what combination and number.
Or use javascript on the client to do better.

Thoughts?

-Alex-


_________________________________________________________________
S. Alexander Jacobson                  mailto:me@...
tel:917-770-6565                       http://alexjacobson.com





On Wed, 10 Sep 2003, Mark Baker wrote:

&gt; I'd appreciate comments on this, which is basically a way of
&gt; communicating what HTML forms does, with RDF, and with some RESTy
&gt; self-description voodoo (that may very well be overkill).
&gt;
&gt; http://www.markbaker.ca/2003/05/RDF-Forms/
&gt;
&gt; You might recognize parts of it from RestRDF, and my HTTP resource
&gt; state model.
&gt;
&gt; Mark.
&gt; --
&gt; Mark Baker.   Ottawa, Ontario, CANADA.        http://www.markbaker.ca
&gt;
&gt;
&gt; To unsubscribe from this group, send an email to:
&gt; rest-discuss-unsubscribe@yahoogroups.com
&gt;
&gt;
&gt;
&gt; Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4117<br>
Sender:"Justin Sampson" &lt;justin.sampson@...&gt;<br>
Post Date/Time:2004-02-06 22:40:13<br>
Subject:RE: [rest-discuss] Restful URIs<br>
Message:<br><br>
<pre>Laurian Gridinoc wrote:

&gt; Example:
&gt;
&gt; I have a resource with 2 language representations, english and
&gt; romanian. I rely on HTTP language negotiation but sometimes the
&gt; user might want to  choose the representation via a link - how
&gt; can I address a specific representation? I usually choose
&gt; queries, in the idea that the resource should have only one URI
&gt; assigned to it, and the user might query its space.

The notion that we're talking about only one resource here
doesn't make any sense to me. These are two different
human-language translations of some document, which sure feel
like different resources to me.

By the way, I feel the same about different "representations"
like a JPEG version and a PNG version of some image. I just want
to use &lt;.../foo.jpeg&gt; and &lt;.../foo.png&gt;. Returning different
representations from a GET based on anything in the request other
than the URI makes me feel very uneasy.

&gt; http://example.tld/path2resource?language=RO
&gt; [...]
&gt; http://example.tld/RO/path2resource
&gt; [...]
&gt; http://example.tld/path2resource/EN/
&gt; [...]

The middle one is my favorite so that relative URIs work between
all the resources in a particular language.

&gt; I know that URIs are compared character by character, including
&gt; the query string; and even with queries I have different URIs
&gt; for the same resource, but with queries I get more of the
&gt; feeling of one URI...

Bah, humbug. They're different URIs, period.

&gt; Using a cookie for storing preferences (for additional info
&gt; when negotiating) and not for keeping a session can be
&gt; considered RESTful?

No. Putting authentication information in various headers is okay
because (and only if) it is used not to produce different
representations but to determine whether any representation
should be returned at all. As I said above, returning different
representations from a GET based on anything in the request other
than the URI makes me feel very uneasy, whereas returning 40x
responses based on something in the request other than the URI is
fine.

&gt; Which would be the correct approach?

Now that, I don't know.

Justin

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4118<br>
Sender:Jeff Bone &lt;jbone@...&gt;<br>
Post Date/Time:2004-02-06 22:59:02<br>
Subject:Re: [rest-discuss] Restful URIs<br>
Message:<br><br>
<pre>
On Feb 6, 2004, at 4:40 PM, Justin Sampson wrote:

&gt; Laurian Gridinoc wrote:
&gt;
&gt;&gt; Example:
&gt;&gt;
&gt;&gt; I have a resource with 2 language representations, english and
&gt;&gt; romanian. I rely on HTTP language negotiation but sometimes the
&gt;&gt; user might want to  choose the representation via a link - how
&gt;&gt; can I address a specific representation? I usually choose
&gt;&gt; queries, in the idea that the resource should have only one URI
&gt;&gt; assigned to it, and the user might query its space.
&gt;
&gt; The notion that we're talking about only one resource here
&gt; doesn't make any sense to me. These are two different
&gt; human-language translations of some document, which sure feel
&gt; like different resources to me.

Ah, glasshoppah...

--

Manjusri Enters the Gate

One day as Manjusri stood outside the gate, the Buddha called to him, 
"Manjusri, Manjusri, why do you not enter?" Manjusri replied, "I do not 
see myself as outside. Why enter?"

--

They are the same resource because they are the same *information.*  
The two are separate *representations* of the same abstract *resource* 
--- and the resource itself is the thing named by the URI.

If this isn't clear, imagine this:  what if you had some magic piece of 
software which translated documents in any natural language to any 
other natural language on the fly.  What would you call the 
translations themselves vs. the information they contained?  The 
translations are representations.  The information itself is the 
resource.

Similarly:  a novel in five different languages is still the same 
*novel.*  Five different printings of that novel --- same or different 
languages --- are different *books.*  When I speak of "Beggars in 
Spain" by Nancy Kress, I'm talking about what she wrote --- not my copy 
of it on my bookshelf.

Hope that's helpful, cheers.

jb



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4119<br>
Sender:"Justin Sampson" &lt;justin.sampson@...&gt;<br>
Post Date/Time:2004-02-06 23:48:57<br>
Subject:RE: [rest-discuss] Restful URIs<br>
Message:<br><br>
<pre>Jeff Bone wrote:

&gt; On Feb 6, 2004, at 4:40 PM, Justin Sampson wrote:
&gt;
&gt; &gt; The notion that we're talking about only one resource here
&gt; &gt; doesn't make any sense to me. These are two different
&gt; &gt; human-language translations of some document, which sure feel
&gt; &gt; like different resources to me.
&gt;
&gt; Ah, glasshoppah...

Ah, holier-than-thou...

&gt; They are the same resource because they are the same
&gt; *information.* The two are separate *representations* of the
&gt; same abstract *resource* --- and the resource itself is the
&gt; thing named by the URI.

No, they're not the same information. The translator has added
various interpretational decisions based on the appropriate
cultural contexts. The various documents may even need to relate
to each other in different ways.

&gt; If this isn't clear, imagine this: what if you had some magic
&gt; piece of software which translated documents in any natural
&gt; language to any other natural language on the fly. What would
&gt; you call the translations themselves vs. the information they
&gt; contained? The translations are representations. The
&gt; information itself is the resource.

The URI doesn't say how something is generated; different URI may
be served up from different files or dynamically generated in
various ways.

&gt; Similarly: a novel in five different languages is still the
&gt; same *novel.* Five different printings of that novel --- same
&gt; or different languages --- are different *books.* When I speak
&gt; of "Beggars in Spain" by Nancy Kress, I'm talking about what
&gt; she wrote --- not my copy of it on my bookshelf.

I can still choose from the crappy electronic translation, the
poetic Shakespearean translation, the contemporary readable
translation, etc. What the original author wrote is one thing;
any particular translation of it is quite another. The question
is not whether they are the same "novel", but whether it is
useful and desireable to return representations of all of them
from GETs on a single URI.

Justin

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4120<br>
Sender:Vincent D Murphy &lt;vdm@...&gt;<br>
Post Date/Time:2004-02-06 23:56:49<br>
Subject:Re: [rest-discuss] Restful URIs<br>
Message:<br><br>
<pre>On 6 Feb 2004, at 23:48, Justin Sampson wrote:
&gt; No, they're not the same information. The translator has added
&gt; various interpretational decisions based on the appropriate
&gt; cultural contexts. The various documents may even need to relate
&gt; to each other in different ways.

i think a representation can be a resource itself, and also be
a representation of another resource.  i haven't seen anything
to suggest otherwise (in theory) since i've started RESTing.

so in this example, the translation is a representation of
the novel, but is also a resource in its own right.  or
maybe the translation is just a resource which has a
'translation_of' relationship with the novel (dare i mention
RDF?).

but the key point is that the boundary between resource and
representation is in the eye of the beholder.  there are no hard
and fast rules to distinguish between the two.

&gt; The question
&gt; is not whether they are the same "novel", but whether it is
&gt; useful and desireable to return representations of all of them
&gt; from GETs on a single URI.

quite.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4121<br>
Sender:Josh Sled &lt;jsled-yahoogroup@...&gt;<br>
Post Date/Time:2004-02-07 00:47:30<br>
Subject:Re: [rest-discuss] Restful URIs<br>
Message:<br><br>
<pre>On Fri, Feb 06, 2004 at 11:56:49PM +0000, Vincent D Murphy wrote:

| On 6 Feb 2004, at 23:48, Justin Sampson wrote:
| &gt; No, they're not the same information. The translator has added
| &gt; various interpretational decisions based on the appropriate
| &gt; cultural contexts. The various documents may even need to relate
| &gt; to each other in different ways.
| 
| i think a representation can be a resource itself, and also be
| a representation of another resource.  i haven't seen anything
| to suggest otherwise (in theory) since i've started RESTing.
| 
| so in this example, the translation is a representation of
| the novel, but is also a resource in its own right.  or
| maybe the translation is just a resource which has a
| 'translation_of' relationship with the novel (dare i mention
| RDF?).

Yeah, it seems pretty useful to have these representations
translations be distinct [though related] URIs.

[please excuse the syntax mangling, below:]

/book
/es/book
/ru/book

&lt;/book&gt;     &lt;dc:author&gt; &lt;[author info]&gt;

&lt;/en/book/&gt; &lt;eg:translationOf&gt; &lt;/book&gt;
&lt;/en/book/&gt; &lt;eg:translator&gt; &lt;[en-translator uri]&gt;
&lt;/en/book/&gt; &lt;dc:language&gt; "en-US"

&lt;/ru/book/&gt; &lt;eg:translationOf&gt; &lt;/book&gt;
&lt;/ru/book/&gt; &lt;eg:translator&gt; &lt;[ru-translator uri]&gt;
&lt;/ru/book/&gt; &lt;dc:language&gt; "ru"

&lt;http://otherserver/book_es_translation.html&gt; &lt;eg:translationOf&gt; &lt;/book&gt;
&lt;http://otherserver/book_es_translation.html&gt; &lt;eg:translator&gt; &lt;[es-translator uri]&gt;
&lt;http://otherserver/book_es_translation.html&gt; &lt;dc:language&gt; "es"

If your particular application can allow an inference that translationsOf
resources are as good as the resource, then you can do so...

| &gt; The question
| &gt; is not whether they are the same "novel", but whether it is
| &gt; useful and desireable to return representations of all of them
| &gt; from GETs on a single URI.
| 
| quite.

Do both.  Allow language-negotiation of any of the URIs do a redirect to
the appropriate representation URI.

...jsled

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4122<br>
Sender:Vincent D Murphy &lt;vdm@...&gt;<br>
Post Date/Time:2004-02-07 01:01:01<br>
Subject:Re: [rest-discuss] Restful URIs<br>
Message:<br><br>
<pre>On 7 Feb 2004, at 00:47, Josh Sled wrote:
&gt; [please excuse the syntax mangling, below:]

domain experts in the languages/translation communities could
come up with the proper vocabulary/ontology for this.

(the first issue i see is that you should be able to say what
language the 'original work' was written in, and distinguish
between the original work and translations thereof.  but let's
not get sidetracked..)

&gt; Do both.  Allow language-negotiation of any of the URIs do a redirect 
&gt; to
&gt; the appropriate representation URI.

or just return the translation representation as the entity of
a 200 OK without redirecting; i'm still trying to figure out
which is better.

this is all of course similar to returning e.g. html vs. pdf
representation of a resource.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4123<br>
Sender:Josh Sled &lt;jsled-yahoogroup@...&gt;<br>
Post Date/Time:2004-02-07 01:34:46<br>
Subject:Re: [rest-discuss] Restful URIs<br>
Message:<br><br>
<pre>On Sat, Feb 07, 2004 at 01:01:01AM +0000, Vincent D Murphy wrote:

| domain experts in the languages/translation communities could
| come up with the proper vocabulary/ontology for this.

Sure sure.  I was trying to be informative, not normative...

| (the first issue i see is that you should be able to say what
| language the 'original work' was written in, and distinguish
| between the original work and translations thereof.  but let's
| not get sidetracked..)

[ hmm...  I thought translationOf made it pretty clear [as it's not
  necessarily transitive], as does dc:language [though I didn't put it
  everywhere]... but let's not get sidetracked. ;) ]

| or just return the translation representation as the entity of
| a 200 OK without redirecting; i'm still trying to figure out
| which is better.
| 
| this is all of course similar to returning e.g. html vs. pdf
| representation of a resource.

Yeah ... or png vs. gif ... or avi vs. mpeg.

As discussed, there's sometimes high value in having different identifiers
for both the resource and various representations of it.  Sometimes there's
not -- the png vs. jpeg vs. gif is more a matter of browser capabilities
or user preference than meaningful different resources.  HTML and PDF,
OTOH, aren't nearly _as_ interchangeable.

Generally, I think the more easily and directly addressable different
useful things are, the better.

...jsled

-- 
http://www.asynchronous.org - `a=jsled; b=asynchronous.org; echo ${a}@${b}`

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4124<br>
Sender:Jeff Bone &lt;jbone@...&gt;<br>
Post Date/Time:2004-02-07 04:20:12<br>
Subject:Re: [rest-discuss] Restful URIs<br>
Message:<br><br>
<pre>
On Feb 6, 2004, at 5:30 PM, Justin Sampson wrote:

&gt;&gt; Ah, glasshoppah...
&gt;
&gt; Ah, holier-than-thou...

Righten up, glasshoppah.  I make-uh reetuh yoke.  You gonna say now 
"ha-ha!" ;-)

&gt; No, they're not the same information. The translator has added
&gt; various interpretational decisions based on the appropriate
&gt; cultural contexts. The various documents may even need to relate
&gt; to each other in different ways.

So "Beggars in Spain" by Nancy Kress *in English* is not the same 
*novel* as "Beggars in Spain" by Nancy Kress, translated to Russian?

If not, then why do we speak of them as the same, while talking about 
the translations as just that --- translations?  I.e., the identity is 
glued to the work;  we specifically speak of the variants of that work 
as variants of that work.

The point is this:  if the difference between two things is significant 
enough to consider the two things as having separate *identities* then 
they should have two different names, i.e. URIs.  If not, then they are 
the same thing --- even if there are multiple variant representations 
of that thing.

&gt; I can still choose from the crappy electronic translation, the
&gt; poetic Shakespearean translation, the contemporary readable
&gt; translation, etc. What the original author wrote is one thing;
&gt; any particular translation of it is quite another. The question
&gt; is not whether they are the same "novel", but whether it is
&gt; useful and desireable to return representations of all of them
&gt; from GETs on a single URI.

That all depends on whether you believe that the differences between 
these representations is enough to convey a separate sense of identity 
between them *in the mind of the user.*  That's going to depend on the 
nature of the resource.  In this case, I'd argue that it's not clear 
that there is such a separate identity.

As you yourself pointed out:  the URI doesn't say how something is 
generated.  Nor should it say how something is represented.  It should 
merely *name the thing.*

Another way to look at it:  if various users should be able to 
independently refer to multiple versions of the same abstract thing, 
then there's enough "identity" there and purpose there to warrant 
multiple names.  But if it's purely a conneg / dynamic decision, then 
all the various translations in the world don't matter, and the work 
itself has the name.

jb


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4125<br>
Sender:Jeff Bone &lt;jbone@...&gt;<br>
Post Date/Time:2004-02-07 04:46:17<br>
Subject:Re: [rest-discuss] Restful URIs<br>
Message:<br><br>
<pre>
On Feb 6, 2004, at 10:20 PM, Jeff Bone wrote:

&gt; That all depends on whether you believe that the differences between
&gt; these representations is enough to convey a separate sense of identity
&gt; between them *in the mind of the user.*  That's going to depend on the
&gt; nature of the resource.  In this case, I'd argue that it's not clear
&gt; that there is such a separate identity.

More to the point, technically:  if you intend for the separate 
translations to be referenced independently, then each translation 
should have a different URI.  And, orthogonally, if you intend *the 
work itself* to be referenced, then it too should have a URI.

There's a very sound case for giving two different translations of the 
same work *three* URIs.

My point in general, flip though it might have been, was this:  the 
thing in-the-abstract is interesting in itself.  Interesting things 
should have a URI.

Conneg isn't a bad thing, but --- really --- one shouldn't get dogmatic 
about it.  URIs are cheap.  Use as many as makes sense.  But always 
give the abstract thing of interest --- at least --- a name.  It's 
useful.

jb


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4126<br>
Sender:Walden Mathews &lt;waldenm@...&gt;<br>
Post Date/Time:2004-02-07 15:41:07<br>
Subject:Re: [rest-discuss] Restful URIs<br>
Message:<br><br>
<pre>Good point, Jeff.  This is not an "either-or" issue.  You can
have it both ways.

Walden

----- Original Message ----- 
From: "Jeff Bone" &lt;jbone@...&gt;
To: "Justin Sampson" &lt;justin.sampson@...&gt;; "rest-discuss"
&lt;rest-discuss@yahoogroups.com&gt;
Sent: Friday, February 06, 2004 11:46 PM
Subject: Re: [rest-discuss] Restful URIs


:
: On Feb 6, 2004, at 10:20 PM, Jeff Bone wrote:
:
: &gt; That all depends on whether you believe that the differences between
: &gt; these representations is enough to convey a separate sense of identity
: &gt; between them *in the mind of the user.*  That's going to depend on the
: &gt; nature of the resource.  In this case, I'd argue that it's not clear
: &gt; that there is such a separate identity.
:
: More to the point, technically:  if you intend for the separate
: translations to be referenced independently, then each translation
: should have a different URI.  And, orthogonally, if you intend *the
: work itself* to be referenced, then it too should have a URI.
:
: There's a very sound case for giving two different translations of the
: same work *three* URIs.
:
: My point in general, flip though it might have been, was this:  the
: thing in-the-abstract is interesting in itself.  Interesting things
: should have a URI.
:
: Conneg isn't a bad thing, but --- really --- one shouldn't get dogmatic
: about it.  URIs are cheap.  Use as many as makes sense.  But always
: give the abstract thing of interest --- at least --- a name.  It's
: useful.
:
: jb
:
:
:
:
: Yahoo! Groups Links
:
:
:
:
:
:
: __________ NOD32 1.617 (20040206) Information __________
:
: This message was checked by NOD32 Antivirus System.
: http://www.nod32.com
:
:


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4127<br>
Sender:Tony Butterfield &lt;tab@...&gt;<br>
Post Date/Time:2004-02-09 11:09:09<br>
Subject:Re: [rest-discuss] REST toolkits<br>
Message:<br><br>
<pre>On Fri, 2004-02-06 at 15:15, Josh Sled wrote: 
&gt; And, personally, I'd try to make it easy to exchange RDF/XML instead of
&gt; just XML, for many reasons.

Are you thinking of RDF for defining, declaring and documenting the
interfaces?

&gt; So what would such a toolkit look like?
&gt; 
&gt; Let's start with a simple use-case to engender discussion...
&gt; 
&gt; Alice provides an Image-Processing web service, with a RESTful interface.
&gt; Bob wants to connect to and use that service before lunch. The service is
&gt; pretty simple: given an image and list of transformations, it returns the
&gt; transformed image [plus some other things it determines along the way].
&gt; Ideally, Bob would like to sit down an write:
&gt; 
&gt; --
&gt; Image img = // ...;
&gt; TransformList xformList = // ...;
&gt; ImageProcessing imgSvc = ImageProcessing.getInstance();
&gt; 
&gt; Image newImage = imgSvc.processImage( img, xformList );
&gt; display( newImage );
&gt; --
&gt; 
&gt; * What parts of this can the toolkit help with or make simple?
&gt; * What [information, description, &amp;c.] is required to use it?
&gt; * Why _wouldn't_ Bob use it?
&gt; 
Looking at the service, there are at least three aspects:
1) implementing the service
2) providing a public interface to the service
3) providing meta-data about the service

As far as implementing the service goes, I think it would great if the
toolkit would provide all abstractions to implement the service
independent of the public interface, provide implementations of the
common web datatypes and provide tools for the management of the
service.

As far as providing the public interface I would good to be able to
declaratively map the service onto some public interface. I.e. lets say
put the ImageTransformService at http://imagetools.org/transform or
send an multipart mime email to transform@... with the image
and the specification as attachments, or with more thought send a MMS
(multi-media messaging) from your phone and get your fixed up image
back!

Providing meta-data. I'd like to explore this issue more. To use RDF or
WSDL to describe an interface is nice but useful only for automatically
building static client stubs or providing documentation. I haven't seen
technology that can semantically understand an interface definition in
its most general sense, only human interface proxies that can provide a
better view of a service to a human.

Looking at the client side of the scenario, It would be great for the
toolkit to be able to leverage a service, independent of how is a made
publicly available (functionality willing). So we could build up the
parameters to a request using standard web datatypes- in this example
say and XML specification plus a PNG image stream. Then pass them to the
service. I think the important aspect is that any complex service may
well leverage other services so it will need good support to be a client
too!

&gt; 
&gt; I guess I realize after I type this up that there may be two really different
&gt; goals here, between building a toolkit focused on:
&gt; 
&gt; 1/ human-machine -- a toolkit for building RESTful, human-focused web sites.
&gt; 
&gt; 2/ machine-machine -- a toolkit for building RESTful,
&gt;    developer-/code-focused web services.

&gt; Which toolkit do you want to build?  I'm looking for the latter.
&gt; I don't think they're entirely seperate, actually, but it's good to know
&gt; where we stand. :)

The two types would certainly require different functionalities but I'd
like to think that the commonality is the larger part. It is those "low
level" common features that interest me.
-- 
Tony Butterfield &lt;tab@...&gt;
1060 Research


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4128<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2004-02-09 18:02:39<br>
Subject:Re: [rest-discuss] RDF Forms<br>
Message:<br><br>
<pre>Hi Alex,

On Fri, Feb 06, 2004 at 05:00:08PM -0500, S. Alexander Jacobson wrote:
&gt; In this world, the XSLT developer should be
&gt; completely ignorant of server architecture,
&gt; depending entirely on the content of the generated
&gt; XML to construct HTML pages.  In particular, the
&gt; XML should supply both href and action attribute
&gt; values.  It should also supply the information for
&gt; the XSLT developer to construct HTML forms to
&gt; query/post to those action resources.
&gt; 
&gt; The problem is we need to choose a way to present
&gt; that information.  My suggestion is to use relaxNG
&gt; in the following manner:
&gt; 
&gt;  &lt;form action="url" method="POST" src="schema.rng"/&gt;

Using a canonical serialization for an RDF Form in XML, I think that
this could quite easily be done.  The "action" URI is the URI of
either the resource of type Container or type Indexable.  And if the
former, it's a POST form, if the latter, a GET form.  I don't see what
role any schema language may play there; send the RDF with an embedded
RDF form, attach the style sheet, and it'll get converted to an HTML
form on the client.

&gt; An issue w/ using an XML specification language
&gt; here is that you need to use javascript to get
&gt; browsers to POST XML and perhaps you don't want to
&gt; pass XML in query strings.  The question is
&gt; whether these issues loom so large that it is
&gt; worth the complexity of Yet Another Forms
&gt; Spefication System (RDF-Forms, WIDL, X-Forms,
&gt; etc).
&gt; 
&gt; I'd rather just have the server automatically
&gt; interpret a name/value posting as
&gt; &lt;POST&gt;&lt;name&gt;value&lt;/name&gt;&lt;name2&gt;value&lt;/name&gt;&lt;/POST&gt;
&gt; etc.  And have the schema/dtd specify which
&gt; names are valid in what combination and number.
&gt; Or use javascript on the client to do better.
&gt; 
&gt; Thoughts?

FWIW, I wasn't considering browsers at all when I designed RDF Forms.
I was focused entirely on application-to-application integration.
But I don't see the problem with XSLTing between RDF Forms and HTML
forms.  You could also do it with XForms I reckon, but I like my XML to
be RDF/XML where possible.

Mark.
-- 
Mark Baker.   Ottawa, Ontario, CANADA.        http://www.markbaker.ca

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4129<br>
Sender:"S. Alexander Jacobson" &lt;alex@...&gt;<br>
Post Date/Time:2004-02-09 23:23:27<br>
Subject:Re: [rest-discuss] RDF Forms<br>
Message:<br><br>
<pre>Mark,

On Mon, 9 Feb 2004, Mark Baker wrote:
&gt; You could also do it with XForms I reckon, but I like my XML to
&gt; be RDF/XML where possible.

Are you advocating RDF as a replacement for
DTDs/RelaxNG/XMLSchema?

If not, why do you want the language describing
data sent from the server (e.g. DTD, RelaxNG,
Schema) to be different language to describe data
sent to the server (RDF)?

If yes, why is it better to transmit raw RDF
rather than relaxNG/XMLschema with links to an RDF
description of the schema elements?

-Alex-

_________________________________________________________________
S. Alexander Jacobson                  mailto:me@...
tel:917-770-6565                       http://alexjacobson.com



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4130<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2004-02-10 03:25:26<br>
Subject:Re: [rest-discuss] RDF Forms<br>
Message:<br><br>
<pre>On Mon, Feb 09, 2004 at 06:23:27PM -0500, S. Alexander Jacobson wrote:
&gt; Mark,
&gt; 
&gt; On Mon, 9 Feb 2004, Mark Baker wrote:
&gt; &gt; You could also do it with XForms I reckon, but I like my XML to
&gt; &gt; be RDF/XML where possible.
&gt; 
&gt; Are you advocating RDF as a replacement for
&gt; DTDs/RelaxNG/XMLSchema?

You betcha!

&gt; If yes, why is it better to transmit raw RDF
&gt; rather than relaxNG/XMLschema with links to an RDF
&gt; description of the schema elements?

I discussed that in a recent talk;

http://www.markbaker.ca/Talks/2004-xmlself/slide1-0.html

Mark.
-- 
Mark Baker.   Ottawa, Ontario, CANADA.        http://www.markbaker.ca

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4131<br>
Sender:"Donald Strong" &lt;dstrong@...&gt;<br>
Post Date/Time:2004-02-10 09:44:17<br>
Subject:RE: [rest-discuss] Restful URIs<br>
Message:<br><br>
<pre>
Thank you to Roy and Josh for your answers.
I thought I would ask the general question first and now 
(at the risk of doing something silly ;) I will ask about
a particular issue.

I have, for some time, been considering how sqlrest could
be modified to handle composite keys.

http://sqlrest.sourceforge.net/

This is what I had in mind.

There are 4 types of resource in a relational database; 
database, table, row and column. 

These form a strict hierarchy.

&lt;database&gt;/&lt;table&gt;/&lt;row&gt;/&lt;column&gt;

Databases and tables are easily identified in this manner.

http://sqlrest/accounts
http://sqlrest/accounts/customer

Things become a little more complicated when it
comes to identfying an individual row. Sqlrest currently
handles the simple case where there is a single primary key,

http://sqlrest/accounts/customer/001

but the obvious extention for composite keys, to just keep
adding levels, might be RESTful but it is not particularly
relational.

http://sqlrest/accounts/customer/ACME/Pheonix

My thoughts went off on a different tangent. 
SQL uses queries to identify a particular row.

select * from customer where company='ACME' and branch='Pheonix';

The URL equivalent of this might be:

http://sqlrest/accounts/customer?company=ACME&amp;branch=Pheonix

Obviously this is a perfectly legitimate URL as it is a query on
a resource and in this case the resource is a table. However, the 
row is also a resource. In fact it is the row that we are
most interested in modifying, so would using the above URL as the 
target of a PUT or DELETE be reasonable in this particular case?

This mechanism extends easily to identify a column within the row.
This URL might be appropriate to retrieve the company logo in the
form of a gif.

http://sqlrest/accounts/customer/logo?company=ACME&amp;branch=Pheonix

Once again this URL could be the target of a PUT or DELETE.

I will leave it at that for now. I have pushed out my straw man
and I am watching with interest to see how long he lasts.

Regards
Donald.




&gt; -----Original Message-----
&gt; From: Roy T. Fielding [mailto:fielding@...]
&gt; Sent: Thursday, 5 February 2004 4:03 PM
&gt; To: Donald Strong
&gt; Cc: rest-discuss
&gt; Subject: Re: [rest-discuss] Restful URIs
&gt; 
&gt; 
&gt; &gt; Why is there a preference, within the REST community, for URIs of the 
&gt; &gt; form
&gt; &gt;
&gt; &gt;     http://university.edu/ws/student/001
&gt; &gt;
&gt; &gt; rather than this form?
&gt; &gt;
&gt; &gt;     http://university.edu/ws/student?id=001
&gt; &gt;
&gt; &gt; Is there a specification that mandates the former or is it simply 
&gt; &gt; consensus
&gt; &gt; within the group that the former is "more RESTful" than the latter?
&gt; 
&gt; There are several reasons.  The first is simply practical: many
&gt; caches do not cache responses to requests that contain what appears
&gt; to be query information, since there is usually less of a chance
&gt; of a future hit on the same query.  Server-side caches can optimize
&gt; around that for their own common queries, but they have no way of
&gt; changing the intermediaries.
&gt; 
&gt; The second reason is that path is a hierarchical name space, unlike
&gt; the query.  If you are using hierarchical tools to manipulate
&gt; hierarchical spaces, it is best to avoid escaping from the hierarchy
&gt; in arbitrary ways.  A hierarchy is, after all, simply a pre-established
&gt; query with a defined order among elements.
&gt; 
&gt; The third reason is that there is only one query portion of a URI.
&gt; If you use it for silly reasons, then it won't be as useful for
&gt; actual queries (user-driven options).
&gt; 
&gt; I am sure there are other reasons -- those are just off the top of
&gt; my head.  There are also implementation-specific reasons, such as
&gt; more predefined options in Apache for handling requests in the path,
&gt; resulting in more efficient handling of blobs of data that are stored
&gt; as simple files.
&gt; 
&gt; ....Roy

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4132<br>
Sender:"Justin Sampson" &lt;justin.sampson@...&gt;<br>
Post Date/Time:2004-02-10 21:56:27<br>
Subject:RE: [rest-discuss] Restful URIs<br>
Message:<br><br>
<pre>Donald Strong wrote:

&gt; I have, for some time, been considering how sqlrest could
&gt; be modified to handle composite keys.
&gt;
&gt; http://sqlrest.sourceforge.net/
&gt;
&gt; This is what I had in mind.
&gt;
&gt; [...]
&gt;
&gt; SQL uses queries to identify a particular row.
&gt;
&gt; select * from customer where company='ACME' and
&gt; branch='Pheonix';
&gt;
&gt; The URL equivalent of this might be:
&gt;
&gt; http://sqlrest/accounts/customer?company=ACME&amp;branch=Pheonix
&gt;
&gt; [...]

Just looked at sqlREST for the first time, and it's pretty nice.

For queries on column values the query string certainly makes
sense, but intuitively I might expect that style to return a
collection of rows, just like a GET on &lt;/accounts/customer&gt; does.
That is, &lt;/accounts/customer&gt; represents a collection of rows,
and so queries on it merely restrict that collection.

Perhaps for referring to a single row by primary key, path
parameter syntax would be appropriate, something like
&lt;/accounts/customer/company=ACME;branch=Pheonix&gt;. Using this
syntax for non-primary keys should return 404.

That particular row could also be queried by the former syntax as
&lt;/accounts/customer?company=ACME&amp;branch=Pheonix&gt;, but the
representation returned would be of a collection containing that
one row, not of the row itself.

Oh, and a table with a non-compound primary key could allow both
the named and unnamed version: &lt;/school/student/ID=123-45-6789&gt;
vs. &lt;/school/student/123-45-6789&gt;. The two syntaxes are
unambiguous as long as both forms always have the value properly
escaped.

Justin

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4133<br>
Sender:Vincent D Murphy &lt;vdm@...&gt;<br>
Post Date/Time:2004-02-10 23:04:38<br>
Subject:Re: [rest-discuss] Restful URIs<br>
Message:<br><br>
<pre>On 10 Feb 2004, at 21:56, Justin Sampson wrote:
&gt; Perhaps for referring to a single row by primary key, path
&gt; parameter syntax would be appropriate,

that syntax seems really intuitive to me.

is path parameter syntax defined in a URI rfc or elsewhere?
google doesn't have much:
http://www.google.com/search?q=%22path+parameter+syntax%22

&gt; Oh, and a table with a non-compound primary key could allow both
&gt; the named and unnamed version: &lt;/school/student/ID=123-45-6789&gt;
&gt; vs. &lt;/school/student/123-45-6789&gt;. The two syntaxes are
&gt; unambiguous as long as both forms always have the value properly
&gt; escaped.

even better.

great idea.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4134<br>
Sender:"Justin Sampson" &lt;justin.sampson@...&gt;<br>
Post Date/Time:2004-02-10 23:20:02<br>
Subject:RE: [rest-discuss] Restful URIs<br>
Message:<br><br>
<pre>The syntax is in RFC 2396, section 3.3:

    &lt;http://www.ietf.org/rfc/rfc2396.txt&gt;

Tim Berners-Lee wrote a tiny bit about how it might be used:

    &lt;http://www.w3.org/DesignIssues/Axioms.html#matrix&gt;

Justin

&gt; -----Original Message-----
&gt; From: Vincent D Murphy [mailto:vdm@...] 
&gt; Sent: Tuesday, February 10, 2004 3:05 PM
&gt; To: Justin Sampson
&gt; Cc: rest-discuss@yahoogroups.com
&gt; Subject: Re: [rest-discuss] Restful URIs
&gt;
&gt; On 10 Feb 2004, at 21:56, Justin Sampson wrote:
&gt;
&gt; &gt; Perhaps for referring to a single row by primary key, path
&gt; &gt; parameter syntax would be appropriate,
&gt;
&gt; that syntax seems really intuitive to me.
&gt;
&gt; is path parameter syntax defined in a URI rfc or elsewhere?
&gt; google doesn't have much:
&gt; http://www.google.com/search?q=%22path+parameter+syntax%22
&gt;
&gt; &gt; Oh, and a table with a non-compound primary key could allow
&gt; &gt; both the named and unnamed version:
&gt; &gt; &lt;/school/student/ID=123-45-6789&gt; vs.
&gt; &gt; &lt;/school/student/123-45-6789&gt;. The two syntaxes are
&gt; &gt; unambiguous as long as both forms always have the value
&gt; &gt; properly escaped.
&gt;
&gt; even better.
&gt;
&gt; great idea.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4135<br>
Sender:"S. Alexander Jacobson" &lt;alex@...&gt;<br>
Post Date/Time:2004-02-11 00:10:59<br>
Subject:RE: [rest-discuss] Restful URIs<br>
Message:<br><br>
<pre>On Tue, 10 Feb 2004, Donald Strong wrote:
&gt; I have, for some time, been considering how sqlrest could
&gt; be modified to handle composite keys.
&gt;
&gt; http://sqlrest.sourceforge.net/

Looks really interesting, but how do you handle joins?

Real life SQL databases provide joins because
generally you don't want to have to download the
entirety of multiple tables to make a computation.

To execute a join, REST seems to require that you
download at least one entire table and then
either:

* for each record in the downloaded table, make a
request for a matching record in the other table

* make an HTTP request that includes all of the
downloaded table with a lot of ORs (OR operator
not visibly supported by sqlREST)

* download the entirety of the other table and
process client side

None of these seems particularly elegant and
choosing among them depends on information to
which you may or may not have access.

-Alex-

_________________________________________________________________
S. Alexander Jacobson                  mailto:me@...
tel:917-770-6565                       http://alexjacobson.com

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4136<br>
Sender:"Justin Sampson" &lt;justin.sampson@...&gt;<br>
Post Date/Time:2004-02-11 00:28:16<br>
Subject:RE: [rest-discuss] Restful URIs<br>
Message:<br><br>
<pre>Funny, I was just thinking about that over lunch myself. One
solution is simply to define more complex queries as views inside
the database itself. Most applications have a handful of commonly
used queries. Then you can further refine such queries with the
URL query string just as for normal tables.

Beyond that of course it really depends on what you're trying to
accomplish... sqlREST started as an experiment; if it turns out
to be useful for your application presumably you'll know what
makes sense for what you want to do.

Justin

&gt; -----Original Message-----
&gt; From: S. Alexander Jacobson [mailto:alex@...]
&gt; Sent: Tuesday, February 10, 2004 4:11 PM
&gt; To: Donald Strong
&gt; Cc: rest-discuss
&gt; Subject: RE: [rest-discuss] Restful URIs
&gt;
&gt; On Tue, 10 Feb 2004, Donald Strong wrote:
&gt;
&gt; &gt; I have, for some time, been considering how sqlrest could be
&gt; &gt; modified to handle composite keys.
&gt; &gt;
&gt; &gt; http://sqlrest.sourceforge.net/
&gt;
&gt; Looks really interesting, but how do you handle joins?
&gt;
&gt; Real life SQL databases provide joins because generally you
&gt; don't want to have to download the entirety of multiple tables
&gt; to make a computation.
&gt;
&gt; To execute a join, REST seems to require that you download at
&gt; least one entire table and then either:
&gt;
&gt; * for each record in the downloaded table, make a request for a
&gt; matching record in the other table
&gt;
&gt; * make an HTTP request that includes all of the downloaded
&gt; table with a lot of ORs (OR operator not visibly supported by
&gt; sqlREST)
&gt;
&gt; * download the entirety of the other table and process client
&gt; side
&gt;
&gt; None of these seems particularly elegant and choosing among
&gt; them depends on information to which you may or may not have
&gt; access.
&gt;
&gt; -Alex-

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4137<br>
Sender:"Donald Strong" &lt;dstrong@...&gt;<br>
Post Date/Time:2004-02-11 00:54:26<br>
Subject:RE: [rest-discuss] Restful URIs<br>
Message:<br><br>
<pre>
&gt; &gt; I have, for some time, been considering how sqlrest could
&gt; &gt; be modified to handle composite keys.
&gt; &gt;
&gt; &gt; http://sqlrest.sourceforge.net/
&gt;
&gt; Looks really interesting, but how do you handle joins?

Thats one of the other things I was considering.

You do a post of an SQL request to a database URL.

-------------------------------------------
post http://me.com/sqlrest/customerdb
content-type: text/sql
content-len: xxxx

select c.cust, c.branch, o.orderno, o.itemno, o.quantity, o.price
    from customer c, orders o
    where c.custid = o.custid
      and c.cust   = "ACME"
      and c.branch = "Pheonix"
      and exists ( select * from inventory i where i.quantity &gt; o.quantity )

------------------------------------------

This query tells us what items we have in stock for the current order for
ACME in Pheonix.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4138<br>
Sender:"Donald Strong" &lt;dstrong@...&gt;<br>
Post Date/Time:2004-02-11 02:19:26<br>
Subject:RE: [rest-discuss] Restful URIs<br>
Message:<br><br>
<pre>
&gt; Perhaps for referring to a single row by primary key, path
&gt; parameter syntax would be appropriate, something like
&gt; &lt;/accounts/customer/company=ACME;branch=Pheonix&gt;. Using this
&gt; syntax for non-primary keys should return 404.

I like this idea.

One problem, however, is that this syntax makes the path segment
"company=ACME" with a single parameter "branch=Pheonix", according
to the letter of the specification (rfc 2396). The syntax seems
intended to provide parameters relating to the segment, similar
to actual parameters to a procedure call.

What about applying the parameters to the table segment?

&lt;/accounts/customer;company=ACME;branch=Pheonix&gt;

Or applying the parameters to a null segment?

&lt;/accounts/customer/;company=ACME;branch=Pheonix&gt;
 
&gt; That particular row could also be queried by the former syntax as
&gt; &lt;/accounts/customer?company=ACME&amp;branch=Pheonix&gt;, but the
&gt; representation returned would be of a collection containing that
&gt; one row, not of the row itself.

Excellant!

&gt; Oh, and a table with a non-compound primary key could allow both
&gt; the named and unnamed version: &lt;/school/student/ID=123-45-6789&gt;
&gt; vs. &lt;/school/student/123-45-6789&gt;. The two syntaxes are
&gt; unambiguous as long as both forms always have the value properly
&gt; escaped.

Might need to be convinced on this one. I think the fact that there
are two URIs that, by definition, refer to the same resource
just confuses the issue.

&gt; Justin

Donald.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4139<br>
Sender:"Justin Sampson" &lt;justin.sampson@...&gt;<br>
Post Date/Time:2004-02-11 04:06:06<br>
Subject:RE: [rest-discuss] Restful URIs<br>
Message:<br><br>
<pre>Donald Strong wrote:

&gt; &gt; Perhaps for referring to a single row by primary key, path
&gt; &gt; parameter syntax would be appropriate, something like
&gt; &gt; &lt;/accounts/customer/company=ACME;branch=Pheonix&gt;. Using this
&gt; &gt; syntax for non-primary keys should return 404.
&gt;
&gt; I like this idea.
&gt;
&gt; One problem, however, is that this syntax makes the path
&gt; segment "company=ACME" with a single parameter
&gt; "branch=Pheonix", according to the letter of the specification
&gt; (rfc 2396). The syntax seems intended to provide parameters
&gt; relating to the segment, similar to actual parameters to a
&gt; procedure call.

I wondered about that, but it is syntactically valid, and no
semantics are defined for such parameters anyway. According to
the grammar in Section 3.3, "company=ACME;branch=Pheonix" as a
whole matches "segment", though indeed only "branch=Pheonix"
matches "param".

Ooh, I just realized we've been misspelling Phoenix. :) I'll
continue for consistency.

&gt; What about applying the parameters to the table segment?
&gt;
&gt; &lt;/accounts/customer;company=ACME;branch=Pheonix&gt;
&gt;
&gt; Or applying the parameters to a null segment?
&gt;
&gt; &lt;/accounts/customer/;company=ACME;branch=Pheonix&gt;

The former isn't right because it loses the hierarchical
structure. The latter is better but the extra semicolon seems
unnecessary.

&gt; &gt; Oh, and a table with a non-compound primary key could allow
&gt; &gt; both the named and unnamed version:
&gt; &gt; &lt;/school/student/ID=123-45-6789&gt; vs.
&gt; &gt; &lt;/school/student/123-45-6789&gt;. The two syntaxes are
&gt; &gt; unambiguous as long as both forms always have the value
&gt; &gt; properly escaped.
&gt;
&gt; Might need to be convinced on this one. I think the fact that
&gt; there are two URIs that, by definition, refer to the same
&gt; resource just confuses the issue.

One could easily redirect to the other, or give a
Content-Location header for the preferred form. I like the
conciseness of the unnamed form, but the named form should be
supported for consistency with the compound key case. Compound
key URIs are multiple anyway, since the parameters could be given
in any order. In any case, one version will be preferred and can
be returned in the Content-Location header.

All of these concerns would be resolved if the compound key form
was instead &lt;/accounts/customer/ACME;branch=Pheonix&gt;. This may
make sense if one of the columns is more general and the others
are more specific, which seems to be true in this case (and is
probably generally true, come to think of it). (At first I
thought the column order would matter, but since only one column
is unnamed in this form, it's unambiguous even if they're given
in reverse order as &lt;/accounts/customer/Pheonix;company=ACME&gt;.
Again, one version will be preferred and can be returned in the
Content-Location header.)

Of course, the column order could just as well be enforced to
match the order in the table schema (or the primary key
constraint definition, I guess). Primary key-based URIs will
generally be constructed and returned from the server anyway, as
opposed to query-based URIs which could be constructed by the
client using some kind of form mechanism. Hmmm, yeah, I like that
reasoning.

Heck, if we enforce the ordering it could even be
&lt;/accounts/customer/ACME;Pheonix&gt;. :)

Fun, fun, fun.

Justin

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4140<br>
Sender:"Justin Sampson" &lt;justin.sampson@...&gt;<br>
Post Date/Time:2004-02-11 04:50:58<br>
Subject:RE: [rest-discuss] Restful URIs<br>
Message:<br><br>
<pre>Donald Strong wrote:

&gt; &gt; &gt; I have, for some time, been considering how sqlrest could
&gt; &gt; &gt; be modified to handle composite keys.
&gt; &gt; &gt;
&gt; &gt; &gt; http://sqlrest.sourceforge.net/
&gt; &gt;
&gt; &gt; Looks really interesting, but how do you handle joins?

The query string mechanism also only handles the = operator.

&gt; Thats one of the other things I was considering.
&gt;
&gt; You do a post of an SQL request to a database URL.

Only problem here is that it's using POST for a read-only
operation, which is allowed under REST but violates one of TBL's
(not-particularly-axiomatic) axioms: "In HTTP, anything which
does not have side-effects should use GET."
&lt;http://www.w3.org/DesignIssues/Axioms.html#state&gt;

Putting the SQL in the query string will be ugly, requiring
awkward escaping and possibly making the URI long, but allows it
to be linked and bookmarked easily, and the ugliness doesn't
really matter if it's entered in a form anyway.

On the other hand, supporting POST could allow arbitrary
statements including INSERT, UPDATE, DELETE, CREATE/DROP TABLE,
etc.

I guess the right thing is to use GET for SELECT statements and
POST for any others. That would be the most basic RESTful SQL
interface.

Justin

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4141<br>
Sender:Seairth Jacobs &lt;seairth@...&gt;<br>
Post Date/Time:2004-02-11 05:45:24<br>
Subject:REST Transaction Process<br>
Message:<br><br>
<pre>Check out http://www.seairth.com/web/resttp.html and tell me what you think.

Seairth


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4142<br>
Sender:Vincent D Murphy &lt;vdm@...&gt;<br>
Post Date/Time:2004-02-11 08:51:19<br>
Subject:Re: [rest-discuss] Restful URIs<br>
Message:<br><br>
<pre>On 11 Feb 2004, at 04:50, Justin Sampson wrote:
&gt; Only problem here is that it's using POST for a read-only
&gt; operation, which is allowed under REST but violates one of TBL's
&gt; (not-particularly-axiomatic) axioms: "In HTTP, anything which
&gt; does not have side-effects should use GET."
&gt; &lt;http://www.w3.org/DesignIssues/Axioms.html#state&gt;

how about including the sql query as an entity
body with the GET?  i know this isn't 'normal'
for GET, but this does seem a logical place to
me to put 'verbose' queries of all kinds.

&gt; I guess the right thing is to use GET for SELECT statements and
&gt; POST for any others. That would be the most basic RESTful SQL
&gt; interface.

agreed.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4143<br>
Sender:Vincent D Murphy &lt;vdm@...&gt;<br>
Post Date/Time:2004-02-11 09:03:44<br>
Subject:Re: [rest-discuss] REST Transaction Process<br>
Message:<br><br>
<pre>On 11 Feb 2004, at 05:45, Seairth Jacobs wrote:
&gt; Check out http://www.seairth.com/web/resttp.html and tell me what you 
&gt; think.

I like your idea, but I wonder if it may be possible to
simplify.

Instead of prefixing the URIs of requests in the transaction,
could the transaction not be referred to by a request header?

So instead of translating (e.g.)

PUT /path/resource1
to
PUT /t/123/path/resource1
why not have

PUT /path/resource1
Transaction: /t/123

or similar.  The trade-off, as I see it, is that it would be
easier to write a client that includes an extra header than
one that munges the request URI; that smells like a kludge
to me.

What do you think?


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4144<br>
Sender:"Tony Butterfield" &lt;tab@...&gt;<br>
Post Date/Time:2004-02-11 10:59:33<br>
Subject:Re: REST Transaction Process<br>
Message:<br><br>
<pre>--- In rest-discuss@yahoogroups.com, Vincent D Murphy &lt;vdm@v...&gt;
wrote:
&gt; On 11 Feb 2004, at 05:45, Seairth Jacobs wrote:
&gt; &gt; Check out http://www.seairth.com/web/resttp.html and tell me what
you 
&gt; &gt; think.
&gt; 
&gt; I like your idea, but I wonder if it may be possible to
&gt; simplify.
&gt; 
&gt; Instead of prefixing the URIs of requests in the transaction,
&gt; could the transaction not be referred to by a request header?
&gt; 
&gt; So instead of translating (e.g.)
&gt; 
&gt; PUT /path/resource1
&gt; to
&gt; PUT /t/123/path/resource1
&gt; why not have
&gt; 
&gt; PUT /path/resource1
&gt; Transaction: /t/123
&gt; 
&gt; or similar.  The trade-off, as I see it, is that it would be
&gt; easier to write a client that includes an extra header than
&gt; one that munges the request URI; that smells like a kludge
&gt; to me.
&gt; 
&gt; What do you think?

There is a dilema with how to do the PUT in the context of the
transaction when each request has only one noun.

Is there a general REST pattern for this?

Food for thought- a couple more ways to do it:

1) do a PUT /path/resource1?transaction=/t/123. I.e. put the
transaction into a query

2) when the transaction is initiated tie it to the identity of the
client (maybe IP or something more unique), then when a raw PUT is
performed it can be checked to see that it is in an existing
transaction

Tony


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4145<br>
Sender:Jeff Bone &lt;jbone@...&gt;<br>
Post Date/Time:2004-02-11 15:16:04<br>
Subject:Re: [rest-discuss] REST Transaction Process<br>
Message:<br><br>
<pre>
IMHO, the transaction is an object (resource) in itself.  This is a  
standard pattern in transaction managers, cf. Java's transaction  
facility, OODBs that support long-running transactions, etc.  Given  
this, it's appropriate for it to have a URI.  I'm not sure munging the  
original resource onto the transaction URI is a great solution, but  
it's better than burying things in the headers.

Reifying the transaction is a good thing!

jb

On Feb 11, 2004, at 3:03 AM, Vincent D Murphy wrote:

&gt; On 11 Feb 2004, at 05:45, Seairth Jacobs wrote:
&gt;&gt; Check out http://www.seairth.com/web/resttp.html and tell me what you
&gt;&gt; think.
&gt;
&gt; I like your idea, but I wonder if it may be possible to
&gt; simplify.
&gt;
&gt; Instead of prefixing the URIs of requests in the transaction,
&gt; could the transaction not be referred to by a request header?
&gt;
&gt; So instead of translating (e.g.)
&gt;
&gt; PUT /path/resource1
&gt; to
&gt; PUT /t/123/path/resource1
&gt; why not have
&gt;
&gt; PUT /path/resource1
&gt; Transaction: /t/123
&gt;
&gt; or similar.  The trade-off, as I see it, is that it would be
&gt; easier to write a client that includes an extra header than
&gt; one that munges the request URI; that smells like a kludge
&gt; to me.
&gt;
&gt; What do you think?
&gt;
&gt;
&gt;
&gt; ------------------------ Yahoo! Groups Sponsor  
&gt; ---------------------~--&gt;
&gt; Send the freshest Valentine's flowers with a FREE vase from only  
&gt; $29.99!
&gt; Shipped direct from the grower with a 7 day freshness guarantee and  
&gt; prices so low you save 30-55% off retail!
&gt; http://us.click.yahoo.com/_iAw9B/xdlHAA/3jkFAA/W6uqlB/TM
&gt; --------------------------------------------------------------------- 
&gt; ~-&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4146<br>
Sender:Berend de Boer &lt;berend@...&gt;<br>
Post Date/Time:2004-02-11 18:38:27<br>
Subject:Re: [rest-discuss] REST Transaction Process<br>
Message:<br><br>
<pre>&gt;&gt;&gt;&gt;&gt; "Seairth" == Seairth Jacobs &lt;seairth@...&gt; writes:

    Seairth&gt; Check out http://www.seairth.com/web/resttp.html and tell
    Seairth&gt; me what you think.  Seairth

The big issue is that HTTP is usually available to everyone in the
world. You don't want to have just anyone being able to hold long
duration locks by starting transactions.

So while technically you can do it, I don't see it as something I
would ever use.

-- 
Regards,

Berend. (-:


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4147<br>
Sender:"Justin Sampson" &lt;justin.sampson@...&gt;<br>
Post Date/Time:2004-02-11 22:07:19<br>
Subject:RE: [rest-discuss] REST Transaction Process<br>
Message:<br><br>
<pre>Yeah -- a transaction is inherently stateful, so it's gotta be
managed as a distinct resource space. Any GET on a resource
within the context of the transaction must identify the
transaction in the URI. Any GET on the original URI must be
treated as outside of any transaction.

Initiating a transaction really creates a new view of the entire
resource space, so it makes sense that any resources accessed
within the transaction would be accessed at URIs hierarchically
subordinate to the URI of the transaction itself. However,
munging the existing URIs on the client is undesirable. Also, any
relative URIs inside the representations of those various
resources may be thrown off; the server would have to introspect
the representations it's returning and munge any URIs therein
itself, and the client would have to be disciplined about only
following URIs returned from the server (or built according to
rules returned from the server, as for an HTML form submission),
and emphatically not constructing URIs itself -- but then that's
just good REST sense, anyway.

Justin

&gt; -----Original Message-----
&gt; From: Jeff Bone [mailto:jbone@...]
&gt; Sent: Wednesday, February 11, 2004 7:16 AM
&gt; To: Vincent D Murphy
&gt; Cc: Seairth Jacobs; rest-discuss@yahoogroups.com
&gt; Subject: Re: [rest-discuss] REST Transaction Process
&gt;
&gt; IMHO, the transaction is an object (resource) in itself. This
&gt; is a standard pattern in transaction managers, cf. Java's
&gt; transaction facility, OODBs that support long-running
&gt; transactions, etc. Given this, it's appropriate for it to have
&gt; a URI. I'm not sure munging the original resource onto the
&gt; transaction URI is a great solution, but it's better than
&gt; burying things in the headers.
&gt;
&gt; Reifying the transaction is a good thing!
&gt;
&gt; jb
&gt;
&gt; On Feb 11, 2004, at 3:03 AM, Vincent D Murphy wrote:
&gt;
&gt; &gt; On 11 Feb 2004, at 05:45, Seairth Jacobs wrote:
&gt; &gt;
&gt; &gt; &gt; Check out http://www.seairth.com/web/resttp.html and tell
&gt; &gt; &gt; me what you think.
&gt; &gt;
&gt; &gt; I like your idea, but I wonder if it may be possible to
&gt; &gt; simplify.
&gt; &gt;
&gt; &gt; Instead of prefixing the URIs of requests in the transaction,
&gt; &gt; could the transaction not be referred to by a request header?
&gt; &gt;
&gt; &gt; So instead of translating (e.g.)
&gt; &gt;
&gt; &gt; PUT /path/resource1
&gt; &gt; to
&gt; &gt; PUT /t/123/path/resource1
&gt; &gt; why not have
&gt; &gt;
&gt; &gt; PUT /path/resource1
&gt; &gt; Transaction: /t/123
&gt; &gt;
&gt; &gt; or similar.  The trade-off, as I see it, is that it would be
&gt; &gt; easier to write a client that includes an extra header than
&gt; &gt; one that munges the request URI; that smells like a kludge to
&gt; &gt; me.
&gt; &gt;
&gt; &gt; What do you think?

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4148<br>
Sender:"Roy T. Fielding" &lt;fielding@...&gt;<br>
Post Date/Time:2004-02-12 01:56:27<br>
Subject:Re: [rest-discuss] Restful URIs<br>
Message:<br><br>
<pre>&gt; To execute a join, REST seems to require that you

No, if you are trying to do a join then you have already escaped REST's
constraints.  REST does not allow the client to know that the server
is a relational database.  Therefore, it only allows requests on
resources established by the server via its defined URIs (any resource
can be crafted similar to a stored procedure) or queries.  Naturally,
a query can be constructed to pass all of the information for a
SELECT statement, but it would still separate the client from the
server implementation by not allowing the client to send arbitrary SQL.

Day Software's Communique (my employer) does that by providing both
the table cell addressing hierarchy and URI mappings to stored
procedures/queries.

The rationale for REST being different from RDA, aside from greater
flexibility of implementation, is that remote data access interfaces
are extremely susceptible to abuse by rogue clients.  DBs are simply
not designed for anarchic scalability -- only friendly scalability.

....Roy


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4149<br>
Sender:"Donald Strong" &lt;dstrong@...&gt;<br>
Post Date/Time:2004-02-12 02:15:02<br>
Subject:RE: [rest-discuss] Restful URIs<br>
Message:<br><br>
<pre>
&gt; how about including the sql query as an entity
&gt; body with the GET?  i know this isn't 'normal'
&gt; for GET, but this does seem a logical place to
&gt; me to put 'verbose' queries of all kinds.

Wow, this one had me scouring my HTTP 1.1 spec.
I didn't think you could send an entity body with 
a GET request. I cannot find anywhere that
forbids it (5.1.1 via 4.3), but I am fairly sure 
that it will be ignored (4.3). 
The reponse to a GET is completely 
dependent upon the request URI (Sect 9.3). 
I don't see how caching would work if it were
otherwise.

Donald.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4150<br>
Sender:"Roy T. Fielding" &lt;fielding@...&gt;<br>
Post Date/Time:2004-02-12 01:22:13<br>
Subject:Re: [rest-discuss] REST Transaction Process<br>
Message:<br><br>
<pre>&gt; Initiating a transaction really creates a new view of the entire
&gt; resource space, so it makes sense that any resources accessed
&gt; within the transaction would be accessed at URIs hierarchically
&gt; subordinate to the URI of the transaction itself. However,
&gt; munging the existing URIs on the client is undesirable. Also, any
&gt; relative URIs inside the representations of those various
&gt; resources may be thrown off; the server would have to introspect
&gt; the representations it's returning and munge any URIs therein
&gt; itself, and the client would have to be disciplined about only
&gt; following URIs returned from the server (or built according to
&gt; rules returned from the server, as for an HTML form submission),
&gt; and emphatically not constructing URIs itself -- but then that's
&gt; just good REST sense, anyway.

I would never munge the request URI -- that just won't work in the
long term, once you consider the effect of proxies and multi-site
transactions.  And if you superset the URI space, then questions
come up about whether the new space has been checked-out, locked,
and/or has the same access control and handlers.  Yikes.

This topic has come up a few times on webdav and http-wg lists.
The transaction is a resource, but the relationship between it and
the requested resource can be accomplished via a header field that
defines each request as a sequenced resource within a hierarchical
transaction.  In other words, ask the server for a transaction begin,
send the URI it gives the client in each request as a header field
with a request number appended to it, and finally abort or commit
the transaction as a final request to the transaction's URI.  That's
basically how I did it for the still-vapor waka protocol.

....Roy



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4151<br>
Sender:"Justin Sampson" &lt;justin.sampson@...&gt;<br>
Post Date/Time:2004-02-12 02:29:28<br>
Subject:RE: [rest-discuss] REST Transaction Process<br>
Message:<br><br>
<pre>Roy T. Fielding wrote:

&gt; I would never munge the request URI -- that just won't work in
&gt; the long term, once you consider the effect of proxies and
&gt; multi-site transactions. And if you superset the URI space,
&gt; then questions come up about whether the new space has been
&gt; checked-out, locked, and/or has the same access control and
&gt; handlers. Yikes.
&gt;
&gt; This topic has come up a few times on webdav and http-wg lists.
&gt; The transaction is a resource, but the relationship between it
&gt; and the requested resource can be accomplished via a header
&gt; field that defines each request as a sequenced resource within
&gt; a hierarchical transaction. In other words, ask the server for
&gt; a transaction begin, send the URI it gives the client in each
&gt; request as a header field with a request number appended to it,
&gt; and finally abort or commit the transaction as a final request
&gt; to the transaction's URI. That's basically how I did it for the
&gt; still-vapor waka protocol.

Doesn't that introduce statefulness into the architecture? The
transaction URI is just a client session identifier.

I usually just insist on exactly one transaction per HTTP request
for exactly that reason.

Justin

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4152<br>
Sender:"Donald Strong" &lt;dstrong@...&gt;<br>
Post Date/Time:2004-02-12 02:40:07<br>
Subject:RE: [rest-discuss] Restful URIs<br>
Message:<br><br>
<pre>
&gt; The rationale for REST being different from RDA, aside from greater
&gt; flexibility of implementation, is that remote data access interfaces
&gt; are extremely susceptible to abuse by rogue clients.  DBs are simply
&gt; not designed for anarchic scalability -- only friendly scalability.
&gt; 
&gt; ....Roy


Well, posting SQL to a database URL is out then.
Too much potential for mayhem. Thanks Roy.

Donald.


&gt; -----Original Message-----
&gt; From: Donald Strong [mailto:dstrong@...]
&gt; Sent: Wednesday, 11 February 2004 11:54 AM
&gt; To: S. Alexander Jacobson
&gt; Cc: rest-discuss
&gt; Subject: RE: [rest-discuss] Restful URIs
&gt; 
&gt; 
&gt; 
&gt; &gt; &gt; I have, for some time, been considering how sqlrest could
&gt; &gt; &gt; be modified to handle composite keys.
&gt; &gt; &gt;
&gt; &gt; &gt; http://sqlrest.sourceforge.net/
&gt; &gt;
&gt; &gt; Looks really interesting, but how do you handle joins?
&gt; 
&gt; Thats one of the other things I was considering.
&gt; 
&gt; You do a post of an SQL request to a database URL.
&gt; 
&gt; -------------------------------------------
&gt; post http://me.com/sqlrest/customerdb
&gt; content-type: text/sql
&gt; content-len: xxxx
&gt; 
&gt; select c.cust, c.branch, o.orderno, o.itemno, o.quantity, o.price
&gt;     from customer c, orders o
&gt;     where c.custid = o.custid
&gt;       and c.cust   = "ACME"
&gt;       and c.branch = "Pheonix"
&gt;       and exists ( select * from inventory i where i.quantity &gt; 
&gt; o.quantity )
&gt; 
&gt; ------------------------------------------
&gt; 
&gt; This query tells us what items we have in stock for the current order for
&gt; ACME in Pheonix.
&gt; 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4153<br>
Sender:Seairth Jacobs &lt;seairth@...&gt;<br>
Post Date/Time:2004-02-12 03:16:04<br>
Subject:Re: [rest-discuss] REST Transaction Process<br>
Message:<br><br>
<pre>"Vincent D Murphy" wrote:

&gt; On 11 Feb 2004, at 05:45, Seairth Jacobs wrote:
&gt;
&gt;&gt; Check out http://www.seairth.com/web/resttp.html and tell me what you 
&gt;&gt; think.
&gt;
&gt;
&gt; I like your idea, but I wonder if it may be possible to
&gt; simplify.
&gt;
&gt; Instead of prefixing the URIs of requests in the transaction,
&gt; could the transaction not be referred to by a request header?
&gt;
&gt; So instead of translating (e.g.)
&gt;
&gt; PUT /path/resource1
&gt; to
&gt; PUT /t/123/path/resource1
&gt; why not have
&gt;
&gt; PUT /path/resource1
&gt; Transaction: /t/123
&gt;
&gt; or similar.  The trade-off, as I see it, is that it would be
&gt; easier to write a client that includes an extra header than
&gt; one that munges the request URI; that smells like a kludge
&gt; to me.
&gt;
&gt; What do you think?

I'm not sure, really.  Here are some additional things to think about:

1) By using the prefix approach, the whole thing could be cleanly(?) 
implemented via a single script (or entry-point), anyhow.  For instance, 
the "/t" resource could be implemented as a Python script.  This means 
that you do not have to augment the resources (that can be updated 
within the transaction) to use this capability.  Also, this makes it 
easier to retrofit existing sites with the capability.

2) I have occasionally read that proxies will strip unrecognized 
headers, which would not be good if the transaction resource were passed 
around in that manner.  Another way of looking at this is that the 
prefix approach makes the edited resource(s) and the transaction 
resource inseparable, which I consider to be a Good Thing.

3) As I mention, you can pass the URI of the Transaction resource around 
(or the XML document itself).  You can also pass the URI of an edited 
resource and the reference to the transaction resource is implicitly 
passed along.  The recipient of the resource doesn't even need to know 
about the transaction.  For instance, suppose that you have a standard 
process for updating a resource.  You pass the URI of the resource 
(unedited) within the context of the transaction.  The process performs 
the update as it normally would.  However, it knows nothing about the 
transaction, and doesn't need to.

Seairth


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4154<br>
Sender:Seairth Jacobs &lt;seairth@...&gt;<br>
Post Date/Time:2004-02-12 03:31:21<br>
Subject:Re: [rest-discuss] Re: REST Transaction Process<br>
Message:<br><br>
<pre>"Tony Butterfield" wrote:

&gt;There is a dilema with how to do the PUT in the context of the
&gt;transaction when each request has only one noun.
&gt;
&gt;Is there a general REST pattern for this?
&gt;
&gt;Food for thought- a couple more ways to do it:
&gt;
&gt;1) do a PUT /path/resource1?transaction=/t/123. I.e. put the
&gt;transaction into a query
&gt;  
&gt;
Except that query strings have problems with caching proxies.  Now, this 
may not be much of an issue since caching might not be as important here.

&gt;2) when the transaction is initiated tie it to the identity of the
&gt;client (maybe IP or something more unique), then when a raw PUT is
&gt;performed it can be checked to see that it is in an existing
&gt;transaction
&gt;  
&gt;
This also means that the you cannot pass the transaction URI or resource 
URIs (within the context of the transaction) to anyone.  It is even 
possible to lose access to your transaction altogether, since it is 
always possible that a DHCP server could re-assign your IP address in 
the middle of a transaction.

Seairth



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4155<br>
Sender:Seairth Jacobs &lt;seairth@...&gt;<br>
Post Date/Time:2004-02-12 03:41:31<br>
Subject:Re: [rest-discuss] REST Transaction Process<br>
Message:<br><br>
<pre>"Berend de Boer" wrote:

&gt;&gt;&gt;&gt;&gt;&gt;"Seairth" == Seairth Jacobs &lt;seairth@...&gt; writes:
&gt;&gt;&gt;&gt;&gt;&gt;            
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;
&gt;    Seairth&gt; Check out http://www.seairth.com/web/resttp.html and tell
&gt;    Seairth&gt; me what you think.  Seairth
&gt;
&gt;The big issue is that HTTP is usually available to everyone in the
&gt;world. You don't want to have just anyone being able to hold long
&gt;duration locks by starting transactions.
&gt;
&gt;So while technically you can do it, I don't see it as something I
&gt;would ever use.
&gt;
That would certainly be an issue if using a pessimistic transaction.  
However, the optimistic transaction takes this issue into account.  You 
would access and update a resource (within the context of the 
transaction) to your heart's content without blocking anyone else from 
accessing the original resource.  When you are finished, the actual 
update (and locking) occurs in a relatively short timespan.  Also note 
that the transaction *never* prevents GET requests on the original 
resource.  Updates are only prevented by a pessimistic transaction 
(which the optimistic transaction uses internally, as noted in the 
document).

And, of course, controlling access rights is no different than it would 
be for any other resource(s).

Seairth

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4156<br>
Sender:Walden Mathews &lt;waldenm@...&gt;<br>
Post Date/Time:2004-02-12 03:49:13<br>
Subject:Re: [rest-discuss] REST Transaction Process<br>
Message:<br><br>
<pre>: Initiating a transaction really creates a new view of the entire
: resource space,

Or maybe just a temporarily modified view?

: so it makes sense that any resources accessed
: within the transaction would be accessed at URIs hierarchically
: subordinate to the URI of the transaction itself.

Why would that make sense?

 Walden

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4157<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2004-02-12 03:55:07<br>
Subject:Abuse of remote data access interfaces<br>
Message:<br><br>
<pre>On Wed, Feb 11, 2004 at 05:56:27PM -0800, Roy T. Fielding wrote:
&gt; The rationale for REST being different from RDA, aside from greater
&gt; flexibility of implementation, is that remote data access interfaces
&gt; are extremely susceptible to abuse by rogue clients.

My hunch is that those are the same; that less implementation
flexibility yields more predictable forms of attack.  Or perhaps you
had some more general concern in mind?

I was thinking about this recently when talking with the XQuery WG
about using URIs; it's a good news, bad news sorta thing.

Mark.
-- 
Mark Baker.   Ottawa, Ontario, CANADA.        http://www.markbaker.ca

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4158<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2004-02-12 03:57:11<br>
Subject:Re: [rest-discuss] REST Transaction Process<br>
Message:<br><br>
<pre>On Wed, Feb 11, 2004 at 06:29:28PM -0800, Justin Sampson wrote:
&gt; Doesn't that introduce statefulness into the architecture? The
&gt; transaction URI is just a client session identifier.

The meaning of the message shouldn't depend upon the state of the
transaction, only its identity.  Ergo, still stateless.

Mark.
-- 
Mark Baker.   Ottawa, Ontario, CANADA.        http://www.markbaker.ca

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4159<br>
Sender:Walden Mathews &lt;waldenm@...&gt;<br>
Post Date/Time:2004-02-12 03:58:20<br>
Subject:Re: [rest-discuss] REST Transaction Process<br>
Message:<br><br>
<pre>
----- Original Message ----- 
From: "Justin Sampson" &lt;justin.sampson@...&gt;
To: &lt;rest-discuss@yahoogroups.com&gt;
Sent: Wednesday, February 11, 2004 9:29 PM
Subject: RE: [rest-discuss] REST Transaction Process


: Roy T. Fielding wrote:
: 
: &gt; I would never munge the request URI -- that just won't work in
: &gt; the long term, once you consider the effect of proxies and
: &gt; multi-site transactions. And if you superset the URI space,
: &gt; then questions come up about whether the new space has been
: &gt; checked-out, locked, and/or has the same access control and
: &gt; handlers. Yikes.
: &gt;
: &gt; This topic has come up a few times on webdav and http-wg lists.
: &gt; The transaction is a resource, but the relationship between it
: &gt; and the requested resource can be accomplished via a header
: &gt; field that defines each request as a sequenced resource within
: &gt; a hierarchical transaction. In other words, ask the server for
: &gt; a transaction begin, send the URI it gives the client in each
: &gt; request as a header field with a request number appended to it,
: &gt; and finally abort or commit the transaction as a final request
: &gt; to the transaction's URI. That's basically how I did it for the
: &gt; still-vapor waka protocol.
: 
: Doesn't that introduce statefulness into the architecture? The
: transaction URI is just a client session identifier.

The architecture already has statefulness; it just tries to limit
the amount of anonymous statefulness.

: 
: I usually just insist on exactly one transaction per HTTP request
: for exactly that reason.

Can you implement distributed transactions like that?

Walden


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4160<br>
Sender:Seairth Jacobs &lt;seairth@...&gt;<br>
Post Date/Time:2004-02-12 04:18:59<br>
Subject:Re: [rest-discuss] REST Transaction Process<br>
Message:<br><br>
<pre>"Justin Sampson" wrote:

&gt;However, munging the existing URIs on the client is undesirable.
&gt;  
&gt;
This certainly seems to be a recurring issue with my design.  :)  How is 
this for a compromise:  still use my approach, but all responses to 
transaction-related requests (including GETs) contain a header pointing 
to the transaction resource.  What this means is that, even if the 
client lost the original transaction resource's URI, any action 
performed on a related resource would give it back again, effectively 
allowing the resource URI to stay fairly opaque.

&gt;Also, any relative URIs inside the representations of those various
&gt;resources may be thrown off; the server would have to introspect
&gt;the representations it's returning and munge any URIs therein
&gt;itself, and the client would have to be disciplined about only
&gt;following URIs returned from the server (or built according to
&gt;rules returned from the server, as for an HTML form submission),
&gt;and emphatically not constructing URIs itself -- but then that's
&gt;just good REST sense, anyway.
&gt;  
&gt;
I think absolute URIs and relative URIs with absolute paths would be the 
problem.  Relative URIs with relative paths would not be a problem as 
long as all related resources were accessible from within the 
transaction.  In other words, until such time as a resource was updated 
(but not committed), doing a GET on "/path/resource" would return no 
different a response than a GET on "/t/123/path/resource" (except for 
the additional header mentioned above).  I think...

Seairth


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4161<br>
Sender:Seairth Jacobs &lt;seairth@...&gt;<br>
Post Date/Time:2004-02-12 04:25:08<br>
Subject:Re: [rest-discuss] REST Transaction Process<br>
Message:<br><br>
<pre>"Roy T. Fielding" wrote:

&gt; I would never munge the request URI -- that just won't work in the
&gt; long term, once you consider the effect of proxies and multi-site
&gt; transactions.

I understand the multi-site issue, but not the proxy issue.  As for the 
multi-site issue, I realize that this approach is not perfect.  I can 
think of some ways around it, but things start to get ugly.  I suggest 
that my approach reaches more of an 80/20 point.  It allows the most 
common needs of transactions to occur with little overhead.

&gt; And if you superset the URI space, then questions
&gt; come up about whether the new space has been checked-out, locked,
&gt; and/or has the same access control and handlers.  Yikes.

I would think these answers would be specific to the application, not to 
transactions in general.

&gt; This topic has come up a few times on webdav and http-wg lists.
&gt; The transaction is a resource, but the relationship between it and
&gt; the requested resource can be accomplished via a header field that
&gt; defines each request as a sequenced resource within a hierarchical
&gt; transaction.  In other words, ask the server for a transaction begin,
&gt; send the URI it gives the client in each request as a header field
&gt; with a request number appended to it, and finally abort or commit
&gt; the transaction as a final request to the transaction's URI.  That's
&gt; basically how I did it for the still-vapor waka protocol.

Admittedly, I am arguing vaporware also.   :)

Seairth


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4162<br>
Sender:"Justin Sampson" &lt;justin.sampson@...&gt;<br>
Post Date/Time:2004-02-12 04:38:47<br>
Subject:RE: [rest-discuss] REST Transaction Process<br>
Message:<br><br>
<pre>Walden Mathews wrote:

&gt; &gt; Initiating a transaction really creates a new view of the
&gt; &gt; entire resource space,
&gt;
&gt; Or maybe just a temporarily modified view?

At least, a distinct view.

&gt; &gt; so it makes sense that any resources accessed within the
&gt; &gt; transaction would be accessed at URIs hierarchically
&gt; &gt; subordinate to the URI of the transaction itself.
&gt;
&gt; Why would that make sense?

I was thinking of the view of a resource so accessed as part of
the transaction, and as such subordinate to it.

Justin

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4163<br>
Sender:"Justin Sampson" &lt;justin.sampson@...&gt;<br>
Post Date/Time:2004-02-12 04:54:01<br>
Subject:RE: [rest-discuss] REST Transaction Process<br>
Message:<br><br>
<pre>Mark Baker wrote:

&gt; On Wed, Feb 11, 2004 at 06:29:28PM -0800, Justin Sampson wrote:
&gt;
&gt; &gt; Doesn't that introduce statefulness into the architecture?
&gt; &gt; The transaction URI is just a client session identifier.
&gt;
&gt; The meaning of the message shouldn't depend upon the state of
&gt; the transaction, only its identity. Ergo, still stateless.

I don't understand.

It seems to me that either:

(a) Each transaction contains the states of the various resources
    within it;

or:

(b) Each resource contains different states for different
    transactions itself.

In either case, stateful. I don't get how the transaction's
"identity" makes it stateless. And if the transaction's identity
is important, shouldn't it be included in the URI used to access
resources within it?

Justin

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4164<br>
Sender:"Justin Sampson" &lt;justin.sampson@...&gt;<br>
Post Date/Time:2004-02-12 05:39:58<br>
Subject:RE: [rest-discuss] REST Transaction Process<br>
Message:<br><br>
<pre>Walden Mathews wrote:

&gt; &gt; I usually just insist on exactly one transaction per HTTP
&gt; &gt; request for exactly that reason.
&gt;
&gt; Can you implement distributed transactions like that?

1. Can you describe some applications where distributed
transactions were appropriate, and how REST was or would have
been appropriate for communicating among the various systems?

The inherent statefulness of distributed transactions seems at
odds with the inherent statelessness of REST and HTTP, so I'm
really curious why there's interest in getting them to work
together.

2. As long as the dependencies are fairly decoupled, interactions
between transactional systems can be broken into a sequence of
partial transactions. For example, if in the course of a
transaction on my local system an email is to be sent out through
an external transactional email transport, I can (a) commit the
message locally with a "to be sent" flag, (b) outside of that
first transaction, pick up the message and send it to the
external system, (c) commit another transaction locally to change
the flag to "was sent". If anything fails it can be retried or
otherwise dealt with locally, and the message can be assigned a
globally unique identifier at the start to prevent it being
accidentally sent twice. The original transaction is committed
without the knowledge of whether the external transaction will be
successful, but the constraints and behavior of the sytem are
designed with that in mind so that still nothing is lost and the
whole deal is safe in the transactional sense (no lost data, no
inconsistent data).

If the dependencies are not particularly decoupled, then, again,
REST doesn't seem appropriate anyway. Can you give an example to
the contrary?

Justin

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4165<br>
Sender:"Roy T. Fielding" &lt;fielding@...&gt;<br>
Post Date/Time:2004-02-12 07:40:16<br>
Subject:Re: [rest-discuss] REST Transaction Process<br>
Message:<br><br>
<pre>On Wednesday, February 11, 2004, at 08:54  PM, Justin Sampson wrote:
&gt; Mark Baker wrote:
&gt;&gt; On Wed, Feb 11, 2004 at 06:29:28PM -0800, Justin Sampson wrote:
&gt;&gt;
&gt;&gt;&gt; Doesn't that introduce statefulness into the architecture?
&gt;&gt;&gt; The transaction URI is just a client session identifier.
&gt;&gt;
&gt;&gt; The meaning of the message shouldn't depend upon the state of
&gt;&gt; the transaction, only its identity. Ergo, still stateless.

Right.  Stateless in REST refers to the ability of the server to
not know about prior requests in order to completely understand
the current request.  Since each request is just like a normal one
with the addition of a link to the transaction resource, each
recipient completely understands the current request even if they
are a different server than the one that handled the prior request.

&gt; I don't understand.
&gt;
&gt; It seems to me that either:
&gt;
&gt; (a) Each transaction contains the states of the various resources
&gt;     within it;
&gt;
&gt; or:
&gt;
&gt; (b) Each resource contains different states for different
&gt;     transactions itself.

I think you are mixing representation and resource state with the
concept of stateless messages -- they are entirely different topics.
For example, PUT is a way of creating a named state on the server,
but the message is stateless.

....Roy


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4166<br>
Sender:"Roy T. Fielding" &lt;fielding@...&gt;<br>
Post Date/Time:2004-02-12 07:51:00<br>
Subject:Re: [rest-discuss] REST Transaction Process<br>
Message:<br><br>
<pre>&gt; I understand the multi-site issue, but not the proxy issue.  As for the
&gt; multi-site issue, I realize that this approach is not perfect.  I can
&gt; think of some ways around it, but things start to get ugly.  I suggest
&gt; that my approach reaches more of an 80/20 point.  It allows the most
&gt; common needs of transactions to occur with little overhead.

So does the approach I suggested.  Personally, I find URI-munging a
fatal flaw, even if it gets around a few current implementation issues.

&gt;&gt; And if you superset the URI space, then questions
&gt;&gt; come up about whether the new space has been checked-out, locked,
&gt;&gt; and/or has the same access control and handlers.  Yikes.
&gt;
&gt; I would think these answers would be specific to the application, not 
&gt; to
&gt; transactions in general.

Yes, but the only reason they are specific to the application is because
the transaction system is messing with *their* state, namely the set
of resource identifiers that the clients and servers are supposed
to be making actions upon.  That doesn't work through intermediaries
because the intermediary isn't prepared for the transaction software
to be changing the meaning of each user's requests.  Likewise, all
of the replay-protecting security protocols have to be aware of
the munging as well, or nothing will work.  In short, it breaks the
orthogonality of methods and identifiers.

....Roy


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4167<br>
Sender:"Roy T. Fielding" &lt;fielding@...&gt;<br>
Post Date/Time:2004-02-12 07:54:41<br>
Subject:Re: [rest-discuss] Abuse of remote data access interfaces<br>
Message:<br><br>
<pre>On Wednesday, February 11, 2004, at 07:55  PM, Mark Baker wrote:
&gt; On Wed, Feb 11, 2004 at 05:56:27PM -0800, Roy T. Fielding wrote:
&gt;&gt; The rationale for REST being different from RDA, aside from greater
&gt;&gt; flexibility of implementation, is that remote data access interfaces
&gt;&gt; are extremely susceptible to abuse by rogue clients.
&gt;
&gt; My hunch is that those are the same; that less implementation
&gt; flexibility yields more predictable forms of attack.  Or perhaps you
&gt; had some more general concern in mind?

That may be true as well, but I was referring to human factors:
WWW server developers are far more paranoid than DBAs because they
get abused when they aren't paranoid enough.  Databases, in contrast,
are sold by feature list, just like a word processor.  The WWW server
(or firewall) is supposed to protect the DB from the real world.

....Roy


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4168<br>
Sender:"bhaugen32" &lt;bhaugen32@...&gt;<br>
Post Date/Time:2004-02-12 13:03:32<br>
Subject:Re: REST Transaction Process<br>
Message:<br><br>
<pre>"Roy T. Fielding" wrote:

&gt; This topic has come up a few times on webdav and http-wg lists.
&gt; The transaction is a resource, but the relationship between it and
&gt; the requested resource can be accomplished via a header field that
&gt; defines each request as a sequenced resource within a hierarchical
&gt; transaction.  In other words, ask the server for a transaction 
begin,
&gt; send the URI it gives the client in each request as a header field
&gt; with a request number appended to it, and finally abort or commit
&gt; the transaction as a final request to the transaction's URI.  That's
&gt; basically how I did it for the still-vapor waka protocol.

I like very much the transaction as a resource, and the outcome 
protocol as requests to the transaction's URI, but am having a little 
trouble imagining the rest of your idea.

Have you written any examples anywhere for how this would work?

For example, an order (or any other kind of contract) will involve 
several transactions:  some to come to agreement on commitments, 
others to come to agreement that the commitments were fulfilled, 
maybe still others to settle claims and resolve disputes.

I'd like to see the order as a resource, with each transaction 
involving the order as a resource linked to the order resource, and 
each message in each transaction as a resource linked to the 
transaction, for an audit trail.

I'm trying to imagine how all that would work with your scheme, and 
will post my attempt soon, but would like tips first if I can get 
them.




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4169<br>
Sender:"S. Alexander Jacobson" &lt;alex@...&gt;<br>
Post Date/Time:2004-02-12 15:58:05<br>
Subject:RE: [rest-discuss] REST Transaction Process<br>
Message:<br><br>
<pre>Yes.  All HTTP requests within a transaction have
to be POSTed to transaction resource itself
because otherwise you end up with secret headers
and pull resources out of URI space.  Moreover
GETs are NOT idempotent in transaction space
because they have the side effect of making the
transaction dependent on whether the GET resource
changed (Isolation).  The process should look
something like this:

 C: POST /transactions
 C: &lt;transaction/&gt;

 S: 201 CREATED
 S: Location: /transactions/123

 C: POST /transactions/123
 C: &lt;GET path="http://someURL" reqID="abc123"/&gt;

 S: 200 OK
 S: ...[result of GET in transaction context]

 C: POST /transactions/123
 C: &lt;POST path="http://someURL2" content-type="text/plain" reqID="def456"&gt;
 C: body of POST
 C: &lt;/POST&gt;

 S: 200 OK
 S: ...[result of POST]...

 C: POST /transactions/123
 C: PREPARE

 S: 200 OK

 C: POST /transactions/123
 C: COMMIT

 S: 200 OK

The transaction manager can give an error if it
can't guarantee ACID for a resource involved with
the transaction.  There are no non-URI accesible
resources.  Note, I don't know how you implement
PREPARE over the internet as it requires servers
to allow long running locks, so perhaps you allow
only COMMIT (and assume optimistic concurrency).

-Alex-

_________________________________________________________________
S. Alexander Jacobson                  mailto:me@...
tel:917-770-6565                       http://alexjacobson.com




On Wed, 11 Feb 2004, Justin Sampson wrote:
&gt; Yeah -- a transaction is inherently stateful, so it's gotta be
&gt; managed as a distinct resource space. Any GET on a resource
&gt; within the context of the transaction must identify the
&gt; transaction in the URI. Any GET on the original URI must be
&gt; treated as outside of any transaction.
&gt;
&gt; Initiating a transaction really creates a new view of the entire
&gt; resource space, so it makes sense that any resources accessed
&gt; within the transaction would be accessed at URIs hierarchically
&gt; subordinate to the URI of the transaction itself. However,
&gt; munging the existing URIs on the client is undesirable. Also, any
&gt; relative URIs inside the representations of those various
&gt; resources may be thrown off; the server would have to introspect
&gt; the representations it's returning and munge any URIs therein
&gt; itself, and the client would have to be disciplined about only
&gt; following URIs returned from the server (or built according to
&gt; rules returned from the server, as for an HTML form submission),
&gt; and emphatically not constructing URIs itself -- but then that's
&gt; just good REST sense, anyway.
&gt;
&gt; Justin
&gt;
&gt; &gt; -----Original Message-----
&gt; &gt; From: Jeff Bone [mailto:jbone@...]
&gt; &gt; Sent: Wednesday, February 11, 2004 7:16 AM
&gt; &gt; To: Vincent D Murphy
&gt; &gt; Cc: Seairth Jacobs; rest-discuss@yahoogroups.com
&gt; &gt; Subject: Re: [rest-discuss] REST Transaction Process
&gt; &gt;
&gt; &gt; IMHO, the transaction is an object (resource) in itself. This
&gt; &gt; is a standard pattern in transaction managers, cf. Java's
&gt; &gt; transaction facility, OODBs that support long-running
&gt; &gt; transactions, etc. Given this, it's appropriate for it to have
&gt; &gt; a URI. I'm not sure munging the original resource onto the
&gt; &gt; transaction URI is a great solution, but it's better than
&gt; &gt; burying things in the headers.
&gt; &gt;
&gt; &gt; Reifying the transaction is a good thing!
&gt; &gt;
&gt; &gt; jb
&gt; &gt;
&gt; &gt; On Feb 11, 2004, at 3:03 AM, Vincent D Murphy wrote:
&gt; &gt;
&gt; &gt; &gt; On 11 Feb 2004, at 05:45, Seairth Jacobs wrote:
&gt; &gt; &gt;
&gt; &gt; &gt; &gt; Check out http://www.seairth.com/web/resttp.html and tell
&gt; &gt; &gt; &gt; me what you think.
&gt; &gt; &gt;
&gt; &gt; &gt; I like your idea, but I wonder if it may be possible to
&gt; &gt; &gt; simplify.
&gt; &gt; &gt;
&gt; &gt; &gt; Instead of prefixing the URIs of requests in the transaction,
&gt; &gt; &gt; could the transaction not be referred to by a request header?
&gt; &gt; &gt;
&gt; &gt; &gt; So instead of translating (e.g.)
&gt; &gt; &gt;
&gt; &gt; &gt; PUT /path/resource1
&gt; &gt; &gt; to
&gt; &gt; &gt; PUT /t/123/path/resource1
&gt; &gt; &gt; why not have
&gt; &gt; &gt;
&gt; &gt; &gt; PUT /path/resource1
&gt; &gt; &gt; Transaction: /t/123
&gt; &gt; &gt;
&gt; &gt; &gt; or similar.  The trade-off, as I see it, is that it would be
&gt; &gt; &gt; easier to write a client that includes an extra header than
&gt; &gt; &gt; one that munges the request URI; that smells like a kludge to
&gt; &gt; &gt; me.
&gt; &gt; &gt;
&gt; &gt; &gt; What do you think?
&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;
&gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4170<br>
Sender:"bhaugen32" &lt;bhaugen32@...&gt;<br>
Post Date/Time:2004-02-12 16:13:32<br>
Subject:Re: REST Transaction Process<br>
Message:<br><br>
<pre>"S. Alexander Jacobson" wrote:
&gt; Note, I don't know how you implement
&gt; PREPARE over the internet as it requires servers
&gt; to allow long running locks, so perhaps you allow
&gt; only COMMIT (and assume optimistic concurrency).

Several patterns have been implemented by my employer for 2-phase 
outcome protocols (including PREPARE) that do not require long-
running locks.  

For example:

Do-Compensate:  Do the work in the active phase, Compensate (undo) 
upon ABORT, COMMIT is a no-op.

Validate-Do: Validate that you *could* do the work in the active 
phase, Do the work upon COMMIT, ABORT is a no-op.

Provisional-Do:  Do the work in the active phase but mark it 
provisional.  Upon COMMIT, make it official.  Upon ABORT, undo the 
provisional work, delete it, or mark it canceled.

Which pattern to use depends on context.  For example, Do-Compensate 
is no good for purchase orders.  You don't want them to be fulfilled 
if they are going to be aborted.



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4171<br>
Sender:"S. Alexander Jacobson" &lt;alex@...&gt;<br>
Post Date/Time:2004-02-12 16:33:57<br>
Subject:Re: [rest-discuss] Re: REST Transaction Process<br>
Message:<br><br>
<pre>On Thu, 12 Feb 2004, bhaugen32 wrote:
&gt; Several patterns have been implemented by my employer for 2-phase
&gt; outcome protocols (including PREPARE) that do not require long-
&gt; running locks.

Interesting.  So lets use as an example a
sequential number server.  Client's post an
identity and receive a unique sequence number.

&gt; Do-Compensate:  Do the work in the active phase, Compensate (undo)
&gt; upon ABORT, COMMIT is a no-op.

Not appropriate.

&gt; Validate-Do: Validate that you *could* do the work in the active
&gt; phase, Do the work upon COMMIT, ABORT is a no-op.

You can't validate until all prior transactions COMMIT.

&gt; Provisional-Do:  Do the work in the active phase but mark it
&gt; provisional.  Upon COMMIT, make it official.  Upon ABORT, undo the
&gt; provisional work, delete it, or mark it canceled.

You can't COMMIT until all prior transactions are COMMITed.

In the interim you need to tell the client that
they are waiting until the resource is unlocked by
COMMIT or ABORT of a prior transaction.

-Alex-

_________________________________________________________________
S. Alexander Jacobson                  mailto:me@...
tel:917-770-6565                       http://alexjacobson.com

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4172<br>
Sender:Josh Sled &lt;jsled-yahoogroup@...&gt;<br>
Post Date/Time:2004-02-12 18:09:16<br>
Subject:Re: [rest-discuss] REST Transaction Process<br>
Message:<br><br>
<pre>On Wed, Feb 11, 2004 at 08:54:01PM -0800, Justin Sampson wrote:

| (a) Each transaction contains the states of the various resources
|     within it;
| 
| or:
| 
| (b) Each resource contains different states for different
|     transactions itself.
| 
| In either case, stateful. I don't get how the transaction's
| "identity" makes it stateless. And if the transaction's identity
| is important, shouldn't it be included in the URI used to access
| resources within it?

I think transaction-containment is only logical, not physical.
The transaction doesn't structurally contain the resources within it,
which is the property I want to see in the URI... but those resources
are messaged within the scope of a transaction.  Thus, push the scoping
issue to a header, and identify the transaction as a resource.  Leave the
resources being manipulated with their "natural" identifiers.

...jsled

-- 
http://www.asynchronous.org - `a=jsled; b=asynchronous.org; echo ${a}@${b}`

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4173<br>
Sender:"bhaugen32" &lt;bhaugen32@...&gt;<br>
Post Date/Time:2004-02-12 19:11:43<br>
Subject:Re: REST Transaction Process<br>
Message:<br><br>
<pre>"S. Alexander Jacobson" wrote:
&gt; On Thu, 12 Feb 2004, bhaugen32 wrote:
&gt; &gt; Several patterns have been implemented by my employer for 2-phase
&gt; &gt; outcome protocols (including PREPARE) that do not require long-
&gt; &gt; running locks.
&gt; 
&gt; Interesting.  So lets use as an example a
&gt; sequential number server.  Client's post an
&gt; identity and receive a unique sequence number.
&gt; 
&gt; &gt; Do-Compensate:  Do the work in the active phase, Compensate (undo)
&gt; &gt; upon ABORT, COMMIT is a no-op.
&gt; 
&gt; Not appropriate.
&gt; 
&gt; &gt; Validate-Do: Validate that you *could* do the work in the active
&gt; &gt; phase, Do the work upon COMMIT, ABORT is a no-op.
&gt; 
&gt; You can't validate until all prior transactions COMMIT.
&gt; 
&gt; &gt; Provisional-Do:  Do the work in the active phase but mark it
&gt; &gt; provisional.  Upon COMMIT, make it official.  Upon ABORT, undo the
&gt; &gt; provisional work, delete it, or mark it canceled.
&gt; 
&gt; You can't COMMIT until all prior transactions are COMMITed.
&gt; 
&gt; In the interim you need to tell the client that
&gt; they are waiting until the resource is unlocked by
&gt; COMMIT or ABORT of a prior transaction.

You left out the prefix to the patterns, "For example:"
No claim to completeness, nor that you can always avoid locking.

If the rules say that each sequence number must be accounted for, and 
tagging as "aborted" is not a proper accounting, so that you cannot 
give out the next sequence number until all the previously incomplete 
transactions either commit or abort, then you have posed a difficult 
problem to solve in a loosely-coupled fashion.

How would you do it?


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4174<br>
Sender:"S. Alexander Jacobson" &lt;alex@...&gt;<br>
Post Date/Time:2004-02-12 19:15:33<br>
Subject:Re: [rest-discuss] RDF Forms<br>
Message:<br><br>
<pre>In the talk, you said:

* You can go from XML namespace to document specific processing.
&lt;http://www.markbaker.ca/Talks/2004-xmlself/slide19-0.html&gt;

* Namespaces give meaning to XML elements w/r/t their parents if any.
* RDF is the format for representing those namespaces
http://www.markbaker.ca/Talks/2004-xmlself/slide24-0.html

This is totally cool and totally clear.  I've
never actually grokked the purpose of RDF before.
Thank you.

So my current understanding is that
DTD/Schema/RelaxNG are ways to describe what XML
elements an application produces/consumes, RDF is
a way to describe the meaning of those elements,
and namespaces are a way to identify them.

But, you want to use RDF to replace
DTD/Schema/RelaxNG and I'm not seeing how that
works.

For example, how can we use RDF to say that we
require/produce a name, an age, and a list of
phone numbers?

Perhaps RDF-forms is an answer.  But it seems
less expressive than DTDs/RelaxNG/Schema.

-Alex-

_________________________________________________________________
S. Alexander Jacobson                  mailto:me@...
tel:917-770-6565                       http://alexjacobson.com

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4175<br>
Sender:"Justin Sampson" &lt;justin.sampson@...&gt;<br>
Post Date/Time:2004-02-12 19:22:04<br>
Subject:RE: [rest-discuss] REST Transaction Process<br>
Message:<br><br>
<pre>S. Alexander Jacobson wrote:

&gt; Yes. All HTTP requests within a transaction have to be POSTed
&gt; to transaction resource itself because otherwise you end up
&gt; with secret headers and pull resources out of URI space.
&gt; Moreover GETs are NOT idempotent in transaction space because
&gt; they have the side effect of making the transaction dependent
&gt; on whether the GET resource changed (Isolation).

Ooh, good catch. Yes, the state of a transaction really consists
of the log of all queries and updates performed in the context of
that transaction.

Therefore your following suggestion seems to me to be the only
valid way to do it.

Then XA-style distributed transactions would simply include the
global transaction ID in the original POST to /transactions on
each server that will be involved.

But a proper two-phase commit does require locks between the
prepare and the final commit, even if the rest of the transaction
was performed optimistically.

Justin

&gt; The process should look something like this:
&gt;
&gt; C: POST /transactions
&gt; C: &lt;transaction/&gt;
&gt;
&gt; S: 201 CREATED
&gt; S: Location: /transactions/123
&gt;
&gt; C: POST /transactions/123
&gt; C: &lt;GET path="http://someURL" reqID="abc123"/&gt;
&gt;
&gt; S: 200 OK
&gt; S: ...[result of GET in transaction context]
&gt;
&gt; C: POST /transactions/123
&gt; C: &lt;POST path="http://someURL2" content-type="text/plain"
reqID="def456"&gt;
&gt; C: body of POST
&gt; C: &lt;/POST&gt;
&gt;
&gt; S: 200 OK
&gt; S: ...[result of POST]...
&gt;
&gt; C: POST /transactions/123
&gt; C: PREPARE
&gt;
&gt; S: 200 OK
&gt;
&gt; C: POST /transactions/123
&gt; C: COMMIT
&gt;
&gt; S: 200 OK
&gt;
&gt; The transaction manager can give an error if it can't guarantee
&gt; ACID for a resource involved with the transaction. There are no
&gt; non-URI accesible resources. Note, I don't know how you
&gt; implement PREPARE over the internet as it requires servers to
&gt; allow long running locks, so perhaps you allow only COMMIT (and
&gt; assume optimistic concurrency).
&gt;
&gt; -Alex-

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4176<br>
Sender:"Justin Sampson" &lt;justin.sampson@...&gt;<br>
Post Date/Time:2004-02-12 19:30:50<br>
Subject:RE: [rest-discuss] Re: REST Transaction Process<br>
Message:<br><br>
<pre>Bob Haugen wrote:

&gt; Several patterns have been implemented by my employer for
&gt; 2-phase outcome protocols (including PREPARE) that do not
&gt; require long- running locks.
&gt;
&gt; For example:
&gt;
&gt; Do-Compensate: Do the work in the active phase, Compensate
&gt; (undo) upon ABORT, COMMIT is a no-op.
&gt;
&gt; Validate-Do: Validate that you *could* do the work in the
&gt; active phase, Do the work upon COMMIT, ABORT is a no-op.
&gt;
&gt; Provisional-Do: Do the work in the active phase but mark it
&gt; provisional. Upon COMMIT, make it official. Upon ABORT, undo
&gt; the provisional work, delete it, or mark it canceled.
&gt;
&gt; Which pattern to use depends on context. For example,
&gt; Do-Compensate is no good for purchase orders. You don't want
&gt; them to be fulfilled if they are going to be aborted.

These look like various patterns consistent with what I described
earlier, using a sequence of individual, local transactions to
accomplish some distributed activity, to use your later words,
"in a loosely-coupled fashion". The example of transactional
email I gave was an example of what you call "Provisional-Do".

Justin

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4177<br>
Sender:"Justin Sampson" &lt;justin.sampson@...&gt;<br>
Post Date/Time:2004-02-12 19:42:14<br>
Subject:RE: [rest-discuss] REST Transaction Process<br>
Message:<br><br>
<pre>Roy T. Fielding wrote:

&gt; Right. Stateless in REST refers to the ability of the server to
&gt; not know about prior requests in order to completely understand
&gt; the current request. Since each request is just like a normal
&gt; one with the addition of a link to the transaction resource,
&gt; each recipient completely understands the current request even
&gt; if they are a different server than the one that handled the
&gt; prior request.

What?!?

Does that mean that session cookies are okay, as long as I use
URI syntax for the session key and the session state is
persisted?

Justin

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4178<br>
Sender:Vincent D Murphy &lt;vdm@...&gt;<br>
Post Date/Time:2004-02-12 20:20:03<br>
Subject:Re: REST Transaction Process<br>
Message:<br><br>
<pre>On 12 Feb 2004, at 19:42, Justin Sampson wrote:
&gt; Does that mean that session cookies are okay, as long as I use
&gt; URI syntax for the session key and the session state is
&gt; persisted?

Yes.  (IMHO)

I would phrase that as "sessions are resources, with URIs".
I don't see how whether or not the session state is persisted is
relevant.  But I do agree that this is the least RESTless way to
do sessions.

The web server would maintain a /sessions resource, and a bunch
of /sessions/&lt;key&gt; resources for each session.

I think sessions will always be necessary because user agents
aren't quite at the races when it comes to maintaining things
like login and shopping carts.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4179<br>
Sender:Vincent D Murphy &lt;vdm@...&gt;<br>
Post Date/Time:2004-02-12 20:28:17<br>
Subject:Re: REST Transaction Process<br>
Message:<br><br>
<pre>On 12 Feb 2004, at 15:58, S. Alexander Jacobson wrote:
&gt; Yes.  All HTTP requests within a transaction have
&gt; to be POSTed to transaction resource itself
&gt; because otherwise you end up with secret headers [..]

Can you elaborate on this?  Secret to who?  The client
and the server can both access the headers.

&gt; [..] and pull resources out of URI space.

What does "pull resources out of URI space" mean?

&gt; Moreover
&gt; GETs are NOT idempotent in transaction space
&gt; because they have the side effect of making the
&gt; transaction dependent on whether the GET resource
&gt; changed (Isolation).

Good point; thanks for reminding me how little I know about
transactions!  I think I need to read a good book on TP; any
suggestions?

&gt; The process should look
&gt; something like this:
&gt;
&gt;  C: POST /transactions
&gt;  C: &lt;transaction/&gt;
&gt;
&gt;  S: 201 CREATED
&gt;  S: Location: /transactions/123

OK, but..

&gt;  C: POST /transactions/123
&gt;  C: &lt;GET path="http://someURL" reqID="abc123"/&gt;
&gt;
&gt;  S: 200 OK
&gt;  S: ...[result of GET in transaction context]
&gt;
&gt;  C: POST /transactions/123
&gt;  C: &lt;POST path="http://someURL2" content-type="text/plain" 
&gt; reqID="def456"&gt;
&gt;  C: body of POST
&gt;  C: &lt;/POST&gt;

Am I the only one who thinks this looks like tunneling HTTP?

Please, somebody tell me how all this is better than using a
header with the URI of the transaction (or some other mechanism
altogether.  I must be missing something obvious.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4180<br>
Sender:"Justin Sampson" &lt;justin.sampson@...&gt;<br>
Post Date/Time:2004-02-12 20:30:19<br>
Subject:RE: REST Transaction Process<br>
Message:<br><br>
<pre>Vincent D Murphy wrote:

&gt; On 12 Feb 2004, at 19:42, Justin Sampson wrote:
&gt;
&gt; &gt; Does that mean that session cookies are okay, as long as I
&gt; &gt; use URI syntax for the session key and the session state is
&gt; &gt; persisted?
&gt;
&gt; Yes. (IMHO)
&gt;
&gt; I would phrase that as "sessions are resources, with URIs". I
&gt; don't see how whether or not the session state is persisted is
&gt; relevant. But I do agree that this is the least RESTless way to
&gt; do sessions.

And I don't see how the syntax of the cookie is relevant.

The "persistent" part was in response to Roy's suggestion that
the state is okay as long as any one of multiple servers can get
at it.

&gt; The web server would maintain a /sessions resource, and a bunch
&gt; of /sessions/&lt;key&gt; resources for each session.
&gt;
&gt; I think sessions will always be necessary because user agents
&gt; aren't quite at the races when it comes to maintaining things
&gt; like login and shopping carts.

That's fine -- I would just rather see the session key in the URI
being accessed, like &lt;http://example.com/hf4347hf3i/dashboard&gt;
being a particular user's dashboard in a particular login
session.

Justin

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4181<br>
Sender:Vincent D Murphy &lt;vdm@...&gt;<br>
Post Date/Time:2004-02-12 20:37:11<br>
Subject:Re: [rest-discuss] RDF Forms<br>
Message:<br><br>
<pre>On 12 Feb 2004, at 19:15, S. Alexander Jacobson wrote:
&gt; This is totally cool and totally clear.

I agree.

Mark presented each protocol from ethernet up to XML as
having a field telling the next layer up what it's
protocol/language is.

Like this:

ethernet-&gt;IP (field in ethernet frame)
IP-&gt;TCP (field in IP packet)
TCP-&gt;HTTP (via port number and/or SRV DNS records)
HTTP-&gt;XML (mime-type)
XML-&gt; this is where it gets interesting


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4182<br>
Sender:Vincent D Murphy &lt;vdm@...&gt;<br>
Post Date/Time:2004-02-12 20:41:42<br>
Subject:Re: [rest-discuss] RE: REST Transaction Process<br>
Message:<br><br>
<pre>On 12 Feb 2004, at 20:30, Justin Sampson wrote:
&gt; That's fine -- I would just rather see the session key in the URI
&gt; being accessed, like &lt;http://example.com/hf4347hf3i/dashboard&gt;
&gt; being a particular user's dashboard in a particular login
&gt; session.

I think we more or less agree; I see the dashboard resource
having a URI like http://example.com/sessions/hf4347hf3i/dashboard

That's what I meant when I said &lt;key&gt; .


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4183<br>
Sender:"Roy T. Fielding" &lt;fielding@...&gt;<br>
Post Date/Time:2004-02-12 20:57:02<br>
Subject:Re: [rest-discuss] REST Transaction Process<br>
Message:<br><br>
<pre>&gt; Does that mean that session cookies are okay, as long as I use
&gt; URI syntax for the session key and the session state is
&gt; persisted?

Yes and no.  They satisfy the stateless constraint, but they lose by
creating an infinite resource space.  Sessions are rarely necessary,
but when they are necessary (such as per-client transaction state that
needs to be available via multiple devices) they should be tied to
a specific user, not the browser that user happens to be using.
Authentication is where that should be enabled.

A more REST solution for shopping carts is to keep the state on the
client, which could be accomplished simply by defining a few commerce
elements for HTML and the protocol for dealing with the checkout
(a resource referenced by those elements).  The reasons that did not
happen on the Web are purely social, not technical.

....Roy


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4184<br>
Sender:Jeff Bone &lt;jbone@...&gt;<br>
Post Date/Time:2004-02-12 23:42:29<br>
Subject:Re: [rest-discuss] REST Transaction Process<br>
Message:<br><br>
<pre>
On Feb 12, 2004, at 2:57 PM, Roy T. Fielding wrote:

&gt;&gt; Does that mean that session cookies are okay, as long as I use
&gt;&gt; URI syntax for the session key and the session state is
&gt;&gt; persisted?
&gt;
&gt; Yes and no.

That means "no," right? ;-)

But a serious question.  You say:

&gt; They [session cookies w/ URI syntax session keys and persisted state] 
&gt; satisfy the stateless constraint, but they lose by
&gt; creating an infinite resource space.

Not challenging the assertion at all, but looking for a bit more 
clarity in the abstract.  Sounds like there might be one of those 
mind-blowing gestalts lurking here.  I'd really like to understand:

(1)  What you mean by an infinite resource space...
(2)  How it is that (session) cookies create an infinite resource 
space...
(3)  Why an infinite resource space is a bad thing...

THX in advance,

jb

PS - Roy, since you went to all the trouble to get gbiv.com, why do you 
go by fielding@... when clearly roy@gbiv is the intended and 
admirably-groanable pun? :-)


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4185<br>
Sender:"Roy T. Fielding" &lt;fielding@...&gt;<br>
Post Date/Time:2004-02-13 01:12:48<br>
Subject:sessions and infinite URIs<br>
Message:<br><br>
<pre>On Thursday, February 12, 2004, at 03:42  PM, Jeff Bone wrote:
&gt; On Feb 12, 2004, at 2:57 PM, Roy T. Fielding wrote:
&gt;
&gt;&gt;&gt; Does that mean that session cookies are okay, as long as I use
&gt;&gt;&gt; URI syntax for the session key and the session state is
&gt;&gt;&gt; persisted?
&gt;&gt;
&gt;&gt; Yes and no.
&gt;
&gt; That means "no," right? ;-)

I meant that, if the session is defined as an aspect of the resource
that is being acted upon (the effect of placing it in the URI instead
of in the cookie header fields), then it does not violate the
stateless constraint.  However, that doesn't mean it is "okay", because
doing so makes the URI worthless for later reference (infinite URIs
due to session id being in the URI).  The set of URIs can be reduced
to a more natural, finite set by inserting the user id instead.
Better yet, when possible, avoid placing temporary state on the
server and thus keep the URI free of any user state information.
That is easy to do for new architectures -- much harder when dealing
with legacy browsers.

In any case, the problem with cookies in the header is *not* that
they violate statelessness, but rather that they violate visibility
(because nobody knows why they are there) and reliability (because
they are associated with the site rather than the current state of
the user's interface).  A message containing cookie headers is still
stateless, assuming that the cookie isn't specified relative to
some prior state (which would be very weird).

&gt; But a serious question.  You say:
&gt;
&gt;&gt; They [session cookies w/ URI syntax session keys and persisted state] 
&gt;&gt; satisfy the stateless constraint, but they lose by
&gt;&gt; creating an infinite resource space.
&gt;
&gt; Not challenging the assertion at all, but looking for a bit more 
&gt; clarity in the abstract.  Sounds like there might be one of those 
&gt; mind-blowing gestalts lurking here.  I'd really like to understand:
&gt;
&gt; (1)  What you mean by an infinite resource space...
&gt; (2)  How it is that (session) cookies create an infinite resource 
&gt; space...

I meant session cookies placed within the URI.

&gt; (3)  Why an infinite resource space is a bad thing...

At any instant in time, the web consists of a space of nodes defined
by all referenced resources (resources with defined URI).  If some part
of the URI corresponds to a random id, then that space is effectively
infinite and short-lived, which in turn means that people can't share
those resources even when they are equivalent.

Metcalfe's Law refers to the value of a network of connected nodes.
When two or more URI exist for the same resource, that resource's
connected neighbors are partitioned among them.  In effect, the
Web reaches a point of disjunction rather than conjunction, which
affects the value of the neighbor relations.  Hmmm, just a minute...
googling...I knew there would be a theory somewhere:

    &lt;http://powerlaws.media.mit.edu/&gt;

That looks like a valuable resource.

&gt; PS - Roy, since you went to all the trouble to get gbiv.com, why do 
&gt; you go by fielding@... when clearly roy@gbiv is the intended and 
&gt; admirably-groanable pun? :-)

Because, when I tried that, I quickly found out that some portion of
the Internet has been using that address in the same way as Mickey Mouse
for those marketing sites that demand a non-verified e-mail address.
So much for my grand plan to reduce typing by grabbing a four-letter
domain.  I decided it would be better to reject that address, at least
for a few more years.  The pun still works for my personal home page.

Actually, it isn't a pun -- G. Biv is my basketball nickname from
the dorms at UCI.

....Roy    &lt;http://roy.gbiv.com/&gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4186<br>
Sender:"justin_t_sampson" &lt;justin.sampson@...&gt;<br>
Post Date/Time:2004-02-13 02:19:41<br>
Subject:Re: sessions and infinite URIs<br>
Message:<br><br>
<pre>Roy T. Fielding wrote:

&gt; &gt; &gt; &gt; Does that mean that session cookies are okay, as long as
&gt; &gt; &gt; &gt; I use URI syntax for the session key and the session
&gt; &gt; &gt; &gt; state is persisted?
&gt; &gt; &gt;
&gt; &gt; &gt; Yes and no.
&gt; &gt;
&gt; &gt; That means "no," right? ;-)
&gt;
&gt; I meant that, if the session is defined as an aspect of the
&gt; resource that is being acted upon (the effect of placing it in
&gt; the URI instead of in the cookie header fields), then it does
&gt; not violate the stateless constraint. However, that doesn't
&gt; mean it is "okay", because doing so makes the URI worthless for
&gt; later reference (infinite URIs due to session id being in the
&gt; URI). The set of URIs can be reduced to a more natural, finite
&gt; set by inserting the user id instead. Better yet, when
&gt; possible, avoid placing temporary state on the server and thus
&gt; keep the URI free of any user state information. That is easy
&gt; to do for new architectures -- much harder when dealing with
&gt; legacy browsers.

Aaaah, okay. I didn't express myself clearly.

When I asked, "Does that mean that session cookies are okay, as
long as I use URI syntax for the session key and the session
state is persisted?" I didn't mean putting the session key in the
URI, I meant putting the session key in a cookie but using the
URI syntax for composing the key itself. That is, assigning a URI
to the session, persisting the session state, and then putting
the session URI in a cookie.

I don't see the difference in principle for REST between that and
using a big random number for the session key and keeping the
session state in memory, in terms of what "stateful" means, but I
believe you had suggested there would be a difference.

&gt; In any case, the problem with cookies in the header is *not*
&gt; that they violate statelessness, but rather that they violate
&gt; visibility (because nobody knows why they are there) and
&gt; reliability (because they are associated with the site rather
&gt; than the current state of the user's interface). A message
&gt; containing cookie headers is still stateless, assuming that the
&gt; cookie isn't specified relative to some prior state (which
&gt; would be very weird).

Really? That's odd, because reading your dissertation just now
for the definition of statelessness I was about to suppose that
even putting the session key in the URI itself would be
considered stateful according to REST: "communication must be
stateless in nature [...] such that each request from client to
server must contain all of the information necessary to
understand the request, and cannot take advantage of any stored
context on the server. Session state is therefore kept entirely
on the client.

"This constraint induces the properties of visibility,
reliability, and scalability. Visibility is improved because a
monitoring system does not have to look beyond a single request
datum in order to determine the full nature of the request.
Reliability is improved because it eases the task of recovering
from partial failures. Scalability is improved because not having
to store state between requests allows the server component to
quickly free resources, and further simplifies implementation
because the server doesn't have to manage resource usage across
requests."

&lt;http://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.ht
m#sec_5_1_3&gt;

The "managing resource usage" problem applies equally to all the
ways we've described for managing session state, suggesting that
the fact of the session state itself is "stateful" and therefore
in violation of REST regardless of how the client passes the key
to the server. You've said as much in this discussion, except
that you're saying that's not what "statefulness" means, which I
find rather confusing.

Justin



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4187<br>
Sender:Walden Mathews &lt;waldenm@...&gt;<br>
Post Date/Time:2004-02-13 03:04:38<br>
Subject:Re: [rest-discuss] Re: sessions and infinite URIs<br>
Message:<br><br>
<pre>I think the confusion may arise from the sloppy way in which
the word "stateless" is sometimes used.  If I'm not mistaken, REST
is interested in stateless servers, i.e., servers shouldn't be burdened
with remembering what clients had said on previous encounters.

When you talk about "stateless messages" you're talking nonsense,
strictly speaking.  A message is a collection of bits, and that's
state.  So strict analysis is a dead end.

What's likely meant by "stateless message" is really the opposite:
that the message capitulates the state of the conversation's progress
so that the server doesn't need to.

A cookie that says "we're on step 6 of our business process", in
a message designed to take us to step seven, is fine, as it tells the
server everything it needs to know to proceed.

A cookie that says "I'm session '27htiwydn5&amp;&amp;', remember me"
has the opposite effect.  It's pointing the server to server-side state
stored for the session.

So you need to know more than just that there's a cookie.  The
key and underlying issue is whether the server has dedicated
storage resources to remembering a conversation.  All else is
window dressing.

How'm I doin'?

Walden


----- Original Message ----- 
From: "justin_t_sampson" &lt;justin.sampson@...&gt;
To: &lt;rest-discuss@yahoogroups.com&gt;
Sent: Thursday, February 12, 2004 9:19 PM
Subject: [rest-discuss] Re: sessions and infinite URIs


: Roy T. Fielding wrote:
: 
: &gt; &gt; &gt; &gt; Does that mean that session cookies are okay, as long as
: &gt; &gt; &gt; &gt; I use URI syntax for the session key and the session
: &gt; &gt; &gt; &gt; state is persisted?
: &gt; &gt; &gt;
: &gt; &gt; &gt; Yes and no.
: &gt; &gt;
: &gt; &gt; That means "no," right? ;-)
: &gt;
: &gt; I meant that, if the session is defined as an aspect of the
: &gt; resource that is being acted upon (the effect of placing it in
: &gt; the URI instead of in the cookie header fields), then it does
: &gt; not violate the stateless constraint. However, that doesn't
: &gt; mean it is "okay", because doing so makes the URI worthless for
: &gt; later reference (infinite URIs due to session id being in the
: &gt; URI). The set of URIs can be reduced to a more natural, finite
: &gt; set by inserting the user id instead. Better yet, when
: &gt; possible, avoid placing temporary state on the server and thus
: &gt; keep the URI free of any user state information. That is easy
: &gt; to do for new architectures -- much harder when dealing with
: &gt; legacy browsers.
: 
: Aaaah, okay. I didn't express myself clearly.
: 
: When I asked, "Does that mean that session cookies are okay, as
: long as I use URI syntax for the session key and the session
: state is persisted?" I didn't mean putting the session key in the
: URI, I meant putting the session key in a cookie but using the
: URI syntax for composing the key itself. That is, assigning a URI
: to the session, persisting the session state, and then putting
: the session URI in a cookie.
: 
: I don't see the difference in principle for REST between that and
: using a big random number for the session key and keeping the
: session state in memory, in terms of what "stateful" means, but I
: believe you had suggested there would be a difference.
: 
: &gt; In any case, the problem with cookies in the header is *not*
: &gt; that they violate statelessness, but rather that they violate
: &gt; visibility (because nobody knows why they are there) and
: &gt; reliability (because they are associated with the site rather
: &gt; than the current state of the user's interface). A message
: &gt; containing cookie headers is still stateless, assuming that the
: &gt; cookie isn't specified relative to some prior state (which
: &gt; would be very weird).
: 
: Really? That's odd, because reading your dissertation just now
: for the definition of statelessness I was about to suppose that
: even putting the session key in the URI itself would be
: considered stateful according to REST: "communication must be
: stateless in nature [...] such that each request from client to
: server must contain all of the information necessary to
: understand the request, and cannot take advantage of any stored
: context on the server. Session state is therefore kept entirely
: on the client.
: 
: "This constraint induces the properties of visibility,
: reliability, and scalability. Visibility is improved because a
: monitoring system does not have to look beyond a single request
: datum in order to determine the full nature of the request.
: Reliability is improved because it eases the task of recovering
: from partial failures. Scalability is improved because not having
: to store state between requests allows the server component to
: quickly free resources, and further simplifies implementation
: because the server doesn't have to manage resource usage across
: requests."
: 
: &lt;http://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.ht
: m#sec_5_1_3&gt;
: 
: The "managing resource usage" problem applies equally to all the
: ways we've described for managing session state, suggesting that
: the fact of the session state itself is "stateful" and therefore
: in violation of REST regardless of how the client passes the key
: to the server. You've said as much in this discussion, except
: that you're saying that's not what "statefulness" means, which I
: find rather confusing.
: 
: Justin
: 
: 
: 
: 
:  
: Yahoo! Groups Links
: 
: 
: 
:  
: 
: 
: __________ NOD32 1.619 (20040209) Information __________
: 
: This message was checked by NOD32 Antivirus System.
: http://www.nod32.com
: 
: 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4188<br>
Sender:"S. Alexander Jacobson" &lt;alex@...&gt;<br>
Post Date/Time:2004-02-13 20:50:41<br>
Subject:Re: [rest-discuss] Re: REST Transaction Process<br>
Message:<br><br>
<pre>On Thu, 12 Feb 2004, Vincent D Murphy wrote:
&gt; On 12 Feb 2004, at 15:58, S. Alexander Jacobson wrote:
&gt; &gt; Yes.  All HTTP requests within a transaction have
&gt; &gt; to be POSTed to transaction resource itself
&gt; &gt; because otherwise you end up with secret headers [..]
&gt;
&gt; Can you elaborate on this?  Secret to who?  The client
&gt; and the server can both access the headers.
&gt;
&gt; &gt; [..] and pull resources out of URI space.
&gt;
&gt; What does "pull resources out of URI space" mean?

This is actually a question for Jeff and Roy.

Is a transaction request header a form of accept-*
header?  Are transactions a form of
content-negotiation or does the difference in
value between a naked request and a transaction
request mean that the resource within the
transaction has a distinct URI?

Perhaps we need a different 30x header to redirect
to the value of a resource within some transaction
context.

&gt; &gt;  C: POST /transactions/123
&gt; &gt;  C: &lt;POST path="http://someURL2" content-type="text/plain"
&gt; &gt; reqID="def456"&gt;
&gt; &gt;  C: body of POST
&gt; &gt;  C: &lt;/POST&gt;
&gt;
&gt; Am I the only one who thinks this looks like tunneling HTTP?

You have to tunnel unless you answer the questions
above.  Otherwise Isolation issues will kill you.

&gt; Please, somebody tell me how all this is better than using a
&gt; header with the URI of the transaction (or some other mechanism
&gt; altogether.  I must be missing something obvious.

See above.  Note again that GETting a resource
within a transaction is may not be idempotent
and therefore cannot be done within the bounds
of RFC2616.

Note: I don't know whether the ad-hoc creation of
resource alternates in the context of con-neg
counts as idempotence or not.  Jeff, Roy?

-Alex-

_________________________________________________________________
S. Alexander Jacobson                  mailto:me@...
tel:917-770-6565                       http://alexjacobson.com

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4189<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2004-02-13 20:53:05<br>
Subject:(HTTP-)Headers for intermediary control?<br>
Message:<br><br>
<pre>Hi,

yet another "is this RESTful or not" question:

Is it RESTful to use headers to control the behaviour of
intermediaries, especially to control possible enhancements of
representations that run through them?

The scenario I have in mind is an intermediary that acts as a link engine
or link server and possibly resolves inline links or links from a link database
thus enhancing the returned representations. An intermediary control header
might look like this:

GET /some/path HTTP/1.1
Host: example.org
Allow-Intermediary-Enhancement: Transclusions; Annotations; Backlinks


The list of enhancement options is not thought-out; only given to illustrate
my question.

For RDF, would it be RESTful to enable/disable inferencing by intermediaries?

Thanks.

Jan






-- 
Jan Algermissen                           http://www.topicmapping.com
Consultant &amp; Programmer	                  http://www.gooseworks.org

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4190<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2004-02-13 21:30:44<br>
Subject:State, again<br>
Message:<br><br>
<pre>Very nice, though I'd add that I've recently been referring to REST's
stateless constraint as a constraint on connectors, in constrast to
stateless components or stateless data elements (an oxymoron, as you
pointed out re "stateless message").  So when you say "REST is
interested in stateless servers", that seems ambiguous to me as the
notion of a "server" typically encapsulates the component and the
connector.

Mark.

On Thu, Feb 12, 2004 at 10:04:38PM -0500, Walden Mathews wrote:
&gt; I think the confusion may arise from the sloppy way in which
&gt; the word "stateless" is sometimes used.  If I'm not mistaken, REST
&gt; is interested in stateless servers, i.e., servers shouldn't be burdened
&gt; with remembering what clients had said on previous encounters.
&gt; 
&gt; When you talk about "stateless messages" you're talking nonsense,
&gt; strictly speaking.  A message is a collection of bits, and that's
&gt; state.  So strict analysis is a dead end.
&gt; 
&gt; What's likely meant by "stateless message" is really the opposite:
&gt; that the message capitulates the state of the conversation's progress
&gt; so that the server doesn't need to.
&gt; 
&gt; A cookie that says "we're on step 6 of our business process", in
&gt; a message designed to take us to step seven, is fine, as it tells the
&gt; server everything it needs to know to proceed.
&gt; 
&gt; A cookie that says "I'm session '27htiwydn5&amp;&amp;', remember me"
&gt; has the opposite effect.  It's pointing the server to server-side state
&gt; stored for the session.
&gt; 
&gt; So you need to know more than just that there's a cookie.  The
&gt; key and underlying issue is whether the server has dedicated
&gt; storage resources to remembering a conversation.  All else is
&gt; window dressing.
&gt; 
&gt; How'm I doin'?
&gt; 
&gt; Walden
&gt; 
&gt; 
&gt; ----- Original Message ----- 
&gt; From: "justin_t_sampson" &lt;justin.sampson@...&gt;
&gt; To: &lt;rest-discuss@yahoogroups.com&gt;
&gt; Sent: Thursday, February 12, 2004 9:19 PM
&gt; Subject: [rest-discuss] Re: sessions and infinite URIs
&gt; 
&gt; 
&gt; : Roy T. Fielding wrote:
&gt; : 
&gt; : &gt; &gt; &gt; &gt; Does that mean that session cookies are okay, as long as
&gt; : &gt; &gt; &gt; &gt; I use URI syntax for the session key and the session
&gt; : &gt; &gt; &gt; &gt; state is persisted?
&gt; : &gt; &gt; &gt;
&gt; : &gt; &gt; &gt; Yes and no.
&gt; : &gt; &gt;
&gt; : &gt; &gt; That means "no," right? ;-)
&gt; : &gt;
&gt; : &gt; I meant that, if the session is defined as an aspect of the
&gt; : &gt; resource that is being acted upon (the effect of placing it in
&gt; : &gt; the URI instead of in the cookie header fields), then it does
&gt; : &gt; not violate the stateless constraint. However, that doesn't
&gt; : &gt; mean it is "okay", because doing so makes the URI worthless for
&gt; : &gt; later reference (infinite URIs due to session id being in the
&gt; : &gt; URI). The set of URIs can be reduced to a more natural, finite
&gt; : &gt; set by inserting the user id instead. Better yet, when
&gt; : &gt; possible, avoid placing temporary state on the server and thus
&gt; : &gt; keep the URI free of any user state information. That is easy
&gt; : &gt; to do for new architectures -- much harder when dealing with
&gt; : &gt; legacy browsers.
&gt; : 
&gt; : Aaaah, okay. I didn't express myself clearly.
&gt; : 
&gt; : When I asked, "Does that mean that session cookies are okay, as
&gt; : long as I use URI syntax for the session key and the session
&gt; : state is persisted?" I didn't mean putting the session key in the
&gt; : URI, I meant putting the session key in a cookie but using the
&gt; : URI syntax for composing the key itself. That is, assigning a URI
&gt; : to the session, persisting the session state, and then putting
&gt; : the session URI in a cookie.
&gt; : 
&gt; : I don't see the difference in principle for REST between that and
&gt; : using a big random number for the session key and keeping the
&gt; : session state in memory, in terms of what "stateful" means, but I
&gt; : believe you had suggested there would be a difference.
&gt; : 
&gt; : &gt; In any case, the problem with cookies in the header is *not*
&gt; : &gt; that they violate statelessness, but rather that they violate
&gt; : &gt; visibility (because nobody knows why they are there) and
&gt; : &gt; reliability (because they are associated with the site rather
&gt; : &gt; than the current state of the user's interface). A message
&gt; : &gt; containing cookie headers is still stateless, assuming that the
&gt; : &gt; cookie isn't specified relative to some prior state (which
&gt; : &gt; would be very weird).
&gt; : 
&gt; : Really? That's odd, because reading your dissertation just now
&gt; : for the definition of statelessness I was about to suppose that
&gt; : even putting the session key in the URI itself would be
&gt; : considered stateful according to REST: "communication must be
&gt; : stateless in nature [...] such that each request from client to
&gt; : server must contain all of the information necessary to
&gt; : understand the request, and cannot take advantage of any stored
&gt; : context on the server. Session state is therefore kept entirely
&gt; : on the client.
&gt; : 
&gt; : "This constraint induces the properties of visibility,
&gt; : reliability, and scalability. Visibility is improved because a
&gt; : monitoring system does not have to look beyond a single request
&gt; : datum in order to determine the full nature of the request.
&gt; : Reliability is improved because it eases the task of recovering
&gt; : from partial failures. Scalability is improved because not having
&gt; : to store state between requests allows the server component to
&gt; : quickly free resources, and further simplifies implementation
&gt; : because the server doesn't have to manage resource usage across
&gt; : requests."
&gt; : 
&gt; : &lt;http://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.ht
&gt; : m#sec_5_1_3&gt;
&gt; : 
&gt; : The "managing resource usage" problem applies equally to all the
&gt; : ways we've described for managing session state, suggesting that
&gt; : the fact of the session state itself is "stateful" and therefore
&gt; : in violation of REST regardless of how the client passes the key
&gt; : to the server. You've said as much in this discussion, except
&gt; : that you're saying that's not what "statefulness" means, which I
&gt; : find rather confusing.
&gt; : 
&gt; : Justin
&gt; : 
&gt; : 
&gt; : 
&gt; : 
&gt; :  
&gt; : Yahoo! Groups Links
&gt; : 
&gt; : 
&gt; : 
&gt; :  
&gt; : 
&gt; : 
&gt; : __________ NOD32 1.619 (20040209) Information __________
&gt; : 
&gt; : This message was checked by NOD32 Antivirus System.
&gt; : http://www.nod32.com
&gt; : 
&gt; : 
&gt; 
&gt; 
&gt;  
&gt; Yahoo! Groups Links
&gt; 
&gt; 
&gt; 
&gt;  

-- 
Mark Baker.   Ottawa, Ontario, CANADA.        http://www.markbaker.ca

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4191<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2004-02-14 04:27:51<br>
Subject:Re: [rest-discuss] RDF Forms<br>
Message:<br><br>
<pre>On Thu, Feb 12, 2004 at 02:15:33PM -0500, S. Alexander Jacobson wrote:
&gt; In the talk, you said:
&gt; 
&gt; * You can go from XML namespace to document specific processing.
&gt; &lt;http://www.markbaker.ca/Talks/2004-xmlself/slide19-0.html&gt;
&gt; 
&gt; * Namespaces give meaning to XML elements w/r/t their parents if any.
&gt; * RDF is the format for representing those namespaces
&gt; http://www.markbaker.ca/Talks/2004-xmlself/slide24-0.html
&gt; 
&gt; This is totally cool and totally clear.  I've
&gt; never actually grokked the purpose of RDF before.
&gt; Thank you.

Hey, great.  I love doing that.

&gt; So my current understanding is that
&gt; DTD/Schema/RelaxNG are ways to describe what XML
&gt; elements an application produces/consumes, RDF is
&gt; a way to describe the meaning of those elements,
&gt; and namespaces are a way to identify them.
&gt; 
&gt; But, you want to use RDF to replace
&gt; DTD/Schema/RelaxNG and I'm not seeing how that
&gt; works.
&gt; 
&gt; For example, how can we use RDF to say that we
&gt; require/produce a name, an age, and a list of
&gt; phone numbers?

You'd use RDF Schema and/or OWL, or perhaps even stuff further up (e.g.
rules language).  These are RDF vocabularies that define constraints on
resources and their relationships, rather than doing it on syntax.

For example, see;

http://www.w3.org/TR/2004/REC-owl-guide-20040210/#simpleCardinality

&gt; Perhaps RDF-forms is an answer.  But it seems
&gt; less expressive than DTDs/RelaxNG/Schema.

I don't think RDF Forms plays much of a role there.

Mark.
-- 
Mark Baker.   Ottawa, Ontario, CANADA.        http://www.markbaker.ca

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4192<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2004-02-14 04:30:29<br>
Subject:Re: [rest-discuss] RDF Forms<br>
Message:<br><br>
<pre>I'm glad you liked them, but for the record (though it's mentioned in
there already), those slides were copied verbatim from Timbl's WWW2002
keynote.

I did that because it was a great example, but also because I wanted
to point out what I perceived as an error regarding application/xml
and self-description.

Mark.

On Thu, Feb 12, 2004 at 08:37:11PM +0000, Vincent D Murphy wrote:
&gt; On 12 Feb 2004, at 19:15, S. Alexander Jacobson wrote:
&gt; &gt; This is totally cool and totally clear.
&gt; 
&gt; I agree.
&gt; 
&gt; Mark presented each protocol from ethernet up to XML as
&gt; having a field telling the next layer up what it's
&gt; protocol/language is.
&gt; 
&gt; Like this:
&gt; 
&gt; ethernet-&gt;IP (field in ethernet frame)
&gt; IP-&gt;TCP (field in IP packet)
&gt; TCP-&gt;HTTP (via port number and/or SRV DNS records)
&gt; HTTP-&gt;XML (mime-type)
&gt; XML-&gt; this is where it gets interesting

-- 
Mark Baker.   Ottawa, Ontario, CANADA.        http://www.markbaker.ca

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4193<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2004-02-14 04:46:49<br>
Subject:Re: [rest-discuss] (HTTP-)Headers for intermediary control?<br>
Message:<br><br>
<pre>Hey,

On Fri, Feb 13, 2004 at 09:53:05PM +0100, Jan Algermissen wrote:
&gt; Is it RESTful to use headers to control the behaviour of
&gt; intermediaries, especially to control possible enhancements of
&gt; representations that run through them?

Sure.  SOAP's intermediary model is a good example of this sort of
thing.  PEP's[1] too.  And I guess Waka will have something similar too.

 [1] http://www.w3.org/TR/WD-http-pep

&gt; The scenario I have in mind is an intermediary that acts as a link engine
&gt; or link server and possibly resolves inline links or links from a link database
&gt; thus enhancing the returned representations. An intermediary control header
&gt; might look like this:
&gt; 
&gt; GET /some/path HTTP/1.1
&gt; Host: example.org
&gt; Allow-Intermediary-Enhancement: Transclusions; Annotations; Backlinks

Right.

&gt; The list of enhancement options is not thought-out; only given to illustrate
&gt; my question.
&gt; 
&gt; For RDF, would it be RESTful to enable/disable inferencing by intermediaries?

As long as the effect of the "enhancement" is on a per-message basis -
i.e. with no persistent side effects for other messages - then that
should be ok I'd say.

Mark.
-- 
Mark Baker.   Ottawa, Ontario, CANADA.        http://www.markbaker.ca

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4194<br>
Sender:Walden Mathews &lt;waldenm@...&gt;<br>
Post Date/Time:2004-02-14 16:12:03<br>
Subject:Re: State, again<br>
Message:<br><br>
<pre>
Mark,

I question that last assertion, that "the notion of a 'server'
typically encapsulates the component and the connector".
I think the server is just a component that implements
one of the roles of the connector.

But we can factor the issue as follows:

1. A "stateless" server is one which does not retain
    conversational state on behalf of clients.

2. A "stateless" connector is one which does not pass
    keys to stored conversation state (c-state) to servers.

Then, you have four possible couplings to examine:

1. Stateless Server Stateful Connector

The server *may* be able to provide a syntactically
compliant implementation, but it would not really be
participating in the protocol.  So, we're still in "stateless"
territory.

2. Stateless Server Stateless Connector

RESTFUL.

3. Stateful Server Stateful Connector

Less RESTFUL. :-)

4. Stateful Server Stateless Connector

No way to coordinate c-state means the server can't
do it's stateful thing.  So we're "stateless" again.

From the above it seems to me that either a stateless
component or a stateless protocol imposes statelessness
in a heterogeneous coupling.

But, it seems obvious that "stateless connector" must
be a second order phenomenon, if it can really be defined
at all (I'd have trouble defining it well).  Meanwhile,
"stateless component" is straightforward, since statefulness
is part of the definition of "component" (typically), and
the modification is just "no *conversation* state".

Walden

----- Original Message ----- 
From: "Mark Baker" &lt;distobj@...&gt;
To: "Walden Mathews" &lt;waldenm@...&gt;
Cc: "justin_t_sampson" &lt;justin.sampson@...&gt;;
&lt;rest-discuss@yahoogroups.com&gt;
Sent: Friday, February 13, 2004 4:30 PM
Subject: State, again


: Very nice, though I'd add that I've recently been referring to REST's
: stateless constraint as a constraint on connectors, in constrast to
: stateless components or stateless data elements (an oxymoron, as you
: pointed out re "stateless message").  So when you say "REST is
: interested in stateless servers", that seems ambiguous to me as the
: notion of a "server" typically encapsulates the component and the
: connector.
:
: Mark.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4195<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2004-02-14 21:32:49<br>
Subject:Scalability Issues of 'Cascading Request'<br>
Message:<br><br>
<pre>Hi,

another question regarding intermediaries:

I am thinking about a system where requests running through intermediaries
might trigger them to issue multiple requests themselves (e.g. to harvest
information from multiple information services and send the combination
of all responses back to the client) and I am a bit frightened of the
traffic[1] that such 'cascading requests' might cause.

Does anyone know if there has been reserach on this or similar topics,
especially regarding REST of course.

(The responses from the information services would all be cachable but their
diversity is rather unpredictable).

Any pointers to books, papers etc. where I could start researching would 
really, really help. Thanks in advance.


Jan



[1] For example consider an intermediary that sends out a bunch of requests
per URI that it finds in RDF documents running through it, leading to maybe
hundreds or thousands of requests triggered by a single one through the
intermediary. Oh, and of course the intermediary is likely to send its own
requests through intermediaries of the same kind...


-- 
Jan Algermissen                           http://www.topicmapping.com
Consultant &amp; Programmer	                  http://www.gooseworks.org

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4196<br>
Sender:Seairth Jacobs &lt;seairth@...&gt;<br>
Post Date/Time:2004-02-15 15:37:12<br>
Subject:Re: REST Transaction Process<br>
Message:<br><br>
<pre>(First, sorry for not responding to any of the e-mails recently.  The
host that I have this e-mail address with was battling a DOS attack for
the last couple days. Second, sorry if the thoughts are a bit
unorganized.  After reading through all of the responses, I have lost
the ability to figure out which ones to respond to for which parts of
the conversation.  Thus, I am dumping it all in here.)

I was thinking about Roy's suggestion that he would implement this using
a header instead, such that each request within the confines of the
transaction contained a header that pointed to the related transaction
resource.  But this got me to thinking... Suppose the following scenario:

"http://example.com/item" points to a resource we want to update using a
transaction (there are other resources involved, but those are not
relevant to this example).  Now, if we were to do a GET on that URI (no
transaction involved), we would get back a response.  For clarity, let's
give the response an Etag of "1".  Next, we start a transaction
(complete with resource and reference URI).  We then perform a T-GET
(I'll use "T-" to indicate request that happen within the context of the
transaction) on the same resource.  We get back a response with an Etag
of "1".  Now, we T-PUT an entity to the same resource (within the
transaction).  We then T-GET the resource again, only this time, the
Etag is "2".  If you do a GET of that same resource, you get back an
Etag of "1" (since the transaction has not been committed).  What this
says to me is that the resource is existing in two different states at
the same time, all depending on which way you are looking at it.  Maybe
I am just not grasping the finer details, but this doesn't seem like a
valid REST approach.  And to complicate it more, suppose that I had
performed a T-DELETE instead.  Now, the URI returns an Etag of "1" and
the T-URI is no longer mapped.  Again, this does not feel RESTful at all.

Now, suppose we go back to the approach I suggested, where you
effectively create an entire new address space for the same resource.
In this case, the above "split personality" issue would not arise.  If
you T-PUT an entity to the URI in the new address space, a GET (which is
effectively a T-GET) would always return the same thing.

The address space doesn't even have to have the transaction resource's
URI as the root (though it still could).  Instead, the transaction
resource could indicate the constraints of the new address space, more
specifically that it could provide the mapping rules between the two
address spaces.  The transaction resource might look something like:

&lt;transaction type="optimistic" status="active"
uri="http://example.com/t/123"&gt;
    &lt;map uri="http://example.com/item"
to-uri="http://t.example.com/123/example.com/item"/&gt;
    &lt;map uri="http://sample.com/*"
to-uri="http://t.example.com/123/sample.com/*"/&gt;
&lt;/transaction&gt;

Would this still be considered address munging?  Also, as I suggested
earlier, it would still be a good thing to have the responses contain an
HTTP header pointing to the related transaction resource, which would
also mean that there'd be no need to un-munge (de-munge?) to get to that
URI.

Further,  Roy suggests that using a second (and temporary) address space
partitions users.  In this case, I don't see this as being a bad thing.
Yes, I realize that the lack of permanence means that the addresses are
less useful over a long period of time.  But so what!  If one really
wanted to, you could leave the new address space around "forever".  Once
the transaction was completed, respond to every request with a 301
(moved permanently) response.

Seairth
http://www.seairth.com



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4197<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2004-02-15 22:12:26<br>
Subject:Re: [rest-discuss] Re: REST Transaction Process<br>
Message:<br><br>
<pre>Seairth Jacobs wrote:


&gt; [...] Suppose the following scenario:
&gt; 
&gt; "http://example.com/item" points to a resource we want to update using a
&gt; transaction (there are other resources involved, but those are not
&gt; relevant to this example).  Now, if we were to do a GET on that URI (no
&gt; transaction involved), we would get back a response.  For clarity, let's
&gt; give the response an Etag of "1".  Next, we start a transaction
&gt; (complete with resource and reference URI).  We then perform a T-GET
&gt; (I'll use "T-" to indicate request that happen within the context of the
&gt; transaction) on the same resource.  We get back a response with an Etag
&gt; of "1".  Now, we T-PUT an entity to the same resource (within the
&gt; transaction).  We then T-GET the resource again, only this time, the
&gt; Etag is "2".  If you do a GET of that same resource, you get back an
&gt; Etag of "1" (since the transaction has not been committed).  What this
&gt; says to me is that the resource is existing in two different states at
&gt; the same time, all depending on which way you are looking at it.  

That's a nice way to approach the problem. This comes to my mind:

If access to "http://example.com/item" is transaction based, all
clients would be in their own transaction and if several transactions where
open at the same time, there would be no answer to any GET before the
transaction manager would have decided how to serialize the transactions.

So in your example the second GET would not receive a response until the
transaction  involving PUT would ahve been either commited or aborted.



If you open a transaction every GET would have to return the same state
(representations might vary based on conneg) as long as the transaction is
open and *you* don't alter the state.

Does that make sense?

Jan






Maybe
&gt; I am just not grasping the finer details, but this doesn't seem like a
&gt; valid REST approach.  And to complicate it more, suppose that I had
&gt; performed a T-DELETE instead.  Now, the URI returns an Etag of "1" and
&gt; the T-URI is no longer mapped.  Again, this does not feel RESTful at all.
&gt; 
&gt; Now, suppose we go back to the approach I suggested, where you
&gt; effectively create an entire new address space for the same resource.
&gt; In this case, the above "split personality" issue would not arise.  If
&gt; you T-PUT an entity to the URI in the new address space, a GET (which is
&gt; effectively a T-GET) would always return the same thing.
&gt; 
&gt; The address space doesn't even have to have the transaction resource's
&gt; URI as the root (though it still could).  Instead, the transaction
&gt; resource could indicate the constraints of the new address space, more
&gt; specifically that it could provide the mapping rules between the two
&gt; address spaces.  The transaction resource might look something like:
&gt; 
&gt; &lt;transaction type="optimistic" status="active"
&gt; uri="http://example.com/t/123"&gt;
&gt;     &lt;map uri="http://example.com/item"
&gt; to-uri="http://t.example.com/123/example.com/item"/&gt;
&gt;     &lt;map uri="http://sample.com/*"
&gt; to-uri="http://t.example.com/123/sample.com/*"/&gt;
&gt; &lt;/transaction&gt;
&gt; 
&gt; Would this still be considered address munging?  Also, as I suggested
&gt; earlier, it would still be a good thing to have the responses contain an
&gt; HTTP header pointing to the related transaction resource, which would
&gt; also mean that there'd be no need to un-munge (de-munge?) to get to that
&gt; URI.
&gt; 
&gt; Further,  Roy suggests that using a second (and temporary) address space
&gt; partitions users.  In this case, I don't see this as being a bad thing.
&gt; Yes, I realize that the lack of permanence means that the addresses are
&gt; less useful over a long period of time.  But so what!  If one really
&gt; wanted to, you could leave the new address space around "forever".  Once
&gt; the transaction was completed, respond to every request with a 301
&gt; (moved permanently) response.
&gt; 
&gt; Seairth
&gt; http://www.seairth.com
&gt; 
&gt; 
&gt; 
&gt; Yahoo! Groups Links
&gt; 
&gt; 
&gt; 
&gt; 

-- 
Jan Algermissen                           http://www.topicmapping.com
Consultant &amp; Programmer	                  http://www.gooseworks.org

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4198<br>
Sender:"Roy T. Fielding" &lt;fielding@...&gt;<br>
Post Date/Time:2004-02-16 00:40:04<br>
Subject:Re: [rest-discuss] Re: REST Transaction Process<br>
Message:<br><br>
<pre>On Sunday, February 15, 2004, at 07:37  AM, Seairth Jacobs wrote:
&gt; What this
&gt; says to me is that the resource is existing in two different states at
&gt; the same time, all depending on which way you are looking at it.  Maybe
&gt; I am just not grasping the finer details, but this doesn't seem like a
&gt; valid REST approach.  And to complicate it more, suppose that I had
&gt; performed a T-DELETE instead.  Now, the URI returns an Etag of "1" and
&gt; the T-URI is no longer mapped.  Again, this does not feel RESTful at 
&gt; all.

There are many ways to implement transactions (meaning: making several
actions seem atomic).  Isolation is not a property of transactions -- it
is only a property of workspaces (one implementation of transactions).
If you insist on having that property, then you'll have to live with
its limitations as well.  For example, do you want a wire transfer
deposit to fail just because you happen to be using your ATM card
at the same time?  The fact is that many simultaneous transactions
can safely take place on the same resources if you don't force the
server into a single model.  The right thing to do is tell the server
what you are doing and let it figure out the right implementation
according to the types of resources it is trying to protect.

....Roy


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4199<br>
Sender:"nixerman" &lt;nixerman@...&gt;<br>
Post Date/Time:2004-02-16 03:24:19<br>
Subject:Removing an Item from a Collection<br>
Message:<br><br>
<pre>
Speccing out a RESTful interface and ran into a slight problem. Let's
say you have a collection-type object A which contains B and C. One
representation for A might be:

&lt;a&gt;
  &lt;b's&gt;
    &lt;b xlink:href="...." /&gt;
    &lt;b xlink:href="...." /&gt;
    [ ... ]
  &lt;/b's&gt;
  &lt;c's&gt;
     &lt;c xlink:href="...." /&gt;
     &lt;c xlink:href="...." /&gt;
  &lt;/c's&gt;
&lt;a&gt;

The question is, how to model the removal of a b from the
collection-type a? This isn't a DELETE operation since I don't want to
destroy the 'b' I just want to remove it from 'a'. One obvious
solution would be to POST something like a 'remove-b url="..."'
document to the 'a' resource but this seems like a kludge. What then,
is the best way to model this operation RESTfully?

- Buko O.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4200<br>
Sender:Vincent D Murphy &lt;vdm@...&gt;<br>
Post Date/Time:2004-02-16 07:57:47<br>
Subject:Re: [rest-discuss] Removing an Item from a Collection<br>
Message:<br><br>
<pre>On 16 Feb 2004, at 03:24, nixerman wrote:
&gt; The question is, how to model the removal of a b from the
&gt; collection-type a? This isn't a DELETE operation since I don't want to
&gt; destroy the 'b' I just want to remove it from 'a'.

Give the membership of b within a a unique key (probably 1,2,3..
if your collection is a list), so you end up with a URL like /a/1
which you can DELETE without affecting b.  Other methods
(GET/PUT/POST etc.) on /a/1 can be redirected to the appropriate
target URL.

&gt; One obvious
&gt; solution would be to POST something like a 'remove-b url="..."'
&gt; document to the 'a' resource but this seems like a kludge. What then,
&gt; is the best way to model this operation RESTfully?

If you are using HTML forms, which don't support DELETE or PUT,
I reckon it is OK to use POST, and include a hidden parameter
"method=DELETE" or similar in the submitted form.  The server
can pre-process this and do the Right Thing.

(This is just my opinion, others will chime in if what I'm saying
is bogus.)


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4201<br>
Sender:Vincent D Murphy &lt;vdm@...&gt;<br>
Post Date/Time:2004-02-16 14:14:33<br>
Subject:Re: [rest-discuss] Re: REST Transaction Process<br>
Message:<br><br>
<pre>On 15 Feb 2004, at 15:37, Seairth Jacobs wrote:
&gt; &lt;transaction type="optimistic" status="active"
&gt; uri="http://example.com/t/123"&gt;
&gt;     &lt;map uri="http://example.com/item"
&gt; to-uri="http://t.example.com/123/example.com/item"/&gt;
&gt;     &lt;map uri="http://sample.com/*"
&gt; to-uri="http://t.example.com/123/sample.com/*"/&gt;
&gt; &lt;/transaction&gt;

If this mapping is a part of the transaction resource's
state, and is therefore 'known' to the server, why can't
the server perform the mapping for requests which include
a transaction header?


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4202<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2004-02-16 15:10:04<br>
Subject:Re: [rest-discuss] RDF Forms<br>
Message:<br><br>
<pre>A correction ...

On Fri, Feb 13, 2004 at 11:27:51PM -0500, Mark Baker wrote:
&gt; &gt; So my current understanding is that
&gt; &gt; DTD/Schema/RelaxNG are ways to describe what XML
&gt; &gt; elements an application produces/consumes, RDF is
&gt; &gt; a way to describe the meaning of those elements,
&gt; &gt; and namespaces are a way to identify them.
&gt; &gt; 
&gt; &gt; But, you want to use RDF to replace
&gt; &gt; DTD/Schema/RelaxNG and I'm not seeing how that
&gt; &gt; works.
&gt; &gt; 
&gt; &gt; For example, how can we use RDF to say that we
&gt; &gt; require/produce a name, an age, and a list of
&gt; &gt; phone numbers?
&gt; 
&gt; You'd use RDF Schema and/or OWL, or perhaps even stuff further up (e.g.
&gt; rules language).  These are RDF vocabularies that define constraints on
&gt; resources and their relationships, rather than doing it on syntax.

As was pointed out to me on www-ws-desc@..., those two aren't
really comparable.  I have never used DTDs/XML Schemas (all my XML
has been RDF for 2+ years), and just failed to recognize that an
XML Schema constrains the relationship between elements in a document
scope, not a global scope.

In RDF/OWL, there's no way to say "in this document, Person has to
have an Age"; there's only a way to say "People have one age", which
says nothing about what any particular document might say.

Of course, what you find when you switch to RDF is that you don't
need to say "in this document ...".  Or at least I've never had the
need, and I've done a fair bit of RDF (not much OWL though).  So
perhaps the answer to your question is "You don't need to".

Mark.
-- 
Mark Baker.   Ottawa, Ontario, CANADA.        http://www.markbaker.ca

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4203<br>
Sender:"Matthew Garland" &lt;mgarland@...&gt;<br>
Post Date/Time:2004-02-16 16:04:50<br>
Subject:Re: Removing an item from a collection<br>
Message:<br><br>
<pre>I'm working on the same problem as nixerman; how to remove an item from
a collection. Here are some alternatives I whipped up for removing an
item, including a variation on Vincent's suggestion. Some are obviously
more RESTful than others. I'd appreciate hearing the group's perspective
on each of them.

C: GET /customers/lists/42
S: 200 OK
 /customers/2
 /customers/3
 /customers/5
 /customers/7
 /customers/9

// we're trying to remove /customers/9 from the list

// ALTERNATE #1
// note: using the customer id implies that the list must not contain
duplicates
C: DELETE /customers/lists/42/9
S: 200 OK

// ALTERNATE #2
C: DELETE /customers/lists/42?id=/customers/9
S: 200 OK

// ALTERNATE #3
C: DELETE /customers/lists/42/customers/9
S: 200 OK

// ALTERNATE #4
C: POST /customers/lists/42?remove=/customers/9
S: 200 OK

// ALTERNATE #5
C: POST /customers/lists/42/remove
 /customers/9
S: 200 OK

// ALTERNATE #6
C: POST /customers/lists/42?remove
 /customers/9
S: 200 OK

// ALTERNATE #7
C: PUT /customers/lists/42
 /customers/2
 /customers/3
 /customers/5
 /customers/7
S: 200 OK

  --m 
--------------------------------------------------------
This email message and any attachments may contain professional, confidential or other privileged 
information for the sole use of the intended recipient. Any review, use, disclosure, copying or 
distribution by other than the intended recipient is strictly prohibited. If you have received this 
message in error, please contact the sender immediately by return email and delete and destroy 
the original and any copies of this message and its attachments. 
 
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4204<br>
Sender:Vincent D Murphy &lt;vdm@...&gt;<br>
Post Date/Time:2004-02-16 16:44:51<br>
Subject:Re: [rest-discuss] Re: Removing an item from a collection<br>
Message:<br><br>
<pre>On 16 Feb 2004, at 16:04, Matthew Garland wrote:
&gt; I'm working on the same problem as nixerman; how to remove an item from
&gt; a collection. Here are some alternatives I whipped up for removing an
&gt; item, including a variation on Vincent's suggestion.

Nice work.  Here's an example of my suggestion:

C: GET /customers/lists/42
S: 200 OK
    /customers/2
    /customers/3
    /customers/5
    /customers/7
    /customers/9

To delete the item referring to /customers/9:

C: DELETE /customers/lists/42/5
S: 200 OK

I see each entry in the collection as a seperate resource,
with its own URI.  For URIs, I am using the ordinal position
of the item in the list as a hierarchical key to be resolved
relative to the collection URI.  (A caveat applies though,
see below.)  So,

The /customers/2 entry is /customers/lists/42/1
The /customers/9 entry is /customers/lists/42/5

Rationale:
Perhaps it is helpful to distinguish between /customers/9
and an entry in the list /customers/lists/42 that refers to
it, i.e. /customers/lists/42/5.  You are DELETEing the entry
in the list, not the actual customer.

Caveat:
You would need to ensure that POSTs and DELETEs to the list
resource don't invalidate existing keys.  But now I'm veering
off-topic (and out of my depth) to linked versus sequential
allocation, which I believe is covered Knuth's TAOCP chapter 2.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4205<br>
Sender:Vincent D Murphy &lt;vdm@...&gt;<br>
Post Date/Time:2004-02-16 16:59:54<br>
Subject:Re: [rest-discuss] Re: Removing an item from a collection<br>
Message:<br><br>
<pre>On 16 Feb 2004, at 16:04, Matthew Garland wrote:
&gt; I'd appreciate hearing the group's perspective
&gt; on each of them.

Sure.

&gt; C: DELETE /customers/lists/42/9
&gt; S: 200 OK

I prefer the next version, because it makes the semantics
of that '9' part of the URI more explicit.

&gt; // ALTERNATE #2
&gt; C: DELETE /customers/lists/42?id=/customers/9
&gt; S: 200 OK

Fine.

I'm worried about DELETing other other resources with
that attribute/value though.  This is probably the same
argument as 'should we allow rm /' in unix.

&gt; // ALTERNATE #3
&gt; C: DELETE /customers/lists/42/customers/9
&gt; S: 200 OK

I don't like this.  I'm not sure why.

&gt; // ALTERNATE #4
&gt; C: POST /customers/lists/42?remove=/customers/9
&gt; S: 200 OK
&gt;
&gt; // ALTERNATE #5
&gt; C: POST /customers/lists/42/remove
&gt;  /customers/9
&gt; S: 200 OK
&gt;
&gt; // ALTERNATE #6
&gt; C: POST /customers/lists/42?remove
&gt;  /customers/9
&gt; S: 200 OK

These are the least RESTful in my view because they put
the verb of the request in the URI.  (s/remove/DELETE/)
I would prefer to see that 'remove' flag buried in the
entity body rather than anywhere else.

At least these alternatives use POST which is allowed to
have side-effects, rather than GET, which isn't.

The only reason to use these alternatives is because of
HTML forms, which subset HTTP and are therefore broken
by design.  Burying the verb as a sentinel value (method=DELETE)
in a hidden HTML form field is less evil in my opinion.

&gt; // ALTERNATE #7
&gt; C: PUT /customers/lists/42
&gt;  /customers/2
&gt;  /customers/3
&gt;  /customers/5
&gt;  /customers/7
&gt; S: 200 OK

This is fine.  It sort of implies that the DELETE was done
client-side (e.g. by javascript).

The difference is its DELETing an entry, its PUTting a replacement
list (minus the entry) on the server.  Which may not scale as well
as DELETing an entry for a large list.  That doesn't make it
RESTless though.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4206<br>
Sender:Walden Mathews &lt;waldenm@...&gt;<br>
Post Date/Time:2004-02-16 17:17:14<br>
Subject:Re: [rest-discuss] Re: Removing an item from a collection<br>
Message:<br><br>
<pre>| Rationale:
| Perhaps it is helpful to distinguish between /customers/9
| and an entry in the list /customers/lists/42 that refers to
| it, i.e. /customers/lists/42/5.  You are DELETEing the entry
| in the list, not the actual customer.

That seems key.  Why not use metadata liberally to make
that distincition explicit in the representation returned by
GET?  A good application for XML, it seems.

Walden

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4207<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2004-02-16 17:20:07<br>
Subject:Re: [rest-discuss] Re: Removing an item from a collection<br>
Message:<br><br>
<pre>On Mon, Feb 16, 2004 at 04:59:54PM +0000, Vincent D Murphy wrote:
&gt; The difference is its DELETing an entry, its PUTting a replacement
&gt; list (minus the entry) on the server.  Which may not scale as well
&gt; as DELETing an entry for a large list.  That doesn't make it
&gt; RESTless though.

Yup.  For small lists, that's how I do it.

For big lists, I'm planning (haven't yet had the need) to use RFC 3229
and only send the delta.  That's still stateless, as that the entity tag
is included so the server knows which state to apply the delta to. It's
not entirely RESTful though, because HTTP doesn't have mandatory
extensions to inform PUT-enabled servers that they better not try to
process the message unless they known what a delta update is.

Mark.
-- 
Mark Baker.   Ottawa, Ontario, CANADA.        http://www.markbaker.ca

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4208<br>
Sender:Vincent D Murphy &lt;vdm@...&gt;<br>
Post Date/Time:2004-02-16 17:36:47<br>
Subject:Re: [rest-discuss] Re: Removing an item from a collection<br>
Message:<br><br>
<pre>On 16 Feb 2004, at 16:59, Vincent D Murphy wrote:
&gt; The difference is its DELETing an entry,

typo: *not* DELETing


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4209<br>
Sender:Vincent D Murphy &lt;vdm@...&gt;<br>
Post Date/Time:2004-02-16 17:38:25<br>
Subject:Re: [rest-discuss] Re: Removing an item from a collection<br>
Message:<br><br>
<pre>On 16 Feb 2004, at 17:17, Walden Mathews wrote:
&gt; Why not use metadata liberally to make
&gt; that distincition explicit in the representation returned by
&gt; GET?  A good application for XML, it seems.

Agreed.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4210<br>
Sender:"nixerman" &lt;nixerman@...&gt;<br>
Post Date/Time:2004-02-16 18:04:24<br>
Subject:Re: Removing an item from a collection<br>
Message:<br><br>
<pre>
Unfortunately, 'DELETE /list/42/customer/9' doesn't work because
/list/42/customer/9 isn't a resource. There are no operations you'd
want to perform on it. If you wanted to know about the real resource
you'd do GET /customer/9 or the some such.

I like Vincent's idea of 'DELETE /list/42?remove=9' though I would
probably change it to 'DELETE /list/42?customer=9'. This makes a lot
of sense to me as a programmer. Query strings are used to define
'virtual resources' so what you're saying here, I think, is delete the
result of the query 'GET /list/42?customer=9'. Now that I think about
this strategy of operating on query strings is very powerful. This
provides a mean for doing mass deletions eg 'DELETE
/list/42?nameLike=smi%' and for doing mass updates.

Thanks for the tip.
- Buko Obele


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4211<br>
Sender:"Matthew Garland" &lt;mgarland@...&gt;<br>
Post Date/Time:2004-02-16 19:09:21<br>
Subject:Re: Removing an item from a collection<br>
Message:<br><br>
<pre>
&gt; I prefer the next version, because it makes the semantics
&gt; of that '9' part of the URI more explicit.
&gt; 
&gt; &gt; // ALTERNATE #2
&gt; &gt; C: DELETE /customers/lists/42?id=/customers/9
&gt; &gt; S: 200 OK

&gt; I'm worried about DELETing other other resources with
&gt; that attribute/value though.  This is probably the same 
&gt; argument as 'should we allow rm /' in unix.

I think you're saying this could be interpreted as a DELETE of the
actual customer resource. Is that right?

&gt; &gt; // ALTERNATE #3
&gt; &gt; C: DELETE /customers/lists/42/customers/9
&gt; &gt; S: 200 OK
&gt; 
&gt; I don't like this.  I'm not sure why.

Buko suggests that

 /customers/lists/42/customers/9

wouldn't answer to a GET (i.e., it isn't a resource). I thought of it as
an alias for the resource /customers/9; thus, GET should return a
Content-Location header pointing to the canonical resource URI.

C: GET /customers/lists/42/customers/9
S: 200 OK
    Content-Location: /customers/9
    &lt;etc...&gt;

But the partial URI 

 /customers/lists/42/customers

is unclear. I have an expectation that the URI should yield some
reasonable response to GET at each level of hierarchy. This level
doesn't seem to add any value.

Your suggestion doesn't have the extraneous level:

&gt; C: DELETE /customers/lists/42/5
&gt; S: 200 OK

Again, I imagine GET responding with a representation of the customer
resource and the Content-Location header:

C: GET /customers/lists/42/1
S: 200 OK
    Content-Location: /customers/2
    &lt;customer data here...&gt;

What was your thought on the GET response?

&gt; Vincent

Matt 
--------------------------------------------------------
This email message and any attachments may contain professional, confidential or other privileged 
information for the sole use of the intended recipient. Any review, use, disclosure, copying or 
distribution by other than the intended recipient is strictly prohibited. If you have received this 
message in error, please contact the sender immediately by return email and delete and destroy 
the original and any copies of this message and its attachments. 
 
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4212<br>
Sender:David Powell &lt;dave@...&gt;<br>
Post Date/Time:2004-02-16 20:13:36<br>
Subject:Re: [rest-discuss] Re: Removing an item from a collection<br>
Message:<br><br>
<pre>
Monday, February 16, 2004, 6:04:24 PM, you wrote:
&gt; Unfortunately, 'DELETE /list/42/customer/9' doesn't work because
&gt; /list/42/customer/9 isn't a resource. There are no operations you'd
&gt; want to perform on it. If you wanted to know about the real resource
&gt; you'd do GET /customer/9 or the some such.

In the example, the "list" in "/list/42/customer/9" is a bit abstract,
but I think that in a slightly more concrete example, such as
"/organization/42/member/9", the resource could return quite a bit of
useful about the membership relation as the response to a GET:

  + Position within the organization
  + Address details within the organization
  + Date of joining the organization

You would also want to be able to POST to this resource to change
these properties of the membership. HTTPs Last-Modified header would
also provide some useful metadata.

--
Dave


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4213<br>
Sender:Seairth Jacobs &lt;seairth@...&gt;<br>
Post Date/Time:2004-02-16 20:38:51<br>
Subject:Re: [rest-discuss] Re: REST Transaction Process<br>
Message:<br><br>
<pre>"Roy T. Fielding" wrote:

&gt; On Sunday, February 15, 2004, at 07:37  AM, Seairth Jacobs wrote:
&gt;
&gt;&gt; What this
&gt;&gt; says to me is that the resource is existing in two different states at
&gt;&gt; the same time, all depending on which way you are looking at it.  Maybe
&gt;&gt; I am just not grasping the finer details, but this doesn't seem like a
&gt;&gt; valid REST approach.  And to complicate it more, suppose that I had
&gt;&gt; performed a T-DELETE instead.  Now, the URI returns an Etag of "1" and
&gt;&gt; the T-URI is no longer mapped.  Again, this does not feel RESTful at 
&gt;&gt; all.
&gt;
&gt;
&gt; There are many ways to implement transactions (meaning: making several
&gt; actions seem atomic).  Isolation is not a property of transactions -- it
&gt; is only a property of workspaces (one implementation of transactions).

Aha!  You are correct.  The current description would be correct for the 
concept of a "workspace".  And from that perspective, I do think the 
approach given makes sense.

&gt; For example, do you want a wire transfer
&gt; deposit to fail just because you happen to be using your ATM card
&gt; at the same time?

Sorry, I don't get the analogy.

&gt; The right thing to do is tell the server
&gt; what you are doing and let it figure out the right implementation
&gt; according to the types of resources it is trying to protect.

True.  If the server "knew" that the transaction was going to be short, 
devoid of GETs (at least of updated resources), limited to X number of 
requests, etc., then the server may instead choose to follow a different 
approach.

However, in my prior post, I had a concern that simultaneous access to 
the same resource via the same URI (where one was outside of a 
transaction and the other was inside the transaction) didn't fit my 
understanding resource state.  Am I just misunderstanding it all?  For 
instance, is it enough for a server to return  a response that includes 
something like the following headers for a GET request within the 
context of the transaction?

Vary: X-Transaction-URI
X-Transaction-URI: http://example.com/t/123

Seairth


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4214<br>
Sender:Seairth Jacobs &lt;seairth@...&gt;<br>
Post Date/Time:2004-02-16 20:42:21<br>
Subject:Re: [rest-discuss] Re: REST Transaction Process<br>
Message:<br><br>
<pre>"Vincent D Murphy" wrote:

&gt; On 15 Feb 2004, at 15:37, Seairth Jacobs wrote:
&gt;
&gt;&gt; &lt;transaction type="optimistic" status="active"
&gt;&gt; uri="http://example.com/t/123"&gt;
&gt;&gt;     &lt;map uri="http://example.com/item"
&gt;&gt; to-uri="http://t.example.com/123/example.com/item"/&gt;
&gt;&gt;     &lt;map uri="http://sample.com/*"
&gt;&gt; to-uri="http://t.example.com/123/sample.com/*"/&gt;
&gt;&gt; &lt;/transaction&gt;
&gt;
&gt;
&gt; If this mapping is a part of the transaction resource's
&gt; state, and is therefore 'known' to the server, why can't
&gt; the server perform the mapping for requests which include
&gt; a transaction header?

No reason it can't.  However, I don't see any value in creating a whole 
new address space if you can just use the original address space (plus a 
header).  My concern has been that it may not be possible to use the 
original address space plus a header for some forms of transactions.  
However, I agree with Roy that my current approach also has similar 
limitations for other forms of transactions.

Seairth


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4215<br>
Sender:Vincent D Murphy &lt;vdm@...&gt;<br>
Post Date/Time:2004-02-16 22:06:56<br>
Subject:Re: [rest-discuss] Re: Removing an item from a collection<br>
Message:<br><br>
<pre>On 16 Feb 2004, at 19:09, Matthew Garland wrote:
&gt; I think you're saying this could be interpreted as a DELETE of the
&gt; actual customer resource. Is that right?

Its not what I meant.  If you have trouble defining the semantics
of the uniform HTTP interface with your URI, thats a good sign you
could use a better URI.

I was drawing an analogy with Unix.  The Unix 'rm' (remove) command
gives you enough rope to hang yourself.  You can say 'rm /', which
means delete every single file on the system, and rm will go right
ahead.  No 'are you sure' message.

A DELETE implementation which operates on query parameters in this
way offers similar power.  I think its worth it though.

&gt; Buko suggests that
&gt;
&gt;  /customers/lists/42/customers/9
&gt;
&gt; wouldn't answer to a GET (i.e., it isn't a resource). I thought of it 
&gt; as
&gt; an alias for the resource /customers/9; thus, GET should return a
&gt; Content-Location header pointing to the canonical resource URI.

Whenever I find myself thinking about aliases or redirects, its
generally time to invent a new resource type (cf. 'entry' or
'membership' resources).  I have to yet to encounter a situation
where redirects worked better in a 'green field' system.

&gt; But the partial URI
&gt;
&gt;  /customers/lists/42/customers
&gt;
&gt; is unclear. I have an expectation that the URI should yield some
&gt; reasonable response to GET at each level of hierarchy. This level
&gt; doesn't seem to add any value.

The hierarchical property is not something mandated by REST per se,
but I do find its absence to be a decent 'bad smell'; a warning that
there is probably a better alternative.  My best RESTful designs have
responded to GET at most levels of the URI hierarchy.

&gt; Your suggestion doesn't have the extraneous level:
&gt;
&gt;&gt; C: DELETE /customers/lists/42/5
&gt;&gt; S: 200 OK
&gt;
&gt; Again, I imagine GET responding with a representation of the customer
&gt; resource and the Content-Location header:
&gt;
&gt; C: GET /customers/lists/42/1
&gt; S: 200 OK
&gt;     Content-Location: /customers/2
&gt;     &lt;customer data here...&gt;
&gt;
&gt; What was your thought on the GET response?

I didn't want to change the simple syntax of the representation so
that it would be easy to compare my suggestions with those already
offered.

But I would use something based on XML as Walden suggested.  Nothing
fancy:

S: 200 OK
    &lt;entry key='1' href='/customers/2'/&gt;

You can 'join' on this, and pull in data from /customers/2 if you're
generating a representation for a human-oriented user agent.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4216<br>
Sender:"S. Alexander Jacobson" &lt;alex@...&gt;<br>
Post Date/Time:2004-02-18 00:14:43<br>
Subject:Re: [rest-discuss] Re: REST Transaction Process<br>
Message:<br><br>
<pre>Isolation is a red herring.

1. Does the value returned when a third party GETs
a resource change before your transaction that
modified that resource COMMITs/ABORTs?

2. Does your transaction fail if any of the values
it retrieved via GET changes before you try to
COMMIT?

If #1==yes, you don't have Atomicity.
If #1==no, you might not have REST (GET depends on a cookie or conneg).
If #2==yes, you don't have HTTP (GET is not idempotent).
If #2==no, you don't have Consistency (You can't guarantee not to violate invariants)

#2 means that transactions are incompatible w/ HTTP.
#1 means that they may also be independtly incompatible with REST.

Whether #1==no is compatibility with REST depends
on whether Roy blesses transaction headers as
being more like Con-Neg or condemns them as being
more like Cookies.

Note: They feel more like Cookies to me.  But I am
not Roy.

-Alex-

PS The ATM/Wire question is not about support for
ACID, it is about what operators are available for
your data.  For example, your DBMS might expose an
increment operator.

_________________________________________________________________
S. Alexander Jacobson                  mailto:me@...
tel:917-770-6565                       http://alexjacobson.com



On Sun, 15 Feb 2004, Roy T. Fielding wrote:

&gt; On Sunday, February 15, 2004, at 07:37  AM, Seairth Jacobs wrote:
&gt; &gt; What this
&gt; &gt; says to me is that the resource is existing in two different states at
&gt; &gt; the same time, all depending on which way you are looking at it.  Maybe
&gt; &gt; I am just not grasping the finer details, but this doesn't seem like a
&gt; &gt; valid REST approach.  And to complicate it more, suppose that I had
&gt; &gt; performed a T-DELETE instead.  Now, the URI returns an Etag of "1" and
&gt; &gt; the T-URI is no longer mapped.  Again, this does not feel RESTful at
&gt; &gt; all.
&gt;
&gt; There are many ways to implement transactions (meaning: making several
&gt; actions seem atomic).  Isolation is not a property of transactions -- it
&gt; is only a property of workspaces (one implementation of transactions).
&gt; If you insist on having that property, then you'll have to live with
&gt; its limitations as well.  For example, do you want a wire transfer
&gt; deposit to fail just because you happen to be using your ATM card
&gt; at the same time?  The fact is that many simultaneous transactions
&gt; can safely take place on the same resources if you don't force the
&gt; server into a single model.  The right thing to do is tell the server
&gt; what you are doing and let it figure out the right implementation
&gt; according to the types of resources it is trying to protect.
&gt;
&gt; ....Roy
&gt;
&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4217<br>
Sender:"Roy T. Fielding" &lt;fielding@...&gt;<br>
Post Date/Time:2004-02-18 01:05:01<br>
Subject:Re: [rest-discuss] Re: REST Transaction Process<br>
Message:<br><br>
<pre>On Tuesday, February 17, 2004, at 04:14  PM, S. Alexander Jacobson 
wrote:

&gt; Isolation is a red herring.
&gt;
&gt; 1. Does the value returned when a third party GETs
&gt; a resource change before your transaction that
&gt; modified that resource COMMITs/ABORTs?

That is what "isolation" means.  If you have isolation, others
won't see the resource change.  If you don't, they will.

&gt; 2. Does your transaction fail if any of the values
&gt; it retrieved via GET changes before you try to
&gt; COMMIT?
&gt;
&gt; If #1==yes, you don't have Atomicity.

Yes. If the server wants atomicity, it must selectively lock or
isolate anything that changes during the transaction.  So what?

&gt; If #1==no, you might not have REST (GET depends on a cookie or conneg).

False.  Conneg is part of REST.  Besides, the request messages will
have to be marked as no-cache in order for any transaction to work.

&gt; If #2==yes, you don't have HTTP (GET is not idempotent).

False.  GET can be repeated as many times as you like.

&gt; If #2==no, you don't have Consistency (You can't guarantee not to 
&gt; violate invariants)

No, the question is bogus.  If any of the non-GET transactions fail
due to a change in the state of the resource, then the transaction
should fail.  The server is fully capable of determining that on
its own using existing conditional mechanisms like If-Match.

&gt; #2 means that transactions are incompatible w/ HTTP.
&gt; #1 means that they may also be independtly incompatible with REST.
&gt;
&gt; Whether #1==no is compatibility with REST depends
&gt; on whether Roy blesses transaction headers as
&gt; being more like Con-Neg or condemns them as being
&gt; more like Cookies.

Why don't you just implement it and figure it out for yourself.

....Roy


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4218<br>
Sender:"Roy T. Fielding" &lt;fielding@...&gt;<br>
Post Date/Time:2004-02-18 01:14:54<br>
Subject:Re: [rest-discuss] Re: REST Transaction Process<br>
Message:<br><br>
<pre>&gt;&gt; For example, do you want a wire transfer
&gt;&gt; deposit to fail just because you happen to be using your ATM card
&gt;&gt; at the same time?
&gt;
&gt; Sorry, I don't get the analogy.

Is your entire account locked (prevented from changing) during the
ATM transaction, or does the bank merely prevent the available funds
from dipping below $400 during the transaction?  That is the essential
difference between forcing the server to implement isolation versus
letting the server figure it out how to implement its own resources.

&gt;&gt; The right thing to do is tell the server
&gt;&gt; what you are doing and let it figure out the right implementation
&gt;&gt; according to the types of resources it is trying to protect.
&gt;
&gt; True.  If the server "knew" that the transaction was going to be short,
&gt; devoid of GETs (at least of updated resources), limited to X number of
&gt; requests, etc., then the server may instead choose to follow a 
&gt; different
&gt; approach.

A good server isn't going to support arbitrarily long transactions
unless the state is held on the client side.

&gt; However, in my prior post, I had a concern that simultaneous access to
&gt; the same resource via the same URI (where one was outside of a
&gt; transaction and the other was inside the transaction) didn't fit my
&gt; understanding resource state.  Am I just misunderstanding it all?  For
&gt; instance, is it enough for a server to return  a response that includes
&gt; something like the following headers for a GET request within the
&gt; context of the transaction?
&gt;
&gt; Vary: X-Transaction-URI
&gt; X-Transaction-URI: http://example.com/t/123

If the state of the resource is not isolated, then there is no need.
If they are isolated, then all of the within-transaction responses
will have to be marked as cache-control private or no-cache.

Please, never prefix a header with "X-".

....Roy


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4219<br>
Sender:Seairth Jacobs &lt;seairth@...&gt;<br>
Post Date/Time:2004-02-18 01:41:49<br>
Subject:Re: [rest-discuss] Re: REST Transaction Process<br>
Message:<br><br>
<pre>"Roy T. Fielding" wrote:

&gt;&gt;&gt; For example, do you want a wire transfer
&gt;&gt;&gt; deposit to fail just because you happen to be using your ATM card
&gt;&gt;&gt; at the same time?
&gt;&gt;
&gt;&gt;
&gt;&gt; Sorry, I don't get the analogy.
&gt;
&gt;
&gt; Is your entire account locked (prevented from changing) during the
&gt; ATM transaction, or does the bank merely prevent the available funds
&gt; from dipping below $400 during the transaction?  That is the essential
&gt; difference between forcing the server to implement isolation versus
&gt; letting the server figure it out how to implement its own resources.

I understand.  I don't think I was advocating such a draconian attitude, 
but I do get your point.

&gt;&gt; the same resource via the same URI (where one was outside of a
&gt;&gt; transaction and the other was inside the transaction) didn't fit my
&gt;&gt; understanding resource state.  Am I just misunderstanding it all?  For
&gt;&gt; instance, is it enough for a server to return  a response that includes
&gt;&gt; something like the following headers for a GET request within the
&gt;&gt; context of the transaction?
&gt;&gt;
&gt;&gt; Vary: X-Transaction-URI
&gt;&gt; X-Transaction-URI: http://example.com/t/123
&gt;
&gt; If the state of the resource is not isolated, then there is no need.
&gt; If they are isolated, then all of the within-transaction responses
&gt; will have to be marked as cache-control private or no-cache.
&gt;
Okay, I have missed something along the way here.  Using the same URI 
for a resource, how can a resource be kept from "isolation" and still be 
within a transaction?  If this has been spelled out already, just point 
me to the post.

&gt; Please, never prefix a header with "X-".

I realize this is off topic, but why?  Am I supposed to use "x." or 
something else instead?  I realize that HTTP isn't actually using MIME, 
but I thought the same general approach was used.  Can you point me to a 
more appropriate RFC on how this *should* be done?

Seairth


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4220<br>
Sender:Seairth Jacobs &lt;seairth@...&gt;<br>
Post Date/Time:2004-02-18 02:16:00<br>
Subject:Another approach to transactions?<br>
Message:<br><br>
<pre>Build a series of HTTP requests and stuff them into a multipart 
document.  Then, using a single POST to the transaction URI, you submit 
the entire transaction.  A response is returned with each of the 
individual responses being listed in the same order as to match their 
respective requests.  Only if all responses are 2xx (or 3xx in some 
cases) do all updated resources get committed.  Otherwise, no updates 
get committed.  In the case of GETs, they would be submitted as 
conditional HEAD requests.  They are considered successful only if they 
get a 304 response.

I suspect there are issues with visibility and other things, but I 
thought this might be an interesting approach.  :)

Seairth


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4221<br>
Sender:"Donald Strong" &lt;dstrong@...&gt;<br>
Post Date/Time:2004-02-18 02:31:18<br>
Subject:RE: [rest-discuss] Re: Removing an item from a collection<br>
Message:<br><br>
<pre>&gt; 
&gt; I like Vincent's idea of 'DELETE /list/42?remove=9' though I would
&gt; probably change it to 'DELETE /list/42?customer=9'. This makes a lot
&gt; of sense to me as a programmer. Query strings are used to define
&gt; 'virtual resources' so what you're saying here, I think, is delete the
&gt; result of the query 'GET /list/42?customer=9'. Now that I think about
&gt; this strategy of operating on query strings is very powerful. This
&gt; provides a mean for doing mass deletions eg 'DELETE
&gt; /list/42?nameLike=smi%' and for doing mass updates.
&gt; 
&gt; Thanks for the tip.
&gt; - Buko Obele
&gt; 

This was more or less the question I posed earlier
regarding using URLs with queries as the target of
requests other than get.

http://groups.yahoo.com/group/rest-discuss/message/4098
http://groups.yahoo.com/group/rest-discuss/message/4131

I assume that Roy's answer applies here also.

http://groups.yahoo.com/group/rest-discuss/message/4100

I would be interested in hearing a reply to Mark
Thompson's question,
   "...is path parameterisation considered harmful"

http://groups.yahoo.com/group/rest-discuss/message/4115

and if its not harmful, how should it be used?
As Justin Sampson pointed out ...

"Tim Berners-Lee wrote a tiny bit about how it might be used:

    &lt;http://www.w3.org/DesignIssues/Axioms.html#matrix&gt;"


Can anyone comment further?

Donald.

  

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4222<br>
Sender:"Stephen Cranefield" &lt;scranefield@...&gt;<br>
Post Date/Time:2004-02-18 05:51:51<br>
Subject:Deleting a representation (not a resource)<br>
Message:<br><br>
<pre>What would be the best way to request the deletion of a representation
(and not the whole resource) in an HTTP-based RESTful system?  HTTP
DELETE is defined as deleting the entire resource, but I want to be
able to delete just one of possibly many representations of a given
resource.

The two options I have thought of are:
a) Abuse the Accept header: if it appears in a DELETE request, delete
   the representations of the resource that are in the media types
   specified in that header field.  If it isn't present, delete the
   resource and all its representations.
b) Use PUT with a Content-Type header but an empty body to 'overwrite'
   an existing representation with a 'null' one.

The second of these doesn't seem to me to mean the same thing as
deleting a representation - I don't see why an empty representation
couldn't be meaningful for some applications.

Am I overlooking an obvious solution?

- Stephen



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4223<br>
Sender:Julian Reschke &lt;julian.reschke@...&gt;<br>
Post Date/Time:2004-02-18 12:47:21<br>
Subject:Re: [rest-discuss] Deleting a representation (not a resource)<br>
Message:<br><br>
<pre>Stephen Cranefield wrote:

&gt; What would be the best way to request the deletion of a representation
&gt; (and not the whole resource) in an HTTP-based RESTful system?  HTTP
&gt; DELETE is defined as deleting the entire resource, but I want to be
&gt; able to delete just one of possibly many representations of a given
&gt; resource.
&gt; 
&gt; The two options I have thought of are:
&gt; a) Abuse the Accept header: if it appears in a DELETE request, delete
&gt;    the representations of the resource that are in the media types
&gt;    specified in that header field.  If it isn't present, delete the
&gt;    resource and all its representations.
&gt; b) Use PUT with a Content-Type header but an empty body to 'overwrite'
&gt;    an existing representation with a 'null' one.
&gt; The second of these doesn't seem to me to mean the same thing as
&gt; deleting a representation - I don't see why an empty representation
&gt; couldn't be meaningful for some applications.
&gt; 
&gt; Am I overlooking an obvious solution?

I think the obvious solution is to assign a distinct URI to that 
representation, returning it in the Content-Location header upon 
GET/HEAD. Then apply DELETE to that URI.

Julian

-- 
&lt;green/&gt;bytes GmbH -- http://www.greenbytes.de -- tel:+492512807760

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4224<br>
Sender:Josh Sled &lt;jsled-yahoogroup@...&gt;<br>
Post Date/Time:2004-02-18 18:14:51<br>
Subject:irc channel #rest on irc.freenode.net<br>
Message:<br><br>
<pre>I've been an IRC junkie recently, so I created #rest on irc.freenode.net.
Join me, if you like.

...jsled

-- 
http://www.asynchronous.org - `a=jsled; b=asynchronous.org; echo ${a}@${b}`

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4225<br>
Sender:Vincent D Murphy &lt;vdm@...&gt;<br>
Post Date/Time:2004-02-18 20:33:54<br>
Subject:Re: [rest-discuss] Deleting a representation (not a resource)<br>
Message:<br><br>
<pre>On 18 Feb 2004, at 12:47, Julian Reschke wrote:
&gt; I think the obvious solution is to assign a distinct URI to that
&gt; representation, returning it in the Content-Location header upon
&gt; GET/HEAD. Then apply DELETE to that URI.

Ditto.  Just treat the representation as a resource itself, with
its own distinct URI.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4226<br>
Sender:"Stephen Cranefield" &lt;scranefield@...&gt;<br>
Post Date/Time:2004-02-18 21:02:12<br>
Subject:Re: [rest-discuss] Deleting a representation (not a resource)<br>
Message:<br><br>
<pre>I wrote:
&gt; What would be the best way to request the deletion of a 
&gt; representation (and not the whole resource) ...

and Julian Reschke replied: 
&gt; I think the obvious solution is to assign a distinct URI to that 
&gt; representation, returning it in the Content-Location header upon 
&gt; GET/HEAD. Then apply DELETE to that URI.

Thanks for the suggestion, Julian.  I hadn't thought of this, but
it doesn't apeal to me greatly as it adds an extra level of
complexity.  Previously, for each representation my client handled,
it needed to remember the resource URI and the media type.  If I
need representations to have URIs in order to be able to delete them,
then my client must record the resource URI, the media type and
the representation URI.

It might help if I explain what my application is.  It's a repository
(initially for ontologies, but I now realise it could be for any
type of resource).  Each resource in the repository can have many
representations (e.g. OWL and EPS representations of an ontology).
In addition, I use the RDF network API Joseki to store metadata
about the resources (but that's not relevant to my question here).

The only URIs that would be known to the user would be those that
identify ontologies (or whatever other types of resource are
stored in the repository).  It therefore seems to go against
Occam's Razor to require additional URIs for representations, just
so that that they can be deleted (e.g. if one was mistakenly PUT to the
wrong URI).  However, I realise that one of the principles of REST is
that there is no need to sparing with URIs, so perhaps Occam's Razor
shouldn't be applied here.

Regards,
Stephen

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4227<br>
Sender:"S. Alexander Jacobson" &lt;alex@...&gt;<br>
Post Date/Time:2004-02-18 23:58:20<br>
Subject:Re: [rest-discuss] Re: REST Transaction Process<br>
Message:<br><br>
<pre>Roy,

While you are correct that, in theory,
transactions don't require isolation, only the
ability to lock all resources involved with the
transactions (I am not bothering with verbatim
quotes), in practice requiring each client to
acquire a global lock for the duration of each
transaction will make concurrency suck royally.

So, the question is: if we don't want concurrency
to suck royally, how do we implement isolation in
a manner consistent with REST and HTTP.  It seems
that the two basic alternatives are:

  1. Create a copy of the resource at a new transaction scoped URI

  2. Access the transaction-scoped resource at its original URI via some transaction-id header.

I believe that only the first is compliant with
both REST and HTTP.  You appear to disagree and
believe that (a-c below):

  a. requests with a particular transaction-id
     header are more like con-neg than cookies.

How is it that transaction-id headers are
consistent with REST, but session cookies
generally are not?  In either case the header has
the effect of taking the resource out of URI
space.  Would session cookies be RESTful if they
were all accompanied by a "Vary: Cookie" header?
How do I refer to a transaction scoped resource
rather than the official version of the resource?

  b. it is okay for GETs with these transaction-id
     headers to have side-effects (subsequently causing
     the transaction to fail if the resource is changed
     before the transaction completes)
     Note: I may be misinterpreting this claim.
     You may have been arguing c...

Why is this particular GET side-effect consistent
with HTTP?  Or if you were actually arguing c....

  c. the dependency of a request on the state of a
     prior request can be handled with if-match

How do you if-match against URI's other than the
one you are modifying or is it simply unRESTful
for transactions to involve multiple resources?

-Alex-

_________________________________________________________________
S. Alexander Jacobson                  mailto:me@...
tel:917-770-6565                       http://alexjacobson.com

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4228<br>
Sender:Walden Mathews &lt;waldenm@...&gt;<br>
Post Date/Time:2004-02-19 01:57:45<br>
Subject:Re: [rest-discuss] Re: REST Transaction Process<br>
Message:<br><br>
<pre>Alex, 

:   b. it is okay for GETs with these transaction-id
:      headers to have side-effects (subsequently causing
:      the transaction to fail if the resource is changed
:      before the transaction completes)
:      Note: I may be misinterpreting this claim.
:      You may have been arguing c...
: 

I've been wondering for some time what you mean
by this, and I'm still not sure I follow.  Are you saying
that the GET itself induces a state change in the
resource it was applied to?  Or are you saying that
an agent uses GET to decide whether to change
some other resource (in this case, a transaction, as
in commit or rollback)?

If it's the latter, then you're not really talking about
a property of the GET, and so no rules appear to be
broken.

If it's the former, I don't see how.

Walden

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4229<br>
Sender:"S. Alexander Jacobson" &lt;alex@...&gt;<br>
Post Date/Time:2004-02-19 06:40:37<br>
Subject:Re: [rest-discuss] Re: REST Transaction Process<br>
Message:<br><br>
<pre>If you have isolation, GET on a public resource
(within the scope of the transaction) changes the
state of the transaction because whether the
transaction closes now depends on whether the GET
resource is modified before the subsequent COMMIT.
For example:

  GET URI1
  OPEN TRANSACTION
  GET URI1
  PUT URI2 VALUE
  PUT URI3 VALUE
  COMMIT

The first GET has no effect on the outcome of the
transtion.  The second GET changes the state of
the transaction.  In particular, the result of the
GET is that the transaction may fail may cause the
subsequent sequence of actions to fail (if URI1
changes before the second PUT).

Note: You want this transaction to fail because
perhaps VALUE is computed from the content of
URI1 (e.g. you are incrementing the value of
something).

-Alex-

_________________________________________________________________
S. Alexander Jacobson                  mailto:me@...
tel:917-770-6565                       http://alexjacobson.com


On Wed, 18 Feb 2004, Walden Mathews wrote:

&gt; Alex,
&gt;
&gt; :   b. it is okay for GETs with these transaction-id
&gt; :      headers to have side-effects (subsequently causing
&gt; :      the transaction to fail if the resource is changed
&gt; :      before the transaction completes)
&gt; :      Note: I may be misinterpreting this claim.
&gt; :      You may have been arguing c...
&gt; :
&gt;
&gt; I've been wondering for some time what you mean
&gt; by this, and I'm still not sure I follow.  Are you saying
&gt; that the GET itself induces a state change in the
&gt; resource it was applied to?  Or are you saying that
&gt; an agent uses GET to decide whether to change
&gt; some other resource (in this case, a transaction, as
&gt; in commit or rollback)?
&gt;
&gt; If it's the latter, then you're not really talking about
&gt; a property of the GET, and so no rules appear to be
&gt; broken.
&gt;
&gt; If it's the former, I don't see how.
&gt;
&gt; Walden
&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;
&gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4230<br>
Sender:"S. Alexander Jacobson" &lt;alex@...&gt;<br>
Post Date/Time:2004-02-19 16:06:30<br>
Subject:Re: [rest-discuss] Re: REST Transaction Process<br>
Message:<br><br>
<pre>[we can stay offlist unless someone else cares
about this issue]

REST's hidden representations mean that only the
server can implement isolation (because only it
can model the effects of transactional
POST/PUT/DELETEs on resources).

So we can't be talking about a transaction agent
other than the server and the context here is an
unmediated GET to that server with some
transaction-id header in the request.

The significance of this GET with a transaction-id
header is to cause the transaction to fail if the
GET resource is modified before the transaction
concludes.

Note: If some other prior operation made the
transaction dependent on the resource then the GET
becomes safe, but the GET itself should not have
that effect.

-Alex-

_________________________________________________________________
S. Alexander Jacobson                  mailto:me@...
tel:917-770-6565                       http://alexjacobson.com


On Thu, 19 Feb 2004, Walden Mathews wrote:

&gt; Alex,
&gt;
&gt; I need to set up a work account to reply on list, and
&gt; I'm a little lazy...
&gt;
&gt; Since you're quoting RFC 2616, please take it literally.
&gt; The GET method is not having any significance other
&gt; than retrieval in your example.  Your transaction agent
&gt; is having that significance on its own initiative. GET is
&gt; still safe.  What your agent does with the result is another
&gt; matter; has to be, otherwise, anytime I GET content
&gt; from one resource to POST to another, in your eyes
&gt; the GET is not safe.  Do you believe that?
&gt;
&gt; Walden
&gt;
&gt;
&gt; ----- Original Message -----
&gt; From: "S. Alexander Jacobson" &lt;alex@...&gt;
&gt; To: "Walden Mathews" &lt;wmathews@...&gt;
&gt; Sent: Thursday, February 19, 2004 10:40 AM
&gt; Subject: Re: [rest-discuss] Re: REST Transaction Process
&gt;
&gt;
&gt; | I don't know if you wanted to reply on list,
&gt; | but...
&gt; |
&gt; | RFC 2616:
&gt; | "In particular, the convention has been established that the GET and
&gt; | HEAD methods SHOULD NOT have the significance of taking an action
&gt; | other than retrieval."
&gt; |
&gt; | So in this transaction:
&gt; |
&gt; |   OPEN TRANSACTION
&gt; |   LOTS OF WORK
&gt; |   GET URI1
&gt; |   MORE WORK
&gt; |   CLOSE TRANSACTION
&gt; |
&gt; | The GET has the significance of causing the
&gt; | transaction to fail.  Transaction failure is
&gt; | different from retrieval.  So Transactional GET is
&gt; | NOT safe.
&gt; |
&gt; | Note: On rereading the definition in the RFC, it
&gt; | is, however, idempotent.  I stand corrected on
&gt; | that front.
&gt; |
&gt; | -Alex-
&gt; |
&gt; |
&gt; | On Thu, 19 Feb 2004, Walden Mathews wrote:
&gt; |
&gt; | &gt; Alex,
&gt; | &gt;
&gt; | &gt; The assertion "GET is safe" does not address the
&gt; | &gt; phenomenon you observed below.
&gt; | &gt;
&gt; | &gt; Safety and idempotence are properties of the method
&gt; | &gt; as measured through changes to the resource to which
&gt; | &gt; the method is applied.
&gt; | &gt;
&gt; | &gt; In your example the resource at URI1 may be changing
&gt; | &gt; during the transaction, but it is not being changed by
&gt; | &gt; the GET operation, and that's all that matters in
&gt; | &gt; determining whether or not GET is safe.
&gt; | &gt;
&gt; | &gt; Walden
&gt; | &gt;
&gt; | &gt; ----- Original Message -----
&gt; | &gt; From: "S. Alexander Jacobson" &lt;alex@...&gt;
&gt; | &gt; To: "Walden Mathews" &lt;waldenm@...&gt;
&gt; | &gt; Cc: "rest-discuss" &lt;rest-discuss@yahoogroups.com&gt;
&gt; | &gt; Sent: Thursday, February 19, 2004 1:40 AM
&gt; | &gt; Subject: Re: [rest-discuss] Re: REST Transaction Process
&gt; | &gt;
&gt; | &gt;
&gt; | &gt; | If you have isolation, GET on a public resource
&gt; | &gt; | (within the scope of the transaction) changes the
&gt; | &gt; | state of the transaction because whether the
&gt; | &gt; | transaction closes now depends on whether the GET
&gt; | &gt; | resource is modified before the subsequent COMMIT.
&gt; | &gt; | For example:
&gt; | &gt; |
&gt; | &gt; |   GET URI1
&gt; | &gt; |   OPEN TRANSACTION
&gt; | &gt; |   GET URI1
&gt; | &gt; |   PUT URI2 VALUE
&gt; | &gt; |   PUT URI3 VALUE
&gt; | &gt; |   COMMIT
&gt; | &gt; |
&gt; | &gt; | The first GET has no effect on the outcome of the
&gt; | &gt; | transtion.  The second GET changes the state of
&gt; | &gt; | the transaction.  In particular, the result of the
&gt; | &gt; | GET is that the transaction may fail may cause the
&gt; | &gt; | subsequent sequence of actions to fail (if URI1
&gt; | &gt; | changes before the second PUT).
&gt; | &gt; |
&gt; | &gt; | Note: You want this transaction to fail because
&gt; | &gt; | perhaps VALUE is computed from the content of
&gt; | &gt; | URI1 (e.g. you are incrementing the value of
&gt; | &gt; | something).
&gt; | &gt; |
&gt; | &gt; | -Alex-
&gt; | &gt; |
&gt; | &gt; | _________________________________________________________________
&gt; | &gt; | S. Alexander Jacobson                  mailto:me@...
&gt; | &gt; | tel:917-770-6565                       http://alexjacobson.com
&gt; | &gt; |
&gt; | &gt; |
&gt; | &gt; | On Wed, 18 Feb 2004, Walden Mathews wrote:
&gt; | &gt; |
&gt; | &gt; | &gt; Alex,
&gt; | &gt; | &gt;
&gt; | &gt; | &gt; :   b. it is okay for GETs with these transaction-id
&gt; | &gt; | &gt; :      headers to have side-effects (subsequently causing
&gt; | &gt; | &gt; :      the transaction to fail if the resource is changed
&gt; | &gt; | &gt; :      before the transaction completes)
&gt; | &gt; | &gt; :      Note: I may be misinterpreting this claim.
&gt; | &gt; | &gt; :      You may have been arguing c...
&gt; | &gt; | &gt; :
&gt; | &gt; | &gt;
&gt; | &gt; | &gt; I've been wondering for some time what you mean
&gt; | &gt; | &gt; by this, and I'm still not sure I follow.  Are you saying
&gt; | &gt; | &gt; that the GET itself induces a state change in the
&gt; | &gt; | &gt; resource it was applied to?  Or are you saying that
&gt; | &gt; | &gt; an agent uses GET to decide whether to change
&gt; | &gt; | &gt; some other resource (in this case, a transaction, as
&gt; | &gt; | &gt; in commit or rollback)?
&gt; | &gt; | &gt;
&gt; | &gt; | &gt; If it's the latter, then you're not really talking about
&gt; | &gt; | &gt; a property of the GET, and so no rules appear to be
&gt; | &gt; | &gt; broken.
&gt; | &gt; | &gt;
&gt; | &gt; | &gt; If it's the former, I don't see how.
&gt; | &gt; | &gt;
&gt; | &gt; | &gt; Walden
&gt; | &gt; | &gt;
&gt; | &gt; | &gt;
&gt; | &gt; | &gt;
&gt; | &gt; | &gt; Yahoo! Groups Links
&gt; | &gt; | &gt;
&gt; | &gt; | &gt;
&gt; | &gt; | &gt;
&gt; | &gt; | &gt;
&gt; | &gt; | &gt;
&gt; | &gt; |
&gt; | &gt; |
&gt; | &gt; | __________ NOD32 1.628 (20040218) Information __________
&gt; | &gt; |
&gt; | &gt; | This message was checked by NOD32 antivirus system.
&gt; | &gt; | http://www.nod32.com
&gt; | &gt; |
&gt; | &gt; |
&gt; | &gt;
&gt; |
&gt; | _________________________________________________________________
&gt; | S. Alexander Jacobson                  mailto:me@...
&gt; | tel:917-770-6565                       http://alexjacobson.com
&gt; |
&gt; | __________ NOD32 1.628 (20040218) Information __________
&gt; |
&gt; | This message was checked by NOD32 antivirus system.
&gt; | http://www.nod32.com
&gt; |
&gt; |
&gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4231<br>
Sender:"bhaugen32" &lt;bhaugen32@...&gt;<br>
Post Date/Time:2004-02-19 16:19:42<br>
Subject:Re: REST Transaction Process<br>
Message:<br><br>
<pre>--- In rest-discuss@yahoogroups.com, "S. Alexander Jacobson" 
&lt;alex@v...&gt; wrote:
&gt; [we can stay offlist unless someone else cares
&gt; about this issue]

Please stay on list, I (for one) am deeply interested, although I may 
not have time to respond coherently right now.




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4232<br>
Sender:Josh Sled &lt;jsled-yahoogroup@...&gt;<br>
Post Date/Time:2004-02-19 16:35:12<br>
Subject:Re: [rest-discuss] Re: REST Transaction Process<br>
Message:<br><br>
<pre>On Thu, Feb 19, 2004 at 04:19:42PM -0000, bhaugen32 wrote:

| --- In rest-discuss@yahoogroups.com, "S. Alexander Jacobson" 
| &lt;alex@v...&gt; wrote:
| &gt; [we can stay offlist unless someone else cares
| &gt; about this issue]
| 
| Please stay on list, I (for one) am deeply interested, although I may 
| not have time to respond coherently right now.

Word.

Someone had asked, earlier, for a list of good resource re: transaction
processing ... I'd be curious to hear any pointers people might have.

...jsled

-- 
http://www.asynchronous.org - `a=jsled; b=asynchronous.org; echo ${a}@${b}`

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4233<br>
Sender:"bhaugen32" &lt;bhaugen32@...&gt;<br>
Post Date/Time:2004-02-19 18:02:42<br>
Subject:Re: REST Transaction Process<br>
Message:<br><br>
<pre>--- In rest-discuss@yahoogroups.com, "S. Alexander Jacobson" 
&lt;alex@v...&gt; wrote:

&gt; REST's hidden representations mean that only the
&gt; server can implement isolation (because only it
&gt; can model the effects of transactional
&gt; POST/PUT/DELETEs on resources).
&gt; 
&gt; So we can't be talking about a transaction agent
&gt; other than the server 

There have been at least three generations of transaction models:
1. Database transactions, the source of the ACID acronym, which span 
multiple tables in the same database.
2. Distributed transactions, which can span multiple databases or 
message queues from different vendors.
3. "Business transactions" or application coordination transactions, 
which span multiple systems using different technologies.

Business transactions (e.g. OASIS-BTP, WS-BusinessAgreement, 
RosettaNet, ebXML BPSS, etc.) only aim at consistency.  They do not 
promise isolation, and sometimes not even atomicity.  Durability is 
the responsibility of the participant.

Business transaction specs assume a message-passing model, e.g. EDI, 
ebXML-MS, message-oriented Web services.

I think the concepts can be made RESTful (a fourth generation?), but 
don't have a complete solution yet.  (Thus my interest in this 
conversation.)

But I think it's good to separate the transaction pattern from the 
ACID quality guarantees.  You can only depend on what you can observe.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4234<br>
Sender:sandeep@...<br>
Post Date/Time:2004-02-20 00:03:05<br>
Subject:Re: [rest-discuss] Removing an item from a collection<br>
Message:<br><br>
<pre>Here is how I would do this:

First off, /customers/lists/42 doesn't seem right to me.

Shouldn't it be /customers/some-customer/lists/42 or something like that? That
way each part of the hierarchy would represent something meaningful.

For now, I'll go with /lists/42

C: GET /lists/42
S: 200 OK
/customers/2
/customers/3
/customers/5
/customers/7
/customers/9

We're trying to remove /customers/9 from the above list

Now, if the following makes sense,

C: GET /lists/42/1
S: 200 OK
   /customers/2

C: GET /lists/42/3
S: 200 OK
   /customers/5

Then, the way to remove an item form the collection might be:

C: POST /lists/42
   item=5&amp;method=delete
S: 200 OK

This is a lot like what Vincent had suggested.

Is this ok?


San.

----------------------------------------------------------------

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4235<br>
Sender:Josh Sled &lt;jsled-yahoogroup@...&gt;<br>
Post Date/Time:2004-02-20 00:34:29<br>
Subject:Re: [rest-discuss] Removing an item from a collection<br>
Message:<br><br>
<pre>On Thu, Feb 19, 2004 at 06:03:05PM -0600, sandeep@... wrote:

| First off, /customers/lists/42 doesn't seem right to me.
| 
| Shouldn't it be /customers/some-customer/lists/42 or something like that? That
| way each part of the hierarchy would represent something meaningful.

I don't know what you mean by this ... it might be in some contexts,
but why is a customer-list a sub-resource of a specific customer?

| C: GET /lists/42/3
| S: 200 OK
|    /customers/5

Well, if you can identify specific elements of the collection, why not just
DELETE /lists/42/5  ?

| Then, the way to remove an item form the collection might be:
| 
| C: POST /lists/42
|    item=5&amp;method=delete
| S: 200 OK
| 
| This is a lot like what Vincent had suggested.

Two methods?  That's no good ... the style only respects one method --
the HTTP verb itself.  

For instance, [DELETE /lists/42?item=5&amp;method=post] doesn't seem reasonable.

At the same time, POST has come to mean more "do this" rather than "create
new resource", so ...  I guess it's a matter of who and what environment
you're designing for...


Three ways jump out:

1/ full-representation approach
C: PUT /list/42
C: &lt;appList&gt;
C:  &lt;!-- full list w/o deleted-element --&gt;
C: &lt;/appList&gt;

2/ efficiency-influenced approach
   [using RFC 3229, as Mark Baker pointed out in
    http://groups.yahoo.com/group/rest-discuss/message/4207]
C: PUT /list/42
C: &lt;delta representing "[del] /customer/9"&gt;


3/ paramaterized resource delete
C: DELETE /list/42?customerId=/customer/5

I like this better than just "id=5" because "/customer/5" should be opaque
to the client... it shouldn't be able to parse '5' out of it.

...jsled

-- 
http://www.asynchronous.org - `a=jsled; b=asynchronous.org; echo ${a}@${b}`

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4236<br>
Sender:"Roy T. Fielding" &lt;fielding@...&gt;<br>
Post Date/Time:2004-02-20 01:20:04<br>
Subject:Re: [rest-discuss] Re: REST Transaction Process<br>
Message:<br><br>
<pre>On Wednesday, February 18, 2004, at 10:40  PM, S. Alexander Jacobson 
wrote:
&gt; If you have isolation, GET on a public resource
&gt; (within the scope of the transaction) changes the
&gt; state of the transaction because whether the
&gt; transaction closes now depends on whether the GET
&gt; resource is modified before the subsequent COMMIT.

Nope.

&gt; For example:
&gt;
&gt;   GET URI1
&gt;   OPEN TRANSACTION
&gt;   GET URI1
&gt;   PUT URI2 VALUE
&gt;   PUT URI3 VALUE
&gt;   COMMIT
&gt;
&gt; The first GET has no effect on the outcome of the
&gt; transtion.  The second GET changes the state of
&gt; the transaction.  In particular, the result of the
&gt; GET is that the transaction may fail may cause the
&gt; subsequent sequence of actions to fail (if URI1
&gt; changes before the second PUT).

Nope.  As far as I can tell, you are just inventing transaction
semantics that don't exist.  Transaction success or failure
depends on whether the server can cause the combined state change
requested by those requests, as a whole, to take effect on the
server as a result of the commit.  The only requests that matter
to the transaction processor are the ones that verify preconditions
and those that change state.  If the client places a precondition
on the GET request, then that is what they want.

....Roy


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4237<br>
Sender:"Justin Sampson" &lt;justin.sampson@...&gt;<br>
Post Date/Time:2004-02-20 01:54:25<br>
Subject:RE: [rest-discuss] Re: REST Transaction Process<br>
Message:<br><br>
<pre>Roy T. Fielding wrote:

&gt; On Wednesday, February 18, 2004, at 10:40  PM, S. Alexander
&gt; Jacobson wrote:
&gt;
&gt; &gt; If you have isolation, GET on a public resource (within the
&gt; &gt; scope of the transaction) changes the state of the
&gt; &gt; transaction because whether the transaction closes now
&gt; &gt; depends on whether the GET resource is modified before the
&gt; &gt; subsequent COMMIT.
&gt;
&gt; Nope.

Heheh.

&gt; &gt; For example:
&gt; &gt;
&gt; &gt;   GET URI1
&gt; &gt;   OPEN TRANSACTION
&gt; &gt;   GET URI1
&gt; &gt;   PUT URI2 VALUE
&gt; &gt;   PUT URI3 VALUE
&gt; &gt;   COMMIT
&gt; &gt;
&gt; &gt; The first GET has no effect on the outcome of the transtion.
&gt; &gt; The second GET changes the state of the transaction. In
&gt; &gt; particular, the result of the GET is that the transaction may
&gt; &gt; fail may cause the subsequent sequence of actions to fail (if
&gt; &gt; URI1 changes before the second PUT).
&gt;
&gt; Nope. As far as I can tell, you are just inventing transaction
&gt; semantics that don't exist. Transaction success or failure
&gt; depends on whether the server can cause the combined state
&gt; change requested by those requests, as a whole, to take effect
&gt; on the server as a result of the commit. The only requests that
&gt; matter to the transaction processor are the ones that verify
&gt; preconditions and those that change state. If the client places
&gt; a precondition on the GET request, then that is what they want.

If the transaction-as-a-whole is to have ACID semantics, and the
client sends some POST, PUT, or DELETE requests based on the
responses to some GET requests, such that the client would not
have performed the same sequence of POST, PUT, or DELETE requests
given different responses to those GET requests, then the fact of
having sent those GET requests is an important part of the
transaction's state. If another client in another transaction
sends some sequence of POST, PUT, or DELETE requests such that
the GET requests sent by the first client would have resulted in
different responses, then those two client transactions are in
conflict: If both transactions commit, the state of all the
resources together will not be what either transaction intended.

Such conflicts are commonly prevented by acquiring non-exclusive
locks on queried data or detected by remembering what data was
queried and verifying that it has not changed at commit time.
Standard stuff, and stateful either way.

Justin

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4238<br>
Sender:"S. Alexander Jacobson" &lt;alex@...&gt;<br>
Post Date/Time:2004-02-20 03:30:50<br>
Subject:Re: [rest-discuss] Re: REST Transaction Process<br>
Message:<br><br>
<pre>Here is the sort of transaction I'd like to
support:

  Buy Stock A only if Stock B and Stock C
  have prices between $90 and $100.

I think the requests here would be:

  OPEN TRANSACTION
  GET prices/stockB
  GET prices/stockA
  POST buys/stockC
  COMMIT

I would want the COMMIT (and POST) to fail if the
prices of stockB and stockA change before the
commit.

How would I do this without either making the GETs
have side-effects on the transaction or adding
another operation prior to the GETs that has the
same effect?

&gt; The only requests that matter
&gt; to the transaction processor are the ones that verify preconditions
&gt; and those that change state.  If the client places a precondition
&gt; on the GET request, then that is what they want.

Huh?  How do requests verify preconditions?  What
does it mean to place a precondition on a GET
request?

Earlier you suggested using if-match for this sort
of thing, but I don't think it can be used in this
case because it doesn't support matching on
resources other than the one requested.

-Alex-

_________________________________________________________________
S. Alexander Jacobson                  mailto:me@...
tel:917-770-6565                       http://alexjacobson.com




On Thu, 19 Feb 2004, Roy T. Fielding wrote:

&gt; On Wednesday, February 18, 2004, at 10:40  PM, S. Alexander Jacobson
&gt; wrote:
&gt; &gt; If you have isolation, GET on a public resource
&gt; &gt; (within the scope of the transaction) changes the
&gt; &gt; state of the transaction because whether the
&gt; &gt; transaction closes now depends on whether the GET
&gt; &gt; resource is modified before the subsequent COMMIT.
&gt;
&gt; Nope.
&gt;
&gt; &gt; For example:
&gt; &gt;
&gt; &gt;   GET URI1
&gt; &gt;   OPEN TRANSACTION
&gt; &gt;   GET URI1
&gt; &gt;   PUT URI2 VALUE
&gt; &gt;   PUT URI3 VALUE
&gt; &gt;   COMMIT
&gt; &gt;
&gt; &gt; The first GET has no effect on the outcome of the
&gt; &gt; transtion.  The second GET changes the state of
&gt; &gt; the transaction.  In particular, the result of the
&gt; &gt; GET is that the transaction may fail may cause the
&gt; &gt; subsequent sequence of actions to fail (if URI1
&gt; &gt; changes before the second PUT).
&gt;
&gt; Nope.  As far as I can tell, you are just inventing transaction
&gt; semantics that don't exist.  Transaction success or failure
&gt; depends on whether the server can cause the combined state change
&gt; requested by those requests, as a whole, to take effect on the
&gt; server as a result of the commit.

&gt;
&gt; ....Roy
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4239<br>
Sender:"Roy T. Fielding" &lt;fielding@...&gt;<br>
Post Date/Time:2004-02-20 02:58:49<br>
Subject:Re: [rest-discuss] Re: REST Transaction Process<br>
Message:<br><br>
<pre>&gt; If the transaction-as-a-whole is to have ACID semantics, and the
&gt; client sends some POST, PUT, or DELETE requests based on the
&gt; responses to some GET requests, such that the client would not
&gt; have performed the same sequence of POST, PUT, or DELETE requests
&gt; given different responses to those GET requests, then the fact of
&gt; having sent those GET requests is an important part of the
&gt; transaction's state. If another client in another transaction
&gt; sends some sequence of POST, PUT, or DELETE requests such that
&gt; the GET requests sent by the first client would have resulted in
&gt; different responses, then those two client transactions are in
&gt; conflict: If both transactions commit, the state of all the
&gt; resources together will not be what either transaction intended.

So, what you are saying is that a transaction via HTTP will only
have ACID semantics if actions that are dependent on prior GETs
include the etag in If-Match (or an equivalent precondition).
I'll buy that -- it is the only sensible implementation even
when transactions are not involved.

&gt; Such conflicts are commonly prevented by acquiring non-exclusive
&gt; locks on queried data or detected by remembering what data was
&gt; queried and verifying that it has not changed at commit time.

Yep.

&gt; Standard stuff, and stateful either way.

Huh?  It is only stateful (by the common meaning in architecture)
if the server is tracking what requests the client makes and
answers accordingly.  The transaction resource is building state on
the server and the client is holding state in the form of entity
tags, but the individual interactions are stateless.

....Roy


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4240<br>
Sender:"Roy T. Fielding" &lt;fielding@...&gt;<br>
Post Date/Time:2004-02-20 03:51:11<br>
Subject:Re: [rest-discuss] Re: REST Transaction Process<br>
Message:<br><br>
<pre>&gt; Here is the sort of transaction I'd like to
&gt; support:
&gt;
&gt;   Buy Stock A only if Stock B and Stock C
&gt;   have prices between $90 and $100.

Whoa, I am not even going to begin to describe what that means in
a distributed system.  Maybe you should read Rohit's dissertation.

....Roy


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4241<br>
Sender:"Justin Sampson" &lt;justin.sampson@...&gt;<br>
Post Date/Time:2004-02-20 04:09:43<br>
Subject:RE: [rest-discuss] Re: REST Transaction Process<br>
Message:<br><br>
<pre>Roy T. Fielding wrote:

&gt; &gt; Standard stuff, and stateful either way.
&gt;
&gt; Huh? It is only stateful (by the common meaning in
&gt; architecture) if the server is tracking what requests the
&gt; client makes and answers accordingly. The transaction resource
&gt; is building state on the server and the client is holding state
&gt; in the form of entity tags, but the individual interactions are
&gt; stateless.

Fair enough. If the server always returns entity tags, then the
client can remember for itself the tags of the entities that its
actions have depended on, and can pass a list of URI/ETag pairs
in the final COMMIT request (and optionally in earlier requests).
As Alex pointed out, If-Match doesn't support matching on other
resources, but as long as we're adding a Transaction-URI header
we can add an If-Match-URI header.

I still think a transaction header sounds like a stateful
session cookie, though. :)

Justin

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4242<br>
Sender:"S. Alexander Jacobson" &lt;alex@...&gt;<br>
Post Date/Time:2004-02-20 05:28:47<br>
Subject:RE: [rest-discuss] Re: REST Transaction Process<br>
Message:<br><br>
<pre>Justin,

I think you figured it out.  The COMMIT request
includes the etags of all the resources whose
state needs to be guaranteed by the transaction
system.  Nice.

My suggestion for avoiding stateful transaction
session cookies is:

1. Post a request to create a new transaction
space and get back a 201 CREATED with a location: transactionURI.

2. Post URIs of resources you want involved with
the transaction to the transactionURI and get
back 201 CREATED with location: scopedURI
where scoped URI is the version of the resource
within the scope of the transaction.

3. When you are done POST COMMIT to the
transactionURI.

Note: If you create transaction spaces this way,
the client also doesn't need to manage etags.

The big bonus of public transaction spaces is that
they have URIs!

-Alex-

_________________________________________________________________
S. Alexander Jacobson                  mailto:me@...
tel:917-770-6565                       http://alexjacobson.com




On Thu, 19 Feb 2004, Justin Sampson wrote:

&gt; Roy T. Fielding wrote:
&gt;
&gt; &gt; &gt; Standard stuff, and stateful either way.
&gt; &gt;
&gt; &gt; Huh? It is only stateful (by the common meaning in
&gt; &gt; architecture) if the server is tracking what requests the
&gt; &gt; client makes and answers accordingly. The transaction resource
&gt; &gt; is building state on the server and the client is holding state
&gt; &gt; in the form of entity tags, but the individual interactions are
&gt; &gt; stateless.
&gt;
&gt; Fair enough. If the server always returns entity tags, then the
&gt; client can remember for itself the tags of the entities that its
&gt; actions have depended on, and can pass a list of URI/ETag pairs
&gt; in the final COMMIT request (and optionally in earlier requests).
&gt; As Alex pointed out, If-Match doesn't support matching on other
&gt; resources, but as long as we're adding a Transaction-URI header
&gt; we can add an If-Match-URI header.
&gt;
&gt; I still think a transaction header sounds like a stateful
&gt; session cookie, though. :)
&gt;
&gt; Justin
&gt;
&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;
&gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4243<br>
Sender:Julian Reschke &lt;julian.reschke@...&gt;<br>
Post Date/Time:2004-02-20 08:26:35<br>
Subject:Re: [rest-discuss] Re: REST Transaction Process<br>
Message:<br><br>
<pre>S. Alexander Jacobson wrote:
&gt; Justin,
&gt; 
&gt; I think you figured it out.  The COMMIT request
&gt; includes the etags of all the resources whose
&gt; state needs to be guaranteed by the transaction
&gt; system.  Nice.
&gt; 
&gt; My suggestion for avoiding stateful transaction
&gt; session cookies is:
&gt; 
&gt; 1. Post a request to create a new transaction
&gt; space and get back a 201 CREATED with a location: transactionURI.
&gt; ...

This is similar to DeltaV's approach: 
&lt;http://greenbytes.de/tech/webdav/rfc3253.html#workspace.feature&gt;

Julian

-- 
&lt;green/&gt;bytes GmbH -- http://www.greenbytes.de -- tel:+492512807760

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4244<br>
Sender:Vincent D Murphy &lt;vdm@...&gt;<br>
Post Date/Time:2004-02-20 09:16:43<br>
Subject:Re: [rest-discuss] Removing an item from a collection<br>
Message:<br><br>
<pre>On 20 Feb 2004, at 00:03, sandeep@... wrote:
&gt; C: POST /lists/42
&gt;    item=5&amp;method=delete
&gt; S: 200 OK
&gt;
&gt; This is a lot like what Vincent had suggested.
&gt;
&gt; Is this ok?

It depends.

I am presuming a resource-oriented web server, where
the process that supplies the representation used in the
response is dispatched to based on the URI in the
request.  See http://www.mnot.net/tarawa for an example.
I am working on a language for describing the configuration
of such servers; I will report to this list when I make
some progress.

Such a server could pre-process requests which:
1. have a verb of POST
2. have a representation mime-type of
    application/x-www-form-urlencoded

The server can check whether such a request representation
has a 'method' parameter, as in your example.  If it does,
it can modify the request as follows:
1. put in the correct verb instead of POST, in this case
    DELETE.
2. delete the method parameter.

Then, it can dispatch to the correct process.
Apache::MagicPOST on CPAN does this for mod_perl.
http://search.cpan.org/~alger/Apache-MagicPOST-1.2/lib/Apache/ 
MagicPOST.pm

So, the request sent by the client uses POST, but on the
server, it 'looks' like a DELETE request.  The same
technique can be used for PUT requests, of course.

Remember, this is just a workaround for broken-as-designed
HTML forms, which subset HTTP, but are also widely
deployed.  If you use another representation (e.g. XML)
or client (which can support DELETE), there is no need
for this.

It is the lesser of two evils to bury the verb in the
request entity body rather than in the request URI.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4245<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2004-02-20 09:32:25<br>
Subject:Re: [rest-discuss] Removing an item from a collection<br>
Message:<br><br>
<pre>Vincent D Murphy wrote:

&gt; Apache::MagicPOST on CPAN does this for mod_perl.
&gt; http://search.cpan.org/~alger/Apache-MagicPOST-1.2/lib/Apache/
&gt; MagicPOST.pm

Having written this, I must make the following remark: I wasn't aware of
the fact that (with Apache1) you cannot retrieve the POST parameters
twice and the consequence is that using this module will make the parameters
unaccessable for any subsequent modules. Thus, for Apache1 the module
is pretty useless....

I plan to write a version for Apache2 some time. If anyone needs this now,
let me know.

Jan


-- 
Jan Algermissen                           http://www.topicmapping.com
Consultant &amp; Programmer	                  http://www.gooseworks.org

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4246<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2004-02-20 14:10:29<br>
Subject:[admin] RESTwiki needs a new home<br>
Message:<br><br>
<pre>Greetings,

The RESTwiki has to relocate, as the current server is going off the air
in a few weeks, with no planned replacement.  If anybody has access to a
server which is reasonably reliable, runs a *ix derivative, a Web server
(preferably Apache), and doesn't mind giving me an account with
sufficient privileges to manage it, that would be much appreciated.

Thanks.

Mark.
-- 
Mark Baker.   Ottawa, Ontario, CANADA.        http://www.markbaker.ca

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4247<br>
Sender:sandeep@...<br>
Post Date/Time:2004-02-20 19:14:12<br>
Subject:Re: [rest-discuss] Removing an item from a collection<br>
Message:<br><br>
<pre>Quoting Vincent D Murphy &lt;vdm@...&gt;:
&gt; I am presuming a resource-oriented web server, where
&gt; the process that supplies the representation used in the
&gt; response is dispatched to based on the URI in the
&gt; request.  See http://www.mnot.net/tarawa for an example.

I'm working on something similar to tarawa using PHP.

&gt; I am working on a language for describing the configuration
&gt; of such servers;

I didn't quite get what you mean by that! :-/
 
&gt; Such a server could pre-process requests which:
&gt; 1. have a verb of POST
&gt; 2. have a representation mime-type of
&gt;     application/x-www-form-urlencoded
&gt; 
&gt; The server can check whether such a request representation
&gt; has a 'method' parameter, as in your example.  If it does,
&gt; it can modify the request as follows:
&gt; 1. put in the correct verb instead of POST, in this case
&gt;     DELETE.
&gt; 2. delete the method parameter.
&gt; 
&gt; Then, it can dispatch to the correct process.
&gt; Apache::MagicPOST on CPAN does this for mod_perl.
&gt; http://search.cpan.org/~alger/Apache-MagicPOST-1.2/lib/Apache/ 
&gt; MagicPOST.pm
&gt; 
&gt; So, the request sent by the client uses POST, but on the
&gt; server, it 'looks' like a DELETE request.  The same
&gt; technique can be used for PUT requests, of course.
&gt; 
&gt; Remember, this is just a workaround for broken-as-designed
&gt; HTML forms, which subset HTTP, but are also widely
&gt; deployed.  If you use another representation (e.g. XML)
&gt; or client (which can support DELETE), there is no need
&gt; for this.

Hey, this is a neat workaround. Thanks for the pointer.
 
&gt; It is the lesser of two evils to bury the verb in the
&gt; request entity body rather than in the request URI.

Yep! That was the idea.

----------------------------------------------------------------

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4248<br>
Sender:sandeep@...<br>
Post Date/Time:2004-02-20 19:40:50<br>
Subject:Re: [rest-discuss] Removing an item from a collection<br>
Message:<br><br>
<pre>Quoting Josh Sled &lt;jsled-yahoogroup@...&gt;:
&gt; | First off, /customers/lists/42 doesn't seem right to me.
&gt; | 
&gt; | Shouldn't it be /customers/some-customer/lists/42 or something like that?
&gt; That
&gt; | way each part of the hierarchy would represent something meaningful.
&gt; 
&gt; I don't know what you mean by this ... it might be in some contexts,
&gt; but why is a customer-list a sub-resource of a specific customer?

Just didn't seem right to have a 'lists' sub-resource to a 'customers'
resource,
but this has got to do with the context like you rightly said. My bad!

 
&gt; | C: GET /lists/42/3
&gt; | S: 200 OK
&gt; |    /customers/5
&gt; 
&gt; Well, if you can identify specific elements of the collection, why not just
&gt; DELETE /lists/42/5  ?

I was looking at it from a HTML FORM perspective. DELETE /lists/42/5 would be
the right way to do it I guess in situations where the DELETE method is
supported.

See: http://groups.yahoo.com/group/rest-discuss/message/4244
 
 
&gt; Three ways jump out:
&gt; 
&gt; 1/ full-representation approach
&gt; C: PUT /list/42
&gt; C: &lt;appList&gt;
&gt; C:  &lt;!-- full list w/o deleted-element --&gt;
&gt; C: &lt;/appList&gt;
&gt; 
&gt; 2/ efficiency-influenced approach
&gt;    [using RFC 3229, as Mark Baker pointed out in
&gt;     http://groups.yahoo.com/group/rest-discuss/message/4207]
&gt; C: PUT /list/42
&gt; C: &lt;delta representing "[del] /customer/9"&gt;
&gt; 
&gt; 
&gt; 3/ paramaterized resource delete
&gt; C: DELETE /list/42?customerId=/customer/5
&gt; 
&gt; I like this better than just "id=5" because "/customer/5" should be opaque
&gt; to the client... it shouldn't be able to parse '5' out of it.


Why not just have DELETE /list/42?customerId=5 which is saying "DELETE the item
belonging to customerID=5 from /list/42"? Why the "/customer/5" instead of just
a "5"?


The next question is a doubt that I've had for a while:
See: http://drupal.org/node/view/5816

According to RFC 2396, Uniform Resource Identifiers (URI): Generic Syntax, Page
14, section 3.4,
--
Within a query component, the characters ";", "/", "?", ":", "@", "&amp;", "=",
"+",
",", and "$" are reserved.
--

Which means that the "/" character when it appears in the Query Component has
to
be escaped. Right?

San.



----------------------------------------------------------------

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4249<br>
Sender:Josh Sled &lt;jsled-yahoogroup@...&gt;<br>
Post Date/Time:2004-02-20 20:06:02<br>
Subject:Re: [rest-discuss] Removing an item from a collection<br>
Message:<br><br>
<pre>On Fri, Feb 20, 2004 at 01:40:50PM -0600, sandeep@... wrote:

| &gt; I like this better than just "id=5" because "/customer/5" should be opaque
| &gt; to the client... it shouldn't be able to parse '5' out of it.
| 
| 
| Why not just have DELETE /list/42?customerId=5 which is saying "DELETE the item
| belonging to customerID=5 from /list/42"? Why the "/customer/5" instead of just
| a "5"?

[To be clear, in the original example, the element being removed was
 '/customer/9', the 5th element of the list.  To be consistent with the
 discussion, however, I'm going to pretend below that it was /customer/5,
 the Nth element of the list...]

Because '5' doesn't mean anything on it's own.  The URI /customer/5 is
issued by the authority of the server, and the client should not try to
interpret it.

If you don't hold to that maxim, then you have to encode what '5' is
referring to on both sides of the coin.

If you own both sides of the connection, it may be a manageable issue... but
even when you do, you probably want to treat the URI as opaquely as you
can for consistency and growth reasons.

[For instance, you may want to rename and map /customer/5 to /user/jsled
 ... now you not only have to modify the client to understand to pull
 a text string [not a number] at a different place in the string [/user
 vs. /customer], but you also have to modify the server side to handle
 both cases.]

| The next question is a doubt that I've had for a while:
| See: http://drupal.org/node/view/5816
| 
| According to RFC 2396, Uniform Resource Identifiers (URI): Generic Syntax, Page
| 14, section 3.4,
| --
| Within a query component, the characters ";", "/", "?", ":", "@", "&amp;", "=",
| "+",
| ",", and "$" are reserved.
| --
| 
| Which means that the "/" character when it appears in the Query Component has
| to
| be escaped. Right?

Hmm.  The RFC appears inconsistent in that section.  From the BNF:

relativeURI   = ( net_path | abs_path | rel_path ) [ "?" query ]
hier_part     = ( net_path | abs_path ) [ "?" query ]
[...]
query         = *uric
[...]
uric          = reserved | unreserved | escaped
reserved      = ";" | "/" | "?" | ":" | "@" | "&amp;" | "=" | "+" |
                "$" | ","
unreserved    = alphanum | mark
mark          = "-" | "_" | "." | "!" | "~" | "*" | "'" |
                "(" | ")"
escaped       = "%" hex hex

In practice, '/' is passed around in queries without incident all over
the place.

...jsled

-- 
http://www.asynchronous.org - `a=jsled; b=asynchronous.org; echo ${a}@${b}`

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4250<br>
Sender:"S. Alexander Jacobson" &lt;alex@...&gt;<br>
Post Date/Time:2004-02-21 00:36:59<br>
Subject:Re: [rest-discuss] RDF Forms<br>
Message:<br><br>
<pre>&gt; Of course, what you find when you switch to RDF is that you don't
&gt; need to say "in this document ...".  Or at least I've never had the
&gt; need, and I've done a fair bit of RDF (not much OWL though).  So
&gt; perhaps the answer to your question is "You don't need to".

Don't need to?  I'm confused.  Isn't addressing
this problem, the goal of your RDF Forms
proposal!?

Note: I restarted this thead in the hope of being
able to specify what data a URI expects to have
POSTed to it, and, perhaps what data to expect as
a result e.g.

&lt;form method="POST" action="http://uri"
      	dataSchema="relaxSchema.rng"
	resultSchema="relaxSchema2.rng"/&gt;

With this sort of system, I could build automated
web site testing tools simlar to QuickCheck
&lt;http://www.cs.chalmers.se/~rjmh/QuickCheck/&gt;

-Alex-

_________________________________________________________________
S. Alexander Jacobson                  mailto:me@...
tel:917-770-6565                       http://alexjacobson.com




On Mon, 16 Feb 2004, Mark Baker wrote:

&gt; A correction ...
&gt;
&gt; On Fri, Feb 13, 2004 at 11:27:51PM -0500, Mark Baker wrote:
&gt; &gt; &gt; So my current understanding is that
&gt; &gt; &gt; DTD/Schema/RelaxNG are ways to describe what XML
&gt; &gt; &gt; elements an application produces/consumes, RDF is
&gt; &gt; &gt; a way to describe the meaning of those elements,
&gt; &gt; &gt; and namespaces are a way to identify them.
&gt; &gt; &gt;
&gt; &gt; &gt; But, you want to use RDF to replace
&gt; &gt; &gt; DTD/Schema/RelaxNG and I'm not seeing how that
&gt; &gt; &gt; works.
&gt; &gt; &gt;
&gt; &gt; &gt; For example, how can we use RDF to say that we
&gt; &gt; &gt; require/produce a name, an age, and a list of
&gt; &gt; &gt; phone numbers?
&gt; &gt;
&gt; &gt; You'd use RDF Schema and/or OWL, or perhaps even stuff further up (e.g.
&gt; &gt; rules language).  These are RDF vocabularies that define constraints on
&gt; &gt; resources and their relationships, rather than doing it on syntax.
&gt;
&gt; As was pointed out to me on www-ws-desc@..., those two aren't
&gt; really comparable.  I have never used DTDs/XML Schemas (all my XML
&gt; has been RDF for 2+ years), and just failed to recognize that an
&gt; XML Schema constrains the relationship between elements in a document
&gt; scope, not a global scope.
&gt;
&gt; In RDF/OWL, there's no way to say "in this document, Person has to
&gt; have an Age"; there's only a way to say "People have one age", which
&gt; says nothing about what any particular document might say.
&gt;
&gt; Of course, what you find when you switch to RDF is that you don't
&gt; need to say "in this document ...".  Or at least I've never had the
&gt; need, and I've done a fair bit of RDF (not much OWL though).  So
&gt; perhaps the answer to your question is "You don't need to".
&gt;
&gt; Mark.
&gt; --
&gt; Mark Baker.   Ottawa, Ontario, CANADA.        http://www.markbaker.ca
&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;
&gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4251<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2004-02-23 01:40:17<br>
Subject:Re: [rest-discuss] RDF Forms<br>
Message:<br><br>
<pre>On Fri, Feb 20, 2004 at 07:36:59PM -0500, S. Alexander Jacobson wrote:
&gt; &gt; Of course, what you find when you switch to RDF is that you don't
&gt; &gt; need to say "in this document ...".  Or at least I've never had the
&gt; &gt; need, and I've done a fair bit of RDF (not much OWL though).  So
&gt; &gt; perhaps the answer to your question is "You don't need to".
&gt; 
&gt; Don't need to?  I'm confused.  Isn't addressing
&gt; this problem, the goal of your RDF Forms
&gt; proposal!?

No.  What I meant by those comments was that in RDF you can't do XML
Schema stuff, such as saying "all foo elements need to contain one or
more bar elements".

&gt; Note: I restarted this thead in the hope of being
&gt; able to specify what data a URI expects to have
&gt; POSTed to it, and, perhaps what data to expect as
&gt; a result e.g.
&gt; 
&gt; &lt;form method="POST" action="http://uri"
&gt;       	dataSchema="relaxSchema.rng"
&gt; 	resultSchema="relaxSchema2.rng"/&gt;
&gt; 
&gt; With this sort of system, I could build automated
&gt; web site testing tools simlar to QuickCheck
&gt; &lt;http://www.cs.chalmers.se/~rjmh/QuickCheck/&gt;

Sure.  But I don't think "resultSchema" is useful, since the data will
describe its type anyhow.  Also, I also think that media types are what
you want there, not schemas.

Mark.
-- 
Mark Baker.   Ottawa, Ontario, CANADA.        http://www.markbaker.ca

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4252<br>
Sender:"S. Alexander Jacobson" &lt;alex@...&gt;<br>
Post Date/Time:2004-02-23 20:46:35<br>
Subject:Re: [rest-discuss] RDF Forms<br>
Message:<br><br>
<pre>Re media-types vs schema/dtd/relaxNG/RDFForms

I don't believe there is a standard way to
identify specific DTD/relaxNG/RDFForms
within the text/XML media type.  I recall there is
one for schema, but have no reason yet to believe
that I would prefer to use schema to constrain the
XML as opposed to DTD, RelaxNG, or RDFForms.
(Hence my reply to your RDF Forms post :-))

Re resultSchema vs the returned media-type

I want to verify that the URL produced the output
expected from the POST.  The fact that it
produces image/jpeg does not tell me whether that
output is reasonable given what was POSTed.

Updated proposed representations:

&lt;form action="http://uri"&gt;
 &lt;send method="GET"&gt;
  &lt;x type="application/urlencoded" constraint="MarkBakerForm.rdf"/&gt;
 &lt;/send&gt;
 &lt;send method="POST"&gt;
  &lt;x type="application/urlencoded" constraint="MarkBakerForm.rdf"/&gt;
  &lt;x type="text/xml" constraint="foo.dtd"/&gt;
 &lt;/send&gt;
 &lt;result status="200"&gt;
  &lt;x type="text/xml constraint="goo.rng"/&gt;
  &lt;x type="image/jpeg /&gt;
 &lt;/result&gt;
&lt;/form&gt;

However, I would prefer to use only a single
constraint language (or a single constraint
language per media type).  Still looking for
thoughts here on constraint languages?  Can we
just use relaxNG and some mapping to
application/urlencoded?

-Alex-

_________________________________________________________________
S. Alexander Jacobson                  mailto:me@...
tel:917-770-6565                       http://alexjacobson.com

On Sun, 22 Feb 2004, Mark Baker wrote:

&gt; On Fri, Feb 20, 2004 at 07:36:59PM -0500, S. Alexander Jacobson wrote:
&gt; &gt; &gt; Of course, what you find when you switch to RDF is that you don't
&gt; &gt; &gt; need to say "in this document ...".  Or at least I've never had the
&gt; &gt; &gt; need, and I've done a fair bit of RDF (not much OWL though).  So
&gt; &gt; &gt; perhaps the answer to your question is "You don't need to".
&gt; &gt;
&gt; &gt; Don't need to?  I'm confused.  Isn't addressing
&gt; &gt; this problem, the goal of your RDF Forms
&gt; &gt; proposal!?
&gt;
&gt; No.  What I meant by those comments was that in RDF you can't do XML
&gt; Schema stuff, such as saying "all foo elements need to contain one or
&gt; more bar elements".
&gt;
&gt; &gt; Note: I restarted this thead in the hope of being
&gt; &gt; able to specify what data a URI expects to have
&gt; &gt; POSTed to it, and, perhaps what data to expect as
&gt; &gt; a result e.g.
&gt; &gt;
&gt; &gt; &lt;form method="POST" action="http://uri"
&gt; &gt;       	dataSchema="relaxSchema.rng"
&gt; &gt; 	resultSchema="relaxSchema2.rng"/&gt;
&gt; &gt;
&gt; &gt; With this sort of system, I could build automated
&gt; &gt; web site testing tools simlar to QuickCheck
&gt; &gt; &lt;http://www.cs.chalmers.se/~rjmh/QuickCheck/&gt;
&gt;
&gt; Sure.  But I don't think "resultSchema" is useful, since the data will
&gt; describe its type anyhow.  Also, I also think that media types are what
&gt; you want there, not schemas.
&gt;
&gt; Mark.
&gt; --
&gt; Mark Baker.   Ottawa, Ontario, CANADA.        http://www.markbaker.ca
&gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4253<br>
Sender:Jeff Bone &lt;jbone@...&gt;<br>
Post Date/Time:2004-02-24 17:50:49<br>
Subject:Re: [rest-discuss] Removing an item from a collection<br>
Message:<br><br>
<pre>
Vincent,

I would be keenly interested in such a thing, when you're ready to 
share it.  Even preliminary work would, I'm sure, be well-received 
around here.  Happy to help if possible.

jb

On Feb 20, 2004, at 3:16 AM, Vincent D Murphy wrote:

&gt; I am working on a language for describing the configuration
&gt; of such servers; I will report to this list when I make
&gt; some progress.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4254<br>
Sender:Josh Sled &lt;jsled-yahoogroup@...&gt;<br>
Post Date/Time:2004-02-27 13:53:55<br>
Subject:Re: [rest-discuss] REST toolkits<br>
Message:<br><br>
<pre>On Mon, Feb 09, 2004 at 11:09:09AM +0000, Tony Butterfield wrote:

| Are you thinking of RDF for defining, declaring and documenting the
| interfaces?

Likely... maybe ... too early to say, though.


| Looking at the service, there are at least three aspects:
| 1) implementing the service
| 2) providing a public interface to the service
| 3) providing meta-data about the service
| 
| As far as implementing the service goes, I think it would great if the
| toolkit would provide all abstractions to implement the service
| independent of the public interface, provide implementations of the
| common web datatypes and provide tools for the management of the
| service.

Hmm.  My biggest issue with this is that the developer is likely already
going to have a set of idioms and tools [data-structures, libraries, &amp;c.]
with which to deal with common web datatypes [be they images or XML].  Hmmm.

"Management of the service" I'm going to read as "basic lifecycle and
network-connection accepting" ... in that case, I also think that most people
already have some tool for dealing with this, as well.  At the same time, a
lightweight HTTP client/server might be a good optional provision of the
toolkit.

I don't know what meta data there necessarily is.  In fact, I think that
RESTful services should try to minimize the volume of meta-data necessary to
function; anything apart from the interface itself is another point of
"failure".


| As far as providing the public interface I would good to be able to
| declaratively map the service onto some public interface. I.e. lets say
| put the ImageTransformService at http://imagetools.org/transform 

Hmm.  Let's come to agreement on a sketch of what the RESTful API for this
service would look like...

C: POST /transform
C: &lt;transform&gt;
     &lt;image resource="http://host/path/image.png" /&gt;
     &lt;format&gt;image/png&lt;/format&gt;
     &lt;transforms&gt;
       &lt;scale x="0.5" y="0.5" /&gt;
       &lt;crop x0="0" y0="0" x1="-20" y1="-50" /&gt;
       &lt;sharpen q="0.217" /&gt;
     &lt;/transforms&gt;
   &lt;/transform&gt;
S: 201; Location: /transform/1

C: GET /transform/1
S: 200
S: &lt;transform&gt;
     &lt;source resource="http://host/path/image.png" /&gt;
     &lt;image resource="/transform/1/image" /&gt;
     &lt;transforms&gt;
       &lt;scale x="0.5" y="0.5" /&gt;
       &lt;crop x0="0" y0="0" x1="-20" y1="-50" /&gt;
       &lt;sharpen q="0.217" /&gt;
     &lt;/transforms&gt;
   &lt;/transform&gt;

C: GET /transform/1/image
S: 200; Content-Type: image/png
S: [binary image data]

Seem reasonable?


| Providing meta-data. I'd like to explore this issue more. To use RDF or
| WSDL to describe an interface is nice but useful only for automatically
| building static client stubs or providing documentation. 

Those are pretty useful things, and I think exactly what most people want out
of such a toolkit. :)


There is an elephant in the room, though, of actually modeling a
resource-space such that it matches the nouns of the application domain, but
with the necessary ... formalism ... to support an REST implementation.
Perhaps a "resource-space-builder" [a-la a GUI builder] isn't out of the
question.  This may be REST's hardest sell ... one needs to do some work not
directly related to writing code to get the thing off the ground.


| parameters to a request using standard web datatypes- in this example
| say and XML specification plus a PNG image stream. Then pass them to the
| service. 

Damn; I'm torn between getting out of the developer's way and letting her use
whatever tools for both XML/data-handling and http-{client,server}age she
wants, and the necessities of actually having a toolkit that provides value.
I think the right thing is to do the latter, and try to abstract it out
toward the former.



I think it's important to focus on a toolkit, rather than a framework.  That
is: focus less on subsuming the developer's world, instead focus on providing
a set of small tools to be used and integrated into their world.

From recent experience building a RESTful [internal] client/server system,
these [were] the more useful parts we had spawned:

1/ 'http[-test]-client' -- a simple [~300line] command-line wrapper around
   the Jakarta HttpClient library, allowing manual execution of all 4 verbs:

   e.g.:
   # htc [-h localhost] [-p 8180] GET '/transform?created=today'
     &lt;xml&gt;
   # htc -f new-transform.xml POST /transform
     Location: /transform/42
   # htc GET /transform/42
     &lt;xml&gt;
   # htc DELETE /transform/42
     200

   Basically: wget += [ put, post, delete ];


2/ a resource/service-method mapping dispatcher -- a relatively simple
   Servlet dispatcher which was configured by a simple text file of lines of
   the form:

   -----
   ###  public void getTransforms( Map m )
   GET  /transform?[query-spec] in:null out:TransformList TransformService.getTransforms
   ###  public TransformUri postTransform( Transform t )
   POST /transform in:Transform out:TransformURI TransformService.postTransform
   ###  public Transform getTransform( TransformURI turi )
   GET  /transform/1 in:TransformURI out:Transform TransformService.getTransform
   -----

   The Dispatcher had support for:
   * URI-pattern matching.
   * required query paramaters which modified dispatching.
   * input/output data validation/[un]marshaling.

   I think the data behind this particular file is better placed in a simple
   data structure directly in the code, in the simple case.  One problem we
   had was the seperation of the sections of this file from the 20-or-so
   services which backed it ... they could then more easily change
   independently, which sucks.

   In out system, we autogenerated all those in: and out: types ... but it
   was more important that they implemented a simple interface which allowed
   the retreival of their "xml-delegate", which was then used to do
   [un]marshaling.

   This is the trickiest part, for me...

   i/    I don't want a tool that autogenerates data-carrier objects: there's
         already too many of them, and they all suck.

   ii/   I personally don't want to deal with XML-enabled objects anymore.
   

3/ A set of defined error-codes, exceptions and consistent handling.  We only
   ended up using the "common subset" of HTTP response codes... specifically:
   200 [ok], 201 [created], 202 [accepted], 204 [no content]
   400 [bad req], 401 [unauthorized], 404, 409 [object conflict]
   500 [server error]

   We handled these with exceptions in java; there was one in particular that
   we all felt sad about throwing the exception, since it wasn't an
   exceptional case. :/  At the same time, you don't want every function
   return value to be "HttpResponse"...

4/ request/response logger -- we did this on the client side, but should have
   done it on the server side, too.  It was basically a fixed-size FILO queue
   of request objects, which was trivially HTMLized.  It made debugging and
   undestanding the system a breeze.
   * We also should have extended it to save a replayable log for testing
     purposes, which would have been real nice.

5/ ScriptableHttpXml -- a simple tool which accepted a script file with
   directives like:
   ----
   GET /transform/0 expect:404
   GET /transform/-1 expect:404
   POST /transform file:transform-test0.xml expect:201 location:test0uri
   GET  ${test0uri} expect:200 saveIn:test0data compareTo:transform-test0-get.xml
   XPATHREPLACE ${test0data} /transform/@about="/transform/42"
   PUT  ${test0uri} ${test0data} expect:409
   # ...
   ---

   * It started with the 4 verbs plus a couple of other data-handling
     directives, and grew as we got more sophisticated.  I'll see what I can
     do about getting the tool from it's owner. :)


As well, in would have been really nice to have the following:

a/ some auto-population of the resource-space.  I always wanted [GET /]
   to return a list of the top-level resources.  The ResourceDispatcher
   should have been able to do that.

b/ a standard way to return "4xx, but here's how you use it...", in a
   developer-understandable form.

c/ a useful URI class -- we ended up doing the URI-pattern matching in
   multiple places.  It'd sure have been nice to have a consistent mechanism
   for it.

d/ etags/timestamps + conditional-GET support -- we solved multiple
   performance problems with poor-man's caching, but it would have been nice
   to have had an easy way to plumb etags/timestamps through the server to
   the API.


So what toolkit pieces do I see out of this, at this point?

* "httpc"
* ScriptableHttpXml
* ResourceDispatcher
* PatternURI


| -- 
| Tony Butterfield &lt;tab@...&gt;
| 1060 Research

...jsled
-- 
http://www.asynchronous.org - `a=jsled; b=asynchronous.org; echo ${a}@${b}`

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4255<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2004-02-27 14:30:00<br>
Subject:[admin] RESTwiki<br>
Message:<br><br>
<pre>Hi again.

Thanks to everybody for the many offers of assistance I received in
finding a new hosted server for RESTwiki.  I've now picked a winner.
Unfortunately, it requires moving to a new Wiki, but it's not that
different from MoinMoin in syntax, so shouldn't be a big deal.

This weekend, our new hosts will be converting our existing pages to
this new format, so please refrain from any Wiki updates until Monday,
when I'll announce the new URI and introduce our new host.

Thanks again!

Mark.
-- 
Mark Baker.   Ottawa, Ontario, CANADA.        http://www.markbaker.ca

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4256<br>
Sender:Tony Butterfield &lt;tab@...&gt;<br>
Post Date/Time:2004-03-01 09:24:28<br>
Subject:Re: [rest-discuss] REST toolkits<br>
Message:<br><br>
<pre>There is lots of interesting fragments of this broad discussion. If I
could summarise the main threads, in order of importance, from my
perspective:
1) Toolkits versus Frameworks (the pro's and con's of each)
2) Service orchestration (declaring, sequencing and pipelining requests)
3) Meta data (what is needed and why)
4) REST versus HTTP (HTTP is the definitive REST implementation but
isn't the essence)


On Fri, 2004-02-27 at 13:53, Josh Sled wrote: 
&gt; On Mon, Feb 09, 2004 at 11:09:09AM +0000, Tony Butterfield wrote:
&gt; 
&gt; | Are you thinking of RDF for defining, declaring and documenting the
&gt; | interfaces?
&gt; 
&gt; Likely... maybe ... too early to say, though.
Yeah, I agree, certainly at the moment XML suffices for all our
meta-data, RDF/XML requires a whole new technology stack to process it
but if it has sufficient merit then why not. Ideally it is just another
data type. 
&gt; 
&gt; | Looking at the service, there are at least three aspects:
&gt; | 1) implementing the service
&gt; | 2) providing a public interface to the service
&gt; | 3) providing meta-data about the service
&gt; | 
&gt; | As far as implementing the service goes, I think it would great if the
&gt; | toolkit would provide all abstractions to implement the service
&gt; | independent of the public interface, provide implementations of the
&gt; | common web datatypes and provide tools for the management of the
&gt; | service.
&gt; 
&gt; Hmm.  My biggest issue with this is that the developer is likely already
&gt; going to have a set of idioms and tools [data-structures, libraries, &amp;c.]
&gt; with which to deal with common web datatypes [be they images or XML].  Hmmm.
&gt; 
&gt; "Management of the service" I'm going to read as "basic lifecycle and
&gt; network-connection accepting" ... in that case, I also think that most people
&gt; already have some tool for dealing with this, as well.  At the same time, a
&gt; lightweight HTTP client/server might be a good optional provision of the
&gt; toolkit.

I think our difference of perspective is because I have been thinking
more framework than toolkit. You talk about this further down too. To me
this is a key aspect to raising the abstraction bar on developing REST
services- I don't want to be hand crafting code to extract fields from
HTTP headers and parsing XML.

I don't think of it as a black and white thing though. By using an OS,
JVM, servlets you are effectively using a framework just a fairly non
invasive one. You mention a few problems further down which, to me, hint
at framework solutions. I understand that a framework is more subsuming
of the developers world and than a toolkit and makes adoption harder but
the tradeoffs are worth considering. From the little I understand about
Aspect Oriented Programming too, it seems that framework-like features
can be added in to code in a less invasive manner.

I think that a toolkit encourages a from-the-ground structure, this
isn't as bad as having to re-invent the wheel like the lack of toolkits
causes. But it doesn't easily encourage good patterns of usage. I guess
an attribute of a good framework is that it can be repeatedly "peeled
back" to reveal more control and flexibility and thus ideally converging
on a toolkit.

For me the bottom line is that if you mostly like and trust the pattern
that a framework is encouraging then a framework can offer more than a
toolkit.

&gt; I don't know what meta data there necessarily is.  In fact, I think that
&gt; RESTful services should try to minimize the volume of meta-data necessary to
&gt; function; anything apart from the interface itself is another point of
&gt; "failure".
&gt; 
&gt; 
&gt; | As far as providing the public interface I would good to be able to
&gt; | declaratively map the service onto some public interface. I.e. lets say
&gt; | put the ImageTransformService at http://imagetools.org/transform
&gt; 
&gt; Hmm.  Let's come to agreement on a sketch of what the RESTful API for this
&gt; service would look like...
&gt; 
&gt; C: POST /transform
&gt; C: &lt;transform&gt;
&gt;      &lt;image resource="http://host/path/image.png" /&gt;
&gt;      &lt;format&gt;image/png&lt;/format&gt;
&gt;      &lt;transforms&gt;
&gt;        &lt;scale x="0.5" y="0.5" /&gt;
&gt;        &lt;crop x0="0" y0="0" x1="-20" y1="-50" /&gt;
&gt;        &lt;sharpen q="0.217" /&gt;
&gt;      &lt;/transforms&gt;
&gt;    &lt;/transform&gt;
&gt; S: 201; Location: /transform/1
&gt; 
&gt; C: GET /transform/1
&gt; S: 200
&gt; S: &lt;transform&gt;
&gt;      &lt;source resource="http://host/path/image.png" /&gt;
&gt;      &lt;image resource="/transform/1/image" /&gt;
&gt;      &lt;transforms&gt;
&gt;        &lt;scale x="0.5" y="0.5" /&gt;
&gt;        &lt;crop x0="0" y0="0" x1="-20" y1="-50" /&gt;
&gt;        &lt;sharpen q="0.217" /&gt;
&gt;      &lt;/transforms&gt;
&gt;    &lt;/transform&gt;
&gt; 
&gt; C: GET /transform/1/image
&gt; S: 200; Content-Type: image/png
&gt; S: [binary image data]
&gt; 
&gt; Seem reasonable?
Yes. I see how it would work. What are you motivations for having a two
stage register a transform, then get result of transform. Is this
something that you have come across as a necessary pattern? 
&gt; 
&gt; | Providing meta-data. I'd like to explore this issue more. To use RDF or
&gt; | WSDL to describe an interface is nice but useful only for automatically
&gt; | building static client stubs or providing documentation. 
&gt; 
&gt; Those are pretty useful things, and I think exactly what most people want out
&gt; of such a toolkit. :)
SOAP style object bindings are not needed though are they? Providing
human readable definitions of the interfaces I can understand.

Does anyone have experience of defining REST interfaces in terms of the
MIME types posted or got, xml schemas (if XML), response codes and verbs
applicable on URIs? Also is it currently more work than the benefits
derived?

&gt; There is an elephant in the room, though, of actually modeling a
&gt; resource-space such that it matches the nouns of the application domain, but
&gt; with the necessary ... formalism ... to support an REST implementation.
&gt; Perhaps a "resource-space-builder" [a-la a GUI builder] isn't out of the
&gt; question.  This may be REST's hardest sell ... one needs to do some work not
&gt; directly related to writing code to get the thing off the ground.
&gt; 
I like idea! Have you got one?

&gt; | parameters to a request using standard web datatypes- in this example
&gt; | say and XML specification plus a PNG image stream. Then pass them to the
&gt; | service. 
&gt; 
&gt; Damn; I'm torn between getting out of the developer's way and letting her use
&gt; whatever tools for both XML/data-handling and http-{client,server}age she
&gt; wants, and the necessities of actually having a toolkit that provides value.
&gt; I think the right thing is to do the latter, and try to abstract it out
&gt; toward the former.
&gt; 
&gt; I think it's important to focus on a toolkit, rather than a framework.  That
&gt; is: focus less on subsuming the developer's world, instead focus on providing
&gt; a set of small tools to be used and integrated into their world.

See above.

&gt; &gt;From recent experience building a RESTful [internal] client/server system,
&gt; these [were] the more useful parts we had spawned:
&gt; 
&gt; 1/ 'http[-test]-client' -- a simple [~300line] command-line wrapper around
&gt;    the Jakarta HttpClient library, allowing manual execution of all 4 verbs:
&gt; 
&gt;    e.g.:
&gt;    # htc [-h localhost] [-p 8180] GET '/transform?created=today'
&gt;      &lt;xml&gt;
&gt;    # htc -f new-transform.xml POST /transform
&gt;      Location: /transform/42
&gt;    # htc GET /transform/42
&gt;      &lt;xml&gt;
&gt;    # htc DELETE /transform/42
&gt;      200
&gt; 
&gt;    Basically: wget += [ put, post, delete ];
&gt; 
&gt; 
&gt; 2/ a resource/service-method mapping dispatcher -- a relatively simple
&gt;    Servlet dispatcher which was configured by a simple text file of lines of
&gt;    the form:
&gt; 
&gt;    --
&gt;    ###  public void getTransforms( Map m )
&gt;    GET  /transform?[query-spec] in:null out:TransformList TransformService.getTransforms
&gt;    ###  public TransformUri postTransform( Transform t )
&gt;    POST /transform in:Transform out:TransformURI TransformService.postTransform
&gt;    ###  public Transform getTransform( TransformURI turi )
&gt;    GET  /transform/1 in:TransformURI out:Transform TransformService.getTransform
&gt;    --
&gt; 
&gt;    The Dispatcher had support for:
&gt;    * URI-pattern matching.
&gt;    * required query paramaters which modified dispatching.
&gt;    * input/output data validation/[un]marshaling.
&gt; 
&gt;    I think the data behind this particular file is better placed in a simple
&gt;    data structure directly in the code, in the simple case.  One problem we
&gt;    had was the seperation of the sections of this file from the 20-or-so
&gt;    services which backed it ... they could then more easily change
&gt;    independently, which sucks.
&gt; 
&gt;    In out system, we autogenerated all those in: and out: types ... but it
&gt;    was more important that they implemented a simple interface which allowed
&gt;    the retreival of their "xml-delegate", which was then used to do
&gt;    [un]marshaling.
&gt; 
&gt;    This is the trickiest part, for me...
&gt; 
&gt;    i/    I don't want a tool that autogenerates data-carrier objects: there's
&gt;          already too many of them, and they all suck.
&gt; 
&gt;    ii/   I personally don't want to deal with XML-enabled objects anymore.

These are looking like ways service orchestration/pipelining of requests
in a declarative way. I think this is a key feature however:
1) if you use HTTP/network as the only inter-service communication
mechanism you'll be reluctant to reduce the granularity of your
services. If you create a request abstraction that maps to HTTP and
anything else you might have you get more flexibility.
2) these higher-level orchestrations of services will soon want to be
services in their own right too. How would you wrap them up? 
&gt;    
&gt; 
&gt; 3/ A set of defined error-codes, exceptions and consistent handling.  We only
&gt;    ended up using the "common subset" of HTTP response codes... specifically:
&gt;    200 [ok], 201 [created], 202 [accepted], 204 [no content]
&gt;    400 [bad req], 401 [unauthorized], 404, 409 [object conflict]
&gt;    500 [server error]
&gt; 
&gt;    We handled these with exceptions in java; there was one in particular that
&gt;    we all felt sad about throwing the exception, since it wasn't an
&gt;    exceptional case. :/  At the same time, you don't want every function
&gt;    return value to be "HttpResponse"...
It's a tough one. Most languages only like one return type/value from a
function/service. Exceptions are a let-out but it starts to get messy if
you start putting real data into exception subclasses. Putting
HttpResponse objects thoughout you code bind the whole thing tightly to
HTTP and the servlet infrastructure.

Our approach has been to in effect eliminate the dichotomy of response
code and response representation in HTTP. i.e. consider the response as
just one value, either the code is the relevant part or the
representation in the body is.

&gt; 4/ request/response logger -- we did this on the client side, but should have
&gt;    done it on the server side, too.  It was basically a fixed-size FILO queue
&gt;    of request objects, which was trivially HTMLized.  It made debugging and
&gt;    undestanding the system a breeze.
&gt;    * We also should have extended it to save a replayable log for testing
&gt;      purposes, which would have been real nice.
I guess it was because of the servlet framework that you had a clean
single point to add the logging. To me this is one of the key pro points
for frameworks; if abstracted well they provide a single points where
changes can be made which have global effect. 

&gt; 5/ ScriptableHttpXml -- a simple tool which accepted a script file with
&gt;    directives like:
&gt;    --
&gt;    GET /transform/0 expect:404
&gt;    GET /transform/-1 expect:404
&gt;    POST /transform file:transform-test0.xml expect:201 location:test0uri
&gt;    GET  ${test0uri} expect:200 saveIn:test0data compareTo:transform-test0-get.xml
&gt;    XPATHREPLACE ${test0data} /transform/@about="/transform/42"
&gt;    PUT  ${test0uri} ${test0data} expect:409
&gt;    # ...
&gt;    --
&gt; 
&gt;    * It started with the 4 verbs plus a couple of other data-handling
&gt;      directives, and grew as we got more sophisticated.  I'll see what I can
&gt;      do about getting the tool from it's owner. :)
&gt; 
More service orchestration with some simple XML primitives thrown in- I
really think this approach works. You have:
1) request definitions
2) response assertions
3) temporary variables
4) xml comparisons
5) xml manipulations

I've been down this path too. Then I got to the point where I thought
but why build all these primitives into the language, make them services
too. Then you boil it down to simple URI request assembly language.

&gt; As well, in would have been really nice to have the following:
&gt; 
&gt; a/ some auto-population of the resource-space.  I always wanted [GET /]
&gt;    to return a list of the top-level resources.  The ResourceDispatcher
&gt;    should have been able to do that.
I guess there would be a few aspects to this, mapping a listing service
onto all paths that end with slash. The using of your meta-data about
your services to create the listing resource (maybe in XML) 

&gt; b/ a standard way to return "4xx, but here's how you use it...", in a
&gt;    developer-understandable form.
Mmm. Can you return a meaningful representation in the body of a
response? 

&gt; c/ a useful URI class -- we ended up doing the URI-pattern matching in
&gt;    multiple places.  It'd sure have been nice to have a consistent mechanism
&gt;    for it.
I've done lots of regex matching on URIs too. It works well. As for a
consistent mechanism; having a framework where you define URI address
spaces as sets of services that map to them has worked for me. 

&gt; d/ etags/timestamps + conditional-GET support -- we solved multiple
&gt;    performance problems with poor-man's caching, but it would have been nice
&gt;    to have had an easy way to plumb etags/timestamps through the server to
&gt;    the API.
Having a non-HTTP request abstraction solves this one too. The
equivalent of the HTTP header becomes meta-data that travels around with
the representation of a resource.

&gt; So what toolkit pieces do I see out of this, at this point?
&gt; 
&gt; * "httpc"
&gt; * ScriptableHttpXml
&gt; * ResourceDispatcher
&gt; * PatternURI
httpc- A good HTTP client yes, I've been recommended Apache's HTTPClient
ScriptableHttpXML- Take a look at our equivalent DPML:
http://1060research-server-1.co.uk/docs/1.1.0/docxter/doc_guide_dpml_quick_reference.html
ResourceDispatcher/PatternURI- take a look at:
http://1060research-server-1.co.uk/docs/1.1.0/docxter/doc_guide_concise.html

-- 
Tony Butterfield &lt;tab@...&gt;
1060 Research


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4257<br>
Sender:"mgvelvet" &lt;mgarland@...&gt;<br>
Post Date/Time:2004-03-01 15:34:53<br>
Subject:Re: REST toolkits<br>
Message:<br><br>
<pre>Wow, Josh. Thanks for the brain dump! I'm trying to write my first 
RESTful application, and your concrete examples are enlightening.

&gt;    i/    I don't want a tool that autogenerates data-carrier
&gt;          objects: there's already too many of them, and they
&gt;          all suck.
&gt; 
&gt;    ii/   I personally don't want to deal with XML-enabled
&gt;          objects anymore.

What do you mean when you say "XML-enabled"? And is this in 
reference to the data-carrier objects, or something else?

What would you prefer over XML-enabled objects?

Thanks!

&gt; ...jsled

Matt Garland


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4258<br>
Sender:Josh Sled &lt;jsled@...&gt;<br>
Post Date/Time:2004-03-01 16:06:42<br>
Subject:Re: [rest-discuss] Re: REST toolkits<br>
Message:<br><br>
<pre>On Mon, 2004-03-01 at 10:34, mgvelvet wrote:

&gt; Wow, Josh. Thanks for the brain dump! I'm trying to write my first 
&gt; RESTful application, and your concrete examples are enlightening.

Awesome.

It's important to note that most of my experience here was in a
program-program scenario ... a more user[-agent/browser]-facing project
would have forced different things to happen.  For instance, the
scriptable http/xml testing tool was ideal for scripting functional
tests against the backend, but something like jWebUnit would have been
more appropriate for testing an HTML+javascript application.  Likewise,
the breadth of response codes/exceptions we used was wider and different
than one would normally use with a user-agent.


&gt; What do you mean when you say "XML-enabled"? And is this in 
&gt; reference to the data-carrier objects, or something else?

Pretty much, yeah ... an XML-serializable data-carrier object.  The
idea/implementation that there are a set of domain objects which
implement some "I'm-XML-aware" interface [or, worse, inherit from some
totally-unrelated-to-their-function base object].

&gt; What would you prefer over XML-enabled objects?

Lightly-wrapped/typed RDF data blobs, I think, but I haven't been able
to play around with the idea enough yet to see exactly how it works...
and just a bit off-topic for this list. :)


My point re: the toolkit/framework discussion would be that nobody has a
good way of handling this, yet, that I've seen ... I'd be very wary of
using a framework that tried to force me to use an approach that I
wouldn't/couldn't buy into or easily leave.

...jsled
 
-- 
http://www.asynchronous.org/ - `a=jsled; b=asynchronous.org; echo
${a}@${b}`
# A: Because it breaks the flow of normal conversation.
# Q: Why don't we put the response before the request?


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4259<br>
Sender:Tyler Close &lt;list@...&gt;<br>
Post Date/Time:2004-03-02 05:12:37<br>
Subject:Re: [rest-discuss] Re: REST toolkits<br>
Message:<br><br>
<pre>On Mon March 1 2004 08:06 am, Josh Sled wrote:
&gt; &gt; What do you mean when you say "XML-enabled"? And is this in
&gt; &gt; reference to the data-carrier objects, or something else?
&gt;
&gt; Pretty much, yeah ... an XML-serializable data-carrier object.  The
&gt; idea/implementation that there are a set of domain objects which
&gt; implement some "I'm-XML-aware" interface [or, worse, inherit from some
&gt; totally-unrelated-to-their-function base object].

The implementation doesn't have to be that kludgy. See:

http://www.waterken.com/dev/Message/Tutorial/

The benefit of mapping data in XML to a Java object is being able
to fully leverage the syntax you're currently working in. Doing
that means representing your data using the AST (Abstract Syntax
Tree) that your syntax is designed to work with. If you're working
in XSLT, then keeping your data in the XML AST (ie: the XML
Infoset) is most convenient.  If you're working in Java, then
mapping your data onto the Java AST is most convenient. A tool
that can automatically translate between the two ASTs lets you
choose the right tool and syntax for the particular task. Without
such a tool, you end up using clumsy meta-level APIs like the DOM.

Remember what your syntax is there for. Don't steal its job.

Tyler


-- 
The union of REST and capability-based security.
http://www.waterken.com/dev/Web/


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4260<br>
Sender:"Tony Butterfield" &lt;tab@...&gt;<br>
Post Date/Time:2004-03-02 09:22:59<br>
Subject:Re: REST toolkits<br>
Message:<br><br>
<pre>--- In rest-discuss@yahoogroups.com, Tyler Close &lt;list@w...&gt; wrote:
&gt; On Mon March 1 2004 08:06 am, Josh Sled wrote:
&gt; &gt; &gt; What do you mean when you say "XML-enabled"? And is this in
&gt; &gt; &gt; reference to the data-carrier objects, or something else?
&gt; &gt;
&gt; &gt; Pretty much, yeah ... an XML-serializable data-carrier object. 
The
&gt; &gt; idea/implementation that there are a set of domain objects which
&gt; &gt; implement some "I'm-XML-aware" interface [or, worse, inherit from
some
&gt; &gt; totally-unrelated-to-their-function base object].
&gt; 
&gt; The implementation doesn't have to be that kludgy. See:
&gt; 
&gt; http://www.waterken.com/dev/Message/Tutorial/
&gt; 
&gt; The benefit of mapping data in XML to a Java object is being able
&gt; to fully leverage the syntax you're currently working in. Doing
&gt; that means representing your data using the AST (Abstract Syntax
&gt; Tree) that your syntax is designed to work with. If you're working
&gt; in XSLT, then keeping your data in the XML AST (ie: the XML
&gt; Infoset) is most convenient.  If you're working in Java, then
&gt; mapping your data onto the Java AST is most convenient. A tool
&gt; that can automatically translate between the two ASTs lets you
&gt; choose the right tool and syntax for the particular task. Without
&gt; such a tool, you end up using clumsy meta-level APIs like the DOM.
&gt; 
&gt; Remember what your syntax is there for. Don't steal its job.
&gt; 
&gt; Tyler
&gt; 
Yes, its about the right tool for the job. For complex processing that
cannot naturally be performed in the XML domain, mapping into (Java)
objects is the best way to go and tools are a necessary part of that
mapping process.

However IMHO there are a large number of processing problems that can
easily solved by scripting services (behind REST interfaces) together
into pipelines, as described by Josh, without resorting to coupling
your XML to objects. If you can do this you save yourself a lot of
work, particularly when the system evolves.

Tony


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4261<br>
Sender:Tyler Close &lt;list@...&gt;<br>
Post Date/Time:2004-03-05 17:28:59<br>
Subject:Re: [rest-discuss] Re: REST toolkits<br>
Message:<br><br>
<pre>On Tue March 2 2004 01:22 am, Tony Butterfield wrote:
&gt; However IMHO there are a large number of processing problems that can
&gt; easily solved by scripting services (behind REST interfaces)

I agree.

&gt; together into pipelines, as described by Josh, without resorting
&gt; to coupling your XML to objects. If you can do this you save
&gt; yourself a lot of work, particularly when the system evolves.

I think I understand what you're trying to say here, but you are
misusing the term 'coupling'.

I think you're saying that many processing tasks can be
accomplished without using an OOP environment, and that doing so
can often be a good design. I agree. In fact, I designed the
Waterken Webizer &lt;http://www.waterken.com/dev/SQL/&gt; based on this
premise.

It's interesting to note that the XML interface used by the
Webizer is the same as that used by the XML to Java mapping. This
property comes from the fact that the XML interface is designed to
be loosely coupled to the AST.

Many people seem to misunderstand what 'coupling' is. A piece of
code, or data, is coupled to something if it uses that something.
The coupling is 'loose' if there are many possible substitutes for
that something. Otherwise, the coupling is tight.

When I demonstrate an XML to Java binding for an interface, I am
demonstrating loose coupling. The interface is loosely coupled to
the AST used to represent it. The examples in the Waterken Message
Tutorial &lt;http://www.waterken.com/dev/Message/Tutorial/&gt; show
automated transformation between the XML AST and the Java AST.
These ASTs have become substitutes for each other.  That's loose
coupling.

The flipside of this argument is that not having an XML to Java
binding is a demonstration of tight coupling. The interface is
tightly coupled to the XML AST, because there are no substitutes
for the XML AST.

Taking this argument further, I claim that data represented in the
Waterken Doc Model &lt;http://www.waterken.com/dev/Doc/Model/&gt; is
more loosely coupled than the XML documents used in Josh's
examples. This loose coupling comes from the fact that the Doc
Model was designed to support mapping between many different ASTs.
This makes it easy to build mappings into a wide variety of
execution environments.

Take a look at the grammar for the Doc Model:

http://www.waterken.com/dev/Doc/Model/#Grammar

Notice how simple this grammar is compared to the XML infoset,
Java Serialization Streams, etc. This simplicity creates loose
coupling by making it possible to represent the data using any AST
whose grammar is a superset of the Doc Model grammar. The
complexity of the XML infoset grammar precludes this kind of
mapping.

In general, I've read a lot of nonsense about 'coupling'. I hope
this email gives people an objective basis on which to reason
about coupling. When people claim loose coupling, ask them to list
the available substitutes. When people accuse tight coupling, show
them the list of available substitutes.

Tyler


-- 
The union of REST and capability-based security.
http://www.waterken.com/dev/Web/




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4262<br>
Sender:"johncoe42" &lt;jcoe18@...&gt;<br>
Post Date/Time:2004-03-09 17:29:05<br>
Subject:REST interface to TWiki<br>
Message:<br><br>
<pre>Hello, I was attracted to REST by my experience with accessing UDDI 
directly from XSL, rather than using SOAP.

I have a new project (with a few bugs) to access (and update) TWiki 
content. I have merged the Google (XooMLe) REST interface with 
TWiki. A TWiki Edit page can be created that has Google lookup of 
Twiki content.

I'm attempting to allow postback of new textarea content to TWiki.
 The form I create is the same as the one twiki creates,


  &lt;head&gt;
   &lt;xsl:call-template name="get-wiki-head"&gt;&lt;xsl:with-param       
name="title" select="."/&gt;&lt;/xsl:call-template&gt;
 &lt;!--the base tag in the header is one reason it could fail the 
post.--&gt;

      &lt;/head&gt;
      &lt;body&gt;
         &lt;xsl:call-template name="get-wiki"&gt;&lt;xsl:with-param 
name="title" select="."/&gt;
      &lt;/xsl:call-template&gt;
        &lt;xsl:apply-templates/&gt;
      &lt;/body&gt;
    &lt;/html&gt;
..........

&lt;xsl:variable name="wikiBase"&gt;http://twiki.org/cgi-
bin/edit/Main/&lt;/xsl:variable&gt;
&lt;xsl:variable name="wiki"&gt;  &lt;xsl:value-of select="concat($wikiBase, 
$wiki-key)"/&gt;&lt;/xsl:variable&gt;
  &lt;xsl:template name="get-wiki"&gt;
    &lt;xsl:param name="title"/&gt;
    &lt;xsl:variable name="wiki-result" select="document($wiki)"/&gt;
    &lt;xsl:for-each select="$wiki-result"&gt;
         &lt;xsl:apply-templates /&gt;
&lt;!---------end of wiki set ------------&gt;
   &lt;/xsl:for-each&gt;
  &lt;/xsl:template&gt;

There is nothing more RESTful, than XSL document function!!!
John



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4263<br>
Sender:"Jeffrey Winter" &lt;jeffreywinter@...&gt;<br>
Post Date/Time:2004-03-16 14:33:15<br>
Subject:Do not put actions in URIs<br>
Message:<br><br>
<pre>I've been pondering a design decision for a web service
and I'd like to solicit opinions on whether a decision
would violate mistake #4 detailed here:

  http://www.prescod.net/rest/mistakes/

"Do not put actions in URIs"

The best analogy would be two bank accounts. I would like to 
be able to merge the two accounts, say:

  http://myservice//account/1:

  &lt;account id="1"&gt;
    &lt;savings&gt;100&lt;/savings&gt;
    &lt;checking&gt;200&lt;/checking&gt;
  &lt;/account&gt;

  http://myservice//account/2:

  &lt;account id="2"&gt;
    &lt;savings&gt;50&lt;/savings&gt;
    &lt;checking&gt;75&lt;/checking&gt;
  &lt;/account&gt;

Such that the result is a single resource:

  http://myservice/account/1:

  &lt;account id="1"&gt;
    &lt;savings&gt;150&lt;/savings&gt;
    &lt;checking&gt;275&lt;/checking&gt;
  &lt;/account&gt;

The second account is silently deleted.

While I could perform the updates on the client
and post/put the new representations back to the server,
I would not have any auditing on what actions where
performed against the accounts, nor that they were
done in a single transaction.

Instead I'd like to POST to some "transaction" resource, 
say /merge, and create a new resource that represents
the transaction details

  Request:

  POST /merge/ HTTP/1.1
  Host: http://myservice

  &lt;accounts&gt;
    &lt;account id="1"/&gt;
    &lt;account id="2"/&gt;
  &lt;/accounts&gt;

  Response:

  HTTP/1.1 204 Created
  Location: http://myservice/merge/93914

POSTing would perform the required merge, and the 
created resource would be a record of the transaction.  

The only available operation on the created
resource would be GET since it only holds the transaction
details.
 
Does this violate principle #4 above?  What other
solutions would there be otherwise?

Thanks



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4264<br>
Sender:"Simon Wittber" &lt;simon@...&gt;<br>
Post Date/Time:2004-02-27 08:11:11<br>
Subject:A request for criticism's...<br>
Message:<br><br>
<pre>[Oops, sorry for the queueing.  ACM servers foul-ups caused me to miss these. --Mark]

Hello REST people!

I've become quite intrigued with REST of late, I had no idea how
extensive and useful the HTTP protocol is!

After much frustration with mod-python, I put together my own REST
framework using the python BaseHTTPServer module. If any of you are
bored, or have time to look over some code (there is not much of it!)
please take a look at: 
http://metaplay.com.au/glyph2/view.php?pageName=%5BXRS%5D

Constructive criticism and suggestions will be appreciated!


+-----&gt;                                          &lt;------+
| Simon R. Wittber         | http://www.metaplay.com.au |
| Perth, Western Australia | simon@...      |
+------&gt;                                          &lt;-----+



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4265<br>
Sender:Josh Sled &lt;jsled@...&gt;<br>
Post Date/Time:2004-03-16 17:58:12<br>
Subject:Re: [rest-discuss] Do not put actions in URIs<br>
Message:<br><br>
<pre>On Tue, 2004-03-16 at 09:33, Jeffrey Winter wrote:

&gt; The best analogy would be two bank accounts. I would like to 
&gt; be able to merge the two accounts, say:
&gt; 
&gt;   http://myservice//account/1:
&gt; 
&gt;   &lt;account id="1"&gt;
&gt;     &lt;savings&gt;100&lt;/savings&gt;
&gt;     &lt;checking&gt;200&lt;/checking&gt;
&gt;   &lt;/account&gt;

As a side note, I'd encourage you to describe your accounts with the
full URI of the resource, not just the ID:

&lt;account about="/account/1"&gt;
 &lt;!-- ... --&gt;
&lt;/account&gt;

&gt; While I could perform the updates on the client
&gt; and post/put the new representations back to the server,
&gt; I would not have any auditing on what actions where
&gt; performed against the accounts, nor that they were
&gt; done in a single transaction.

Yeah, it's really about the contract that the server has with the
client, and the best place to offer the functionality.  In this case,
the "merge" functionality is best provided by the server, and should be
provided in a "first class" manner -- as a message-type the server
respects.

&gt; Instead I'd like to POST to some "transaction" resource, 
&gt; say /merge, and create a new resource that represents
&gt; the transaction details
[deletia]
&gt; Does this violate principle #4 above?  What other
&gt; solutions would there be otherwise?

I think, generally, the messages should contain this type of action. 
URIs really should describe resources -- fixed, tangible things ... not
processes.  Messages can be POSTed to resources:

What about...

POST /account/1/change
&lt;subsume&gt;
  &lt;account resource="/account/2" /&gt;
&lt;/subsume&gt;

201 Created
Location: /account/1/change/1

GET /account/1/change/1
&lt;subsume&gt;
  &lt;account resource="/account/2" /&gt;
&lt;/subsume&gt;


One nice thing about this is it becomes more clear where to put
something like /account/##/changes/ ... on the resource which contains
it.

Or a related query: /account?withChanges=true.

Or a maybe-more-useful query: /account?withChangesAfter=2004-02-01

...jsled

-- 
http://www.asynchronous.org/ - `a=jsled; b=asynchronous.org; echo ${a}@${b}`
# A: Because it breaks the flow of normal conversation.
# Q: Why don't we put the response before the request?


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4266<br>
Sender:sandeep@...<br>
Post Date/Time:2004-03-16 20:31:48<br>
Subject:Re: [rest-discuss] A request for criticism's...<br>
Message:<br><br>
<pre>Quoting Simon Wittber &lt;simon@...&gt;:

&gt; After much frustration with mod-python, I put together my own REST
&gt; framework using the python BaseHTTPServer module. If any of you are
&gt; bored, or have time to look over some code (there is not much of it!)
&gt; please take a look at: 
&gt; http://metaplay.com.au/glyph2/view.php?pageName=%5BXRS%5D

I keep getting a 404:
----------------
404 Error
The document:
/glyph2/view.php
does not exist.
----------------
 
&gt; Constructive criticism and suggestions will be appreciated!

Can't wait to check it out! I've been working on a REST framework in PHP.
BTW, have you checked out http://www.mnot.net/tarawa/  ?

San

----------------------------------------------------------------

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4267<br>
Sender:"Simon Wittber" &lt;simon@...&gt;<br>
Post Date/Time:2004-03-17 01:36:18<br>
Subject:RE: [rest-discuss] A request for criticism's...<br>
Message:<br><br>
<pre>Sorry about the 404, I sent the original post some weeks ago, and since
then have moved to a SVN repository.

Its now available at http://www.metaplay.com.au:81/svn/xrs/.

It is not a complete HTTP Server solution, and is likely only suitable
for small scale applications. Either way, critique is appreciated.


SimonW.



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4268<br>
Sender:Vincent D Murphy &lt;vdm@...&gt;<br>
Post Date/Time:2004-03-17 15:42:30<br>
Subject:about/URI attribute (was: Re: [rest-discuss] Do not put actions in URIs)<br>
Message:<br><br>
<pre>On 16 Mar 2004, at 17:58, Josh Sled wrote:
&gt; As a side note, I'd encourage you to describe your accounts with the
&gt; full URI of the resource, not just the ID:
&gt;
&gt; &lt;account about="/account/1"&gt;
&gt;  &lt;!-- ... --&gt;
&gt; &lt;/account&gt;

I don't see this as an either/or proposition.  If you must
have the context-free ID (or other 'key') on its own (to
avoid extracting it from the URI string in processing code)
then including it as an extra attribute can't hurt.  Like so:

&lt;account about="/account/1" id="1"&gt;

I would view having the URI as a minimum.

Having an about attribute with a URI in the root element
like that is starting you down the road of making your XML
RDF-friendly. (Josh: do you agree?)  I see this as a
good thing, but that's a contentious issue.

http://www.xml.com/pub/a/2002/10/30/rdf-friendly.html


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4269<br>
Sender:Josh Sled &lt;jsled@...&gt;<br>
Post Date/Time:2004-03-17 16:00:18<br>
Subject:Re: about/URI attribute (was: Re: [rest-discuss] Do not put	actions in URIs)<br>
Message:<br><br>
<pre>On Wed, 2004-03-17 at 10:42, Vincent D Murphy wrote:

&gt; I don't see this as an either/or proposition.  If you must
&gt; have the context-free ID (or other 'key') on its own (to
&gt; avoid extracting it from the URI string in processing code)
&gt; then including it as an extra attribute can't hurt.  Like so:
&gt; 
&gt; &lt;account about="/account/1" id="1"&gt;

Yes.  I was thinking about a very nice property for someone or something
using the data, which is being able to traverse the data-linkages
without having to understand to put '/account/' at the front of '1'. 
But, no, it's not either/or.  It seemed in the example like the '1' was
being used where a URI may be more apporpriate.

&gt; I would view having the URI as a minimum.

Yes.

&gt; Having an about attribute with a URI in the root element
&gt; like that is starting you down the road of making your XML
&gt; RDF-friendly. (Josh: do you agree?)  I see this as a
&gt; good thing, but that's a contentious issue.
&gt; http://www.xml.com/pub/a/2002/10/30/rdf-friendly.html

Partially.

I've been soaking in RDF recently, and think it is a very good thing --
even if only as a good set of guidelines about how to structure plain
XML.

My use of 'about' and 'resource' there was more "those are the default
attribute names I think of, now" ... I've used "href" for both before,
but never really was happy with it ... [mostly because it wasn't
necessaily a 'hypertext' reference, exactly.]

I think the more important thing is: if you're writing out a
representation of a specific [piece of] state, it's useful to identify
it -- and other pieces of state traversable from it -- with a URI.  Use
"href" or "this" or "about" or "src" or "uri" or whatever, but be
consistent about it.  If it's a public-facing thing, think about what
the callers will expect, &amp;c.

[ ... but preferably "rdf:about" and "rdf:resource". ;) ]

...jsled

-- 
http://www.asynchronous.org/ - `a=jsled; b=asynchronous.org; echo ${a}@${b}`
# A: Because it breaks the flow of normal conversation.
# Q: Why don't we put the response before the request?


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4270<br>
Sender:Vincent D Murphy &lt;vdm@...&gt;<br>
Post Date/Time:2004-03-17 16:24:24<br>
Subject:Re: [rest-discuss] Do not put actions in URIs<br>
Message:<br><br>
<pre>On 17 Mar 2004, at 16:11, Vincent D Murphy wrote:
&gt; Reading this again, I think our suggestions are basically
&gt; equivalent with what your saying, but I am using different
&gt; URIs.

Reading *this* again:

s/our suggestions are/my suggestion is/
s/your/you're/


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4271<br>
Sender:Vincent D Murphy &lt;vdm@...&gt;<br>
Post Date/Time:2004-03-17 16:11:32<br>
Subject:Re: [rest-discuss] Do not put actions in URIs (Modified by Vincent D Murphy)<br>
Message:<br><br>
<pre>[apologies for dups, I fubar'd CC'ing the list.]

On 16 Mar 2004, at 17:58, Josh Sled wrote:
&gt;&gt; Instead I'd like to POST to some "transaction" resource,
&gt;&gt; say /merge, and create a new resource that represents
&gt;&gt; the transaction details
&gt; [deletia]
&gt;&gt; Does this violate principle #4 above?  What other
&gt;&gt; solutions would there be otherwise?

I think this does violate the principle.  But I am not sure
about solutions.

Perhaps we actually need another verb.  But I find that in
general when I think I need another verb, I almost always
end up being wrong.

PUT suggests replacing the state completely, which is not the
same thing as a merge.

POST means "take this entity and just process it".  This sounds
like a better fit to me.  The meaning of 'process' in that sentence
is part of the contract.  In fact, the more I think about it, the
more I think POST is *perfect* for a merge, as long as you can
indicate to the server that a merge is what you want, and not
anything else.  POST is very general.  But maybe I'm getting ahead
of myself and that is YAGNI.

Maybe one could simply do:

POST /account/1
&lt;account about="account/2" /&gt;

and the server would DWIM.  This includes merging the resources'
state, coming up with a new state, and PUTing it.  This PUT could
appear in the resource's revision history (at /account/1/revisions),
and be annotated with information about the PUT being the result of
a merge with /account/2.

200 OK
&lt;account about="/account/1" id="1"&gt;
     &lt;savings&gt;150&lt;/savings&gt;
     &lt;checking&gt;275&lt;/checking&gt;
&lt;/account&gt;

&gt; Messages can be POSTed to resources:
&gt;
&gt; What about...
&gt;
&gt; POST /account/1/change
&gt; &lt;subsume&gt;
&gt;   &lt;account resource="/account/2" /&gt;
&gt; &lt;/subsume&gt;
&gt;
&gt; 201 Created
&gt; Location: /account/1/change/1
&gt;
&gt; GET /account/1/change/1
&gt; &lt;subsume&gt;
&gt;   &lt;account resource="/account/2" /&gt;
&gt; &lt;/subsume&gt;

Reading this again, I think my suggestion is basically
equivalent with what you're saying, but I am using different
URIs.  Also, I choose not to mention &lt;subsume&gt;, betting that
YAGNI will apply.

your way               my way
--------               ------
/account/1/changes     /account/1
/account/1/changes     /account/1/revisions


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4272<br>
Sender:"Jeffrey Winter" &lt;jeffreywinter@...&gt;<br>
Post Date/Time:2004-03-17 16:42:45<br>
Subject:RE: [rest-discuss] Do not put actions in URIs<br>
Message:<br><br>
<pre>
.. &gt; Instead I'd like to POST to some "transaction" resource, 
.. &gt; say /merge, and create a new resource that represents
.. &gt; the transaction details
.. [deletia]
.. &gt; Does this violate principle #4 above?  What other
.. &gt; solutions would there be otherwise?
.. 
.. I think, generally, the messages should contain this type of action. 
.. URIs really should describe resources -- fixed, tangible 
.. things ... not
.. processes.  Messages can be POSTed to resources:
.. 
.. What about...
.. 
.. POST /account/1/change
.. &lt;subsume&gt;
..   &lt;account resource="/account/2" /&gt;
.. &lt;/subsume&gt;
.. 
.. 201 Created
.. Location: /account/1/change/1

To me this seems worse than putting that operation name in
the URL, because you're instead putting it in the document
body, which seems even more RPC-ish.

Perhaps it is a matter of nomenclature as Paul pointed out. In 
fact it's creating a merge-transaction resource, but to me 
that "-transaction" suffix is implied and isn't necessary to 
add to the uri.  The behavior of the

 
.. One nice thing about this is it becomes more clear where to put
.. something like /account/##/changes/ ... on the resource 
.. which contains
.. it.

I actually have a similar resource
 
  /account/#/history

but isn't used to handle the processing of change request, only
return a representation of the history of the account.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4273<br>
Sender:Vincent D Murphy &lt;vdm@...&gt;<br>
Post Date/Time:2004-03-17 16:50:24<br>
Subject:Resource History (was: Re: [rest-discuss] Do not put actions in URIs)<br>
Message:<br><br>
<pre>On 17 Mar 2004, at 16:42, Jeffrey Winter wrote:
&gt; I actually have a similar resource
&gt;
&gt;   /account/#/history
&gt;
&gt; but isn't used to handle the processing of change request, only
&gt; return a representation of the history of the account.

So we have:

/account/#/history
/account/#/changes
/account/#/revisions

.. and counting.

There must be some telepathic voodoo going on here..  :)

Let's reinvent revision control, its the latest fashion you know.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4274<br>
Sender:"Jeffrey Winter" &lt;jeffreywinter@...&gt;<br>
Post Date/Time:2004-03-17 17:07:52<br>
Subject:RE: [rest-discuss]  Do not put actions in URIs<br>
Message:<br><br>
<pre>
I hit the send button too quickly I see... to complete my
thought:

Perhaps it is a matter of nomenclature as Paul pointed out. In 
fact it's creating a "merge-transaction" resource, but to me 
that "-transaction" suffix is implied. The behavior of the /merge 
resource returning the Location of the newly created subordinate 
indicates this.

&gt;&gt; I actually have a similar resource
&gt;&gt;
&gt;&gt;   /account/#/history
&gt;&gt;
&gt;&gt; but isn't used to handle the processing of change request, only
&gt;&gt; return a representation of the history of the account.
&gt;
&gt; So we have:
&gt;
&gt; /account/#/history
&gt; /account/#/changes
&gt; /account/#/revisions
 
Not to split hairs but in my case this is strictly read-only 
resoruce, and it might be moved out to the top level, e.g.,
/history/account/#, etc.



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4275<br>
Sender:Josh Sled &lt;jsled@...&gt;<br>
Post Date/Time:2004-03-17 18:30:20<br>
Subject:Re: [rest-discuss] Do not put actions in URIs<br>
Message:<br><br>
<pre>On Wed, 2004-03-17 at 11:11, Vincent D Murphy wrote:

&gt; PUT suggests replacing the state completely, which is not the
&gt; same thing as a merge.

Well, it might be the same as a merge -- it's really up to what the
client is doing, and what the nature of the state being put back is.

The real question is: which side [client or server] is responsible for
doing the merge?  A sufficiently complex client can understand the
application logic sufficiently to do the merge, but it might be
extremely inefficient, as well as impractical, to put the logic there.

&gt; POST means "take this entity and just process it".  This sounds
&gt; like a better fit to me.  The meaning of 'process' in that sentence
&gt; is part of the contract.  In fact, the more I think about it, the

I don't think of POST as "doStuff"...  POST means "create a new
subordinate resource".  In this case, the resource is a constrained
"change"-schema message.  The resource being created is
/account/1/change/1.


As Jeffry points out, this seems very RPC like, but I think some
differences are there: we have a resource which has a sub-resource which
accepts a defined set of states [change-requests].  Do the
change-requests directly map to procedures ... sure.  But are they
constrained in a useful way?  Yes.  Are they exposed as resources?  Yes.

Everything ends up being procedural at some point; code needs to be
run.  The interface, however, should be very clear about:

a/ where those requests belong -- not in resource-identifiers, but in
and _as_ the resource itself.

b/ what the allowable set of requests are -- ideally through a standard
and widely-accepted media-type.

On the web, those media-types are known and well-accepted.  In a
new/specific system, that's not always true ... but the other benefits
with respect to intermediaries [visibility, transformation, filtering,
&amp;c.] are still present.


I don't see how you get entirely away from the client requesting 
specific actions from the server, ever.  I do see how to make such
requests more message/resource-based, and how to leverage the nice
aspects of REST and HTTP along the way.


&gt; more I think POST is *perfect* for a merge, as long as you can
&gt; indicate to the server that a merge is what you want, and not
&gt; anything else.  POST is very general.  But maybe I'm getting ahead
&gt; of myself and that is YAGNI.

The generality of POST is constrained by the actions as described in the
message.  More importantly, the agreement of the allowable message-types
[it's schema and semantics].

&gt; Maybe one could simply do:
&gt; 
&gt; POST /account/1
&gt; &lt;account about="account/2" /&gt;
&gt; and the server would DWIM.  This includes merging the resources'
&gt; state, coming up with a new state, and PUTing it.  This PUT could
&gt; appear in the resource's revision history (at /account/1/revisions),
&gt; and be annotated with information about the PUT being the result of
&gt; a merge with /account/2.

Just POSTing the to-be-merged-to account is a little too ambiguous for
my taste.  If it's _extremely_ clear that "merge" is the only message
that's _ever_ going to be posted to an account, then Y-definitely-AGNI
...  but that's a hard situation to imagine.

Sure, don't create the future messages that the design doesn't call for,
but also don't back yourself into a corner if it's obvious that future
message-types will be needed...  I can't help but believe there will be
other account-change types. But it's a specific design issue, at that
point.

...jsled

-- 
http://www.asynchronous.org/ - `a=jsled; b=asynchronous.org; echo ${a}@${b}`


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4276<br>
Sender:Chuck Hinson &lt;cmhinson@...&gt;<br>
Post Date/Time:2004-03-17 20:18:51<br>
Subject:Re: [rest-discuss] Do not put actions in URIs<br>
Message:<br><br>
<pre>

Jeffrey Winter wrote:

&gt; I've been pondering a design decision for a web service
&gt; and I'd like to solicit opinions on whether a decision
&gt; would violate mistake #4 detailed here:
&gt; 
&gt;   http://www.prescod.net/rest/mistakes/
&gt; 
&gt; "Do not put actions in URIs"
&gt; 
&gt; The best analogy would be two bank accounts. I would like to 
&gt; be able to merge the two accounts, say:
&gt; 
&gt;   http://myservice//account/1:
&gt; 
&gt;   &lt;account id="1"&gt;
&gt;     &lt;savings&gt;100&lt;/savings&gt;
&gt;     &lt;checking&gt;200&lt;/checking&gt;
&gt;   &lt;/account&gt;
&gt; 
&gt;   http://myservice//account/2:
&gt; 
&gt;   &lt;account id="2"&gt;
&gt;     &lt;savings&gt;50&lt;/savings&gt;
&gt;     &lt;checking&gt;75&lt;/checking&gt;
&gt;   &lt;/account&gt;
&gt; 

What's wrong with

POST /mergeservice
&lt;accounts&gt;
   &lt;account resource="/account/1" /&gt;
   &lt;account resource="/account/2" /&gt;
&lt;/accounts&gt;

I.e., create a resource that merges accounts and indicate in the message 
which accounts are to be merged.

--Chuck

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4277<br>
Sender:"johncoe42" &lt;jcoe18@...&gt;<br>
Post Date/Time:2004-03-17 21:07:11<br>
Subject:request for comments: RESTful TWiki<br>
Message:<br><br>
<pre>Here is a TWiki page that can use REST to access web services from 
TWiki. You will need a TWiki accout to try the Google interface(it 
is free). Some of the REST access can be seen from a non-registered 
viewer.

http://twiki.org/cgi-bin/view/Codev/XslWiki

I started using TWiki two weeks ago, it is cool!
John


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4278<br>
Sender:"Jon Hanna" &lt;jon@...&gt;<br>
Post Date/Time:2004-03-24 11:49:36<br>
Subject:When is a Verb also a Noun (was Re: Do not put actions in URIs)<br>
Message:<br><br>
<pre>The action URI thread has reminded me of something that has occurred 
to me on a few occasions.

Now I agree that the following are bad:

&lt;http://example.net/merge&gt;
&lt;http://example.net/dostuff?action=merge&gt;

However what about a POST to http://example.net/mergeService/ 
containing something like:

&lt;resourceMerge xmlns="http://example.org/mergeNS"&gt;
	&lt;dest xlink:href="/resource1"/&gt;
	&lt;src xlink:href="/resource1"/&gt;
	&lt;src xlink:href="/resource2"/&gt;
	&lt;mergeType 
xlink:href="http://example.org/mergeNS/mergeTypes/concat"/&gt;
&lt;/resourceMerge&gt;

Now &lt;http://example.org/mergeNS/mergeTypes/concat&gt; says what to do 
(concatenation, as opposed to say 
&lt;http://example.org/mergeNS/mergeTypes/chronologicalFold&gt; which might 
result in the merged document having items from the two sources in 
chronological order). So really the &lt;...concat&gt; URI is a verb.

If dereferenced it would (if it returned anything) presumably return 
something which documented this action. When dereferencing we are 
using it as a noun - it's a "thing" and we are finding out something 
about it, but when used in the mergeType element it is a verb, or at 
least an adverb.

None of this is new of course, but I've been wondering how it fits as 
far as verb-URIs-are-a-Bad-Thing and I'm struck by a conflict between 
the two.

It seems to me in this case though that there is a slight analogy to 
C/C++ function pointers, C++ function objects, Javascript function 
references, etc.. I don't want to make too much of that analogy 
(comparing web services to programming languages, leads to - well it 
doesn't lead to REST) but I'm finding some peace with this type of 
verb URIs.

Agreements?, Disagreements?



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4279<br>
Sender:"Jeffrey Winter" &lt;jeffreywinter@...&gt;<br>
Post Date/Time:2004-03-24 14:22:10<br>
Subject:RE: [rest-discuss] When is a Verb also a Noun (was Re: Do not put actions in URIs)<br>
Message:<br><br>
<pre>It seems to me that you are really just suggesting
a change in neumonics.  Whether you call it
/mergeService or /merge it's effectively the same
thing.  

The fundamental issue is that:

"[REST] ... concentrates the application state within 
the user agent components."

The reason the verb-vs-noun issue surfaces is because 
in many cases it isn't practical to concentrated state 
at the user agent.  In the case of "merge" it would be easy
to:

	1. Add the funds of account 2 into account 1
	2. Delete the funds of account 2
	3. Update account 1
	4. Update account 2

The client does all the work and the server is statelessly
making the appropriate changes.  

The problems are of course:
	
	1. There is no transaction around the four 
	   discrete actions.
	2. There is no record of how the accounts came
	   to be in the state that they are in.

The practical solution is to "elevate" the transaction
itself to a full resource.

As you say, dereferencing this resource could serve 
as a record of what happened.  

(You could also imagine that it could serve other 
purposes: Creating the "merge" transaction might 
not necessarily immediately trigger the change; it
might need to be triggered at a later time, etc.)


-----Original Message-----
From: Jon Hanna [mailto:jon@...] 
Sent: Wednesday, March 24, 2004 6:50 AM
To: rest-discuss@yahoogroups.com
Subject: [rest-discuss] When is a Verb also a Noun (was Re: Do not put
actions in URIs)


The action URI thread has reminded me of something that has occurred 
to me on a few occasions.

Now I agree that the following are bad:

&lt;http://example.net/merge&gt;
&lt;http://example.net/dostuff?action=merge&gt;

However what about a POST to http://example.net/mergeService/ 
containing something like:

&lt;resourceMerge xmlns="http://example.org/mergeNS"&gt;
      &lt;dest xlink:href="/resource1"/&gt;
      &lt;src xlink:href="/resource1"/&gt;
      &lt;src xlink:href="/resource2"/&gt;
      &lt;mergeType 
xlink:href="http://example.org/mergeNS/mergeTypes/concat"/&gt;
&lt;/resourceMerge&gt;

Now &lt;http://example.org/mergeNS/mergeTypes/concat&gt; says what to do 
(concatenation, as opposed to say 
&lt;http://example.org/mergeNS/mergeTypes/chronologicalFold&gt; which might 
result in the merged document having items from the two sources in 
chronological order). So really the &lt;...concat&gt; URI is a verb.

If dereferenced it would (if it returned anything) presumably return 
something which documented this action. When dereferencing we are 
using it as a noun - it's a "thing" and we are finding out something 
about it, but when used in the mergeType element it is a verb, or at 
least an adverb.

None of this is new of course, but I've been wondering how it fits as 
far as verb-URIs-are-a-Bad-Thing and I'm struck by a conflict between 
the two.

It seems to me in this case though that there is a slight analogy to 
C/C++ function pointers, C++ function objects, Javascript function 
references, etc.. I don't want to make too much of that analogy 
(comparing web services to programming languages, leads to - well it 
doesn't lead to REST) but I'm finding some peace with this type of 
verb URIs.

Agreements?, Disagreements?





Yahoo! Groups Links

To visit your group on the web, go to:
http://groups.yahoo.com/group/rest-discuss/
  
To unsubscribe from this group, send an email to:
rest-discuss-unsubscribe@yahoogroups.com
  
Your use of Yahoo! Groups is subject to the Yahoo! Terms of Service. 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4280<br>
Sender:"mgvelvet" &lt;mgarland@...&gt;<br>
Post Date/Time:2004-03-24 15:32:25<br>
Subject:Varying content by user or role<br>
Message:<br><br>
<pre>I have a business requirement to secure certain data within a 
resource. For example, in a personnel record, I must not return the 
salary amount unless the user is in an accounting or HR role. 
Another example: any collection of customers must return only the 
subset the user is authorized to see.

I can vary the content based on who has authenticated, but I have an 
uneasy feeling that isn't RESTful. On the other hand, different URIs 
for each user seems to fragment the information space.

Has anyone addressed a similar requirement? What are your thoughts?

  --m


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4281<br>
Sender:"Donald Strong" &lt;dstrong@...&gt;<br>
Post Date/Time:2004-03-25 04:33:15<br>
Subject:RE: [rest-discuss] Do not put actions in URIs<br>
Message:<br><br>
<pre>
Try posting a merge instruction to the account URL.

POST  http://myservice/account

&lt;merge result="/account/1"&gt;
   &lt;account id="/account/1"/&gt;
   &lt;account id="/account/2"/&gt;
&lt;/merge&gt;

This provides the server with everything it needs to know, assuming
that the header information includes authentication credentials.
Relative URL can also be used as they amount to the same thing.

POST  http://myservice/account

&lt;merge result="./1"&gt;
   &lt;account id="./1"/&gt;
   &lt;account id="./2"/&gt;
&lt;/merge&gt;

You can then delete the second account.

DELETE  http://myservice/account/2



The account URL can process other instructions.

POST  http://myservice/account

&lt;reconcile result="/account/report/reconciliation.xml"&gt;
   &lt;account id="./1"/&gt;
   &lt;account id="./2"/&gt;
&lt;/reconncile&gt;

Others have suggested that this processing should be done on the client.
Obviously that is not viable in many(most) situations. Can you imagine a
bank
saying 'Here are all the accounts. You do what you like with them."

Regards
Donald.

&gt; -----Original Message-----
&gt; From: Jeffrey Winter [mailto:jeffreywinter@...]
&gt; Sent: Wednesday, 17 March 2004 1:33 AM
&gt; To: rest-discuss@yahoogroups.com
&gt; Subject: [rest-discuss] Do not put actions in URIs
&gt;
&gt;
&gt; I've been pondering a design decision for a web service
&gt; and I'd like to solicit opinions on whether a decision
&gt; would violate mistake #4 detailed here:
&gt;
&gt;   http://www.prescod.net/rest/mistakes/
&gt;
&gt; "Do not put actions in URIs"
&gt;
&gt; The best analogy would be two bank accounts. I would like to
&gt; be able to merge the two accounts, say:
&gt;
&gt;   http://myservice//account/1:
&gt;
&gt;   &lt;account id="1"&gt;
&gt;     &lt;savings&gt;100&lt;/savings&gt;
&gt;     &lt;checking&gt;200&lt;/checking&gt;
&gt;   &lt;/account&gt;
&gt;
&gt;   http://myservice//account/2:
&gt;
&gt;   &lt;account id="2"&gt;
&gt;     &lt;savings&gt;50&lt;/savings&gt;
&gt;     &lt;checking&gt;75&lt;/checking&gt;
&gt;   &lt;/account&gt;
&gt;
&gt; Such that the result is a single resource:
&gt;
&gt;   http://myservice/account/1:
&gt;
&gt;   &lt;account id="1"&gt;
&gt;     &lt;savings&gt;150&lt;/savings&gt;
&gt;     &lt;checking&gt;275&lt;/checking&gt;
&gt;   &lt;/account&gt;
&gt;
&gt; The second account is silently deleted.
&gt;
&gt; While I could perform the updates on the client
&gt; and post/put the new representations back to the server,
&gt; I would not have any auditing on what actions where
&gt; performed against the accounts, nor that they were
&gt; done in a single transaction.
&gt;
&gt; Instead I'd like to POST to some "transaction" resource,
&gt; say /merge, and create a new resource that represents
&gt; the transaction details
&gt;
&gt;   Request:
&gt;
&gt;   POST /merge/ HTTP/1.1
&gt;   Host: http://myservice
&gt;
&gt;   &lt;accounts&gt;
&gt;     &lt;account id="1"/&gt;
&gt;     &lt;account id="2"/&gt;
&gt;   &lt;/accounts&gt;
&gt;
&gt;   Response:
&gt;
&gt;   HTTP/1.1 204 Created
&gt;   Location: http://myservice/merge/93914
&gt;
&gt; POSTing would perform the required merge, and the
&gt; created resource would be a record of the transaction.
&gt;
&gt; The only available operation on the created
&gt; resource would be GET since it only holds the transaction
&gt; details.
&gt;
&gt; Does this violate principle #4 above?  What other
&gt; solutions would there be otherwise?
&gt;
&gt; Thanks
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4282<br>
Sender:Paul Jimenez &lt;pj@...&gt;<br>
Post Date/Time:2004-03-25 04:58:45<br>
Subject:Re: [rest-discuss] Varying content by user or role<br>
Message:<br><br>
<pre>
currentuser=foo in the querystring sounds RESTful.. it's just
an unusual kind of query, no? and maybe it's the 'default'
query so it doesn't have to actually be there to be in effect.
And maybe trying to specify currentuser=bar if you're logged
in as foo results in an 'unauthorized' result.   My question is:
what's your RESTful login resource look like?

  --pj

On Wednesday, Mar 24, 2004, "mgvelvet" writes:
&gt;I have a business requirement to secure certain data within a 
&gt;resource. For example, in a personnel record, I must not return the 
&gt;salary amount unless the user is in an accounting or HR role. 
&gt;Another example: any collection of customers must return only the 
&gt;subset the user is authorized to see.
&gt;
&gt;I can vary the content based on who has authenticated, but I have an 
&gt;uneasy feeling that isn't RESTful. On the other hand, different URIs 
&gt;for each user seems to fragment the information space.
&gt;
&gt;Has anyone addressed a similar requirement? What are your thoughts?
&gt;
&gt;  --m
&gt;
&gt;
&gt;
&gt; 
&gt;Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt; 
&gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4283<br>
Sender:Jon Hanna &lt;jon@...&gt;<br>
Post Date/Time:2004-03-25 10:31:26<br>
Subject:RE: [rest-discuss] When is a Verb also a Noun<br>
Message:<br><br>
<pre>Quoting Jeffrey Winter &lt;jeffreywinter@...&gt;:

&gt; It seems to me that you are really just suggesting
&gt; a change in neumonics.  Whether you call it
&gt; /mergeService or /merge it's effectively the same
&gt; thing.  

Oops. I think I dragged some baggage over from the other thread that I didn't
intend to.

&gt; The practical solution is to "elevate" the transaction
&gt; itself to a full resource.

Transactions, rollback, etc. is the baggage I didn't intend to bring over.

I'm more interested in the wisdom of nouns -&gt; good, verbs -&gt; bad and whether it
always holds. While I agree with it, I'm wondering just how strong an axiom it
is, and trying to find any exceptions, caveats or boundaries that might exist.

-- 
Jon Hanna
&lt;http://www.hackcraft.net/&gt;
"ï¿½it has been truly said that hackers have even more words for
equipment failures than Yiddish has for obnoxious people." - jargon.txt

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4284<br>
Sender:Jon Hanna &lt;jon@...&gt;<br>
Post Date/Time:2004-03-25 11:07:24<br>
Subject:Re: [rest-discuss] Varying content by user or role<br>
Message:<br><br>
<pre>Quoting mgvelvet &lt;mgarland@...&gt;:

&gt; I have a business requirement to secure certain data within a 
&gt; resource. For example, in a personnel record, I must not return the 
&gt; salary amount unless the user is in an accounting or HR role. 
&gt; Another example: any collection of customers must return only the 
&gt; subset the user is authorized to see.
&gt; 
&gt; I can vary the content based on who has authenticated, but I have an 
&gt; uneasy feeling that isn't RESTful. On the other hand, different URIs 
&gt; for each user seems to fragment the information space.
&gt; 
&gt; Has anyone addressed a similar requirement? What are your thoughts?

There are three approaches I've used with similar problems in the past:

1. Vary content according to user:
Pro:
a. Relatively simple URI space.
Con:
b. Caching is effectively killed, or at most reduced to end-point private
caching (but caching sensitive data brings on it's own headaches).

2. Vary content according to user - have a userID in the URI.
Pro:
a. Beats me, but this approach finds its way into specs quite a bit.
Con:
b. Caching "works" but because the URI is per-user it's little different than
end-point private caching. Indeed it's worst because it brings the possibility
of security issues or difficulties caused by buggy caches but without the
advantages of intermeditary caching.
b. Duplicates the authentication procedure, since we can't trust the userID to
be correct, we must still check the user's credentials and act appropriately.
c. Reduces the ease with which URIs can be shared (although we can redirect to
an appropriate URI with the appropriate userID).

3. Split the content, in this case having say /personnel/employee3 and
/personnel/employee3/salary. The representation of the former would link to the
latter (whether a client could also just append /salary depends on your
position on opacity). The credentials needed to access /personnel/employee3
would differ from those needed to access /personnel/employee3/salary.
Pro:
a. Caching works correctly. It may be necessary to prevent the caching of
/personnel/employee3/salary through caching directives and/or an encrypted
connection, but whatever decision is taken here doesn't hurt the caching of
/personnel/employee3.
b. There is now a clearer mapping between "resources" and "permissions". It's
easier for both the programmer of the client and the user to understand why
they cannot see something. Security errors ("You do not have permission...")
can be more easily detected and triggered.
Con:
a. Requires more client-server interactions (although the connection can be
kept
open, much as the case of a webpage with images with HTTP1.1).
b. Complicates the URI space, although since this complication reflects
something inherent to the system modelled that could be considered a Pro as
much as it's considered a Con.

In all I prefer the last.

Another thing I've thought about, but haven't done is:
4. Return a resource which includes encrypted information about salary as well
as unencrypted information about those details accessible by all.
Pro:
a. Okay to be honest I thought about this because I want an excuse to play with
XML Encryption, but that's still a "pro".
b. Caching works - the response can be cached for as long as both the
information and the key used for encryption are both valid.
c. Caching is secure as even if someone gets unauthorised access to cached
representations the sensitive data within that representation is encrypted.
Con:
a. The overhead of building and using the appropriate cryptographic
infastructure.
b. The fact that non-specialists tend to get encryption wrong. It's definitely
something to thread lightly with.
c. A change to the key must be considered a modification to the representation
of the resource. It may not be easy to reflect this in Last-Modified and E-Tag
headers.

Some of the above are more easily used with a "Full View With Errors" pattern
and some with a "Limited View" pattern. However it's possible to present either
view to the user with any of the above approaches, so which of those patterns
to use is still very much a seperate design decision.

-- 
Jon Hanna
&lt;http://www.hackcraft.net/&gt;
"ï¿½it has been truly said that hackers have even more words for
equipment failures than Yiddish has for obnoxious people." - jargon.txt

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4285<br>
Sender:Jon Hanna &lt;jon@...&gt;<br>
Post Date/Time:2004-03-25 11:57:40<br>
Subject:RE: [rest-discuss] When is a Verb also a Noun<br>
Message:<br><br>
<pre>Actually, there's a page like
http://conveyor.com/RESTwiki/moin.cgi/VerbsCanAlsoBeNouns which has just this
issue. Why didn't I see that before?

-- 
Jon Hanna
&lt;http://www.hackcraft.net/&gt;
"ï¿½it has been truly said that hackers have even more words for
equipment failures than Yiddish has for obnoxious people." - jargon.txt

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4286<br>
Sender:"Jeffrey Winter" &lt;jeffreywinter@...&gt;<br>
Post Date/Time:2004-03-25 15:47:49<br>
Subject:When is a Verb also a Noun: When it's a Gerund<br>
Message:<br><br>
<pre>
I think the short answer to "When is a Verb also a Noun"
is: when it's a Gerund.

From REST perspective, it's not calling a merge service so
much as it's creating a "merging".

&gt;&gt; The practical solution is to "elevate" the transaction
&gt;&gt; itself to a full resource.
&gt;
&gt; Transactions, rollback, etc. is the baggage I didn't intend to bring
over.
&gt; 
&gt; I'm more interested in the wisdom of nouns -&gt; good, verbs -&gt; bad and
whether it
&gt; always holds. While I agree with it, I'm wondering just how strong an
axiom it
&gt; is, and trying to find any exceptions, caveats or boundaries that
might exist.

Understood, I was just trying to provide an example of why
a Gerund would need to be appealed to.

- Jeff


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4287<br>
Sender:Jon Hanna &lt;jon@...&gt;<br>
Post Date/Time:2004-03-25 16:06:07<br>
Subject:Re: [rest-discuss] When is a Verb also a Noun: When it's a Gerund<br>
Message:<br><br>
<pre>&gt; Understood, I was just trying to provide an example of why
&gt; a Gerund would need to be appealed to.

Well I'd think of a gerund as a noun and more than as a verb, but yes a gerund
is something that people might unnecessarily avoid because they hear that verbs
are a Bad Thing even if it's natural to what they are building to use one. So
thanks, that definitely counts as a possible boundary case to the verb/noun
axiom.

With that small success my quest continues... :)

-- 
Jon Hanna
&lt;http://www.hackcraft.net/&gt;
"ï¿½it has been truly said that hackers have even more words for
equipment failures than Yiddish has for obnoxious people." - jargon.txt

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4288<br>
Sender:Tyler Close &lt;list@...&gt;<br>
Post Date/Time:2004-03-25 16:33:41<br>
Subject:Link traversal (Was: [rest-discuss] When is a Verb also a Noun)<br>
Message:<br><br>
<pre>Jon Hanna wrote:
&gt; I'm more interested in the wisdom of nouns -&gt; good, verbs -&gt; bad and whether it
&gt; always holds. While I agree with it, I'm wondering just how strong an axiom it
&gt; is, and trying to find any exceptions, caveats or boundaries that might exist.

I think the "Do not put actions in URIs" maxim is not so much about 
nouns vs. verbs, as it is about how link traversal is done in REST.

If you have a resource that links to another resource, the RESTful way 
for this link to be traversed is for the client to fetch a 
representation and then use a generic method on the contained URL.

When the "someuri?action=delete" pattern is used, it typically means 
that there is a resource at "someuri" that links to another resource 
that can initiate some server-side process, such as a deletion. Having 
the client append "action=delete" to "someuri" effectively creates a new 
form of link traversal. The client is asking the "someuri" resource to 
traverse a link on the client's behalf and deliver an operation to the 
target resource. This is a bad thing. Providing a uniform interaction 
model across all applications is one of the main virtues of REST. A 
particular application should not create unique mechanisms that replace 
uniform ones.

The "verb in the request" pattern is so common because it mirrors a link 
traversal form used in OOP. In OOP, an invocation target is identified 
by a pointer and method name pair. The runtime environment implicitly 
dispatches on the method name, to determine the invocation target. 
Method dispatch is a second form of link traversal in OOP, one that is 
always done by the server.

In contrast, REST has only one form of link traversal, that is always 
done by the client. Perhaps a more accurate way of stating the "Do not 
put actions in URIs" maxim is "In REST, method dispatch happens on the 
client side, not the server side". After all, our software doesn't know 
verbs from nouns, but must know the difference between link traversal forms.

Tyler

-- 
The web-calculus is the union of REST and capability-based security.
http://www.waterken.com/dev/Web/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4289<br>
Sender:Jon Hanna &lt;jon@...&gt;<br>
Post Date/Time:2004-03-25 16:46:50<br>
Subject:Re: Link traversal (Was: [rest-discuss] When is a Verb also a Noun)<br>
Message:<br><br>
<pre>Quoting Tyler Close &lt;list@...&gt;:

&gt; Jon Hanna wrote:
&gt; &gt; I'm more interested in the wisdom of nouns -&gt; good, verbs -&gt; bad and
&gt; whether it
&gt; &gt; always holds. While I agree with it, I'm wondering just how strong an axiom
&gt; it
&gt; &gt; is, and trying to find any exceptions, caveats or boundaries that might
&gt; exist.
&gt; 
&gt; I think the "Do not put actions in URIs" maxim is not so much about 
&gt; nouns vs. verbs, as it is about how link traversal is done in REST.
[snip]

What about role and arcrole URIs, or RDF predicate URIs.
Okay they aren't using URIs as something that would be (necessarily)
dereferenced. But they could be dereferenced (which treats them as nouns) but
their use in XLink or RDF isn't as a noun (granted it's not as a verb either,
I'm brain-dumping a bit here).

-- 
Jon Hanna
&lt;http://www.hackcraft.net/&gt;
"ï¿½it has been truly said that hackers have even more words for
equipment failures than Yiddish has for obnoxious people." - jargon.txt

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4290<br>
Sender:John Belmonte &lt;john@...&gt;<br>
Post Date/Time:2004-03-25 14:52:31<br>
Subject:Re: [rest-discuss] Varying content by user or role<br>
Message:<br><br>
<pre>Jon Hanna wrote:
&gt; 3. Split the content, in this case having say /personnel/employee3 and
...
&gt; Another thing I've thought about, but haven't done is:
&gt; 4. Return a resource which includes encrypted information about salary as well
&gt; as unencrypted information about those details accessible by all.
&gt; Pro:
&gt; a. Okay to be honest I thought about this because I want an excuse to play with
&gt; XML Encryption, but that's still a "pro".
&gt; b. Caching works - the response can be cached for as long as both the
&gt; information and the key used for encryption are both valid.
&gt; c. Caching is secure as even if someone gets unauthorised access to cached
&gt; representations the sensitive data within that representation is encrypted.
&gt; Con:
&gt; a. The overhead of building and using the appropriate cryptographic
&gt; infastructure.
&gt; b. The fact that non-specialists tend to get encryption wrong. It's definitely
&gt; something to thread lightly with.
&gt; c. A change to the key must be considered a modification to the representation
&gt; of the resource. It may not be easy to reflect this in Last-Modified and E-Tag
&gt; headers.

Regarding con 4c, it's even worse than that, as message encryption may 
incorporate a timestamp or some random value (at least I know it's true 
for OpenPGP).  So every time the server encrypts a given message, the 
HTTP response entity will be different.  Anyway, you can still get by 
with weak entity tags.

I use a combination of your methods 3 and 4, which may seem odd.  It's a 
long story, but my app requires message-unit authentication (that is, 
the client must be able to prove that the server produced a message even 
after the HTTP session has ended).  Since I'm already signing each 
message, it's not much of a leap to encrypt per-message also, and so I 
don't use session-unit authentication or encryption at all (that is, no 
SSL), which works out nice for caching.  I have a public and private 
tree, both accessible without authentication, and producing entities 
signed by the server.  In the private tree, the entities are also 
encrypted to the owner.

-John


-- 
http:// if  ile.org/


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4291<br>
Sender:Walden Mathews &lt;waldenm@...&gt;<br>
Post Date/Time:2004-03-26 14:39:55<br>
Subject:Re: [rest-explore] Newbie question<br>
Message:<br><br>
<pre>This is more of a rest-discuss question...should be continued
there.


----- Original Message ----- 
From: "zipf5r" &lt;Klimov1@...&gt;
To: &lt;rest-explore@yahoogroups.com&gt;
Sent: Friday, March 26, 2004 9:35 AM
Subject: [rest-explore] Newbie question


| Who can clarify me: can I use WSDL to describe non-SOAP Web Service?
| WSDL+SOAP is very attractive because of its ability to generate
| client stubs in many languages: Java,C++, etc.
| But WSDL+REST...isn't???
| Any help would be very appreciated.
| Andrew
| 
| 
| 
|  
| Yahoo! Groups Links
| 
| 
| 
|  
| 
| 
| __________ NOD32 1.694 (20040326) Information __________
| 
| This message was checked by NOD32 antivirus system.
| http://www.nod32.com
| 
| 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4292<br>
Sender:Walden Mathews &lt;waldenm@...&gt;<br>
Post Date/Time:2004-03-26 14:47:15<br>
Subject:Re: [rest-discuss] Newbie question<br>
Message:<br><br>
<pre>| | Who can clarify me: can I use WSDL to describe non-SOAP Web Service?

Why not?

| | WSDL+SOAP is very attractive because of its ability to generate
| | client stubs in many languages: Java,C++, etc.

Good.  A vote for WSDL+SOAP.

| | But WSDL+REST...isn't???

What is the question?



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4293<br>
Sender:Jon Hanna &lt;jon@...&gt;<br>
Post Date/Time:2004-03-26 15:22:57<br>
Subject:Re: [rest-discuss] Newbie question<br>
Message:<br><br>
<pre>Quoting Walden Mathews &lt;waldenm@...&gt;:

&gt; | | WSDL+SOAP is very attractive because of its ability to generate
&gt; | | client stubs in many languages: Java,C++, etc.

It's being a vote for WSDL+SOAP is a reason to discuss it, and that discussion
may possibly go back into rest-explore rather than rest-discuss matters (*if*
we
should compete in creating proxy stubs as WSDL+SOAP can then that might be
quite a challenge).

WSDL hides the network though, its raison d'ï¿½tre is to hide the network. If we
believe that hiding the network is a Bad Thing (one of the arguments of *some*
people evangelising REST is that it doesn't hide it) then we have to conclude
that WSDL is a Bad Thing. The description of "very attractive" is quite apropos
therefore because hiding the network is very attractive; as are all
anti-patterns.

On the other hand, just because we shouldn't hide it, do we need to look at it
all the time? We don't want every piece of code that calls into a REST service
to be primarily dealing in networking details, do we? (And if we do, to what
extent - do I really want to know I received a 304 instead of a 200, or just
invisibly benefit from the inherent performance gain).

Of course, since using a REST service tends to be simpler than using a SOAP
service (in and of themselves, before we add differences in tool support to the
mix) there is less need for wrapping and hiding of the type WSDL uses.
As long as I can do some sort of HTTP with whatever I'm using to develop I can
quickly use a REST service - and build whatever degree of abstraction into this
that seems appropriate for the task in hand. 

With the stock ticker that seems to be the "hello world" of web services I just
need to concatenate the stock symbol to the service URI and do a simple search
on the returned data. With a more complicated service I'd probably want to
remarshall into some sort of OOP or Generic+OOP equivalent - but then I might
very well want to re-wrap the model of a more RPC-style service to better match
how I use it anyway.

More complicated services gain the most from WSDL. But these services generally
still require a relatively large degree of orientation to start using. While
some are saying that this will be reduced or removed by a layer on top of WSDL
(and on top of that, and on top of that) in the meantime this is still very
important. If this part of the complexity grows faster than the part of the
complexity removed by WSDL then the overall comparison still favours REST over
SOAP+WSDL.

On balance REST+WSDL seems inferior to REST to me right now.

-- 
Jon Hanna
&lt;http://www.hackcraft.net/&gt;
"ï¿½it has been truly said that hackers have even more words for
equipment failures than Yiddish has for obnoxious people." - jargon.txt

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4294<br>
Sender:Jim Ancona &lt;jim@...&gt;<br>
Post Date/Time:2004-03-27 15:13:15<br>
Subject:Re: [rest-discuss] Newbie question<br>
Message:<br><br>
<pre>Walden Mathews wrote:
&gt; | | Who can clarify me: can I use WSDL to describe non-SOAP Web Service?
&gt; 
&gt; Why not?

Based on Paul Prescod's evaluation a while back[1], there were some 
practical problems with using WSDL to describe services that use HTTP 
GET/POST. I'm not sure whether the spec or the implementations have 
improved since Paul put that page together (back in 2002, I think).

Paul also made a start on WRDL (Web Resource Description Language) as a 
way to address some of the issues, but I don't think that ever took off.

Hope this helps!

Jim

[1] - http://www.prescod.net/rest/wsdlhttp.html
[2] - http://www.prescod.net/rest/wrdl/wrdl.html
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4295<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2004-03-27 15:35:06<br>
Subject:Re: [rest-discuss] Newbie question<br>
Message:<br><br>
<pre>Jim Ancona wrote:

&gt; Paul also made a start on WRDL (Web Resource Description Language) as a
&gt; way to address some of the issues, but I don't think that ever took off.

Given the existence of the "Resource Description Framework" a 
"Web Resource Description Language" comes done to just another RDF ontology
(namespace), I think ;-)

You might also want to look at Mark Baker's work ([3],[4],[5]) which covers
almost everything that is needed to describe RESTful Web Services. IMHO,
the  essence is inheritance from a small set of basic resource classes
(such as order processor/container) in combination with well-known
XML namespaces and RDF.


Jan

&gt; 
&gt; [1] - http://www.prescod.net/rest/wsdlhttp.html
&gt; [2] - http://www.prescod.net/rest/wrdl/wrdl.html

[3] http://www.markbaker.ca/2003/05/RDF-Forms/
[4] http://www.markbaker.ca/2001/09/draft-baker-http-resource-state-model
[5] http://www.markbaker.ca/2002/03/RestRDF/

-- 
Jan Algermissen                           http://www.topicmapping.com
Consultant &amp; Programmer	                  http://www.gooseworks.org

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4296<br>
Sender:"neil_j_k" &lt;neil_j_k@...&gt;<br>
Post Date/Time:2004-03-30 08:38:28<br>
Subject:Re: Varying content by user  (you're allowed to look at headers)<br>
Message:<br><br>
<pre>--- In rest-discuss@yahoogroups.com, "mgvelvet" &lt;mgarland@f...&gt; wrote:

&gt; On the other hand, different URIs 
&gt; for each user seems to fragment the information space.

(I replied to the author directly, by mistake; here's a follow-up
that's more complete).

I'm not a REST expert, but I don't think one needs to resort to query
params or sliced-up URI namespaces. We have standards for
authentication in HTTP and my gut reaction was that they count.

1. Userinfo can be be part of a URI and thus it is by definition part
of REST. See RFC 2396, look for userinfo. 

A URI could look like http://username@host/some/resource and then
provoke a 401 Unauthorized response, which would explain how the
useragent should authenticate itself.


2. But more generally, you're allowed to take other non-URI
information into account when designing a REST service. 

For example, content-negotiation headers can request a representation
of the resource in the client's preferred format. So it seems the URI
identifies the resource, but not necessarily the representation.
That's right in the REST paper.


3. Authentication is usually achieved in HTTP/1.1 using headers and is
thus superficially similar to the content-negotiation case. So you
could filter content based on user and still claim RESTfulness.

There are some more subtle issues regarding authentication that Roy
discusses in the REST paper but this answer still looks correct to me.



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4297<br>
Sender:Jon Hanna &lt;jon@...&gt;<br>
Post Date/Time:2004-03-30 13:03:05<br>
Subject:Re: [rest-discuss] Re: Varying content by user  (you're allowed to look at headers)<br>
Message:<br><br>
<pre>&gt; A URI could look like http://username@host/some/resource and then
&gt; provoke a 401 Unauthorized response, which would explain how the
&gt; useragent should authenticate itself.

That is not a valid http URI (and those clients and servers which allow them
have practical issues as well).

&gt; 3. Authentication is usually achieved in HTTP/1.1 using headers and is
&gt; thus superficially similar to the content-negotiation case. So you
&gt; could filter content based on user and still claim RESTfulness.
&gt; 
&gt; There are some more subtle issues regarding authentication that Roy
&gt; discusses in the REST paper but this answer still looks correct to me.

I wouldn't say it's incorrect (apart from the username@ in the URI), but there
are advantages to some of the other approaches. I focused a lot on caching in
my answer to this thread (which included the above approach and some others and
tried to weigh them up) because caching is a bit of a hobbyhorse for me and a
big part of why I personally like REST as a practical solution. My answer was
hardly comprehensive and I'm sure that more advantages and disadvantages for
each of the approaches, and indeed other viable approaches, can be found.

-- 
Jon Hanna
&lt;http://www.hackcraft.net/&gt;
"ï¿½it has been truly said that hackers have even more words for
equipment failures than Yiddish has for obnoxious people." - jargon.txt

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4298<br>
Sender:"neil_j_k" &lt;neil_j_k@...&gt;<br>
Post Date/Time:2004-03-31 01:35:49<br>
Subject:Re: Varying content by user  (you're allowed to look at headers)<br>
Message:<br><br>
<pre>--- In rest-discuss@yahoogroups.com, Jon Hanna &lt;jon@h...&gt; wrote:

&gt; &gt; A URI could look like http://username@host/some/resource
 
&gt; That is not a valid http URI (and those clients and servers 
&gt; which allow them have practical issues as well).

RFC 2396 section 3.2.2 appears to allow this.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4299<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2004-03-31 02:09:46<br>
Subject:Re: [rest-discuss] Re: Varying content by user  (you're allowed to look at headers)<br>
Message:<br><br>
<pre>On Wed, Mar 31, 2004 at 01:35:49AM -0000, neil_j_k wrote:
&gt; --- In rest-discuss@yahoogroups.com, Jon Hanna &lt;jon@h...&gt; wrote:
&gt; 
&gt; &gt; &gt; A URI could look like http://username@host/some/resource
&gt;  
&gt; &gt; That is not a valid http URI (and those clients and servers 
&gt; &gt; which allow them have practical issues as well).
&gt; 
&gt; RFC 2396 section 3.2.2 appears to allow this.

It's section 3.2.2 in 2616 that you should be looking at.

Mark.
-- 
Mark Baker.   Ottawa, Ontario, CANADA.        http://www.markbaker.ca

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4300<br>
Sender:"Neil Kandalgaonkar" &lt;neil_j_k@...&gt;<br>
Post Date/Time:2004-03-31 03:41:18<br>
Subject:userinfo in HTTP URIs -- not!<br>
Message:<br><br>
<pre>--- In rest-discuss@yahoogroups.com, Mark Baker &lt;distobj@a...&gt; wrote:

&gt; It's section 3.2.2 in 2616 that you should be looking at.

You guys are right and I was wrong. HTTP's scheme-specific syntax
overrides the generic URI syntax.

Also, this feature was removed with recent a Internet Explorer patch
(MS04-004) so for many practical purposes the whole thing is moot.

Sorry for the tangent.

I hope the general point, that authentication and REST can co-exist,
was on the money.

--
Neil Kandalgaonkar &lt;neil_j_k@...&gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4301<br>
Sender:Michael Smith &lt;michaelsmith@...&gt;<br>
Post Date/Time:2004-03-31 10:55:52<br>
Subject:Re: [rest-discuss] Varying content by user or role<br>
Message:<br><br>
<pre>Does anyone have experience with how real-world proxies
handle caching of http-authenicated representations (as in
"1. Vary content according to user") ?

I'm considering using this tactic for personalising certain
pages, while keeping the URI the same for everyone. But I'm
a little worried that some proxy and UA implementations
might not handle this correctly/consistently/as-I-expect.

I've used "2. ... have a userID in the URI." approach before
and it does feel the safer option (ie.
"http://example.org/recent-changes/mike", not
"http://mike@...").

Also, in 14.8 - 1 &amp; 2 in rfc2616, when it says;

"If the response includes the 'must-revalidate'
cache-control directive, the cache MAY use that response in
replying to a subsequent request."

Does it mean that it MAY use that cached response in
replying to a subsequent request CONTAINING THE SAME
AUTHORIZATION HEADERS (user&amp;password) ? Or, does it mean it
may use the cached response in reply to any request FOR THAT
URI ?

-- 
    Michael Smith
    Strategic Management Systems Ltd
    michaelsmith@...
    http://www.smslimited.com/




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4302<br>
Sender:Chris Croome &lt;chris@...&gt;<br>
Post Date/Time:2004-03-31 11:02:33<br>
Subject:Hacking HTTP Authentication with mod_perl<br>
Message:<br><br>
<pre>Hi

There is an interesting document here:

  Hacking HTTP Authentication with mod_perl

  http://wiki.slugbug.org.uk/HTTP_Authentication

Which basically explain how to set up logging in and out using HTTP
Authentication.

The inability to log out and in again is often cited as the reason
for using cookie and form of authentication.

Chris

-- 
Chris Croome                               &lt;chris@...&gt;
web design                             http://www.webarchitects.co.uk/ 
web content management                               http://mkdoc.com/   

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4303<br>
Sender:Berend de Boer &lt;berend@...&gt;<br>
Post Date/Time:2004-03-31 22:21:21<br>
Subject:Re: [rest-discuss] Hacking HTTP Authentication with mod_perl<br>
Message:<br><br>
<pre>&gt;&gt;&gt;&gt;&gt; "Chris" == Chris Croome &lt;chris@...&gt; writes:

    Chris&gt; Hi There is an interesting document here:

    Chris&gt;   Hacking HTTP Authentication with mod_perl

    Chris&gt;   http://wiki.slugbug.org.uk/HTTP_Authentication

    Chris&gt; Which basically explain how to set up logging in and out
    Chris&gt; using HTTP Authentication.

    Chris&gt; The inability to log out and in again is often cited as the
    Chris&gt; reason for using cookie and form of authentication.

brilliant, thanks a lot for this post!

-- 
Regards,

Berend. (-:


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4304<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2004-04-01 05:26:55<br>
Subject:Re: [rest-discuss] Hacking HTTP Authentication with mod_perl<br>
Message:<br><br>
<pre>This is very cool.

"HTTP authentication does not provide an easy way of logging out. This is
actually a browser bug, however with no active development from microsoft on
Internet Explorer, you can't really count on browsers very much. "
Is this only a bug with IE? Do other browsers support easily logging out? If
this is a browser bug, what part of the protocol is the browser not
supporting correctly?

Why is it that HTTP doesn't define request or response headers that allow
application authors to control things that they obviously want to control?
Like setting and clearing auth headers in order to avoid modifying URIs. I
imagine a 'set auth header' response would do the trick - a login.html page
would let a user enter username/password in a pretty page, then the request
handler would check the validity and respond with a server-generated token
for further auth. Maybe a new auth-type of 'server' in addition to 'basic'
or something.

Should we spin something up? Maybe take a crack at implementing it in
Mozilla?

----- Original Message ----- 
From: "Chris Croome" &lt;chris@...&gt;
To: &lt;rest-discuss@yahoogroups.com&gt;
Sent: Wednesday, March 31, 2004 3:02 AM
Subject: [rest-discuss] Hacking HTTP Authentication with mod_perl


&gt; Hi
&gt;
&gt; There is an interesting document here:
&gt;
&gt;   Hacking HTTP Authentication with mod_perl
&gt;
&gt;   http://wiki.slugbug.org.uk/HTTP_Authentication
&gt;
&gt; Which basically explain how to set up logging in and out using HTTP
&gt; Authentication.
&gt;
&gt; The inability to log out and in again is often cited as the reason
&gt; for using cookie and form of authentication.
&gt;
&gt; Chris
&gt;
&gt; -- 
&gt; Chris Croome                               &lt;chris@...&gt;
&gt; web design                             http://www.webarchitects.co.uk/
&gt; web content management                               http://mkdoc.com/
&gt;
&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4305<br>
Sender:Jon Hanna &lt;jon@...&gt;<br>
Post Date/Time:2004-04-02 16:37:12<br>
Subject:Re: [rest-discuss] Hacking HTTP Authentication with mod_perl<br>
Message:<br><br>
<pre>&gt; There is an interesting document here:
&gt; 
&gt;   Hacking HTTP Authentication with mod_perl
&gt; 
&gt;   http://wiki.slugbug.org.uk/HTTP_Authentication
&gt; 
&gt; Which basically explain how to set up logging in and out using HTTP
&gt; Authentication.
&gt; 
&gt; The inability to log out and in again is often cited as the reason
&gt; for using cookie and form of authentication.

I played with doing similar things in ASP some time ago (the code, if it exists
at all, is on a hard drive in the hands of the receiver handling the demise of
my former employers, but if I ever get to see it again I'll share).

I found that playing with the authentication this could cause issues with some
tools (InterDev at least) that used authentication and expected the server to
be handling it in the default manner.

-- 
Jon Hanna
&lt;http://www.hackcraft.net/&gt;
"ï¿½it has been truly said that hackers have even more words for
equipment failures than Yiddish has for obnoxious people." - jargon.txt

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4306<br>
Sender:Jon Hanna &lt;jon@...&gt;<br>
Post Date/Time:2004-04-02 16:52:06<br>
Subject:Re: [rest-discuss] Varying content by user or role<br>
Message:<br><br>
<pre>The more I think about this the more I'm unhappy with the idea of varying
content per user. If two pieces of information have different permissions
relating to them then it should be because they are representations of two
different (if related) resources that in turn should have two different URIs.

I don't think the inclusion or exclusion of sensitive data is comparable to the
other reasons for content negotiation (content type, content language etc.).

The main reason for taking the approach of varying content per user in
traditional web applications is to offer a limited-view rendering rather than a
full-view-with-errors rendering. In the case of an application which is giving
a human user (or another process) a view onto information obtained from a web
service then it can do the necessary attempts to download restricted data and
hence the limited-view pattern is possible by using several URIs.

Even in the case of a browser-based web app using XSLT this would be possible if
it were possible to trap errors with document() calls. Alas whether the errors
are signalled or not is implementation-defined.

-- 
Jon Hanna
&lt;http://www.hackcraft.net/&gt;
"ï¿½it has been truly said that hackers have even more words for
equipment failures than Yiddish has for obnoxious people." - jargon.txt

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4307<br>
Sender:Paul Jimenez &lt;pj@...&gt;<br>
Post Date/Time:2004-04-02 17:13:36<br>
Subject:Re: [rest-discuss] Varying content by user or role<br>
Message:<br><br>
<pre>On Friday, Apr 2, 2004, Jon Hanna writes:
&gt;The more I think about this the more I'm unhappy with the idea of
&gt;varying content per user. If two pieces of information have different
&gt;permissions relating to them then it should be because they are
&gt;representations of two different (if related) resources that in turn
&gt;should have two different URIs.

Consider a '/MyHome' resource that is, admittedly, just a shortcut to
'/Home/me', but is still useful, just like ~/ is useful in shells.

&gt;I don't think the inclusion or exclusion of sensitive data is
&gt;comparable to the other reasons for content negotiation (content type,
&gt;content language etc.).

What about niceties like not exposing knobs to the user that the user
can't twiddle? For instance, an admin-level user will have options
to modify a resource that a normal user won't have available... or
what about something like user-definable formatting prefs? I like my
/datetime resource formatted differently than you do, so my display of
this data is different than yours, based on us having different logins.

&gt;The main reason for taking the approach of varying content per user
&gt;in traditional web applications is to offer a limited-view rendering
&gt;rather than a full-view-with-errors rendering. In the case of an
&gt;application which is giving a human user (or another process) a
&gt;view onto information obtained from a web service then it can do
&gt;the necessary attempts to download restricted data and hence the
&gt;limited-view pattern is possible by using several URIs.
&gt;
&gt;Even in the case of a browser-based web app using XSLT this would be
&gt;possible if it were possible to trap errors with document() calls. Alas
&gt;whether the errors are signalled or not is implementation-defined.

Well, I see the issue as basically resource-specific gradations between
'full access' and '401 Unauthorized'. The extremes are clearly allowed;
why not the middle?

  --pj


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4308<br>
Sender:"John Coe" &lt;jcoe18@...&gt;<br>
Post Date/Time:2004-04-02 20:27:47<br>
Subject:Re: [rest-discuss] Varying content by user or role<br>
Message:<br><br>
<pre> --- On Fri 04/02, Paul Jimenez &lt; pj@... &gt; wrote:

From: Paul Jimenez [mailto: pj@...]To: rest-discuss@yahoogroups.comDate: Fri, 02 Apr 2004 11:13:36 -0600Subject: Re: [rest-discuss] Varying content by user or roleOn Friday, Apr 2, 2004, Jon Hanna writes:&gt;&gt;Even in the case of a browser-based web app using XSLT this would be&gt;possible if it were possible to trap errors with document() calls. Alas&gt;whether the errors are signalled or not is implementation-defined.Well, I see the issue as basically resource-specific gradations between'full access' and '401 Unauthorized'. The extremes are clearly allowed;why not the middle?  --pj

If the CGI(or other server orb) gives a XHTML return, that document() can read, the error condition can be handled.  I'm accessing a TWiki from a document() call and sometimes get a page missing or locked by other user, In this case a :
xsl:template match="xhtml:input/@value='error'" 
should catch the error. 
A client XSL document call is a great place to use REST. it may also provide a security layer. if the XSL is on the server with a document(http....) the url is kept away from the user!




Yahoo! Groups Links

To visit your group on the web, go to:http://groups.yahoo.com/group/rest-discuss/  
To unsubscribe from this group, send an email to:rest-discuss-unsubscribe@yahoogroups.com  
Your use of Yahoo! Groups is subject to the Yahoo! Terms of Service. 


_______________________________________________
Join Excite! - http://www.excite.com
The most personalized portal on the Web!
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4309<br>
Sender:Vincent D Murphy &lt;vdm@...&gt;<br>
Post Date/Time:2004-04-03 15:47:06<br>
Subject:Firefox Extension Manager update checking<br>
Message:<br><br>
<pre>http://www.bengoodger.com/weblog/archives/week_2004_03_28.shtml#000577

In this weblog post, Ben Goodger, the main developer of Mozilla Firefox,
describes how he is leaning towards implementing a web service rather
than just use HTTP and URLs.  He seems to be concerned about the length
of the URL strings.

The service in question is to be used by Firefox's Extension Manager for
checking whether extensions have been updated.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4310<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2004-04-03 16:08:02<br>
Subject:Re: [rest-discuss] Firefox Extension Manager update checking<br>
Message:<br><br>
<pre>Vincent D Murphy wrote:
&gt; 
&gt; http://www.bengoodger.com/weblog/archives/week_2004_03_28.shtml#000577
&gt; 
&gt; In this weblog post, Ben Goodger, the main developer of Mozilla Firefox,
&gt; describes how he is leaning towards implementing a web service rather
&gt; than just use HTTP and URLs.  He seems to be concerned about the length
&gt; of the URL strings.
&gt; 
&gt; The service in question is to be used by Firefox's Extension Manager for
&gt; checking whether extensions have been updated.

I might be totally off track here, but....

what about invoking GET/HEAD on the URLs of the extensions and checking the
Last-Modified header?

I assume GET &lt;extensionURL&gt; is the way to get the new extension anyway, or?

Jan


&gt; 
&gt; 
&gt; Yahoo! Groups Links
&gt; 
&gt; 
&gt; 
&gt; 

-- 
Jan Algermissen                           http://www.topicmapping.com
Consultant &amp; Programmer	                  http://www.gooseworks.org

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4311<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2004-04-04 01:43:24<br>
Subject:Re: [rest-discuss] Firefox Extension Manager update checking<br>
Message:<br><br>
<pre>It's ironic that the 'main developer' of a major Web browser isn't looking
at Web native mechanisms throughout that application. And why would a
behind-the-scenes use of URLs have a length limitation?

----- Original Message ----- 
From: "Vincent D Murphy" &lt;vdm@...&gt;
To: "rest-discuss" &lt;rest-discuss@yahoogroups.com&gt;
Sent: Saturday, April 03, 2004 7:47 AM
Subject: [rest-discuss] Firefox Extension Manager update checking


&gt; http://www.bengoodger.com/weblog/archives/week_2004_03_28.shtml#000577
&gt;
&gt; In this weblog post, Ben Goodger, the main developer of Mozilla Firefox,
&gt; describes how he is leaning towards implementing a web service rather
&gt; than just use HTTP and URLs.  He seems to be concerned about the length
&gt; of the URL strings.
&gt;
&gt; The service in question is to be used by Firefox's Extension Manager for
&gt; checking whether extensions have been updated.
&gt;
&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4312<br>
Sender:Vincent D Murphy &lt;vdm@...&gt;<br>
Post Date/Time:2004-04-04 15:04:54<br>
Subject:Re: [rest-discuss] Firefox Extension Manager update checking<br>
Message:<br><br>
<pre>On 4 Apr 2004, at 02:43, S. Mike Dierken wrote:
&gt; And why would a
&gt; behind-the-scenes use of URLs have a length limitation?

Beats me.  There must be something he knows that we don't.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4313<br>
Sender:Jon Hanna &lt;jon@...&gt;<br>
Post Date/Time:2004-04-05 10:49:22<br>
Subject:Re: [rest-discuss] Varying content by user or role<br>
Message:<br><br>
<pre>&gt; What about niceties like not exposing knobs to the user that the user
&gt; can't twiddle? For instance, an admin-level user will have options
&gt; to modify a resource that a normal user won't have available... or

This is what I refer to earlier as "limited-view". I contrasted this to
"full-view-with-errors" which is where you give all users all the controls and
then shout at them if they press the wrong one. These are the names given to
those patterns in
&lt;http://www.joeyoder.com/papers/patterns/Security/appsec.pdf&gt;.

My point being that it's perfectly possible for a client to use either pattern
whether the web service it uses presents all the relevant information in one
response or many.

&gt; what about something like user-definable formatting prefs? I like my
&gt; /datetime resource formatted differently than you do, so my display of
&gt; this data is different than yours, based on us having different logins.

In a case where it is necessary to deliver a human-readable representation
directly from the server (i.e. web sites) then this can be a tricky issue. In
the example of dates we have a choice of either customising the representation
per user, or of using a format that is unambiguous even when it is less than
ideal (e.g. "2004-04-05", "5&lt;sup&gt;th&lt;/sup&gt; of April, 2004" and "April 5, 2004"
are all unambiguous, 04/05/2004 and 05/04/2004 are useless[1]). There are quite
a few issues either way.

In the case of a REST service where the server is sending data then one would
just send the data in an appropriate format for the machine (in the case of
dates we would use one of the profiles of ISO 8601 common on the web) and
presenting this to any user can become the client's job (which is in a much
better position to reliably determine locale settings than the server).

I'm less dogmatic about per-user representations in the case of stylesheets
precisely because they deal with such issues although a user-stylesheet
mechanism could better deal with this. However I try to put any per-user-agent
hacks into the CSS alone when it comes to websites.

&gt; Well, I see the issue as basically resource-specific gradations between
&gt; 'full access' and '401 Unauthorized'. The extremes are clearly allowed;
&gt; why not the middle?

Authorised and unauthorised are concepts understood by the system. The rest of
the system (caching, firewalls) can understand them. An admin looking at the
traffic can understand them. Providing partial access through allowing full or
no access to related resources is merely expressing this gradiated security in
a way the system understands. It's also similar to how other authorisation for
file-based, RDBMS-based and other systems works (either you can read or you
can't, either you can write or you can't, etc) and hence concepts of
authorisation that developers are used to building and security people are used
to auditing.

[1] An aside on this issue. I have an article on my site about date formats and
the web, focusing mainly on the behind-the-scene formats. Referrer logs
indicate that there are a large number of people looking to use mm/dd/yyyy with
XML Schemata, and a roughly equal number of people looking to use dd/mm/yyyy.
Amusingly the words "normal", "more common" and "natural" appear in the query
strings from both groups.

-- 
Jon Hanna
&lt;http://www.hackcraft.net/&gt;
"ï¿½it has been truly said that hackers have even more words for
equipment failures than Yiddish has for obnoxious people." - jargon.txt

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4314<br>
Sender:Jon Hanna &lt;jon@...&gt;<br>
Post Date/Time:2004-04-05 11:06:00<br>
Subject:Re: [rest-discuss] Varying content by user or role<br>
Message:<br><br>
<pre>&gt; If the CGI(or other server orb) gives a XHTML return, that document() can
&gt; read, the error condition can be handled.  I'm accessing a TWiki from a
&gt; document() call and sometimes get a page missing or locked by other user, In
&gt; this case a :

Examining the spec indicates that if a document() gets a 401 it could either
lose or return the empty nodeset:

"If there is an error retrieving the resource, then the XSLT processor may
signal an error; if it does not signal an error, it must recover by returning
an empty node-set." &lt;http://www.w3.org/TR/xslt#document&gt;

It would seem therefore that either your XSLT engine is non-conformant in not
exhibiting one of the two behaviours allowed above, or that the TWiki is
sending 2xx statuses with error pages.

That said, I like your approach and wanted to do exactly the same thing
recently. It would be nice if there was a lower-level document() function that
gave us the status and access to the document returned even if it was an error
page. That wouldn't be protocol-agnostic, but maybe something along those lines
could be fitted into XSLT (say giving us a protocol-defined status, a boolean
indicating whether this was an error or not, and the nodeset).

&gt; xsl:template match="xhtml:input/@value='error'" 

&gt; should catch the error. 

&gt; A client XSL document call is a great place to use REST.

Agreed.

it may also provide
&gt; a security layer. if the XSL is on the server with a document(http....) the
&gt; url is kept away from the user!

Keeping URIs away from users is more ï¿½sthetics than security.

-- 
Jon Hanna
&lt;http://www.hackcraft.net/&gt;
"ï¿½it has been truly said that hackers have even more words for
equipment failures than Yiddish has for obnoxious people." - jargon.txt

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4315<br>
Sender:"John Coe" &lt;jcoe18@...&gt;<br>
Post Date/Time:2004-04-05 16:10:06<br>
Subject:Re: [rest-discuss] Varying content by user or role<br>
Message:<br><br>
<pre> 
Jon:The xsl:fallback should be able to catch the 401 errors. If  the CGI produces a XHTML error form then it can be used by both users and processes. Here is a link to some notes on using XSL with a wiki to produce a REST interface. It uses Google search as one of it's service.http://twiki.org/cgi-bin/view/Codev/XslWikiThere are working samples in linked pages, but they are still primitive and under construction.  The URL hiding is a security advantage especially when the querystring parameters are hidden. If the XSL is attached to the server in a way that the end user can't access it, the details of the web service are kept from the user, even when the XSL is executing on the client. John--- On Mon 04/05, Jon Hanna &lt; jon@... &gt; wrote:From: Jon Hanna [mailto: jon@...]To: rest-discuss@yahoogroups.comDate: Mon, 5 Apr 2004 12:06:00 +0100Subject: Re: [rest-discuss] Varying content by user or role&gt; If the CGI(or other server orb) gives a XHTML return, that document() can&gt; read, the error condition can be handled.  I'm accessing a TWiki from a&gt; document() call and sometimes get a page missing or locked by other user, In&gt; this case a :Examining the spec indicates that if a document() gets a 401 it could eitherlose or return the empty nodeset:"If there is an error retrieving the resource, then the XSLT processor maysignal an error; if it does not signal an error, it must recover by returningan empty node-set." &lt;http://www.w3.org/TR/xslt#document&gt;It would seem therefore that either your XSLT engine is non-conformant in notexhibiting one of the two behaviours allowed above, or that the TWiki issending 2xx statuses with error pages.That said, I like your approach and wanted to do exactly the same thingrecently. It would be nice if there was a lower-level document() function thatgave us the status and access to the document returned even if it was an errorpage. That wouldn't be protocol-agnostic, but maybe something along those linescould be fitted into XSLT (say giving us a protocol-defined status, a booleanindicating whether this was an error or not, and the nodeset).&gt; xsl:template match="xhtml:input/@value='error'" &gt; should catch the error. &gt; A client XSL document call is a great place to use REST.Agreed.it may also provide&gt; a security layer. if the XSL is on the server with a document(http....) the&gt; url is kept away from the user!Keeping URIs away from users is more ï¿½sthetics than security.-- Jon Hanna&lt;http://www.hackcraft.net/&gt;"ï¿½it has been truly said that hackers have even more words forequipment failures than Yiddish has for obnoxious people." - jargon.txt

Yahoo! Groups Links

To visit your group on the web, go to:http://groups.yahoo.com/group/rest-discuss/  
To unsubscribe from this group, send an email to:rest-discuss-unsubscribe@yahoogroups.com  
Your use of Yahoo! Groups is subject to the Yahoo! Terms of Service. 


_______________________________________________
Join Excite! - http://www.excite.com
The most personalized portal on the Web!
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4316<br>
Sender:Paul Jimenez &lt;pj@...&gt;<br>
Post Date/Time:2004-04-05 16:35:06<br>
Subject:Re: [rest-discuss] Varying content by user or role<br>
Message:<br><br>
<pre>On Monday, Apr 5, 2004, Jon Hanna writes:
&gt;&gt; what about something like user-definable formatting prefs? I like my
&gt;&gt; /datetime resource formatted differently than you do, so my display of
&gt;&gt; this data is different than yours, based on us having different logins.
&gt;
&gt;In a case where it is necessary to deliver a human-readable representation
&gt;directly from the server (i.e. web sites) then this can be a tricky issue. In
&gt;the example of dates we have a choice of either customising the representation
&gt;per user, or of using a format that is unambiguous even when it is less than
&gt;ideal (e.g. "2004-04-05", "5&lt;sup&gt;th&lt;/sup&gt; of April, 2004" and "April 5, 2004"
&gt;are all unambiguous, 04/05/2004 and 05/04/2004 are useless[1]). There are quite
&gt;a few issues either way.

Right, and this is my point: varying content by user/role is, I think, a valid
thing to do.  In fact, arguably putting the userid in the querystring is a valid
thing to do since it is, in essence, a parameter to the 'view' of a resource:
'This resource as viewed by userid X'.

&gt;In the case of a REST service where the server is sending data then one would
&gt;just send the data in an appropriate format for the machine (in the case of
&gt;dates we would use one of the profiles of ISO 8601 common on the web) and
&gt;presenting this to any user can become the client's job (which is in a much
&gt;better position to reliably determine locale settings than the server).

Sure; offloading the problem to the client is a fine thing, when you've got
one :)

&gt;&gt; Well, I see the issue as basically resource-specific gradations between
&gt;&gt; 'full access' and '401 Unauthorized'. The extremes are clearly allowed;
&gt;&gt; why not the middle?
&gt;
&gt;Authorised and unauthorised are concepts understood by the system. The rest of
&gt;the system (caching, firewalls) can understand them. An admin looking at the
&gt;traffic can understand them. Providing partial access through allowing full or
&gt;no access to related resources is merely expressing this gradiated security in
&gt;a way the system understands. It's also similar to how other authorisation for
&gt;file-based, RDBMS-based and other systems works (either you can read or you
&gt;can't, either you can write or you can't, etc) and hence concepts of
&gt;authorisation that developers are used to building and security people are used
&gt;to auditing.

Binary auth/unauth acces is fine for individual resources, but fails for aggregate
resources where low-clearance people need partial access to the same resource that
high-clearance people get full access to.  I guess the question boils down to:
does/should security policy impact resource definition?


  --pj


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4317<br>
Sender:Jon Hanna &lt;jon@...&gt;<br>
Post Date/Time:2004-04-05 16:36:20<br>
Subject:Re: [rest-discuss] Varying content by user or role<br>
Message:<br><br>
<pre>Quoting John Coe &lt;jcoe18@...&gt;:

&gt; Jon:The xsl:fallback should be able to catch the 401 errors.

That's what I thought when I started down the same route recently. When it
failed to work I re-read the spec and it appears tht xsl:fallback only catches
errors resulting from unknown elements or functions used in forwards-compatible
mode, not as a general error handling mechanism.

That's the theory part. In practice at least one commonly used XSLT engine goes
b0rk.

http://twiki.org/cgi-bin/view/Codev/XslWikiThere are working samples
&gt; in linked pages, but they are still primitive and under construction.

I'm getting "This Wiki topic does not exist yet ", misspelled URI?

-- 
Jon Hanna
&lt;http://www.hackcraft.net/&gt;
"ï¿½it has been truly said that hackers have even more words for
equipment failures than Yiddish has for obnoxious people." - jargon.txt

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4318<br>
Sender:"johncoe42" &lt;jcoe18@...&gt;<br>
Post Date/Time:2004-04-06 13:28:39<br>
Subject:Using CGI to produce recovery option for XslREST access<br>
Message:<br><br>
<pre>Jon:
Sorry I posted an unusable link, here is the link to some notes on 
using the document function of XSL for REST.

http://twiki.org/cgi-bin/view/Codev/XslWiki 

When you attempt to access 
http://twiki.org/cgi-bin/view/Codev/ThisPageDoesNotExist , you  get 
the "This Wiki topic does not exist yet ". if xsl document function 
attempted get the non-existing page from the CGI, a CGI could detect 
content unique to the recovery page (like the This Wiki topic does 
not exist yet screen) that it can process in most cases The TWiki 
CGI can catch the error. 

A CGI can catching the 401 error, and provide a page that can be 
processed. This was my real point. 

At least in the MSIE xsl client case, when you do get an 401 error, 
it produces a XHTML compatable error that can be processed also.
John.
--- In rest-discuss@yahoogroups.com, Jon Hanna &lt;jon@h...&gt; wrote:
&gt; Quoting John Coe &lt;jcoe18@E...&gt;:
&gt; 
&gt; &gt; Jon:The xsl:fallback should be able to catch the 401 errors.
&gt; 
&gt; That's what I thought when I started down the same route recently. 
When it
&gt; failed to work I re-read the spec and it appears tht xsl:fallback 
only catches
&gt; errors resulting from unknown elements or functions used in 
forwards-compatible
&gt; mode, not as a general error handling mechanism.
&gt; 
&gt; That's the theory part. In practice at least one commonly used 
XSLT engine goes
&gt; b0rk.
&gt; 
&gt; http://twiki.org/cgi-bin/view/Codev/XslWikiThere are working 
samples
&gt; &gt; in linked pages, but they are still primitive and under 
construction.
&gt; 
&gt; I'm getting "This Wiki topic does not exist yet ", misspelled URI?
&gt; 
&gt; -- 
&gt; Jon Hanna
&gt; &lt;http://www.hackcraft.net/&gt;
&gt; "it has been truly said that hackers have even more words for
&gt; equipment failures than Yiddish has for obnoxious people." - 
jargon.txt


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4319<br>
Sender:Richard Padley &lt;rest-discuss@...&gt;<br>
Post Date/Time:2004-04-13 13:55:40<br>
Subject:Re: [rest-discuss] Firefox Extension Manager update checking<br>
Message:<br><br>
<pre>Internet explorer has a well known limitation on URI length (try 
creating a GET for with more than a few fields and you'll see it fail 
silently).

Maybe they are trying to match features with IE? Also RFC 2616 makes 
some mutterings about URI length and proxies (see section 3.2.1).

S. Mike Dierken wrote:
&gt; It's ironic that the 'main developer' of a major Web browser isn't looking
&gt; at Web native mechanisms throughout that application. And why would a
&gt; behind-the-scenes use of URLs have a length limitation?
&gt; 
&gt; ----- Original Message -----
&gt; From: "Vincent D Murphy" &lt;vdm@...&gt;
&gt; To: "rest-discuss" &lt;rest-discuss@yahoogroups.com&gt;
&gt; Sent: Saturday, April 03, 2004 7:47 AM
&gt; Subject: [rest-discuss] Firefox Extension Manager update checking
&gt; 
&gt; 
&gt;  &gt; http://www.bengoodger.com/weblog/archives/week_2004_03_28.shtml#000577
&gt;  &gt;
&gt;  &gt; In this weblog post, Ben Goodger, the main developer of Mozilla Firefox,
&gt;  &gt; describes how he is leaning towards implementing a web service rather
&gt;  &gt; than just use HTTP and URLs.  He seems to be concerned about the length
&gt;  &gt; of the URL strings.
&gt;  &gt;
&gt;  &gt; The service in question is to be used by Firefox's Extension Manager for
&gt;  &gt; checking whether extensions have been updated.
&gt;  &gt;
&gt;  &gt;
&gt;  &gt;
&gt;  &gt;
&gt;  &gt; Yahoo! Groups Links
&gt;  &gt;
&gt;  &gt;
&gt;  &gt;
&gt;  &gt;
&gt;  &gt;
&gt;  &gt;
&gt; 
&gt; ------------------------------------------------------------------------
&gt; *Yahoo! Groups Links*
&gt; 
&gt;     * To visit your group on the web, go to:
&gt;       http://groups.yahoo.com/group/rest-discuss/
&gt;        
&gt;     * To unsubscribe from this group, send an email to:
&gt;       rest-discuss-unsubscribe@yahoogroups.com
&gt;       &lt;mailto:rest-discuss-unsubscribe@yahoogroups.com?subject=Unsubscribe&gt;
&gt;        
&gt;     * Your use of Yahoo! Groups is subject to the Yahoo! Terms of
&gt;       Service &lt;http://docs.yahoo.com/info/terms/&gt;. 
&gt; 
&gt; 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4320<br>
Sender:Mark Nottingham &lt;mnot@...&gt;<br>
Post Date/Time:2004-04-15 18:49:58<br>
Subject:Re: [rest-discuss] (HTTP-)Headers for intermediary control?<br>
Message:<br><br>
<pre>Lots of caching and other intermediary vendors have introduced their 
own control mechanisms, including headers. A few links that might be of 
interest;

http://www.w3.org/TR/2001/NOTE-edge-arch-20010804
http://www.netapp.com/tech_library/3071.html#2.4.  (see: "prefetching")
http://www.w3.org/TR/WD-proxy
http://www.mnot.net/drafts/draft-nottingham-cache-extensions-00.txt
http://www.mnot.net/drafts/draft-nottingham-http-auth-cache-00.txt

Cheers,


On Feb 13, 2004, at 8:46 PM, Mark Baker wrote:

&gt; Hey,
&gt;
&gt; On Fri, Feb 13, 2004 at 09:53:05PM +0100, Jan Algermissen wrote:
&gt;&gt; Is it RESTful to use headers to control the behaviour of
&gt;&gt; intermediaries, especially to control possible enhancements of
&gt;&gt; representations that run through them?
&gt;
&gt; Sure.  SOAP's intermediary model is a good example of this sort of
&gt; thing.  PEP's[1] too.  And I guess Waka will have something similar 
&gt; too.
&gt;
&gt;  [1] http://www.w3.org/TR/WD-http-pep
&gt;
&gt;&gt; The scenario I have in mind is an intermediary that acts as a link 
&gt;&gt; engine
&gt;&gt; or link server and possibly resolves inline links or links from a 
&gt;&gt; link database
&gt;&gt; thus enhancing the returned representations. An intermediary control 
&gt;&gt; header
&gt;&gt; might look like this:
&gt;&gt;
&gt;&gt; GET /some/path HTTP/1.1
&gt;&gt; Host: example.org
&gt;&gt; Allow-Intermediary-Enhancement: Transclusions; Annotations; Backlinks
&gt;
&gt; Right.
&gt;
&gt;&gt; The list of enhancement options is not thought-out; only given to 
&gt;&gt; illustrate
&gt;&gt; my question.
&gt;&gt;
&gt;&gt; For RDF, would it be RESTful to enable/disable inferencing by 
&gt;&gt; intermediaries?
&gt;
&gt; As long as the effect of the "enhancement" is on a per-message basis -
&gt; i.e. with no persistent side effects for other messages - then that
&gt; should be ok I'd say.
&gt;
&gt; Mark.
&gt; -- 
&gt; Mark Baker.   Ottawa, Ontario, CANADA.        http://www.markbaker.ca
&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;
&gt;

--
Mark Nottingham     http://www.mnot.net/


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4321<br>
Sender:John Belmonte &lt;john@...&gt;<br>
Post Date/Time:2004-04-16 14:32:37<br>
Subject:automatic checking for HTTP violations?<br>
Message:<br><br>
<pre>I'd like to know if there are any tools out there that will check HTTP 
requests and responses for standards compliance.

At the basic level, it would check a request or response in isolation. 
For example, a Method Not Allowed response without an Allow header would 
be flagged as not compliant.

More advanced checking would consider all requests and responses within 
a session.  For example, a response to HEAD request that has a message 
body would be flagged as not compliant.

Ideally, it would differentiate between compliance and partial 
compliance (missing SHOULD's).

-John


-- 
http:// if  ile.org/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4322<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2004-04-18 15:08:56<br>
Subject:Can a resource span across authorities?<br>
Message:<br><br>
<pre>Hi,

I recently posted a question to www-rdf-interest about URIs from different
domains referring to the same abstract concept:

http://lists.w3.org/Archives/Public/www-rdf-interest/2004Apr/0044.html

In a response Jon Hanna said that there was simply just one resource being
identified by the two URIs.

I would like to check back with the REST experts if that is correct from
a REST POV. The question comes IMHO down to:


Can a single resource span across authorities?


E.g. can http://some.org/countries/Canada and http://another.org/canada
(both known to identify the country Canada (e.g. via owl:sameAs)) identify
the same resource?


Jan


-- 
Jan Algermissen                           http://www.topicmapping.com
Consultant &amp; Programmer	                  http://www.gooseworks.org

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4323<br>
Sender:Justin Sampson &lt;justin@...&gt;<br>
Post Date/Time:2004-04-18 18:48:43<br>
Subject:Re: [rest-discuss] Can a resource span across authorities?<br>
Message:<br><br>
<pre>Hmm. Consider:

    &lt;http://example.org/countries/Canada&gt;

vs.

    &lt;http://www.example.org/countries/Canada&gt;

Syntactically different authorities (even though "really" the same
authority), but probably the same resource...

Justin


On Sun, 18 Apr 2004, Jan Algermissen wrote:

&gt; Hi,
&gt;
&gt; I recently posted a question to www-rdf-interest about URIs from different
&gt; domains referring to the same abstract concept:
&gt;
&gt; http://lists.w3.org/Archives/Public/www-rdf-interest/2004Apr/0044.html
&gt;
&gt; In a response Jon Hanna said that there was simply just one resource being
&gt; identified by the two URIs.
&gt;
&gt; I would like to check back with the REST experts if that is correct from
&gt; a REST POV. The question comes IMHO down to:
&gt;
&gt;
&gt; Can a single resource span across authorities?
&gt;
&gt;
&gt; E.g. can http://some.org/countries/Canada and http://another.org/canada
&gt; (both known to identify the country Canada (e.g. via owl:sameAs)) identify
&gt; the same resource?
&gt;
&gt;
&gt; Jan
&gt;
&gt;
&gt; --
&gt; Jan Algermissen                           http://www.topicmapping.com
&gt; Consultant &amp; Programmer	                  http://www.gooseworks.org

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4324<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2004-04-18 19:49:55<br>
Subject:Re: [rest-discuss] Can a resource span across authorities?<br>
Message:<br><br>
<pre>Justin Sampson wrote:
&gt; 
&gt; Hmm. Consider:
&gt; 
&gt;     &lt;http://example.org/countries/Canada&gt;
&gt; 
&gt; vs.
&gt; 
&gt;     &lt;http://www.example.org/countries/Canada&gt;
&gt; 
&gt; Syntactically different authorities (even though "really" the same
&gt; authority), but probably the same resource...

To clarify: please assume 'knowingly different authorities' for the
purpose of my question.

Jan

P.S. Hmm...can it be known at all if two URIs are controlled by different authorities?



&gt; 
&gt; Justin
&gt; 
&gt; On Sun, 18 Apr 2004, Jan Algermissen wrote:
&gt; 
&gt; &gt; Hi,
&gt; &gt;
&gt; &gt; I recently posted a question to www-rdf-interest about URIs from different
&gt; &gt; domains referring to the same abstract concept:
&gt; &gt;
&gt; &gt; http://lists.w3.org/Archives/Public/www-rdf-interest/2004Apr/0044.html
&gt; &gt;
&gt; &gt; In a response Jon Hanna said that there was simply just one resource being
&gt; &gt; identified by the two URIs.
&gt; &gt;
&gt; &gt; I would like to check back with the REST experts if that is correct from
&gt; &gt; a REST POV. The question comes IMHO down to:
&gt; &gt;
&gt; &gt;
&gt; &gt; Can a single resource span across authorities?
&gt; &gt;
&gt; &gt;
&gt; &gt; E.g. can http://some.org/countries/Canada and http://another.org/canada
&gt; &gt; (both known to identify the country Canada (e.g. via owl:sameAs)) identify
&gt; &gt; the same resource?
&gt; &gt;
&gt; &gt;
&gt; &gt; Jan
&gt; &gt;
&gt; &gt;
&gt; &gt; --
&gt; &gt; Jan Algermissen                           http://www.topicmapping.com
&gt; &gt; Consultant &amp; Programmer                         http://www.gooseworks.org

-- 
Jan Algermissen                           http://www.topicmapping.com
Consultant &amp; Programmer	                  http://www.gooseworks.org

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4325<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2004-04-18 23:48:36<br>
Subject:Re: [rest-discuss] Can a resource span across authorities?<br>
Message:<br><br>
<pre>On Sun, Apr 18, 2004 at 05:08:56PM +0200, Jan Algermissen wrote:
&gt; E.g. can http://some.org/countries/Canada and http://another.org/canada
&gt; (both known to identify the country Canada (e.g. via owl:sameAs)) identify
&gt; the same resource?

Sure.  There's nothing stopping any string from identifying anything in
particular.  Nor is there any relationship between the authority for a
URI, and the owner of the resource.  The authority of the URI just tells
you who owns the name, not the resource.

Mark.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4326<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2004-04-19 07:22:19<br>
Subject:Re: [rest-discuss] Can a resource span across authorities?<br>
Message:<br><br>
<pre>Mark Baker wrote:
&gt; 
&gt; On Sun, Apr 18, 2004 at 05:08:56PM +0200, Jan Algermissen wrote:
&gt; &gt; E.g. can http://some.org/countries/Canada and http://another.org/canada
&gt; &gt; (both known to identify the country Canada (e.g. via owl:sameAs)) identify
&gt; &gt; the same resource?
&gt; 
&gt; Sure.  There's nothing stopping any string from identifying anything in
&gt; particular.  Nor is there any relationship between the authority for a
&gt; URI, and the owner of the resource.  The authority of the URI just tells
&gt; you who owns the name, not the resource.

Mark, Bryan,

thanks for your clarifications.

One more question though:

Given

http://some.org/countries/Canada owl:sameAs http://another.org/canada

is it correct to assume that a GET on either one of them invokes
the same membership function? 

Or in other words: do the semantics of owl:sameAs imply that invocations
of a given HTTP method on any one of the URIs are equivalent?

Jan


&gt; 
&gt; Mark.

-- 
Jan Algermissen                           http://www.topicmapping.com
Consultant &amp; Programmer	                  http://www.gooseworks.org

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4327<br>
Sender:Jon Hanna &lt;jon@...&gt;<br>
Post Date/Time:2004-04-19 09:06:23<br>
Subject:Re: [rest-discuss] Can a resource span across authorities?<br>
Message:<br><br>
<pre>&gt; http://some.org/countries/Canada owl:sameAs http://another.org/canada
&gt; 
&gt; is it correct to assume that a GET on either one of them invokes
&gt; the same membership function? 
&gt; 
&gt; Or in other words: do the semantics of owl:sameAs imply that invocations
&gt; of a given HTTP method on any one of the URIs are equivalent?

Ooops, I didn't mean to imply that when this came up on RDF-IG. The RDF triple
&lt;http://some.org/countries/Canada&gt; &lt;owl:sameAs&gt; &lt;http://another.org/canada&gt; .
says that the resource identified by http://some.org/countries/Canada is the
same resource identified by http://another.org/canada. However it does not say
anything about what happens when you perform a GET operation on that URI, OWL
doesn't talk about HTTP operations at all (as someone interested in REST,
HTTP, OWL and RDF I've looked at creating a vocabuary so that RDF *can* say
something about that, but if I succeed I still wouldn't change the fact that
RDF statements are about the resources, not the representations).

Now let's say that a GET on http://some.org/countries/Canada returns this
document:

&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"&gt;
&lt;html xml:lang="en-IE" lang="en-IE" xmlns="http://www.w3.org/1999/xhtml"&gt;
&lt;head&gt;&lt;title&gt;Canada&lt;/title&gt;&lt;/head&gt;
&lt;body&gt;&lt;p&gt;Canada is a wonderful multi-cultural nation that combines many of the
benefits that come from North American capitalism with a sense of social
justice that results in great health care and a strong govenment support for
the arts that has enabled it to produce many of the best films in the English
language.&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;

and lets say a GET on http://another.org/canada returns this document:
&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"&gt;
&lt;html xml:lang="en-IE" lang="en-IE" xmlns="http://www.w3.org/1999/xhtml"&gt;
&lt;head&gt;&lt;title&gt;Canada&lt;/title&gt;&lt;/head&gt;
&lt;body&gt;&lt;p&gt;Canada is such a wishy-washy liberal country that one has hardly any
personal freedom that the PC-brigade haven't trampled on. This wimpishness is
evident in their boring films.&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;

(For the record, I'd like to point out my great admiriation for Canada's
multi-cultural nation and their film industry in particular).

Anyway, both of these GETs return a representation of Canada. They also clearly
disagree strongly. This is due to three things:

1. On a large distributed system like the web there is no way of getting anyone
to agree anyway.
2. In the case of human-readable documents like the XHTML examples above a
belief in freedom-of-speech (whether total or restricted) would lead us to
consider any such mechanism for forcing agreement to be undesirable.
3. People can get stuff wrong (there's nothing to stop a representation of
Canada from claiming that it is the country you enter by crossing the southern
border of Texas, or even that Canada is a type of small brightly-coloured fish
found in rivers in Central Europe.

On the other hand the two representations *could* be identical, or one could
reference the other as a source of further information (even in the above
examples one could reference the other as a source of mis-information).

Of course in RDF we can have two contradictory statements as well, even in the
same graph. We would conclude that the graph is invalid and it can't all be
true - just as we would conclude that it isn't possible for both of the
opinions about Canada expressed above are completely true at the same time.
Indeed while the obvious use of owl:sameAs is to merge two sources of trusted
useful information it can be just as useful to merge two sources of potentially
useful information, detect that they contradict, and realise that at least one
is incorrect.

The closest thing in HTTP to an owl:sameAS is a 301 Moved Permanently status
code, since the semantics of 301 mean that not only can the GET be fulfilled by
performing it on the new URI, but that this is always the case and all future
uses of the former URI SHOULD use the latter. However this is a bit of a
stretch, and in general one shouldn't expect what RDF says about a relationship
between to resources to necessarily be expressable in pure HTTP terms.

The only point where RDF and REST (or more strictly, the particular RESTful
systm which is the web) coincide is that they both use URIs to identify
resources. HTTP gives us a way of obtaining or setting representations of those
Resources. RDF gives us a syntax for describing those resources, including
those where we have no control over the server that will respond to HTTP
requests with the given URI. Of course a representation may well be an RDF/XML
document, but RDF is complementary to HTTP.

-- 
Jon Hanna
&lt;http://www.hackcraft.net/&gt;
"ï¿½it has been truly said that hackers have even more words for
equipment failures than Yiddish has for obnoxious people." - jargon.txt

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4328<br>
Sender:Walden Mathews &lt;waldenm@...&gt;<br>
Post Date/Time:2004-04-19 12:56:41<br>
Subject:Re: [rest-discuss] Can a resource span across authorities?<br>
Message:<br><br>
<pre>Hi,

If I recall correctly, REST says that a resource *is* a membership
function, mapping from time to representations. Therefore, if you have
the same resource, you have the same function.

"Membership function" is questionable language, IMO.  It does not
imply a single representation at a single moment in time, so it's not
functional in the formal sense.  It's a membership mapping.

What the above means is that there exists no formal contract about
the objectively observable results of issuing GETs against a URI at
any given time, or at different times.  Given that, you are in sad shape
trying to use REST to shore up the "owl:sameAs" formalism.

That said, I find Jon Hanna's example below a shocking development,
and I wonder what value is added by saying "a sameAs b" when it
leads to no meaningful expectation of interchange.  Identity Rot
has got to be a bad thing for Systems.

Walden


----- Original Message ----- 
From: "Jon Hanna" &lt;jon@...&gt;
To: "rest-discuss" &lt;rest-discuss@yahoogroups.com&gt;
Sent: Monday, April 19, 2004 5:06 AM
Subject: Re: [rest-discuss] Can a resource span across authorities?


: &gt; http://some.org/countries/Canada owl:sameAs http://another.org/canada
: &gt;
: &gt; is it correct to assume that a GET on either one of them invokes
: &gt; the same membership function?
: &gt;
: &gt; Or in other words: do the semantics of owl:sameAs imply that invocations
: &gt; of a given HTTP method on any one of the URIs are equivalent?
:
: Ooops, I didn't mean to imply that when this came up on RDF-IG. The RDF
triple
: &lt;http://some.org/countries/Canada&gt; &lt;owl:sameAs&gt;
&lt;http://another.org/canada&gt; .
: says that the resource identified by http://some.org/countries/Canada is
the
: same resource identified by http://another.org/canada. However it does not
say
: anything about what happens when you perform a GET operation on that URI,
OWL
: doesn't talk about HTTP operations at all (as someone interested in REST,
: HTTP, OWL and RDF I've looked at creating a vocabuary so that RDF *can*
say
: something about that, but if I succeed I still wouldn't change the fact
that
: RDF statements are about the resources, not the representations).
:
: Now let's say that a GET on http://some.org/countries/Canada returns this
: document:
:
: &lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
: "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"&gt;
: &lt;html xml:lang="en-IE" lang="en-IE" xmlns="http://www.w3.org/1999/xhtml"&gt;
: &lt;head&gt;&lt;title&gt;Canada&lt;/title&gt;&lt;/head&gt;
: &lt;body&gt;&lt;p&gt;Canada is a wonderful multi-cultural nation that combines many of
the
: benefits that come from North American capitalism with a sense of social
: justice that results in great health care and a strong govenment support
for
: the arts that has enabled it to produce many of the best films in the
English
: language.&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;
:
: and lets say a GET on http://another.org/canada returns this document:
: &lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
: "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"&gt;
: &lt;html xml:lang="en-IE" lang="en-IE" xmlns="http://www.w3.org/1999/xhtml"&gt;
: &lt;head&gt;&lt;title&gt;Canada&lt;/title&gt;&lt;/head&gt;
: &lt;body&gt;&lt;p&gt;Canada is such a wishy-washy liberal country that one has hardly
any
: personal freedom that the PC-brigade haven't trampled on. This wimpishness
is
: evident in their boring films.&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;
:
: (For the record, I'd like to point out my great admiriation for Canada's
: multi-cultural nation and their film industry in particular).
:
: Anyway, both of these GETs return a representation of Canada. They also
clearly
: disagree strongly. This is due to three things:
:
: 1. On a large distributed system like the web there is no way of getting
anyone
: to agree anyway.
: 2. In the case of human-readable documents like the XHTML examples above a
: belief in freedom-of-speech (whether total or restricted) would lead us to
: consider any such mechanism for forcing agreement to be undesirable.
: 3. People can get stuff wrong (there's nothing to stop a representation of
: Canada from claiming that it is the country you enter by crossing the
southern
: border of Texas, or even that Canada is a type of small brightly-coloured
fish
: found in rivers in Central Europe.
:
: On the other hand the two representations *could* be identical, or one
could
: reference the other as a source of further information (even in the above
: examples one could reference the other as a source of mis-information).
:
: Of course in RDF we can have two contradictory statements as well, even in
the
: same graph. We would conclude that the graph is invalid and it can't all
be
: true - just as we would conclude that it isn't possible for both of the
: opinions about Canada expressed above are completely true at the same
time.
: Indeed while the obvious use of owl:sameAs is to merge two sources of
trusted
: useful information it can be just as useful to merge two sources of
potentially
: useful information, detect that they contradict, and realise that at least
one
: is incorrect.
:
: The closest thing in HTTP to an owl:sameAS is a 301 Moved Permanently
status
: code, since the semantics of 301 mean that not only can the GET be
fulfilled by
: performing it on the new URI, but that this is always the case and all
future
: uses of the former URI SHOULD use the latter. However this is a bit of a
: stretch, and in general one shouldn't expect what RDF says about a
relationship
: between to resources to necessarily be expressable in pure HTTP terms.
:
: The only point where RDF and REST (or more strictly, the particular
RESTful
: systm which is the web) coincide is that they both use URIs to identify
: resources. HTTP gives us a way of obtaining or setting representations of
those
: Resources. RDF gives us a syntax for describing those resources, including
: those where we have no control over the server that will respond to HTTP
: requests with the given URI. Of course a representation may well be an
RDF/XML
: document, but RDF is complementary to HTTP.
:
: -- 
: Jon Hanna
: &lt;http://www.hackcraft.net/&gt;
: ".it has been truly said that hackers have even more words for
: equipment failures than Yiddish has for obnoxious people." - jargon.txt
:
:
:
:
: Yahoo! Groups Links
:
:
:
:
:
:
: __________ NOD32 1.722 (20040419) Information __________
:
: This message was checked by NOD32 antivirus system.
: http://www.nod32.com
:
:


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4329<br>
Sender:"mgvelvet" &lt;mgarland@...&gt;<br>
Post Date/Time:2004-04-26 21:16:04<br>
Subject:Relationship between HTTP and RDF/OWL<br>
Message:<br><br>
<pre>Jon Hanna mentioned an RDF/OWL vocabulary to describe HTTP resources.
I know others of you are already using RDF and HTTP together (Mark
Baker, I'm looking at you). I have questions about how you're doing
that:

Are you describing the behavior of an HTTP resource with RDF?
Are you describing the relationships between HTTP resources with RDF?
Are you using HTTP resource identifiers as subjects in your RDF?
If so, do the resource identifiers have an rdf:type?
Is there a difference between an RDF resource and an HTTP resource?
Is it significant that owl:sameAs is defined over "individuals"
(instances of owl:Thing) instead of over "resources"?

Matt Garland


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4330<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2004-04-30 13:35:50<br>
Subject:Re: Relationship between HTTP and RDF/OWL<br>
Message:<br><br>
<pre>[ Hmm, I just found this in the archives.  Not sure why it didn't
arrive in my inbox ]

Hi,

Matt Garland wrote;
&gt; Jon Hanna mentioned an RDF/OWL vocabulary to describe HTTP resources.
&gt; I know others of you are already using RDF and HTTP together (Mark
&gt; Baker, I'm looking at you). I have questions about how you're doing
&gt; that:
&gt; 
&gt; Are you describing the behavior of an HTTP resource with RDF?

No, I'm describing the state.

&gt; Are you describing the relationships between HTTP resources with RDF?

Yes.

&gt; Are you using HTTP resource identifiers as subjects in your RDF?

Yes.

&gt; If so, do the resource identifiers have an rdf:type?

Well, the resource, not the identifier, is what rdf:type refers to, but
yes.

&gt; Is there a difference between an RDF resource and an HTTP resource?

No, because there's no such thing as either of those; there are
resources, period.

&gt; Is it significant that owl:sameAs is defined over "individuals"
&gt; (instances of owl:Thing) instead of over "resources"?

No.  Same thing.

Mark.
-- 
Mark Baker.   Ottawa, Ontario, CANADA.        http://www.markbaker.ca

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4331<br>
Sender:Jon Hanna &lt;jon@...&gt;<br>
Post Date/Time:2004-04-30 14:22:33<br>
Subject:Re: [rest-discuss] Re: Relationship between HTTP and RDF/OWL<br>
Message:<br><br>
<pre>Quoting Mark Baker &lt;distobj@...&gt;:

&gt; &gt; Is there a difference between an RDF resource and an HTTP resource?
&gt; 
&gt; No, because there's no such thing as either of those; there are
&gt; resources, period.

Yes. I'm of the opinion that the main reason we use the word "resource" rather
than the word "thing" is that using the former makes us seem a bit smarter than
if we use the latter. However the nuances of "thing" are probably more apposite
than the nuances of "resource".

-- 
Jon Hanna
&lt;http://www.hackcraft.net/&gt;
"ï¿½it has been truly said that hackers have even more words for
equipment failures than Yiddish has for obnoxious people." - jargon.txt

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4332<br>
Sender:"mgvelvet" &lt;mgarland@...&gt;<br>
Post Date/Time:2004-04-30 18:37:02<br>
Subject:Re: Relationship between HTTP and RDF/OWL<br>
Message:<br><br>
<pre>Mark Baker &lt;distobj@a...&gt; wrote:

&gt; Matt Garland wrote;
&gt; &gt; Are you using HTTP resource identifiers as subjects in your RDF?
&gt; 
&gt; Yes.
&gt; 
&gt; &gt; If so, do the resource identifiers have an rdf:type?
&gt; 
&gt; Well, the resource, not the identifier, is what rdf:type refers to, but
&gt; yes.
&gt; 
&gt; &gt; Is there a difference between an RDF resource and an HTTP resource?
&gt; 
&gt; No, because there's no such thing as either of those; there are
&gt; resources, period.
&gt; 
&gt; &gt; Is it significant that owl:sameAs is defined over "individuals"
&gt; &gt; (instances of owl:Thing) instead of over "resources"?
&gt; 
&gt; No.  Same thing.

Roy's definition of resource:

More precisely, a resource R is a temporally varying membership
function M_R(t), which for time t maps to a set of entities, or
values, which are equivalent. The values in the set may be resource
representations and/or resource identifiers.

This leads me to a conclusion I don't like: Two resources that are
owl:sameAs must respond to the same requests at the same time with the
same representations, because the resource *is* the membership
function.

Something smells wrong to me.

Roy says that "a non-virtual object (e.g. a person)" can be a
resource. How is a person a membership function? I tried to
rationalize this by saying that the words "entity" and "value" in the
definition referred to the person to which the membership function
mapped, but the very next sentence of the definition limits the values
to "representations and/or identifiers".

What am I missing?


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4333<br>
Sender:"Roy T. Fielding" &lt;fielding@...&gt;<br>
Post Date/Time:2004-05-01 00:21:17<br>
Subject:Re: [rest-discuss] Re: Relationship between HTTP and RDF/OWL<br>
Message:<br><br>
<pre>&gt; Roy's definition of resource:
&gt;
&gt; More precisely, a resource R is a temporally varying membership
&gt; function M_R(t), which for time t maps to a set of entities, or
&gt; values, which are equivalent. The values in the set may be resource
&gt; representations and/or resource identifiers.

That's my definition for a resource within a REST-based information
system.  That is because such a system creates an interface that
causes that mapping to be the only observable definition of a resource.
What the resource actually *is*, within a larger scope, is a different
topic.

&gt; This leads me to a conclusion I don't like: Two resources that are
&gt; owl:sameAs must respond to the same requests at the same time with the
&gt; same representations, because the resource *is* the membership
&gt; function.

That depends on what you mean by "is".  ;-)

&gt; Something smells wrong to me.

Context.

&gt; Roy says that "a non-virtual object (e.g. a person)" can be a
&gt; resource. How is a person a membership function? I tried to
&gt; rationalize this by saying that the words "entity" and "value" in the
&gt; definition referred to the person to which the membership function
&gt; mapped, but the very next sentence of the definition limits the values
&gt; to "representations and/or identifiers".
&gt;
&gt; What am I missing?

When you watch a movie on TV, are you watching photons, characters,
or people playing the roles of characters?  When someone makes a
statement about something they see on TV, do they identify the
photons, the characters, or the actors playing those characters?
Most of the time, they try to clarify the ambiguity by setting the
context -- by referring to the actor by their real name (or pseudonym)
as opposed to the character's name, or by clarifying the context
via some other part of the statement.

So, in my disseration I was trying to describe both the set of things
that have been named (resources) and the extent to which those named
things can be represented within an information system (the mapping).
It is a bit confusing because I edited it too many times.

My definition of resource in general is in rfc2396bis.

  http://gbiv.com/protocols/uri/rev-2002/rfc2396bis.html#overview

....Roy


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4334<br>
Sender:"Roy T. Fielding" &lt;fielding@...&gt;<br>
Post Date/Time:2004-05-01 00:28:43<br>
Subject:Re: [rest-discuss] Re: Relationship between HTTP and RDF/OWL<br>
Message:<br><br>
<pre>&gt; Yes. I'm of the opinion that the main reason we use the word "resource"
&gt; rather than the word "thing" is that using the former makes us seem a
&gt; bit smarter than if we use the latter. However the nuances of "thing"
&gt; are probably more apposite than the nuances of "resource".

We use the term resource because "thing" includes those that have yet
to be named or described, and thus cannot be individually considered
a resource by any system.

Short terminology may lessen universal understanding, but at least
it saves me from typing too many phrases.

....Roy


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4335<br>
Sender:"Walden Mathews" &lt;walden@...&gt;<br>
Post Date/Time:2004-05-01 00:59:54<br>
Subject:Re: [rest-discuss] Re: Relationship between HTTP and RDF/OWL<br>
Message:<br><br>
<pre>
: &gt; Roy's definition of resource:
: &gt;
: &gt; More precisely, a resource R is a temporally varying membership
: &gt; function M_R(t), which for time t maps to a set of entities, or
: &gt; values, which are equivalent. The values in the set may be resource
: &gt; representations and/or resource identifiers.
: 
: That's my definition for a resource within a REST-based information
: system.  That is because such a system creates an interface that
: causes that mapping to be the only observable definition of a resource.
: What the resource actually *is*, within a larger scope, is a different
: topic.
: 
: &gt; This leads me to a conclusion I don't like: Two resources that are
: &gt; owl:sameAs must respond to the same requests at the same time with the
: &gt; same representations, because the resource *is* the membership
: &gt; function.
: 
: That depends on what you mean by "is".  ;-)

Okay, that covers the case where the HTTP + OWL scope is to
be considered a "larger scope" than REST, and so the true definition
of "resource" lies elsewhere, perhaps.

But even scoped to REST, where does one find in Roy's definition
of resource a promise that two clients will ever receive identical
representations of a single resource?  The fact that they are dereferencing
the same mapping is not enough to constitute such a promise.  Hence
how do you test the assertion &lt;/resource1&gt; &lt;owl:sameAs&gt; &lt;/resource2&gt;, 
and what good is it in the design of systems if it cannot be tested?

Walden

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4336<br>
Sender:Jon Hanna &lt;jon@...&gt;<br>
Post Date/Time:2004-05-06 14:40:37<br>
Subject:Re: [rest-discuss] Re: Relationship between HTTP and RDF/OWL<br>
Message:<br><br>
<pre>Quoting "Roy T. Fielding" &lt;fielding@...&gt;:

&gt; &gt; Yes. I'm of the opinion that the main reason we use the word "resource"
&gt; &gt; rather than the word "thing" is that using the former makes us seem a
&gt; &gt; bit smarter than if we use the latter. However the nuances of "thing"
&gt; &gt; are probably more apposite than the nuances of "resource".
&gt; 
&gt; We use the term resource because "thing" includes those that have yet
&gt; to be named or described, and thus cannot be individually considered
&gt; a resource by any system.

Correct in a spec or a paper, but correct in a tutorial?

To many people "Resource" implies ownership and belonging. To many others
"Resource" implies membership of some sort of category. Hence we frequently get
discussion of how &lt;http://example.net/Ireland&gt; could or could not be the same
resource as &lt;http://example.org/Ireland&gt; when the former is "owned" by
example.net and the latter by example.org and talk of REST resources vs. RDF
resources vs. OWL resources vs. DAML resources.

Since generally people don't try to say anything about things they don't have an
identifier for I think "thing" has it's place in non-normative descriptions of
resources (unless there are further ways in which thing is wrong).

-- 
Jon Hanna
&lt;http://www.hackcraft.net/&gt;
"ï¿½it has been truly said that hackers have even more words for
equipment failures than Yiddish has for obnoxious people." - jargon.txt

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4337<br>
Sender:Paul Jimenez &lt;pj@...&gt;<br>
Post Date/Time:2004-05-18 20:48:22<br>
Subject:representational completeness<br>
Message:<br><br>
<pre>
Should resources require a complete representation be submitted via
POST? For instance, if there's a resource /Users/joebob, to change his
address when he's also got a ssn and a phone number, should the resource
require a submission of the ssn and phone number as well? or is an
implicit contract of "if it's not submitted, dont change it" okay? The
latter is certainly easier to build HTML forms for.

Anyone?

  --pj



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4338<br>
Sender:Lucas Gonze &lt;lgonze@...&gt;<br>
Post Date/Time:2004-05-18 20:53:36<br>
Subject:Re: [rest-discuss] representational completeness<br>
Message:<br><br>
<pre>
Representational completeness is for PUT.  The contract of a post just
means that state may be changed in some way.

- Lucas

On Tue, 18 May 2004, Paul Jimenez wrote:

&gt;
&gt; Should resources require a complete representation be submitted via
&gt; POST? For instance, if there's a resource /Users/joebob, to change his
&gt; address when he's also got a ssn and a phone number, should the resource
&gt; require a submission of the ssn and phone number as well? or is an
&gt; implicit contract of "if it's not submitted, dont change it" okay? The
&gt; latter is certainly easier to build HTML forms for.
&gt;
&gt; Anyone?
&gt;
&gt;   --pj
&gt;
&gt;
&gt;
&gt; Yahoo! Groups Sponsor
&gt; ADVERTISEMENT
&gt; click here
&gt; [rand=825757599]
&gt;
&gt; _______________________________________________________________________________________________
&gt; Yahoo! Groups Links
&gt;  *  To visit your group on the web, go to:
&gt;     http://groups.yahoo.com/group/rest-discuss/
&gt;
&gt;  *  To unsubscribe from this group, send an email to:
&gt;     rest-discuss-unsubscribe@yahoogroups.com
&gt;
&gt;  *  Your use of Yahoo! Groups is subject to the Yahoo! Terms of Service.
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4339<br>
Sender:Jeff Bone &lt;jbone@...&gt;<br>
Post Date/Time:2004-05-18 21:05:25<br>
Subject:Re: [rest-discuss] representational completeness<br>
Message:<br><br>
<pre>
More detail.  This is me getting dogmatic on the basis of some 
conversation I remember having w/ The Powers ;-) a while back.

Assume I've got a USER abstraction that is characterized as having the 
following component data:

	id	(ranges over usernames like joebob)
	firstName  (a string)
	lastName (a string)
	ssn (an SSN)
	phoneNum (a phone number)

and I'm modeling

	/Users	(abstraction of all the users known to the system)

and

	/Users/&lt;user&gt;	(where user is a known id;  this is an abstraction of a 
given user)

Let's say that /Users/&lt;user&gt; excepts POST of form variables:

	id	(ranges over usernames like joebob)
	firstName  (a string)
	lastName (a string)
	ssn (an SSN)
	phoneNum (a phone number)

or, looking at it from a psuedo-XML perspective:

	&lt;User ...&gt;
		&lt;id&gt;...&lt;/id&gt;
		&lt;firstName&gt;...&lt;/firstName&gt;
		&lt;lastName&gt;...&lt;/lastName&gt;
		&lt;ssn&gt;...&lt;/ssn&gt;
		&lt;phoneNum&gt;...&lt;/phoneNum&gt;
	&lt;/User&gt;

The question is as follows:  is it reasonable to consider a *partial* 
representation of a thing such as a User above to *be* a representation 
of a User?  What are the semantics of the missing elements?

My argument --- cribbing earlier arguments with wiser folks than myself 
--- is that if partial representations are excepted, e.g. if 
/Users/joebob can take a form just containing elements id and ssn, that 
you're in effect not doing literal REpresentational State Transfer --- 
rather you're selectively invoking one of a set of polymorphic methods 
named POST where the size of the set is determined by the total number 
of permutations of required and optional elements, with dispatch being 
done by hand over that space.  Worse, some permutations may be legal 
and unamiguous, while other may be illegal, while others may be legal 
but ambiguous.  Ugh.  In doing this, you've in effect undermined the 
compositional complexity benefit (the O(n) vs. O(n^2) argument) of 
RESTlike systems.  Not to mention made the dispatcher / validator's job 
combinatorially harder.

If, as Lucas says, representational completeness is only for PUT, then 
we've again relegated POST to being a tunnel for arbitrary methods --- 
we're just doing the dispatch on value rather than on some discrete 
selector like method name.  Seems to me, anyway.

NB, aside:  yes, dispatch on content type of PUT or POSTed 
representations also muddies the water.  But better that, IMHO, than 
willy-nilly combinatorial compositional complexity.

jb


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4340<br>
Sender:John Belmonte &lt;john@...&gt;<br>
Post Date/Time:2004-05-19 00:53:40<br>
Subject:Re: [rest-discuss] representational completeness<br>
Message:<br><br>
<pre>Jeff Bone wrote:
&gt; Let's say that /Users/&lt;user&gt; excepts POST of form variables:
&gt; 
&gt; 	id	(ranges over usernames like joebob)
&gt; 	firstName  (a string)
&gt; 	lastName (a string)
&gt; 	ssn (an SSN)
&gt; 	phoneNum (a phone number)
&gt; 
&gt; or, looking at it from a psuedo-XML perspective:
&gt; 
&gt; 	&lt;User ...&gt;
&gt; 		&lt;id&gt;...&lt;/id&gt;
&gt; 		&lt;firstName&gt;...&lt;/firstName&gt;
&gt; 		&lt;lastName&gt;...&lt;/lastName&gt;
&gt; 		&lt;ssn&gt;...&lt;/ssn&gt;
&gt; 		&lt;phoneNum&gt;...&lt;/phoneNum&gt;
&gt; 	&lt;/User&gt;
&gt; 
&gt; The question is as follows:  is it reasonable to consider a *partial* 
&gt; representation of a thing such as a User above to *be* a representation 
&gt; of a User?  What are the semantics of the missing elements?
&gt; 
&gt; My argument --- cribbing earlier arguments with wiser folks than myself 
&gt; --- is that if partial representations are excepted, e.g. if 
&gt; /Users/joebob can take a form just containing elements id and ssn, that 
&gt; you're in effect not doing literal REpresentational State Transfer --- 
&gt; rather you're selectively invoking one of a set of polymorphic methods 
&gt; named POST where the size of the set is determined by the total number 
&gt; of permutations of required and optional elements, with dispatch being 
&gt; done by hand over that space.  Worse, some permutations may be legal 
&gt; and unamiguous, while other may be illegal, while others may be legal 
&gt; but ambiguous.  Ugh.  In doing this, you've in effect undermined the 
&gt; compositional complexity benefit (the O(n) vs. O(n^2) argument) of 
&gt; RESTlike systems.  Not to mention made the dispatcher / validator's job 
&gt; combinatorially harder.

As you suggest, the same issue comes up with XML schemas.  Presumably, 
the first thing that the server does with POST'ed XML is run it through 
a validator, so that you can keep manual validation coding to a minimum. 
  However, if the schema allows missing or blank elements in order to 
support these partial updates, a large chunk of the benefit of 
validation goes out the window.

I think the thing to do is choose a limited set of the most common 
updates that are logical and legal for your application.  Represent 
those updates with unique XML records that have their own schema.  For 
example, to update the user's name:

POST /Users/&lt;user&gt; HTTP/1.1

&lt;UserNameUpdate&gt;
     &lt;firstName&gt;...&lt;/firstName&gt;
     &lt;lastName&gt;...&lt;/lastName&gt;
&lt;/UserNameUpdate&gt;


I don't think this is the best example, but I'm working from what you 
gave me.  In reality the user record would be more complex, and you'd 
probably group all the contact information into a single update.  In 
other words, updates wouldn't be at such a fine grain.

-John


-- 
http:// ift ile.org/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4341<br>
Sender:"Walden Mathews" &lt;walden@...&gt;<br>
Post Date/Time:2004-05-19 01:12:04<br>
Subject:Re: [rest-discuss] representational completeness<br>
Message:<br><br>
<pre>Fellas,

Where does it say in REST that the POSTed content must be
a representation of the resource to which it is POSTed?

Can't I POST a &lt;dish&gt; to your /dishwasher?  Or am I all
wet?

&lt;insert soap joke here&gt;

Walden

----- Original Message ----- 
From: "John Belmonte" &lt;john@...&gt;
To: "rest-discuss" &lt;rest-discuss@yahoogroups.com&gt;
Sent: Tuesday, May 18, 2004 8:53 PM
Subject: Re: [rest-discuss] representational completeness


: Jeff Bone wrote:
: &gt; Let's say that /Users/&lt;user&gt; excepts POST of form variables:
: &gt;
: &gt; id (ranges over usernames like joebob)
: &gt; firstName  (a string)
: &gt; lastName (a string)
: &gt; ssn (an SSN)
: &gt; phoneNum (a phone number)
: &gt;
: &gt; or, looking at it from a psuedo-XML perspective:
: &gt;
: &gt; &lt;User ...&gt;
: &gt; &lt;id&gt;...&lt;/id&gt;
: &gt; &lt;firstName&gt;...&lt;/firstName&gt;
: &gt; &lt;lastName&gt;...&lt;/lastName&gt;
: &gt; &lt;ssn&gt;...&lt;/ssn&gt;
: &gt; &lt;phoneNum&gt;...&lt;/phoneNum&gt;
: &gt; &lt;/User&gt;
: &gt;
: &gt; The question is as follows:  is it reasonable to consider a *partial*
: &gt; representation of a thing such as a User above to *be* a representation
: &gt; of a User?  What are the semantics of the missing elements?
: &gt;
: &gt; My argument --- cribbing earlier arguments with wiser folks than myself
: &gt; --- is that if partial representations are excepted, e.g. if
: &gt; /Users/joebob can take a form just containing elements id and ssn, that
: &gt; you're in effect not doing literal REpresentational State Transfer --- 
: &gt; rather you're selectively invoking one of a set of polymorphic methods
: &gt; named POST where the size of the set is determined by the total number
: &gt; of permutations of required and optional elements, with dispatch being
: &gt; done by hand over that space.  Worse, some permutations may be legal
: &gt; and unamiguous, while other may be illegal, while others may be legal
: &gt; but ambiguous.  Ugh.  In doing this, you've in effect undermined the
: &gt; compositional complexity benefit (the O(n) vs. O(n^2) argument) of
: &gt; RESTlike systems.  Not to mention made the dispatcher / validator's job
: &gt; combinatorially harder.
:
: As you suggest, the same issue comes up with XML schemas.  Presumably,
: the first thing that the server does with POST'ed XML is run it through
: a validator, so that you can keep manual validation coding to a minimum.
:   However, if the schema allows missing or blank elements in order to
: support these partial updates, a large chunk of the benefit of
: validation goes out the window.
:
: I think the thing to do is choose a limited set of the most common
: updates that are logical and legal for your application.  Represent
: those updates with unique XML records that have their own schema.  For
: example, to update the user's name:
:
: POST /Users/&lt;user&gt; HTTP/1.1
:
: &lt;UserNameUpdate&gt;
:      &lt;firstName&gt;...&lt;/firstName&gt;
:      &lt;lastName&gt;...&lt;/lastName&gt;
: &lt;/UserNameUpdate&gt;
:
:
: I don't think this is the best example, but I'm working from what you
: gave me.  In reality the user record would be more complex, and you'd
: probably group all the contact information into a single update.  In
: other words, updates wouldn't be at such a fine grain.
:
: -John
:
:
: -- 
: http:// ift ile.org/
:
:
:
:
: Yahoo! Groups Links
:
:
:
:
:
:
:
: __________ NOD32 1.767 (20040518) Information __________
:
: This message was checked by NOD32 antivirus system.
: http://www.nod32.com
:
:


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4342<br>
Sender:Lucas Gonze &lt;lgonze@...&gt;<br>
Post Date/Time:2004-05-19 01:16:15<br>
Subject:Re: [rest-discuss] representational completeness<br>
Message:<br><br>
<pre>
I have been working on this exact issue today, designing the API for
webjay.  You can see my draft design at webjay.org/help/api.  Briefly, I
have two interfaces:

* Any post to a container resource is complete.  All potential settings
that you might write to are required arguments.

* If you want to set just one element, e.g. the title of an item, you POST
to a URI that addresses just that element.  (This isn't in the API doc
just yet.)

Simple and clean, no messing around with half-complete representations.

- Lucas Gonze

On Tue, 18 May 2004, Jeff Bone wrote:

&gt;
&gt; More detail.  This is me getting dogmatic on the basis of some
&gt; conversation I remember having w/ The Powers ;-) a while back.
&gt;
&gt; Assume I've got a USER abstraction that is characterized as having the
&gt; following component data:
&gt;
&gt;       id      (ranges over usernames like joebob)
&gt;       firstName  (a string)
&gt;       lastName (a string)
&gt;       ssn (an SSN)
&gt;       phoneNum (a phone number)
&gt;
&gt; and I'm modeling
&gt;
&gt;       /Users      (abstraction of all the users known to the system)
&gt;
&gt; and
&gt;
&gt;       /Users/&lt;user&gt;      (where user is a known id;  this is an abstraction of a
&gt; given user)
&gt;
&gt; Let's say that /Users/&lt;user&gt; excepts POST of form variables:
&gt;
&gt;       id      (ranges over usernames like joebob)
&gt;       firstName  (a string)
&gt;       lastName (a string)
&gt;       ssn (an SSN)
&gt;       phoneNum (a phone number)
&gt;
&gt; or, looking at it from a psuedo-XML perspective:
&gt;
&gt;       &lt;User ...&gt;
&gt;             &lt;id&gt;...&lt;/id&gt;
&gt;             &lt;firstName&gt;...&lt;/firstName&gt;
&gt;             &lt;lastName&gt;...&lt;/lastName&gt;
&gt;             &lt;ssn&gt;...&lt;/ssn&gt;
&gt;             &lt;phoneNum&gt;...&lt;/phoneNum&gt;
&gt;       &lt;/User&gt;
&gt;
&gt; The question is as follows:  is it reasonable to consider a *partial*
&gt; representation of a thing such as a User above to *be* a representation
&gt; of a User?  What are the semantics of the missing elements?
&gt;
&gt; My argument --- cribbing earlier arguments with wiser folks than myself
&gt; --- is that if partial representations are excepted, e.g. if
&gt; /Users/joebob can take a form just containing elements id and ssn, that
&gt; you're in effect not doing literal REpresentational State Transfer ---
&gt; rather you're selectively invoking one of a set of polymorphic methods
&gt; named POST where the size of the set is determined by the total number
&gt; of permutations of required and optional elements, with dispatch being
&gt; done by hand over that space.  Worse, some permutations may be legal
&gt; and unamiguous, while other may be illegal, while others may be legal
&gt; but ambiguous.  Ugh.  In doing this, you've in effect undermined the
&gt; compositional complexity benefit (the O(n) vs. O(n^2) argument) of
&gt; RESTlike systems.  Not to mention made the dispatcher / validator's job
&gt; combinatorially harder.
&gt;
&gt; If, as Lucas says, representational completeness is only for PUT, then
&gt; we've again relegated POST to being a tunnel for arbitrary methods ---
&gt; we're just doing the dispatch on value rather than on some discrete
&gt; selector like method name.  Seems to me, anyway.
&gt;
&gt; NB, aside:  yes, dispatch on content type of PUT or POSTed
&gt; representations also muddies the water.  But better that, IMHO, than
&gt; willy-nilly combinatorial compositional complexity.
&gt;
&gt; jb
&gt;
&gt;
&gt; Yahoo! Groups Sponsor
&gt; ADVERTISEMENT
&gt; click here
&gt; [rand=291904572]
&gt;
&gt; _______________________________________________________________________________________________
&gt; Yahoo! Groups Links
&gt;  *  To visit your group on the web, go to:
&gt;     http://groups.yahoo.com/group/rest-discuss/
&gt;
&gt;  *  To unsubscribe from this group, send an email to:
&gt;     rest-discuss-unsubscribe@yahoogroups.com
&gt;
&gt;  *  Your use of Yahoo! Groups is subject to the Yahoo! Terms of Service.
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4343<br>
Sender:John Belmonte &lt;john@...&gt;<br>
Post Date/Time:2004-05-19 01:18:42<br>
Subject:Re: [rest-discuss] representational completeness<br>
Message:<br><br>
<pre>Walden Mathews wrote:
&gt; Fellas,
&gt; 
&gt; Where does it say in REST that the POSTed content must be
&gt; a representation of the resource to which it is POSTed?
&gt; 
&gt; Can't I POST a &lt;dish&gt; to your /dishwasher?  Or am I all
&gt; wet?

I'm not following you.  My example showed posting a UserNameUpdate to a 
user resource, and a user name update is not a user, so I clearly don't 
subscribe to any such thinking.

-John


-- 
http:// ift ile.org/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4344<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2004-05-19 01:23:52<br>
Subject:Re: [rest-discuss] representational completeness<br>
Message:<br><br>
<pre>On Tue, May 18, 2004 at 03:48:22PM -0500, Paul Jimenez wrote:
&gt; 
&gt; Should resources require a complete representation be submitted via
&gt; POST? For instance, if there's a resource /Users/joebob, to change his
&gt; address when he's also got a ssn and a phone number, should the resource
&gt; require a submission of the ssn and phone number as well? or is an
&gt; implicit contract of "if it's not submitted, dont change it" okay? The
&gt; latter is certainly easier to build HTML forms for.
&gt; 
&gt; Anyone?

It sounds like you want to be using PUT, but are instead using POST.
I agree with Jeff's analysis; what you're doing is basically no
better than RPC, and arguably worse since the desired semantics,
normally indicated by an RPC method name, are not indicated in the
message anyplace (which, FWIW, seems to be the big selling point of
the "new" Web services document-oriented style).

What you'd ideally want, it appears, would be a PUT body which could
contain a differential encoding relative to some etag; something like
RFC 3229 for PUT (grep the RFC for PUT, in fact).

Mark.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4345<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2004-05-19 15:41:05<br>
Subject:Re: [rest-discuss] representational completeness<br>
Message:<br><br>
<pre>My interpretation is that POST is intended to 'extend' the identified
resource - either creating new ones or modifying (add/subtract) from the
existing one. I consider the content of the POST to be a 'partial update' of
the resource, rather than a 'full update' as in a PUT request.


----- Original Message ----- 
From: "Paul Jimenez" &lt;pj@...&gt;
To: &lt;rest-discuss@yahoogroups.com&gt;
Sent: Tuesday, May 18, 2004 1:48 PM
Subject: [rest-discuss] representational completeness


&gt;
&gt; Should resources require a complete representation be submitted via
&gt; POST? For instance, if there's a resource /Users/joebob, to change his
&gt; address when he's also got a ssn and a phone number, should the resource
&gt; require a submission of the ssn and phone number as well? or is an
&gt; implicit contract of "if it's not submitted, dont change it" okay? The
&gt; latter is certainly easier to build HTML forms for.
&gt;
&gt; Anyone?
&gt;
&gt;   --pj
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4346<br>
Sender:Jeff Bone &lt;jbone@...&gt;<br>
Post Date/Time:2004-05-19 15:52:16<br>
Subject:Re: [rest-discuss] representational completeness<br>
Message:<br><br>
<pre>
On May 19, 2004, at 10:41 AM, S. Mike Dierken wrote:

&gt; My interpretation is that POST is intended to 'extend' the identified
&gt; resource - either creating new ones or modifying (add/subtract) from 
&gt; the
&gt; existing one. I consider the content of the POST to be a 'partial 
&gt; update' of
&gt; the resource, rather than a 'full update' as in a PUT request.

Sure, but that's orthogonal to the question;  even in the case of a 
partial update, should you send a full representation or a partial one?

jb


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4347<br>
Sender:Jeff Bone &lt;jbone@...&gt;<br>
Post Date/Time:2004-05-19 17:58:03<br>
Subject:Re: [rest-discuss] representational completeness<br>
Message:<br><br>
<pre>
Mike, hope you don't mind me redirecting this to the list...

On May 19, 2004, at 11:51 AM, S. Mike Dierken wrote:

&gt; I thought he asked if it was required...

I think it's less of a question of "required" than "prudent."

To try to clarify:  let's say I've got a resource that represents an 
object with three "properties":  foo, bar, and baz that hold integers.  
When I do a GET on that resource, it gives me an XML representation 
with elements foo, bar, and baz, e.g.

&lt;something id=456&gt;
    &lt;foo&gt;1&lt;/foo&gt;
    &lt;bar&gt;2&lt;/bar&gt;
    &lt;baz&gt;3&lt;/baz&gt;
&lt;/something&gt;

When I implement the POST handler for that resource, should I allow 
people to update "somethings" by providing a partial representation?  
That is, say I've got a something with id=456.  A client gets a 
representation as above by doing

GET /Something/456

The client then wants to change the value of that something's foo.  
Should the implementer of the post handler (and definer of the 
representation format, XML or otherwise --- could just be form 
variables) allow the client to say:

POST /Something/456

&lt;something id=456&gt;
    &lt;foo&gt;5&lt;/foo&gt;
&lt;/something&gt;

or is it better to require a complete representation:

&lt;something id=456&gt;
    &lt;foo&gt;5&lt;/foo&gt;
    &lt;bar&gt;2&lt;/bar&gt;
    &lt;baz&gt;3&lt;/baz&gt;
&lt;/something&gt;

Note that the requirement is really one imposed by the implementer of 
the post handler, not something inherent in REST or HTTP --- perhaps 
obviously.  But perhaps less obviously --- and this is my contention 
--- allowing for partial representations on a POST actually *does* 
undermine some of the benefits of REST from a compositional complexity 
and integration perspective.  Namely, the opportunity space for 
impedance mismatches, errors, and mistakes between the provider of the 
POST interface and the client go up combinatorically in the number of 
permutations of elements in the representation that are allowable as 
partial representations;  as well, the specification problem is much 
larger and the code on both ends of the wire is both necessarily more 
complex and more fragile.

The further, perhaps more controversial claim I'm making is that 
allowing partial representations is in fact PRECISELY equivalent to 
allowing arbitrary RPC methods with type-specific signatures.  In fact, 
if we allow partial representations in the above case all we've done is 
the following, forgive the notation, you get my point:  instead of 
having e.g. several methods:

	setFoo(foo),
	setBar(bar)
	setBaz(baz)
	setFooBar(foo, bar)
	setFooBaz(foo, baz)
	setBarBaz(bar, baz)
	setFooBarBaz(foo, bar, baz)

...we've essentially created the same number of methods --- they're 
just polymorphic, all called POST, and use a hand-crafted dispatcher.

	POST(foo),
	POST(bar)
	POST(baz)
	POST(foo, bar)
	POST(foo, baz)
	POST(bar, baz)
	POST(foo, bar, baz)

Things get even uglier even faster when we've got repeated elements or 
subelements.  Assume

GET /Something/456

gives you

&lt;something id=456&gt;
    &lt;foos&gt;
       &lt;foo&gt;12&lt;/foo&gt;
       &lt;foo&gt;21&lt;/foo&gt;
       &lt;foo&gt;76&lt;/foo&gt;
    &lt;/foos&gt;
    &lt;bar&gt;2&lt;/bar&gt;
    &lt;baz&gt;3&lt;/baz&gt;
&lt;/something&gt;

Now assuming I allow partial representations;  you try to post the 
following:

POST /Something/456

&lt;something id=456&gt;
    &lt;foos&gt;
       &lt;foo&gt;37&lt;/foo&gt;
    &lt;/foos&gt;
&lt;/something&gt;

WTF does THAT mean?  This feels very API / RPC to me.  One might be 
tempted to say that means "add another &lt;foo/&gt; to &lt;foos/&gt; with a value 
of 37", so that a subsequent get returns:

&lt;something id=456&gt;
    &lt;foos&gt;
       &lt;foo&gt;12&lt;/foo&gt;
       &lt;foo&gt;21&lt;/foo&gt;
       &lt;foo&gt;76&lt;/foo&gt;
       &lt;foo&gt;37&lt;/foo&gt;
    &lt;/foos&gt;
    &lt;bar&gt;2&lt;/bar&gt;
    &lt;baz&gt;3&lt;/baz&gt;
&lt;/something&gt;

But notice:  we've now taken something that was entirely explicit in 
the representation and made it totally obscure, implicit, and dependent 
on the implementation of the post handler.  You might equally well 
expect the above post followed by a get to return either of the 
following:

&lt;something id=456&gt;
    &lt;foos&gt;
       &lt;foo&gt;37&lt;/foo&gt;
    &lt;/foos&gt;
    &lt;bar&gt;2&lt;/bar&gt;
    &lt;baz&gt;3&lt;/baz&gt;
&lt;/something&gt;

or

&lt;something id=456&gt;
    &lt;foos&gt;
       &lt;foo&gt;37&lt;/foo&gt;
    &lt;/foos&gt;
&lt;/something&gt;

Things get STILL WORSE when there is semantic meaning in the ordering 
of the subelements.  As an example, let's say:

GET /Something/456

gives you

&lt;something id=456&gt;
    &lt;foos&gt;
       &lt;foo&gt;12&lt;/foo&gt;
       &lt;foo&gt;21&lt;/foo&gt;
       &lt;foo&gt;76&lt;/foo&gt;
    &lt;/foos&gt;
    &lt;bar&gt;2&lt;/bar&gt;
    &lt;baz&gt;3&lt;/baz&gt;
&lt;/something&gt;

You now post

&lt;something id=456&gt;
    &lt;foos&gt;
       &lt;foo&gt;76&lt;/foo&gt;
       &lt;foo&gt;12&lt;/foo&gt;
       &lt;foo&gt;21&lt;/foo&gt;
    &lt;/foos&gt;
    &lt;bar&gt;2&lt;/bar&gt;
    &lt;baz&gt;3&lt;/baz&gt;
&lt;/something&gt;

You would probably expect the subsequent

GET /Something/456

to give you

&lt;something id=456&gt;
    &lt;foos&gt;
       &lt;foo&gt;76&lt;/foo&gt;
       &lt;foo&gt;12&lt;/foo&gt;
       &lt;foo&gt;21&lt;/foo&gt;
    &lt;/foos&gt;
    &lt;bar&gt;2&lt;/bar&gt;
    &lt;baz&gt;3&lt;/baz&gt;
&lt;/something&gt;

rather than

&lt;something id=456&gt;
    &lt;foos&gt;
       &lt;foo&gt;12&lt;/foo&gt;
       &lt;foo&gt;21&lt;/foo&gt;
       &lt;foo&gt;76&lt;/foo&gt;
    &lt;/foos&gt;
    &lt;bar&gt;2&lt;/bar&gt;
    &lt;baz&gt;3&lt;/baz&gt;
&lt;/something&gt;

--- but, with partial representations, does

GET /Something/456

&lt;something id=456&gt;
    &lt;foos&gt;
       &lt;foo&gt;12&lt;/foo&gt;
       &lt;foo&gt;21&lt;/foo&gt;
       &lt;foo&gt;76&lt;/foo&gt;
    &lt;/foos&gt;
    &lt;bar&gt;2&lt;/bar&gt;
    &lt;baz&gt;3&lt;/baz&gt;
&lt;/something&gt;

followed by

POST /Something/456

&lt;something id=456&gt;
    &lt;foos&gt;
       &lt;foo&gt;37&lt;/foo&gt;
    &lt;/foos&gt;
&lt;/something&gt;

followed by

GET /Something/456

give you

&lt;something id=456&gt;
    &lt;foos&gt;
       &lt;foo&gt;12&lt;/foo&gt;
       &lt;foo&gt;21&lt;/foo&gt;
       &lt;foo&gt;76&lt;/foo&gt;
       &lt;foo&gt;37&lt;/foo&gt;
    &lt;/foos&gt;
    &lt;bar&gt;2&lt;/bar&gt;
    &lt;baz&gt;3&lt;/baz&gt;
&lt;/something&gt;

or

&lt;something id=456&gt;
    &lt;foos&gt;
       &lt;foo&gt;37&lt;/foo&gt;
       &lt;foo&gt;12&lt;/foo&gt;
       &lt;foo&gt;21&lt;/foo&gt;
       &lt;foo&gt;76&lt;/foo&gt;
    &lt;/foos&gt;
    &lt;bar&gt;2&lt;/bar&gt;
    &lt;baz&gt;3&lt;/baz&gt;
&lt;/something&gt;

or even something else?

In order to disambiguate all this, the representation format will have 
to be extended further to allow the poster to specify where in the foo 
order things go.  ICK.  We're now merrily bobsledding down a slippery 
slope of increasing complexity and ambiguity that directly impact the 
compositional benefits of REST, easily avoided by avoiding partial 
representations entirely.

IMHO, while it's a bit outside REST per se, the operative / stylistic 
principle should be to insist on representational completeness in all 
cases where practical (and that's essentially everywhere) for both POST 
and PUT.  Notwithstanding that, delta encodings are useful particularly 
when hucking around large chunks of semi- or unstructured information.  
But delta encodings are usually treated in a much more opaque fashion 
than what we're talking about here, and handled with conneg dispatch.

Aside:  back before Mark, Roy and company forced a REST gestalt on me, 
I used to claim that the only necessary method was e.g. POST (or 
INVOKE, whatever.)  Clearly I've done a 180 on that;  but now I wonder 
if there's really a RESTful benefit to having both PUT and POST...

jb


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4348<br>
Sender:Jeff Bone &lt;jbone@...&gt;<br>
Post Date/Time:2004-05-19 18:26:07<br>
Subject:Re: [rest-discuss] representational completeness<br>
Message:<br><br>
<pre>
&gt; ...but now I wonder if there's really a RESTful benefit to having both 
&gt; PUT and POST...

Quick clarification:  ...for "non-container" resources.

But - digression - what's a container resource?  One might argue that 
the above example with multiple &lt;foo&gt; subelements inside a &lt;foos/&gt; is 
in fact an example of a container, and that it would be better --- and 
avoid the ambiguity and complexity mentioned --- to simply reify the 
subelements are resources of their own:

/Something/456/foos/1
/Something/456/foos/2
/Something/456/foos/3

And yes, there's lots of merit in that argument.  And for "container" 
resources the semantic distinction between POST and PUT is a lot more 
clear than it is for "non-container" resources.

jb


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4349<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2004-05-19 18:35:43<br>
Subject:Re: [rest-discuss] representational completeness<br>
Message:<br><br>
<pre>Hey,

On Wed, May 19, 2004 at 12:58:03PM -0500, Jeff Bone wrote:
&gt; To try to clarify:  let's say I've got a resource that represents an 
&gt; object with three "properties":  foo, bar, and baz that hold integers.  
&gt; When I do a GET on that resource, it gives me an XML representation 
&gt; with elements foo, bar, and baz, e.g.
&gt; 
&gt; &lt;something id=456&gt;
&gt;     &lt;foo&gt;1&lt;/foo&gt;
&gt;     &lt;bar&gt;2&lt;/bar&gt;
&gt;     &lt;baz&gt;3&lt;/baz&gt;
&gt; &lt;/something&gt;
&gt; 
&gt; When I implement the POST handler for that resource, should I allow 
&gt; people to update "somethings" by providing a partial representation?  

If you do, then you're immediately not RESTful, as the effective
semantic is no longer uniform.  The POST semantic, by itself, provides
no visibility into the state of the resource post-invocation, and is
therefore unsuitable (at least strictly within the confines of REST's
constraints) for partial state updates.  If you want that visibility,
use PUT.

&gt; Aside:  back before Mark, Roy and company forced a REST gestalt on me, 
&gt; I used to claim that the only necessary method was e.g. POST (or 
&gt; INVOKE, whatever.)  Clearly I've done a 180 on that;  but now I wonder 
&gt; if there's really a RESTful benefit to having both PUT and POST...

Yes, there is.

Mark.
-- 
Mark Baker.   Ottawa, Ontario, CANADA.        http://www.markbaker.ca

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4350<br>
Sender:Chuck Hinson &lt;cmhinson@...&gt;<br>
Post Date/Time:2004-05-19 19:07:49<br>
Subject:Re: [rest-discuss] representational completeness<br>
Message:<br><br>
<pre>Mark Baker wrote:

. . .
&gt;&gt;When I implement the POST handler for that resource, should I allow 
&gt;&gt;people to update "somethings" by providing a partial representation?  
&gt; 
&gt; 
&gt; If you do, then you're immediately not RESTful, as the effective
&gt; semantic is no longer uniform.  The POST semantic, by itself, provides
&gt; no visibility into the state of the resource post-invocation, and is
&gt; therefore unsuitable (at least strictly within the confines of REST's
&gt; constraints) for partial state updates.  If you want that visibility,
&gt; use PUT.
&gt; 
. . .

I'm not sure I grok the distinctions you're making here.

You seem to start off by saying that a partial update via POST is 
non-RESTful, but then later you seeem to suggest that the 
post-invocation visibility might be optional depending on your needs 
(and thus POST might be OK).

Given that there are all kinds of resources with varying semantics, 
etc., I'm a little uncomfortable with blanket statements about the 
suitability of using POST for partial updates.  For instance, what about 
resources with read-only/unmodifiable components to their state.  It 
seems to me that PUT would be inappropriate for those resources, so how 
do I update them?    Or do you just not call that sort of thing a 
partial update?

--Chuck

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4351<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2004-05-19 23:14:14<br>
Subject:Re: [rest-discuss] representational completeness<br>
Message:<br><br>
<pre>&gt; * If you want to set just one element, e.g. the title of an item, you POST
&gt; to a URI that addresses just that element.  (This isn't in the API doc
&gt; just yet.)
Does this imply that a representation of that resource contain URI
references for all addressable sub-components?
Relative URI addressing would keep the size down &amp; make things more
'relocatable'. Anything else would imply the client constructs a URI out of
thin air and user documentation...


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4352<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2004-05-19 23:09:29<br>
Subject:Re: [rest-discuss] representational completeness<br>
Message:<br><br>
<pre>Interesting post (no pun intended).
Partial update .vs. full update is an interesting area. I agree that it can
easily get intricate and non-uniform across service providers. I believe
there are a small number of generally useful approaches to partial update
when restricted to the realm of XML representations. Specifically with
structured data that has a clear set of named region within the xml
document, the presence of that named element implies a full replacement of
all data with that name. The absence of a named data element implies no
change to that portion of the resource.


"Clearly I've done a 180 on that;  but now I wonder
if there's really a RESTful benefit to having both PUT and POST..."
I think the difference between the two have to do with addressing - a PUT
allows the client to determine the URI of new resources, a POST allows the
server to determine the URI of new resources.



----- Original Message ----- 
From: "Jeff Bone" &lt;jbone@...&gt;
To: "S. Mike Dierken" &lt;mdierken@...&gt;
Cc: "rest-discuss" &lt;rest-discuss@yahoogroups.com&gt;
Sent: Wednesday, May 19, 2004 10:58 AM
Subject: Re: [rest-discuss] representational completeness


&gt;
&gt; Mike, hope you don't mind me redirecting this to the list...
&gt;
&gt; On May 19, 2004, at 11:51 AM, S. Mike Dierken wrote:
&gt;
&gt; &gt; I thought he asked if it was required...
&gt;
&gt; I think it's less of a question of "required" than "prudent."
&gt;
&gt; To try to clarify:  let's say I've got a resource that represents an
&gt; object with three "properties":  foo, bar, and baz that hold integers.
&gt; When I do a GET on that resource, it gives me an XML representation
&gt; with elements foo, bar, and baz, e.g.
&gt;
&gt; &lt;something id=456&gt;
&gt;     &lt;foo&gt;1&lt;/foo&gt;
&gt;     &lt;bar&gt;2&lt;/bar&gt;
&gt;     &lt;baz&gt;3&lt;/baz&gt;
&gt; &lt;/something&gt;
&gt;
&gt; When I implement the POST handler for that resource, should I allow
&gt; people to update "somethings" by providing a partial representation?
&gt; That is, say I've got a something with id=456.  A client gets a
&gt; representation as above by doing
&gt;
&gt; GET /Something/456
&gt;
&gt; The client then wants to change the value of that something's foo.
&gt; Should the implementer of the post handler (and definer of the
&gt; representation format, XML or otherwise --- could just be form
&gt; variables) allow the client to say:
&gt;
&gt; POST /Something/456
&gt;
&gt; &lt;something id=456&gt;
&gt;     &lt;foo&gt;5&lt;/foo&gt;
&gt; &lt;/something&gt;
&gt;
&gt; or is it better to require a complete representation:
&gt;
&gt; &lt;something id=456&gt;
&gt;     &lt;foo&gt;5&lt;/foo&gt;
&gt;     &lt;bar&gt;2&lt;/bar&gt;
&gt;     &lt;baz&gt;3&lt;/baz&gt;
&gt; &lt;/something&gt;
&gt;
&gt; Note that the requirement is really one imposed by the implementer of
&gt; the post handler, not something inherent in REST or HTTP --- perhaps
&gt; obviously.  But perhaps less obviously --- and this is my contention
&gt; --- allowing for partial representations on a POST actually *does*
&gt; undermine some of the benefits of REST from a compositional complexity
&gt; and integration perspective.  Namely, the opportunity space for
&gt; impedance mismatches, errors, and mistakes between the provider of the
&gt; POST interface and the client go up combinatorically in the number of
&gt; permutations of elements in the representation that are allowable as
&gt; partial representations;  as well, the specification problem is much
&gt; larger and the code on both ends of the wire is both necessarily more
&gt; complex and more fragile.
&gt;
&gt; The further, perhaps more controversial claim I'm making is that
&gt; allowing partial representations is in fact PRECISELY equivalent to
&gt; allowing arbitrary RPC methods with type-specific signatures.  In fact,
&gt; if we allow partial representations in the above case all we've done is
&gt; the following, forgive the notation, you get my point:  instead of
&gt; having e.g. several methods:
&gt;
&gt; setFoo(foo),
&gt; setBar(bar)
&gt; setBaz(baz)
&gt; setFooBar(foo, bar)
&gt; setFooBaz(foo, baz)
&gt; setBarBaz(bar, baz)
&gt; setFooBarBaz(foo, bar, baz)
&gt;
&gt; ...we've essentially created the same number of methods --- they're
&gt; just polymorphic, all called POST, and use a hand-crafted dispatcher.
&gt;
&gt; POST(foo),
&gt; POST(bar)
&gt; POST(baz)
&gt; POST(foo, bar)
&gt; POST(foo, baz)
&gt; POST(bar, baz)
&gt; POST(foo, bar, baz)
&gt;
&gt; Things get even uglier even faster when we've got repeated elements or
&gt; subelements.  Assume
&gt;
&gt; GET /Something/456
&gt;
&gt; gives you
&gt;
&gt; &lt;something id=456&gt;
&gt;     &lt;foos&gt;
&gt;        &lt;foo&gt;12&lt;/foo&gt;
&gt;        &lt;foo&gt;21&lt;/foo&gt;
&gt;        &lt;foo&gt;76&lt;/foo&gt;
&gt;     &lt;/foos&gt;
&gt;     &lt;bar&gt;2&lt;/bar&gt;
&gt;     &lt;baz&gt;3&lt;/baz&gt;
&gt; &lt;/something&gt;
&gt;
&gt; Now assuming I allow partial representations;  you try to post the
&gt; following:
&gt;
&gt; POST /Something/456
&gt;
&gt; &lt;something id=456&gt;
&gt;     &lt;foos&gt;
&gt;        &lt;foo&gt;37&lt;/foo&gt;
&gt;     &lt;/foos&gt;
&gt; &lt;/something&gt;
&gt;
&gt; WTF does THAT mean?  This feels very API / RPC to me.  One might be
&gt; tempted to say that means "add another &lt;foo/&gt; to &lt;foos/&gt; with a value
&gt; of 37", so that a subsequent get returns:
&gt;
&gt; &lt;something id=456&gt;
&gt;     &lt;foos&gt;
&gt;        &lt;foo&gt;12&lt;/foo&gt;
&gt;        &lt;foo&gt;21&lt;/foo&gt;
&gt;        &lt;foo&gt;76&lt;/foo&gt;
&gt;        &lt;foo&gt;37&lt;/foo&gt;
&gt;     &lt;/foos&gt;
&gt;     &lt;bar&gt;2&lt;/bar&gt;
&gt;     &lt;baz&gt;3&lt;/baz&gt;
&gt; &lt;/something&gt;
&gt;
&gt; But notice:  we've now taken something that was entirely explicit in
&gt; the representation and made it totally obscure, implicit, and dependent
&gt; on the implementation of the post handler.  You might equally well
&gt; expect the above post followed by a get to return either of the
&gt; following:
&gt;
&gt; &lt;something id=456&gt;
&gt;     &lt;foos&gt;
&gt;        &lt;foo&gt;37&lt;/foo&gt;
&gt;     &lt;/foos&gt;
&gt;     &lt;bar&gt;2&lt;/bar&gt;
&gt;     &lt;baz&gt;3&lt;/baz&gt;
&gt; &lt;/something&gt;
&gt;
&gt; or
&gt;
&gt; &lt;something id=456&gt;
&gt;     &lt;foos&gt;
&gt;        &lt;foo&gt;37&lt;/foo&gt;
&gt;     &lt;/foos&gt;
&gt; &lt;/something&gt;
&gt;
&gt; Things get STILL WORSE when there is semantic meaning in the ordering
&gt; of the subelements.  As an example, let's say:
&gt;
&gt; GET /Something/456
&gt;
&gt; gives you
&gt;
&gt; &lt;something id=456&gt;
&gt;     &lt;foos&gt;
&gt;        &lt;foo&gt;12&lt;/foo&gt;
&gt;        &lt;foo&gt;21&lt;/foo&gt;
&gt;        &lt;foo&gt;76&lt;/foo&gt;
&gt;     &lt;/foos&gt;
&gt;     &lt;bar&gt;2&lt;/bar&gt;
&gt;     &lt;baz&gt;3&lt;/baz&gt;
&gt; &lt;/something&gt;
&gt;
&gt; You now post
&gt;
&gt; &lt;something id=456&gt;
&gt;     &lt;foos&gt;
&gt;        &lt;foo&gt;76&lt;/foo&gt;
&gt;        &lt;foo&gt;12&lt;/foo&gt;
&gt;        &lt;foo&gt;21&lt;/foo&gt;
&gt;     &lt;/foos&gt;
&gt;     &lt;bar&gt;2&lt;/bar&gt;
&gt;     &lt;baz&gt;3&lt;/baz&gt;
&gt; &lt;/something&gt;
&gt;
&gt; You would probably expect the subsequent
&gt;
&gt; GET /Something/456
&gt;
&gt; to give you
&gt;
&gt; &lt;something id=456&gt;
&gt;     &lt;foos&gt;
&gt;        &lt;foo&gt;76&lt;/foo&gt;
&gt;        &lt;foo&gt;12&lt;/foo&gt;
&gt;        &lt;foo&gt;21&lt;/foo&gt;
&gt;     &lt;/foos&gt;
&gt;     &lt;bar&gt;2&lt;/bar&gt;
&gt;     &lt;baz&gt;3&lt;/baz&gt;
&gt; &lt;/something&gt;
&gt;
&gt; rather than
&gt;
&gt; &lt;something id=456&gt;
&gt;     &lt;foos&gt;
&gt;        &lt;foo&gt;12&lt;/foo&gt;
&gt;        &lt;foo&gt;21&lt;/foo&gt;
&gt;        &lt;foo&gt;76&lt;/foo&gt;
&gt;     &lt;/foos&gt;
&gt;     &lt;bar&gt;2&lt;/bar&gt;
&gt;     &lt;baz&gt;3&lt;/baz&gt;
&gt; &lt;/something&gt;
&gt;
&gt; --- but, with partial representations, does
&gt;
&gt; GET /Something/456
&gt;
&gt; &lt;something id=456&gt;
&gt;     &lt;foos&gt;
&gt;        &lt;foo&gt;12&lt;/foo&gt;
&gt;        &lt;foo&gt;21&lt;/foo&gt;
&gt;        &lt;foo&gt;76&lt;/foo&gt;
&gt;     &lt;/foos&gt;
&gt;     &lt;bar&gt;2&lt;/bar&gt;
&gt;     &lt;baz&gt;3&lt;/baz&gt;
&gt; &lt;/something&gt;
&gt;
&gt; followed by
&gt;
&gt; POST /Something/456
&gt;
&gt; &lt;something id=456&gt;
&gt;     &lt;foos&gt;
&gt;        &lt;foo&gt;37&lt;/foo&gt;
&gt;     &lt;/foos&gt;
&gt; &lt;/something&gt;
&gt;
&gt; followed by
&gt;
&gt; GET /Something/456
&gt;
&gt; give you
&gt;
&gt; &lt;something id=456&gt;
&gt;     &lt;foos&gt;
&gt;        &lt;foo&gt;12&lt;/foo&gt;
&gt;        &lt;foo&gt;21&lt;/foo&gt;
&gt;        &lt;foo&gt;76&lt;/foo&gt;
&gt;        &lt;foo&gt;37&lt;/foo&gt;
&gt;     &lt;/foos&gt;
&gt;     &lt;bar&gt;2&lt;/bar&gt;
&gt;     &lt;baz&gt;3&lt;/baz&gt;
&gt; &lt;/something&gt;
&gt;
&gt; or
&gt;
&gt; &lt;something id=456&gt;
&gt;     &lt;foos&gt;
&gt;        &lt;foo&gt;37&lt;/foo&gt;
&gt;        &lt;foo&gt;12&lt;/foo&gt;
&gt;        &lt;foo&gt;21&lt;/foo&gt;
&gt;        &lt;foo&gt;76&lt;/foo&gt;
&gt;     &lt;/foos&gt;
&gt;     &lt;bar&gt;2&lt;/bar&gt;
&gt;     &lt;baz&gt;3&lt;/baz&gt;
&gt; &lt;/something&gt;
&gt;
&gt; or even something else?
&gt;
&gt; In order to disambiguate all this, the representation format will have
&gt; to be extended further to allow the poster to specify where in the foo
&gt; order things go.  ICK.  We're now merrily bobsledding down a slippery
&gt; slope of increasing complexity and ambiguity that directly impact the
&gt; compositional benefits of REST, easily avoided by avoiding partial
&gt; representations entirely.
&gt;
&gt; IMHO, while it's a bit outside REST per se, the operative / stylistic
&gt; principle should be to insist on representational completeness in all
&gt; cases where practical (and that's essentially everywhere) for both POST
&gt; and PUT.  Notwithstanding that, delta encodings are useful particularly
&gt; when hucking around large chunks of semi- or unstructured information.
&gt; But delta encodings are usually treated in a much more opaque fashion
&gt; than what we're talking about here, and handled with conneg dispatch.
&gt;
&gt; Aside:  back before Mark, Roy and company forced a REST gestalt on me,
&gt; I used to claim that the only necessary method was e.g. POST (or
&gt; INVOKE, whatever.)  Clearly I've done a 180 on that;  but now I wonder
&gt; if there's really a RESTful benefit to having both PUT and POST...
&gt;
&gt; jb
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4353<br>
Sender:Lucas Gonze &lt;lgonze@...&gt;<br>
Post Date/Time:2004-05-19 23:35:39<br>
Subject:Re: [rest-discuss] representational completeness<br>
Message:<br><br>
<pre>

On Wed, 19 May 2004, S. Mike Dierken wrote:

&gt; &gt; * If you want to set just one element, e.g. the title of an item, you POST
&gt; &gt; to a URI that addresses just that element.  (This isn't in the API doc
&gt; &gt; just yet.)

&gt; Does this imply that a representation of that resource contain URI
&gt; references for all addressable sub-components?
&gt; Relative URI addressing would keep the size down &amp; make things more
&gt; 'relocatable'. Anything else would imply the client constructs a URI out of
&gt; thin air and user documentation...

Speaking on a purely practical level, that's the approach I'm taking with
this API and it did bring complexity way down.

(Actually, there's one item where this approach is not realistic, and it's
by far the hairiest piece of code).


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4354<br>
Sender:Lucas Gonze &lt;lgonze@...&gt;<br>
Post Date/Time:2004-05-20 00:00:27<br>
Subject:Re: [rest-discuss] representational completeness<br>
Message:<br><br>
<pre>
Actually, given that I'm in the thick of implementing exactly what we're
talking about, I should say a bit more --

Complexity never goes away.  Through cleverness and experience you can
keep it to a minimum, but sometimes it's just a fact.  Requiring
representational completeness has no impact when it comes down to state
which goes through a complicated transition despite a clean interface.

It's not possible to avoid those sitatuations.  Giving every tiny
addressable sub-component a URI would result in a map of the world the
size of the world.  That's too fine grained a type of interaction.

- Lucas

On Wed, 19 May 2004, Lucas Gonze wrote:

&gt;
&gt;
&gt; On Wed, 19 May 2004, S. Mike Dierken wrote:
&gt;
&gt; &gt; &gt; * If you want to set just one element, e.g. the title of an item, you POST
&gt; &gt; &gt; to a URI that addresses just that element.  (This isn't in the API doc
&gt; &gt; &gt; just yet.)
&gt;
&gt; &gt; Does this imply that a representation of that resource contain URI
&gt; &gt; references for all addressable sub-components?
&gt; &gt; Relative URI addressing would keep the size down &amp; make things more
&gt; &gt; 'relocatable'. Anything else would imply the client constructs a URI out of
&gt; &gt; thin air and user documentation...
&gt;
&gt; Speaking on a purely practical level, that's the approach I'm taking with
&gt; this API and it did bring complexity way down.
&gt;
&gt; (Actually, there's one item where this approach is not realistic, and it's
&gt; by far the hairiest piece of code).
&gt;
&gt;
&gt; Yahoo! Groups Sponsor
&gt; ADVERTISEMENT
&gt; click here
&gt; [rand=706424623]
&gt;
&gt; _______________________________________________________________________________________________
&gt; Yahoo! Groups Links
&gt;  *  To visit your group on the web, go to:
&gt;     http://groups.yahoo.com/group/rest-discuss/
&gt;
&gt;  *  To unsubscribe from this group, send an email to:
&gt;     rest-discuss-unsubscribe@yahoogroups.com
&gt;
&gt;  *  Your use of Yahoo! Groups is subject to the Yahoo! Terms of Service.
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4355<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2004-05-20 19:08:27<br>
Subject:Re: [rest-discuss] representational completeness<br>
Message:<br><br>
<pre>On Wed, May 19, 2004 at 03:07:49PM -0400, Chuck Hinson wrote:
&gt; Mark Baker wrote:
&gt; 
&gt; .. . .
&gt; &gt;&gt;When I implement the POST handler for that resource, should I allow 
&gt; &gt;&gt;people to update "somethings" by providing a partial representation?  
&gt; &gt;
&gt; &gt;
&gt; &gt;If you do, then you're immediately not RESTful, as the effective
&gt; &gt;semantic is no longer uniform.  The POST semantic, by itself, provides
&gt; &gt;no visibility into the state of the resource post-invocation, and is
&gt; &gt;therefore unsuitable (at least strictly within the confines of REST's
&gt; &gt;constraints) for partial state updates.  If you want that visibility,
&gt; &gt;use PUT.
&gt; &gt;
&gt; .. . .
&gt; 
&gt; I'm not sure I grok the distinctions you're making here.
&gt; 
&gt; You seem to start off by saying that a partial update via POST is 
&gt; non-RESTful,

Only if there's a shared expectation between the two parties that an
update is what's occuring.  If it happens anyway, without such an
expectation, then that's RESTful.

&gt; but then later you seeem to suggest that the 
&gt; post-invocation visibility might be optional depending on your needs 
&gt; (and thus POST might be OK).

What I meant is that if you *need* that visibility - aka if you need
the shared expectation I just spoke of - then you should use PUT.

&gt; Given that there are all kinds of resources with varying semantics, 
&gt; etc., I'm a little uncomfortable with blanket statements about the 
&gt; suitability of using POST for partial updates.  For instance, what about 
&gt; resources with read-only/unmodifiable components to their state.  It 
&gt; seems to me that PUT would be inappropriate for those resources, so how 
&gt; do I update them?    Or do you just not call that sort of thing a 
&gt; partial update?

PUT would still be appropriate.  I suppose what would be inappropriate
would be if the PUT request was specifying an invalid state of the
resource - i.e. changing one of those immutable things you mentioned -
in which case the server can always say "Bzzt!" via a 4xx response.

Mark.
-- 
Mark Baker.   Ottawa, Ontario, CANADA.        http://www.markbaker.ca

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4356<br>
Sender:"Walden Mathews" &lt;walden@...&gt;<br>
Post Date/Time:2004-05-20 20:01:53<br>
Subject:Re: [rest-discuss] representational completeness<br>
Message:<br><br>
<pre>Mark,

| &gt; &gt;If you do, then you're immediately not RESTful, as the effective
| &gt; &gt;semantic is no longer uniform.  The POST semantic, by itself, provides
| &gt; &gt;no visibility into the state of the resource post-invocation, and is
| &gt; &gt;therefore unsuitable (at least strictly within the confines of REST's
| &gt; &gt;constraints) for partial state updates.  If you want that visibility,
| &gt; &gt;use PUT.

I'd be happy to see you generalize the above statement to say that
the POST method is unsuitable for *explicit* state updates of any
kind, whether partial or otherwise.  POST is the HTTP 'implicit
invocation' verb; that's how I've come to see it.

Still, it's clearer to me that using POST for explicit state update is
more a departure from HTTP protocol than it is from REST architecture,
although I sense that a fragile argument can be constructed that
links the former back to the latter.  But I'm not sure it would end
up saying anything other than "tunnelling renders the connector parts
of an architecture moot", or something like that.  So it's not even
REST-specific.

Maybe you have a better way of explaining it.  

Walden


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4357<br>
Sender:=?iso-8859-1?q?Adam=20Ratcliffe?= &lt;adamratcliffe2004@...&gt;<br>
Post Date/Time:2004-05-21 02:38:11<br>
Subject:Implementing a Location Based Services application using REST<br>
Message:<br><br>
<pre>My company has a Location Based Services(LBS) solution
that we're interested in re-architecting to support
some different target platforms and support new
business initiatives.  I'm attracted to the simplicity
of the REST style and the lightweight requirements it
places upon its clients but am not certain that I've
fully grasped how to apply it to our particular
service.  One of the recommendations I'm having
difficulty visualizing is how I can eliminate client
session management.  In our application parameters for
a query may be dependent upon the results of a
previous query as in the case of generating routing
information.  I'm providing a brief description of
what our system does and some of the constraints
imposed upon it by our target platforms and would be
very interested on any comments, advice on how I might
go about re-implementing the system in a RESTful
style. 

The LBS solution is currently provided to mobile
phones.  The system provides maps, routing and
directions in response to user GET and POST requests. 
Map images embedded in the resultant documents are
cached on the server, other intermediate documents are
generated but not cached. The current system is
implemented through a number of ASP scripts that
provide search, list, and detail pages for map
locations.  Maps are generated dynamically for
co-ordinates or named locations by a 3rd party system
co-located on the same server and exposing an XML
RPC-style interface. 

In prototyping the current non-REST system we
discovered several limitations related to the phone
handsets: 

- Some handsets have a maximum URL length of 255
characters.  Passing session state in the URL along
with co-ordinate pairs frequently took us above this
limit.
- Cookie support cannot be guaranteed for the phone
browser precluding the use of native session-tracking
mechanisms on the server
- Variations in WML rendering require document
transformation to phone-specific WML if optimal
presentation is to be achieved

Thanks in advance,
Adam Ratcliffe


Find local movie times and trailers on Yahoo! Movies.
http://au.movies.yahoo.com


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4358<br>
Sender:Lucas Gonze &lt;lgonze@...&gt;<br>
Post Date/Time:2004-05-21 21:20:10<br>
Subject:error numbers<br>
Message:<br><br>
<pre>
I'm building a restful api, and am finding that the response error codes
are all specific to http aspects of the transaction.  There's no way to
signal errors at the application level.  In the end I'm using 500 most of
the time with an explanation of the error in the response body, but that's
not IMO informative.

What I'm looking for at this moment is a status code to say "bad values in
form arguments".

Thoughts?



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4359<br>
Sender:"Walden Mathews" &lt;walden@...&gt;<br>
Post Date/Time:2004-05-22 04:20:04<br>
Subject:Re: [rest-discuss] error numbers<br>
Message:<br><br>
<pre>Bad values in form arguments is client error: 4xx.

----- Original Message ----- 
From: "Lucas Gonze" &lt;lgonze@...&gt;
To: &lt;rest-discuss@yahoogroups.com&gt;
Sent: Friday, May 21, 2004 5:20 PM
Subject: [rest-discuss] error numbers


:
: I'm building a restful api, and am finding that the response error codes
: are all specific to http aspects of the transaction.  There's no way to
: signal errors at the application level.  In the end I'm using 500 most of
: the time with an explanation of the error in the response body, but that's
: not IMO informative.
:
: What I'm looking for at this moment is a status code to say "bad values in
: form arguments".
:
: Thoughts?
:
:
:
:
:
:
: Yahoo! Groups Links
:
:
:
:
:
:
:
: __________ NOD32 1.770 (20040521) Information __________
:
: This message was checked by NOD32 antivirus system.
: http://www.nod32.com
:
:


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4360<br>
Sender:Lucas Gonze &lt;lgonze@...&gt;<br>
Post Date/Time:2004-05-22 14:00:44<br>
Subject:Re: [rest-discuss] error numbers<br>
Message:<br><br>
<pre>
Well, see, that's exactly why I'm frustrated here -- 4xx is for client
errors, but there aren't any 4xx status codes that express that meaning.

On Sat, 22 May 2004, Walden Mathews wrote:

&gt; Bad values in form arguments is client error: 4xx.
&gt;
&gt; ----- Original Message -----
&gt; From: "Lucas Gonze" &lt;lgonze@...&gt;
&gt; To: &lt;rest-discuss@yahoogroups.com&gt;
&gt; Sent: Friday, May 21, 2004 5:20 PM
&gt; Subject: [rest-discuss] error numbers
&gt;
&gt;
&gt; :
&gt; : I'm building a restful api, and am finding that the response error codes
&gt; : are all specific to http aspects of the transaction.  There's no way to
&gt; : signal errors at the application level.  In the end I'm using 500 most of
&gt; : the time with an explanation of the error in the response body, but that's
&gt; : not IMO informative.
&gt; :
&gt; : What I'm looking for at this moment is a status code to say "bad values in
&gt; : form arguments".
&gt; :
&gt; : Thoughts?
&gt; :
&gt; :
&gt; :
&gt; :
&gt; :
&gt; :
&gt; : Yahoo! Groups Links
&gt; :
&gt; :
&gt; :
&gt; :
&gt; :
&gt; :
&gt; :
&gt; : __________ NOD32 1.770 (20040521) Information __________
&gt; :
&gt; : This message was checked by NOD32 antivirus system.
&gt; : http://www.nod32.com
&gt; :
&gt; :
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4361<br>
Sender:Lucas Gonze &lt;lgonze@...&gt;<br>
Post Date/Time:2004-05-22 14:36:36<br>
Subject:rest-discuss vs rest-implement<br>
Message:<br><br>
<pre>
As a general thing, this list is really about design principles, and
there's no place to share knowledge about the practical business of
applying them.

For example, when I was working on the URI scheme for Webjay I found that
there was no related documentation aside from the general theology that
one should not use verbs.  When I was working on user accounts and
available technology, the only related documentation was the general
theology that there is a difference between authentication and
customization.

As a community we should be past the point of establishing canon.  There
is a lot of work to be done in creating toolkits, sharing hacks, writing
how-tos, etc, but we're not doing it.

- Lucas

On Sat, 22 May 2004, Lucas Gonze wrote:

&gt;
&gt; Well, see, that's exactly why I'm frustrated here -- 4xx is for client
&gt; errors, but there aren't any 4xx status codes that express that meaning.
&gt;
&gt; On Sat, 22 May 2004, Walden Mathews wrote:
&gt;
&gt; &gt; Bad values in form arguments is client error: 4xx.
&gt; &gt;
&gt; &gt; ----- Original Message -----
&gt; &gt; From: "Lucas Gonze" &lt;lgonze@...&gt;
&gt; &gt; To: &lt;rest-discuss@yahoogroups.com&gt;
&gt; &gt; Sent: Friday, May 21, 2004 5:20 PM
&gt; &gt; Subject: [rest-discuss] error numbers
&gt; &gt;
&gt; &gt;
&gt; &gt; :
&gt; &gt; : I'm building a restful api, and am finding that the response error codes
&gt; &gt; : are all specific to http aspects of the transaction.  There's no way to
&gt; &gt; : signal errors at the application level.  In the end I'm using 500 most of
&gt; &gt; : the time with an explanation of the error in the response body, but that's
&gt; &gt; : not IMO informative.
&gt; &gt; :
&gt; &gt; : What I'm looking for at this moment is a status code to say "bad values in
&gt; &gt; : form arguments".
&gt; &gt; :
&gt; &gt; : Thoughts?
&gt; &gt; :
&gt; &gt; :
&gt; &gt; :
&gt; &gt; :
&gt; &gt; :
&gt; &gt; :
&gt; &gt; : Yahoo! Groups Links
&gt; &gt; :
&gt; &gt; :
&gt; &gt; :
&gt; &gt; :
&gt; &gt; :
&gt; &gt; :
&gt; &gt; :
&gt; &gt; : __________ NOD32 1.770 (20040521) Information __________
&gt; &gt; :
&gt; &gt; : This message was checked by NOD32 antivirus system.
&gt; &gt; : http://www.nod32.com
&gt; &gt; :
&gt; &gt; :
&gt; &gt;
&gt;
&gt; Yahoo! Groups Sponsor
&gt; ADVERTISEMENT
&gt; click here
&gt; [rand=533419256]
&gt;
&gt; _______________________________________________________________________________________________
&gt; Yahoo! Groups Links
&gt;  *  To visit your group on the web, go to:
&gt;     http://groups.yahoo.com/group/rest-discuss/
&gt;
&gt;  *  To unsubscribe from this group, send an email to:
&gt;     rest-discuss-unsubscribe@yahoogroups.com
&gt;
&gt;  *  Your use of Yahoo! Groups is subject to the Yahoo! Terms of Service.
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4362<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2004-05-22 15:02:53<br>
Subject:Re: [rest-discuss] rest-discuss vs rest-implement<br>
Message:<br><br>
<pre>Lucas Gonze wrote:
&gt; 
&gt; As a general thing, this list is really about design principles, and
&gt; there's no place to share knowledge about the practical business of
&gt; applying them.

Lucas--

are you proposing to extend the scope of this list or to create a new one?

I absolutely agree that practical issues that arise when implemeting RESTful
applications should really have a home[1] (assuming that rest-discuss is intended
to remain theoretical). 

Personally, I have quite some ideas and question that I would like to share or
just get quick comments on and that somehow seem to be inappropriate for
rest-discuss. That way these (uncooked) ideas do not make it into the
collaborative space they propably need for evolution.

What do others think?


[1] 'rest-dev'?

Jan

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4363<br>
Sender:"Jeffrey Winter" &lt;JeffreyWinter@...&gt;<br>
Post Date/Time:2004-05-22 15:04:49<br>
Subject:RE: [rest-discuss] representational completeness<br>
Message:<br><br>
<pre>I need to clarify a couple of things in my mind on this
issue of partial representations.  Please let me know if
I've gone astray....

1. Partial Representations

   a. Is the argument being forwarded that, in general, partial 
   representations should not be used in REST systems?

   Given that using sparse objects is a basic software
   technique, this seems like a awful lot to swallow.  Perhaps
   though there are benefits to accepting this principle - akin
   to accepting the use of XML as a common syntax; i.e.,
   the benefits of sticking with a common syntax/principle
   outweight the drawbacks in performance, etc.

   But the drawbacks need to be understood as there a quite a   
   few that come to mind:
    
     i. The size of the message.  In the real world a 
        representation are often large.

    ii. The impact on the persistance layer.  If every
        subelement is being sent on an "update" operation, 
        there's no easy way to determine which columns (for 
        example) need to be updated, so they all get 
        re-written everytime.

   iii. There's no easy way to audit what has changed in the 
        representation.

   b. If partial representations are to be used to update
   a resource, the "diffgram" should be sent using the PUT
   method.  

   It seems that the understanding of the uses of PUT have
   come a long way from the idea once proposed that PUT must
   maintain octet-for-octet fidelity.
  
   Or must the PUT be refined with some header, a la RFC3229?
   It seems to me that a new method would be in order instead
   of tacking a header onto the PUT.

2. Hierarchy

   a. If partial updates are not in general allowed, then objects
   high up on the hierarchy would virtually require their 
   subelements to be referenced and not directly included.

   Otherwise, an unacceptable amount of data may have to be 
   moved just to update a single attribute, etc.

   b. This has the impact of requiring multiple round-trips
   to pull back all the data, unless some alternate hierarchy
   is surfaced that allows, say read-only access to the complete
   tree.

Thanks

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4364<br>
Sender:Lucas Gonze &lt;lgonze@...&gt;<br>
Post Date/Time:2004-05-22 15:03:28<br>
Subject:Re: [rest-discuss] rest-discuss vs rest-implement<br>
Message:<br><br>
<pre>

On Sat, 22 May 2004, Jan Algermissen wrote:

&gt; Lucas Gonze wrote:
&gt; &gt;
&gt; &gt; As a general thing, this list is really about design principles, and
&gt; &gt; there's no place to share knowledge about the practical business of
&gt; &gt; applying them.
&gt;
&gt; Lucas--
&gt;
&gt; are you proposing to extend the scope of this list or to create a new one?

No idea.  I'd leave it to consensus.

-L
&gt;
&gt; I absolutely agree that practical issues that arise when implemeting RESTful
&gt; applications should really have a home[1] (assuming that rest-discuss is intended
&gt; to remain theoretical).
&gt;
&gt; Personally, I have quite some ideas and question that I would like to share or
&gt; just get quick comments on and that somehow seem to be inappropriate for
&gt; rest-discuss. That way these (uncooked) ideas do not make it into the
&gt; collaborative space they propably need for evolution.
&gt;
&gt; What do others think?
&gt;
&gt;
&gt; [1] 'rest-dev'?
&gt;
&gt; Jan
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4365<br>
Sender:"Jeffrey Winter" &lt;JeffreyWinter@...&gt;<br>
Post Date/Time:2004-05-22 15:43:11<br>
Subject:RE: [rest-discuss] rest-discuss vs rest-implement<br>
Message:<br><br>
<pre>
&gt;&gt; are you proposing to extend the scope of this list 
&gt;&gt; or to create a new one?
&gt;
&gt; No idea.  I'd leave it to consensus.

The notion of having practical vs. theoretical discussion
lists has been tried with rest-explore, but that seems to
have withered.  I think this list is the appropriate place
for those sorts of discussions.

I think the world is still waiting for the definitive REST
case study.  The Amazon and Atom interfaces are often 
used as examples of REST in action, but frankly, those
domains are so simple that they don't offer much insight.

And I don't think in those cases it's that REST interface 
is making an inherently complex problem simpler to 
deal with;  I they are inherently simple models that are
being exposed.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4366<br>
Sender:Nic Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2004-05-22 15:15:18<br>
Subject:Re: [rest-discuss] rest-discuss vs rest-implement<br>
Message:<br><br>
<pre> 
&gt; Personally, I have quite some ideas and question that I would like to share or
&gt; just get quick comments on and that somehow seem to be inappropriate for
&gt; rest-discuss. That way these (uncooked) ideas do not make it into the
&gt; collaborative space they propably need for evolution.
&gt; 
&gt; What do others think?

I don't see why we can't talk about these things here.


Nic


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4367<br>
Sender:Lucas Gonze &lt;lgonze@...&gt;<br>
Post Date/Time:2004-05-22 16:06:29<br>
Subject:Re: [rest-discuss] rest-discuss vs rest-implement<br>
Message:<br><br>
<pre>

On Sat, 22 May 2004, Nic Ferrier wrote:

&gt;
&gt; &gt; Personally, I have quite some ideas and question that I would like to share or
&gt; &gt; just get quick comments on and that somehow seem to be inappropriate for
&gt; &gt; rest-discuss. That way these (uncooked) ideas do not make it into the
&gt; &gt; collaborative space they propably need for evolution.
&gt; &gt;
&gt; &gt; What do others think?
&gt;
&gt; I don't see why we can't talk about these things here.

In my experience here, my practical questions get theoretical answers.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4368<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2004-05-23 04:07:10<br>
Subject:Re: [rest-discuss] Implementing a Location Based Services application using REST<br>
Message:<br><br>
<pre>
So, the main question you'd like to explore is "eliminate client session
management".
What all is entangled with session management in your application?

Is the following statement directly related to session management?
&gt; In our application parameters for a query may be dependent upon the
results of a
&gt; previous query as in the case of generating routing information.

If so, then you may be in luck. However, the following limitation may
require 'creative' solutions...
&gt; - Some handsets have a maximum URL length of 255 characters.

Could you describe a scenario where parameters for a query are derived from
results of a previous query?


----- Original Message ----- 
From: "Adam Ratcliffe" &lt;adamratcliffe2004@...&gt;
To: &lt;rest-discuss@yahoogroups.com&gt;
Sent: Thursday, May 20, 2004 7:38 PM
Subject: [rest-discuss] Implementing a Location Based Services application
using REST


&gt; My company has a Location Based Services(LBS) solution
&gt; that we're interested in re-architecting to support
&gt; some different target platforms and support new
&gt; business initiatives.  I'm attracted to the simplicity
&gt; of the REST style and the lightweight requirements it
&gt; places upon its clients but am not certain that I've
&gt; fully grasped how to apply it to our particular
&gt; service.  One of the recommendations I'm having
&gt; difficulty visualizing is how I can eliminate client
&gt; session management.  In our application parameters for
&gt; a query may be dependent upon the results of a
&gt; previous query as in the case of generating routing
&gt; information.  I'm providing a brief description of
&gt; what our system does and some of the constraints
&gt; imposed upon it by our target platforms and would be
&gt; very interested on any comments, advice on how I might
&gt; go about re-implementing the system in a RESTful
&gt; style.
&gt;
&gt; The LBS solution is currently provided to mobile
&gt; phones.  The system provides maps, routing and
&gt; directions in response to user GET and POST requests.
&gt; Map images embedded in the resultant documents are
&gt; cached on the server, other intermediate documents are
&gt; generated but not cached. The current system is
&gt; implemented through a number of ASP scripts that
&gt; provide search, list, and detail pages for map
&gt; locations.  Maps are generated dynamically for
&gt; co-ordinates or named locations by a 3rd party system
&gt; co-located on the same server and exposing an XML
&gt; RPC-style interface.
&gt;
&gt; In prototyping the current non-REST system we
&gt; discovered several limitations related to the phone
&gt; handsets:
&gt;
&gt; - Some handsets have a maximum URL length of 255
&gt; characters.  Passing session state in the URL along
&gt; with co-ordinate pairs frequently took us above this
&gt; limit.
&gt; - Cookie support cannot be guaranteed for the phone
&gt; browser precluding the use of native session-tracking
&gt; mechanisms on the server
&gt; - Variations in WML rendering require document
&gt; transformation to phone-specific WML if optimal
&gt; presentation is to be achieved
&gt;
&gt; Thanks in advance,
&gt; Adam Ratcliffe
&gt;
&gt;
&gt; Find local movie times and trailers on Yahoo! Movies.
&gt; http://au.movies.yahoo.com
&gt;
&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4369<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2004-05-23 04:17:56<br>
Subject:Re: [rest-discuss] error numbers<br>
Message:<br><br>
<pre>
"bad values in form arguments" for POST would indicate a problem with the
content - either syntax or meaning.
For GET requests 'form arguments' would appear in the URI &amp; you could say
'resource not found' or something - I"m assuming you mean POST rather than
GET.

The RFC says 400 means "The request could not be understood by the server
due to malformed syntax. The client SHOULD NOT repeat the request without
modifications. " However, I don't know what 'malformed syntax' means. Is it
the syntax of headers only, or content-type specific syntax of the content?
Also, how do you indicate syntactically correct content, but with 'out of
range' (or other) type of errors of the content?

The "406 Not Acceptable" response looked appealing, until I read the
meaning.

Hmm "415 Unsupported Media Type" (The server is refusing to service the
request because the entity of the request is in a format not supported by
the requested resource for the requested method.) looks interesting.


----- Original Message ----- 
From: "Lucas Gonze" &lt;lgonze@...&gt;
To: "Walden Mathews" &lt;walden@...&gt;
Cc: &lt;lucas@...&gt;; &lt;rest-discuss@yahoogroups.com&gt;
Sent: Saturday, May 22, 2004 7:00 AM
Subject: Re: [rest-discuss] error numbers


&gt;
&gt; Well, see, that's exactly why I'm frustrated here -- 4xx is for client
&gt; errors, but there aren't any 4xx status codes that express that meaning.
&gt;
&gt; On Sat, 22 May 2004, Walden Mathews wrote:
&gt;
&gt; &gt; Bad values in form arguments is client error: 4xx.
&gt; &gt;
&gt; &gt; ----- Original Message -----
&gt; &gt; From: "Lucas Gonze" &lt;lgonze@...&gt;
&gt; &gt; To: &lt;rest-discuss@yahoogroups.com&gt;
&gt; &gt; Sent: Friday, May 21, 2004 5:20 PM
&gt; &gt; Subject: [rest-discuss] error numbers
&gt; &gt;
&gt; &gt;
&gt; &gt; :
&gt; &gt; : I'm building a restful api, and am finding that the response error
codes
&gt; &gt; : are all specific to http aspects of the transaction.  There's no way
to
&gt; &gt; : signal errors at the application level.  In the end I'm using 500 most
of
&gt; &gt; : the time with an explanation of the error in the response body, but
that's
&gt; &gt; : not IMO informative.
&gt; &gt; :
&gt; &gt; : What I'm looking for at this moment is a status code to say "bad
values in
&gt; &gt; : form arguments".
&gt; &gt; :
&gt; &gt; : Thoughts?
&gt; &gt; :
&gt; &gt; :
&gt; &gt; :
&gt; &gt; :
&gt; &gt; :
&gt; &gt; :
&gt; &gt; : Yahoo! Groups Links
&gt; &gt; :
&gt; &gt; :
&gt; &gt; :
&gt; &gt; :
&gt; &gt; :
&gt; &gt; :
&gt; &gt; :
&gt; &gt; : __________ NOD32 1.770 (20040521) Information __________
&gt; &gt; :
&gt; &gt; : This message was checked by NOD32 antivirus system.
&gt; &gt; : http://www.nod32.com
&gt; &gt; :
&gt; &gt; :
&gt; &gt;
&gt;
&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4370<br>
Sender:John Belmonte &lt;john@...&gt;<br>
Post Date/Time:2004-05-23 05:05:51<br>
Subject:Re: [rest-discuss] error numbers<br>
Message:<br><br>
<pre>Lucas Gonze wrote:
&gt; I'm building a restful api, and am finding that the response error codes
&gt; are all specific to http aspects of the transaction.  There's no way to
&gt; signal errors at the application level.  In the end I'm using 500 most of
&gt; the time with an explanation of the error in the response body, but that's
&gt; not IMO informative.
&gt; 
&gt; What I'm looking for at this moment is a status code to say "bad values in
&gt; form arguments".
&gt; 
&gt; Thoughts?

I believe the answer is that you should place machine readable 
application specific error codes within the entity of your HTTP error 
response.  In other words, HTTP error codes are meant to convey HTTP 
errors, not the specifics of application level errors.

-John


-- 
http:// ift ile.org/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4371<br>
Sender:Jon Hanna &lt;jon@...&gt;<br>
Post Date/Time:2004-05-23 13:52:03<br>
Subject:Re: [rest-discuss] error numbers<br>
Message:<br><br>
<pre>400 is safe as a general client-side error (as is 500 for a general server-side
error). Use 400 and give information as to the error in the response body.

-- 
Jon Hanna
&lt;http://www.hackcraft.net/&gt;
"ï¿½it has been truly said that hackers have even more words for
equipment failures than Yiddish has for obnoxious people." - jargon.txt

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4372<br>
Sender:"Donald Strong" &lt;dstrong@...&gt;<br>
Post Date/Time:2004-05-24 06:15:19<br>
Subject:RE: [rest-discuss] representational completeness<br>
Message:<br><br>
<pre>&gt; From: Paul Jimenez [mailto:pj@...]
&gt; 
&gt; Should resources require a complete representation be submitted via
&gt; POST? For instance, if there's a resource /Users/joebob, to change his
&gt; address when he's also got a ssn and a phone number, should the resource
&gt; require a submission of the ssn and phone number as well? or is an
&gt; implicit contract of "if it's not submitted, dont change it" okay? The
&gt; latter is certainly easier to build HTML forms for.

I am sure I am not the only one who is confused about what is the outcome 
of this thread. I think I have figured it out and I offer a summary here
with a few observations of my own that I hope are correct.

Firstly, I agree with Lucus Gonze.   B^)

&gt; In my experience here, my practical questions get theoretical answers.


Submitting updates to resources
-------------------------------

You cannot submit a modification to a resource and "assume" that the
unmodified fields will remain the same. That is because the submitted state
is ambiguous for all of the reasons that Jeff Bone has described.

http://groups.yahoo.com/group/rest-discuss/message/4347


The completely unambiguous way to specify this is along the lines of:

Change '/Something/456' from:
----
&lt;something id=456&gt;
    &lt;foo&gt;1&lt;/foo&gt;
    &lt;bar&gt;2&lt;/bar&gt;
    &lt;baz&gt;3&lt;/baz&gt;
&lt;/something&gt;
----
to:
----
&lt;something id=456&gt;
    &lt;foo&gt;5&lt;/foo&gt;
    &lt;bar&gt;2&lt;/bar&gt;
    &lt;baz&gt;3&lt;/baz&gt;
&lt;/something&gt;
----

This seems somewhat counter productive as you end up transfering more
data rather than less. However, this is what you want to happen. 
This defines the inital 'resource state' and the
next 'resource state'. The issue is how do we transfer the
change of resource state in the most efficient manner.

I believe there are few cases where it is OK to simply clobber the 
resource with the final resource state, ie. the update is only valid
if the state of the resource has not been modified. Fortunately, HTTP
has a couple of mechanisms to help. The If-Match and If-Unmodified-Since
request-header fields can be used to conditionally update the resource.

Now for the important part.

Since we can identify the exact state on the origin server that we
wish to modify, and both the User Agent and Origin Server have a rendition
of this state, it is not neccessary to transfer all of the next
resource state. It is acceptable to transfer a delta to the original
state and the Origin Server will understand exactly what is required.

A diff would suffice. For example,

PUT /Something/456
If-Match: v254
Content-Type: text/diff
Content-Length: xxx

2c2
&lt;     &lt;foo&gt;1&lt;/foo&gt;
---
&gt;     &lt;foo&gt;5&lt;/foo&gt;
-------

The body of this request is the result of a unix diff on the initial and
next states defined above. I believe that this is what Mark Baker ment
when he said -

&gt; &gt; You seem to start off by saying that a partial update via POST is 
&gt; &gt; non-RESTful,
&gt; 
&gt; Only if there's a shared expectation between the two parties that an
&gt; update is what's occuring.  If it happens anyway, without such an
&gt; expectation, then that's RESTful.

The update, in this case, is stated explicitly in the request body and 
not implied by some mutual understanding between the client and
server applications.

Well, how did I do? Is that even close to the truth?

Regards
Donald.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4373<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2004-05-24 12:14:20<br>
Subject:Re: [rest-discuss] rest-discuss vs rest-implement<br>
Message:<br><br>
<pre>On Sat, May 22, 2004 at 05:02:53PM +0200, Jan Algermissen wrote:
&gt; I absolutely agree that practical issues that arise when implemeting RESTful
&gt; applications should really have a home[1] (assuming that rest-discuss is intended
&gt; to remain theoretical). 

I think rest-discuss is fine for this sort of stuff as it's intended to
be a place for REST newbies to visit.  And what better way to explain
REST to newbies than to demonstrate how it's applied?

We have rest-explore for more theoretical discussions, though it hasn't
been used in ages.

All's well, I'd say.

Mark.
-- 
Mark Baker.   Ottawa, Ontario, CANADA.        http://www.markbaker.ca

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4374<br>
Sender:Lucas Gonze &lt;lgonze@...&gt;<br>
Post Date/Time:2004-05-24 14:40:56<br>
Subject:Re: [rest-discuss] error numbers<br>
Message:<br><br>
<pre>
This is the most appealing answer to me, since it's the simplest
solution.  If anybody disagrees with this let me know.

On Sun, 23 May 2004, Jon Hanna wrote:

&gt; 400 is safe as a general client-side error (as is 500 for a general server-side
&gt; error). Use 400 and give information as to the error in the response body.
&gt;
&gt; --
&gt; Jon Hanna
&gt; &lt;http://www.hackcraft.net/&gt;
&gt; "it has been truly said that hackers have even more words for
&gt; equipment failures than Yiddish has for obnoxious people." - jargon.txt
&gt;
&gt; Yahoo! Groups Sponsor
&gt; ADVERTISEMENT
&gt; click here
&gt; [rand=394801528]
&gt;
&gt; _______________________________________________________________________________________________
&gt; Yahoo! Groups Links
&gt;  *  To visit your group on the web, go to:
&gt;     http://groups.yahoo.com/group/rest-discuss/
&gt;
&gt;  *  To unsubscribe from this group, send an email to:
&gt;     rest-discuss-unsubscribe@yahoogroups.com
&gt;
&gt;  *  Your use of Yahoo! Groups is subject to the Yahoo! Terms of Service.
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4375<br>
Sender:Josh Sled &lt;jsled@...&gt;<br>
Post Date/Time:2004-05-24 15:21:20<br>
Subject:Re: [rest-discuss] error numbers<br>
Message:<br><br>
<pre>On Mon, 2004-05-24 at 10:40, Lucas Gonze wrote:

&gt; This is the most appealing answer to me, since it's the simplest
&gt; solution.  If anybody disagrees with this let me know.

That is what I've expected to do in the past ... never did get around to
it, but I would have liked to develop a simple markup for transferring
the relevant logged error message and stack trace of the server-side
errors, at least, back to the client.  Not that arbitrary clients should
have such information, but we didn't have arbirtary clients, and it
would have helped much with debugging. :)

The alternative for the arbritary-client case might be an encrypted or
opaque version of such, that the client can return it alongside a bug
report...


For the 4xx errors... we had rich resource space queries ... and with
that richness came usage failures.  I wanted a machine+human-readable
description of the interface to go back in response to 400s that were
really "you gave me conflicting or didn't give me enough query
arguments".  Basically: here's the available query-paramater-value
schema I support on this resource.

This is something I'd expect a RESTful interface description language to
provide.

...jsled

-- 
http://www.asynchronous.org/ - `a=jsled; b=asynchronous.org; echo ${a}@${b}`
# A: Because it breaks the flow of normal conversation.
# Q: Why don't we put the response before the request?

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4376<br>
Sender:"Lee Fife" &lt;lee@...&gt;<br>
Post Date/Time:2004-05-24 20:55:30<br>
Subject:Re: [rest-discuss] error numbers<br>
Message:<br><br>
<pre>Sure looks to me like 400 is exactly the error you're looking for ...

And, speaking practically, that's the code I've returned for bad parameters via either POST or GET.

And continuing to speak practically, what are you trying to do with the error code? 

Presumably you want to signal that something broke. 4xx and 5xx do that. And you probably want to give a *person* a clue about what's wrong -- the person might be an end-user that another application displays an error message to, or it might be a developer who pours thru error logs or runs debuggers to figure out what went wrong.

So, when I'm doing this, I always include a description of the error in the response body, typically just plain ol' HTML that can end up displayed to a user. I can certainly imagine providing a smarter, machine-readable description for some remote non-human agent, but I haven't seen that in action.

-Lee
  ----- Original Message ----- 
  From: Lucas Gonze 
  To: Walden Mathews 
  Cc: lucas@... ; rest-discuss@yahoogroups.com 
  Sent: Saturday, May 22, 2004 8:00 AM
  Subject: Re: [rest-discuss] error numbers



  Well, see, that's exactly why I'm frustrated here -- 4xx is for client
  errors, but there aren't any 4xx status codes that express that meaning.

  On Sat, 22 May 2004, Walden Mathews wrote:

  &gt; Bad values in form arguments is client error: 4xx.
  &gt;
  &gt; ----- Original Message -----
  &gt; From: "Lucas Gonze" &lt;lgonze@...&gt;
  &gt; To: &lt;rest-discuss@yahoogroups.com&gt;
  &gt; Sent: Friday, May 21, 2004 5:20 PM
  &gt; Subject: [rest-discuss] error numbers
  &gt;
  &gt;
  &gt; :
  &gt; : I'm building a restful api, and am finding that the response error codes
  &gt; : are all specific to http aspects of the transaction.  There's no way to
  &gt; : signal errors at the application level.  In the end I'm using 500 most of
  &gt; : the time with an explanation of the error in the response body, but that's
  &gt; : not IMO informative.
  &gt; :
  &gt; : What I'm looking for at this moment is a status code to say "bad values in
  &gt; : form arguments".
  &gt; :
  &gt; : Thoughts?
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4377<br>
Sender:"Walden Mathews" &lt;walden@...&gt;<br>
Post Date/Time:2004-05-25 02:26:29<br>
Subject:Re: [rest-discuss] error numbers<br>
Message:<br><br>
<pre>Lucas,

Some basic principles you can practice:

    Stick with the correct category, even if the exact code you
    need is not defined.

    Avoid defining new codes, unless you know you'll always
    have full control over the client and server designs (which
    is something you can't ever know for sure).

    Use the response body to add specificity to error responses,
    but...

    Concentrate on application design in which it is impossible
    for the client to make mistakes (no joke).

Regards,

Walden

----- Original Message ----- 
From: "Lee Fife" &lt;lee@...&gt;
To: &lt;lucas@...&gt;
Cc: &lt;rest-discuss@yahoogroups.com&gt;
Sent: Monday, May 24, 2004 4:55 PM
Subject: Re: [rest-discuss] error numbers


Sure looks to me like 400 is exactly the error you're looking for ...

And, speaking practically, that's the code I've returned for bad parameters
via either POST or GET.

And continuing to speak practically, what are you trying to do with the
error code?

Presumably you want to signal that something broke. 4xx and 5xx do that. And
you probably want to give a *person* a clue about what's wrong -- the person
might be an end-user that another application displays an error message to,
or it might be a developer who pours thru error logs or runs debuggers to
figure out what went wrong.

So, when I'm doing this, I always include a description of the error in the
response body, typically just plain ol' HTML that can end up displayed to a
user. I can certainly imagine providing a smarter, machine-readable
description for some remote non-human agent, but I haven't seen that in
action.

-Lee
  ----- Original Message ----- 
  From: Lucas Gonze
  To: Walden Mathews
  Cc: lucas@... ; rest-discuss@yahoogroups.com
  Sent: Saturday, May 22, 2004 8:00 AM
  Subject: Re: [rest-discuss] error numbers



  Well, see, that's exactly why I'm frustrated here -- 4xx is for client
  errors, but there aren't any 4xx status codes that express that meaning.

  On Sat, 22 May 2004, Walden Mathews wrote:

  &gt; Bad values in form arguments is client error: 4xx.
  &gt;
  &gt; ----- Original Message -----
  &gt; From: "Lucas Gonze" &lt;lgonze@...&gt;
  &gt; To: &lt;rest-discuss@yahoogroups.com&gt;
  &gt; Sent: Friday, May 21, 2004 5:20 PM
  &gt; Subject: [rest-discuss] error numbers
  &gt;
  &gt;
  &gt; :
  &gt; : I'm building a restful api, and am finding that the response error
codes
  &gt; : are all specific to http aspects of the transaction.  There's no way
to
  &gt; : signal errors at the application level.  In the end I'm using 500 most
of
  &gt; : the time with an explanation of the error in the response body, but
that's
  &gt; : not IMO informative.
  &gt; :
  &gt; : What I'm looking for at this moment is a status code to say "bad
values in
  &gt; : form arguments".
  &gt; :
  &gt; : Thoughts?


__________ NOD32 1.772 (20040524) Information __________

This message was checked by NOD32 antivirus system.
http://www.nod32.com



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4378<br>
Sender:"adamratcliffe2004" &lt;adamratcliffe2004@...&gt;<br>
Post Date/Time:2004-05-25 05:58:55<br>
Subject:Re: Implementing a Location Based Services application using REST<br>
Message:<br><br>
<pre>Elimination of state management is one area I'm uncertain about, 
having thought more on the problem it perhaps fits into the larger 
question of how we layer our architecture to work with REST.
 
Currently the document returned to the client contains the user 
interface description (WML or HTML), state information, for example 
the user's starting location in a routing query, either appended to 
URL's in the document or stored in hidden fields, and may contain 
information about the requested feature e.g. an image.  As the model 
is coupled to the view if we wanted to make the service available to 
a third party for incorporation into one of their services they 
would be constrained in how they delivered that service.
 
An example of a dependent query is when the user is interested in 
obtaining routing information for 2 geographical locations. The 
sequence of actions to obtain a route is as follows:
 
1) From the initial query page the user enters in the name of the 
feature, the district it's contained in, and the feature type: 
street, business, point of interest. On the server the query is 
executed returning a document with links to one or more features.
  
2) The user selects the link for a particular location. The server 
returns a document with a link to display a detail page for that 
location. The response document also contains the query options 
presented on the initial page (a 2nd query is required for a route).
 
3) The user enters the name of a 2nd feature, the feature type etc, 
and submits the page.  The server returns a document containing 
links to nodes that match the query.  Each of these links has the co-
ordinate information from the 1st query appended to them, though we 
are looking at putting this information into hidden fields to 
overcome the problem with URL length limit.
 
4) The user selects the link for the desired location and the server 
returns a document containing a list of textual directions, an image 
(a visual representation of the route), and links for zooming or 
panning the image. The links for manipulating the image have the 
operation type, location co-ordinates etc appended to them.
 
Hope that gives a little more context to my initial question?

Kind regards,
Adam

--- In rest-discuss@yahoogroups.com, "S. Mike Dierken" 
&lt;mdierken@h...&gt; wrote:
&gt; 
&gt; So, the main question you'd like to explore is "eliminate client 
session
&gt; management".
&gt; What all is entangled with session management in your application?
&gt; 
&gt; Is the following statement directly related to session management?
&gt; &gt; In our application parameters for a query may be dependent upon 
the
&gt; results of a
&gt; &gt; previous query as in the case of generating routing information.
&gt; 
&gt; If so, then you may be in luck. However, the following limitation 
may
&gt; require 'creative' solutions...
&gt; &gt; - Some handsets have a maximum URL length of 255 characters.
&gt; 
&gt; Could you describe a scenario where parameters for a query are 
derived from
&gt; results of a previous query?
&gt; 
&gt; 
&gt; ----- Original Message ----- 
&gt; From: "Adam Ratcliffe" &lt;adamratcliffe2004@y...&gt;
&gt; To: &lt;rest-discuss@yahoogroups.com&gt;
&gt; Sent: Thursday, May 20, 2004 7:38 PM
&gt; Subject: [rest-discuss] Implementing a Location Based Services 
application
&gt; using REST
&gt; 
&gt; 
&gt; &gt; My company has a Location Based Services(LBS) solution
&gt; &gt; that we're interested in re-architecting to support
&gt; &gt; some different target platforms and support new
&gt; &gt; business initiatives.  I'm attracted to the simplicity
&gt; &gt; of the REST style and the lightweight requirements it
&gt; &gt; places upon its clients but am not certain that I've
&gt; &gt; fully grasped how to apply it to our particular
&gt; &gt; service.  One of the recommendations I'm having
&gt; &gt; difficulty visualizing is how I can eliminate client
&gt; &gt; session management.  In our application parameters for
&gt; &gt; a query may be dependent upon the results of a
&gt; &gt; previous query as in the case of generating routing
&gt; &gt; information.  I'm providing a brief description of
&gt; &gt; what our system does and some of the constraints
&gt; &gt; imposed upon it by our target platforms and would be
&gt; &gt; very interested on any comments, advice on how I might
&gt; &gt; go about re-implementing the system in a RESTful
&gt; &gt; style.
&gt; &gt;
&gt; &gt; The LBS solution is currently provided to mobile
&gt; &gt; phones.  The system provides maps, routing and
&gt; &gt; directions in response to user GET and POST requests.
&gt; &gt; Map images embedded in the resultant documents are
&gt; &gt; cached on the server, other intermediate documents are
&gt; &gt; generated but not cached. The current system is
&gt; &gt; implemented through a number of ASP scripts that
&gt; &gt; provide search, list, and detail pages for map
&gt; &gt; locations.  Maps are generated dynamically for
&gt; &gt; co-ordinates or named locations by a 3rd party system
&gt; &gt; co-located on the same server and exposing an XML
&gt; &gt; RPC-style interface.
&gt; &gt;
&gt; &gt; In prototyping the current non-REST system we
&gt; &gt; discovered several limitations related to the phone
&gt; &gt; handsets:
&gt; &gt;
&gt; &gt; - Some handsets have a maximum URL length of 255
&gt; &gt; characters.  Passing session state in the URL along
&gt; &gt; with co-ordinate pairs frequently took us above this
&gt; &gt; limit.
&gt; &gt; - Cookie support cannot be guaranteed for the phone
&gt; &gt; browser precluding the use of native session-tracking
&gt; &gt; mechanisms on the server
&gt; &gt; - Variations in WML rendering require document
&gt; &gt; transformation to phone-specific WML if optimal
&gt; &gt; presentation is to be achieved
&gt; &gt;
&gt; &gt; Thanks in advance,
&gt; &gt; Adam Ratcliffe
&gt; &gt;
&gt; &gt;
&gt; &gt; Find local movie times and trailers on Yahoo! Movies.
&gt; &gt; http://au.movies.yahoo.com
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt; Yahoo! Groups Links
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4379<br>
Sender:sandeep@...<br>
Post Date/Time:2004-05-25 09:17:07<br>
Subject:Re: [rest-discuss] Re: Implementing a Location Based Services application using REST<br>
Message:<br><br>
<pre>Hey Adam,

&gt;&gt; Elimination of state management is one area I'm uncertain about

Try to look at state in a different way then you are used to on the web so far.
You could start off by reading this excellent document:

A Web-Centric Approach to State Transition by Paul Prescod
http://www.prescod.net/rest/state_transition.html

&gt; I'm attracted to the simplicity
&gt; of the REST style and the lightweight requirements it
&gt; places upon its clients but am not certain that I've
&gt; fully grasped how to apply it to our particular
&gt; service.  One of the recommendations I'm having
&gt; difficulty visualizing is how I can eliminate client
&gt; session management.

REST does not recommend that you eliminate client session management!
In the words of Roy:
"...communication must be stateless in nature,...such that each request from
client to server must contain all of the information necessary to understand
the request, and cannot take advantage of any stored context on the server.
Session state is therefore kept entirely on the client."

This architectural choices has two design trade-off's:
1) "...it may decrease network performance by increasing the repetitive data
(per-interaction overhead) sent in a series of requests, since that data cannot
be left on the server in a shared context."
2) "In addition, placing the application state on the client-side reduces the
server's control over consistent application behavior, since the application
becomes dependent on the correct implementation of semantics across multiple
client versions."

Roy goes on to say:
"Cookie interaction fails to match REST's model of application state... As a
result, cookie-based applications on the Web will never be reliable. The same
functionality should have been accomplished via anonymous authentication and
true client-side state."

And here is what your looking for:
"A state mechanism that involves preferences can be more efficiently implemented
using judicious use of context-setting URI rather than cookies, where judicious
means one URI per state rather than an unbounded number of URI due to the
embedding of a user-id."


&gt; In prototyping the current non-REST system we
&gt; discovered several limitations related to the phone
&gt; handsets:
&gt;
&gt; - Some handsets have a maximum URL length of 255
&gt; characters.  Passing session state in the URL along
&gt; with co-ordinate pairs frequently took us above this
&gt; limit.
&gt; - Cookie support cannot be guaranteed for the phone
&gt; browser precluding the use of native session-tracking
&gt; mechanisms on the server
&gt; - Variations in WML rendering require document
&gt; transformation to phone-specific WML if optimal
&gt; presentation is to be achieved

Paul's approach should get you around the first 2 limitations. The last
limitation that you mention is related to representations and is actully
dependent on your application architecture.


Hope that helps.

Sandeep

----------------------------------------------------------------

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4380<br>
Sender:sandeep@...<br>
Post Date/Time:2004-05-25 09:21:04<br>
Subject:Re: [rest-discuss] Re: Implementing a Location Based Services application using REST<br>
Message:<br><br>
<pre>Hey Adam,

&gt;&gt; Elimination of state management is one area I'm uncertain about

Try to look at state in a different way than you are used to on the web so far.
You could start off by reading this excellent document:

A Web-Centric Approach to State Transition by Paul Prescod
http://www.prescod.net/rest/state_transition.html

&gt; I'm attracted to the simplicity
&gt; of the REST style and the lightweight requirements it
&gt; places upon its clients but am not certain that I've
&gt; fully grasped how to apply it to our particular
&gt; service.  One of the recommendations I'm having
&gt; difficulty visualizing is how I can eliminate client
&gt; session management.

REST does not recommend that you eliminate client session management!
In the words of Roy:
"...communication must be stateless in nature,...such that each request from
client to server must contain all of the information necessary to understand
the request, and cannot take advantage of any stored context on the server.
Session state is therefore kept entirely on the client."

This architectural choices has two design trade-off's:
1) "...it may decrease network performance by increasing the repetitive data
(per-interaction overhead) sent in a series of requests, since that data cannot
be left on the server in a shared context."
2) "In addition, placing the application state on the client-side reduces the
server's control over consistent application behavior, since the application
becomes dependent on the correct implementation of semantics across multiple
client versions."

Roy goes on to say:
"Cookie interaction fails to match REST's model of application state... As a
result, cookie-based applications on the Web will never be reliable. The same
functionality should have been accomplished via anonymous authentication and
true client-side state."

And here is what your looking for:
"A state mechanism that involves preferences can be more efficiently
implemented
using judicious use of context-setting URI rather than cookies, where judicious
means one URI per state rather than an unbounded number of URI due to the
embedding of a user-id."


&gt; In prototyping the current non-REST system we
&gt; discovered several limitations related to the phone
&gt; handsets:
&gt;
&gt; - Some handsets have a maximum URL length of 255
&gt; characters.  Passing session state in the URL along
&gt; with co-ordinate pairs frequently took us above this
&gt; limit.
&gt; - Cookie support cannot be guaranteed for the phone
&gt; browser precluding the use of native session-tracking
&gt; mechanisms on the server
&gt; - Variations in WML rendering require document
&gt; transformation to phone-specific WML if optimal
&gt; presentation is to be achieved

Paul's approach should get you around the first 2 limitations. The last
limitation that you mention is related to representations and is actully
dependent on your application architecture.


Hope that helps.

Sandeep

----------------------------------------------------------------

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4381<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2004-05-25 19:09:15<br>
Subject:Re: [rest-discuss] representational completeness<br>
Message:<br><br>
<pre>I know Lucas wrote this bit, but I'll respond here;
&gt; &gt; In my experience here, my practical questions get theoretical answers.

Pfft.  This is rest-discuss not web-best-practices-discuss; hopefully
you're getting answers which describe how to do things RESTfully.  That
will often coincide with best practices on the Web, but often not too.
I'm sure there are many places where you can go to discuss the latter;
www-talk comes to mind.

&gt; PUT /Something/456
&gt; If-Match: v254
&gt; Content-Type: text/diff
&gt; Content-Length: xxx
&gt; 
&gt; 2c2
&gt; &lt;     &lt;foo&gt;1&lt;/foo&gt;
&gt; ---
&gt; &gt;     &lt;foo&gt;5&lt;/foo&gt;
&gt; -------
&gt; 
&gt; The body of this request is the result of a unix diff on the initial and
&gt; next states defined above. I believe that this is what Mark Baker ment
&gt; when he said -
&gt; 
&gt; &gt; &gt; You seem to start off by saying that a partial update via POST is 
&gt; &gt; &gt; non-RESTful,
&gt; &gt; 
&gt; &gt; Only if there's a shared expectation between the two parties that an
&gt; &gt; update is what's occuring.  If it happens anyway, without such an
&gt; &gt; expectation, then that's RESTful.
&gt; 
&gt; The update, in this case, is stated explicitly in the request body and 
&gt; not implied by some mutual understanding between the client and
&gt; server applications.
&gt; 
&gt; Well, how did I do? Is that even close to the truth?

You're on the right track, but not quite. 8-)

Consider that a successful response to that message above means that
the resource's state can be represented by that document; that's not
what you want.

You need a new method to do it that way, PATCH;

http://www.ietf.org/internet-drafts/draft-dusseault-http-patch-02.txt

Mark.
-- 
Mark Baker.   Ottawa, Ontario, CANADA.        http://www.markbaker.ca

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4382<br>
Sender:Lucas Gonze &lt;lgonze@...&gt;<br>
Post Date/Time:2004-05-25 20:07:00<br>
Subject:Re: [rest-discuss] error numbers<br>
Message:<br><br>
<pre>
These should go on the Wiki, Walden.

A practical problem, which incidentally shows how little REST is used for
web services: most apache configurations have ErrorDocument setups which
make it impossible (or very hard) to use the response body to add
specificity to error responses.

- Lucas

On Mon, 24 May 2004, Walden Mathews wrote:

&gt; Lucas,
&gt;
&gt; Some basic principles you can practice:
&gt;
&gt;     Stick with the correct category, even if the exact code you
&gt;     need is not defined.
&gt;
&gt;     Avoid defining new codes, unless you know you'll always
&gt;     have full control over the client and server designs (which
&gt;     is something you can't ever know for sure).
&gt;
&gt;     Use the response body to add specificity to error responses,
&gt;     but...
&gt;
&gt;     Concentrate on application design in which it is impossible
&gt;     for the client to make mistakes (no joke).
&gt;
&gt; Regards,
&gt;
&gt; Walden
&gt;
&gt; ----- Original Message -----
&gt; From: "Lee Fife" &lt;lee@...&gt;
&gt; To: &lt;lucas@...&gt;
&gt; Cc: &lt;rest-discuss@yahoogroups.com&gt;
&gt; Sent: Monday, May 24, 2004 4:55 PM
&gt; Subject: Re: [rest-discuss] error numbers
&gt;
&gt;
&gt; Sure looks to me like 400 is exactly the error you're looking for ...
&gt;
&gt; And, speaking practically, that's the code I've returned for bad parameters
&gt; via either POST or GET.
&gt;
&gt; And continuing to speak practically, what are you trying to do with the
&gt; error code?
&gt;
&gt; Presumably you want to signal that something broke. 4xx and 5xx do that. And
&gt; you probably want to give a *person* a clue about what's wrong -- the person
&gt; might be an end-user that another application displays an error message to,
&gt; or it might be a developer who pours thru error logs or runs debuggers to
&gt; figure out what went wrong.
&gt;
&gt; So, when I'm doing this, I always include a description of the error in the
&gt; response body, typically just plain ol' HTML that can end up displayed to a
&gt; user. I can certainly imagine providing a smarter, machine-readable
&gt; description for some remote non-human agent, but I haven't seen that in
&gt; action.
&gt;
&gt; -Lee
&gt;   ----- Original Message -----
&gt;   From: Lucas Gonze
&gt;   To: Walden Mathews
&gt;   Cc: lucas@... ; rest-discuss@yahoogroups.com
&gt;   Sent: Saturday, May 22, 2004 8:00 AM
&gt;   Subject: Re: [rest-discuss] error numbers
&gt;
&gt;
&gt;
&gt;   Well, see, that's exactly why I'm frustrated here -- 4xx is for client
&gt;   errors, but there aren't any 4xx status codes that express that meaning.
&gt;
&gt;   On Sat, 22 May 2004, Walden Mathews wrote:
&gt;
&gt;   &gt; Bad values in form arguments is client error: 4xx.
&gt;   &gt;
&gt;   &gt; ----- Original Message -----
&gt;   &gt; From: "Lucas Gonze" &lt;lgonze@...&gt;
&gt;   &gt; To: &lt;rest-discuss@yahoogroups.com&gt;
&gt;   &gt; Sent: Friday, May 21, 2004 5:20 PM
&gt;   &gt; Subject: [rest-discuss] error numbers
&gt;   &gt;
&gt;   &gt;
&gt;   &gt; :
&gt;   &gt; : I'm building a restful api, and am finding that the response error
&gt; codes
&gt;   &gt; : are all specific to http aspects of the transaction.  There's no way
&gt; to
&gt;   &gt; : signal errors at the application level.  In the end I'm using 500 most
&gt; of
&gt;   &gt; : the time with an explanation of the error in the response body, but
&gt; that's
&gt;   &gt; : not IMO informative.
&gt;   &gt; :
&gt;   &gt; : What I'm looking for at this moment is a status code to say "bad
&gt; values in
&gt;   &gt; : form arguments".
&gt;   &gt; :
&gt;   &gt; : Thoughts?
&gt;
&gt;
&gt; __________ NOD32 1.772 (20040524) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.nod32.com
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4383<br>
Sender:"Roy T. Fielding" &lt;fielding@...&gt;<br>
Post Date/Time:2004-05-25 23:16:47<br>
Subject:Re: [rest-discuss] error numbers<br>
Message:<br><br>
<pre>&gt; A practical problem, which incidentally shows how little REST is used 
&gt; for
&gt; web services: most apache configurations have ErrorDocument setups 
&gt; which
&gt; make it impossible (or very hard) to use the response body to add
&gt; specificity to error responses.

Generally speaking, if a person isn't capable of setting the
configuration file for their own web space, they aren't capable of
running a bidirectional application in that space either.
Apache httpd configuration defaults to read-only hypertext, but
that doesn't prevent anyone from overriding those defaults for
any set of URIs on the server, including those for ErrorDocument.

....Roy


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4384<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2004-05-25 23:41:34<br>
Subject:[Administrivia] RESTwiki relocation<br>
Message:<br><br>
<pre>On Tue, May 25, 2004 at 04:07:00PM -0400, Lucas Gonze wrote:
&gt; These should go on the Wiki, Walden.

Speaking of the Wiki, I've received Official Word that conveyor.com
will be retiring this weekend, and with it of course, the RESTwiki.
I'll be tarring up the data directory and shipping it to the new host
ASAP.  More info on the schedule later ...

Please refrain from any Wiki updates in the mean time.

Mark.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4385<br>
Sender:"adamratcliffe2004" &lt;adamratcliffe2004@...&gt;<br>
Post Date/Time:2004-05-27 21:45:45<br>
Subject:Re: Implementing a Location Based Services application using REST<br>
Message:<br><br>
<pre>Hi Sandeep

I've just read Paul's article, very helpful! Exposing the state of 
the communication as a resource through a URI makes sense and will 
get me around the problem of the URI length restriction.

Wondering if you can recommend a primer document on HTTP, I've 
really only considered it in terms of GET and POST methods up to now.

Cheers
Adam

--- In rest-discuss@yahoogroups.com, sandeep@e... wrote:
&gt; Hey Adam,
&gt; 
&gt; &gt;&gt; Elimination of state management is one area I'm uncertain about
&gt; 
&gt; Try to look at state in a different way than you are used to on 
the web so far.
&gt; You could start off by reading this excellent document:
&gt; 
&gt; A Web-Centric Approach to State Transition by Paul Prescod
&gt; http://www.prescod.net/rest/state_transition.html
&gt; 
&gt; &gt; I'm attracted to the simplicity
&gt; &gt; of the REST style and the lightweight requirements it
&gt; &gt; places upon its clients but am not certain that I've
&gt; &gt; fully grasped how to apply it to our particular
&gt; &gt; service.  One of the recommendations I'm having
&gt; &gt; difficulty visualizing is how I can eliminate client
&gt; &gt; session management.
&gt; 
&gt; REST does not recommend that you eliminate client session 
management!
&gt; In the words of Roy:
&gt; "...communication must be stateless in nature,...such that each 
request from
&gt; client to server must contain all of the information necessary to 
understand
&gt; the request, and cannot take advantage of any stored context on 
the server.
&gt; Session state is therefore kept entirely on the client."
&gt; 
&gt; This architectural choices has two design trade-off's:
&gt; 1) "...it may decrease network performance by increasing the 
repetitive data
&gt; (per-interaction overhead) sent in a series of requests, since 
that data cannot
&gt; be left on the server in a shared context."
&gt; 2) "In addition, placing the application state on the client-side 
reduces the
&gt; server's control over consistent application behavior, since the 
application
&gt; becomes dependent on the correct implementation of semantics 
across multiple
&gt; client versions."
&gt; 
&gt; Roy goes on to say:
&gt; "Cookie interaction fails to match REST's model of application 
state... As a
&gt; result, cookie-based applications on the Web will never be 
reliable. The same
&gt; functionality should have been accomplished via anonymous 
authentication and
&gt; true client-side state."
&gt; 
&gt; And here is what your looking for:
&gt; "A state mechanism that involves preferences can be more 
efficiently
&gt; implemented
&gt; using judicious use of context-setting URI rather than cookies, 
where judicious
&gt; means one URI per state rather than an unbounded number of URI due 
to the
&gt; embedding of a user-id."
&gt; 
&gt; 
&gt; &gt; In prototyping the current non-REST system we
&gt; &gt; discovered several limitations related to the phone
&gt; &gt; handsets:
&gt; &gt;
&gt; &gt; - Some handsets have a maximum URL length of 255
&gt; &gt; characters.  Passing session state in the URL along
&gt; &gt; with co-ordinate pairs frequently took us above this
&gt; &gt; limit.
&gt; &gt; - Cookie support cannot be guaranteed for the phone
&gt; &gt; browser precluding the use of native session-tracking
&gt; &gt; mechanisms on the server
&gt; &gt; - Variations in WML rendering require document
&gt; &gt; transformation to phone-specific WML if optimal
&gt; &gt; presentation is to be achieved
&gt; 
&gt; Paul's approach should get you around the first 2 limitations. The 
last
&gt; limitation that you mention is related to representations and is 
actully
&gt; dependent on your application architecture.
&gt; 
&gt; 
&gt; Hope that helps.
&gt; 
&gt; Sandeep
&gt; 
&gt; ----------------------------------------------------------------


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4386<br>
Sender:sandeep@...<br>
Post Date/Time:2004-05-28 10:03:10<br>
Subject:Re: [rest-discuss] Re: Implementing a Location Based Services application using REST<br>
Message:<br><br>
<pre>Hey Adam,

&gt; Wondering if you can recommend a primer document on HTTP, I've 
&gt; really only considered it in terms of GET and POST methods up to now.

The RFC is a MUST read:
http://www.w3.org/Protocols/rfc2616/rfc2616.html

Sandeep

----------------------------------------------------------------

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4387<br>
Sender:Lucas Gonze &lt;lgonze@...&gt;<br>
Post Date/Time:2004-05-28 16:03:51<br>
Subject:PUT considered fancy<br>
Message:<br><br>
<pre>
In my ongoing work on the Webjay API, the standard way to update an
element is to PUT to /api/by/username/playlistname/elementname.  Simple
and clean in theory, but in practice it collides badly with my ISPs server
configuration.  Similarly, I have found that client tools like curl and
lwp-request make you jump through hoops to use PUT.

Conclusion: not ready for prime time.  If I, as a longtime Un*x geek, have
hassles in using PUT, clients using my API and other programmers building
similar RESTful web services will find it a serious problem.

- Lucas


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4388<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2004-05-28 16:46:40<br>
Subject:Re: [rest-discuss] PUT considered fancy<br>
Message:<br><br>
<pre>On Fri, May 28, 2004 at 12:03:51PM -0400, Lucas Gonze wrote:
&gt; In my ongoing work on the Webjay API, the standard way to update an
&gt; element is to PUT to /api/by/username/playlistname/elementname.  Simple
&gt; and clean in theory, but in practice it collides badly with my ISPs server
&gt; configuration.  Similarly, I have found that client tools like curl and
&gt; lwp-request make you jump through hoops to use PUT.

curl -T filename url ?

&gt; Conclusion: not ready for prime time.  If I, as a longtime Un*x geek, have
&gt; hassles in using PUT, clients using my API and other programmers building
&gt; similar RESTful web services will find it a serious problem.

*shrug* works for me.  The only time I use POST for PUTting is to support
browsers, which is only a small part of the systems I build.  I also
always control the Web server (at least so far).

Ask your ISP to turn it on; if they care about developers, they might.
That's the only way things will improve.  But if you're happy to suck up
the architectural costs of using POST for PUT (which aren't that big,
really), more power to you.

Mark.
-- 
Mark Baker.   Ottawa, Ontario, CANADA.        http://www.markbaker.ca

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4389<br>
Sender:Lucas Gonze &lt;lgonze@...&gt;<br>
Post Date/Time:2004-05-28 16:55:36<br>
Subject:Re: [rest-discuss] PUT considered fancy<br>
Message:<br><br>
<pre>

On Fri, 28 May 2004, Mark Baker wrote:

&gt; On Fri, May 28, 2004 at 12:03:51PM -0400, Lucas Gonze wrote:
&gt; &gt; In my ongoing work on the Webjay API, the standard way to update an
&gt; &gt; element is to PUT to /api/by/username/playlistname/elementname.  Simple
&gt; &gt; and clean in theory, but in practice it collides badly with my ISPs server
&gt; &gt; configuration.  Similarly, I have found that client tools like curl and
&gt; &gt; lwp-request make you jump through hoops to use PUT.
&gt;
&gt; curl -T filename url ?

And you display the error messages how?  and URL-encode the file how?
These aren't rocket science, they're just a sign of immature tech.

&gt; &gt; Conclusion: not ready for prime time.  If I, as a longtime Un*x geek, have
&gt; &gt; hassles in using PUT, clients using my API and other programmers building
&gt; &gt; similar RESTful web services will find it a serious problem.
&gt;
&gt; *shrug* works for me.  The only time I use POST for PUTting is to support
&gt; browsers, which is only a small part of the systems I build.  I also
&gt; always control the Web server (at least so far).
&gt;
&gt; Ask your ISP to turn it on; if they care about developers, they might.
&gt; That's the only way things will improve.  But if you're happy to suck up
&gt; the architectural costs of using POST for PUT (which aren't that big,
&gt; really), more power to you.

I have to be clear about my motivations here: to get real.  We talk about
this stuff as if implementation was beneath us.  Oh, the REST evangelist
goes, that's just CGI.  It's just server configuration.  It's just a bit
of perl.  But *which* CGI?  Which configuration?


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4390<br>
Sender:Lucas Gonze &lt;lgonze@...&gt;<br>
Post Date/Time:2004-05-28 17:03:01<br>
Subject:Re: [rest-discuss] PUT considered fancy<br>
Message:<br><br>
<pre>
Another example of how lowly PUT is fancy: virtually 100% of PUT
documentation and related tools think it means to copy a file from the
client to the server.

-L

On Fri, 28 May 2004, Lucas Gonze wrote:

&gt;
&gt;
&gt; On Fri, 28 May 2004, Mark Baker wrote:
&gt;
&gt; &gt; On Fri, May 28, 2004 at 12:03:51PM -0400, Lucas Gonze wrote:
&gt; &gt; &gt; In my ongoing work on the Webjay API, the standard way to update an
&gt; &gt; &gt; element is to PUT to /api/by/username/playlistname/elementname.  Simple
&gt; &gt; &gt; and clean in theory, but in practice it collides badly with my ISPs server
&gt; &gt; &gt; configuration.  Similarly, I have found that client tools like curl and
&gt; &gt; &gt; lwp-request make you jump through hoops to use PUT.
&gt; &gt;
&gt; &gt; curl -T filename url ?
&gt;
&gt; And you display the error messages how?  and URL-encode the file how?
&gt; These aren't rocket science, they're just a sign of immature tech.
&gt;
&gt; &gt; &gt; Conclusion: not ready for prime time.  If I, as a longtime Un*x geek, have
&gt; &gt; &gt; hassles in using PUT, clients using my API and other programmers building
&gt; &gt; &gt; similar RESTful web services will find it a serious problem.
&gt; &gt;
&gt; &gt; *shrug* works for me.  The only time I use POST for PUTting is to support
&gt; &gt; browsers, which is only a small part of the systems I build.  I also
&gt; &gt; always control the Web server (at least so far).
&gt; &gt;
&gt; &gt; Ask your ISP to turn it on; if they care about developers, they might.
&gt; &gt; That's the only way things will improve.  But if you're happy to suck up
&gt; &gt; the architectural costs of using POST for PUT (which aren't that big,
&gt; &gt; really), more power to you.
&gt;
&gt; I have to be clear about my motivations here: to get real.  We talk about
&gt; this stuff as if implementation was beneath us.  Oh, the REST evangelist
&gt; goes, that's just CGI.  It's just server configuration.  It's just a bit
&gt; of perl.  But *which* CGI?  Which configuration?
&gt;
&gt;
&gt; Yahoo! Groups Sponsor
&gt; ADVERTISEMENT
&gt; click here
&gt; [rand=642492789]
&gt;
&gt; _______________________________________________________________________________________________
&gt; Yahoo! Groups Links
&gt;  *  To visit your group on the web, go to:
&gt;     http://groups.yahoo.com/group/rest-discuss/
&gt;
&gt;  *  To unsubscribe from this group, send an email to:
&gt;     rest-discuss-unsubscribe@yahoogroups.com
&gt;
&gt;  *  Your use of Yahoo! Groups is subject to the Yahoo! Terms of Service.
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4391<br>
Sender:Julian Reschke &lt;julian.reschke@...&gt;<br>
Post Date/Time:2004-05-28 17:10:12<br>
Subject:Re: [rest-discuss] PUT considered fancy<br>
Message:<br><br>
<pre>Lucas Gonze wrote:
&gt; 
&gt; On Fri, 28 May 2004, Mark Baker wrote:
&gt; 
&gt; 
&gt;&gt;On Fri, May 28, 2004 at 12:03:51PM -0400, Lucas Gonze wrote:
&gt;&gt;
&gt;&gt;&gt;In my ongoing work on the Webjay API, the standard way to update an
&gt;&gt;&gt;element is to PUT to /api/by/username/playlistname/elementname.  Simple
&gt;&gt;&gt;and clean in theory, but in practice it collides badly with my ISPs server
&gt;&gt;&gt;configuration.  Similarly, I have found that client tools like curl and
&gt;&gt;&gt;lwp-request make you jump through hoops to use PUT.
&gt;&gt;
&gt;&gt;curl -T filename url ?
&gt; 
&gt; 
&gt; And you display the error messages how?  and URL-encode the file how?
&gt; These aren't rocket science, they're just a sign of immature tech.

Why would you want to encode the /file/?

 &gt; ...

Best regards, Julian

-- 
&lt;green/&gt;bytes GmbH -- http://www.greenbytes.de -- tel:+492512807760

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4392<br>
Sender:Lucas Gonze &lt;lgonze@...&gt;<br>
Post Date/Time:2004-05-28 17:19:59<br>
Subject:Re: [rest-discuss] PUT considered fancy<br>
Message:<br><br>
<pre>On Fri, 28 May 2004, Julian Reschke wrote:
&gt; Why would you want to encode the /file/?

I leave this as an exercise for the reader.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4393<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2004-05-28 17:24:13<br>
Subject:Re: [rest-discuss] PUT considered fancy<br>
Message:<br><br>
<pre>On Fri, May 28, 2004 at 12:55:36PM -0400, Lucas Gonze wrote:
&gt; 
&gt; 
&gt; On Fri, 28 May 2004, Mark Baker wrote:
&gt; 
&gt; &gt; On Fri, May 28, 2004 at 12:03:51PM -0400, Lucas Gonze wrote:
&gt; &gt; &gt; In my ongoing work on the Webjay API, the standard way to update an
&gt; &gt; &gt; element is to PUT to /api/by/username/playlistname/elementname.  Simple
&gt; &gt; &gt; and clean in theory, but in practice it collides badly with my ISPs server
&gt; &gt; &gt; configuration.  Similarly, I have found that client tools like curl and
&gt; &gt; &gt; lwp-request make you jump through hoops to use PUT.
&gt; &gt;
&gt; &gt; curl -T filename url ?
&gt; 
&gt; And you display the error messages how?

curl -f -T ?

&gt;  and URL-encode the file how?

??

&gt; I have to be clear about my motivations here: to get real.  We talk about
&gt; this stuff as if implementation was beneath us.  Oh, the REST evangelist
&gt; goes, that's just CGI.  It's just server configuration.  It's just a bit
&gt; of perl.  But *which* CGI?  Which configuration?

Eek, I think you've got this all wrong Lucas.  REST is a guide.  It
helps you understand, in this case, the costs of using POST to do what
you'd normally use PUT for.  It doesn't say "Though must use PUT to do
PUT-like things", nor does anybody here say that, except when the
context is doing things perfectly RESTful ... which is very often a
great objective to shoot for, but sometimes (though not as often as many
would believe) unattainable.

Mark.
-- 
Mark Baker.   Ottawa, Ontario, CANADA.        http://www.markbaker.ca

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4394<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2004-05-28 17:25:28<br>
Subject:Re: [rest-discuss] PUT considered fancy<br>
Message:<br><br>
<pre>On Fri, May 28, 2004 at 01:03:01PM -0400, Lucas Gonze wrote:
&gt; 
&gt; Another example of how lowly PUT is fancy: virtually 100% of PUT
&gt; documentation and related tools think it means to copy a file from the
&gt; client to the server.

You mean it's not?  1/2 8-)

Mark.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4395<br>
Sender:Julian Reschke &lt;julian.reschke@...&gt;<br>
Post Date/Time:2004-05-28 17:28:27<br>
Subject:Re: [rest-discuss] PUT considered fancy<br>
Message:<br><br>
<pre>Lucas Gonze wrote:

&gt; On Fri, 28 May 2004, Julian Reschke wrote:
&gt; 
&gt;&gt;Why would you want to encode the /file/?
&gt; 
&gt; 
&gt; I leave this as an exercise for the reader.

Well, I've never encoded the PUT body itself; unless you're talking 
about things like content-encoding (which work for PUT the same way as 
everything else). And believe me, I've written code for *many* PUT requests.

Best regards, Julian

-- 
&lt;green/&gt;bytes GmbH -- http://www.greenbytes.de -- tel:+492512807760

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4396<br>
Sender:Julian Reschke &lt;julian.reschke@...&gt;<br>
Post Date/Time:2004-05-28 17:31:08<br>
Subject:Re: [rest-discuss] PUT considered fancy<br>
Message:<br><br>
<pre>Lucas Gonze wrote:

&gt; Another example of how lowly PUT is fancy: virtually 100% of PUT
&gt; documentation and related tools think it means to copy a file from the
&gt; client to the server.
 &gt; ...

Hmm. It's really hard to follow you. Could you please be a bit more 
verbose about why you consider that wrong? It doesn't need to be a 
physical file, ok, but besides that?

Julian


-- 
&lt;green/&gt;bytes GmbH -- http://www.greenbytes.de -- tel:+492512807760

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4397<br>
Sender:Lucas Gonze &lt;lgonze@...&gt;<br>
Post Date/Time:2004-05-28 18:08:01<br>
Subject:Re: [rest-discuss] PUT considered fancy<br>
Message:<br><br>
<pre>On Fri, 28 May 2004, Julian Reschke wrote:

&gt; Lucas Gonze wrote:
&gt;
&gt; &gt; Another example of how lowly PUT is fancy: virtually 100% of PUT
&gt; &gt; documentation and related tools think it means to copy a file from the
&gt; &gt; client to the server.
&gt; &gt; ...
&gt;
&gt; Hmm. It's really hard to follow you. Could you please be a bit more
&gt; verbose about why you consider that wrong? It doesn't need to be a
&gt; physical file, ok, but besides that?

I am debugging a problem with PUT.  PUT data on this server never gets to
the handler script.  There are many places in the server configuration
where the PUT data could be getting blocked, because all the server tools
(Apache, PHP, Plesk) treat PUT as an opt-in, because they think it's about
uploading files.  There are plenty of potential sources of the problem.

Compare that to GET, which just works.

This is not a request for help and it's not a complaint about Apache, PHP
or Plesk.  It's an example to explain my comment that PUT does not work by
default and so has to be considered fancy.

- Lucas


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4398<br>
Sender:Joe Gregorio &lt;joe@...&gt;<br>
Post Date/Time:2004-05-28 18:15:49<br>
Subject:Re: [rest-discuss] PUT considered fancy<br>
Message:<br><br>
<pre>Lucas Gonze wrote:
&gt; 
&gt; This is not a request for help and it's not a complaint about Apache, PHP
&gt; or Plesk.  It's an example to explain my comment that PUT does not work by
&gt; default and so has to be considered fancy.

The availability of PUT and DELETE across
various toolsets has been extensively 
cataloged here:

http://tinyurl.com/2h54n

	-joe

-- 
http://BitWorking.org
http://WellFormedWeb.org


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4399<br>
Sender:Lucas Gonze &lt;lgonze@...&gt;<br>
Post Date/Time:2004-05-28 18:24:57<br>
Subject:Re: [rest-discuss] PUT considered fancy<br>
Message:<br><br>
<pre>On Fri, 28 May 2004, Mark Baker wrote:
&gt; Eek, I think you've got this all wrong Lucas.  REST is a guide.  It
&gt; helps you understand, in this case, the costs of using POST to do what
&gt; you'd normally use PUT for.  It doesn't say "Though must use PUT to do
&gt; PUT-like things", nor does anybody here say that, except when the
&gt; context is doing things perfectly RESTful ... which is very often a
&gt; great objective to shoot for, but sometimes (though not as often as many
&gt; would believe) unattainable.

Hi Mark,

I am certain that I do not have this all wrong.  My comments here are for
people like me who are interested in the work of taking this guide and
putting it into practice.  Putting it into practice means comments about
boring things like broken software, which is why I am reporting on my
experience with broken software.  In the long run the faction that this
makes sense to will use this kind of report to make doing things in a
RESTful way attainable.

- Lucas


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4400<br>
Sender:Lucas Gonze &lt;lgonze@...&gt;<br>
Post Date/Time:2004-05-28 18:28:59<br>
Subject:Re: [rest-discuss] PUT considered fancy<br>
Message:<br><br>
<pre>
Joe, you get it.  This is exactly the kind of practical compilation that
moves things forward.

- Lucas

On Fri, 28 May 2004, Joe Gregorio wrote:

&gt; Lucas Gonze wrote:
&gt; &gt;
&gt; &gt; This is not a request for help and it's not a complaint about Apache, PHP
&gt; &gt; or Plesk.  It's an example to explain my comment that PUT does not work by
&gt; &gt; default and so has to be considered fancy.
&gt;
&gt; The availability of PUT and DELETE across
&gt; various toolsets has been extensively
&gt; cataloged here:
&gt;
&gt; http://tinyurl.com/2h54n
&gt;
&gt;       -joe
&gt;
&gt; --
&gt; http://BitWorking.org
&gt; http://WellFormedWeb.org
&gt;
&gt;
&gt; Yahoo! Groups Sponsor
&gt; ADVERTISEMENT
&gt; click here
&gt; [rand=455978700]
&gt;
&gt; _______________________________________________________________________________________________
&gt; Yahoo! Groups Links
&gt;  *  To visit your group on the web, go to:
&gt;     http://groups.yahoo.com/group/rest-discuss/
&gt;
&gt;  *  To unsubscribe from this group, send an email to:
&gt;     rest-discuss-unsubscribe@yahoogroups.com
&gt;
&gt;  *  Your use of Yahoo! Groups is subject to the Yahoo! Terms of Service.
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4401<br>
Sender:"thompsonbry" &lt;thompsonbry@...&gt;<br>
Post Date/Time:2004-05-28 18:22:19<br>
Subject:Switching Protocols - real world experience?<br>
Message:<br><br>
<pre>I confess that I am deeply curious about the real world use of the 
101 (Switching Protocols) status code.  Is this viable in today's 
firewall environment?  Does anyone have a roadmap of success and 
failure that they are interested in sharing? 

-bryan 



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4402<br>
Sender:Julian Reschke &lt;julian.reschke@...&gt;<br>
Post Date/Time:2004-05-28 19:04:47<br>
Subject:Re: [rest-discuss] PUT considered fancy<br>
Message:<br><br>
<pre>Lucas Gonze wrote:

&gt; On Fri, 28 May 2004, Julian Reschke wrote:
&gt; 
&gt; 
&gt;&gt;Lucas Gonze wrote:
&gt;&gt;
&gt;&gt;
&gt;&gt;&gt;Another example of how lowly PUT is fancy: virtually 100% of PUT
&gt;&gt;&gt;documentation and related tools think it means to copy a file from the
&gt;&gt;&gt;client to the server.
&gt;&gt;&gt;...
&gt;&gt;
&gt;&gt;Hmm. It's really hard to follow you. Could you please be a bit more
&gt;&gt;verbose about why you consider that wrong? It doesn't need to be a
&gt;&gt;physical file, ok, but besides that?
&gt; 
&gt; 
&gt; I am debugging a problem with PUT.  PUT data on this server never gets to
&gt; the handler script.  There are many places in the server configuration
&gt; where the PUT data could be getting blocked, because all the server tools
&gt; (Apache, PHP, Plesk) treat PUT as an opt-in, because they think it's about
&gt; uploading files.  There are plenty of potential sources of the problem.
&gt; 
&gt; Compare that to GET, which just works.

If your point is that GET has better support than PUT -- ok, that's kind 
of obvious. On the other hand, with the Java servlet API I never ever 
had any problem implementing handlers for PUT, so it's definitively not 
"fancy" from my point of view. Nor are OPTIONS, PROPFIND, PROPPATCH or 
other new HTTP methods.

&gt; This is not a request for help and it's not a complaint about Apache, PHP
&gt; or Plesk.  It's an example to explain my comment that PUT does not work by
&gt; default and so has to be considered fancy.

Obviously that depends on the environment you're in.

Best regards, Julian

-- 
&lt;green/&gt;bytes GmbH -- http://www.greenbytes.de -- tel:+492512807760

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4403<br>
Sender:Lucas Gonze &lt;lgonze@...&gt;<br>
Post Date/Time:2004-05-28 19:21:38<br>
Subject:Re: [rest-discuss] PUT considered fancy<br>
Message:<br><br>
<pre>
On Fri, 28 May 2004, Julian Reschke wrote:
&gt; If your point is that GET has better support than PUT -- ok, that's kind
&gt; of obvious. On the other hand, with the Java servlet API I never ever
&gt; had any problem implementing handlers for PUT, so it's definitively not
&gt; "fancy" from my point of view. Nor are OPTIONS, PROPFIND, PROPPATCH or
&gt; other new HTTP methods.

I'm not going to argue abut the premise.  I asked in another thread
whether there were people interested in a rest-dev kind of list and
consensus was for using rest-discuss, but now in actually doing that I'm
having to defend the concept.

I'm outta here.  Go back to how many angels fit on the head of a pin.



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4404<br>
Sender:Julian Reschke &lt;julian.reschke@...&gt;<br>
Post Date/Time:2004-05-28 19:25:19<br>
Subject:Re: [rest-discuss] PUT considered fancy<br>
Message:<br><br>
<pre>Lucas Gonze wrote:
&gt; On Fri, 28 May 2004, Julian Reschke wrote:
&gt; 
&gt;&gt;If your point is that GET has better support than PUT -- ok, that's kind
&gt;&gt;of obvious. On the other hand, with the Java servlet API I never ever
&gt;&gt;had any problem implementing handlers for PUT, so it's definitively not
&gt;&gt;"fancy" from my point of view. Nor are OPTIONS, PROPFIND, PROPPATCH or
&gt;&gt;other new HTTP methods.
&gt; 
&gt; 
&gt; I'm not going to argue abut the premise.  I asked in another thread
&gt; whether there were people interested in a rest-dev kind of list and
&gt; consensus was for using rest-discuss, but now in actually doing that I'm
&gt; having to defend the concept.
&gt; 
&gt; I'm outta here.  Go back to how many angels fit on the head of a pin.

Can't follow. You'll have to accept the fact that people will start to 
ask questions if what you write things they don't be understand. It's 
not anybody's fault; it's just how mailing lists work.

Anyway, why would you want to encode a PUT request body? Still wondering...


Best regards, Julian

-- 
&lt;green/&gt;bytes GmbH -- http://www.greenbytes.de -- tel:+492512807760

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4405<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2004-05-28 19:44:30<br>
Subject:Re: [rest-discuss] PUT considered fancy<br>
Message:<br><br>
<pre>Hey,

On Fri, May 28, 2004 at 02:24:57PM -0400, Lucas Gonze wrote:
&gt; Hi Mark,
&gt; 
&gt; I am certain that I do not have this all wrong.

Well, when you say stuff like "I have to be clear about my motivations
here: to get real.  We talk about this stuff as if implementation was
beneath us.", I take issue.

&gt;  My comments here are for
&gt; people like me who are interested in the work of taking this guide and
&gt; putting it into practice.  Putting it into practice means comments about
&gt; boring things like broken software, which is why I am reporting on my
&gt; experience with broken software.  In the long run the faction that this
&gt; makes sense to will use this kind of report to make doing things in a
&gt; RESTful way attainable.

Ok, we're good.  I think the take-away point is this; it's useful to
both have an architectural guide and a grasp of the practical issues
involved in following such a guide, when designing Web apps (or anything
else, for that matter).  While most discussions on rest-discuss focus on
the guide, that doesn't mean that we don't understand, appreciate, or
even discuss on occasion, the practical side of things.  Your
observation about problems with using PUT was welcome; your suggestion
that we don't appreciate those problems, not so much. 8-O

Mark.
-- 
Mark Baker.   Ottawa, Ontario, CANADA.        http://www.markbaker.ca

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4406<br>
Sender:Lucas Gonze &lt;lgonze@...&gt;<br>
Post Date/Time:2004-05-28 19:48:16<br>
Subject:Re: [rest-discuss] PUT considered fancy<br>
Message:<br><br>
<pre>

On Fri, 28 May 2004, Julian Reschke wrote:

&gt; Lucas Gonze wrote:
&gt; &gt; On Fri, 28 May 2004, Julian Reschke wrote:
&gt; &gt;
&gt; &gt;&gt;If your point is that GET has better support than PUT -- ok, that's kind
&gt; &gt;&gt;of obvious. On the other hand, with the Java servlet API I never ever
&gt; &gt;&gt;had any problem implementing handlers for PUT, so it's definitively not
&gt; &gt;&gt;"fancy" from my point of view. Nor are OPTIONS, PROPFIND, PROPPATCH or
&gt; &gt;&gt;other new HTTP methods.
&gt; &gt;
&gt; &gt;
&gt; &gt; I'm not going to argue abut the premise.  I asked in another thread
&gt; &gt; whether there were people interested in a rest-dev kind of list and
&gt; &gt; consensus was for using rest-discuss, but now in actually doing that I'm
&gt; &gt; having to defend the concept.
&gt; &gt;
&gt; &gt; I'm outta here.  Go back to how many angels fit on the head of a pin.
&gt;
&gt; Can't follow. You'll have to accept the fact that people will start to
&gt; ask questions if what you write things they don't be understand. It's
&gt; not anybody's fault; it's just how mailing lists work.

The thing here is that I'm defending the premise rather than working out
the details.  The premise is: RESTful design is mature, implementation
isn't.   Even something as ancient as PUT involves jumping through hoops.
Knowing that is a step towards fixing it.  Being able to use REST rather
than, e.g., XML-RPC requires us to fix it.

This thread is a bug report or todo item.  I've spent a ton of time
justifying the concept of a bug report or todo item, which is senseless.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4407<br>
Sender:Lucas Gonze &lt;lgonze@...&gt;<br>
Post Date/Time:2004-05-28 20:47:05<br>
Subject:Re: [rest-discuss] PUT considered fancy<br>
Message:<br><br>
<pre>

On Fri, 28 May 2004, Mark Baker wrote:
&gt; Ok, we're good.  I think the take-away point is this; it's useful to
&gt; both have an architectural guide and a grasp of the practical issues
&gt; involved in following such a guide, when designing Web apps (or anything
&gt; else, for that matter).  While most discussions on rest-discuss focus on
&gt; the guide, that doesn't mean that we don't understand, appreciate, or
&gt; even discuss on occasion, the practical side of things.  Your
&gt; observation about problems with using PUT was welcome; your suggestion
&gt; that we don't appreciate those problems, not so much. 8-O

My bad.  I apologize for being clearly rude.


- Lucas


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4408<br>
Sender:"Roy T. Fielding" &lt;fielding@...&gt;<br>
Post Date/Time:2004-05-28 20:47:50<br>
Subject:Re: [rest-discuss] PUT considered fancy<br>
Message:<br><br>
<pre>As I said before, bidirectional communication is a security issue
for general purpose servers.  It should be obvious that the folks
who write general purpose servers will distribute them with the
safe defaults turned on instead of the "please shoot me, I don't
know what I'm doing" configuration.  That doesn't prevent anyone
with legitimate access to the server from designing, developing,
and deploying a web service based on REST-style interaction.
It isn't supposed to be available by default.

....Roy


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4409<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2004-05-29 07:50:15<br>
Subject:Re: [rest-discuss] PUT considered fancy<br>
Message:<br><br>
<pre>
End result
 - A link summarizing support of PUT for various clients &amp; servers was found
&amp; relayed (thanks Joe)
 - Lucas still can't use PUT (or can you? let us know either way)
 - rest-discuss wondering why Lucas would encode the data to be PUT (you can
send pure binary if you like)
 - rest-discuss members relate no problem receiving PUT with other
environments (servlets, etc)

Lucas - What are you using to host WebJay? Maybe someone has a similar
environment &amp; can make a suggestion.


----- Original Message ----- 
From: "Lucas Gonze" &lt;lgonze@...&gt;
To: "Mark Baker" &lt;distobj@...&gt;
Cc: &lt;lucas@...&gt;; &lt;rest-discuss@yahoogroups.com&gt;
Sent: Friday, May 28, 2004 1:47 PM
Subject: Re: [rest-discuss] PUT considered fancy


&gt;
&gt;
&gt; On Fri, 28 May 2004, Mark Baker wrote:
&gt; &gt; Ok, we're good.  I think the take-away point is this; it's useful to
&gt; &gt; both have an architectural guide and a grasp of the practical issues
&gt; &gt; involved in following such a guide, when designing Web apps (or anything
&gt; &gt; else, for that matter).  While most discussions on rest-discuss focus on
&gt; &gt; the guide, that doesn't mean that we don't understand, appreciate, or
&gt; &gt; even discuss on occasion, the practical side of things.  Your
&gt; &gt; observation about problems with using PUT was welcome; your suggestion
&gt; &gt; that we don't appreciate those problems, not so much. 8-O
&gt;
&gt; My bad.  I apologize for being clearly rude.
&gt;
&gt;
&gt; - Lucas
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4410<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2004-05-29 07:53:03<br>
Subject:Re: [rest-discuss] PUT considered fancy<br>
Message:<br><br>
<pre>I think the point of the question was that PUT does not require URL encoding
in the same way that browsers encode file uploads ("multipart/form-data").
An HTTP request with PUT can send just the pure binary of the file if that
is desired - you'd still send the content-type in the request header though.

Or I might be too slothful to accept the excersize challenge...

----- Original Message ----- 
From: "Lucas Gonze" &lt;lgonze@...&gt;
To: "Julian Reschke" &lt;julian.reschke@...&gt;
Cc: &lt;lucas@...&gt;; "Mark Baker" &lt;distobj@...&gt;;
&lt;rest-discuss@yahoogroups.com&gt;
Sent: Friday, May 28, 2004 10:19 AM
Subject: Re: [rest-discuss] PUT considered fancy


&gt; On Fri, 28 May 2004, Julian Reschke wrote:
&gt; &gt; Why would you want to encode the /file/?
&gt;
&gt; I leave this as an exercise for the reader.
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4411<br>
Sender:Lucas Gonze &lt;lgonze@...&gt;<br>
Post Date/Time:2004-05-29 13:13:20<br>
Subject:Re: [rest-discuss] PUT considered fancy<br>
Message:<br><br>
<pre>

On Sat, 29 May 2004, S. Mike Dierken wrote:

&gt; I think the point of the question was that PUT does not require URL encoding
&gt; in the same way that browsers encode file uploads ("multipart/form-data").
&gt; An HTTP request with PUT can send just the pure binary of the file if that
&gt; is desired - you'd still send the content-type in the request header though.
&gt;
&gt; Or I might be too slothful to accept the excersize challenge...

You're not.  I thought I had a good application reason to URL encode, one
so obvious that anyone would know it, but I was wrong.

- Lucas


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4412<br>
Sender:Lucas Gonze &lt;lgonze@...&gt;<br>
Post Date/Time:2004-05-29 14:22:06<br>
Subject:Re: [rest-discuss] PUT considered fancy<br>
Message:<br><br>
<pre>
Hey Mike,

Thanks for taking my trollish and incoherent messages at face value.

On Sat, 29 May 2004, S. Mike Dierken wrote:
&gt; End result
&gt;  - A link summarizing support of PUT for various clients &amp; servers was found
&gt; &amp; relayed (thanks Joe)
&gt;  - Lucas still can't use PUT (or can you? let us know either way)

Nope.  I had to finish the job, so I redesigned to use POST.

&gt;  - rest-discuss wondering why Lucas would encode the data to be PUT (you can
&gt; send pure binary if you like)

Lucas wrong.

&gt;  - rest-discuss members relate no problem receiving PUT with other
&gt; environments (servlets, etc)

True, with the caveat that the Atom group documented some common
situations where PUT is broken by default.

&gt; Lucas - What are you using to host WebJay? Maybe someone has a similar
&gt; environment &amp; can make a suggestion.

No need, Mike.  I really didn't mean to be asking for debugging help.  But
thanks.

...

My own conclusions --

As Roy said, it's reasonable for ISPs to limit attack vectors like PUT.
At the same time, developers doing RESTful designs need to use the full
powers of HTTP -- any of the designs we arrive at here should be fair game
even without write permissions on httpd.conf.

One general fix is to find or create hosts configured specifically for
RESTful web services.  Another, more appealing to app developers who need
to use an existing account, is to create software that you can drop in
place.

An example of how servers would be specially configured is that PUT could
be enabled by default, with no restrictions, as long as features which
turn it into an attack vector were disabled.  Features that turn it into
an attack vector include mod_put and the PEAR Upload.php script.  These
turn it into an attack vector by using it as a method for uploading files,
which obviously entails a lot of danger.  There is nothing intrinsically
more dangerous about PUT than about POST; it is using PUT as a synonym for
uploading that creates the danger.

- Lucas




&gt;
&gt;
&gt; ----- Original Message -----
&gt; From: "Lucas Gonze" &lt;lgonze@...&gt;
&gt; To: "Mark Baker" &lt;distobj@...&gt;
&gt; Cc: &lt;lucas@...&gt;; &lt;rest-discuss@yahoogroups.com&gt;
&gt; Sent: Friday, May 28, 2004 1:47 PM
&gt; Subject: Re: [rest-discuss] PUT considered fancy
&gt;
&gt;
&gt; &gt;
&gt; &gt;
&gt; &gt; On Fri, 28 May 2004, Mark Baker wrote:
&gt; &gt; &gt; Ok, we're good.  I think the take-away point is this; it's useful to
&gt; &gt; &gt; both have an architectural guide and a grasp of the practical issues
&gt; &gt; &gt; involved in following such a guide, when designing Web apps (or anything
&gt; &gt; &gt; else, for that matter).  While most discussions on rest-discuss focus on
&gt; &gt; &gt; the guide, that doesn't mean that we don't understand, appreciate, or
&gt; &gt; &gt; even discuss on occasion, the practical side of things.  Your
&gt; &gt; &gt; observation about problems with using PUT was welcome; your suggestion
&gt; &gt; &gt; that we don't appreciate those problems, not so much. 8-O
&gt; &gt;
&gt; &gt; My bad.  I apologize for being clearly rude.
&gt; &gt;
&gt; &gt;
&gt; &gt; - Lucas
&gt; &gt;
&gt; &gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4413<br>
Sender:Nic Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2004-05-29 14:12:00<br>
Subject:Re: [rest-discuss] PUT considered fancy<br>
Message:<br><br>
<pre>Lucas Gonze &lt;lgonze@...&gt; writes:

&gt; On Sat, 29 May 2004, S. Mike Dierken wrote:
&gt; 
&gt; &gt; I think the point of the question was that PUT does not require URL encoding
&gt; &gt; in the same way that browsers encode file uploads ("multipart/form-data").
&gt; &gt; An HTTP request with PUT can send just the pure binary of the file if that
&gt; &gt; is desired - you'd still send the content-type in the request header though.
&gt; &gt;
&gt; &gt; Or I might be too slothful to accept the excersize challenge...
&gt; 
&gt; You're not.  I thought I had a good application reason to URL encode, one
&gt; so obvious that anyone would know it, but I was wrong.

So maybe people here have misunderstood you. Don't get angry, just
try and explain. I for one am interested in your PUT problem.


Nic


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4414<br>
Sender:Tyler Close &lt;list@...&gt;<br>
Post Date/Time:2004-05-29 16:22:44<br>
Subject:Re: [rest-discuss] Switching Protocols - real world experience?<br>
Message:<br><br>
<pre>thompsonbry wrote:
&gt; I confess that I am deeply curious about the real world use of the 
&gt; 101 (Switching Protocols) status code.  Is this viable in today's 
&gt; firewall environment?  Does anyone have a roadmap of success and 
&gt; failure that they are interested in sharing? 

The HTTPSY protocol uses the 101 status code to initiate a TLS/1.0 
upgrade, as specified by section 3.3 of RFC 2817.

I'd be interested in any reports of problems with firewalls. You can 
test for problems using the Waterken Browser, which implements the 
HTTPSY protocol.

The HTTPSY specification is at:

http://www.waterken.com/dev/YURL/httpsy/

The Waterken Browser home page is at:

http://www.waterken.com/dev/Browser/

An example URL, for testing the HTTPSY protocol is:

httpsy://*cl7h3f7jwyj3fvmw7jpnjfvf2xlcmayi@.../

This URL is also contained in the default bookmarks file included in the 
Waterken Browser download. You will see this hyperlink when the browser 
first starts up. After clicking on the hyperlink, you should see the 
Waterken Inc. home page.

If people could try the software with different firewalls, and send me 
the success or failure results, I will gladly compile them into a list 
and report back.

Tyler

-- 
The web-calculus is the union of REST and capability-based security.
http://www.waterken.com/dev/Web/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4415<br>
Sender:"thompsonbry" &lt;thompsonbry@...&gt;<br>
Post Date/Time:2004-05-30 16:59:52<br>
Subject:Integration with Chiba?<br>
Message:<br><br>
<pre>I'm looking at an integration of Chiba's XForms implementation into a 
REST repository.  Does anyone have experience with integrating 
Chiba?  (One of the chiba authors suggested the 1060 folks had done 
this, which is why I'm posting to this list.)

Thanks,

-bryan


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4416<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2004-05-31 13:27:44<br>
Subject:New RESTwiki<br>
Message:<br><br>
<pre>Hi everyone,

We have a new home for RESTwiki[1]!

It uses PurpleWiki[2] which isn't very different than MoinMoin, except
that it doesn't use white space for indentation, uses purple numbers[3]
(which, coincidentally, Tim Bray just switched[4] to using on his
weblog), plus some other minor things.

If there's any issues, email me.

Thanks to Eugene Kim and Blue Oxen Associates for hosting it.

 [1] http://rest.blueoxen.net/
 [2] http://www.blueoxen.org/tools/purplewiki/
 [3] http://www.eekim.com/software/purple/purple.html
 [4] http://www.tbray.org/ongoing/When/200x/2004/05/29/PurpleNumbers

Mark.
-- 
Mark Baker.   Ottawa, Ontario, CANADA.        http://www.markbaker.ca

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4417<br>
Sender:"dorchard100" &lt;orchard@...&gt;<br>
Post Date/Time:2004-06-01 17:33:44<br>
Subject:Re-using information fields for queries in REST<br>
Message:<br><br>
<pre>Hey all,

I was wondering about the best way to RESTfully model information 
retrievals versus queries in REST.  Imagine an Artist structure with 
name, genre, albums, rating, etc.  I want to both search for Artists 
that approximate the name or albums, or exactly match a genre or 
rating.  As well, I want to retrieve a given Artist's information.  

The retrieval is easy, with something like GET /Artist?
name=thieverycorp retrieving the structure.  

But then if want to do a search, I was thinking the best rest way of 
modeling is to make a Query structure that contains all the Artist 
queryable information, maybe it's even the same type, and then have 
an ArtistList resource.  Then I could say that any of the ArtistQuery 
fields can be put in the URI, ie
GET /ArtistList?name=thieverycorp or GET /ArtistList?albums=blue.

I can't see a way of using the same URI base for both retrievals and 
queries without doing some funky parameters in the URI.  There's a 
variety of other techniques, like appending the requested return type 
(GET /Artist?name=thieverycorp&amp;type=ArtistList), the number of 
results to return (GET /Artist?name=thieverycorp&amp;rows=1), etc. but 
they all seem a bit .... goofy.

Any help on the best way to model this would be appreciated.  I'm 
pretty sure this is almost an FAQ kind of question, so even a pointer 
would be great.

Thanks,
Dave Orchard



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4418<br>
Sender:"Walden Mathews" &lt;walden@...&gt;<br>
Post Date/Time:2004-06-01 19:46:49<br>
Subject:Re: [rest-discuss] Re-using information fields for queries in REST<br>
Message:<br><br>
<pre>
----- Original Message ----- 
From: "dorchard100" &lt;orchard@...&gt;
To: &lt;rest-discuss@yahoogroups.com&gt;
Sent: Tuesday, June 01, 2004 1:33 PM
Subject: [rest-discuss] Re-using information fields for queries in REST


| Hey all,
| 
| I was wondering about the best way to RESTfully model information 
| retrievals versus queries in REST.  Imagine an Artist structure with 
| name, genre, albums, rating, etc.  I want to both search for Artists 
| that approximate the name or albums, or exactly match a genre or 
| rating.  As well, I want to retrieve a given Artist's information.  
| 
| The retrieval is easy, with something like GET /Artist?
| name=thieverycorp retrieving the structure.

That looks more like a collection or subset to me.  A single
artist resource might be more like /Artist/123.  An important
question is: how does the client discover that URI?  The "hyptertext
engine" constraint of REST really wants it to be discovered, not
fabricated by client as a parameter list.

  
| 
| But then if want to do a search, I was thinking the best rest way of 
| modeling is to make a Query structure that contains all the Artist 
| queryable information, maybe it's even the same type, and then have 
| an ArtistList resource.  Then I could say that any of the ArtistQuery 
| fields can be put in the URI, ie
| GET /ArtistList?name=thieverycorp or GET /ArtistList?albums=blue.

I would have called it /Artists?prop=value,..., but that's just
naming preference.


| 
| I can't see a way of using the same URI base for both retrievals and 
| queries without doing some funky parameters in the URI.  

URI's are cheap, and so then are URI bases.  Why the need
for such economy?

There's a 
| variety of other techniques, like appending the requested return type 
| (GET /Artist?name=thieverycorp&amp;type=ArtistList), the number of 
| results to return (GET /Artist?name=thieverycorp&amp;rows=1), etc. but 
| they all seem a bit .... goofy.

All stemming from a false sense of URI conservation, right?

If your application really needs to hide the distinction between
a single resource and a collection of that resource "type",
then you could try an Alloy trick: treat instances as singleton
sets.

That would mean there are only queries, no retrievals (to use
your lingo), and when a query returns a single result, blow right
past the list representation to the individual.  I don't know how
RESTful or unRESTful that would be.  I suspect it's neither.

| 
| Any help on the best way to model this would be appreciated.  I'm 
| pretty sure this is almost an FAQ kind of question, so even a pointer 
| would be great.
| 
| Thanks,
| Dave Orchard


Walden



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4419<br>
Sender:"Roy T. Fielding" &lt;fielding@...&gt;<br>
Post Date/Time:2004-06-01 19:58:16<br>
Subject:Re: [rest-discuss] Re-using information fields for queries in REST<br>
Message:<br><br>
<pre>Hi Dave,

The best way is to have the query do just that -- present a list
of query results.  If you actually want it to direct the client to
a single match, then send a redirect to that match.  The resources
themselves should be independently named from any query that you do,
even if that means simply redirecting them to something dull like

    /Artist/id/12345678

....Roy


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4420<br>
Sender:Jeff Bone &lt;jbone@...&gt;<br>
Post Date/Time:2004-06-01 20:45:18<br>
Subject:Re: [rest-discuss] representational completeness<br>
Message:<br><br>
<pre>
&gt; Well, how did I do? Is that even close to the truth?
&gt;
&gt; Regards
&gt; Donald.

BTW, Donald, sorry to have taken so long to post a response, your 
message ended up in my spam bin somehow.  Not speaking for other folks, 
but I think you did a fine job of summarizing.  My only caveat is that 
sending diffs around / processing them is useful when there's a LOT of 
data of a relatively opaque form, but the cost is clarity and 
simplicity;  in smaller cases (such as the example) and perhaps most 
applications of document-oriented XML messaging in general --- I'm not 
sure the benefit is worth the cost.  But that's more a subjective style 
thing than anything else.

Also NB:  per the If-Match:  entity tags?  Full-on versioning of every 
reified resource seems onerous.  Don't know if that was implied or not, 
but a hash or randomly generated token per version or date of last mod 
or transaction sequence number or any number of other tokens could be 
used as entity tags w/ the same effect.  IMHO, versioning per se is a 
rather centralized and brittle mechanism --- particularly for an 
application like preventing simple update collisions.  And IMHO, given 
all the additional semantics of versioning per se, if you're going that 
route you might as well completely reify the whole version tree in 
URIspace.

jb


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4421<br>
Sender:"David Orchard" &lt;orchard@...&gt;<br>
Post Date/Time:2004-06-01 21:16:23<br>
Subject:RE: [rest-discuss] Re-using information fields for queries in REST<br>
Message:<br><br>
<pre>&gt; -----Original Message-----
&gt; From: Walden Mathews [mailto:walden@eqwality.com]
&gt; | I was wondering about the best way to RESTfully model information 
&gt; | retrievals versus queries in REST.  Imagine an Artist 
&gt; structure with 
&gt; | name, genre, albums, rating, etc.  I want to both search 
&gt; for Artists 
&gt; | that approximate the name or albums, or exactly match a genre or 
&gt; | rating.  As well, I want to retrieve a given Artist's information.  
&gt; | 
&gt; | The retrieval is easy, with something like GET /Artist?
&gt; | name=thieverycorp retrieving the structure.
&gt; 
&gt; That looks more like a collection or subset to me.  A single
&gt; artist resource might be more like /Artist/123.  An important
&gt; question is: how does the client discover that URI?  The "hyptertext
&gt; engine" constraint of REST really wants it to be discovered, not
&gt; fabricated by client as a parameter list.

Why is discovery of a particular URI "better" than discovery of the construction technique for a URI?  This argues that HTML FORM GETs are a bad way of creating URIs because they are fabricated.

Cheers,
Dave

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4422<br>
Sender:Seairth Jacobs &lt;seairth@...&gt;<br>
Post Date/Time:2004-06-01 23:54:27<br>
Subject:Re: [rest-discuss] Re-using information fields for queries in REST<br>
Message:<br><br>
<pre>"David Orchard" wrote:

&gt;&gt;-----Original Message-----
&gt;&gt;From: Walden Mathews [mailto:walden@...]
&gt;&gt;
&gt;&gt;That looks more like a collection or subset to me.  A single
&gt;&gt;artist resource might be more like /Artist/123.  An important
&gt;&gt;question is: how does the client discover that URI?  The "hyptertext
&gt;&gt;engine" constraint of REST really wants it to be discovered, not
&gt;&gt;fabricated by client as a parameter list.
&gt;&gt;    
&gt;&gt;
&gt;
&gt;Why is discovery of a particular URI "better" than discovery of the construction technique for a URI?  This argues that HTML FORM GETs are a bad way of creating URIs because they are fabricated.
&gt;  
&gt;
Suppose you defined the semantics of the query response format to 
provide such constraints/rules necessary to construct URIs.  As long as 
the client understands the semantics of the format, you are basically 
where HTML forms are.  However, just listing the URIs themselves would 
be much more straight forward.  The URI is an opaque identifier.  As 
such, the client can stay dumb and loosely coupled.  If, at some later 
time, you should choose to change the URI construction (say from 
/artist/123 to /artist/tu123 or /a23423992359652), the client continues 
working unchanged.  The constructed URI approach, on the other hand, 
would be brittle.  You would either need to construct your URIs in a 
backward-compatible manner or require the clients to learn the new 
construction rules, neither of which are a very desirable choice.

Suppose you want to reference artists on another site that uses an 
entirely different URI format.  Are you going to reverse-engineer those 
URIs and add yet more semantics to the query response format for those URIs?

Also, there's a propensity for humans to see patterns in structures.  
URIs are often such a structure.  I agree that a person seeing 
/artist/123 may be inclined to try artist/124.  However, I think people 
are more inclined to see /artist?id=123 and try /artist?id=124.  The 
moment you tell people that there is a pattern, they expect the 
pattern.  You can't stop people from seeing patterns where there may not 
be any, but you can certainly stop from telling people there is a 
pattern where you know there is not one.

--
Seairth Jacobs

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4423<br>
Sender:"Roy T. Fielding" &lt;fielding@...&gt;<br>
Post Date/Time:2004-06-01 23:57:31<br>
Subject:Re: [rest-discuss] Re-using information fields for queries in REST<br>
Message:<br><br>
<pre>&gt; Why is discovery of a particular URI "better" than discovery of the 
&gt; construction technique for a URI?  This argues that HTML FORM GETs are 
&gt; a bad way of creating URIs because they are fabricated.

Caching.  If you already have the information for that artist,
why should you be forced to download it again?  Often, the reason
is because the resource provider just assumes every access is a
query by a new user on a home PC with broadband, because that is
the only way they have ever tested their own site.

The query URI is still a valid identifier for the query -- it just
isn't as useful, alone, for enhancing scalability.  A redirection
allows an infinite number of queries to be redirected to a finite
number of resources, each of which can be cached.  [Note: special
purpose caches can be created on the server-side for handling
common queries, as is done by Google and big e-commerce sites, but
that only improves back-end performance.]

Anyway, we are talking about resource discovery over arbitrary
data categories, and hence non-hierarchical in nature.  There is
nothing wrong with telling the client how it can form URI's,
assuming that such a function doesn't change much over time.
Again, for cache reasons, I prefer methods of telling the client
to use the template

    http://example.com/quotes/${exchange}/${symbol}

rather than the template

    http://example.com/quotes?market=${exchange}&amp;symbol=${symbol}

There is nothing stopping WSDL-like technology from defining
both of these mechanisms.

....Roy


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4424<br>
Sender:"Walden Mathews" &lt;walden@...&gt;<br>
Post Date/Time:2004-06-02 00:09:59<br>
Subject:Fw: [rest-discuss] Re-using information fields for queries in REST<br>
Message:<br><br>
<pre>Meant to send this to the list...

WM

----- Original Message ----- 
From: "Walden Mathews" &lt;walden@...&gt;
To: "David Orchard" &lt;orchard@...&gt;
Sent: Tuesday, June 01, 2004 7:46 PM
Subject: Re: [rest-discuss] Re-using information fields for queries in REST


: Dave,
:
: : &gt; That looks more like a collection or subset to me.  A single
: : &gt; artist resource might be more like /Artist/123.  An important
: : &gt; question is: how does the client discover that URI?  The "hyptertext
: : &gt; engine" constraint of REST really wants it to be discovered, not
: : &gt; fabricated by client as a parameter list.
: :
: : Why is discovery of a particular URI "better" than discovery of the
: construction technique for a URI?  This argues that HTML FORM GETs are a
bad
: way of creating URIs because they are fabricated.
: :
:
: It depends on what you're trying to do, and how much error you're
: willing to tolerate.
:
: You use GET FORMs to identify sets of resources, where the form
: fields correspond to the bound variables of a set comprehension.  And
: when you search like that, you have one set of expectations, including
: the possibility that you'll find nothing.
:
: In a different context, the one we were discussing above where you
: are trying to retrieve a known individual, a URI formula or construction
: technique would only introduce uncertainty, whereas an immutable
: string id is just the ticket.
:
: To put that concept to the test, consider how much you'd like the web
: if all the links were replaced by forms that required you to type naming
: minutiae without error, in order to progress.
:
: Your question is interesting: it caused me to think about to what degree
: forms qualify as "hypertext".  Does anyone have an opinion on that?
:
: Walden
:


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4425<br>
Sender:"David Orchard" &lt;orchard@...&gt;<br>
Post Date/Time:2004-06-02 00:47:54<br>
Subject:RE: [rest-discuss] Re-using information fields for queries in REST<br>
Message:<br><br>
<pre>Gotcha on the use of hierarchy rather than flat where appropriate.

&gt; -----Original Message-----
&gt; From: Roy T. Fielding [mailto:fielding@...]

&lt;snip/&gt;
&gt; Anyway, we are talking about resource discovery over arbitrary
&gt; data categories, and hence non-hierarchical in nature.  There is
&gt; nothing wrong with telling the client how it can form URI's,
&gt; assuming that such a function doesn't change much over time.
&gt; Again, for cache reasons, I prefer methods of telling the client
&gt; to use the template
&gt; 
&gt;     http://example.com/quotes/${exchange}/${symbol}
&gt; 
&gt; rather than the template
&gt; 
&gt;     http://example.com/quotes?market=${exchange}&amp;symbol=${symbol}
&gt; 
&gt; There is nothing stopping WSDL-like technology from defining
&gt; both of these mechanisms.
&gt; 
&gt; ....Roy
&gt; 

Hey, now there's an idea.  Maybe even official WSDL technology...

Cheers,
Dave

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4426<br>
Sender:"David Orchard" &lt;orchard@...&gt;<br>
Post Date/Time:2004-06-02 01:10:18<br>
Subject:RE: [rest-discuss] Re-using information fields for queries in REST<br>
Message:<br><br>
<pre>I don't like the idea of keeping the URI construction opaque from the
client because I don't want the extra round trip to get the list.  And I
think it's too network/compute intensive to get a complete list at the
client and then apply the filter/query to get the right matches.  
 
And your solution doesn't help the version problem.  If the URI changes,
it doesn't matter whether the algorithm changes or not, backwards compat
still has to either be granted or lost.  If there isn't backwards
compat, the client either has to get the new URI list or the new
algorithm, and I think propagating the algorithm is fine.  Just like
getting a new form page if somebody happens to be editing a form and the
URI construction changes right in the middle.
 
I have not a problem at all with relative URIs being not portable across
authorities.  It's up to each authority to define and describe it's URI
construction algorithm if it wants to expose one to a client.  Re-use of
relative URIs across domains falls way outside the 80/20 point for the
app I've been talking about.
 
Cheers,
Dave

-----Original Message-----
From: Seairth Jacobs [mailto:seairth@...]
Sent: Tuesday, June 01, 2004 4:54 PM
To: rest-discuss
Subject: Re: [rest-discuss] Re-using information fields for queries in
REST


"David Orchard" wrote: 

-----Original Message-----

From: Walden Mathews [ mailto:walden@...]



That looks more like a collection or subset to me.  A single

artist resource might be more like /Artist/123.  An important

question is: how does the client discover that URI?  The "hyptertext

engine" constraint of REST really wants it to be discovered, not

fabricated by client as a parameter list.

    



Why is discovery of a particular URI "better" than discovery of the
construction technique for a URI?  This argues that HTML FORM GETs are a
bad way of creating URIs because they are fabricated.

  

Suppose you defined the semantics of the query response format to
provide such constraints/rules necessary to construct URIs.  As long as
the client understands the semantics of the format, you are basically
where HTML forms are.  However, just listing the URIs themselves would
be much more straight forward.  The URI is an opaque identifier.  As
such, the client can stay dumb and loosely coupled.  If, at some later
time, you should choose to change the URI construction (say from
/artist/123 to /artist/tu123 or /a23423992359652), the client continues
working unchanged.  The constructed URI approach, on the other hand,
would be brittle.  You would either need to construct your URIs in a
backward-compatible manner or require the clients to learn the new
construction rules, neither of which are a very desirable choice.

Suppose you want to reference artists on another site that uses an
entirely different URI format.  Are you going to reverse-engineer those
URIs and add yet more semantics to the query response format for those
URIs?

Also, there's a propensity for humans to see patterns in structures.
URIs are often such a structure.  I agree that a person seeing
/artist/123 may be inclined to try artist/124.  However, I think people
are more inclined to see /artist?id=123 and try /artist?id=124.  The
moment you tell people that there is a pattern, they expect the pattern.
You can't stop people from seeing patterns where there may not be any,
but you can certainly stop from telling people there is a pattern where
you know there is not one.

--
Seairth Jacobs



Yahoo! Groups Sponsor	

ADVERTISEMENT
 
&lt;http://rd.yahoo.com/SIG=129q66tlr/M=295196.4901138.6071305.3001176/D=gr
oups/S=1705701014:HM/EXP=1086220475/A=2128215/R=0/SIG=10se96mf6/*http://
companion.yahoo.com&gt; click here	
 
&lt;http://us.adserver.yahoo.com/l?M=295196.4901138.6071305.3001176/D=group
s/S=:HM/A=2128215/rand=594699565&gt; 	


  _____  

Yahoo! Groups Links


*	To visit your group on the web, go to:
http://groups.yahoo.com/group/rest-discuss/
  

*	To unsubscribe from this group, send an email to:
rest-discuss-unsubscribe@yahoogroups.com
&lt;mailto:rest-discuss-unsubscribe@yahoogroups.com?subject=Unsubscribe&gt; 
  

*	Your use of Yahoo! Groups is subject to the Yahoo! Terms of
Service &lt;http://docs.yahoo.com/info/terms/&gt; . 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4427<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2004-06-02 03:37:39<br>
Subject:Re: [rest-discuss] Re-using information fields for queries in REST<br>
Message:<br><br>
<pre>On Tue, Jun 01, 2004 at 05:47:54PM -0700, David Orchard wrote:
&gt; Gotcha on the use of hierarchy rather than flat where appropriate.
&gt; 
&gt; &gt; -----Original Message-----
&gt; &gt; From: Roy T. Fielding [mailto:fielding@...]
&gt; 
&gt; &lt;snip/&gt;
&gt; &gt; Anyway, we are talking about resource discovery over arbitrary
&gt; &gt; data categories, and hence non-hierarchical in nature.  There is
&gt; &gt; nothing wrong with telling the client how it can form URI's,
&gt; &gt; assuming that such a function doesn't change much over time.
&gt; &gt; Again, for cache reasons, I prefer methods of telling the client
&gt; &gt; to use the template
&gt; &gt; 
&gt; &gt;     http://example.com/quotes/${exchange}/${symbol}
&gt; &gt; 
&gt; &gt; rather than the template
&gt; &gt; 
&gt; &gt;     http://example.com/quotes?market=${exchange}&amp;symbol=${symbol}
&gt; &gt; 
&gt; &gt; There is nothing stopping WSDL-like technology from defining
&gt; &gt; both of these mechanisms.
&gt; &gt; 
&gt; &gt; ....Roy
&gt; &gt; 
&gt; 
&gt; Hey, now there's an idea.  Maybe even official WSDL technology...

*groan*  Ok, sure, *now* you support my "make WSDL more form-like"
suggestions. 8-)

The new HTTP binding goes further in this direction, but still falls
short largely because it bumps up against the *very* different demands
of a forms language compared with an interface description language.

I'd personally prefer to start over with a forms language, which is
why I created RDF Forms; http://www.markbaker.ca/2003/05/RDF-Forms/ .
But it has a bit of legacy in its support of www-form-urlencoded
serializations for POST bodies and URIs largely because that's what
server APIs easily support and it's what I used at work.  But I'd love
to get a more general generative naming language in there that could
support hierarchy as Roy describes.

Mark.
-- 
Mark Baker.   Ottawa, Ontario, CANADA.        http://www.markbaker.ca

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4428<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2004-06-02 04:41:06<br>
Subject:Re: [rest-discuss] Re-using information fields for queries in REST<br>
Message:<br><br>
<pre>&gt; But I'd love
&gt; to get a more general generative naming language in there that could
&gt; support hierarchy as Roy describes.

Well, let's start building one.

Strawman01
&lt;!-- provide the URI pattern to use --&gt;
&lt;form resource="http://example.com/quotes/${exchange}/${symbol}"
method='get'&gt;
 &lt;input name='exchange' type='text' /&gt;
 &lt;input name='symbol' type='text'  /&gt;
&lt;/form&gt;

Strawman02
&lt;!-- provide the URI pattern to use, plus a 'class' attribute to indicate
the meaning of the input data - this allows a spider to discover all the
services which accept some form of data (like US zip code, telephone number,
etc) --&gt;
&lt;form resource="http://example.com/quotes/${exchange}/${symbol}"
method='get'&gt;
 &lt;input name='exchange' type='text' class='stock.exchange' /&gt;
 &lt;input name='symbol' type='text' class='security.symbol' /&gt;
&lt;/form&gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4429<br>
Sender:"David Orchard" &lt;orchard@...&gt;<br>
Post Date/Time:2004-06-02 04:53:34<br>
Subject:RE: [rest-discuss] Re-using information fields for queries in REST<br>
Message:<br><br>
<pre>I've been looking at how map an xml tree into the path and same depth
params into the forms, ala
&lt;Music&gt;&lt;Artist&gt;&lt;Name&gt;ThieveryCorp&lt;/Name&gt;&lt;Rating&gt;5&lt;/Rating&gt;&lt;/Artist&gt;&lt;/Mus
ic&gt;

gets mapped into something like GET /Music/Artist?Name=ThieveryCorp and 
GET /Music/Artist/Rating?Name=ThieveryCorp

Mixed ns are a pain, but if you adopt the convention that the ns decls
are somehow in the algorithm, then it gets a little bit more managable.

Cheers,
Dave

&gt; -----Original Message-----
&gt; From: Mark Baker [mailto:distobj@...]
&gt; Sent: Tuesday, June 01, 2004 8:38 PM
&gt; To: David Orchard
&gt; Cc: rest-discuss@yahoogroups.com
&gt; Subject: Re: [rest-discuss] Re-using information fields for queries in
&gt; REST
&gt; 
&gt; 
&gt; On Tue, Jun 01, 2004 at 05:47:54PM -0700, David Orchard wrote:
&gt; &gt; Gotcha on the use of hierarchy rather than flat where appropriate.
&gt; &gt; 
&gt; &gt; &gt; -----Original Message-----
&gt; &gt; &gt; From: Roy T. Fielding [mailto:fielding@...]
&gt; &gt; 
&gt; &gt; &lt;snip/&gt;
&gt; &gt; &gt; Anyway, we are talking about resource discovery over arbitrary
&gt; &gt; &gt; data categories, and hence non-hierarchical in nature.  There is
&gt; &gt; &gt; nothing wrong with telling the client how it can form URI's,
&gt; &gt; &gt; assuming that such a function doesn't change much over time.
&gt; &gt; &gt; Again, for cache reasons, I prefer methods of telling the client
&gt; &gt; &gt; to use the template
&gt; &gt; &gt; 
&gt; &gt; &gt;     http://example.com/quotes/${exchange}/${symbol}
&gt; &gt; &gt; 
&gt; &gt; &gt; rather than the template
&gt; &gt; &gt; 
&gt; &gt; &gt;     http://example.com/quotes?market=${exchange}&amp;symbol=${symbol}
&gt; &gt; &gt; 
&gt; &gt; &gt; There is nothing stopping WSDL-like technology from defining
&gt; &gt; &gt; both of these mechanisms.
&gt; &gt; &gt; 
&gt; &gt; &gt; ....Roy
&gt; &gt; &gt; 
&gt; &gt; 
&gt; &gt; Hey, now there's an idea.  Maybe even official WSDL technology...
&gt; 
&gt; *groan*  Ok, sure, *now* you support my "make WSDL more form-like"
&gt; suggestions. 8-)
&gt; 
&gt; The new HTTP binding goes further in this direction, but still falls
&gt; short largely because it bumps up against the *very* different demands
&gt; of a forms language compared with an interface description language.
&gt; 
&gt; I'd personally prefer to start over with a forms language, which is
&gt; why I created RDF Forms; http://www.markbaker.ca/2003/05/RDF-Forms/ .
&gt; But it has a bit of legacy in its support of www-form-urlencoded
&gt; serializations for POST bodies and URIs largely because that's what
&gt; server APIs easily support and it's what I used at work.  But I'd love
&gt; to get a more general generative naming language in there that could
&gt; support hierarchy as Roy describes.
&gt; 
&gt; Mark.
&gt; -- 
&gt; Mark Baker.   Ottawa, Ontario, CANADA.        http://www.markbaker.ca

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4430<br>
Sender:"thompsonbry" &lt;thompsonbry@...&gt;<br>
Post Date/Time:2004-06-02 11:51:19<br>
Subject:Re: Re-using information fields for queries in REST<br>
Message:<br><br>
<pre>This sounds very relevant to how XForms could use GET.

I am assuming that we want the stronger constraint of 
bookmarkability, right?  Not just caching?

So that we are not talking about GET with a request body (which could 
perhaps be made cachable, e.g., using "Vary") but a means of mapping 
an XML document (which could be just a property set for flat vs 
hierarchical addressing) into a URI.

E.g., a "application/iriencoded-xml" MIME type.

-bryan

--- In rest-discuss@yahoogroups.com, "David Orchard" &lt;orchard@p...&gt; 
wrote:
&gt; I've been looking at how map an xml tree into the path and same 
depth
&gt; params into the forms, ala
&gt; 
&lt;Music&gt;&lt;Artist&gt;&lt;Name&gt;ThieveryCorp&lt;/Name&gt;&lt;Rating&gt;5&lt;/Rating&gt;&lt;/Artist&gt;&lt;/M
us
&gt; ic&gt;
&gt; 
&gt; gets mapped into something like GET /Music/Artist?Name=ThieveryCorp 
and 
&gt; GET /Music/Artist/Rating?Name=ThieveryCorp
&gt; 
&gt; Mixed ns are a pain, but if you adopt the convention that the ns 
decls
&gt; are somehow in the algorithm, then it gets a little bit more 
managable.
&gt; 
&gt; Cheers,
&gt; Dave
&gt; 
&gt; &gt; -----Original Message-----
&gt; &gt; From: Mark Baker [mailto:distobj@a...]
&gt; &gt; Sent: Tuesday, June 01, 2004 8:38 PM
&gt; &gt; To: David Orchard
&gt; &gt; Cc: rest-discuss@yahoogroups.com
&gt; &gt; Subject: Re: [rest-discuss] Re-using information fields for 
queries in
&gt; &gt; REST
&gt; &gt; 
&gt; &gt; 
&gt; &gt; On Tue, Jun 01, 2004 at 05:47:54PM -0700, David Orchard wrote:
&gt; &gt; &gt; Gotcha on the use of hierarchy rather than flat where 
appropriate.
&gt; &gt; &gt; 
&gt; &gt; &gt; &gt; -----Original Message-----
&gt; &gt; &gt; &gt; From: Roy T. Fielding [mailto:fielding@g...]
&gt; &gt; &gt; 
&gt; &gt; &gt; &lt;snip/&gt;
&gt; &gt; &gt; &gt; Anyway, we are talking about resource discovery over arbitrary
&gt; &gt; &gt; &gt; data categories, and hence non-hierarchical in nature.  There 
is
&gt; &gt; &gt; &gt; nothing wrong with telling the client how it can form URI's,
&gt; &gt; &gt; &gt; assuming that such a function doesn't change much over time.
&gt; &gt; &gt; &gt; Again, for cache reasons, I prefer methods of telling the 
client
&gt; &gt; &gt; &gt; to use the template
&gt; &gt; &gt; &gt; 
&gt; &gt; &gt; &gt;     http://example.com/quotes/${exchange}/${symbol}
&gt; &gt; &gt; &gt; 
&gt; &gt; &gt; &gt; rather than the template
&gt; &gt; &gt; &gt; 
&gt; &gt; &gt; &gt;     http://example.com/quotes?market=${exchange}
&amp;symbol=${symbol}
&gt; &gt; &gt; &gt; 
&gt; &gt; &gt; &gt; There is nothing stopping WSDL-like technology from defining
&gt; &gt; &gt; &gt; both of these mechanisms.
&gt; &gt; &gt; &gt; 
&gt; &gt; &gt; &gt; ....Roy
&gt; &gt; &gt; &gt; 
&gt; &gt; &gt; 
&gt; &gt; &gt; Hey, now there's an idea.  Maybe even official WSDL 
technology...
&gt; &gt; 
&gt; &gt; *groan*  Ok, sure, *now* you support my "make WSDL more form-like"
&gt; &gt; suggestions. 8-)
&gt; &gt; 
&gt; &gt; The new HTTP binding goes further in this direction, but still 
falls
&gt; &gt; short largely because it bumps up against the *very* different 
demands
&gt; &gt; of a forms language compared with an interface description 
language.
&gt; &gt; 
&gt; &gt; I'd personally prefer to start over with a forms language, which 
is
&gt; &gt; why I created RDF Forms; http://www.markbaker.ca/2003/05/RDF-
Forms/ .
&gt; &gt; But it has a bit of legacy in its support of www-form-urlencoded
&gt; &gt; serializations for POST bodies and URIs largely because that's 
what
&gt; &gt; server APIs easily support and it's what I used at work.  But I'd 
love
&gt; &gt; to get a more general generative naming language in there that 
could
&gt; &gt; support hierarchy as Roy describes.
&gt; &gt; 
&gt; &gt; Mark.
&gt; &gt; -- 
&gt; &gt; Mark Baker.   Ottawa, Ontario, CANADA.        
http://www.markbaker.ca


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4431<br>
Sender:"thompsonbry" &lt;thompsonbry@...&gt;<br>
Post Date/Time:2004-06-02 12:20:30<br>
Subject:Re: Re-using information fields for queries in REST<br>
Message:<br><br>
<pre>In the category of "never post before coffee", forget my remarks 
about caching GET with a request entity.

However, I am interested in the relevance of this discussion to 
XForms and GET.

-bryan

--- In rest-discuss@yahoogroups.com, "thompsonbry" &lt;thompsonbry@s...&gt; 
wrote:
&gt; This sounds very relevant to how XForms could use GET.
&gt; 
&gt; I am assuming that we want the stronger constraint of 
&gt; bookmarkability, right?  Not just caching?
&gt; 
&gt; So that we are not talking about GET with a request body (which 
could 
&gt; perhaps be made cachable, e.g., using "Vary") but a means of 
mapping 
&gt; an XML document (which could be just a property set for flat vs 
&gt; hierarchical addressing) into a URI.
&gt; 
&gt; E.g., a "application/iriencoded-xml" MIME type.
&gt; 
&gt; -bryan
&gt; 
&gt; --- In rest-discuss@yahoogroups.com, "David Orchard" &lt;orchard@p...&gt; 
&gt; wrote:
&gt; &gt; I've been looking at how map an xml tree into the path and same 
&gt; depth
&gt; &gt; params into the forms, ala
&gt; &gt; 
&gt; 
&lt;Music&gt;&lt;Artist&gt;&lt;Name&gt;ThieveryCorp&lt;/Name&gt;&lt;Rating&gt;5&lt;/Rating&gt;&lt;/Artist&gt;&lt;/M
&gt; us
&gt; &gt; ic&gt;
&gt; &gt; 
&gt; &gt; gets mapped into something like GET /Music/Artist?
Name=ThieveryCorp 
&gt; and 
&gt; &gt; GET /Music/Artist/Rating?Name=ThieveryCorp
&gt; &gt; 
&gt; &gt; Mixed ns are a pain, but if you adopt the convention that the ns 
&gt; decls
&gt; &gt; are somehow in the algorithm, then it gets a little bit more 
&gt; managable.
&gt; &gt; 
&gt; &gt; Cheers,
&gt; &gt; Dave
&gt; &gt; 
&gt; &gt; &gt; -----Original Message-----
&gt; &gt; &gt; From: Mark Baker [mailto:distobj@a...]
&gt; &gt; &gt; Sent: Tuesday, June 01, 2004 8:38 PM
&gt; &gt; &gt; To: David Orchard
&gt; &gt; &gt; Cc: rest-discuss@yahoogroups.com
&gt; &gt; &gt; Subject: Re: [rest-discuss] Re-using information fields for 
&gt; queries in
&gt; &gt; &gt; REST
&gt; &gt; &gt; 
&gt; &gt; &gt; 
&gt; &gt; &gt; On Tue, Jun 01, 2004 at 05:47:54PM -0700, David Orchard wrote:
&gt; &gt; &gt; &gt; Gotcha on the use of hierarchy rather than flat where 
&gt; appropriate.
&gt; &gt; &gt; &gt; 
&gt; &gt; &gt; &gt; &gt; -----Original Message-----
&gt; &gt; &gt; &gt; &gt; From: Roy T. Fielding [mailto:fielding@g...]
&gt; &gt; &gt; &gt; 
&gt; &gt; &gt; &gt; &lt;snip/&gt;
&gt; &gt; &gt; &gt; &gt; Anyway, we are talking about resource discovery over 
arbitrary
&gt; &gt; &gt; &gt; &gt; data categories, and hence non-hierarchical in nature.  
There 
&gt; is
&gt; &gt; &gt; &gt; &gt; nothing wrong with telling the client how it can form URI's,
&gt; &gt; &gt; &gt; &gt; assuming that such a function doesn't change much over time.
&gt; &gt; &gt; &gt; &gt; Again, for cache reasons, I prefer methods of telling the 
&gt; client
&gt; &gt; &gt; &gt; &gt; to use the template
&gt; &gt; &gt; &gt; &gt; 
&gt; &gt; &gt; &gt; &gt;     http://example.com/quotes/${exchange}/${symbol}
&gt; &gt; &gt; &gt; &gt; 
&gt; &gt; &gt; &gt; &gt; rather than the template
&gt; &gt; &gt; &gt; &gt; 
&gt; &gt; &gt; &gt; &gt;     http://example.com/quotes?market=${exchange}
&gt; &amp;symbol=${symbol}
&gt; &gt; &gt; &gt; &gt; 
&gt; &gt; &gt; &gt; &gt; There is nothing stopping WSDL-like technology from defining
&gt; &gt; &gt; &gt; &gt; both of these mechanisms.
&gt; &gt; &gt; &gt; &gt; 
&gt; &gt; &gt; &gt; &gt; ....Roy
&gt; &gt; &gt; &gt; &gt; 
&gt; &gt; &gt; &gt; 
&gt; &gt; &gt; &gt; Hey, now there's an idea.  Maybe even official WSDL 
&gt; technology...
&gt; &gt; &gt; 
&gt; &gt; &gt; *groan*  Ok, sure, *now* you support my "make WSDL more form-
like"
&gt; &gt; &gt; suggestions. 8-)
&gt; &gt; &gt; 
&gt; &gt; &gt; The new HTTP binding goes further in this direction, but still 
&gt; falls
&gt; &gt; &gt; short largely because it bumps up against the *very* different 
&gt; demands
&gt; &gt; &gt; of a forms language compared with an interface description 
&gt; language.
&gt; &gt; &gt; 
&gt; &gt; &gt; I'd personally prefer to start over with a forms language, 
which 
&gt; is
&gt; &gt; &gt; why I created RDF Forms; http://www.markbaker.ca/2003/05/RDF-
&gt; Forms/ .
&gt; &gt; &gt; But it has a bit of legacy in its support of www-form-urlencoded
&gt; &gt; &gt; serializations for POST bodies and URIs largely because that's 
&gt; what
&gt; &gt; &gt; server APIs easily support and it's what I used at work.  But 
I'd 
&gt; love
&gt; &gt; &gt; to get a more general generative naming language in there that 
&gt; could
&gt; &gt; &gt; support hierarchy as Roy describes.
&gt; &gt; &gt; 
&gt; &gt; &gt; Mark.
&gt; &gt; &gt; -- 
&gt; &gt; &gt; Mark Baker.   Ottawa, Ontario, CANADA.        
&gt; http://www.markbaker.ca


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4432<br>
Sender:"David Orchard" &lt;orchard@...&gt;<br>
Post Date/Time:2004-06-02 16:28:26<br>
Subject:RE: [rest-discuss] Re: Re-using information fields for queries in REST<br>
Message:<br><br>
<pre>I think one of the hardest parts of coming up with a "uriencoded-xml" format is dealing with those pesky QNames.  I wrote a while ago about this http://www.pacificspirit.com/blog/2004/04/29/binding_qnames_to_uris.  
 
I've almost gotten to the point of thinking that it's just simply to awful to binding lexical QNames or NS decls to URIs for binding potentially many qnames to URIs.  The approach of specifying that the ns decl is part of the "algorithm" allows for I think a pretty common case, the authority creating the resources can specify the ns name decls ahead of time.  In this case, the creator of the Author resources not surprisingly owns the Author namespace names.  A prefix is not required for the default namespace, and a prefix is required for using ns decls outside the default ns.  
 
There is a big downside in that the xml fragments are no-longer self-describing as they are missing their ns decls in-line.  If somebody changes the namespace name but not the ns prefix, things could get pretty hairy.  And distributed extensibility wouldn't be supported as a client that knew about a davens:extension that was unknown to the service wouldn't be able to send the extension they know about but wasn't in the algorithm.  I suppose it could be possible to say that extensions can be sent in ugly lexical form as that is the "hard but possible" case in the "make simple things simple and hard things possible" algorithm.
 
In retrospect, I'm becoming convinced that marrying XML sans namespace tree structures to the URI tree and query structure works fine, but marrying XML namespaced tree structures to URIs has been almost useless by the decision to make ns names absolute URIs.  In order to map some kind of xml to URIs, we have to adopt some kind of constraints, like "ns decls are implicit", to make it usable.  One thing I am curious about is whether people see much need for mapping mixed ns xml into URIs, or if most of the scenarios involved single ns..
 
Cheers,
Dave

-----Original Message-----
From: thompsonbry [mailto:thompsonbry@...]
Sent: Wednesday, June 02, 2004 4:51 AM
To: rest-discuss@yahoogroups.com
Subject: [rest-discuss] Re: Re-using information fields for queries in REST


This sounds very relevant to how XForms could use GET.

I am assuming that we want the stronger constraint of 
bookmarkability, right?  Not just caching?

So that we are not talking about GET with a request body (which could 
perhaps be made cachable, e.g., using "Vary") but a means of mapping 
an XML document (which could be just a property set for flat vs 
hierarchical addressing) into a URI.

E.g., a "application/iriencoded-xml" MIME type.

-bryan

--- In rest-discuss@yahoogroups.com, "David Orchard" &lt;orchard@p...&gt; 
wrote:
&gt; I've been looking at how map an xml tree into the path and same 
depth
&gt; params into the forms, ala
&gt; 
&lt;Music&gt;&lt;Artist&gt;&lt;Name&gt;ThieveryCorp&lt;/Name&gt;&lt;Rating&gt;5&lt;/Rating&gt;&lt;/Artist&gt;&lt;/M
us
&gt; ic&gt;
&gt; 
&gt; gets mapped into something like GET /Music/Artist?Name=ThieveryCorp 
and 
&gt; GET /Music/Artist/Rating?Name=ThieveryCorp
&gt; 
&gt; Mixed ns are a pain, but if you adopt the convention that the ns 
decls
&gt; are somehow in the algorithm, then it gets a little bit more 
managable.
&gt; 
&gt; Cheers,
&gt; Dave
&gt; 
&gt; &gt; -----Original Message-----
&gt; &gt; From: Mark Baker [mailto:distobj@a...]
&gt; &gt; Sent: Tuesday, June 01, 2004 8:38 PM
&gt; &gt; To: David Orchard
&gt; &gt; Cc: rest-discuss@yahoogroups.com
&gt; &gt; Subject: Re: [rest-discuss] Re-using information fields for 
queries in
&gt; &gt; REST
&gt; &gt; 
&gt; &gt; 
&gt; &gt; On Tue, Jun 01, 2004 at 05:47:54PM -0700, David Orchard wrote:
&gt; &gt; &gt; Gotcha on the use of hierarchy rather than flat where 
appropriate.
&gt; &gt; &gt; 
&gt; &gt; &gt; &gt; -----Original Message-----
&gt; &gt; &gt; &gt; From: Roy T. Fielding [mailto:fielding@g...]
&gt; &gt; &gt; 
&gt; &gt; &gt; &lt;snip/&gt;
&gt; &gt; &gt; &gt; Anyway, we are talking about resource discovery over arbitrary
&gt; &gt; &gt; &gt; data categories, and hence non-hierarchical in nature.  There 
is
&gt; &gt; &gt; &gt; nothing wrong with telling the client how it can form URI's,
&gt; &gt; &gt; &gt; assuming that such a function doesn't change much over time.
&gt; &gt; &gt; &gt; Again, for cache reasons, I prefer methods of telling the 
client
&gt; &gt; &gt; &gt; to use the template
&gt; &gt; &gt; &gt; 
&gt; &gt; &gt; &gt;     http://example.com/quotes/${exchange}/${symbol}
&gt; &gt; &gt; &gt; 
&gt; &gt; &gt; &gt; rather than the template
&gt; &gt; &gt; &gt; 
&gt; &gt; &gt; &gt;     http://example.com/quotes?market=${exchange}
&amp;symbol=${symbol}
&gt; &gt; &gt; &gt; 
&gt; &gt; &gt; &gt; There is nothing stopping WSDL-like technology from defining
&gt; &gt; &gt; &gt; both of these mechanisms.
&gt; &gt; &gt; &gt; 
&gt; &gt; &gt; &gt; ....Roy
&gt; &gt; &gt; &gt; 
&gt; &gt; &gt; 
&gt; &gt; &gt; Hey, now there's an idea.  Maybe even official WSDL 
technology...
&gt; &gt; 
&gt; &gt; *groan*  Ok, sure, *now* you support my "make WSDL more form-like"
&gt; &gt; suggestions. 8-)
&gt; &gt; 
&gt; &gt; The new HTTP binding goes further in this direction, but still 
falls
&gt; &gt; short largely because it bumps up against the *very* different 
demands
&gt; &gt; of a forms language compared with an interface description 
language.
&gt; &gt; 
&gt; &gt; I'd personally prefer to start over with a forms language, which 
is
&gt; &gt; why I created RDF Forms; http://www.markbaker.ca/2003/05/RDF-
Forms/ .
&gt; &gt; But it has a bit of legacy in its support of www-form-urlencoded
&gt; &gt; serializations for POST bodies and URIs largely because that's 
what
&gt; &gt; server APIs easily support and it's what I used at work.  But I'd 
love
&gt; &gt; to get a more general generative naming language in there that 
could
&gt; &gt; support hierarchy as Roy describes.
&gt; &gt; 
&gt; &gt; Mark.
&gt; &gt; -- 
&gt; &gt; Mark Baker.   Ottawa, Ontario, CANADA.        
http://www.markbaker.ca



Yahoo! Groups Sponsor	

ADVERTISEMENT
 &lt;http://rd.yahoo.com/SIG=129ga231f/M=295196.4901138.6071305.3001176/D=groups/S=1705701014:HM/EXP=1086263534/A=2128215/R=0/SIG=10se96mf6/*http://companion.yahoo.com&gt; click here	
  &lt;http://us.adserver.yahoo.com/l?M=295196.4901138.6071305.3001176/D=groups/S=:HM/A=2128215/rand=294553186&gt; 	


  _____  

Yahoo! Groups Links


*	To visit your group on the web, go to:
http://groups.yahoo.com/group/rest-discuss/
  

*	To unsubscribe from this group, send an email to:
rest-discuss-unsubscribe@yahoogroups.com &lt;mailto:rest-discuss-unsubscribe@yahoogroups.com?subject=Unsubscribe&gt; 
  

*	Your use of Yahoo! Groups is subject to the Yahoo! Terms of Service &lt;http://docs.yahoo.com/info/terms/&gt; . 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4433<br>
Sender:"David Orchard" &lt;orchard@...&gt;<br>
Post Date/Time:2004-06-02 23:32:58<br>
Subject:Identifiers: higher precedence than other fields?<br>
Message:<br><br>
<pre>I was further thinking about modeling of identifiers in xml versus URIs and the use of them in relation to other fields for queries.  It seems that any XML identifier is problematic to algorithmically map to a URI.

My scenario: I have an Artist List structure containing Artist structures with a Name and an uri reference, ie &lt;ArtistList&gt;&lt;Artist&gt;&lt;Name&gt;Thievery Corp&lt;/Name&gt;&lt;URI&gt;http://www.eslmusic.com/artists/thievery.html&lt;/URI&gt;&lt;/Artist&gt;&lt;/ArtistList&gt;

I want to support getting the entire Artist information, or just a single field.  We earlier said that making the Artist identifier hierarchical is a Good Thing.  This would look like:

GET /ArtistList/Artist/id/xyz.

But in my xml data structure, I specified that the Name structure uniquely identifies the band in my database.  I end up having 2 primary keys: one if I use URIs, and another if I were to do an XML based query.  If I used the Name as the key, the URI looks more like

./Artist/Name/Thievery%20Corp

If I then want to get the value of the URI field where the Artist=Thievery Corp, my query might look something like:

GET /ArtistList/Artist/Name/Thievery%20Corp/URI
or
GET /ArtistList/Artist/Name/Thievery%20Corp?field=URI

I prefer the former because the URI field is hierarchical within the Artist structure, it's just that the darned Name messes up the hierarchy.  I don't want to use client side identifiers, ie fragment ids such as Artist#ThieveryCorp or even Artist/Name/Thievery%20Corp#thievery%20CorpURI

So I then thought in cases where the field being requested was at the same or lower level than the identifier, I could use the path component to specify the Artist, as in

GET /ArtistList/Artist;Name=Thievery%20Corp/URI

Which I'd interpret as for the Artist who's name field is thievery corp, get the URI field.  I wonder if this is a good way of modelling the query?

I think you should now have the rough gist of the way that I'm thinking about binding xml structures to URIs, and this has led to some questions:

1. What is the best design, or even the trade-offs to be made across designs, when binding xml identifiers to URIs

2. How should requests for a "secondary resource" in a component be expressed when the secondary resource is at the same level in the xml hierarchy as the xml identifier.

I wasn't quite sure which way Roy was saying is the best way given the different examples of http://example.com/quotes/${exchange}/${symbol} and  /Artist/id/12345678.   That is, whether the URI for the resource is parameterizable and thus generated by a client, or whether the identifier is opaque and the client has to do a 2nd pass to get it.  It seems like there's an important point about naming of resources, which is that maybe the xml way of identifying resources doesn't work well with the Web.

Thanks again for all your time,
Dave


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4434<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2004-06-03 05:02:58<br>
Subject:Re: [rest-discuss] Identifiers: higher precedence than other fields?<br>
Message:<br><br>
<pre>Hey,

On Wed, Jun 02, 2004 at 04:32:58PM -0700, David Orchard wrote:
&gt; I was further thinking about modeling of identifiers in xml versus URIs and the use of them in relation to other fields for queries.  It seems that any XML identifier is problematic to algorithmically map to a URI.
&gt; 
&gt; My scenario: I have an Artist List structure containing Artist structures with a Name and an uri reference, ie &lt;ArtistList&gt;&lt;Artist&gt;&lt;Name&gt;Thievery Corp&lt;/Name&gt;&lt;URI&gt;http://www.eslmusic.com/artists/thievery.html&lt;/URI&gt;&lt;/Artist&gt;&lt;/ArtistList&gt;
&gt; 
&gt; I want to support getting the entire Artist information, or just a single field.  We earlier said that making the Artist identifier hierarchical is a Good Thing.  This would look like:
&gt; 
&gt; GET /ArtistList/Artist/id/xyz.

I think that's the issue; I don't believe that it need look like that.
That, for a particular document, an Artist is encapsulated within an
ArtistList, doesn't dictate, I believe, that an Artist is hierarchically
related to an ArtistList.  Hierarchy captures relationships between
resources such as UML's aggregation by-value; that if the aggregator
dies, the aggregatee(?) dies too.  That doesn't hold for ArtistList; if
I remove an instance of a list containing an artist, the artist doesn't
go away.

So that URI above could be /Artist/id/xyz.  If you want to "query" by
name, try /Artist/name/Foo%20Bar, and then as Roy was suggesting,
redirect back to /Artist/id/xyz ... assuming there's only one known
"Foo Bar" band.  If not, return your ArtistList, and perhaps in that
list put the /Artist/id/??? URI for each artist.

Does that make sense?  It's a hard subject to explain.

Mark.
-- 
Mark Baker.   Ottawa, Ontario, CANADA.        http://www.markbaker.ca

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4435<br>
Sender:"thompsonbry" &lt;thompsonbry@...&gt;<br>
Post Date/Time:2004-06-03 14:42:55<br>
Subject:Re: Re-using information fields for queries in REST<br>
Message:<br><br>
<pre>Dave,

I searched on this a bit, but I could not find the gospel according
to the TAG.  However, it is my rememberance that URIs no longer have
practical length limits and that people should not design interfaces
as if they did.

So, why not just serialize the XML using the XML syntax in, e.g.,
UTF-8, and then escape any characters that need to be escaped for
the URI encoding?

I mean, we can probably do better than this, e.g., with a dictionary
of namespace URIs, element names and attribute names that would yield
a more compact representation of the XML instance data (all of which
reminds me of binary XML), but why bother?  Is't it good enough to do
this in the simplest manner possible so that we can move forward?

-bryan

--- In rest-discuss@yahoogroups.com, "David Orchard" &lt;orchard@p...&gt; 
wrote:
&gt; I think one of the hardest parts of coming up with a "uriencoded-
xml" format is dealing with those pesky QNames.  I wrote a while ago 
about this 
http://www.pacificspirit.com/blog/2004/04/29/binding_qnames_to_uris.  
&gt;  
&gt; I've almost gotten to the point of thinking that it's just simply 
to awful to binding lexical QNames or NS decls to URIs for binding 
potentially many qnames to URIs.  The approach of specifying that the 
ns decl is part of the "algorithm" allows for I think a pretty common 
case, the authority creating the resources can specify the ns name 
decls ahead of time.  In this case, the creator of the Author 
resources not surprisingly owns the Author namespace names.  A prefix 
is not required for the default namespace, and a prefix is required 
for using ns decls outside the default ns.  
&gt;  
&gt; There is a big downside in that the xml fragments are no-longer 
self-describing as they are missing their ns decls in-line.  If 
somebody changes the namespace name but not the ns prefix, things 
could get pretty hairy.  And distributed extensibility wouldn't be 
supported as a client that knew about a davens:extension that was 
unknown to the service wouldn't be able to send the extension they 
know about but wasn't in the algorithm.  I suppose it could be 
possible to say that extensions can be sent in ugly lexical form as 
that is the "hard but possible" case in the "make simple things 
simple and hard things possible" algorithm.
&gt;  
&gt; In retrospect, I'm becoming convinced that marrying XML sans 
namespace tree structures to the URI tree and query structure works 
fine, but marrying XML namespaced tree structures to URIs has been 
almost useless by the decision to make ns names absolute URIs.  In 
order to map some kind of xml to URIs, we have to adopt some kind of 
constraints, like "ns decls are implicit", to make it usable.  One 
thing I am curious about is whether people see much need for mapping 
mixed ns xml into URIs, or if most of the scenarios involved single 
ns..
&gt;  
&gt; Cheers,
&gt; Dave
&gt; 
&gt; -----Original Message-----
&gt; From: thompsonbry [mailto:thompsonbry@s...]
&gt; Sent: Wednesday, June 02, 2004 4:51 AM
&gt; To: rest-discuss@yahoogroups.com
&gt; Subject: [rest-discuss] Re: Re-using information fields for queries 
in REST
&gt; 
&gt; 
&gt; This sounds very relevant to how XForms could use GET.
&gt; 
&gt; I am assuming that we want the stronger constraint of 
&gt; bookmarkability, right?  Not just caching?
&gt; 
&gt; So that we are not talking about GET with a request body (which 
could 
&gt; perhaps be made cachable, e.g., using "Vary") but a means of 
mapping 
&gt; an XML document (which could be just a property set for flat vs 
&gt; hierarchical addressing) into a URI.
&gt; 
&gt; E.g., a "application/iriencoded-xml" MIME type.
&gt; 
&gt; -bryan
&gt; 
&gt; --- In rest-discuss@yahoogroups.com, "David Orchard" &lt;orchard@p...&gt; 
&gt; wrote:
&gt; &gt; I've been looking at how map an xml tree into the path and same 
&gt; depth
&gt; &gt; params into the forms, ala
&gt; &gt; 
&gt; 
&lt;Music&gt;&lt;Artist&gt;&lt;Name&gt;ThieveryCorp&lt;/Name&gt;&lt;Rating&gt;5&lt;/Rating&gt;&lt;/Artist&gt;&lt;/M
&gt; us
&gt; &gt; ic&gt;
&gt; &gt; 
&gt; &gt; gets mapped into something like GET /Music/Artist?
Name=ThieveryCorp 
&gt; and 
&gt; &gt; GET /Music/Artist/Rating?Name=ThieveryCorp
&gt; &gt; 
&gt; &gt; Mixed ns are a pain, but if you adopt the convention that the ns 
&gt; decls
&gt; &gt; are somehow in the algorithm, then it gets a little bit more 
&gt; managable.
&gt; &gt; 
&gt; &gt; Cheers,
&gt; &gt; Dave
&gt; &gt; 
&gt; &gt; &gt; -----Original Message-----
&gt; &gt; &gt; From: Mark Baker [mailto:distobj@a...]
&gt; &gt; &gt; Sent: Tuesday, June 01, 2004 8:38 PM
&gt; &gt; &gt; To: David Orchard
&gt; &gt; &gt; Cc: rest-discuss@yahoogroups.com
&gt; &gt; &gt; Subject: Re: [rest-discuss] Re-using information fields for 
&gt; queries in
&gt; &gt; &gt; REST
&gt; &gt; &gt; 
&gt; &gt; &gt; 
&gt; &gt; &gt; On Tue, Jun 01, 2004 at 05:47:54PM -0700, David Orchard wrote:
&gt; &gt; &gt; &gt; Gotcha on the use of hierarchy rather than flat where 
&gt; appropriate.
&gt; &gt; &gt; &gt; 
&gt; &gt; &gt; &gt; &gt; -----Original Message-----
&gt; &gt; &gt; &gt; &gt; From: Roy T. Fielding [mailto:fielding@g...]
&gt; &gt; &gt; &gt; 
&gt; &gt; &gt; &gt; &lt;snip/&gt;
&gt; &gt; &gt; &gt; &gt; Anyway, we are talking about resource discovery over 
arbitrary
&gt; &gt; &gt; &gt; &gt; data categories, and hence non-hierarchical in nature.  
There 
&gt; is
&gt; &gt; &gt; &gt; &gt; nothing wrong with telling the client how it can form URI's,
&gt; &gt; &gt; &gt; &gt; assuming that such a function doesn't change much over time.
&gt; &gt; &gt; &gt; &gt; Again, for cache reasons, I prefer methods of telling the 
&gt; client
&gt; &gt; &gt; &gt; &gt; to use the template
&gt; &gt; &gt; &gt; &gt; 
&gt; &gt; &gt; &gt; &gt;     http://example.com/quotes/${exchange}/${symbol}
&gt; &gt; &gt; &gt; &gt; 
&gt; &gt; &gt; &gt; &gt; rather than the template
&gt; &gt; &gt; &gt; &gt; 
&gt; &gt; &gt; &gt; &gt;     http://example.com/quotes?market=${exchange}
&gt; &amp;symbol=${symbol}
&gt; &gt; &gt; &gt; &gt; 
&gt; &gt; &gt; &gt; &gt; There is nothing stopping WSDL-like technology from defining
&gt; &gt; &gt; &gt; &gt; both of these mechanisms.
&gt; &gt; &gt; &gt; &gt; 
&gt; &gt; &gt; &gt; &gt; ....Roy
&gt; &gt; &gt; &gt; &gt; 
&gt; &gt; &gt; &gt; 
&gt; &gt; &gt; &gt; Hey, now there's an idea.  Maybe even official WSDL 
&gt; technology...
&gt; &gt; &gt; 
&gt; &gt; &gt; *groan*  Ok, sure, *now* you support my "make WSDL more form-
like"
&gt; &gt; &gt; suggestions. 8-)
&gt; &gt; &gt; 
&gt; &gt; &gt; The new HTTP binding goes further in this direction, but still 
&gt; falls
&gt; &gt; &gt; short largely because it bumps up against the *very* different 
&gt; demands
&gt; &gt; &gt; of a forms language compared with an interface description 
&gt; language.
&gt; &gt; &gt; 
&gt; &gt; &gt; I'd personally prefer to start over with a forms language, 
which 
&gt; is
&gt; &gt; &gt; why I created RDF Forms; http://www.markbaker.ca/2003/05/RDF-
&gt; Forms/ .
&gt; &gt; &gt; But it has a bit of legacy in its support of www-form-urlencoded
&gt; &gt; &gt; serializations for POST bodies and URIs largely because that's 
&gt; what
&gt; &gt; &gt; server APIs easily support and it's what I used at work.  But 
I'd 
&gt; love
&gt; &gt; &gt; to get a more general generative naming language in there that 
&gt; could
&gt; &gt; &gt; support hierarchy as Roy describes.
&gt; &gt; &gt; 
&gt; &gt; &gt; Mark.
&gt; &gt; &gt; -- 
&gt; &gt; &gt; Mark Baker.   Ottawa, Ontario, CANADA.        
&gt; http://www.markbaker.ca
&gt; 
&gt; 
&gt; 
&gt; Yahoo! Groups Sponsor	
&gt; 
&gt; ADVERTISEMENT
&gt;  
&lt;http://rd.yahoo.com/SIG=129ga231f/M=295196.4901138.6071305.3001176/D=
groups/S=1705701014:HM/EXP=1086263534/A=2128215/R=0/SIG=10se96mf6/*htt
p://companion.yahoo.com&gt; click here	
&gt;   &lt;http://us.adserver.yahoo.com/l?
M=295196.4901138.6071305.3001176/D=groups/S=:HM/A=2128215/rand=2945531
86&gt; 	
&gt; 
&gt; 
&gt;   _____  
&gt; 
&gt; Yahoo! Groups Links
&gt; 
&gt; 
&gt; *	To visit your group on the web, go to:
&gt; http://groups.yahoo.com/group/rest-discuss/
&gt;   
&gt; 
&gt; *	To unsubscribe from this group, send an email to:
&gt; rest-discuss-unsubscribe@yahoogroups.com &lt;mailto:rest-discuss-
unsubscribe@yahoogroups.com?subject=Unsubscribe&gt; 
&gt;   
&gt; 
&gt; *	Your use of Yahoo! Groups is subject to the Yahoo! Terms of 
Service &lt;http://docs.yahoo.com/info/terms/&gt; .


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4436<br>
Sender:"Tony Butterfield" &lt;tab@...&gt;<br>
Post Date/Time:2004-06-04 11:15:10<br>
Subject:Re: Integration with Chiba?<br>
Message:<br><br>
<pre>--- In rest-discuss@yahoogroups.com, "thompsonbry" &lt;thompsonbry@s...&gt;
wrote:
&gt; I'm looking at an integration of Chiba's XForms implementation into
a 
&gt; REST repository.  Does anyone have experience with integrating 
&gt; Chiba?  (One of the chiba authors suggested the 1060 folks had done 
&gt; this, which is why I'm posting to this list.)
&gt; 
&gt; Thanks,
&gt; 
&gt; -bryan

The latest version of Chiba XForms we integrated was 0.9.5. This is
available in the latest NetKernel Standard Edition download. 

The basics of what we did was to abstract three things away from the
Chiba engine:
1) servlet dependence
2) XSLT stylesheet (xforms xml -&gt; HTML ) dependence
3) session state
We did this so that the XForms engine became stateless and more
flexible.

I know that we had to make some patches to the source to acheive what
we needed. It wasn't me that did the work but I can pass on the
details of a collegue that did if you want to discuss.

Tony Butterfield
www.1060.org


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4437<br>
Sender:Neil Kandalgaonkar &lt;neil_j_k@...&gt;<br>
Post Date/Time:2004-06-04 17:21:50<br>
Subject:Re: [rest-discuss] Identifiers: higher precedence than other fields?<br>
Message:<br><br>
<pre>
--- David Orchard &lt;orchard@...&gt; wrote:
&gt; It seems that any XML identifier is problematic to algorithmically
&gt; map to a URI.

Yes. As you've noticed, this is impossible with just simple
directory-style slashes.

But can I suggest that you step back and ask what problem you're
trying to solve?

If your problem is "I have settled on XML, the documents will be
entirely freeform, and I want a uniform way of identifying any random
node so I can stuff them into URIs" then I guess you want XPath or
XPointer. Check them out. The expressions are very complex though.

However, if that *isn't* your problem, then perhaps you should think
about the URI interface first.  It seems to me that you really just
want:

http://host/artist/Thievery%20Corporation
http://host/artist/Thievery%20Corporation/bio
http://host/artist/Thievery%20Corporation/genre
http://host/artist/Thievery%20Corporation/website

You may protest that you have to write different get/set methods for
each one of those URIs! And what if your underlying data structure
changes?

However, some would say this is the beauty of REST. It forces you to
think about the consumers of your interfaces. Hiding the details is
good. This means you can change your underlying data structure at
will.


=====
--
Neil Kandalgaonkar
neil_j_k@...

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4438<br>
Sender:Lucas Gonze &lt;lgonze@...&gt;<br>
Post Date/Time:2004-06-04 17:31:29<br>
Subject:Re: [rest-discuss] Identifiers: higher precedence than other fields?<br>
Message:<br><br>
<pre>On Fri, 4 Jun 2004, Neil Kandalgaonkar wrote:
&gt; If your problem is "I have settled on XML, the documents will be
&gt; entirely freeform, and I want a uniform way of identifying any random
&gt; node so I can stuff them into URIs" then I guess you want XPath or
&gt; XPointer. Check them out. The expressions are very complex though.
&gt;
&gt; However, if that *isn't* your problem, then perhaps you should think
&gt; about the URI interface first.  It seems to me that you really just
&gt; want:
&gt;
&gt; http://host/artist/Thievery%20Corporation
&gt; http://host/artist/Thievery%20Corporation/bio
&gt; http://host/artist/Thievery%20Corporation/genre
&gt; http://host/artist/Thievery%20Corporation/website

A really elegant way of cleaning up the confusion, Neil.

In my own API, that is the approach I took.  The important thing is that
incoming data structures do not map directly to internal data structures.
The requester only sees the data structures at the application level, so
requests say something like "here is the order of a set of songs", as
opposed to "here are the sequence numbers of song URLs in the set with id
#N.

- Lucas


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4439<br>
Sender:"thompsonbry" &lt;thompsonbry@...&gt;<br>
Post Date/Time:2004-06-05 13:39:25<br>
Subject:XML Representation of HTTP Requests and Responses?<br>
Message:<br><br>
<pre>I am looking to choose an XML representation of an HTTP requests and
responses as part of a REST workflow system.  The representation will
be used in at least two ways: 1) as templates of requests that are
used to delegate an activity selected by some precondition -- the
actual request might be generated by some XML processing chain based
on that template and visible workflow state; and 2) as journels of
the request and the response intended to provide inspectable state
as a workflow evolves.

E.g.,

&lt;http&gt;
  &lt;request method="..." requestURL="..." version="HTTP/1.1"&gt;
     &lt;header name="host"&gt;...&lt;/header&gt;
     ...
     &lt;entity xlink:href="..." xlink:type="resource|locator"&gt;
     ...
     &lt;/entity&gt;
  &lt;/request&gt;
  &lt;response statusCode="..." reasonLine="..." version="HTTP/1.1"&gt;
     &lt;header name="Content-Type"&gt;...&lt;/header&gt;
     ...
     &lt;entity xlink:href="..." xlink:type="resource|locator"&gt;
     ...
     &lt;/entity&gt;
  &lt;/response&gt;
&lt;/http&gt;

The notion is that the request/response entity is optional (since
it is not always present) and that it may either be represented
inline or as a link to a resource whose representation is that
entity.  In particular, this seems to be a better way to store
a transaction journel or record the evolving state of requests
and responses on some evolving workflow state.

This sort of thing is relatively straightforward, but it seems like
it could be useful in a lot of places, e.g., a transaction log for
a REST repository, so I was wondering if there has been any effort
to develop such an XML vocabulary and whether or not it might
generalize out of the specific use case for which it was developed.

Thanks,

-bryan


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4440<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2004-06-08 03:59:27<br>
Subject:Re: [rest-discuss] XML Representation of HTTP Requests and Responses?<br>
Message:<br><br>
<pre>It's not XML, but if it's HTTP modelling you want, you might be
interested in;

http://www.w3.org/Architecture/state

An XML serialization of such a model would be trivial, of course.

Mark.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4441<br>
Sender:"Donald Strong" &lt;dstrong@...&gt;<br>
Post Date/Time:2004-06-08 04:21:44<br>
Subject:Re: [rest-discuss] Identifiers: higher precedence than other fields?<br>
Message:<br><br>
<pre>
Hi David,

Here is my two cents.
If the following speel does not directly address the issues that concern you
then consider this as some ideas that I am airing using your problem as an
example.

I think there are a couple of issues here and it may help to separate them.

1. For any particular artist you want to retrieve:
      - name
      - eye color
      - style
      - web site
      - everything (ie. all of the above)

   This is a set of information that you wish to be able to address
   individually or collectively.

2. You want to run queries on the set of artists:
      - artists with green eyes
      - rap singers

3. You want to have arbitraty lists of artists:
      - artists I like
      - artists currently on tour

OK, so that's not what you want but it will do to demonstrate the following
points.

a) It doesn't matter how you reference your artists as the url is opaque.
   Consequently you can keep it simple.
        GET /artist/LisaSimpson

   The URI could be /artist/12345678. The ONLY difference between this and
   /artist/LisaSimpson is that the latter is easier for a human to remember.

   This might return some xml like this:

    &lt;artist&gt;
        &lt;name      id="/artist/LisaSimpson/name"&gt;Lisa Simpson&lt;/name&gt;
        &lt;eye-color id="./eye-color"&gt;Green&lt;/eye-color&gt;
        &lt;style     id="LisaSimpson/style"&gt;Blues&lt;/style&gt;
        &lt;web-site  id="./web-site"
href="http://www.thesimpsons.com/lisa-simpson" /&gt;
    &lt;/artist&gt;

   I have mixed various forms of relative URI for demonstration purposes.
Which one
   you use doesn't really matter but you would probably choose one and stick
with it.

b)  Each property within the artist record has its own relative URI which
you can dereference.
    This means that the User Agent does not manufacture URIs. They are
always provided by
    the Origin Server.

    The relative URI id="./eye-color"" resolves to:
         GET /artist/LisaSimpson/eye-color

    This might return the following xml:

    &lt;eye-color artist=".."&gt;Blue&lt;/eye-color&gt;

    Note that it is possible to get back to the artist from here. I'm not
suggesting that you
    have to do that, just pointing out that it is possible.

c)  The entry can be created using a HTTP POST to the artist uri.

      POST /artist

      &lt;artist&gt;
          &lt;name&gt;Bart Simpson&lt;/name&gt;
          &lt;eye-color&gt;Blue&lt;/eye-color&gt;
          &lt;style&gt;Rap&lt;/style&gt;
          &lt;web-site&gt;http://www.thesimpsons.com/bart-simpson&lt;/web-site&gt;
      &lt;/artist&gt;

    The same could be done using HTML form encoding.

    The artist can be deleted like this.

    DELETE /artist/BartSimpson

d)  You can query on existing attributes of the artist.

    GET /artist?eye-color=Blue

    &lt;artistlist&gt;
        &lt;artistref href="/artist/LisaSimpson"&gt;Lisa Simpson&lt;/artistref&gt;
        &lt;artistref href="/artist/Madonna"&gt;Madonna&lt;/artistref&gt;
    &lt;/artistlist&gt;

    GET /artist?name=Lisa%20Simpson

    &lt;artistlist&gt;
        &lt;artistref href="/artist/LisaSimpson"&gt;Lisa Simpson&lt;/artistref&gt;
    &lt;/artistlist&gt;

    These queries can be generated by an HTML Form. The query part
    of a URL is not opaque to the User Agent. The client is expected
    to provide query parameters for use in searches.

    Note that the http path, before the query, is still opaque.
    It could be /artist or /search or /cgi-bin/artistquery.cgi.
    However, I believe that the prefered restful practice is to direct
    the query to the collection URL, /artist in this case, and map this
    to the search utility, typically by an entry in the htaccess file.

e)  You can have arbitrary lists of artists.

    GET /artistlists/my-favorites

    &lt;artistlist title="My favorite artists"&gt;
        &lt;artistref id="./LisaSimpson" href="/artist/LisaSimpson"&gt;Lisa
Simpson&lt;/artistref&gt;
        &lt;artistref id="./BartSimpson" href="/artist/BartSimpson"&gt;Bart
Simpson&lt;/artistref&gt;
    &lt;/artistlist&gt;

    Note that each item in the list has its own URI.

    An entry in this list can be deleted like this:

    DELETE /artistlists/my-favorites/BartSimpson

    An entry can be added to this list like this:

    POST /artistlists/my-favorites

    &lt;artistref href"/artist/BartSimpson"&gt;Bart Simpson&lt;/artistref&gt;


Points of note
--------------

1.  URIs are always generated by the origin server.

2.  The client only calculates a URI in two circumstances:
     a) it converts relative URIs, generated by the origin server,
        into absolute URIs
     b) it may add query parameters to the end of a search
        URI provided by the origin server.

3.  All xml elements that can be addressed individually are provided
    with a relative URI by the origin server.

I think this approach is restful, but I have thought that before and been
wrong.
I have not seen it suggested before, however, I have not trolled the archive
so I
cannot be certain.

Although I have not attempted it, it should be possible to process all the
xml above into HTML using a suitable transform or style sheet.

I hope you find this interesting and maybe even helpful.
Regards
Donald.

&gt; -----Original Message-----
&gt; From: David Orchard [mailto:orchard@...]
&gt; Sent: Thursday, 3 June 2004 9:33 AM
&gt; To: rest-discuss@yahoogroups.com
&gt; Subject: [rest-discuss] Identifiers: higher precedence than other
&gt; fields?
&gt;
&gt;
&gt; I was further thinking about modeling of identifiers in xml
&gt; versus URIs and the use of them in relation to other fields for
&gt; queries.  It seems that any XML identifier is problematic to
&gt; algorithmically map to a URI.
&gt;
&gt; My scenario: I have an Artist List structure containing Artist
&gt; structures with a Name and an uri reference, ie
&gt; &lt;ArtistList&gt;&lt;Artist&gt;&lt;Name&gt;Thievery
&gt; Corp&lt;/Name&gt;&lt;URI&gt;http://www.eslmusic.com/artists/thievery.html&lt;/URI
&gt; &gt;&lt;/Artist&gt;&lt;/ArtistList&gt;
&gt;
&gt; I want to support getting the entire Artist information, or just
&gt; a single field.  We earlier said that making the Artist
&gt; identifier hierarchical is a Good Thing.  This would look like:
&gt;
&gt; GET /ArtistList/Artist/id/xyz.
&gt;
&gt; But in my xml data structure, I specified that the Name structure
&gt; uniquely identifies the band in my database.  I end up having 2
&gt; primary keys: one if I use URIs, and another if I were to do an
&gt; XML based query.  If I used the Name as the key, the URI looks more like
&gt;
&gt; ./Artist/Name/Thievery%20Corp
&gt;
&gt; If I then want to get the value of the URI field where the
&gt; Artist=Thievery Corp, my query might look something like:
&gt;
&gt; GET /ArtistList/Artist/Name/Thievery%20Corp/URI
&gt; or
&gt; GET /ArtistList/Artist/Name/Thievery%20Corp?field=URI
&gt;
&gt; I prefer the former because the URI field is hierarchical within
&gt; the Artist structure, it's just that the darned Name messes up
&gt; the hierarchy.  I don't want to use client side identifiers, ie
&gt; fragment ids such as Artist#ThieveryCorp or even
&gt; Artist/Name/Thievery%20Corp#thievery%20CorpURI
&gt;
&gt; So I then thought in cases where the field being requested was at
&gt; the same or lower level than the identifier, I could use the path
&gt; component to specify the Artist, as in
&gt;
&gt; GET /ArtistList/Artist;Name=Thievery%20Corp/URI
&gt;
&gt; Which I'd interpret as for the Artist who's name field is
&gt; thievery corp, get the URI field.  I wonder if this is a good way
&gt; of modelling the query?
&gt;
&gt; I think you should now have the rough gist of the way that I'm
&gt; thinking about binding xml structures to URIs, and this has led
&gt; to some questions:
&gt;
&gt; 1. What is the best design, or even the trade-offs to be made
&gt; across designs, when binding xml identifiers to URIs
&gt;
&gt; 2. How should requests for a "secondary resource" in a component
&gt; be expressed when the secondary resource is at the same level in
&gt; the xml hierarchy as the xml identifier.
&gt;
&gt; I wasn't quite sure which way Roy was saying is the best way
&gt; given the different examples of
http://example.com/quotes/${exchange}/${symbol} and  /Artist/id/12345678.
That is, whether the URI for the resource is parameterizable and thus
generated by a client, or whether the identifier is opaque and the client
has to do a 2nd pass to get it.  It seems like there's an important point
about naming of resources, which is that maybe the xml way of identifying
resources doesn't work well with the Web.

Thanks again for all your time,
Dave


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4442<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2004-06-10 04:49:06<br>
Subject:Re: [rest-discuss] XML Representation of HTTP Requests and Responses?<br>
Message:<br><br>
<pre>This comes up now and again. I remember somebody really bright doing this a
few years ago.
Have you looked at these:
http://www.openhealth.org/documents/xmtp.htm
http://www.biglist.com/lists/xsl-list/archives/200001/msg00237.html


----- Original Message ----- 
From: "thompsonbry" &lt;thompsonbry@...&gt;
To: &lt;rest-discuss@yahoogroups.com&gt;
Sent: Saturday, June 05, 2004 6:39 AM
Subject: [rest-discuss] XML Representation of HTTP Requests and Responses?


&gt; I am looking to choose an XML representation of an HTTP requests and
&gt; responses as part of a REST workflow system.  The representation will
&gt; be used in at least two ways: 1) as templates of requests that are
&gt; used to delegate an activity selected by some precondition -- the
&gt; actual request might be generated by some XML processing chain based
&gt; on that template and visible workflow state; and 2) as journels of
&gt; the request and the response intended to provide inspectable state
&gt; as a workflow evolves.
&gt;
&gt; E.g.,
&gt;
&gt; &lt;http&gt;
&gt;   &lt;request method="..." requestURL="..." version="HTTP/1.1"&gt;
&gt;      &lt;header name="host"&gt;...&lt;/header&gt;
&gt;      ...
&gt;      &lt;entity xlink:href="..." xlink:type="resource|locator"&gt;
&gt;      ...
&gt;      &lt;/entity&gt;
&gt;   &lt;/request&gt;
&gt;   &lt;response statusCode="..." reasonLine="..." version="HTTP/1.1"&gt;
&gt;      &lt;header name="Content-Type"&gt;...&lt;/header&gt;
&gt;      ...
&gt;      &lt;entity xlink:href="..." xlink:type="resource|locator"&gt;
&gt;      ...
&gt;      &lt;/entity&gt;
&gt;   &lt;/response&gt;
&gt; &lt;/http&gt;
&gt;
&gt; The notion is that the request/response entity is optional (since
&gt; it is not always present) and that it may either be represented
&gt; inline or as a link to a resource whose representation is that
&gt; entity.  In particular, this seems to be a better way to store
&gt; a transaction journel or record the evolving state of requests
&gt; and responses on some evolving workflow state.
&gt;
&gt; This sort of thing is relatively straightforward, but it seems like
&gt; it could be useful in a lot of places, e.g., a transaction log for
&gt; a REST repository, so I was wondering if there has been any effort
&gt; to develop such an XML vocabulary and whether or not it might
&gt; generalize out of the specific use case for which it was developed.
&gt;
&gt; Thanks,
&gt;
&gt; -bryan
&gt;
&gt;
&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4443<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2004-06-10 05:20:57<br>
Subject:Re: [rest-discuss] Identifiers: higher precedence than other fields?<br>
Message:<br><br>
<pre>&gt; The URI could be /artist/12345678. The ONLY difference between this and
&gt;  /artist/LisaSimpson is that the latter is easier for a human to remember.
Not true - the other difference is that /artist/LisaSimpson could be
constructed from external information (like a telephone book or content from
some other resource) and a suitable description of the resources supported
by that service. It has to do with using internal identifiers .vs.
reasonably shareable identifiers (a zip code, proper name, etc).

----- Original Message ----- 
From: "Donald Strong" &lt;dstrong@...&gt;
To: "rest-discuss" &lt;rest-discuss@yahoogroups.com&gt;
Sent: Monday, June 07, 2004 9:21 PM
Subject: Re: [rest-discuss] Identifiers: higher precedence than other
fields?


&gt;
&gt; Hi David,
&gt;
&gt; Here is my two cents.
&gt; If the following speel does not directly address the issues that concern
you
&gt; then consider this as some ideas that I am airing using your problem as an
&gt; example.
&gt;
&gt; I think there are a couple of issues here and it may help to separate
them.
&gt;
&gt; 1. For any particular artist you want to retrieve:
&gt;       - name
&gt;       - eye color
&gt;       - style
&gt;       - web site
&gt;       - everything (ie. all of the above)
&gt;
&gt;    This is a set of information that you wish to be able to address
&gt;    individually or collectively.
&gt;
&gt; 2. You want to run queries on the set of artists:
&gt;       - artists with green eyes
&gt;       - rap singers
&gt;
&gt; 3. You want to have arbitraty lists of artists:
&gt;       - artists I like
&gt;       - artists currently on tour
&gt;
&gt; OK, so that's not what you want but it will do to demonstrate the
following
&gt; points.
&gt;
&gt; a) It doesn't matter how you reference your artists as the url is opaque.
&gt;    Consequently you can keep it simple.
&gt;         GET /artist/LisaSimpson
&gt;
&gt;    The URI could be /artist/12345678. The ONLY difference between this and
&gt;    /artist/LisaSimpson is that the latter is easier for a human to
remember.
&gt;
&gt;    This might return some xml like this:
&gt;
&gt;     &lt;artist&gt;
&gt;         &lt;name      id="/artist/LisaSimpson/name"&gt;Lisa Simpson&lt;/name&gt;
&gt;         &lt;eye-color id="./eye-color"&gt;Green&lt;/eye-color&gt;
&gt;         &lt;style     id="LisaSimpson/style"&gt;Blues&lt;/style&gt;
&gt;         &lt;web-site  id="./web-site"
&gt; href="http://www.thesimpsons.com/lisa-simpson" /&gt;
&gt;     &lt;/artist&gt;
&gt;
&gt;    I have mixed various forms of relative URI for demonstration purposes.
&gt; Which one
&gt;    you use doesn't really matter but you would probably choose one and
stick
&gt; with it.
&gt;
&gt; b)  Each property within the artist record has its own relative URI which
&gt; you can dereference.
&gt;     This means that the User Agent does not manufacture URIs. They are
&gt; always provided by
&gt;     the Origin Server.
&gt;
&gt;     The relative URI id="./eye-color"" resolves to:
&gt;          GET /artist/LisaSimpson/eye-color
&gt;
&gt;     This might return the following xml:
&gt;
&gt;     &lt;eye-color artist=".."&gt;Blue&lt;/eye-color&gt;
&gt;
&gt;     Note that it is possible to get back to the artist from here. I'm not
&gt; suggesting that you
&gt;     have to do that, just pointing out that it is possible.
&gt;
&gt; c)  The entry can be created using a HTTP POST to the artist uri.
&gt;
&gt;       POST /artist
&gt;
&gt;       &lt;artist&gt;
&gt;           &lt;name&gt;Bart Simpson&lt;/name&gt;
&gt;           &lt;eye-color&gt;Blue&lt;/eye-color&gt;
&gt;           &lt;style&gt;Rap&lt;/style&gt;
&gt;           &lt;web-site&gt;http://www.thesimpsons.com/bart-simpson&lt;/web-site&gt;
&gt;       &lt;/artist&gt;
&gt;
&gt;     The same could be done using HTML form encoding.
&gt;
&gt;     The artist can be deleted like this.
&gt;
&gt;     DELETE /artist/BartSimpson
&gt;
&gt; d)  You can query on existing attributes of the artist.
&gt;
&gt;     GET /artist?eye-color=Blue
&gt;
&gt;     &lt;artistlist&gt;
&gt;         &lt;artistref href="/artist/LisaSimpson"&gt;Lisa Simpson&lt;/artistref&gt;
&gt;         &lt;artistref href="/artist/Madonna"&gt;Madonna&lt;/artistref&gt;
&gt;     &lt;/artistlist&gt;
&gt;
&gt;     GET /artist?name=Lisa%20Simpson
&gt;
&gt;     &lt;artistlist&gt;
&gt;         &lt;artistref href="/artist/LisaSimpson"&gt;Lisa Simpson&lt;/artistref&gt;
&gt;     &lt;/artistlist&gt;
&gt;
&gt;     These queries can be generated by an HTML Form. The query part
&gt;     of a URL is not opaque to the User Agent. The client is expected
&gt;     to provide query parameters for use in searches.
&gt;
&gt;     Note that the http path, before the query, is still opaque.
&gt;     It could be /artist or /search or /cgi-bin/artistquery.cgi.
&gt;     However, I believe that the prefered restful practice is to direct
&gt;     the query to the collection URL, /artist in this case, and map this
&gt;     to the search utility, typically by an entry in the htaccess file.
&gt;
&gt; e)  You can have arbitrary lists of artists.
&gt;
&gt;     GET /artistlists/my-favorites
&gt;
&gt;     &lt;artistlist title="My favorite artists"&gt;
&gt;         &lt;artistref id="./LisaSimpson" href="/artist/LisaSimpson"&gt;Lisa
&gt; Simpson&lt;/artistref&gt;
&gt;         &lt;artistref id="./BartSimpson" href="/artist/BartSimpson"&gt;Bart
&gt; Simpson&lt;/artistref&gt;
&gt;     &lt;/artistlist&gt;
&gt;
&gt;     Note that each item in the list has its own URI.
&gt;
&gt;     An entry in this list can be deleted like this:
&gt;
&gt;     DELETE /artistlists/my-favorites/BartSimpson
&gt;
&gt;     An entry can be added to this list like this:
&gt;
&gt;     POST /artistlists/my-favorites
&gt;
&gt;     &lt;artistref href"/artist/BartSimpson"&gt;Bart Simpson&lt;/artistref&gt;
&gt;
&gt;
&gt; Points of note
&gt; --------------
&gt;
&gt; 1.  URIs are always generated by the origin server.
&gt;
&gt; 2.  The client only calculates a URI in two circumstances:
&gt;      a) it converts relative URIs, generated by the origin server,
&gt;         into absolute URIs
&gt;      b) it may add query parameters to the end of a search
&gt;         URI provided by the origin server.
&gt;
&gt; 3.  All xml elements that can be addressed individually are provided
&gt;     with a relative URI by the origin server.
&gt;
&gt; I think this approach is restful, but I have thought that before and been
&gt; wrong.
&gt; I have not seen it suggested before, however, I have not trolled the
archive
&gt; so I
&gt; cannot be certain.
&gt;
&gt; Although I have not attempted it, it should be possible to process all the
&gt; xml above into HTML using a suitable transform or style sheet.
&gt;
&gt; I hope you find this interesting and maybe even helpful.
&gt; Regards
&gt; Donald.
&gt;
&gt; &gt; -----Original Message-----
&gt; &gt; From: David Orchard [mailto:orchard@...]
&gt; &gt; Sent: Thursday, 3 June 2004 9:33 AM
&gt; &gt; To: rest-discuss@yahoogroups.com
&gt; &gt; Subject: [rest-discuss] Identifiers: higher precedence than other
&gt; &gt; fields?
&gt; &gt;
&gt; &gt;
&gt; &gt; I was further thinking about modeling of identifiers in xml
&gt; &gt; versus URIs and the use of them in relation to other fields for
&gt; &gt; queries.  It seems that any XML identifier is problematic to
&gt; &gt; algorithmically map to a URI.
&gt; &gt;
&gt; &gt; My scenario: I have an Artist List structure containing Artist
&gt; &gt; structures with a Name and an uri reference, ie
&gt; &gt; &lt;ArtistList&gt;&lt;Artist&gt;&lt;Name&gt;Thievery
&gt; &gt; Corp&lt;/Name&gt;&lt;URI&gt;http://www.eslmusic.com/artists/thievery.html&lt;/URI
&gt; &gt; &gt;&lt;/Artist&gt;&lt;/ArtistList&gt;
&gt; &gt;
&gt; &gt; I want to support getting the entire Artist information, or just
&gt; &gt; a single field.  We earlier said that making the Artist
&gt; &gt; identifier hierarchical is a Good Thing.  This would look like:
&gt; &gt;
&gt; &gt; GET /ArtistList/Artist/id/xyz.
&gt; &gt;
&gt; &gt; But in my xml data structure, I specified that the Name structure
&gt; &gt; uniquely identifies the band in my database.  I end up having 2
&gt; &gt; primary keys: one if I use URIs, and another if I were to do an
&gt; &gt; XML based query.  If I used the Name as the key, the URI looks more like
&gt; &gt;
&gt; &gt; ./Artist/Name/Thievery%20Corp
&gt; &gt;
&gt; &gt; If I then want to get the value of the URI field where the
&gt; &gt; Artist=Thievery Corp, my query might look something like:
&gt; &gt;
&gt; &gt; GET /ArtistList/Artist/Name/Thievery%20Corp/URI
&gt; &gt; or
&gt; &gt; GET /ArtistList/Artist/Name/Thievery%20Corp?field=URI
&gt; &gt;
&gt; &gt; I prefer the former because the URI field is hierarchical within
&gt; &gt; the Artist structure, it's just that the darned Name messes up
&gt; &gt; the hierarchy.  I don't want to use client side identifiers, ie
&gt; &gt; fragment ids such as Artist#ThieveryCorp or even
&gt; &gt; Artist/Name/Thievery%20Corp#thievery%20CorpURI
&gt; &gt;
&gt; &gt; So I then thought in cases where the field being requested was at
&gt; &gt; the same or lower level than the identifier, I could use the path
&gt; &gt; component to specify the Artist, as in
&gt; &gt;
&gt; &gt; GET /ArtistList/Artist;Name=Thievery%20Corp/URI
&gt; &gt;
&gt; &gt; Which I'd interpret as for the Artist who's name field is
&gt; &gt; thievery corp, get the URI field.  I wonder if this is a good way
&gt; &gt; of modelling the query?
&gt; &gt;
&gt; &gt; I think you should now have the rough gist of the way that I'm
&gt; &gt; thinking about binding xml structures to URIs, and this has led
&gt; &gt; to some questions:
&gt; &gt;
&gt; &gt; 1. What is the best design, or even the trade-offs to be made
&gt; &gt; across designs, when binding xml identifiers to URIs
&gt; &gt;
&gt; &gt; 2. How should requests for a "secondary resource" in a component
&gt; &gt; be expressed when the secondary resource is at the same level in
&gt; &gt; the xml hierarchy as the xml identifier.
&gt; &gt;
&gt; &gt; I wasn't quite sure which way Roy was saying is the best way
&gt; &gt; given the different examples of
&gt; http://example.com/quotes/${exchange}/${symbol} and  /Artist/id/12345678.
&gt; That is, whether the URI for the resource is parameterizable and thus
&gt; generated by a client, or whether the identifier is opaque and the client
&gt; has to do a 2nd pass to get it.  It seems like there's an important point
&gt; about naming of resources, which is that maybe the xml way of identifying
&gt; resources doesn't work well with the Web.
&gt;
&gt; Thanks again for all your time,
&gt; Dave
&gt;
&gt;
&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4444<br>
Sender:"Donald Strong" &lt;dstrong@...&gt;<br>
Post Date/Time:2004-06-10 08:46:16<br>
Subject:RE: [rest-discuss] Identifiers: higher precedence than other fields?<br>
Message:<br><br>
<pre>
Hi Mike,
Thanks for replying.

&gt; &gt; The URI could be /artist/12345678. The ONLY difference between this and
&gt; &gt;  /artist/LisaSimpson is that the latter is easier for a human
&gt; to remember.
&gt; Not true - the other difference is that /artist/LisaSimpson could be
&gt; constructed from external information (like a telephone book or
&gt; content from
&gt; some other resource) and a suitable description of the resources supported
&gt; by that service. It has to do with using internal identifiers .vs.
&gt; reasonably shareable identifiers (a zip code, proper name, etc).

What I was tring to say, in my clumsy way, is that the approach I was
describing
uses completely opaque paths that are always generated by the origin server.
There is no requirement for an User Agent to calculate the paths and
consequently
the origin server can use any naming convention it wants to.

The basis of my suggestion is that only internally generated identifiers are
used.
Obviously there are trade-offs with this approach. I am certainly not saying
that
it is the only way to go.

As far as using external sources for generating references to resources, as
you
describe above, the way I would do that is to query the system to determine
whether such an artist exists. So for example, the phone book lists a
"Lisa B Simpson" which could be used like this.

   GET /artist?name=Lisa%20B%20Simpson

The http path, /artist, suggests that only one artist should be returned,
however
the URI includes a query so some proxes will not cache the result.
Consequently,
the Origin Server may redirect to /artist/LisaSimpson which will be cached.
In this way aliases can be easily converted to the connonical URI for the
artist
(at least its connonical as far as the origin server is concerned).

Once again, you don't have to do it this way, but IMHO it simplifies the
logic
on the User Agent.

Regards
Donald.



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4445<br>
Sender:"David Orchard" &lt;orchard@...&gt;<br>
Post Date/Time:2004-06-10 23:38:25<br>
Subject:RE: [rest-discuss] Identifiers: higher precedence than other fields?<br>
Message:<br><br>
<pre>Well, there's a few fatal flaw in your example.  XML ids can't contain "/" characters.  The ID production follows the rules of "name" in XML 1.0.  I'd looked into this when trying to work on making media types full features xml schema types.  
 
I believe that the ways that REST would use for assigning URIs to resources are not compatible with the ways that XML would assign IDs to be combined with base URIs.  :-(
 
Secondly, URIs are typically generated from IDs by concatentating with a "#", though the XPointer bare names syntax isn't standard for XML media types.
 
Now what you suggest could be done for an "href" attribute.
 
Cheers,
Dave
 
 -----Original Message-----
From: Donald Strong [mailto:dstrong@...]
Sent: Monday, June 07, 2004 9:22 PM
To: rest-discuss
Subject: Re: [rest-discuss] Identifiers: higher precedence than other fields?




Hi David,

Here is my two cents.
If the following speel does not directly address the issues that concern you
then consider this as some ideas that I am airing using your problem as an
example.

I think there are a couple of issues here and it may help to separate them.

1. For any particular artist you want to retrieve:
      - name
      - eye color
      - style
      - web site
      - everything (ie. all of the above)

   This is a set of information that you wish to be able to address
   individually or collectively.

2. You want to run queries on the set of artists:
      - artists with green eyes
      - rap singers

3. You want to have arbitraty lists of artists:
      - artists I like
      - artists currently on tour

OK, so that's not what you want but it will do to demonstrate the following
points.

a) It doesn't matter how you reference your artists as the url is opaque.
   Consequently you can keep it simple.
        GET /artist/LisaSimpson

   The URI could be /artist/12345678. The ONLY difference between this and
   /artist/LisaSimpson is that the latter is easier for a human to remember.

   This might return some xml like this:

    &lt;artist&gt;
        &lt;name      id="/artist/LisaSimpson/name"&gt;Lisa Simpson&lt;/name&gt;
        &lt;eye-color id="./eye-color"&gt;Green&lt;/eye-color&gt;
        &lt;style     id="LisaSimpson/style"&gt;Blues&lt;/style&gt;
        &lt;web-site  id="./web-site"
href=" http://www.thesimpsons.com/lisa-simpson" /&gt;
    &lt;/artist&gt;

   I have mixed various forms of relative URI for demonstration purposes.
Which one
   you use doesn't really matter but you would probably choose one and stick
with it.

b)  Each property within the artist record has its own relative URI which
you can dereference.
    This means that the User Agent does not manufacture URIs. They are
always provided by
    the Origin Server.

    The relative URI id="./eye-color"" resolves to:
         GET /artist/LisaSimpson/eye-color

    This might return the following xml:

    &lt;eye-color artist=".."&gt;Blue&lt;/eye-color&gt;

    Note that it is possible to get back to the artist from here. I'm not
suggesting that you
    have to do that, just pointing out that it is possible.

c)  The entry can be created using a HTTP POST to the artist uri.

      POST /artist

      &lt;artist&gt;
          &lt;name&gt;Bart Simpson&lt;/name&gt;
          &lt;eye-color&gt;Blue&lt;/eye-color&gt;
          &lt;style&gt;Rap&lt;/style&gt;
          &lt;web-site&gt; http://www.thesimpsons.com/bart-simpson&lt;/web-site&gt;
      &lt;/artist&gt;

    The same could be done using HTML form encoding.

    The artist can be deleted like this.

    DELETE /artist/BartSimpson

d)  You can query on existing attributes of the artist.

    GET /artist?eye-color=Blue

    &lt;artistlist&gt;
        &lt;artistref href="/artist/LisaSimpson"&gt;Lisa Simpson&lt;/artistref&gt;
        &lt;artistref href="/artist/Madonna"&gt;Madonna&lt;/artistref&gt;
    &lt;/artistlist&gt;

    GET /artist?name=Lisa%20Simpson

    &lt;artistlist&gt;
        &lt;artistref href="/artist/LisaSimpson"&gt;Lisa Simpson&lt;/artistref&gt;
    &lt;/artistlist&gt;

    These queries can be generated by an HTML Form. The query part
    of a URL is not opaque to the User Agent. The client is expected
    to provide query parameters for use in searches.

    Note that the http path, before the query, is still opaque.
    It could be /artist or /search or /cgi-bin/artistquery.cgi.
    However, I believe that the prefered restful practice is to direct
    the query to the collection URL, /artist in this case, and map this
    to the search utility, typically by an entry in the htaccess file.

e)  You can have arbitrary lists of artists.

    GET /artistlists/my-favorites

    &lt;artistlist title="My favorite artists"&gt;
        &lt;artistref id="./LisaSimpson" href="/artist/LisaSimpson"&gt;Lisa
Simpson&lt;/artistref&gt;
        &lt;artistref id="./BartSimpson" href="/artist/BartSimpson"&gt;Bart
Simpson&lt;/artistref&gt;
    &lt;/artistlist&gt;

    Note that each item in the list has its own URI.

    An entry in this list can be deleted like this:

    DELETE /artistlists/my-favorites/BartSimpson

    An entry can be added to this list like this:

    POST /artistlists/my-favorites

    &lt;artistref href"/artist/BartSimpson"&gt;Bart Simpson&lt;/artistref&gt;


Points of note
--------------

1.  URIs are always generated by the origin server.

2.  The client only calculates a URI in two circumstances:
     a) it converts relative URIs, generated by the origin server,
        into absolute URIs
     b) it may add query parameters to the end of a search
        URI provided by the origin server.

3.  All xml elements that can be addressed individually are provided
    with a relative URI by the origin server.

I think this approach is restful, but I have thought that before and been
wrong.
I have not seen it suggested before, however, I have not trolled the archive
so I
cannot be certain.

Although I have not attempted it, it should be possible to process all the
xml above into HTML using a suitable transform or style sheet.

I hope you find this interesting and maybe even helpful.
Regards
Donald.

&gt; -----Original Message-----
&gt; From: David Orchard [mailto:orchard@pacificspirit.com]
&gt; Sent: Thursday, 3 June 2004 9:33 AM
&gt; To: rest-discuss@yahoogroups.com
&gt; Subject: [rest-discuss] Identifiers: higher precedence than other
&gt; fields?
&gt;
&gt;
&gt; I was further thinking about modeling of identifiers in xml
&gt; versus URIs and the use of them in relation to other fields for
&gt; queries.  It seems that any XML identifier is problematic to
&gt; algorithmically map to a URI.
&gt;
&gt; My scenario: I have an Artist List structure containing Artist
&gt; structures with a Name and an uri reference, ie
&gt; &lt;ArtistList&gt;&lt;Artist&gt;&lt;Name&gt;Thievery
&gt; Corp&lt;/Name&gt;&lt;URI&gt; http://www.eslmusic.com/artists/thievery.html&lt;/URI
&gt; &gt;&lt;/Artist&gt;&lt;/ArtistList&gt;
&gt;
&gt; I want to support getting the entire Artist information, or just
&gt; a single field.  We earlier said that making the Artist
&gt; identifier hierarchical is a Good Thing.  This would look like:
&gt;
&gt; GET /ArtistList/Artist/id/xyz.
&gt;
&gt; But in my xml data structure, I specified that the Name structure
&gt; uniquely identifies the band in my database.  I end up having 2
&gt; primary keys: one if I use URIs, and another if I were to do an
&gt; XML based query.  If I used the Name as the key, the URI looks more like
&gt;
&gt; ./Artist/Name/Thievery%20Corp
&gt;
&gt; If I then want to get the value of the URI field where the
&gt; Artist=Thievery Corp, my query might look something like:
&gt;
&gt; GET /ArtistList/Artist/Name/Thievery%20Corp/URI
&gt; or
&gt; GET /ArtistList/Artist/Name/Thievery%20Corp?field=URI
&gt;
&gt; I prefer the former because the URI field is hierarchical within
&gt; the Artist structure, it's just that the darned Name messes up
&gt; the hierarchy.  I don't want to use client side identifiers, ie
&gt; fragment ids such as Artist#ThieveryCorp or even
&gt; Artist/Name/Thievery%20Corp#thievery%20CorpURI
&gt;
&gt; So I then thought in cases where the field being requested was at
&gt; the same or lower level than the identifier, I could use the path
&gt; component to specify the Artist, as in
&gt;
&gt; GET /ArtistList/Artist;Name=Thievery%20Corp/URI
&gt;
&gt; Which I'd interpret as for the Artist who's name field is
&gt; thievery corp, get the URI field.  I wonder if this is a good way
&gt; of modelling the query?
&gt;
&gt; I think you should now have the rough gist of the way that I'm
&gt; thinking about binding xml structures to URIs, and this has led
&gt; to some questions:
&gt;
&gt; 1. What is the best design, or even the trade-offs to be made
&gt; across designs, when binding xml identifiers to URIs
&gt;
&gt; 2. How should requests for a "secondary resource" in a component
&gt; be expressed when the secondary resource is at the same level in
&gt; the xml hierarchy as the xml identifier.
&gt;
&gt; I wasn't quite sure which way Roy was saying is the best way
&gt; given the different examples of
http://example.com/quotes/${exchange}/${symbol} and  /Artist/id/12345678.
That is, whether the URI for the resource is parameterizable and thus
generated by a client, or whether the identifier is opaque and the client
has to do a 2nd pass to get it.  It seems like there's an important point
about naming of resources, which is that maybe the xml way of identifying
resources doesn't work well with the Web.

Thanks again for all your time,
Dave



Yahoo! Groups Sponsor	

ADVERTISEMENT
 &lt;http://rd.yahoo.com/SIG=129lpamd6/M=298184.5022502.6152625.3001176/D=groups/S=1705701014:HM/EXP=1086754970/A=2164330/R=0/SIG=11eamf8g4/*http://www.netflix.com/Default?mqso=60183350&gt; click here	
  &lt;http://us.adserver.yahoo.com/l?M=298184.5022502.6152625.3001176/D=groups/S=:HM/A=2164330/rand=147225804&gt; 	


  _____  

Yahoo! Groups Links


*	To visit your group on the web, go to:
http://groups.yahoo.com/group/rest-discuss/
  

*	To unsubscribe from this group, send an email to:
rest-discuss-unsubscribe@yahoogroups.com &lt;mailto:rest-discuss-unsubscribe@yahoogroups.com?subject=Unsubscribe&gt; 
  

*	Your use of Yahoo! Groups is subject to the Yahoo! Terms of Service &lt;http://docs.yahoo.com/info/terms/&gt; . 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4446<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2004-06-11 04:38:59<br>
Subject:Re: [rest-discuss] Identifiers: higher precedence than other fields?<br>
Message:<br><br>
<pre>&gt; What I was tring to say, in my clumsy way, is that the approach I was
describing
&gt; uses completely opaque paths that are always generated by the origin
server.
&gt; There is no requirement for an User Agent to calculate the paths and
consequently
&gt; the origin server can use any naming convention it wants to.
Oh. I guess I read it too quickly.


&gt; As far as using external sources for generating references to resources,
as you
&gt; describe above, the way I would do that is to query the system to
determine
&gt; whether such an artist exists. So for example, the phone book lists a
&gt; "Lisa B Simpson" which could be used like this.
&gt;
&gt;    GET /artist?name=Lisa%20B%20Simpson
You'll still have to generate the URI on the client - why not just use
"/artist/Lisa%20B%20Simpson" directly?
Sure, the HTML FORM element only provides a way to construct query terms in
a URI, but several people would like to go beyond that. Really wish we had a
standardized syntax &amp; sample libraries...

&gt;
&gt; The http path, /artist, suggests that only one artist should be returned,
Not sure if that's a safe assumption. I suppose it's a reasonable guess -
but I would easily implement something of similar naming that would return a
list.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4447<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2004-06-11 05:19:34<br>
Subject:Design questions for applying REST<br>
Message:<br><br>
<pre>I'm defining a REST based interface to an internal system at work and wanted to clarify some design questions (especially around the use of PUT and the use of 'synthesized' resources).

I'm trying to model a system where multiple input documents (all XML) are used to generate a single final document. The submitted documents have their own identifiers (owned by the client) and the submitters do not know the identifier for the final document. The final document might or might not exist when a submission is received. I'm also trying to not use POST for everything.

I could submit an input document:
a) with POST to a generic resource and return the location of the final 'merged' document.
 - doing PUT or DELETE on the returned resource would nuke the 'merged' document. The input document would be stored, but would not have a URI. Seems like this approach is out.

b) with POST to a generic resource and return the location of the stored input document.
 - this would allow the use of GET, PUT and DELETE on the stored input document for management, but the client would have to remember the server generated location and maintain a mapping. Somewhat annoying.
 - in order to get to the final merged document, the response would need to provide a reference to it. This means the representation has more information than what was submitted - another schema would be required (or a more flexible one).
 - I'm not concerned about the non-idempotent definition of POST, I can guarantee the server works in an idempotent manner (even if the client can't truly trust that across all services).

c) with PUT to a specific resource
 - this would allow the use of GET, PUT and DELETE on the stored input document for management, and the client would not need to maintain a mapping of input document to stored input document. Sounds great so far.
 - in order to get to the final merged document, the response would need to provide a reference to it. This means the representation has more information than what was submitted - another schema would be required. 
 - requests can be safely re-tried. Bonus.

Question: if PUT were used, are the representations returned from the PUT and retrieved via GET supposed to be /exactly/ what was submitted in the PUT? This would make it difficult for the representation to have additional data to reference the other resource representing the 'merged' document.

Question: if PUT were used, and the processing of the input 'adjusted' the content (like removing insignificant whitespace, or more drastically modifying actual text values) would this 'adjusting' break the requirements surrounding PUT?

Question: the 'final' merged document has a URI, but it's use is read-only. How bad is it to have resources that do not support all methods?

Question: what other issues are there when one resource is synthesized from updates to other resources?

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4448<br>
Sender:"Donald Strong" &lt;dstrong@...&gt;<br>
Post Date/Time:2004-06-11 06:14:40<br>
Subject:RE: [rest-discuss] Identifiers: higher precedence than other fields?<br>
Message:<br><br>
<pre>Hi Mike,

&gt; &gt; As far as using external sources for generating references to resources,
&gt; as you
&gt; &gt; describe above, the way I would do that is to query the system to
&gt; determine
&gt; &gt; whether such an artist exists. So for example, the phone book lists a
&gt; &gt; "Lisa B Simpson" which could be used like this.
&gt; &gt;
&gt; &gt;    GET /artist?name=Lisa%20B%20Simpson
&gt; You'll still have to generate the URI on the client - why not just use
&gt; "/artist/Lisa%20B%20Simpson" directly?

Because "/artist/Lisa%20B%20Simpson" does not exist. It is an unvalidated
URI manufactured by an external User Agent from an entry in a phone book.
The URI on the Origin Server is "/artist/LisaSimpson".

The /artist resource provides a mechanism for converting aliases into
existing URI on the origin server. It could have been named
/find-artist (but this URI is not restful because it is a
verb or service, I think).

&gt; Sure, the HTML FORM element only provides a way to construct
&gt; query terms in
&gt; a URI, but several people would like to go beyond that. Really
&gt; wish we had a
&gt; standardized syntax &amp; sample libraries...

It depends upon which way you want to go. A User Agent is expected to
treat a Path component (before the ?) as opaque but it is expected to
understand and append query parameters to a search URI. I have
been trying to locate where I read this, without success. It may have
been in the HTML spec so perhaps this statement only applies to HTML
but I thought it was in something more general than that.

&gt; &gt; The http path, /artist, suggests that only one artist should be
&gt; returned,
&gt; Not sure if that's a safe assumption. I suppose it's a reasonable guess -
&gt; but I would easily implement something of similar naming that
&gt; would return a list.

Looking back at my original post it is completely wrong.    B^(
I used /artist?name=Lisa%20Simpson and /artist?eye-color=Blue to
return an &lt;artistlist&gt; so I cannot then use the same URI to return
an individual artist. Perhaps /find-artist would be more appropriate.

Regards
Donald.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4449<br>
Sender:"Walden Mathews" &lt;walden@...&gt;<br>
Post Date/Time:2004-06-11 12:15:59<br>
Subject:Re: [rest-discuss] Identifiers: higher precedence than other fields?<br>
Message:<br><br>
<pre>Donald,

| The /artist resource provides a mechanism for converting aliases into
| existing URI on the origin server. It could have been named
| /find-artist (but this URI is not restful because it is a
| verb or service, I think).

I doubt the architectural impact of a name choice is
really that significant.

| Looking back at my original post it is completely wrong.    B^(
| I used /artist?name=Lisa%20Simpson and /artist?eye-color=Blue to
| return an &lt;artistlist&gt; so I cannot then use the same URI to return
| an individual artist. Perhaps /find-artist would be more appropriate.

If /artist is understood to identify a set of artists, and /artist?&lt;query
params&gt;
is then understood to be a set of artists where the set contents is
determined via "set comprehension" (as opposed to set enumeration),
then the result of dereferencing these URIs is still a set, which could

    a) be empty

    b) contain a "singleton", or

    c) contain two or more artists

As I suggested before, rather abstractly (and then Roy made quite
concrete), in the case of b) above, the server might just like to
redirect the client to the URI for that individual.  That's a nice
idiom for "you found exactly one".

Walden


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4450<br>
Sender:John Belmonte &lt;john@...&gt;<br>
Post Date/Time:2004-06-11 13:22:49<br>
Subject:Re: [rest-discuss] Design questions for applying REST<br>
Message:<br><br>
<pre>S. Mike Dierken wrote:
&gt; b) with POST to a generic resource and return the location of the stored 
&gt; input document.
&gt;  - this would allow the use of GET, PUT and DELETE on the stored input 
&gt; document for management, but the client would have to remember the 
&gt; server generated location and maintain a mapping. Somewhat annoying.
&gt;  - in order to get to the final merged document, the response would need 
&gt; to provide a reference to it. This means the representation has more 
&gt; information than what was submitted - another schema would be required 
&gt; (or a more flexible one).
&gt;  - I'm not concerned about the non-idempotent definition of POST, I can 
&gt; guarantee the server works in an idempotent manner (even if the client 
&gt; can't truly trust that across all services).

I don't consider it that annoying that clients have to remember 
mappings.  When you design so that state is not stored on the server, 
naturally it will have to be stored elsewhere-- it's part of the 
client's job.

In any case, you can make this plan more robust as follows: when the 
server creates a record for a new document, also store the digest of the 
request that caused it.  Then, if it receives a duplicate request from 
the client, ignore it and return the exiting resource location.

Also, assuming that input documents are not shared, the server could 
provide a query function that returns the output resource given an input 
resource URL.

-John


-- 
http://giftfile.org/  ::  giftfile project

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4451<br>
Sender:"Neil Kandalgaonkar" &lt;neil_j_k@...&gt;<br>
Post Date/Time:2004-06-11 20:47:30<br>
Subject:does URI structure matter?<br>
Message:<br><br>
<pre>n.b. slightly reworded from a reply I accidentally posted to the
author.

--- In rest-discuss@yahoogroups.com, "David Orchard" &lt;orchard@p...&gt;
wrote:

&gt; Why is discovery of a particular URI "better" than discovery 
&gt; of the construction technique for a URI?  This argues that HTML 
&gt; FORM GETs are a bad way of creating URIs because they are 
&gt; fabricated.

There seems to be a lot of discussion about how the URIs in a REST
system should look. Or how they map to server data structures. 

Maybe I'm behind the times here -- Roy seems to want a WSDL-like
technology to allow you to compose URIs. But does the URI really
matter?

Paul Prescod argues[1] that the URIs in a REST system ought to be
thought of as opaque. You would only discover them as links from other
results obtained in the REST system.

You could unite different servers with totally different
URI-construction conventions this way -- just like the HTML web.

Of course you might *want* the URI to make sense to a human, but that
could be ad hoc and cosmetic.


[1] See point 3 on &lt;http://prescod.net/rest/mistakes/&gt;: "My rule of
thumb is that clients only construct URIs when they are building
queries (and thus using query strings). Those queries return
references to objects with opaque URIs."


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4452<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2004-06-12 05:17:12<br>
Subject:Re: [rest-discuss] Design questions for applying REST<br>
Message:<br><br>
<pre>&gt;
&gt; I don't consider it that annoying that clients have to remember
&gt; mappings.  When you design so that state is not stored on the server,
&gt; naturally it will have to be stored elsewhere-- it's part of the
&gt; client's job.
I have 40M+ resources, so I wasn't considering this as feasible.
I also think that HTTP indicates that part of a server's job for handling
PUT is for the client to be able to specify the URI.

&gt;
&gt; In any case, you can make this plan more robust as follows: when the
&gt; server creates a record for a new document, also store the digest of the
&gt; request that caused it.  Then, if it receives a duplicate request from
&gt; the client, ignore it and return the exiting resource location.
I'm not really worried about duplicate requests - the behavior would be to
determine if the submitted content already had been submitted before. Either
via the URI having the client-managed identifier or having the content
contain the client-managed identifier.

&gt;
&gt; Also, assuming that input documents are not shared, the server could
&gt; provide a query function that returns the output resource given an input
&gt; resource URL.
What would that look like? It'd be a compound URI, right? Whatever it would
look like, I hadn't considered two resources - one for the stored input
document and one with references to the synthesized output document, but in
order to know about this second resource either the client generates that
resource identifier or that identifer is contained in a representation of
the stored input document - and I might as well point to the synthesized
output document directly.
Something to think about though, there's probably an answer in here
somewhere....


(Anyone else with some ideas/comments? Roy? Mark? Jeff? Paul? Rohit?)

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4453<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2004-06-12 05:19:13<br>
Subject:Re: [rest-discuss] Identifiers: higher precedence than other fields?<br>
Message:<br><br>
<pre>
&gt; &gt; &gt;    GET /artist?name=Lisa%20B%20Simpson
&gt; &gt; You'll still have to generate the URI on the client - why not just use
&gt; &gt; "/artist/Lisa%20B%20Simpson" directly?
&gt;
&gt; Because "/artist/Lisa%20B%20Simpson" does not exist. It is an unvalidated
&gt; URI manufactured by an external User Agent from an entry in a phone book.
&gt; The URI on the Origin Server is "/artist/LisaSimpson".

Huh? The original suggestion of /artist?name=Lisa%20B%20Simpson is an
unvalidated URI manufactured by an external user-agent also. The "?" doesn't
make it special.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4454<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2004-06-12 05:22:58<br>
Subject:Re: [rest-discuss] does URI structure matter?<br>
Message:<br><br>
<pre>&gt;
&gt; &gt; Why is discovery of a particular URI "better" than discovery
&gt; &gt; of the construction technique for a URI?  This argues that HTML
&gt; &gt; FORM GETs are a bad way of creating URIs because they are
&gt; &gt; fabricated.
&gt;
&gt; There seems to be a lot of discussion about how the URIs in a REST
&gt; system should look. Or how they map to server data structures.
&gt;
&gt; Maybe I'm behind the times here -- Roy seems to want a WSDL-like
&gt; technology to allow you to compose URIs. But does the URI really
&gt; matter?
&gt;
&gt; Paul Prescod argues[1] that the URIs in a REST system ought to be
&gt; thought of as opaque. You would only discover them as links from other
&gt; results obtained in the REST system.

My opinion is that both are tools, with benefits and costs. Both are widely
used - discovery via href= attributes and generative via FORMs. The
discovery via href= style attributes is pretty simple and 'standard'. The
construction of URI based on a service meta-description is more complex and
not widely used outside of HTML - I'd love to see a more powerful version
put forth &amp; accepted by the community.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4455<br>
Sender:"Walden Mathews" &lt;walden@...&gt;<br>
Post Date/Time:2004-06-12 12:13:09<br>
Subject:Re: [rest-discuss] Design questions for applying REST<br>
Message:<br><br>
<pre>Why are you averse to using POST for all the operations
that send data to the server?

Walden

----- Original Message ----- 
From: "S. Mike Dierken" &lt;mdierken@...&gt;
To: "John Belmonte" &lt;john@...&gt;
Cc: &lt;rest-discuss@yahoogroups.com&gt;
Sent: Saturday, June 12, 2004 1:17 AM
Subject: Re: [rest-discuss] Design questions for applying REST


: &gt;
: &gt; I don't consider it that annoying that clients have to remember
: &gt; mappings.  When you design so that state is not stored on the server,
: &gt; naturally it will have to be stored elsewhere-- it's part of the
: &gt; client's job.
: I have 40M+ resources, so I wasn't considering this as feasible.
: I also think that HTTP indicates that part of a server's job for handling
: PUT is for the client to be able to specify the URI.
:
: &gt;
: &gt; In any case, you can make this plan more robust as follows: when the
: &gt; server creates a record for a new document, also store the digest of the
: &gt; request that caused it.  Then, if it receives a duplicate request from
: &gt; the client, ignore it and return the exiting resource location.
: I'm not really worried about duplicate requests - the behavior would be to
: determine if the submitted content already had been submitted before.
Either
: via the URI having the client-managed identifier or having the content
: contain the client-managed identifier.
:
: &gt;
: &gt; Also, assuming that input documents are not shared, the server could
: &gt; provide a query function that returns the output resource given an input
: &gt; resource URL.
: What would that look like? It'd be a compound URI, right? Whatever it
would
: look like, I hadn't considered two resources - one for the stored input
: document and one with references to the synthesized output document, but
in
: order to know about this second resource either the client generates that
: resource identifier or that identifer is contained in a representation of
: the stored input document - and I might as well point to the synthesized
: output document directly.
: Something to think about though, there's probably an answer in here
: somewhere....
:
:
: (Anyone else with some ideas/comments? Roy? Mark? Jeff? Paul? Rohit?)
:
:
:
:
: Yahoo! Groups Links
:
:
:
:
:
:
:
: __________ NOD32 1.786 (20040611) Information __________
:
: This message was checked by NOD32 antivirus system.
: http://www.nod32.com
:
:


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4456<br>
Sender:John Belmonte &lt;john@...&gt;<br>
Post Date/Time:2004-06-12 12:37:52<br>
Subject:Re: [rest-discuss] Design questions for applying REST<br>
Message:<br><br>
<pre>S. Mike Dierken wrote:
&gt;&gt;I don't consider it that annoying that clients have to remember
&gt;&gt;mappings.  When you design so that state is not stored on the server,
&gt;&gt;naturally it will have to be stored elsewhere-- it's part of the
&gt;&gt;client's job.
&gt; 
&gt; I have 40M+ resources, so I wasn't considering this as feasible.
&gt; I also think that HTTP indicates that part of a server's job for handling
&gt; PUT is for the client to be able to specify the URI.

I wasn't suggesting you store all your resources on the client, so 
perhaps we misunderstand each other.  I'm not sure what your meaning is 
in that second sentence.

&gt;&gt;In any case, you can make this plan more robust as follows: when the
&gt;&gt;server creates a record for a new document, also store the digest of the
&gt;&gt;request that caused it.  Then, if it receives a duplicate request from
&gt;&gt;the client, ignore it and return the exiting resource location.
&gt; 
&gt; I'm not really worried about duplicate requests - the behavior would be to
&gt; determine if the submitted content already had been submitted before. Either
&gt; via the URI having the client-managed identifier or having the content
&gt; contain the client-managed identifier.

That's surprising to me.  From your original post, case c:

    - requests can be safely re-tried. Bonus.

 From what I gathered, you hadn't considered that this could be covered 
in case b also.

&gt;&gt;Also, assuming that input documents are not shared, the server could
&gt;&gt;provide a query function that returns the output resource given an input
&gt;&gt;resource URL.
&gt; 
&gt; What would that look like? It'd be a compound URI, right? Whatever it would
&gt; look like, I hadn't considered two resources - one for the stored input
&gt; document and one with references to the synthesized output document, but in
&gt; order to know about this second resource either the client generates that
&gt; resource identifier or that identifer is contained in a representation of
&gt; the stored input document - and I might as well point to the synthesized
&gt; output document directly.

I'm not sure where your concern comes from, as this is exactly what 
queries are for.  For example:

   GET /myapp/outputs?input=/myapp/inputs/a98a6799 HTTP/1.1
   Host: example.net

   HTTP/1.1 302 Found
   Location: http://example.net/myapp/outputs/14f322410

This is exactly the same as going to &lt;http://example.net/myapp/outputs&gt;, 
entering "/myapp/inputs/a98a6799" in the "input" field of a form, and 
being automatically redirected to 
&lt;http://example.net/myapp/outputs/14f322410&gt;.

-John

-- 
http://giftfile.org/  ::  giftfile project

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4457<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2004-06-13 02:54:55<br>
Subject:Re: [rest-discuss] Design questions for applying REST<br>
Message:<br><br>
<pre>I'd like to use PUT to update a resource in order to indicate to clients
that the request is idempotent.
The reliability/availability concerns here at work can be addressed by
repeating requests, but I'd like to be generally usable by taking advantage
of the protocol definition, rather than just user-documentation that says
it's okay.



----- Original Message ----- 
From: "Walden Mathews" &lt;walden@...&gt;
To: "S. Mike Dierken" &lt;mdierken@...&gt;
Cc: &lt;rest-discuss@yahoogroups.com&gt;
Sent: Saturday, June 12, 2004 5:13 AM
Subject: Re: [rest-discuss] Design questions for applying REST


&gt; Why are you averse to using POST for all the operations
&gt; that send data to the server?
&gt;
&gt; Walden
&gt;
&gt; ----- Original Message ----- 
&gt; From: "S. Mike Dierken" &lt;mdierken@...&gt;
&gt; To: "John Belmonte" &lt;john@...&gt;
&gt; Cc: &lt;rest-discuss@yahoogroups.com&gt;
&gt; Sent: Saturday, June 12, 2004 1:17 AM
&gt; Subject: Re: [rest-discuss] Design questions for applying REST
&gt;
&gt;
&gt; : &gt;
&gt; : &gt; I don't consider it that annoying that clients have to remember
&gt; : &gt; mappings.  When you design so that state is not stored on the server,
&gt; : &gt; naturally it will have to be stored elsewhere-- it's part of the
&gt; : &gt; client's job.
&gt; : I have 40M+ resources, so I wasn't considering this as feasible.
&gt; : I also think that HTTP indicates that part of a server's job for
handling
&gt; : PUT is for the client to be able to specify the URI.
&gt; :
&gt; : &gt;
&gt; : &gt; In any case, you can make this plan more robust as follows: when the
&gt; : &gt; server creates a record for a new document, also store the digest of
the
&gt; : &gt; request that caused it.  Then, if it receives a duplicate request from
&gt; : &gt; the client, ignore it and return the exiting resource location.
&gt; : I'm not really worried about duplicate requests - the behavior would be
to
&gt; : determine if the submitted content already had been submitted before.
&gt; Either
&gt; : via the URI having the client-managed identifier or having the content
&gt; : contain the client-managed identifier.
&gt; :
&gt; : &gt;
&gt; : &gt; Also, assuming that input documents are not shared, the server could
&gt; : &gt; provide a query function that returns the output resource given an
input
&gt; : &gt; resource URL.
&gt; : What would that look like? It'd be a compound URI, right? Whatever it
&gt; would
&gt; : look like, I hadn't considered two resources - one for the stored input
&gt; : document and one with references to the synthesized output document, but
&gt; in
&gt; : order to know about this second resource either the client generates
that
&gt; : resource identifier or that identifer is contained in a representation
of
&gt; : the stored input document - and I might as well point to the synthesized
&gt; : output document directly.
&gt; : Something to think about though, there's probably an answer in here
&gt; : somewhere....
&gt; :
&gt; :
&gt; : (Anyone else with some ideas/comments? Roy? Mark? Jeff? Paul? Rohit?)
&gt; :
&gt; :
&gt; :
&gt; :
&gt; : Yahoo! Groups Links
&gt; :
&gt; :
&gt; :
&gt; :
&gt; :
&gt; :
&gt; :
&gt; : __________ NOD32 1.786 (20040611) Information __________
&gt; :
&gt; : This message was checked by NOD32 antivirus system.
&gt; : http://www.nod32.com
&gt; :
&gt; :
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4458<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2004-06-13 05:24:36<br>
Subject:Re: [rest-discuss] Design questions for applying REST<br>
Message:<br><br>
<pre>
&gt; &gt; I also think that HTTP indicates that part of a server's job for
handling
&gt; &gt; PUT is for the client to be able to specify the URI.
&gt;
&gt; I'm not sure what your meaning is in that second sentence.
I was just mentioning that it's a common pattern for a client to 'own' the
resource identifier and that HTTP supports this approach. It seems to fit
well with my design problem.


&gt;
&gt; &gt;&gt;In any case, you can make this plan more robust as follows: when the
&gt; &gt;&gt;server creates a record for a new document, also store the digest of the
&gt; &gt;&gt;request that caused it.  Then, if it receives a duplicate request from
&gt; &gt;&gt;the client, ignore it and return the exiting resource location.
&gt; &gt;
&gt; &gt; I'm not really worried about duplicate requests - the behavior would be
to
&gt; &gt; determine if the submitted content already had been submitted before.
Either
&gt; &gt; via the URI having the client-managed identifier or having the content
&gt; &gt; contain the client-managed identifier.
&gt;
&gt; That's surprising to me.  From your original post, case c:
&gt;
&gt;     - requests can be safely re-tried. Bonus.
&gt;
&gt;  From what I gathered, you hadn't considered that this could be covered in
case b also.
Sorry - I meant that I wasn't worried how it would be implemented. I know
that POST /might/ be implemented in an idempotent manner, but the bonus is
that PUT /requires/ it - a client does not need extra 'coordination'
(pre-arranged commitment from the service author) to re-try a request.


&gt;
&gt; &gt;&gt;Also, assuming that input documents are not shared, the server could
&gt; &gt;&gt;provide a query function that returns the output resource given an input
&gt; &gt;&gt;resource URL.
&gt; &gt;
&gt; &gt; What would that look like? It'd be a compound URI, right? Whatever it
would
&gt; &gt; look like, I hadn't considered two resources - one for the stored input
&gt; &gt; document and one with references to the synthesized output document, but
in
&gt; &gt; order to know about this second resource either the client generates
that
&gt; &gt; resource identifier or that identifer is contained in a representation
of
&gt; &gt; the stored input document - and I might as well point to the synthesized
&gt; &gt; output document directly.
&gt;
&gt; I'm not sure where your concern comes from, as this is exactly what
&gt; queries are for.  For example:
&gt;
&gt;    GET /myapp/outputs?input=/myapp/inputs/a98a6799 HTTP/1.1
&gt;    Host: example.net
&gt;
&gt;    HTTP/1.1 302 Found
&gt;    Location: http://example.net/myapp/outputs/14f322410
&gt;
&gt; This is exactly the same as going to &lt;http://example.net/myapp/outputs&gt;,
&gt; entering "/myapp/inputs/a98a6799" in the "input" field of a form, and
&gt; being automatically redirected to
&gt; &lt;http://example.net/myapp/outputs/14f322410&gt;.
&gt;
&gt; -John
I think there is something good in this, but I still need to see how it
would work in my system - I have a feeling that there is a disconnect
somewhere in our discussion (probably me). (Also, using a URI in a query
term probably has text encoding issues, like if the first URI already has
query terms in it).

==========
Using option b (POST-based)
In this use case, uri_0 is a service meta-description, uri_1 is the
'container' resource that accepts input documents, uri_2 is the newly
created input document, uri_3 is the resource that holds a mapping between
the input document and the 'merged' document and uri_4 is the final 'merged'
document.

--- request 1: create new input document, another 'merged' document is
updated from this input document as well ---
  POST uri_1 HTTP/1.1
  Content-type: text/xml
  ...stuff...

 HTTP/1.1 201 Created
 Location: uri_2

--- request 2: get service meta-description (this is of course done earlier
&amp; cached) ---
  GET uri_0 HTTP/1.1
  Accept: text/xml

  HTTP/1.1 200 OK
  Content-type: text/xml
  ...description of how to generate resource identifiers...

(process service description to generate resource identifier - basically
uri_3 would have uri_2 (or something equivalent) in it.
I realize now what my mistake was - I assumed the client had enough
information to map to the final merged document - which isn't possible.)

--- request 3: use generated resource identifier of resource that provides
the mapping to final 'merged' document ---
  GET uri_3 HTTP/1.1
  Accept: text/xml

  HTTP/1.1 303 See Other
  Location: uri_4


(You might be able to avoid the mapping step by using PUT and having the
first request return the location of the 'merged' document in the Location
header. Not sure if that is acceptable or not.)

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4459<br>
Sender:"Walden Mathews" &lt;walden@...&gt;<br>
Post Date/Time:2004-06-13 13:15:42<br>
Subject:Re: [rest-discuss] Design questions for applying REST<br>
Message:<br><br>
<pre>Mike,

How about this:

1) POST input documents to a generic resource on the server
that is responsible for associating these documents with their final
merged counterpart, creating the latter when appropriate.  You
can let this return the Location of the newly created input document
on the server, or not.  In response to this POST, always return
the URI of the merged document, minimally.

2) design the merged document such that it contains, directly
or indirectly, an index to the input documents from which it has
been composed.  In other words, there may be yet another resource
subordinate to each merged document whose only function is to
be an index of inputs.  This is a list of URI at which the original
input documents are available verbatim for GET, PUT and DELETE.

3) Subsequent PUT or DELETE on the input doc URIs for a
given merge document have the expected verbatim effects on
those resources, plus some interesting side effects on the merge
document, but with the constraint that even those effects are
idempotent.  That is, if the client decides to change the content of
/input1 via a PUT, the server incorporates that change into the
merged document in a consistent and idempotent manner.

Anything?

In the original, you said:

"The submitted documents have their own identifiers (owned by the client)"

Does this mean that they are already hosted elsewhere?  If so are
you considering approaches in which they are not dually hosted
on your server?

Walden


----- Original Message ----- 
From: "S. Mike Dierken" &lt;mdierken@...&gt;
To: "John Belmonte" &lt;john@...&gt;
Cc: &lt;rest-discuss@yahoogroups.com&gt;
Sent: Sunday, June 13, 2004 1:24 AM
Subject: Re: [rest-discuss] Design questions for applying REST


:
: &gt; &gt; I also think that HTTP indicates that part of a server's job for
: handling
: &gt; &gt; PUT is for the client to be able to specify the URI.
: &gt;
: &gt; I'm not sure what your meaning is in that second sentence.
: I was just mentioning that it's a common pattern for a client to 'own' the
: resource identifier and that HTTP supports this approach. It seems to fit
: well with my design problem.
:
:
: &gt;
: &gt; &gt;&gt;In any case, you can make this plan more robust as follows: when the
: &gt; &gt;&gt;server creates a record for a new document, also store the digest of
the
: &gt; &gt;&gt;request that caused it.  Then, if it receives a duplicate request from
: &gt; &gt;&gt;the client, ignore it and return the exiting resource location.
: &gt; &gt;
: &gt; &gt; I'm not really worried about duplicate requests - the behavior would
be
: to
: &gt; &gt; determine if the submitted content already had been submitted before.
: Either
: &gt; &gt; via the URI having the client-managed identifier or having the content
: &gt; &gt; contain the client-managed identifier.
: &gt;
: &gt; That's surprising to me.  From your original post, case c:
: &gt;
: &gt;     - requests can be safely re-tried. Bonus.
: &gt;
: &gt;  From what I gathered, you hadn't considered that this could be covered
in
: case b also.
: Sorry - I meant that I wasn't worried how it would be implemented. I know
: that POST /might/ be implemented in an idempotent manner, but the bonus is
: that PUT /requires/ it - a client does not need extra 'coordination'
: (pre-arranged commitment from the service author) to re-try a request.
:
:
: &gt;
: &gt; &gt;&gt;Also, assuming that input documents are not shared, the server could
: &gt; &gt;&gt;provide a query function that returns the output resource given an
input
: &gt; &gt;&gt;resource URL.
: &gt; &gt;
: &gt; &gt; What would that look like? It'd be a compound URI, right? Whatever it
: would
: &gt; &gt; look like, I hadn't considered two resources - one for the stored
input
: &gt; &gt; document and one with references to the synthesized output document,
but
: in
: &gt; &gt; order to know about this second resource either the client generates
: that
: &gt; &gt; resource identifier or that identifer is contained in a representation
: of
: &gt; &gt; the stored input document - and I might as well point to the
synthesized
: &gt; &gt; output document directly.
: &gt;
: &gt; I'm not sure where your concern comes from, as this is exactly what
: &gt; queries are for.  For example:
: &gt;
: &gt;    GET /myapp/outputs?input=/myapp/inputs/a98a6799 HTTP/1.1
: &gt;    Host: example.net
: &gt;
: &gt;    HTTP/1.1 302 Found
: &gt;    Location: http://example.net/myapp/outputs/14f322410
: &gt;
: &gt; This is exactly the same as going to &lt;http://example.net/myapp/outputs&gt;,
: &gt; entering "/myapp/inputs/a98a6799" in the "input" field of a form, and
: &gt; being automatically redirected to
: &gt; &lt;http://example.net/myapp/outputs/14f322410&gt;.
: &gt;
: &gt; -John
: I think there is something good in this, but I still need to see how it
: would work in my system - I have a feeling that there is a disconnect
: somewhere in our discussion (probably me). (Also, using a URI in a query
: term probably has text encoding issues, like if the first URI already has
: query terms in it).
:
: ==========
: Using option b (POST-based)
: In this use case, uri_0 is a service meta-description, uri_1 is the
: 'container' resource that accepts input documents, uri_2 is the newly
: created input document, uri_3 is the resource that holds a mapping between
: the input document and the 'merged' document and uri_4 is the final
'merged'
: document.
:
: --- request 1: create new input document, another 'merged' document is
: updated from this input document as well ---
:   POST uri_1 HTTP/1.1
:   Content-type: text/xml
:   ...stuff...
:
:  HTTP/1.1 201 Created
:  Location: uri_2
:
: --- request 2: get service meta-description (this is of course done
earlier
: &amp; cached) ---
:   GET uri_0 HTTP/1.1
:   Accept: text/xml
:
:   HTTP/1.1 200 OK
:   Content-type: text/xml
:   ...description of how to generate resource identifiers...
:
: (process service description to generate resource identifier - basically
: uri_3 would have uri_2 (or something equivalent) in it.
: I realize now what my mistake was - I assumed the client had enough
: information to map to the final merged document - which isn't possible.)
:
: --- request 3: use generated resource identifier of resource that provides
: the mapping to final 'merged' document ---
:   GET uri_3 HTTP/1.1
:   Accept: text/xml
:
:   HTTP/1.1 303 See Other
:   Location: uri_4
:
:
: (You might be able to avoid the mapping step by using PUT and having the
: first request return the location of the 'merged' document in the Location
: header. Not sure if that is acceptable or not.)
:
:
:
:
: Yahoo! Groups Links
:
:
:
:
:
:
:
: __________ NOD32 1.787 (20040612) Information __________
:
: This message was checked by NOD32 antivirus system.
: http://www.nod32.com
:
:


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4460<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2004-06-14 04:49:09<br>
Subject:Re: [rest-discuss] Design questions for applying REST<br>
Message:<br><br>
<pre>&gt; 1) POST input documents to a generic resource on the server
&gt; that is responsible for associating these documents with their final
&gt; merged counterpart, creating the latter when appropriate.  You
&gt; can let this return the Location of the newly created input document
&gt; on the server, or not.  In response to this POST, always return
&gt; the URI of the merged document, minimally.
Thanks Walden, I think this is a great REST pattern (described by others as
well - I wonder if we should start a 'design patterns' page for REST on the
Wiki).
 I'm curious about the comparison of this approach to using PUT directly to
create/update input documents. From my understanding, the biggest difference
is whether the client constructs a URI to the input document, or the server
provides an opaque identifer and the client maintains a mapping between
submitted content and a server hosted resource.


&gt;
&gt; 2) design the merged document such that it contains, directly
&gt; or indirectly, an index to the input documents from which it has
&gt; been composed.  In other words, there may be yet another resource
&gt; subordinate to each merged document whose only function is to
&gt; be an index of inputs.  This is a list of URI at which the original
&gt; input documents are available verbatim for GET, PUT and DELETE.
Definitely possible, but I don't see the utility for the use cases I intend
to support. (I'm putting a REST layer on top of an existing, critical
business function - this capability doesn't map to the existing uses of the
system).

&gt;
&gt; 3) Subsequent PUT or DELETE on the input doc URIs for a
&gt; given merge document have the expected verbatim effects on
&gt; those resources, plus some interesting side effects on the merge
&gt; document, but with the constraint that even those effects are
&gt; idempotent.  That is, if the client decides to change the content of
&gt; /input1 via a PUT, the server incorporates that change into the
&gt; merged document in a consistent and idempotent manner.
Yes, perfect. That's what I'm shooting for. The question is, can the client
do a PUT directly, without passing through the generic resource described in
step 1? What are the specific tradeoffs?

&gt; In the original, you said:
&gt;
&gt; "The submitted documents have their own identifiers (owned by the client)"
&gt;
&gt; Does this mean that they are already hosted elsewhere?  If so are
&gt; you considering approaches in which they are not dually hosted
&gt; on your server?
The client-owned identifiers are not URIs nor do the indicate retrievable
resources. If I squint, the current system looks more like a message-queue
system than a resource-based system, so there is almost no incoming data
that is 'globally' addressable/retrievable.

These client-owned identifiers are something I am thinking are important to
expose in URIs. These identifiers are going to be scattered across multiple
systems (internal and external) and the simplest integration seems to be for
the service to support requests that are composed mainly of this
client-owned identifier. Which is why I'm so interested in using PUT
directly rather than the generic resource that accept submissions (that
approach seems too 'message' oriented and not 'resource' oriented).

Thanks for all the discussion folks!

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4461<br>
Sender:"Walden Mathews" &lt;walden@...&gt;<br>
Post Date/Time:2004-06-14 12:33:07<br>
Subject:Re: [rest-discuss] Design questions for applying REST<br>
Message:<br><br>
<pre>
----- Original Message ----- 
From: "S. Mike Dierken" &lt;mdierken@...&gt;
To: "Walden Mathews" &lt;walden@...&gt;
Cc: &lt;rest-discuss@yahoogroups.com&gt;
Sent: Monday, June 14, 2004 12:49 AM
Subject: Re: [rest-discuss] Design questions for applying REST


| &gt; 1) POST input documents to a generic resource on the server
| &gt; that is responsible for associating these documents with their final
| &gt; merged counterpart, creating the latter when appropriate.  You
| &gt; can let this return the Location of the newly created input document
| &gt; on the server, or not.  In response to this POST, always return
| &gt; the URI of the merged document, minimally.
| Thanks Walden, I think this is a great REST pattern (described by others
as
| well - I wonder if we should start a 'design patterns' page for REST on
the
| Wiki).

Same old REST stuff, agreed.

|  I'm curious about the comparison of this approach to using PUT directly
to
| create/update input documents. From my understanding, the biggest
difference
| is whether the client constructs a URI to the input document, or the
server
| provides an opaque identifer and the client maintains a mapping between
| submitted content and a server hosted resource.

I'm curious about your curiosity.  You're the guy who knows
the application's constraints, such as whether the client is willing
to maintain a mapping.  Since (from below) the source doc ids
are not URI, doesn't the client have to maintain a mapping either
way?

|
|
| &gt;
| &gt; 2) design the merged document such that it contains, directly
| &gt; or indirectly, an index to the input documents from which it has
| &gt; been composed.  In other words, there may be yet another resource
| &gt; subordinate to each merged document whose only function is to
| &gt; be an index of inputs.  This is a list of URI at which the original
| &gt; input documents are available verbatim for GET, PUT and DELETE.
| Definitely possible, but I don't see the utility for the use cases I
intend
| to support. (I'm putting a REST layer on top of an existing, critical
| business function - this capability doesn't map to the existing uses of
the
| system).

Wow.  I thought this would be the key, since in previous discussion
you were talking about algorithms and meta-specifications to tell the
client how to construct a merge URI from a source URI or vice versa,
(or something like that).  In my mind, the identity of the input documents
logically belongs as a sub-resource to the merged content resources,
just as a bibliography exists in relation to a research paper.  This
would relieve the client from having to maintain those relationships
in its own space, if it doesn't want to.  And I thought that was also
a key goal in your design...


|
| &gt;
| &gt; 3) Subsequent PUT or DELETE on the input doc URIs for a
| &gt; given merge document have the expected verbatim effects on
| &gt; those resources, plus some interesting side effects on the merge
| &gt; document, but with the constraint that even those effects are
| &gt; idempotent.  That is, if the client decides to change the content of
| &gt; /input1 via a PUT, the server incorporates that change into the
| &gt; merged document in a consistent and idempotent manner.
| Yes, perfect. That's what I'm shooting for. The question is, can the
client
| do a PUT directly, without passing through the generic resource described
in
| step 1? What are the specific tradeoffs?

If a merged document contains a set of references to the input
documents on which it is based, and the client is able to retrieve
those as URI, then why couldn't the client do a PUT directly to
one?  What sort of tradeoffs are you interested in?

To me, the interesting part of this is that doing a PUT to an input
document URI has a side effect on the merge document.  I don't
know of a REST constraint (or HTTP constraint) that this violates.
Anyone?

|
| &gt; In the original, you said:
| &gt;
| &gt; "The submitted documents have their own identifiers (owned by the
client)"
| &gt;
| &gt; Does this mean that they are already hosted elsewhere?  If so are
| &gt; you considering approaches in which they are not dually hosted
| &gt; on your server?
| The client-owned identifiers are not URIs nor do the indicate retrievable
| resources. If I squint, the current system looks more like a message-queue
| system than a resource-based system, so there is almost no incoming data
| that is 'globally' addressable/retrievable.
|
| These client-owned identifiers are something I am thinking are important
to
| expose in URIs. These identifiers are going to be scattered across
multiple
| systems (internal and external)

what does that mean?

| and the simplest integration seems to be for
| the service to support requests that are composed mainly of this
| client-owned identifier.

It seems to me that either your client is constrained to accessing
these objects through an identification scheme that is already
implemented, or it isn't, and there is no real middle ground.

If  you're taking a legacy application and putting it "on the Web",
then your clients are going to have to accept a face lift, no?


|Which is why I'm so interested in using PUT
| directly rather than the generic resource that accept submissions (that
| approach seems too 'message' oriented and not 'resource' oriented).

In terms of REST, I think those resources aren't Web resources
until they don Web identifiers.  The tradeoff I see is in the impact
on your client.  By sending a message, you can keep your client out
of the URI manufacturing business.  Otherwise, I don't see the
conflict between message orientation and resource orientation.

Walden


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4462<br>
Sender:"Tony Butterfield" &lt;tab@...&gt;<br>
Post Date/Time:2004-06-14 13:50:46<br>
Subject:Re: Design questions for applying REST<br>
Message:<br><br>
<pre>--- In rest-discuss@yahoogroups.com, "S. Mike Dierken" &lt;mdierken@h...&gt;
wrote:
&gt; I'm defining a REST based interface to an internal system at work
and wanted to clarify some design questions (especially around the use
of PUT and the use of 'synthesized' resources).
&gt; 
&gt; I'm trying to model a system where multiple input documents (all
XML) are used to generate a single final document. The submitted
documents have their own identifiers (owned by the client) and the
submitters do not know the identifier for the final document. The
final document might or might not exist when a submission is received.
I'm also trying to not use POST for everything.
&gt; 
I was wondering what your reasons are for not considering a service
based approach where the client constructs a request containing all
the input documents and the response is the merged document?

I don't think this violates the principles of REST and it simplifies
things quite a bit.

The practicalities would be that your client could construct a
multipart body containing all the input document and POST it to your
service URI. The service could then process the request and return a
non-cacheable response with the merged document as the body.

Cheers,
Tony


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4463<br>
Sender:Neil Kandalgaonkar &lt;neil_j_k@...&gt;<br>
Post Date/Time:2004-06-14 22:55:03<br>
Subject:Client-composed URI paths<br>
Message:<br><br>
<pre>--- "S. Mike Dierken" &lt;mdierken@...&gt; wrote:

&gt; The construction of URI based on a service meta-description is 
&gt; more complex and
&gt; not widely used outside of HTML - I'd love to see a more powerful
&gt; version
&gt; put forth &amp; accepted by the community.

In HTML, aren't the vast majority of URIs just provided in links?

Do you mean forms? Because, of course, that's a good standard for
transforming client data into the query section of a URI.

So I think the question is: do we need another standard for clients
to transform user data into the *path* section? In a way customized
to each REST application?

My first guess is no, but I'd like to hear potential uses first. Why
would you want to compose such a URI path? Why *wouldn't* you want to
do the same thing with a URI query?



=====
--
Neil Kandalgaonkar
neil_j_k@...

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4464<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2004-06-15 04:10:56<br>
Subject:Re: [rest-discuss] Client-composed URI paths<br>
Message:<br><br>
<pre>
&gt; So I think the question is: do we need another standard for clients
&gt; to transform user data into the *path* section? In a way customized
&gt; to each REST application?
&gt;
&gt; My first guess is no, but I'd like to hear potential uses first. Why
&gt; would you want to compose such a URI path? Why *wouldn't* you want to
&gt; do the same thing with a URI query?

I'd like a general mechanism for constructing a request - regardless of URI
path, URI query terms, request headers, etc. I'd settle for complete access
to the request method and the URI.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4465<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2004-06-15 04:46:34<br>
Subject:Re: [rest-discuss] Client-composed URI paths<br>
Message:<br><br>
<pre>On Mon, Jun 14, 2004 at 09:10:56PM -0700, S. Mike Dierken wrote:
&gt; 
&gt; &gt; So I think the question is: do we need another standard for clients
&gt; &gt; to transform user data into the *path* section? In a way customized
&gt; &gt; to each REST application?
&gt; &gt;
&gt; &gt; My first guess is no, but I'd like to hear potential uses first. Why
&gt; &gt; would you want to compose such a URI path? Why *wouldn't* you want to
&gt; &gt; do the same thing with a URI query?
&gt; 
&gt; I'd like a general mechanism for constructing a request - regardless of URI
&gt; path, URI query terms, request headers, etc. I'd settle for complete access
&gt; to the request method and the URI.

RDF Forms is intended to be such a mechanism ... or at least it will be
once I finish everything in the todo list.  As is, it just tries to do
what HTML forms can do.

  http://www.markbaker.ca/2003/05/RDF-Forms/

Mark.
-- 
Mark Baker.   Ottawa, Ontario, CANADA.        http://www.markbaker.ca

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4466<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2004-06-15 04:54:13<br>
Subject:Re: [rest-discuss] Design questions for applying REST<br>
Message:<br><br>
<pre>&gt;
&gt; |  I'm curious about the comparison of this approach to using PUT directly
to
&gt; | create/update input documents. From my understanding, the biggest
difference
&gt; | is whether the client constructs a URI to the input document, or the
server
&gt; | provides an opaque identifer and the client maintains a mapping between
&gt; | submitted content and a server hosted resource.
&gt;
&gt; I'm curious about your curiosity.  You're the guy who knows
&gt; the application's constraints, such as whether the client is willing
&gt; to maintain a mapping.
In my environment, I doubt the clients would maintain a mapping.

&gt; Since (from below) the source doc ids
&gt; are not URI, doesn't the client have to maintain a mapping either way?
I'm thinking that if the URI is constructed only from static elements and
the source doc IDs, then the mapping is purely algorithmic.

&gt; | &gt; 2) design the merged document such that it contains, directly
&gt; | &gt; or indirectly, an index to the input documents from which it has
&gt; | &gt; been composed.  In other words, there may be yet another resource
&gt; | &gt; subordinate to each merged document whose only function is to
&gt; | &gt; be an index of inputs.  This is a list of URI at which the original
&gt; | &gt; input documents are available verbatim for GET, PUT and DELETE.
&gt; | Definitely possible, but I don't see the utility for the use cases I
intend
&gt; | to support. (I'm putting a REST layer on top of an existing, critical
&gt; | business function - this capability doesn't map to the existing uses of
the
&gt; | system).
&gt;
&gt; Wow.  I thought this would be the key, since in previous discussion
&gt; you were talking about algorithms and meta-specifications to tell the
&gt; client how to construct a merge URI from a source URI or vice versa,
&gt; (or something like that).
I probably mis-communicated something - I don't think in my case I can use a
meta-specification to construct the merged document URI from a source ID. I
can use a meta-specification to construct the URI of an input document from
the client-owned document ID, but this implies the server uses the
client-owned ID in the URI rather than some internal identifier. I don't
have a problem with that &amp; I actually think this approach makes initial
integration easier in general.


&gt; In my mind, the identity of the input documents
&gt; logically belongs as a sub-resource to the merged content resources,
&gt; just as a bibliography exists in relation to a research paper.
I'm not sure what a 'sub-resource' is. The merged content could have
references sure, but in my situation I typically do not want to expose the
input documents that were used to generate the merged output document
(although if my REST service were internal to the company, that wouldn't be
a big deal).

&gt; This would relieve the client from having to maintain those relationships
&gt; in its own space, if it doesn't want to.  And I thought that was also
&gt; a key goal in your design...
I think the approach I'll be taking is for the server to use the
client-owned document ID in the URI of the input document, which allows a
client to use PUT directly without needing a generic resource that accepted
POST (although  this could be supported as a convenience). Then I'd have a
resource that maps input documents to merged documents &amp; the URI for the
mapping resource could be constructed purely from client-owned document ID.

&gt;
&gt; |
&gt; | &gt;
&gt; | &gt; 3) Subsequent PUT or DELETE on the input doc URIs for a
&gt; | &gt; given merge document have the expected verbatim effects on
&gt; | &gt; those resources, plus some interesting side effects on the merge
&gt; | &gt; document, but with the constraint that even those effects are
&gt; | &gt; idempotent.  That is, if the client decides to change the content of
&gt; | &gt; /input1 via a PUT, the server incorporates that change into the
&gt; | &gt; merged document in a consistent and idempotent manner.
&gt; | Yes, perfect. That's what I'm shooting for. The question is, can the
client
&gt; | do a PUT directly, without passing through the generic resource
described in
&gt; | step 1? What are the specific tradeoffs?
&gt;
&gt; If a merged document contains a set of references to the input
&gt; documents on which it is based, and the client is able to retrieve
&gt; those as URI, then why couldn't the client do a PUT directly to
&gt; one?  What sort of tradeoffs are you interested in?
How would it know which input document resource to PUT to?


&gt;
&gt; To me, the interesting part of this is that doing a PUT to an input
&gt; document URI has a side effect on the merge document.  I don't
&gt; know of a REST constraint (or HTTP constraint) that this violates.
Yes - this is the core design pattern for REST that I would like to explore.
I'm going to build it one way or the other, just looking for advice.

&gt; Anyone?

&gt; | These client-owned identifiers are something I am thinking are important
to
&gt; | expose in URIs. These identifiers are going to be scattered across
multiple
&gt; | systems (internal and external)
&gt;
&gt; what does that mean?
These document IDs are stored as a column in a database by other groups
within the company (not as a URI).  I'd like to be able to provide a simple
client library (or documentation) which helps these other groups access my
system which stores the input documents and the merged output document. I'm
looking for something with the most bang for the buck and the least number
of objections ("what? another network request? Performance would suck! Who
are you and where did you come from?!?")

&gt;
&gt; | and the simplest integration seems to be for
&gt; | the service to support requests that are composed mainly of this
&gt; | client-owned identifier.
&gt;
&gt; It seems to me that either your client is constrained to accessing
&gt; these objects through an identification scheme that is already
&gt; implemented, or it isn't, and there is no real middle ground.
I think the clients are willing to use URIs but not necessarily to retrieve
a mapping from their IDs to the server's IDs.

&gt;
&gt; If  you're taking a legacy application and putting it "on the Web",
&gt; then your clients are going to have to accept a face lift, no?
I'd like to establish that the use of URIs (to make existing resources
actually truly addressable) has value. After that I can get into location
independence via a request to a 'mapping resource'. I might also be able to
move toward exposing these resources on the public Web (but I'd need a layer
in-between to map internal IDs to secure public-facing IDs).


&gt; By sending a message, you can keep your client out
&gt; of the URI manufacturing business.
Not sure I understand. The only request I see that avoids constructing a URI
is via the generic resource that accepts input document submissions and
returns the URI for direct access.

&gt; Otherwise, I don't see the conflict between message orientation and
resource orientation.
For me, the message orientation lacks URIs for stored documents (input
documents and merged documents).

Thanks!

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4467<br>
Sender:Jeff Bone &lt;jbone@...&gt;<br>
Post Date/Time:2004-06-15 07:22:57<br>
Subject:Re: [rest-discuss] Client-composed URI paths<br>
Message:<br><br>
<pre>
On Jun 14, 2004, at 5:55 PM, Neil Kandalgaonkar wrote:

&gt; In HTML, aren't the vast majority of URIs just provided in links?

Yes - explicit ones.  We're talking about having the servers specify 
generation rules for whole classes of valid URI, not merely passing out 
explicit lists of them.

&gt; Do you mean forms? Because, of course, that's a good standard for
&gt; transforming client data into the query section of a URI.
&gt;
&gt; So I think the question is: do we need another standard for clients
&gt; to transform user data into the *path* section? In a way customized
&gt; to each REST application?

Whether it's in the query or the path is somewhat orthogonal to the 
desire to express URI generatively.  The preference for having such a 
mechanism that works both with path parts and query parts is driven 
mostly by caching concerns, otherwise somewhat by a resource modeling 
philosophy that says conceptual hierarchy in the model should be 
expressed as such in URI.

Cf., w/ caveat that this is purely my own (and early, not recently 
revisited) thoughts on this:

	http://rest.blueoxen.net/cgi-bin/wiki.pl?GenerativeNaming

and

	http://rest.blueoxen.net/cgi-bin/wiki.pl?NamingIsntNavigating

Also check out Mark Nottingham's related thoughts on a WSDL approach to 
this:

	http://www.mnot.net/blog/2004/04/16/generative

and

	http://www.mnot.net/blog/2003/12/07/webdesc

jb




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4468<br>
Sender:Laurian Gridinoc &lt;laurian@...&gt;<br>
Post Date/Time:2004-06-15 13:56:57<br>
Subject:Generative Naming vs. capability URIs<br>
Message:<br><br>
<pre>Hello,

Regarding the access-by-traversal [1] from Waterken Web Calculus [2],
their capability URI [3] cannot be considered Generative Naming since
the URIs are opaque.

How can be both done? Doing Generative Naming and add the capability
in the query string?


[1] http://rest.blueoxen.net/cgi-bin/wiki.pl?NamingIsntNavigating#nid1BI
[2] http://www.waterken.com/dev/Web/Calculus/
[3] http://www.waterken.com/dev/Web/Calculus/#Capability-based_security

Cheers,
-- 
Laurian Gridinoc
Chief Developer
GRAPEFRUIT DESIGN
www.gd.ro

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4469<br>
Sender:Laurian Gridinoc &lt;laurian@...&gt;<br>
Post Date/Time:2004-06-15 14:04:47<br>
Subject:exposing java objects and RDF<br>
Message:<br><br>
<pre>Hello,

Is there any sqlREST-like tool for exporting java objects to the web
in a RESTful manner?
The same question goes for a RDFStore, Joseki RDF Web API [1] would be
an option.

[1] http://www.joseki.org/protocol.html

Thank you.
-- 
Laurian Gridinoc
Chief Developer
GRAPEFRUIT DESIGN
www.gd.ro

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4470<br>
Sender:Josh Sled &lt;jsled@...&gt;<br>
Post Date/Time:2004-06-15 14:15:22<br>
Subject:Re: [rest-discuss] exposing java objects and RDF<br>
Message:<br><br>
<pre>On Tue, 2004-06-15 at 10:04, Laurian Gridinoc wrote:

&gt; Is there any sqlREST-like tool for exporting java objects to the web
&gt; in a RESTful manner?

Another one [well -- an API rather than a specific tool] I'm aware of is
the RDF NetAPI [1] which has an interesting take on "directly" using
HTTP.

[1] http://www.w3.org/Submission/2003/SUBM-rdf-netapi-20031002/

...jsled

-- 
http://www.asynchronous.org/ - `a=jsled; b=asynchronous.org; echo ${a}@${b}`

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4471<br>
Sender:Laurian Gridinoc &lt;laurian@...&gt;<br>
Post Date/Time:2004-06-15 14:48:28<br>
Subject:Re: [rest-discuss] exposing java objects and RDF<br>
Message:<br><br>
<pre>On Tue, 15 Jun 2004 10:15:22 -0400, Josh Sled &lt;jsled@...&gt; wrote:
&gt; Another one [well -- an API rather than a specific tool] I'm aware of is
&gt; the RDF NetAPI [1] which has an interesting take on "directly" using
&gt; HTTP.
&gt; [1] http://www.w3.org/Submission/2003/SUBM-rdf-netapi-20031002/

It's more like an entry point to a RDFStore as a service, I was hoping
for something with lower query string usage, something like mapping
the URI path as a path in the RDF graph; like having RxPath [1] in
URI, ex. RxPath: /*/dc:title[.="A marvelous thing"] as
&lt;http://foo.tld/*/;dc:title=A marvelous thing&gt;, kind of Xpointer-like
URI without fragment identifier.

Thank you.
-- 
Laurian Gridinoc
Chief Developer
GRAPEFRUIT DESIGN
www.gd.ro

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4472<br>
Sender:"Donald Strong" &lt;dstrong@...&gt;<br>
Post Date/Time:2004-06-16 01:43:49<br>
Subject:RE: [rest-discuss] Identifiers: higher precedence than other fields?<br>
Message:<br><br>
<pre>Hi Mike,

Please note that these comments apply to the following message.
http://groups.yahoo.com/group/rest-discuss/message/4441
I also realise from other postings that this proposal does
not apply to your particular problem. Possibly not David's
either. Not sure who might find it useful.     B^)

&gt; &gt; &gt; &gt;    GET /artist?name=Lisa%20B%20Simpson
&gt; &gt; &gt; You'll still have to generate the URI on the client - why not just use
&gt; &gt; &gt; "/artist/Lisa%20B%20Simpson" directly?
&gt; &gt;
&gt; &gt; Because "/artist/Lisa%20B%20Simpson" does not exist. It is an
&gt; unvalidated
&gt; &gt; URI manufactured by an external User Agent from an entry in a
&gt; phone book.
&gt; &gt; The URI on the Origin Server is "/artist/LisaSimpson".
&gt;
&gt; Huh? The original suggestion of /artist?name=Lisa%20B%20Simpson is an
&gt; unvalidated URI manufactured by an external user-agent also. The
&gt; "?" doesn't make it special.

Well IMHO it does. At least as far as the design I am proposing.
The question mark makes it a query. The query is directed to a URI
that expects name/value pairs to be appended to it's URI by the
User Agent. This is very HTML-forms-ish.

This is a guess.

    GET /artist/Lisa%20B%20Simpson

A wrong guess at that. It should return a 400 error code.

This is a query.

   GET /find-artist?name=Lisa%20B%20Simpson

It may return a redirect to the following URI which does exist,
otherwise it will return a 400 error.

   /artist/LisaSimpson

It is different from the following query that returns a,
possibly empty, list of references to artists.

   GET /artist?name=Lisa%20B%20Simpson

I think that the important part is that the client expects
different results from different URIs.
/find-artist?... returns a redirect to one artist or an error code
while /artist?... returns a possibly empty list of artists matching
the query. The former is used for resolving generated URIs, the
latter is used for filtering the available artists.

Regards
Donald.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4473<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2004-06-16 02:54:37<br>
Subject:Re: [rest-discuss] Re: Design questions for applying REST<br>
Message:<br><br>
<pre>&gt; I was wondering what your reasons are for not considering a service
&gt; based approach where the client constructs a request containing all
&gt; the input documents and the response is the merged document?
The clients in this case don't have all the inputs. The service they submit
data to is the storage service.

&gt;
&gt; I don't think this violates the principles of REST and it simplifies
&gt; things quite a bit.
&gt;
&gt; The practicalities would be that your client could construct a
&gt; multipart body containing all the input document and POST it to your
&gt; service URI. The service could then process the request and return a
&gt; non-cacheable response with the merged document as the body.
If the service were purely an algorithm, yes I could do this. But I'm going
for persistence.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4474<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2004-06-16 03:04:05<br>
Subject:Re: [rest-discuss] Identifiers: higher precedence than other fields?<br>
Message:<br><br>
<pre>
&gt; &gt; Huh? The original suggestion of /artist?name=Lisa%20B%20Simpson is an
&gt; &gt; unvalidated URI manufactured by an external user-agent also. The
&gt; &gt; "?" doesn't make it special.
&gt;
&gt; Well IMHO it does. At least as far as the design I am proposing.
&gt; The question mark makes it a query. The query is directed to a URI
&gt; that expects name/value pairs to be appended to it's URI by the
&gt; User Agent. This is very HTML-forms-ish.

Although it's a common approach on servers to route requests to a request
handler based on the path portion only, the definition of URI encompasses
all the text, not just the stuff before the "?".
I wouldn't suggest changing your approach at all, but just wanted to make
sure you understood the HTTP spec.

&gt; The question mark makes it a query.
Actually, the GET request method makes it a query from the client's point of
view.

A client could PUT, POST or DELETE to /artist?name=Lisa%20Simpson just as
easily as to /artist/LisaSimpson with no observable difference because the
URI should be treated as being opaque. But I'm probably beating a dead horse
&amp; I'll shut up now.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4475<br>
Sender:"Walden Mathews" &lt;walden@...&gt;<br>
Post Date/Time:2004-06-16 15:25:43<br>
Subject:Re: [rest-discuss] Identifiers: higher precedence than other fields?<br>
Message:<br><br>
<pre>| &gt; The question mark makes it a query.
| Actually, the GET request method makes it a query from the client's point
of
| view.
|


Different meanings for the word 'query'.  Donald is referring to what is
more formally known as set comprehension*, a very loosely coupled way
of specifying a set of web resources without knowledge of the implementer's
notions of hierarchy or other organization; just a partial knowledge of
properties gets things rolling.

(I think that's what Donad is referring to... :-)

* from Zermelo Frï¿½nkel set theory
[http://computing-dictionary.thefreedictionary.com/Zermelo%20set%20theory]

Walden


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4476<br>
Sender:"David Orchard" &lt;orchard@...&gt;<br>
Post Date/Time:2004-06-17 22:06:10<br>
Subject:RE: [rest-discuss] Identifiers: higher precedence than other fields?<br>
Message:<br><br>
<pre>I laughed, I cried, when I got told to check out XPointer as to my
regrest I was on the XPointer WG.  I still haven't recovered from the
agony and scars of that schmozzle.  That we didn't get an official frag
id syntax for XML because we got railroaded into using Ranges still
fills me with rage.  However, attempting to move on...
 
You might be right in that I'm doing darned object thinking first rather
than interface, but I'm trying...
 
My problem is actually fairly simple in the abstract: I want to figure
out the 80/20 point for unifying XML and the Web, hopefully hitting the
'make simple things simple and hard things possible' and then provide an
effective and useful description format.
 
From an architecture perspective, I see that we have 2 hierachical data
structures (URI, infoset), 2+ identifier mechanisms (URI, ID, name),
etc.  I roughly think that the Web and XML architecture are orthogonal.

 
Now, what can we do to make integration of URIs and XML and XML Schema
easier?  What kind of constraints can we adopt that makes it possible to
easily create XML web applications?
Ideas: default is no namespace name, xml element names are URI path
components, identifier is in the URI path, xml identifier is the "name"
attribute, URI query is never used for identifiers only queries,
retrievals always return the lowest element in the hierarchy (artist or
artist/bio instead of ArtistList/Artist..) etc.
 
I'm not sure that the current WSDL 2.0 HTTP binding meets this point,
and I'm trying to help fix that.  And if WSDL 2.0 isn't the right way to
describe Web/XML components, then maybe some other format should be
looked at in the w3c (or elsewhere).
 
Cheers,
Dave

-----Original Message-----
From: Neil Kandalgaonkar [mailto:neil_j_k@...]
Sent: Friday, June 04, 2004 10:22 AM
To: rest-discuss@yahoogroups.com
Subject: Re: [rest-discuss] Identifiers: higher precedence than other
fields?



--- David Orchard &lt;orchard@pacificspirit.com&gt; wrote:
&gt; It seems that any XML identifier is problematic to algorithmically
&gt; map to a URI.

Yes. As you've noticed, this is impossible with just simple
directory-style slashes.

But can I suggest that you step back and ask what problem you're
trying to solve?

If your problem is "I have settled on XML, the documents will be
entirely freeform, and I want a uniform way of identifying any random
node so I can stuff them into URIs" then I guess you want XPath or
XPointer. Check them out. The expressions are very complex though.

However, if that *isn't* your problem, then perhaps you should think
about the URI interface first.  It seems to me that you really just
want:

http://host/artist/Thievery%20Corporation
http://host/artist/Thievery%20Corporation/bio
http://host/artist/Thievery%20Corporation/genre
http://host/artist/Thievery%20Corporation/website

You may protest that you have to write different get/set methods for
each one of those URIs! And what if your underlying data structure
changes?

However, some would say this is the beauty of REST. It forces you to
think about the consumers of your interfaces. Hiding the details is
good. This means you can change your underlying data structure at
will.


=====
--
Neil Kandalgaonkar
neil_j_k@...


Yahoo! Groups Sponsor	

ADVERTISEMENT
 
&lt;http://rd.yahoo.com/SIG=1298hgskf/M=298184.5022502.6152625.3001176/D=gr
oups/S=1705701014:HM/EXP=1086456125/A=2164339/R=0/SIG=11e2d64in/*http://
www.netflix.com/Default?mqso=60183348&gt; click here	
 
&lt;http://us.adserver.yahoo.com/l?M=298184.5022502.6152625.3001176/D=group
s/S=:HM/A=2164339/rand=342213872&gt; 	


  _____  

Yahoo! Groups Links


*	To visit your group on the web, go to:
http://groups.yahoo.com/group/rest-discuss/
  

*	To unsubscribe from this group, send an email to:
rest-discuss-unsubscribe@yahoogroups.com
&lt;mailto:rest-discuss-unsubscribe@yahoogroups.com?subject=Unsubscribe&gt; 
  

*	Your use of Yahoo! Groups is subject to the Yahoo! Terms of
Service &lt;http://docs.yahoo.com/info/terms/&gt; . 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4477<br>
Sender:"David Orchard" &lt;orchard@...&gt;<br>
Post Date/Time:2004-06-17 22:06:29<br>
Subject:RE: [rest-discuss] Client-composed URI paths<br>
Message:<br><br>
<pre>here, here.  As you can guess, I've been working on this, but it's damned hard.  

-----Original Message-----
From: S. Mike Dierken [mailto:mdierken@hotmail.com]
Sent: Monday, June 14, 2004 9:11 PM
To: neil_j_k@...; rest-discuss@yahoogroups.com
Subject: Re: [rest-discuss] Client-composed URI paths



&gt; So I think the question is: do we need another standard for clients
&gt; to transform user data into the *path* section? In a way customized
&gt; to each REST application?
&gt;
&gt; My first guess is no, but I'd like to hear potential uses first. Why
&gt; would you want to compose such a URI path? Why *wouldn't* you want to
&gt; do the same thing with a URI query?

I'd like a general mechanism for constructing a request - regardless of URI
path, URI query terms, request headers, etc. I'd settle for complete access
to the request method and the URI.


Yahoo! Groups Sponsor	

ADVERTISEMENT
 &lt;http://us.ard.yahoo.com/SIG=129pln3pg/M=298184.5022502.6152625.3001176/D=groups/S=1705701014:HM/EXP=1087360905/A=2164330/R=0/SIG=11eamf8g4/*http://www.netflix.com/Default?mqso=60183350&gt; click here	
  &lt;http://us.adserver.yahoo.com/l?M=298184.5022502.6152625.3001176/D=groups/S=:HM/A=2164330/rand=435256166&gt; 	


  _____  

Yahoo! Groups Links


*	To visit your group on the web, go to:
http://groups.yahoo.com/group/rest-discuss/
  

*	To unsubscribe from this group, send an email to:
rest-discuss-unsubscribe@yahoogroups.com &lt;mailto:rest-discuss-unsubscribe@yahoogroups.com?subject=Unsubscribe&gt; 
  

*	Your use of Yahoo! Groups is subject to the Yahoo! Terms of Service &lt;http://docs.yahoo.com/info/terms/&gt; . 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4478<br>
Sender:Neil Kandalgaonkar &lt;neil_j_k@...&gt;<br>
Post Date/Time:2004-06-17 23:44:05<br>
Subject:RE: [rest-discuss] Identifiers: higher precedence than other fields?<br>
Message:<br><br>
<pre>--- David Orchard &lt;dorchard@...&gt; wrote:
&gt; I laughed, I cried, when I got told to check out XPointer as to my
&gt; regrest I was on the XPointer WG.  I still haven't recovered from
&gt; the
&gt; agony and scars of that schmozzle.

Yeah... I know some XPath but only threw in XPointer because I'd
heard about it.

I only realized afterwards you had written some XML-related
standards. So the context of your question was more like "I know all
about XPath -- I'm looking for a simpler way" which I didn't get.
Sorry about that.



=====
--
Neil Kandalgaonkar
neil_j_k@...

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4479<br>
Sender:Tyler Close &lt;list@...&gt;<br>
Post Date/Time:2004-06-20 02:21:30<br>
Subject:Re: [rest-discuss] Generative Naming vs. capability URIs<br>
Message:<br><br>
<pre>Laurian Gridinoc wrote:
&gt; Regarding the access-by-traversal [1] from Waterken Web Calculus [2],
&gt; their capability URI [3] cannot be considered Generative Naming since
&gt; the URIs are opaque.
&gt; 
&gt; How can be both done? Doing Generative Naming and add the capability
&gt; in the query string?

What access-control properties are you trying to achieve?

Since you want Generative Naming, I assume the user submitting the query 
has the authority to access all resources in the namespace. Is this 
true? When the user passes the generated URL to another user, does the 
other user:

1. receive access to just the identified resource
2. receive access to all resources in the namespace
3. receive no new authority

So far, I haven't felt a need for Generative Naming in web-calculus 
applications. The pattern I currently use is:

--&gt; POST search terms
&lt;-- redirect to search result
--&gt; GET on redirect URL
&lt;-- search results

This pattern provides the access control properties of #1 above.

A Generative Naming pattern might be able to optimize out a network 
round-trip, while still providing the same access-control properties, 
but I haven't yet felt the need to design such a solution. This use-case 
does not seem prevalent in applications that have access-control 
properties. Generative Naming seems more important in applications with 
no access-control properties.

Tyler

-- 
The web-calculus is the union of REST and capability-based security.
http://www.waterken.com/dev/Web/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4480<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2004-06-20 18:20:06<br>
Subject:Re: [rest-discuss] Identifiers: higher precedence than other fields?<br>
Message:<br><br>
<pre>&gt; I laughed, I cried, when I got told to check out XPointer as to my regrest I was on the XPointer WG.  
Ouch.

&gt; That we didn't get an official frag id syntax for XML because we got railroaded into using Ranges still fills me with rage.
I wasn't following that bit of standards work - does this imply no documented standard for using the stuff after the '#' character in URIs to locate data inside the returned XML representation? Or were you shooting for sending the stuff after the '#' character up to the server?

&gt; Ideas: default is no namespace name, xml element names are URI path components, identifier is in the URI path, 
&gt; xml identifier is the "name" attribute, URI query is never used for identifiers only queries, 
&gt; retrievals always return the lowest element in the hierarchy (artist or artist/bio instead of ArtistList/Artist..) etc.
Some of this sounds familiar... I did a project (wound up on xml.apache.org, except it's derelict and abandoned) that used URIs to address into an XML document resident on the server. The 'document' was in fact a 'virtual document' and not just a single text file.

Couple questions
&gt; default is no namespace name, 
No arguments here.

&gt; xml element names are URI path components, 
Does this mean to put tag names in the path segments of a URI?
Is this intended to have similar meaning as XPath selection?
This implies that the request is to retrieve a resource that happens to be contained wholly within an XML document (or a synthesized, larger 'virtual' document), rather than retrieve a stored XML document identified by the URI. (I realize that from the client's perspective there is no way to tell these two apart, but I'm trying to figure out the intent through talking about expected implementation)
Let's see a concrete example. Pick a well known schema (something with at least three levels of element nesting - perhaps one of the numerous RSS formats or Atom - ignoring namespaces) and craft what some 'best practices' URI would look like.

&gt; identifier is in the URI path, 
&gt; xml identifier is the "name" attribute, 
Are these two a suggested alternative to putting xml element names in the path segments mentioned previously?
This particular approach is the same as what I used in the Xang project (up on xml.apache.org - only look at the source if you are morbidly curious about servlet technologies from five years ago...). Very convenient and doesn't make the clients overly aware that the storage is in XML format or supports the XML data model. For 


&gt; URI query is never used for identifiers only queries, 
There's a fine line between identifier and query. Again - I'm curious as to what the problem you are trying to solve is. Are you trying to come up with a reasonable 80/20 solution for addresing into XML data models (or infosets or what have you)? Or are you trying to come up with an approach for accessing any resource that supports returning XML representations?

&gt; retrievals always return the lowest element in the hierarchy (artist or artist/bio instead of ArtistList/Artist..) etc.
Not sure what this means - need to see an example.


  ----- Original Message ----- 
  From: David Orchard 
  To: neil_j_k@... ; rest-discuss@yahoogroups.com 
  Sent: Thursday, June 17, 2004 3:06 PM
  Subject: RE: [rest-discuss] Identifiers: higher precedence than other fields?


  I laughed, I cried, when I got told to check out XPointer as to my regrest I was on the XPointer WG.  I still haven't recovered from the agony and scars of that schmozzle.  That we didn't get an official frag id syntax for XML because we got railroaded into using Ranges still fills me with rage.  However, attempting to move on...

  You might be right in that I'm doing darned object thinking first rather than interface, but I'm trying...

  My problem is actually fairly simple in the abstract: I want to figure out the 80/20 point for unifying XML and the Web, hopefully hitting the 'make simple things simple and hard things possible' and then provide an effective and useful description format.

  From an architecture perspective, I see that we have 2 hierachical data structures (URI, infoset), 2+ identifier mechanisms (URI, ID, name), etc.  I roughly think that the Web and XML architecture are orthogonal.  

  Now, what can we do to make integration of URIs and XML and XML Schema easier?  What kind of constraints can we adopt that makes it possible to easily create XML web applications?
  Ideas: default is no namespace name, xml element names are URI path components, identifier is in the URI path, xml identifier is the "name" attribute, URI query is never used for identifiers only queries, retrievals always return the lowest element in the hierarchy (artist or artist/bio instead of ArtistList/Artist..) etc.

  I'm not sure that the current WSDL 2.0 HTTP binding meets this point, and I'm trying to help fix that.  And if WSDL 2.0 isn't the right way to describe Web/XML components, then maybe some other format should be looked at in the w3c (or elsewhere).

  Cheers,
  Dave
    -----Original Message-----
    From: Neil Kandalgaonkar [mailto:neil_j_k@...]
    Sent: Friday, June 04, 2004 10:22 AM
    To: rest-discuss@yahoogroups.com
    Subject: Re: [rest-discuss] Identifiers: higher precedence than other fields?



    --- David Orchard &lt;orchard@...&gt; wrote:
    &gt; It seems that any XML identifier is problematic to algorithmically
    &gt; map to a URI.

    Yes. As you've noticed, this is impossible with just simple
    directory-style slashes.

    But can I suggest that you step back and ask what problem you're
    trying to solve?

    If your problem is "I have settled on XML, the documents will be
    entirely freeform, and I want a uniform way of identifying any random
    node so I can stuff them into URIs" then I guess you want XPath or
    XPointer. Check them out. The expressions are very complex though.

    However, if that *isn't* your problem, then perhaps you should think
    about the URI interface first.  It seems to me that you really just
    want:

    http://host/artist/Thievery%20Corporation
    http://host/artist/Thievery%20Corporation/bio
    http://host/artist/Thievery%20Corporation/genre
    http://host/artist/Thievery%20Corporation/website

    You may protest that you have to write different get/set methods for
    each one of those URIs! And what if your underlying data structure
    changes?

    However, some would say this is the beauty of REST. It forces you to
    think about the consumers of your interfaces. Hiding the details is
    good. This means you can change your underlying data structure at
    will.


    =====
    --
    Neil Kandalgaonkar
    neil_j_k@...


          Yahoo! Groups Sponsor 
                ADVERTISEMENT
               
         
         


----------------------------------------------------------------------------
    Yahoo! Groups Links

      a.. To visit your group on the web, go to:
      http://groups.yahoo.com/group/rest-discuss/
        
      b.. To unsubscribe from this group, send an email to:
      rest-discuss-unsubscribe@yahoogroups.com
        
      c.. Your use of Yahoo! Groups is subject to the Yahoo! Terms of Service. 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4481<br>
Sender:"David Orchard" &lt;orchard@...&gt;<br>
Post Date/Time:2004-06-22 18:02:23<br>
Subject:RE: [rest-discuss] Client-composed URI paths<br>
Message:<br><br>
<pre>We've been looking at this in the WSD WG.  The WSDL 2.0 HTTP binding has
a mechanism for specifying how a URI space is populated based upon
schema and instance data.  I've tried my hand at creating an example of
the Artist showing how the HTTP binding would be used at
 
http://www.pacificspirit.com/Authoring/wsdl/ArtistWSDL2uriformencoding.h
tml
 
I kind of think it sucks, it's too complicated and it doesn't seem to
make the simple things simple, as I describe in the message.
 
Also, there's some use of HTTP headers in REST, which we haven't
formally done in the WSD until now.  We've been working on a proposal
for how to specify out-of-band, or Application Data, that is intended to
be serialized as HTTP or SOAP headers.  Myself and Glenn have
responsibility for this in WSD, and we're almost there, but it's not
quite ready.  
 
Cheers,
Dave

-----Original Message-----
From: Jeff Bone [mailto:jbone@...]
Sent: Tuesday, June 15, 2004 12:23 AM
To: neil_j_k@yahoo.com
Cc: rest-discuss@yahoogroups.com
Subject: Re: [rest-discuss] Client-composed URI paths



On Jun 14, 2004, at 5:55 PM, Neil Kandalgaonkar wrote:

&gt; In HTML, aren't the vast majority of URIs just provided in links?

Yes - explicit ones.  We're talking about having the servers specify 
generation rules for whole classes of valid URI, not merely passing out 
explicit lists of them.

&gt; Do you mean forms? Because, of course, that's a good standard for
&gt; transforming client data into the query section of a URI.
&gt;
&gt; So I think the question is: do we need another standard for clients
&gt; to transform user data into the *path* section? In a way customized
&gt; to each REST application?

Whether it's in the query or the path is somewhat orthogonal to the 
desire to express URI generatively.  The preference for having such a 
mechanism that works both with path parts and query parts is driven 
mostly by caching concerns, otherwise somewhat by a resource modeling 
philosophy that says conceptual hierarchy in the model should be 
expressed as such in URI.

Cf., w/ caveat that this is purely my own (and early, not recently 
revisited) thoughts on this:

      http://rest.blueoxen.net/cgi-bin/wiki.pl?GenerativeNaming

and

      http://rest.blueoxen.net/cgi-bin/wiki.pl?NamingIsntNavigating

Also check out Mark Nottingham's related thoughts on a WSDL approach to 
this:

      http://www.mnot.net/blog/2004/04/16/generative

and

      http://www.mnot.net/blog/2003/12/07/webdesc

jb





Yahoo! Groups Sponsor	

ADVERTISEMENT
 
&lt;http://us.ard.yahoo.com/SIG=129p0mqnv/M=298184.5022502.6152625.3001176/
D=groups/S=1705701014:HM/EXP=1087370647/A=2164339/R=0/SIG=11e2d64in/*htt
p://www.netflix.com/Default?mqso=60183348&gt; click here	
 
&lt;http://us.adserver.yahoo.com/l?M=298184.5022502.6152625.3001176/D=group
s/S=:HM/A=2164339/rand=420601213&gt; 	


  _____  

Yahoo! Groups Links


*	To visit your group on the web, go to:
http://groups.yahoo.com/group/rest-discuss/
  

*	To unsubscribe from this group, send an email to:
rest-discuss-unsubscribe@yahoogroups.com
&lt;mailto:rest-discuss-unsubscribe@yahoogroups.com?subject=Unsubscribe&gt; 
  

*	Your use of Yahoo! Groups is subject to the Yahoo! Terms of
Service &lt;http://docs.yahoo.com/info/terms/&gt; . 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4482<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2004-07-05 03:37:20<br>
Subject:[administrivia] RESTwiki RSS feed<br>
Message:<br><br>
<pre>Woohoo, the new RESTwiki has an RSS feed;

http://rest.blueoxen.net/cgi-bin/wiki.pl?action=rss

Thanks, Eugene.

Mark.
-- 
Mark Baker.   Ottawa, Ontario, CANADA.        http://www.markbaker.ca

  Seeking work on large scale application/data integration projects
  and/or the enabling infrastructure for same.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4483<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2004-07-08 16:16:13<br>
Subject:Distributed Requests<br>
Message:<br><br>
<pre>Hi,

in the work I currently do, the issue described below keeps popping up
and I just can't figure out, what exactly REST's position about it is.
I would be deeply thankful for any additional thought.

Suppose I am dealing with customer data that is distributed accross
diverse data sources and I want to provide a single point of access
in order to provide an integrated view on the various pieces of
data about a single customer.

While this is not a big deal in itself, I would like to do this as
RESTful as possible; hence my questions.


First I 'create' a resource for every customer on the host that
is to be the single point of access, e.g.:

  http://infosystem.org/customers/66726


The server application managing these resources, simply needs to
distribute requests to the various data stores, integrate the results
and send back whatever is appropriate (e.g. HTML or RDF).

Now, I want the interaction between the portal and the various data sources 
to also be done via HTTP and here is where the interesting part starts.

There are two possibilities to ask a data source about information for
the customer http://infosystem.org/customers/66726:

(1) Use the URL as a parameter to an indexable[1] (queryable) resource,
    for example:

    http://store1.some.org/customerdata?identifier=http://infosystem.org/customers/66726

    and make the 'portal URIs' known to the wrapper application that exposes
    the however-stored data via HTTP so it 'knows' what customer is being asked
    for.

(2) Create resources for each customer on the various datastore-hosts, e.g.
    http://store1.some.org/customers/6672 and make it known to the portal
    server (or an intermediary) that, for example

    http://infosystem.org/customers/66726 owl:same http://store1.some.org/customers/6672
    http://infosystem.org/customers/66726 owl:same http://store2.some.org/customers/6672

    so that the portal/intermediary can distribute the original request to all
    the owl:same resources in order to send back a representation that is
    the combination of all the representations retrieved by the distributed requests.


I would clearly rule out (1), because if one starts doing this, I cannot see any
advantage of having a unique addressing space. If (1) was a RESTful option, this
could well be extended to arbitrary property/value constellations for communicating
what one refers to, e.g. http://store.org/about?http://myprops/ISBN=0093661778
This would IMHO break the whole idea of simply 'uttering a URI'.

The questions I have about (2) are:

- although I have never heard any objections from the REST POV against a resource
  spanning multiple authorities, I am still not sure that REST explicitly allows
  the situation described in (2). I am thinking of this as to 'distribute the
  invocation of the representation-resource membership function'....ok?

- usually, several representations returned for multiple requests to a single
  resource are understood to be mutually exclusive, but in the case described in
  (2), the various representations are *combined* to form another one.
  Is this RESTful?

- I would also like to do this the other way round (distributing POST,PUT and
  DELETE) and while technically possible, I am also not sure if this case
  would break any REST constraint.


Thoughts?

Jan

[1] which is (thanks Mark :o) formally defined as
    http://www.markbaker.ca/2003/rdfforms/Indexable/


-- 
Jan Algermissen                           http://www.topicmapping.com
Consultant &amp; Programmer	                  http://www.gooseworks.org

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4484<br>
Sender:Jon Hanna &lt;jon@...&gt;<br>
Post Date/Time:2004-07-08 16:26:16<br>
Subject:Re: [rest-discuss] Distributed Requests<br>
Message:<br><br>
<pre>&gt; - although I have never heard any objections from the REST POV against a
&gt; resource
&gt;   spanning multiple authorities, I am still not sure that REST explicitly
&gt; allows
&gt;   the situation described in (2). I am thinking of this as to 'distribute
&gt; the
&gt;   invocation of the representation-resource membership function'....ok?

Anyone can name anything. Not only can you have two URIs for the same resource,
you can't stop me creating a URI for it too.

&gt; - usually, several representations returned for multiple requests to a
&gt; single
&gt;   resource are understood to be mutually exclusive, but in the case described
&gt; in
&gt;   (2), the various representations are *combined* to form another one.
&gt;   Is this RESTful?

This is what you do in your own head when you read 2 webpages on the same topic
and combine the knowledge gained.

-- 
Jon Hanna
&lt;http://www.hackcraft.net/&gt;
ï¿½it has been truly said that hackers have even more words for
equipment failures than Yiddish has for obnoxious people." - jargon.txt

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4485<br>
Sender:Dave Pawson &lt;dpawson@...&gt;<br>
Post Date/Time:2004-07-08 18:55:51<br>
Subject:Re: [rest-discuss] Distributed Requests<br>
Message:<br><br>
<pre>At 17:16 08/07/2004, Jan Algermissen wrote:

&gt;Suppose I am dealing with customer data that is distributed accross
&gt;diverse data sources and I want to provide a single point of access
&gt;in order to provide an integrated view on the various pieces of
&gt;data about a single customer.




&gt;First I 'create' a resource for every customer on the host that
&gt;is to be the single point of access, e.g.:
&gt;
&gt;   http://infosystem.org/customers/66726
&gt;
&gt;
&gt;The server application managing these resources, simply needs to
&gt;distribute requests to the various data stores, integrate the results
&gt;and send back whatever is appropriate (e.g. HTML or RDF).

XSLT will do that?
If the hit on the above url triggers an xslt stylesheet,
which references an XML document which lists
the remote url's,
    it can collate them, format them as needed for delivry,
and respond with the resultant document.


&gt;Now, I want the interaction between the portal and the various data sources
&gt;to also be done via HTTP and here is where the interesting part starts.

XSLT stylesheets can use http://x.y.z quite happily to read sources.


&gt;Thoughts?


Does the above meet the needs?
The list of data repositories can be on its own url, built
as needed, the 'home' page xml then uses a static stylesheet
which reads that list of url's and styles them as needed.

Sounds pretty restful,
   but then again, what do I know:-)

HTH DaveP




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4486<br>
Sender:"Donald Strong" &lt;dstrong@...&gt;<br>
Post Date/Time:2004-07-09 01:12:41<br>
Subject:RE: [rest-discuss] Distributed Requests<br>
Message:<br><br>
<pre>
The idea of a URL referencing more than one resource or indirectly
referencing a resource, as in (1) below, does not sit comfortably
with me.

I assume a redirect is not approriate.

My opinion is...

A resource identified by a URL is an entity in its own right.
If it happens to be a composite of other resources it can do
that in one of two ways; implicitly or explicitly.

Implicit composition:
   The resource is a process that, without the requester knowing,
   makes further requests to far flung reaches of the galaxy and
   correlates the results for presentation to the requester.
   POSTs to this resource, similarly, are disected and deceminated
   without the requester having the foggiest idea what is happening
   behind the scenes. PUTs are not appropriate to this resource,
   however it may be appropriate for the resource to PUT to the
   other resources depending upon their interfaces.
   This resembles the facade pattern from the Gang of Four.

Explicit composition:
   The response returned by the resource contains explicit links
   to its constituant parts. An example would be if the response
   encoding was XML it could contain XLinks to the constituent
   parts of the document.

        http://infosystem.org/customers/66726

        &lt;customer&gt;
            &lt;primary title="Primary Customer Information"
                     href="http://store1.some.org/customers/6672"
                     show="embed"
                     actuate="auto"/&gt;
            &lt;secondary title="Secondary Customer Information"
                     href="http://store2.some.org/customers/6672"
                     show="embed"
                     actuate="auto"/&gt;
        &lt;/customer&gt;

   (Disclaimer - I know little about xlink aside from the examples
    in my 1999 XML Pocket reference so the example above is
    probably completely wrong, but you get the idea.)

   The client requesting this resource must immediately retrieve
   and embed the resources referenced by the response. The client
   now has sufficient information to PUT or POST to the initial
   resource or any of the embedded resources. Whether the client
   has the authority to do so is a separate issue.

I leave the pros and cons for each approach as an exercise for the
reader, but I would point out that processing the explicit
composition response requires a much more intelligent client,
ie. not a browser.

Regards
Donald.


&gt; -----Original Message-----
&gt; From: jan@... [mailto:jan@...]On Behalf Of Jan
&gt; Algermissen
&gt; Sent: Friday, 9 July 2004 2:16 AM
&gt; To: rest-discuss
&gt; Subject: [rest-discuss] Distributed Requests
&gt;
&gt;
&gt; Hi,
&gt;
&gt; in the work I currently do, the issue described below keeps popping up
&gt; and I just can't figure out, what exactly REST's position about it is.
&gt; I would be deeply thankful for any additional thought.
&gt;
&gt; Suppose I am dealing with customer data that is distributed accross
&gt; diverse data sources and I want to provide a single point of access
&gt; in order to provide an integrated view on the various pieces of
&gt; data about a single customer.
&gt;
&gt; While this is not a big deal in itself, I would like to do this as
&gt; RESTful as possible; hence my questions.
&gt;
&gt;
&gt; First I 'create' a resource for every customer on the host that
&gt; is to be the single point of access, e.g.:
&gt;
&gt;   http://infosystem.org/customers/66726
&gt;
&gt;
&gt; The server application managing these resources, simply needs to
&gt; distribute requests to the various data stores, integrate the results
&gt; and send back whatever is appropriate (e.g. HTML or RDF).
&gt;
&gt; Now, I want the interaction between the portal and the various
&gt; data sources
&gt; to also be done via HTTP and here is where the interesting part starts.
&gt;
&gt; There are two possibilities to ask a data source about information for
&gt; the customer http://infosystem.org/customers/66726:
&gt;
&gt; (1) Use the URL as a parameter to an indexable[1] (queryable) resource,
&gt;     for example:
&gt;
&gt;
&gt; http://store1.some.org/customerdata?identifier=http://infosystem.o
&gt; rg/customers/66726
&gt;
&gt;     and make the 'portal URIs' known to the wrapper application
&gt; that exposes
&gt;     the however-stored data via HTTP so it 'knows' what customer
&gt; is being asked
&gt;     for.
&gt;
&gt; (2) Create resources for each customer on the various
&gt; datastore-hosts, e.g.
&gt;     http://store1.some.org/customers/6672 and make it known to the portal
&gt;     server (or an intermediary) that, for example
&gt;
&gt;     http://infosystem.org/customers/66726 owl:same
&gt; http://store1.some.org/customers/6672
&gt;     http://infosystem.org/customers/66726 owl:same
&gt; http://store2.some.org/customers/6672
&gt;
&gt;     so that the portal/intermediary can distribute the original
&gt; request to all
&gt;     the owl:same resources in order to send back a representation that is
&gt;     the combination of all the representations retrieved by the
&gt; distributed requests.
&gt;
&gt;
&gt; I would clearly rule out (1), because if one starts doing this, I
&gt; cannot see any
&gt; advantage of having a unique addressing space. If (1) was a
&gt; RESTful option, this
&gt; could well be extended to arbitrary property/value constellations
&gt; for communicating
&gt; what one refers to, e.g.
http://store.org/about?http://myprops/ISBN=0093661778
This would IMHO break the whole idea of simply 'uttering a URI'.

The questions I have about (2) are:

- although I have never heard any objections from the REST POV against a
resource
  spanning multiple authorities, I am still not sure that REST explicitly
allows
  the situation described in (2). I am thinking of this as to 'distribute
the
  invocation of the representation-resource membership function'....ok?

- usually, several representations returned for multiple requests to a
single
  resource are understood to be mutually exclusive, but in the case
described in
  (2), the various representations are *combined* to form another one.
  Is this RESTful?

- I would also like to do this the other way round (distributing POST,PUT
and
  DELETE) and while technically possible, I am also not sure if this case
  would break any REST constraint.


Thoughts?

Jan

[1] which is (thanks Mark :o) formally defined as
    http://www.markbaker.ca/2003/rdfforms/Indexable/


--
Jan Algermissen                           http://www.topicmapping.com
Consultant &amp; Programmer	                  http://www.gooseworks.org




Yahoo! Groups Links






</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4487<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2004-07-09 03:23:47<br>
Subject:Re: [rest-discuss] Distributed Requests<br>
Message:<br><br>
<pre>I'm in strong agreement with Donald.
The whole issue of a single resource being a 'composite' of other hidden
data elements is an interesting line of investigation.
The example Don provides is of three resources, where representations of the
'primary' resource do not contain any data from the 'secondary' resources. I
think of this as 'non-overlapping' resources. I'm interested in issues
surrounding 'overlapping' resources.

For example, if I change Don's example to (omitting xlink stuff):
&lt;customer&gt;
  &lt;primary href="http://store1.some.org/customers/6672" firstName="mike"
lastName="dierken" /&gt;
  &lt;secondary href="http://store2.some.org/customers/6672" zipCode="98034" /&gt;
&lt;/customer&gt;

Where the firstName, lastName and zipCode are also resident in the other
resources, then you run into interesting questions
 - can you update the primary resource?
 - what caching/syncronization issues are there?



----- Original Message ----- 
From: "Donald Strong" &lt;dstrong@...&gt;
To: &lt;algermissen@...&gt;; "rest-discuss" &lt;rest-discuss@yahoogroups.com&gt;
Sent: Thursday, July 08, 2004 6:12 PM
Subject: RE: [rest-discuss] Distributed Requests


&gt;
&gt; The idea of a URL referencing more than one resource or indirectly
&gt; referencing a resource, as in (1) below, does not sit comfortably
&gt; with me.
&gt;
&gt; I assume a redirect is not approriate.
&gt;
&gt; My opinion is...
&gt;
&gt; A resource identified by a URL is an entity in its own right.
&gt; If it happens to be a composite of other resources it can do
&gt; that in one of two ways; implicitly or explicitly.
&gt;
&gt; Implicit composition:
&gt;    The resource is a process that, without the requester knowing,
&gt;    makes further requests to far flung reaches of the galaxy and
&gt;    correlates the results for presentation to the requester.
&gt;    POSTs to this resource, similarly, are disected and deceminated
&gt;    without the requester having the foggiest idea what is happening
&gt;    behind the scenes. PUTs are not appropriate to this resource,
&gt;    however it may be appropriate for the resource to PUT to the
&gt;    other resources depending upon their interfaces.
&gt;    This resembles the facade pattern from the Gang of Four.
&gt;
&gt; Explicit composition:
&gt;    The response returned by the resource contains explicit links
&gt;    to its constituant parts. An example would be if the response
&gt;    encoding was XML it could contain XLinks to the constituent
&gt;    parts of the document.
&gt;
&gt;         http://infosystem.org/customers/66726
&gt;
&gt;         &lt;customer&gt;
&gt;             &lt;primary title="Primary Customer Information"
&gt;                      href="http://store1.some.org/customers/6672"
&gt;                      show="embed"
&gt;                      actuate="auto"/&gt;
&gt;             &lt;secondary title="Secondary Customer Information"
&gt;                      href="http://store2.some.org/customers/6672"
&gt;                      show="embed"
&gt;                      actuate="auto"/&gt;
&gt;         &lt;/customer&gt;
&gt;
&gt;    (Disclaimer - I know little about xlink aside from the examples
&gt;     in my 1999 XML Pocket reference so the example above is
&gt;     probably completely wrong, but you get the idea.)
&gt;
&gt;    The client requesting this resource must immediately retrieve
&gt;    and embed the resources referenced by the response. The client
&gt;    now has sufficient information to PUT or POST to the initial
&gt;    resource or any of the embedded resources. Whether the client
&gt;    has the authority to do so is a separate issue.
&gt;
&gt; I leave the pros and cons for each approach as an exercise for the
&gt; reader, but I would point out that processing the explicit
&gt; composition response requires a much more intelligent client,
&gt; ie. not a browser.
&gt;
&gt; Regards
&gt; Donald.
&gt;
&gt;
&gt; &gt; -----Original Message-----
&gt; &gt; From: jan@... [mailto:jan@...]On Behalf Of Jan
&gt; &gt; Algermissen
&gt; &gt; Sent: Friday, 9 July 2004 2:16 AM
&gt; &gt; To: rest-discuss
&gt; &gt; Subject: [rest-discuss] Distributed Requests
&gt; &gt;
&gt; &gt;
&gt; &gt; Hi,
&gt; &gt;
&gt; &gt; in the work I currently do, the issue described below keeps popping up
&gt; &gt; and I just can't figure out, what exactly REST's position about it is.
&gt; &gt; I would be deeply thankful for any additional thought.
&gt; &gt;
&gt; &gt; Suppose I am dealing with customer data that is distributed accross
&gt; &gt; diverse data sources and I want to provide a single point of access
&gt; &gt; in order to provide an integrated view on the various pieces of
&gt; &gt; data about a single customer.
&gt; &gt;
&gt; &gt; While this is not a big deal in itself, I would like to do this as
&gt; &gt; RESTful as possible; hence my questions.
&gt; &gt;
&gt; &gt;
&gt; &gt; First I 'create' a resource for every customer on the host that
&gt; &gt; is to be the single point of access, e.g.:
&gt; &gt;
&gt; &gt;   http://infosystem.org/customers/66726
&gt; &gt;
&gt; &gt;
&gt; &gt; The server application managing these resources, simply needs to
&gt; &gt; distribute requests to the various data stores, integrate the results
&gt; &gt; and send back whatever is appropriate (e.g. HTML or RDF).
&gt; &gt;
&gt; &gt; Now, I want the interaction between the portal and the various
&gt; &gt; data sources
&gt; &gt; to also be done via HTTP and here is where the interesting part starts.
&gt; &gt;
&gt; &gt; There are two possibilities to ask a data source about information for
&gt; &gt; the customer http://infosystem.org/customers/66726:
&gt; &gt;
&gt; &gt; (1) Use the URL as a parameter to an indexable[1] (queryable) resource,
&gt; &gt;     for example:
&gt; &gt;
&gt; &gt;
&gt; &gt; http://store1.some.org/customerdata?identifier=http://infosystem.o
&gt; &gt; rg/customers/66726
&gt; &gt;
&gt; &gt;     and make the 'portal URIs' known to the wrapper application
&gt; &gt; that exposes
&gt; &gt;     the however-stored data via HTTP so it 'knows' what customer
&gt; &gt; is being asked
&gt; &gt;     for.
&gt; &gt;
&gt; &gt; (2) Create resources for each customer on the various
&gt; &gt; datastore-hosts, e.g.
&gt; &gt;     http://store1.some.org/customers/6672 and make it known to the
portal
&gt; &gt;     server (or an intermediary) that, for example
&gt; &gt;
&gt; &gt;     http://infosystem.org/customers/66726 owl:same
&gt; &gt; http://store1.some.org/customers/6672
&gt; &gt;     http://infosystem.org/customers/66726 owl:same
&gt; &gt; http://store2.some.org/customers/6672
&gt; &gt;
&gt; &gt;     so that the portal/intermediary can distribute the original
&gt; &gt; request to all
&gt; &gt;     the owl:same resources in order to send back a representation that
is
&gt; &gt;     the combination of all the representations retrieved by the
&gt; &gt; distributed requests.
&gt; &gt;
&gt; &gt;
&gt; &gt; I would clearly rule out (1), because if one starts doing this, I
&gt; &gt; cannot see any
&gt; &gt; advantage of having a unique addressing space. If (1) was a
&gt; &gt; RESTful option, this
&gt; &gt; could well be extended to arbitrary property/value constellations
&gt; &gt; for communicating
&gt; &gt; what one refers to, e.g.
&gt; http://store.org/about?http://myprops/ISBN=0093661778
&gt; This would IMHO break the whole idea of simply 'uttering a URI'.
&gt;
&gt; The questions I have about (2) are:
&gt;
&gt; - although I have never heard any objections from the REST POV against a
&gt; resource
&gt;   spanning multiple authorities, I am still not sure that REST explicitly
&gt; allows
&gt;   the situation described in (2). I am thinking of this as to 'distribute
&gt; the
&gt;   invocation of the representation-resource membership function'....ok?
&gt;
&gt; - usually, several representations returned for multiple requests to a
&gt; single
&gt;   resource are understood to be mutually exclusive, but in the case
&gt; described in
&gt;   (2), the various representations are *combined* to form another one.
&gt;   Is this RESTful?
&gt;
&gt; - I would also like to do this the other way round (distributing POST,PUT
&gt; and
&gt;   DELETE) and while technically possible, I am also not sure if this case
&gt;   would break any REST constraint.
&gt;
&gt;
&gt; Thoughts?
&gt;
&gt; Jan
&gt;
&gt; [1] which is (thanks Mark :o) formally defined as
&gt;     http://www.markbaker.ca/2003/rdfforms/Indexable/
&gt;
&gt;
&gt; --
&gt; Jan Algermissen                           http://www.topicmapping.com
&gt; Consultant &amp; Programmer                   http://www.gooseworks.org
&gt;
&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4488<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2004-07-09 08:57:58<br>
Subject:Re: [rest-discuss] Distributed Requests<br>
Message:<br><br>
<pre>"S. Mike Dierken" wrote:
&gt; 
&gt; I'm in strong agreement with Donald.
&gt; The whole issue of a single resource being a 'composite' of other hidden
&gt; data elements is an interesting line of investigation.

Thanks for all the comments so far. One more thought:

I think the problem can be generalized to the question how information
(contributing representation components) about a resource can be retrieved
without using the resource's URI as a query parameter (which would
IMHO break the whole beauty of doing data integration with REST).

This raises the question if a resource's state can be distributed (with
each component representation representing a component of the state) and
what kind of information is part of a resource's state and what not.

Properties like Name and ZIP code are IMHO good candidates for belonging
to the state, while relationships to other resources are propably not
(but where is the difference anyway?).

Is the information returned by 

   http://www.google.de/search?q=link:http://www.xml.com

   (query string unescaped for readability)

part of the state of http://www.xml.com ?

If it is not....what is it?

What about the information returned by

    http://www.google.de/search?q=http://www.xml.com

which usually returns the title and a short description of the
resource given as a parameter.

Jan

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4489<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2004-07-09 09:06:10<br>
Subject:Re: [rest-discuss] Distributed Requests<br>
Message:<br><br>
<pre>"S. Mike Dierken" wrote:

&gt; For example, if I change Don's example to (omitting xlink stuff):
&gt; &lt;customer&gt;
&gt;   &lt;primary href="http://store1.some.org/customers/6672" firstName="mike"
&gt; lastName="dierken" /&gt;
&gt;   &lt;secondary href="http://store2.some.org/customers/6672" zipCode="98034" /&gt;
&gt; &lt;/customer&gt;
&gt; 
&gt; Where the firstName, lastName and zipCode are also resident in the other
&gt; resources, then you run into interesting questions
&gt;  - can you update the primary resource?
&gt;  - what caching/syncronization issues are there?

Also, when taking this from my limited (controled) data integration example to
Semantic Web scale, who gets to make the decision what is primary and what are
secondary resources? Back to the original issue if there is only one resource
that is spanning across various authorities or if that is prohibited by REST.

Jan



-- 
Jan Algermissen                           http://www.topicmapping.com
Consultant &amp; Programmer	                  http://www.gooseworks.org

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4490<br>
Sender:"Walden Mathews" &lt;walden@...&gt;<br>
Post Date/Time:2004-07-09 13:05:39<br>
Subject:Re: [rest-discuss] Distributed Requests<br>
Message:<br><br>
<pre>Jan,

| Is the information returned by 
| 
|    http://www.google.de/search?q=link:http://www.xml.com
| 
|    (query string unescaped for readability)
| 
| part of the state of http://www.xml.com ?
| 
| If it is not....what is it?

If you're asking whether REST constrains the first URI's
representation to be a substring of the second, I think the
answer is an obvious 'no'.  Why would it?

By the way, if "part of the state" does not refer to
representational strings and substrings (or other constructs
based on these), then this could be a source of trouble.
REST has no explicit resource states, so decompositions
of resource states ("part of X's state", e.g.) are not strictly
possible.

Walden

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4491<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2004-07-09 13:29:40<br>
Subject:Re: [rest-discuss] Distributed Requests<br>
Message:<br><br>
<pre>Jan Algermissen wrote:

&gt; I think the problem can be generalized to the question how information
&gt; (contributing representation components) about a resource can be retrieved
&gt; without using the resource's URI as a query parameter.

While I keep thinking about this, here is another way to address this issue:

Here is the parameter-style again I try to avoid:

  "give me all you know about resource R":

   GET http://knowledgebase.org/about?uri=http://some.org/persons/778726 HTTP/1.1

Another way to avoid the query parameter is to access the knowledge base
as an intermediary (given the KB service understands this):

telnet knowledgebase.org 8080

GET http://some.org/persons/778726 HTTP/1.1
Host: knowledgebase.org
Accept: application/rdf+xml

I'll need to evaluate if this has benefits in terms of integrating additional
services in a RESTful way, but besides that, does this approach make sense?
Is it ok for an intermediary to explicitly not pass on the request?

At least in this case, it is 100% clear that the returned representation will
be a representation of http://some.org/persons/778726.

Hmmm, I guess I like this one the best. No additional URIs, no query
parameter.


Jan

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4492<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2004-07-09 13:44:14<br>
Subject:Re: [rest-discuss] Distributed Requests<br>
Message:<br><br>
<pre>Walden--

Walden Mathews wrote:
&gt; 
&gt; Jan,
&gt; 
&gt; | Is the information returned by
&gt; |
&gt; |    http://www.google.de/search?q=link:http://www.xml.com
&gt; |
&gt; |    (query string unescaped for readability)
&gt; |
&gt; | part of the state of http://www.xml.com ?
&gt; |
&gt; | If it is not....what is it?
&gt; 
&gt; If you're asking whether REST constrains the first URI's
&gt; representation to be a substring of the second, I think the
&gt; answer is an obvious 'no'.  Why would it?
&gt; 
&gt; By the way, if "part of the state" does not refer to
&gt; representational strings and substrings (or other constructs
&gt; based on these), then this could be a source of trouble.
&gt; REST has no explicit resource states, so decompositions
&gt; of resource states ("part of X's state", e.g.) are not strictly
&gt; possible.

What do you mean by 'explicit resource states'?

I was thinking along the lines described by Mark in 

http://www.markbaker.ca/2001/09/draft-baker-http-resource-state-model-01.txt

more or less thinking about resources as stateful objects.

Jan



&gt; Walden
&gt; 
&gt; 
&gt; 
&gt; Yahoo! Groups Links
&gt; 
&gt; 
&gt; 
&gt; 

-- 
Jan Algermissen                           http://www.topicmapping.com
Consultant &amp; Programmer	                  http://www.gooseworks.org

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4493<br>
Sender:"Walden Mathews" &lt;walden@...&gt;<br>
Post Date/Time:2004-07-09 13:55:20<br>
Subject:Re: [rest-discuss] Distributed Requests<br>
Message:<br><br>
<pre>Jan,

| &gt; By the way, if "part of the state" does not refer to
| &gt; representational strings and substrings (or other constructs
| &gt; based on these), then this could be a source of trouble.
| &gt; REST has no explicit resource states, so decompositions
| &gt; of resource states ("part of X's state", e.g.) are not strictly
| &gt; possible.
|
| What do you mean by 'explicit resource states'?
|
| I was thinking along the lines described by Mark in
|
|
http://www.markbaker.ca/2001/09/draft-baker-http-resource-state-model-01.txt
|
| more or less thinking about resources as stateful objects.
|

I think Roy has spent an inordinate amount of time explaining
that while resources are stateful, resource state is not
directly observable.  This sometimes seems like nitpicking, but
in my opinion when you discuss rest designs, you must talk
about representations, in order to be concrete.

If you're talking about representations and the composition
of same, then you can talk about which agent does that, and
how much control that agent can really exercise over
representational consistency in a distributed application.

Mark's design is fine; it's abstract, though.

Walden


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4494<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2004-07-10 03:07:53<br>
Subject:Re: [rest-discuss] Distributed Requests<br>
Message:<br><br>
<pre>&gt;
&gt; Also, when taking this from my limited (controled) data integration
example to
&gt; Semantic Web scale, who gets to make the decision what is primary and what
are
&gt; secondary resources? Back to the original issue if there is only one
resource
&gt; that is spanning across various authorities or if that is prohibited by
REST.

My opinion is that it is hidden by the HTTP implementation of REST (other
than proxy servers). Prohibited might be too strong a word. I think the
content format of a representation would be the place to put multiple
'authorities' - and I think that is the point of RDF?

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4495<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2004-07-10 03:10:00<br>
Subject:Re: [rest-discuss] Distributed Requests<br>
Message:<br><br>
<pre>&gt;
&gt; Another way to avoid the query parameter is to access the knowledge base
&gt; as an intermediary (given the KB service understands this):
&gt;
&gt; telnet knowledgebase.org 8080
&gt;
&gt; GET http://some.org/persons/778726 HTTP/1.1
&gt; Host: knowledgebase.org
&gt; Accept: application/rdf+xml
Cool - I didn't realize this was what you were asking.

&gt;
&gt; I'll need to evaluate if this has benefits in terms of integrating
additional
&gt; services in a RESTful way, but besides that, does this approach make
sense?
&gt; Is it ok for an intermediary to explicitly not pass on the request?
&gt;
&gt; At least in this case, it is 100% clear that the returned representation
will
&gt; be a representation of http://some.org/persons/778726.
&gt;
&gt; Hmmm, I guess I like this one the best. No additional URIs, no query
&gt; parameter.
Yes - you'd be breaking new ground, but totally within the bounds of the
HTTP.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4496<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2004-07-10 10:18:36<br>
Subject:Re: [rest-discuss] Distributed Requests (Host header)<br>
Message:<br><br>
<pre>David Powell wrote:

&gt; The request should actually look like this:
&gt; 
&gt; telnet knowledgebase.org 8080
&gt; 
&gt; GET http://some.org/persons/778726 HTTP/1.1
&gt; Host: some.org
&gt; Accept: application/rdf+xml

Yes, right. I saw that error when I hit send, but I thought the
point would come accross without a corrective note ;-)

&gt; The Host header has to be the host name of the destination server, not
&gt; the host name of intermediary.
&gt; 
&gt; I was surprised by this because I assumed that Host behaved like a
&gt; hop-by-hop header and was just there to add back the host information
&gt; that sending the request via TCP/IP had stripped out.
&gt; 
&gt; So although it is required, the Host header in a proxy request doesn't
&gt; actually do anything at all, especially as it is the responsibility of
&gt; the intermediary to rewrite it when it forwards the request anyway
&gt; (also 14.23).
&gt; 
&gt; One effect of this is that intermediaries require an IP address
&gt; because they can't rely on DNS-based virtual hosting.

Yes, a single server-application can only act as a single proxy. You
cannot use different locations on the same host/port to invoke
different proxies...

Jan

&gt; 
&gt; Presumably it is like this so that if an HTTP/1.0 intermediary
&gt; forwards the Host header to a HTTP/1.1 destination host without
&gt; rewriting it, the destination host doesn't reject the request for
&gt; having an incorrect Host header.

&gt; --
&gt; Dave

-- 
Jan Algermissen                           http://www.topicmapping.com
Consultant &amp; Programmer	                  http://www.gooseworks.org

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4497<br>
Sender:Vincent D Murphy &lt;vdm@...&gt;<br>
Post Date/Time:2004-07-10 20:52:47<br>
Subject:Design Question: arbitrary operations e.g. 'rollback'<br>
Message:<br><br>
<pre>Instiki is a nice wiki implementation by
David Heinemeier Hansson.  He has written
a lot of very nice software (Basecamp, Rails).

Instiki uses hrefs and GET to do state changing
operations.  As an example, here is some text from
http://www.instiki.org/show/HomePage:

"
Search engines have traversed the site and have
been ï¿½clickingï¿½ all the rollback links. So now
the rollback link is done in javascript to keep
those pesky engines at bay.
"

When I read this I was wearing my RESTful hat so
I immediately said "he's using GET for the rollback
operation; not very RESTful".  The javascript is a
nice fix but ultimately doesn't address the underlying
architectural issue.  So I thought that maybe we on
rest-discuss could have a go.

I reckon a href should not be used here at all.
Let's say we have a &lt;a onclick="javascript"&gt; tag
instead of a &lt;a href="URL"&gt; tag.

That javascript routine called from onclick (or
triggered by whatever UI gesture) could build a
HTTP request and send it.  But that is just a
Simple Matter of Code.  The real question is,
what should this HTTP request look like?

Here's mine, to get the ball rolling:

POST /somewikientry

method=rollback

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4498<br>
Sender:Vincent D Murphy &lt;vdm@...&gt;<br>
Post Date/Time:2004-07-10 21:03:28<br>
Subject:Developing a URL structure for broadcast radio sites<br>
Message:<br><br>
<pre>This weblog post describes the development of the design
of a URL structure for BBC Radio 3.  It gives a seperate
URL to each episode of each programme.

It is an excellent example of the resource modelling
process.

http://www.plasticbag.org/archives/2004/06/developing_a_url_structure_for_broadcast_radio_sites.shtml

[via http://korrespondence.blogspot.com/2004/07/plasticbag.html]

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4499<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2004-07-10 21:26:51<br>
Subject:Re: [rest-discuss] Design Question: arbitrary operations e.g. 'rollback'<br>
Message:<br><br>
<pre>Hmm I get nothing but 'Bad Request'...

Not sure what rollback is meant to do but if it meant to change the page
back to the previous revision &amp; throw away the current revision, perhaps
setting a 'revision' property of the page might work
&lt;form method='post' action='./revisions'&gt;
&lt;input type='hidden' name='current_revision' value="-1" /&gt;
&lt;input type='submit' value=" rollback " /&gt;
&lt;/form&gt;


----- Original Message ----- 
From: "Vincent D Murphy" &lt;vdm@...&gt;
To: &lt;rest-discuss@yahoogroups.com&gt;
Sent: Saturday, July 10, 2004 1:52 PM
Subject: [rest-discuss] Design Question: arbitrary operations e.g.
'rollback'


&gt; Instiki is a nice wiki implementation by
&gt; David Heinemeier Hansson.  He has written
&gt; a lot of very nice software (Basecamp, Rails).
&gt;
&gt; Instiki uses hrefs and GET to do state changing
&gt; operations.  As an example, here is some text from
&gt; http://www.instiki.org/show/HomePage:
&gt;
&gt; "
&gt; Search engines have traversed the site and have
&gt; been ï¿½clickingï¿½ all the rollback links. So now
&gt; the rollback link is done in javascript to keep
&gt; those pesky engines at bay.
&gt; "
&gt;
&gt; When I read this I was wearing my RESTful hat so
&gt; I immediately said "he's using GET for the rollback
&gt; operation; not very RESTful".  The javascript is a
&gt; nice fix but ultimately doesn't address the underlying
&gt; architectural issue.  So I thought that maybe we on
&gt; rest-discuss could have a go.
&gt;
&gt; I reckon a href should not be used here at all.
&gt; Let's say we have a &lt;a onclick="javascript"&gt; tag
&gt; instead of a &lt;a href="URL"&gt; tag.
&gt;
&gt; That javascript routine called from onclick (or
&gt; triggered by whatever UI gesture) could build a
&gt; HTTP request and send it.  But that is just a
&gt; Simple Matter of Code.  The real question is,
&gt; what should this HTTP request look like?
&gt;
&gt; Here's mine, to get the ball rolling:
&gt;
&gt; POST /somewikientry
&gt;
&gt; method=rollback
&gt;
&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4500<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2004-07-10 21:43:13<br>
Subject:Re: [rest-discuss] Distributed Requests<br>
Message:<br><br>
<pre>"S. Mike Dierken" wrote:
&gt; 
&gt; Jan wrote:
&gt; &gt;
&gt; &gt; Another way to avoid the query parameter is to access the knowledge base
&gt; &gt; as an intermediary (given the KB service understands this):
&gt; &gt;
&gt; &gt; telnet knowledgebase.org 8080
&gt; &gt;
&gt; &gt; GET http://some.org/persons/778726 HTTP/1.1
&gt; &gt; Host: some.org
&gt; &gt; Accept: application/rdf+xml
&gt;
&gt; Cool - I didn't realize this was what you were asking.

Well, glad you like it ;-)

Here is how the intermediary could make sure it is notified
when the 'primary' resource changes (assuming that it maybe
holds a copy of some data for whatever efficiency reasons).

Contact some.org and 

MONITOR http://some.org/persons/778726 HTTP/1.1

Notify-Accept: application/rdf+xml
Notify-Schema-Accept: http://foo.org/schema/for/person/data
Notify-To: http://some.org/persons/778726 HTTP/1.1
Notify-Host: knowledgebase.org:8080

Meaning to use a proxied POST to http://some.org/persons/778726 HTTP/1.1 via
knowledgebase.org:8080 for the notification and to only notify if
information within the semantic realm of the given schema changes.

This touches another issue I have been thinking about recently: While
it would be nice to have a syntactic way to express 'please invoke
&lt;http-method&gt; on this &lt;uri&gt;' (somewhat an extension to forms) it would
also be nice to be able to express 'please invoke &lt;http-method&gt; on this &lt;uri&gt;
through intermediary I'.

Wouldn't it be great if e.g. HTML would support

&lt;a href="http://specs.org/specX.html" proxy="knowledgebase.org:8080"&gt;
Annotated Specs&lt;/a&gt;


Jan

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4501<br>
Sender:Josh Sled &lt;jsled@...&gt;<br>
Post Date/Time:2004-07-10 21:58:39<br>
Subject:b[atch]GET, anyone?<br>
Message:<br><br>
<pre>So, I've been thinking about the optimal verb set ... we're a bit /too/
constrained by HTTP, specifically with respect to GET.

Many times, I've noticed the following basic pattern...

public interface MumbleService
{
  /** @return a Mumble, by id. **/
  public Mumble getMumble( int mumbleId );

  /** @return multiple Mumbles, by IDs. **/
  public List getMumble( int mumbleIds[] );
}

Of course, the first optimization is to make the single-get simply a
special case of the multiple-get ... but in trying to translate the
above into HTTP [specifically], it's simply impossible.

I can GET /mumble/&lt;id&gt;.

I can't really POST then GET a "batch GET request" ... that just doesn't
make any sense, and more-importantly breaks the safeness and idempotency
of the GET, which I believe is it's most important feature.


I know I can pipeline multiple requests back-to-back
[{GET /mumble/&lt;id0&gt;}, {GET /mumble/&lt;id1&gt;}, ... ] ... but that's just not
the same thing.  An important part of the batch-GET operation is the
ability to optimize away the overhead of the singleton retreivals ...
pipelining multiple GETs just isn't the same as GETting multiple thing
at once.

In any case, it seems like some HTTPng might have a b[atch]GET
operation.  It may even be constrained to take URIs that are
self-consistent in some way, though I don't see why that's
super-important...

In any case, does anyone feel my pain?
How have you worked around it?

Where eles does HTTP bind too tightly?

...jsled

-- 
http://www.asynchronous.org/ - `a=jsled; b=asynchronous.org; echo ${a}@${b}`

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4502<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2004-07-10 22:14:30<br>
Subject:Re: [rest-discuss] b[atch]GET, anyone?<br>
Message:<br><br>
<pre>Josh Sled wrote:

&gt; An important part of the batch-GET operation is the
&gt; ability to optimize away the overhead of the singleton retreivals ...
&gt; pipelining multiple GETs just isn't the same as GETting multiple thing
&gt; at once.

Josh,

I am facing exactly the same problem. Suppose an RDF document is
'running through' an intermediary which intends to augment the
representation with data about many of the resources referenced,
e.g. getting human readable labels or whatever from some
HTTP service.

My suggestion would be to specify the group (what do the
resources have in common that makes you want to retrieve
them in batch?), create a resource for it and then GET the
resource:

POST /mumble/groups HTTP/1.1

&lt;data that specifies the group, maybe only URI/ID list, but
more likely some sort of query or pattern, e.g.
dc:Creator="Jim Smith"


Server reponds:

HTTP 201 Created
Location: /mumble/groups/8873


Then you 

GET /mumble/groups/8873 HTTP/1.1
...


Does this help?
(It certainly helps me, thanks for triggering this by your post :o)


JAn



&gt; 
&gt; In any case, it seems like some HTTPng might have a b[atch]GET
&gt; operation.  It may even be constrained to take URIs that are
&gt; self-consistent in some way, though I don't see why that's
&gt; super-important...
&gt; 
&gt; In any case, does anyone feel my pain?
&gt; How have you worked around it?
&gt; 
&gt; Where eles does HTTP bind too tightly?
&gt; 
&gt; ...jsled
&gt; 
&gt; --
&gt; http://www.asynchronous.org/ - `a=jsled; b=asynchronous.org; echo ${a}@${b}`
&gt; 
&gt; 
&gt; 
&gt; Yahoo! Groups Links
&gt; 
&gt; 
&gt; 
&gt; 

-- 
Jan Algermissen                           http://www.topicmapping.com
Consultant &amp; Programmer	                  http://www.gooseworks.org

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4503<br>
Sender:Vincent D Murphy &lt;vdm@...&gt;<br>
Post Date/Time:2004-07-11 00:03:55<br>
Subject:Re: [rest-discuss] b[atch]GET, anyone?<br>
Message:<br><br>
<pre>While I can't say I've run in to this problem in practice,
I do have a suggestion.

I've been wondering about attaching extra semantics to
query strings, as follows: when a query parameter appears
more than once, take all of the values for that parameter
and put them in an OR predicate.  Distinct parameters are
ANDed by default.

So you could take your mumble keys and have a query such
as:

/mumble/?id=foo&amp;id=bar

which you can GET.  Maybe this wouldn't scale because your
URL would be getting too long.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4504<br>
Sender:Vincent D Murphy &lt;vdm@...&gt;<br>
Post Date/Time:2004-07-11 00:08:16<br>
Subject:Re: [rest-discuss] b[atch]GET, anyone?<br>
Message:<br><br>
<pre>Jan Algermissen wrote:
&gt; I am facing exactly the same problem. Suppose an RDF document is
&gt; 'running through' an intermediary which intends to augment the
&gt; representation with data about many of the resources referenced,
&gt; e.g. getting human readable labels or whatever from some
&gt; HTTP service.

It sounds to me like the intermediary is a resource
itself, with a dependancy on the resource of which
the RDF document is a representation.

So, you can just GET the intermediary.

&gt; My suggestion would be to specify the group (what do the
&gt; resources have in common that makes you want to retrieve
&gt; them in batch?), create a resource for it and then GET the
&gt; resource:

I would have a tough time thinking of a situation that
couldn't be handled this way.

Come to think of it, the set of IDs you're passing to
getMumbles probably has a resource somewhere at the essence
of its reason for being.  This corresponds to Jan's 'group'
resources, i.e. you can just GET them.  Where is the caller
of getMumbles getting its mumbleIds parameter from?  Is
there a resource there waiting to have a URI assigned to it?

I like the idea of POSTing queries and turning them in to
resources, because you can attach metadata to them.
e.g. referrers and agents and in turn usage of the query.
This could be useful when you're contemplating change (to
schemas, e.g.).  "What is this change going to break?"

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4505<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2004-07-11 08:01:15<br>
Subject:Re: [rest-discuss] b[atch]GET, anyone?<br>
Message:<br><br>
<pre>I've been thinking about batch operations as well.
I don't think they are externally differentiable from non-batch operations -
other than they are typically read-only.
The only technical issue I've run into is implementation-based URI length
limits.


----- Original Message ----- 
From: "Josh Sled" &lt;jsled@...&gt;
To: &lt;rest-discuss@yahoogroups.com&gt;
Sent: Saturday, July 10, 2004 2:58 PM
Subject: [rest-discuss] b[atch]GET, anyone?


&gt; So, I've been thinking about the optimal verb set ... we're a bit /too/
&gt; constrained by HTTP, specifically with respect to GET.
&gt;
&gt; Many times, I've noticed the following basic pattern...
&gt;
&gt; public interface MumbleService
&gt; {
&gt;   /** @return a Mumble, by id. **/
&gt;   public Mumble getMumble( int mumbleId );
&gt;
&gt;   /** @return multiple Mumbles, by IDs. **/
&gt;   public List getMumble( int mumbleIds[] );
&gt; }
&gt;
&gt; Of course, the first optimization is to make the single-get simply a
&gt; special case of the multiple-get ... but in trying to translate the
&gt; above into HTTP [specifically], it's simply impossible.
&gt;
&gt; I can GET /mumble/&lt;id&gt;.
&gt;
&gt; I can't really POST then GET a "batch GET request" ... that just doesn't
&gt; make any sense, and more-importantly breaks the safeness and idempotency
&gt; of the GET, which I believe is it's most important feature.
&gt;
&gt;
&gt; I know I can pipeline multiple requests back-to-back
&gt; [{GET /mumble/&lt;id0&gt;}, {GET /mumble/&lt;id1&gt;}, ... ] ... but that's just not
&gt; the same thing.  An important part of the batch-GET operation is the
&gt; ability to optimize away the overhead of the singleton retreivals ...
&gt; pipelining multiple GETs just isn't the same as GETting multiple thing
&gt; at once.
&gt;
&gt; In any case, it seems like some HTTPng might have a b[atch]GET
&gt; operation.  It may even be constrained to take URIs that are
&gt; self-consistent in some way, though I don't see why that's
&gt; super-important...
&gt;
&gt; In any case, does anyone feel my pain?
&gt; How have you worked around it?
&gt;
&gt; Where eles does HTTP bind too tightly?
&gt;
&gt; ...jsled
&gt;
&gt; -- 
&gt; http://www.asynchronous.org/ - `a=jsled; b=asynchronous.org; echo
${a}@${b}`
&gt;
&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4506<br>
Sender:Laurian Gridinoc &lt;laurian@...&gt;<br>
Post Date/Time:2004-07-11 10:42:33<br>
Subject:Re: [rest-discuss] b[atch]GET, anyone?<br>
Message:<br><br>
<pre>On Sat, 10 Jul 2004 17:58:39 -0400, Josh Sled &lt;jsled@...&gt; wrote:
&gt;   /** @return multiple Mumbles, by IDs. **/
&gt;   public List getMumble( int mumbleIds[] );
&gt; }

Is the multipart/* HTTP response (from the server push era) out of the question?

Cheers,
-- 
Laurian Gridinoc
Chief Developer
GRAPEFRUIT DESIGN
www.gd.ro

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4507<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2004-07-11 11:47:42<br>
Subject:Re: [rest-discuss] Design Question: arbitrary operations e.g. 'rollback'<br>
Message:<br><br>
<pre>On Sat, Jul 10, 2004 at 09:52:47PM +0100, Vincent D Murphy wrote:
&gt; Here's mine, to get the ball rolling:
&gt; 
&gt; POST /somewikientry
&gt; 
&gt; method=rollback

And mine;

COPY http://example.org/wiki/somewikientry/version-39 HTTP/1.1
Host: example.org
Destination: http://exampoe.org/wiki/somewikientry/

Mark.
-- 
Mark Baker.   Ottawa, Ontario, CANADA.        http://www.markbaker.ca

  Seeking work on large scale application/data integration projects
  and/or the enabling infrastructure for same.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4508<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2004-07-11 12:06:11<br>
Subject:Re: [rest-discuss] b[atch]GET, anyone?<br>
Message:<br><br>
<pre>On Sat, Jul 10, 2004 at 05:58:39PM -0400, Josh Sled wrote:
&gt; I know I can pipeline multiple requests back-to-back
&gt; [{GET /mumble/&lt;id0&gt;}, {GET /mumble/&lt;id1&gt;}, ... ] ... but that's just not
&gt; the same thing.  An important part of the batch-GET operation is the
&gt; ability to optimize away the overhead of the singleton retreivals ...
&gt; pipelining multiple GETs just isn't the same as GETting multiple thing
&gt; at once.

Yah, but I think that would be sufficient for many applications.

Mark.
-- 
Mark Baker.   Ottawa, Ontario, CANADA.        http://www.markbaker.ca

  Seeking work on large scale application/data integration projects
  and/or the enabling infrastructure for same.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4509<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2004-07-11 12:38:40<br>
Subject:Re: [rest-discuss] Design Question: arbitrary operations e.g. 'rollback'<br>
Message:<br><br>
<pre>Mark Baker wrote:

&gt; And mine;
&gt; 
&gt; COPY http://example.org/wiki/somewikientry/version-39 HTTP/1.1
&gt; Host: example.org
&gt; Destination: http://exampoe.org/wiki/somewikientry/

That's sweet...

and interesting, because (IMHO) the semantics of such a COPY tell the
server to 'become' (behave like) a user agent and then do a PUT. This
introduces the idea of triggering a request by doing a request. Wonder
how complex such operation can be made in order to enable complex 'workflows'.

Also consider an intermediary receiving the COPY....

Hmm...seems to me that COPY belongs to a set of methods, that express
'system behavior' rather than expressing an operation on a resource.
It's like specifying a desired overall effect and it is not so important,
which component actually processes the request.

This also reminds me a lot of the Unix command line:

cat http://example.org/wiki/somewikientry/version-39 &gt;
http://exampoe.org/wiki/somewikientry/

What about:

FILTER http://example.org/wiki/somewikientry/version-39 HTTP/1.1

Host: example.org
Filter: http://example.org/indexer
Destination: http://example.org/archive

which is like:

cat version-39 | indexer &gt; archive

Or is that too crazy?

Jan





-- 
Jan Algermissen                           http://www.topicmapping.com
Consultant &amp; Programmer	                  http://www.gooseworks.org

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4510<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2004-07-12 02:25:09<br>
Subject:Re: [rest-discuss] Design Question: arbitrary operations e.g. 'rollback'<br>
Message:<br><br>
<pre>On Sun, Jul 11, 2004 at 02:38:40PM +0200, Jan Algermissen wrote:
&gt; Mark Baker wrote:
&gt; 
&gt; &gt; And mine;
&gt; &gt; 
&gt; &gt; COPY http://example.org/wiki/somewikientry/version-39 HTTP/1.1
&gt; &gt; Host: example.org
&gt; &gt; Destination: http://exampoe.org/wiki/somewikientry/
&gt; 
&gt; That's sweet...

BTW, in case it wasn't clear, that's COPY from WebDAV.

&gt; and interesting, because (IMHO) the semantics of such a COPY tell the
&gt; server to 'become' (behave like) a user agent and then do a PUT. This
&gt; introduces the idea of triggering a request by doing a request. Wonder
&gt; how complex such operation can be made in order to enable complex 'workflows'.
&gt; 
&gt; Also consider an intermediary receiving the COPY....
&gt; 
&gt; Hmm...seems to me that COPY belongs to a set of methods, that express
&gt; 'system behavior' rather than expressing an operation on a resource.
&gt; It's like specifying a desired overall effect and it is not so important,
&gt; which component actually processes the request.
&gt; 
&gt; This also reminds me a lot of the Unix command line:
&gt; 
&gt; cat http://example.org/wiki/somewikientry/version-39 &gt;
&gt; http://exampoe.org/wiki/somewikientry/

Hmm, that seems more like PUT to me since the data has to travel to
where that command is composed.  COPY would be more like a remote
session;

  echo "cp foo bar" | ssh

&gt; What about:
&gt; 
&gt; FILTER http://example.org/wiki/somewikientry/version-39 HTTP/1.1
&gt; 
&gt; Host: example.org
&gt; Filter: http://example.org/indexer
&gt; Destination: http://example.org/archive
&gt; 
&gt; which is like:
&gt; 
&gt; cat version-39 | indexer &gt; archive
&gt; 
&gt; Or is that too crazy?

How about PUT via an indexing intermediary?

Mark.
-- 
Mark Baker.   Ottawa, Ontario, CANADA.        http://www.markbaker.ca

  Seeking work on large scale application/data integration projects
  and/or the enabling infrastructure for same.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4511<br>
Sender:Vincent D Murphy &lt;vdm@...&gt;<br>
Post Date/Time:2004-07-12 07:46:38<br>
Subject:Re: [rest-discuss] Design Question: arbitrary operations e.g. 'rollback'<br>
Message:<br><br>
<pre>Vincent D Murphy wrote:
&gt; I reckon a href should not be used here at all.
&gt; Let's say we have a &lt;a onclick="javascript"&gt; tag
&gt; instead of a &lt;a href="URL"&gt; tag.
&gt; 
&gt; That javascript routine called from onclick (or
&gt; triggered by whatever UI gesture) could build a
&gt; HTTP request and send it.

One more thing: this really isn't an appropriate
use of a hyperlink (&lt;a&gt; tag) from a UI perspective;
it can't be traversed, bookmarked, spidered, etc.

I think a &lt;input type='submit'&gt; button would be
much better.

Comments?

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4512<br>
Sender:Josh Sled &lt;jsled@...&gt;<br>
Post Date/Time:2004-07-12 13:21:25<br>
Subject:Re: [rest-discuss] b[atch]GET, anyone?<br>
Message:<br><br>
<pre>On Sat, 2004-07-10 at 20:08, Vincent D Murphy wrote:
&gt; Jan Algermissen wrote:
&gt; &gt; My suggestion would be to specify the group (what do the
&gt; &gt; resources have in common that makes you want to retrieve
&gt; &gt; them in batch?), create a resource for it and then GET the
&gt; &gt; resource:

What they [the resources] have in common is they're all the of the same
"type".

A weaker and not-quite-the-same way of saying this is that they all have
the same prefix within the URIs.

More practically, they all come from the same [server-managed]
data-source, which means there's efficiency to be increased by looking
them up as a batch.



&gt; I would have a tough time thinking of a situation that
&gt; couldn't be handled this way.

It /can/ be handled, but it feels like shoe-horning, to me...



&gt; Come to think of it, the set of IDs you're passing to
&gt; getMumbles probably has a resource somewhere at the essence
&gt; of its reason for being.  This corresponds to Jan's 'group'
&gt; resources, i.e. you can just GET them.  Where is the caller
&gt; of getMumbles getting its mumbleIds parameter from?  Is
&gt; there a resource there waiting to have a URI assigned to it?

Good questions...

The caller in the case I was thinking them gets the list of ids in the
course of some other computation ... in the course of converting Foos to
Bars, an intermediate step is to dereference the Mumbles that the Foos
contain.  So, I guess there is a resource there, but it's quite
transient, and it doesn't really pass a threshold for "general
applicability" on some scale.  I guess this is the "permenance" axis;
these resources are quite transient.

The other dimension is "domain".  These resources wouldn't really exist
within the domain-of-discourse of the rest of the resource space, but
instead at a level above it ... their grouping isn't "natural" within
the [resource] space, but instead created solely by a computation on the
space.  While systems generally have to deal with these shifts, we don't
have to like it. :)  So, on the "domain" axis, I'd put these resources
quite low.

[If those axes were X and Y, respectively, on some graph, this would be
right down near the origin.]

As well, the semantics of POST are still inappropriate, I think. 
There's no need for an unsafe, non-idempotent operation to enter the mix
to handle, basically, a bunch of GETs.

Therefore, I'm disinclined to create a resource or use POST for this
batchGET.

Plus the round-trip overhead of POST + GET; probably a small price to
pay, though.




To be fair, I've used the mumbleGroup concept as well; there's
definitely times where the system resource-domain has groups that should
be treated as first-order concepts.  I just don't think this is one of
them.



&gt; I like the idea of POSTing queries and turning them in to
&gt; resources, because you can attach metadata to them.

Indeed -- especially when it fits into the resource domain -- that is,
there are natural group resources which are defined by lists and/or
queries.

At the same time, I'm sympathetic to the desire to have a QUERY
operation which takes a request body, which helps satisify a different
class of queries.

...jsled

-- 
http://www.asynchronous.org/ - `a=jsled; b=asynchronous.org; echo ${a}@${b}`

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4513<br>
Sender:Vincent D Murphy &lt;vdm@...&gt;<br>
Post Date/Time:2004-07-12 14:20:28<br>
Subject:Re: [rest-discuss] b[atch]GET, anyone?<br>
Message:<br><br>
<pre>Josh Sled wrote:
&gt; More practically, they all come from the same [server-managed]
&gt; data-source, which means there's efficiency to be increased by looking
&gt; them up as a batch.

This is the first real reason for me.

&gt; [If those axes were X and Y, respectively, on some graph, this would be
&gt; right down near the origin.]

Understood.  (great explanation)

&gt; As well, the semantics of POST are still inappropriate, I think. 
&gt; There's no need for an unsafe, non-idempotent operation to enter the mix
&gt; to handle, basically, a bunch of GETs.

Well I'm not sure you're adding anything to the mix by using POST.
You can just substitute the initialisation of the mumbleIds variable
with the POST of the mumbleIds resource.

Working back to where you get the mumbleIds value from; if its the
result of a computation, you have a line of code along the lines of

mumbleIds = some_routine
or
some_routine(mumbleIds)

I think you could substitute
POST value_of(some_routine)
for that line.

I'm taking liberties with pseudocode here, if it needs clarification,
ask.

&gt; Therefore, I'm disinclined to create a resource or use POST for this
&gt; batchGET.
&gt; 
&gt; Plus the round-trip overhead of POST + GET; probably a small price to
&gt; pay, though.

I see it as O(1) where the variable is the the number of items to GET.

&gt; At the same time, I'm sympathetic to the desire to have a QUERY
&gt; operation which takes a request body, which helps satisify a different
&gt; class of queries.

I try to eliminate the problem before thinking about a solution for it,
so I may come to be sympathetic to this if the problem persists after a
week or two.  A real world example would be helpful, but I don't have
one.

Cheers for the helpful comments, I'm sure I'll end up referring to them
some day.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4514<br>
Sender:Vincent D Murphy &lt;vdm@...&gt;<br>
Post Date/Time:2004-07-12 14:41:16<br>
Subject:Re: [rest-discuss] b[atch]GET, anyone?<br>
Message:<br><br>
<pre>Josh Sled wrote:
&gt; At the same time, I'm sympathetic to the desire to have a QUERY
&gt; operation which takes a request body, which helps satisify a different
&gt; class of queries.

Any difference between QUERY and GET-with-a-body?

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4515<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2004-07-12 14:52:41<br>
Subject:Re: [rest-discuss] b[atch]GET, anyone?<br>
Message:<br><br>
<pre>Josh Sled wrote:

&gt; It /can/ be handled, but it feels like shoe-horning, to me...

Actually, this issue seems like the usual case of trying to avoid
iterative reads over a (large) result set and the corresponding
network interactions with a remote data source.

It is normally the responsibility of a good query language (or
whatever mechanism) to enable the client to describe the result set
in such a way, that it already includes all the information that is
desired (e.g. sub-SELECTs in SQL).

Thus, I think the 'some other computation' you mentioned should not
just send a bunch of IDs but the whole data at once. Not sure if that
fits your design, but if I had your situation when interacting with
an RDBMS, I'd propably rather adjust my design than to do the iteration.

IOW, put the iteration into the query, not in the code...

HTH,

Jan



-- 
Jan Algermissen                           http://www.topicmapping.com
Consultant &amp; Programmer	                  http://www.gooseworks.org

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4516<br>
Sender:Josh Sled &lt;jsled@...&gt;<br>
Post Date/Time:2004-07-12 14:57:28<br>
Subject:Re: [rest-discuss] b[atch]GET, anyone?<br>
Message:<br><br>
<pre>On Mon, 2004-07-12 at 10:41, Vincent D Murphy wrote:

&gt; Josh Sled wrote:
&gt; &gt; At the same time, I'm sympathetic to the desire to have a QUERY
&gt; &gt; operation which takes a request body, which helps satisify a different
&gt; &gt; class of queries.
&gt; 
&gt; Any difference between QUERY and GET-with-a-body?

Yes, when one starts splitting hairs.

The semantics of GET are...
	"The GET method means retrieve whatever information (in the form
	of an entity) is identified by the Request-URI." [1]

I want GET to be defined to include the request-body in the definition
of the response.


Plus, sometimes there's pain in translating what's really a
resource-space parameter structure into a query string.  For instance, I
can't leverage a lot of existing mechanisms for describing structured
data in a URI.  I guess a URI-query-part &lt;-&gt; document mapping could be
made ... but ...

For a more concrete example, consider a /folder/&lt;&lt;id&gt;&gt; resource
containing mail messages.  We'd like to query it by:
  * subject [either "whole" or "contains" xsd:string, or "matches" 
             eg:regexp [a subclass of xsd:string]]
  * sent-date [before/after/specific xsd:date]
  * recv-date [before/after/specific xsd:date]
  * has-flag [1..* of an enumerated value set, &gt;1 == "AND"]
  * ...

In I can specify the query-document space with XML Schema or RelaxNG or
even as set of OWL class-restrictions ... but the translation into a
uri-query string is teh suck.

Let alone practical URI-length limitations.

Of course, now the Query is not simply a URI that I can copy-and-paste
somewhere, which is arguably worse.  But while that's a nice benefit, I
consider it less important than having a clear query operation.

...jsled

[1] http://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9.3

-- 
http://www.asynchronous.org/ - `a=jsled; b=asynchronous.org; echo ${a}@${b}`

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4517<br>
Sender:"thompsonbry" &lt;thompsonbry@...&gt;<br>
Post Date/Time:2004-07-23 11:52:54<br>
Subject:HTTP unsuitable for (intyelligent) (web) agents?<br>
Message:<br><br>
<pre>I did find a crtique of HTTP for agent systems:

   http://www-cdr.stanford.edu/NextLink/Expert.html

Anyone (dis)agree?

-bryan


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4518<br>
Sender:"thompsonbry" &lt;thompsonbry@...&gt;<br>
Post Date/Time:2004-07-23 11:51:41<br>
Subject:(Intelligent) Agents and REST?<br>
Message:<br><br>
<pre>I'm writing a survey on agent architectures and I am interested if
anyone knows of applications of the REST Architectural Style, and
in particular of HTTP, to agent frameworks.

HTTP was clearly developed with the concept of an "agent" (the user
agent) as the client, and 'recently' there has been a lot of work on
non-browser clients -- which are essentially "agents" in the sense
that people who develop "intelligent" agents are interested in --
albeit having more or less of a focua on "intelligent" behavior (but
that problem is pervasive in  research on agents).

So, an Atom or RSS aggregator could be seen as an agent.  One that
let you personalize your view of the aggregated feeds could be seen
as moving towards the adaptive end of the agents spectrum.

-bryan


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4519<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2004-07-23 13:13:53<br>
Subject:Re: [rest-discuss] (Intelligent) Agents and REST?<br>
Message:<br><br>
<pre>On Fri, Jul 23, 2004 at 11:51:41AM -0000, thompsonbry wrote:
&gt; I'm writing a survey on agent architectures and I am interested if
&gt; anyone knows of applications of the REST Architectural Style, and
&gt; in particular of HTTP, to agent frameworks.

There's SHOE, which was one of the projects that put me on my way to
Web/Sem-Web enlightenment when I first encountered it circa 1996, IIRC;

http://www.cs.umd.edu/projects/plus/SHOE/

Mark.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4520<br>
Sender:Roy T. Fielding &lt;fielding@...&gt;<br>
Post Date/Time:2004-07-23 18:45:05<br>
Subject:Re: [rest-discuss] HTTP unsuitable for (intyelligent) (web) agents?<br>
Message:<br><br>
<pre>&gt; I did find a crtique of HTTP for agent systems:
&gt;
&gt;    http://www-cdr.stanford.edu/NextLink/Expert.html
&gt;
&gt; Anyone (dis)agree?

Well, the claims about client/server protocols are just plain wrong.
C/S refers to the type of interaction on a single connection.  Nothing
prevents a server from initiating its own connections.  Firewalls and
NAT make deployment of such a system difficult on the Internet, but
that's why they are there -- the real world doesn't want someone else's
autonomous agent running around on their systems.

Likewise, collaborative agents do poorly if they depend on ephemeral
communication (like watching messages go by on a p2p network).  A more
robust architectural style for those agents is the blackboard model,
which is data-oriented (like REST), independent of the protocol
used to set state on the blackboard, and capable of separating private
from public information.

HTTP does not support mobile agents (regardless of their agent-hood).
Someone could add a method for mobility (i.e., 
here-is-my-code-and-state),
but deploying it would require too many religious battles to be worth
the effort.  It also doesn't buy much over a raw TCP connection with
SSH or TLS authentication.

....Roy


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4521<br>
Sender:"Costello" &lt;costello@...&gt;<br>
Post Date/Time:2004-08-09 23:15:18<br>
Subject:<br>
Message:<br><br>
<br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4522<br>
Sender:"Benjamin L Yu" &lt;benjaminlyu@...&gt;<br>
Post Date/Time:2004-08-14 01:31:10<br>
Subject:xml.com REST article<br>
Message:<br><br>
<pre>I'm curious if anyone has any comments on this xml.com article:
http://www.xml.com/pub/a/2004/08/11/rest.html

After reading the thesis and this entire mailing list archive, this
article doesn't sit well with me for some reason. I can't pin point it
right now, as I'll need some more time to reflect, but there are some
areas that don't feel "right" to what I've come to learn as REST.







</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4523<br>
Sender:Roy T. Fielding &lt;fielding@...&gt;<br>
Post Date/Time:2004-08-14 18:13:13<br>
Subject:Re: [rest-discuss] xml.com REST article<br>
Message:<br><br>
<pre>On Friday, August 13, 2004, at 06:31  PM, Benjamin L Yu wrote:

&gt; I'm curious if anyone has any comments on this xml.com article:
&gt; http://www.xml.com/pub/a/2004/08/11/rest.html
&gt;
&gt; After reading the thesis and this entire mailing list archive, this
&gt; article doesn't sit well with me for some reason. I can't pin point it
&gt; right now, as I'll need some more time to reflect, but there are some
&gt; areas that don't feel "right" to what I've come to learn as REST.

It seems to be one person's suggestions on how to implement
a REST-based service.  Too bad it wasn't written that way.

It would be more accurate to say that he is interleaving REST
with SOA and some vague notion of W3C webarch, without
understanding that REST pre-dated the other two by over three
years and that both SOA and webarch cover topics beyond the
hypertext realm of REST.  He marks suggestions as [AR] to
mean "arguably REST", which should really be read as
"not part of REST but not specifically forbidden by REST".

BTW, just about everything he wrote about methods and use
of XML is wrong, and the stuff about query is just bad design
from SOA (nothing at all to do with REST).

Cheers,

Roy T. Fielding                            &lt;http://roy.gbiv.com/&gt;
Chief Scientist, Day Software              &lt;http://www.day.com/&gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4524<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2004-08-14 19:32:55<br>
Subject:Re: [rest-discuss] xml.com REST article<br>
Message:<br><br>
<pre>I hadn't seen it till you pointed it out.
The first part is a generic summary of the past two years. I think
fundamentally the author mistakes architecture and architectural style for a
software application framework - he seems to be looking for . The phrase
'despite the lack of vendor support' is laughable (an architecture doesn't
require vendor support, software which easily supports this style is freely
available as well as from vendors, wouldn't 'winning the hearts of
developers' indicate that 'vendor' is not a required component of the
architecture, etc).

I do think an effort to highlight best practices is good, but some of the
statements are way off base:
"This limits the interface to HTTP with the four well-defined verbs: GET,
POST, PUT, and DELETE". - Nothing limits REST to be HTTP, nor does HTTP have
only four verbs.

"A REST service is a resource" - This seems odd. I would have thought a REST
service would have multiple resources (or maybe the author indicates that
the service itself could be a single identifable resource that can be
interacted with?)

"URI opacity only applies to the path of a URI. The query string and
fragment have special meaning that can be understood by users. " - This is
incorrect. A URI (and the benefits of opacity) apply to the whole URI, not
just the path segments. Any part of a URI can be used to coordinate between
clients and server (such as HTML forms), but there is an integration cost
and an increase in coupling if that is done. Avoiding situations that
require /every possible/ client to clearly understand portions of a URI
would be a best practice.

"A service provider should ignore any query parameters it does not
understand during processing. If it needs to consume other services, it
should pass all ignored parameters along. This practice allows new
functionality to be added without breaking existing services." - this is
questionable and I'd like to see real analysis of this (especially in the
scenario where an origin server is internally acting as a
gateway/intermediary).

"[TIP] XML Schema provides a good framework for defining simple types, which
can be used for validating query parameters." - If this is intended to put
data typing in the URI, then it seems the opposite of a 'loose typing good,
strong typing bad' approach to integration. If this is for internal
operations only, then I think most any implementation language that uses
strong typing is a framework for validating incoming data of any kind.

"Proxy-driven negotiation. A client initiates a request to a server through
a proxy. The proxy passes the request to the server and obtains a list of
representations. The proxy selects one representation according to
preferences set by the client and returns the representation back to the
client." - this doesn't sound very stateless &amp; having a client set a
preference is equivalent to having a client send a preference via the Accept
header.

"When delivering a representation to its client, a server MUST check the
following HTTP headers: Accept, Accept-Charset, Accept-Encoding,
Accept-Language, and User-Agent to ensure the representation it sends
satisfies the user agent's capability. " - no, a server doesn't. It 'should'
check them, but low budget servers (embedded http servers in devices, etc)
should just do whatever they want and have the client deal with it. That is
a key aspect of the architecture that enables loosely coupled and evolvable
systems.

"A server may determine the type of representation to send from the profile
information of the client." - what is a 'profile of the client'? Is a client
the same as user-agent? or is it a specific instance of a client
application? And if so, wouldn't that make the processing of a request
stateful?

"A client can specify the representation using the following query string:
mimeType={mime-type}" - this is questionable, but useful in practice.
However, using the same name as the HTTP request header (content-type) would
greatly ease the education and meaning of the query term. In addition, the
client should use the Accept header instead &amp; the server should respond with
a Location response header with the alternate URI of the requested
content-type - this allows the client to talk to any server without knowing
whether it does or does not support this query term, and it allows server to
choose where in the URI to embed content-type information (it could be in a
file extension like .txt or .pdf or .doc, or it could be a path segment if
things are stored in file directories, etc. etc.)

"A REST server should support this query." - HTTP based REST servers already
support this query via a standardized request mechanism - the Accept header.
In addition the Accept header has more well thought out capabilities and
syntax than this under-specified query term.

"A resource may have different views, even if there is only one
representation available. For example, a resource has an XML representation
but different clients may only see different portion of the same XML.
Another common example is that a client might want to obtain metadata of the
current representation. To obtain a different view, a client can set a
"view" parameter in the URI query string" - If a query term is used, then
this is a different URI which this means that there are different resources.
There is not 'one resource with different views'. The concept exists, but it
isn't part of the vocabulary of the REST definition. In addition, the
assertion that "a client can set a 'view' parameter" is highly misleading
and likely will cause developers to try it and fail and blame REST rather
than the author.

"A service represents a specialized business function" - this sort of avoids
the 'resource modeling' viewpoint which is fundamental to REST.

"A request to an obligated service should be described by some kind of XML
instance, which should be constrained by a schema" - what if the service
support storage of MP3 files? Or MS-Word documents? How are those described
via XML?

"An obligated service should be made idempotent so that if a client is
unsure about the state of its request, it can send it again." - if a
resource supports POST, then it isn't idempotent. If idempotency is desired,
then the resource model should be built to support PUT. (Unless you use some
theoretical protocol not based on HTTP that makes idempotency configurable
per request or something)

"Return a receipt immediately upon receiving a request. " - it probably
should use the appropriate HTTP response status code as well.

"Transaction Lifecycle " - this looks interesting and hope this work helps
flesh out details of the underspecified 'Accepted' response status code.


----- Original Message ----- 
From: "Benjamin L Yu" &lt;benjaminlyu@...&gt;
To: &lt;rest-discuss@yahoogroups.com&gt;
Sent: Friday, August 13, 2004 6:31 PM
Subject: [rest-discuss] xml.com REST article


&gt; I'm curious if anyone has any comments on this xml.com article:
&gt; http://www.xml.com/pub/a/2004/08/11/rest.html
&gt;
&gt; After reading the thesis and this entire mailing list archive, this
&gt; article doesn't sit well with me for some reason. I can't pin point it
&gt; right now, as I'll need some more time to reflect, but there are some
&gt; areas that don't feel "right" to what I've come to learn as REST.
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4525<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2004-08-23 06:27:58<br>
Subject:Blogs, pubsub and REST<br>
Message:<br><br>
<pre>Here's a blog entry about some thoughts I had this weekend (while camping in the mountains with a bunch of friends).
http://korrespondence.blogspot.com/2004/08/blogs-pubsub-and-web-collections.html

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4526<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2004-08-27 05:03:04<br>
Subject:Mark Nottingham on HTTP Auth<br>
Message:<br><br>
<pre>Most excellent post on extensions to support more visible usage of HTTP Authentication headers by allowing HTML Forms more control.
http://www.mnot.net/blog/2004/08/26/form_auth

http://listserver.dreamhost.com/pipermail/whatwg-whatwg.org/2004-August/001985.html

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4527<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2004-08-27 05:05:54<br>
Subject:Re: [rest-discuss] Mark Nottingham on HTTP Auth<br>
Message:<br><br>
<pre>See also
http://www.w3.org/TR/1999/NOTE-authentform-19990203
  ----- Original Message ----- 
  From: S. Mike Dierken 
  To: rest-discuss@yahoogroups.com 
  Sent: Thursday, August 26, 2004 10:03 PM
  Subject: [rest-discuss] Mark Nottingham on HTTP Auth


  Most excellent post on extensions to support more visible usage of HTTP Authentication headers by allowing HTML Forms more control.
  http://www.mnot.net/blog/2004/08/26/form_auth

  http://listserver.dreamhost.com/pipermail/whatwg-whatwg.org/2004-August/001985.html

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4528<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2004-08-27 11:46:44<br>
Subject:RESTful logout (was Re: [rest-discuss] Mark Nottingham on HTTP Auth<br>
Message:<br><br>
<pre>Regarding logout, Mark writes;

"HTTP authentication doesn't provide any way to 'log out' a user"

It seems to me that it shouldn't, as "logout" is something a browser
does due to application state residing on the client.  Perhaps the
browser could publish a Javascript hook so that pages could include a
customized logout button, but the fallback could be a simple "Log me
out of this domain" button in the browser toolbar.

Mark.

On Thu, Aug 26, 2004 at 10:03:04PM -0700, S. Mike Dierken wrote:
&gt; Most excellent post on extensions to support more visible usage of HTTP Authentication headers by allowing HTML Forms more control.
&gt; http://www.mnot.net/blog/2004/08/26/form_auth
&gt; 
&gt; http://listserver.dreamhost.com/pipermail/whatwg-whatwg.org/2004-August/001985.html
&gt; 

-- 
Mark Baker.   Ottawa, Ontario, CANADA.        http://www.markbaker.ca

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4529<br>
Sender:Chris Croome &lt;chris@...&gt;<br>
Post Date/Time:2004-08-27 11:57:39<br>
Subject:Re: RESTful logout (was Re: [rest-discuss] Mark Nottingham on HTTP Auth<br>
Message:<br><br>
<pre>Hi

On Fri 27-Aug-2004 at 07:46:44AM -0400, Mark Baker wrote:
&gt; Regarding logout, Mark writes;
&gt; 
&gt; "HTTP authentication doesn't provide any way to 'log out' a user"

Actually you *can* set it up it's just that is is not that easy...

There is a document here that explains one way of doing it with
mod_perl:

- Hacking HTTP Authentication with mod_perl
  http://wiki.slugbug.org.uk/HTTP_Authentication

Chris

-- 
Chris Croome                               &lt;chris@...&gt;
web design                             http://www.webarchitects.co.uk/ 
web content management                               http://mkdoc.com/   

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4530<br>
Sender:Nic Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2004-08-27 12:22:11<br>
Subject:Re: RESTful logout (was Re: [rest-discuss] Mark Nottingham on HTTP Auth<br>
Message:<br><br>
<pre>Mark Baker &lt;distobj@...&gt; writes:

&gt; Regarding logout, Mark writes;
&gt; 
&gt; "HTTP authentication doesn't provide any way to 'log out' a user"
&gt; 
&gt; It seems to me that it shouldn't, as "logout" is something a browser
&gt; does due to application state residing on the client.  Perhaps the
&gt; browser could publish a Javascript hook so that pages could include a
&gt; customized logout button, but the fallback could be a simple "Log me
&gt; out of this domain" button in the browser toolbar.

This is not *really* a REST issue but more a user interface issue
because in terms of RESTfull web services environments the HTTP 401 is
really all that is needed. There is no need to worry about entities.



But as far as the traditional webapp goes...

I've said here before that we need only 2 small changes to the web
architecture to enable solutions to the current webapp authentication
issues :

- browsers should *always* render any entity body recieved with a 401
  response code (and only render the authenticate UI when there is no
  entity body in a 401 response)

- browsers should provide some hook for setting the Authorization
  header on an outgoing request

If those two things were done then application developers would be
able to respond to protected resource requests with a page that
allowed application specific authentication. 

Here's a simple HTML page that might be sent in response to a request
to a protected page:

&lt;html&gt;
&lt;body&gt;
&lt;form name="myform" method="GET" action="."&gt;
username : &lt;input type="text" name="usename"/&gt;
&lt;br/&gt;
password : &lt;input type="text" name="password"/&gt;
&lt;br/&gt;
&lt;button name="login" 
  onclick="
set_auth_header(myform.username, myform.password); 
myform.submit();
"/&gt;
&lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;


The onclick has been simplified, the set_auth_header() function is
intended to illustrate the kind of hook that would be needed.

Note that the authentication hook stuff is probably possible with
modern browsers which provide javascript tools for creating and
manipulating requests.


The existing requirements for 401's are:


   The request requires user authentication. The response MUST include
   a WWW-Authenticate header field (section 14.47) containing a
   challenge applicable to the requested resource. The client MAY
   repeat the request with a suitable Authorization header field
   (section 14.8). If the request already included Authorization
   credentials, then the 401 response indicates that authorization has
   been refused for those credentials. If the 401 response contains
   the same challenge as the prior response, and the user agent has
   already attempted authentication at least once, then the user
   SHOULD be presented the entity that was given in the response,
   since that entity might include relevant diagnostic
   information.

So it would be a bit of a change and maybe would need a new header to
indicate this special case.



Nic
http://www.tapsellferrier.co.uk

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4531<br>
Sender:"Benjamin L Yu" &lt;benjaminlyu@...&gt;<br>
Post Date/Time:2004-09-02 23:38:36<br>
Subject:HTTP 202 Accepted and Polling for Completion.<br>
Message:<br><br>
<pre>I have a situation that I'd like get opinions on from the rest
community, if people are willing. I don't remember reading anything
specific covering it in the list archive, so I'm posting it now. :)

I'd like clarification about how to handle long run back end
processes. For example:

===
POST /reportmaker HTTP/1.1
Host: foo.com
...

HTTP/1.1 202 Accepted
Location: http://foo.com/report/newid
===
GET /report/newid HTTP/1.1
Host: foo.com
===

If the report has not been created (work is in progress), what should
I return?

Here are some of my thoughts:
1. A 204 No Content status code doesn't fit. 204 states that the
processing was completed but there is no content, which this is not
the case.
2. Return a 200 status code, and set the Content-Type header field to
something like "application/X-status-message". The body could be an
XML document detailing the status. Upon completion, the proper content
and content-type will be returned.
3. Return a 200 and an X-Status header with some in-progress status
message.
4. Return a 200 and an X-Status header with no body.
5. A 202 Accepted doesn't make sense. Using this would imply that
server accepted the GET for processing, not the original POST.

I'm thinking that either 2, 3 or 4 would be the best options (3 and 4
are essentially the same). I'm gravitating towards 2.

A slight tangent: I also thought of a different design that I would
prefer not to use for a reason I will state later:

===
POST /reportordermaker HTTP/1.1
Host: foo.com
...

HTTP/1.1 201 Created
Location: http://foo.com/orders/newid
===
GET /orders/newid HTTP/1.1
Host: foo.com

HTTP/1.1 200 OK
Content-Type: application/xml

&lt;order&gt;
  &lt;status&gt;notdone&lt;/status&gt;
&lt;/order&gt;
===
GET /orders/newid HTTP/1.1
Host: foo.com

HTTP/1.1 200 OK
Content-Type: application/xml

&lt;order&gt;
  &lt;status&gt;done&lt;/status&gt;
  &lt;location&gt;http://foo.com/report/newid&lt;/location&gt;
&lt;/order&gt;
===
GET /report/newid HTTP/1.1
Host: foo.com

... etc ...
===

The reason I don't want to create orders is that the reportmaker will
want to generate a report and return a 201 Created (along with
content) on the first POST by default. But there may be cases where
the process will take a long time, so I will want to return a 202
accepted. I would prefer to be able to return the report on the
majority of the POST requests than to for the client software to
process multiple round trips of the second example (reportordermaker).

Comments?

Thanks,
Ben




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4532<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2004-09-07 13:34:53<br>
Subject:Re: [rest-discuss] HTTP 202 Accepted and Polling for Completion.<br>
Message:<br><br>
<pre>On Thu, Sep 02, 2004 at 11:38:36PM -0000, Benjamin L Yu wrote:
&gt; I have a situation that I'd like get opinions on from the rest
&gt; community, if people are willing. I don't remember reading anything
&gt; specific covering it in the list archive, so I'm posting it now. :)
&gt; 
&gt; I'd like clarification about how to handle long run back end
&gt; processes. For example:
&gt; 
&gt; ===
&gt; POST /reportmaker HTTP/1.1
&gt; Host: foo.com
&gt; ...
&gt; 
&gt; HTTP/1.1 202 Accepted
&gt; Location: http://foo.com/report/newid

FWIW, RFC 2616 says nothing about Location being used in this way,
so you're doing things in a way which isn't licensed.  On the other
hand, I think it makes good sense and would have liked it if 2616
did define it in this manner.

&gt; ===
&gt; GET /report/newid HTTP/1.1
&gt; Host: foo.com
&gt; ===
&gt; 
&gt; If the report has not been created (work is in progress), what should
&gt; I return?
&gt; 
&gt; Here are some of my thoughts:
&gt; 1. A 204 No Content status code doesn't fit. 204 states that the
&gt; processing was completed but there is no content, which this is not
&gt; the case.

Not necessarily.  It might make more sense for you to say that every
resource under /report/ exists with empty state until such time as it's
modified.  A Wiki could work like this.

&gt; 2. Return a 200 status code, and set the Content-Type header field to
&gt; something like "application/X-status-message". The body could be an
&gt; XML document detailing the status. Upon completion, the proper content
&gt; and content-type will be returned.
&gt; 3. Return a 200 and an X-Status header with some in-progress status
&gt; message.
&gt; 4. Return a 200 and an X-Status header with no body.
&gt; 5. A 202 Accepted doesn't make sense. Using this would imply that
&gt; server accepted the GET for processing, not the original POST.
&gt; 
&gt; I'm thinking that either 2, 3 or 4 would be the best options (3 and 4
&gt; are essentially the same). I'm gravitating towards 2.

Another option is 404, as that would acknowledge that the resource
hasn't yet been "created".  I've used both 204 and 404 depending upon
the situation.  This feels more like a 404 to me though.

Mark.
-- 
Mark Baker.   Ottawa, Ontario, CANADA.        http://www.markbaker.ca

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4533<br>
Sender:Benjamin Yu &lt;benjaminlyu@...&gt;<br>
Post Date/Time:2004-09-07 17:32:20<br>
Subject:Re: [rest-discuss] HTTP 202 Accepted and Polling for Completion.<br>
Message:<br><br>
<pre>
&gt; FWIW, RFC 2616 says nothing about Location being used in
&gt; this way,
&gt; so you're doing things in a way which isn't licensed.  On
&gt; the other
&gt; hand, I think it makes good sense and would have liked it
&gt; if 2616
&gt; did define it in this manner.
&gt; 

Hmmm.. So, I'm going to jump to the conclusion that it
would be ok to use a different header. E.g. - something
like "X-Report-Location". :)

&gt; Not necessarily.  It might make more sense for you to say
&gt; that every
&gt; resource under /report/ exists with empty state until
&gt; such time as it's
&gt; modified.  A Wiki could work like this.
&gt; 

Ok, I can see cases where one would represent the initial
state of resources as a 204. I'll keep that in mind. But in
such cases, wouldn't the original response to a
/reportmaker request be a 201 Created instead of a 202
Accepted?


&gt; Another option is 404, as that would acknowledge that the
&gt; resource
&gt; hasn't yet been "created".  I've used both 204 and 404
&gt; depending upon
&gt; the situation.  This feels more like a 404 to me though.
&gt; 

Using a 404 sounds like a good idea. But wouldn't this be
confusing for clients? That is, how can a client
differentiate between the following cases?
1. No report was created with this URI and nothing is in
the works.
2. A report is in process for this address.

Would providing a listing service
(/inprogresslist?queryparams) be a viable solution?

Thanks,
Ben


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4534<br>
Sender:sandeep@...<br>
Post Date/Time:2004-09-08 11:02:30<br>
Subject:Fwd: Re: [rest-discuss] HTTP 202 Accepted and Polling for Completion.<br>
Message:<br><br>
<pre>Hey,

According to section 10.2.3 of RFC 2616
&lt;http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.2.3&gt;:

"The entity returned with this response SHOULD include an indication of the
request's current status and either a pointer to a status monitor or some
estimate of when the user can expect the request to be fulfilled."

So a representation that gives the (current status + ETA) or (status +
status-monitor-URI) makes sense to me.

Subsequent GET's on the status-monitor-URI might return a representation with
the current status of the process and the location of the created resource if
the processing was done as stated in the earlier mail:

&lt;order&gt;
  &lt;status&gt;notdone&lt;/status&gt;
&lt;/order&gt;

and

&lt;order&gt;
  &lt;status&gt;done&lt;/status&gt;
  &lt;location&gt;http://foo.com/report/newid&lt;/location&gt;
&lt;/order&gt;

Each of those requests would return a 200 OK.

That's how I would have done it. Is this approach RESTful?

Sandeep

----------------------------------------------------------------

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4535<br>
Sender:Laurian Gridinoc &lt;laurian@...&gt;<br>
Post Date/Time:2004-09-08 14:21:10<br>
Subject:Re: RESTful logout (was Re: [rest-discuss] Mark Nottingham on HTTP Auth<br>
Message:<br><br>
<pre>On Fri, 27 Aug 2004 07:46:44 -0400, Mark Baker &lt;distobj@...&gt; wrote:
&gt; "HTTP authentication doesn't provide any way to 'log out' a user"
&gt; 
&gt; It seems to me that it shouldn't, as "logout" is something a browser
&gt; does due to application state residing on the client.  Perhaps the
&gt; browser could publish a Javascript hook so that pages could include a
&gt; customized logout button, but the fallback could be a simple "Log me
&gt; out of this domain" button in the browser toolbar.

This mozilla extension does it:
http://mmcc.cx/mozilla/

I wonder if it can work within a page (onClick...)

Cheers,
-- 
Laurian Gridinoc
Chief Developer
GRAPEFRUIT DESIGN
www.gd.ro

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4536<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2004-09-08 16:07:07<br>
Subject:Re: RESTful logout (was Re: [rest-discuss] Mark Nottingham on HTTP Auth<br>
Message:<br><br>
<pre>On Wed, Sep 08, 2004 at 02:21:10PM +0000, Laurian Gridinoc wrote:
&gt; On Fri, 27 Aug 2004 07:46:44 -0400, Mark Baker &lt;distobj@...&gt; wrote:
&gt; &gt; "HTTP authentication doesn't provide any way to 'log out' a user"
&gt; &gt; 
&gt; &gt; It seems to me that it shouldn't, as "logout" is something a browser
&gt; &gt; does due to application state residing on the client.  Perhaps the
&gt; &gt; browser could publish a Javascript hook so that pages could include a
&gt; &gt; customized logout button, but the fallback could be a simple "Log me
&gt; &gt; out of this domain" button in the browser toolbar.
&gt; 
&gt; This mozilla extension does it:
&gt; http://mmcc.cx/mozilla/
&gt; 
&gt; I wonder if it can work within a page (onClick...)

Good find.  Too bad it's a "log me out of *all* domains" button, but it
gets the point across...

Mark.
-- 
Mark Baker.   Ottawa, Ontario, CANADA.        http://www.markbaker.ca

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4537<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2004-09-08 16:11:00<br>
Subject:Re: [rest-discuss] HTTP 202 Accepted and Polling for Completion.<br>
Message:<br><br>
<pre>On Tue, Sep 07, 2004 at 10:32:20AM -0700, Benjamin Yu wrote:
&gt; &gt; Not necessarily.  It might make more sense for you to say
&gt; &gt; that every
&gt; &gt; resource under /report/ exists with empty state until
&gt; &gt; such time as it's
&gt; &gt; modified.  A Wiki could work like this.
&gt; &gt; 
&gt; 
&gt; Ok, I can see cases where one would represent the initial
&gt; state of resources as a 204. I'll keep that in mind. But in
&gt; such cases, wouldn't the original response to a
&gt; /reportmaker request be a 201 Created instead of a 202
&gt; Accepted?

Hmm, no.  So long as the processing happens later, 202 is fine.

&gt; &gt; Another option is 404, as that would acknowledge that the
&gt; &gt; resource
&gt; &gt; hasn't yet been "created".  I've used both 204 and 404
&gt; &gt; depending upon
&gt; &gt; the situation.  This feels more like a 404 to me though.
&gt; &gt; 
&gt; 
&gt; Using a 404 sounds like a good idea. But wouldn't this be
&gt; confusing for clients? That is, how can a client
&gt; differentiate between the following cases?
&gt; 1. No report was created with this URI and nothing is in
&gt; the works.
&gt; 2. A report is in process for this address.
&gt; 
&gt; Would providing a listing service
&gt; (/inprogresslist?queryparams) be a viable solution?

I'd do as the other poster suggested.

Mark.
-- 
Mark Baker.   Ottawa, Ontario, CANADA.        http://www.markbaker.ca

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4538<br>
Sender:Laurian Gridinoc &lt;laurian@...&gt;<br>
Post Date/Time:2004-09-08 18:57:00<br>
Subject:Re: RESTful logout (was Re: [rest-discuss] Mark Nottingham on HTTP Auth<br>
Message:<br><br>
<pre>On Wed, 8 Sep 2004 12:07:07 -0400, Mark Baker &lt;distobj@...&gt; wrote:
&gt; &gt; &gt; [...] browser could publish a Javascript hook so that pages could include a
&gt; &gt; &gt; customized logout button, but the fallback could be a simple "Log me
&gt; &gt; &gt; out of this domain" button in the browser toolbar.
&gt; &gt;
&gt; &gt; This mozilla extension does it:
&gt; &gt; http://mmcc.cx/mozilla/
&gt; &gt; I wonder if it can work within a page (onClick...)
&gt; 
&gt; Good find.  Too bad it's a "log me out of *all* domains" button, but it
&gt; gets the point across...

Maybe using setAuthIdentity to set it to a default logout value ie.
user: anonymous, then the  underlying app will handle it somehow...not
nice anyway.

Cheers,
-- 
Laurian Gridinoc
Chief Developer
GRAPEFRUIT DESIGN
www.gd.ro

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4539<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2004-09-12 16:35:20<br>
Subject:Diagrams for REST interactions?<br>
Message:<br><br>
<pre>Hi,

has anybody ever come across diagramatic approaches to
model or document sequences of REST interactions? Maybe
even employing specialized means to document headers and
MIME type of messages?

I am thinking of using UML sequence diagrams or swimlane
diagrams (though less suitable I found) , but I am
curious what others have done in this area.

Jan

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4540<br>
Sender:Kendall Clark &lt;kendall@...&gt;<br>
Post Date/Time:2004-09-20 16:27:43<br>
Subject:formal notation for REST?<br>
Message:<br><br>
<pre>Folks,

Like Jan, who asked here last week about a diagram style for notating
REST stuff, I'm also looking for something I can't find.

I'm working on a protocol document for an RDF data access query
language, part of the W3C's DAWG. I'd like to have a formal notation
for the protocol operations I'm working on. The Z Notation is pretty
good since it gives me functions, typed variables, and sets -- which
is not bad since RDF models are essentially sets and I think I can
treat protocol operations as functions.

But I'd really like something more specific to the problem domain. I
will be spelling out the formalisms in the specification in terms of
actual HTTP bits (headers, status codes, media types, etc.), but
something formal would be really helpful. (For one thing, I can do
formal manipulation of the sentences of a formal notation in a way I
can't do with strings like "GET /model-uri HTTP/1.1".)

Has anyone found anything that would work here?

Thanks,
Kendall Clark

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4541<br>
Sender:"Walden Mathews" &lt;walden@...&gt;<br>
Post Date/Time:2004-09-20 16:52:20<br>
Subject:Re: [rest-discuss] formal notation for REST?<br>
Message:<br><br>
<pre>Kendall,

Alloy[1] is a successor to the Z Notation.  Its syntax is NOT
more specific to the problem domain than Z, but it will allow
you to examine assertions against your model, which
could be nice.

Walden

[1] http://alloy.mit.edu/beta/



----- Original Message ----- 
From: "Kendall Clark" &lt;kendall@...&gt;
To: &lt;rest-discuss@yahoogroups.com&gt;
Sent: Monday, September 20, 2004 12:27 PM
Subject: [rest-discuss] formal notation for REST?


| Folks,
| 
| Like Jan, who asked here last week about a diagram style for notating
| REST stuff, I'm also looking for something I can't find.
| 
| I'm working on a protocol document for an RDF data access query
| language, part of the W3C's DAWG. I'd like to have a formal notation
| for the protocol operations I'm working on. The Z Notation is pretty
| good since it gives me functions, typed variables, and sets -- which
| is not bad since RDF models are essentially sets and I think I can
| treat protocol operations as functions.
| 
| But I'd really like something more specific to the problem domain. I
| will be spelling out the formalisms in the specification in terms of
| actual HTTP bits (headers, status codes, media types, etc.), but
| something formal would be really helpful. (For one thing, I can do
| formal manipulation of the sentences of a formal notation in a way I
| can't do with strings like "GET /model-uri HTTP/1.1".)
| 
| Has anyone found anything that would work here?
| 
| Thanks,
| Kendall Clark
| 
| 
| 
|  
| Yahoo! Groups Links
| 
| 
| 
|  
| 
| 
| __________ NOD32 1.873 (20040920) Information __________
| 
| This message was checked by NOD32 antivirus system.
| http://www.nod32.com
| 
| 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4542<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2004-09-20 17:14:48<br>
Subject:Re: [rest-discuss] formal notation for REST?<br>
Message:<br><br>
<pre>DanC has done some work with Larch that might be relevant;

http://www.w3.org/People/Connolly/drafts/formalism.html

Mark.

On Mon, Sep 20, 2004 at 12:27:43PM -0400, Kendall Clark wrote:
&gt; Folks,
&gt; 
&gt; Like Jan, who asked here last week about a diagram style for notating
&gt; REST stuff, I'm also looking for something I can't find.
&gt; 
&gt; I'm working on a protocol document for an RDF data access query
&gt; language, part of the W3C's DAWG. I'd like to have a formal notation
&gt; for the protocol operations I'm working on. The Z Notation is pretty
&gt; good since it gives me functions, typed variables, and sets -- which
&gt; is not bad since RDF models are essentially sets and I think I can
&gt; treat protocol operations as functions.
&gt; 
&gt; But I'd really like something more specific to the problem domain. I
&gt; will be spelling out the formalisms in the specification in terms of
&gt; actual HTTP bits (headers, status codes, media types, etc.), but
&gt; something formal would be really helpful. (For one thing, I can do
&gt; formal manipulation of the sentences of a formal notation in a way I
&gt; can't do with strings like "GET /model-uri HTTP/1.1".)
&gt; 
&gt; Has anyone found anything that would work here?
&gt; 
&gt; Thanks,
&gt; Kendall Clark
&gt; 
&gt; 
&gt; 
&gt;  
&gt; Yahoo! Groups Links
&gt; 
&gt; 
&gt; 
&gt;  
&gt; 

-- 
Mark Baker.   Ottawa, Ontario, CANADA.        http://www.markbaker.ca

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4543<br>
Sender:"James McGovern" &lt;james@...&gt;<br>
Post Date/Time:2004-09-21 11:27:23<br>
Subject:Enterprise SOA Book<br>
Message:<br><br>
<pre>I am the co-author of the bestselling book: A Practical Guide to Enterprise
Architecture (http://www.amazon.com/exec/obidos/tg/detail/-/0131412752/) and
seek the assistance of ten individuals to provide feedback on an upcoming
book tentatively entitled: Enterprise SOA

Of special interest are individuals who are knowledgable in:

* Security
* Event Driven Architecture
* Registries
* IT Governance

If interested, drop me a note and I will send you a copy in PDF format
(Requires Acrobat 5.0 or higher).

NOTE: My spam filter deletes all email from free email services such as
Yahoo, Hotmail, GMail, etc so use your work email to reply.

Cheers

James McGovern
Number Two Blogger on the Internet
http://blogs.ittoolbox.com/eai/leadership



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4544<br>
Sender:Ryan Fugger &lt;rfugger@...&gt;<br>
Post Date/Time:2004-10-03 22:07:20<br>
Subject:REST for P2P application?<br>
Message:<br><br>
<pre>
Hi.  I've been struggling with trying to apply REST to a project of mine,  
a decentralized P2P payment system using only IOUs passed between friends  
in a social network:

http://ripple.sourceforge.net/

The payment network is made up of nodes living on http servers.  I can see  
how REST would be appropriate for a client API to a node on the network --  
to allow users to perform actions through their node, to allow ecommerce  
sites to access the network, etc.  But I'm having trouble seeing how a  
RESTful approach might improve the protocol for communications between  
nodes.

Some issues I've come across:

* Identifying distributed objects with resolvable URIs is problematic  
since it seems to want to locate them on a single node, when in reality  
they live on several nodes.  Giving them several identifiers seems  
inelegant.
* Nodes must be able to move to different servers, and if there are URI  
identifiers for resources on a node that must be resolvable, then there  
must a mechanism for changing those identifiers when a node moves.  This  
could cause problems with historical audit information backed up on  
offline machines, unless two identifiers are stored.  A node could move  
many times, so many identifiers may be needed for each resource.
* Only fully-functional nodes may communicate with other nodes as nodes.   
Scalability in terms of third-party access to partial node functionality  
(the main benefit of giving all resources a URI?) is not an issue.  For  
simplicity and security, all access to the network must be through one's  
own node.

I'm a big fan of the REST philosophy, and I'd like to take advantage of it  
wherever appropriate.  In this case however, REST seems to me like  
complicated overkill compared to simple XML messaging.  I don't have a lot  
of experience with RESTful applications, so I'd like to know if others  
agree with me, or if there's something I'm really not getting here.

Here is a link to the beginnings of a RESTful version of inter-node  
communications:

http://ripple.sourceforge.net/resources.xml.txt

And here is a link to a fairly complete XML messaging version:

http://ripple.sourceforge.net/messages.xml.txt

Much more background information is available at the project home page.

Thanks,
Ryan




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4545<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2004-10-05 05:01:47<br>
Subject:Re: [rest-discuss] REST for P2P application?<br>
Message:<br><br>
<pre>This is a lot to digest... so this response isn't going to be extremely
helpful. I do have a few questions though.

&gt;
&gt; * Identifying distributed objects with resolvable URIs is problematic
&gt; since it seems to want to locate them on a single node, when in reality
&gt; they live on several nodes.  Giving them several identifiers seems
&gt; inelegant.
By 'distributed objects' do you mean an object that has constituent data
that is served by multiple hosts, or do you mean a self-contained object
that has multiple redundant copies on several hosts?
If a single object is resident on several hosts then the single identifier
needs to access a single host that then in turns communicates with the
disparate constituent servers.
If the several nodes only host redundant copies, then you need a locator
algorithm that satisfies your technical requirements. Do you need to access
the same host several times for performance and only switch hosts for
reliability in the face of a host failure?

&gt; * Nodes must be able to move to different servers, and if there are URI
&gt; identifiers for resources on a node that must be resolvable, then there
&gt; must a mechanism for changing those identifiers when a node moves.  This
&gt; could cause problems with historical audit information backed up on
&gt; offline machines, unless two identifiers are stored.  A node could move
&gt; many times, so many identifiers may be needed for each resource.
It sounds like we should talk about what capabilities a single server is
providing. You may need a proxy that forwards requests to the current
hosting server, or possibly returns a Location header with the 'new'
location.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4546<br>
Sender:Ryan Fugger &lt;rfugger@...&gt;<br>
Post Date/Time:2004-10-05 06:41:53<br>
Subject:Re: [rest-discuss] REST for P2P application?<br>
Message:<br><br>
<pre>Thanks for the reply.  I appreciate the input.

On Mon, 4 Oct 2004 22:01:47 -0700, S. Mike Dierken &lt;mdierken@...&gt;  
wrote:

&gt; By 'distributed objects' do you mean an object that has constituent data
&gt; that is served by multiple hosts, or do you mean a self-contained object
&gt; that has multiple redundant copies on several hosts?

Both.

&gt; If a single object is resident on several hosts then the single  
&gt; identifier needs to access a single host that then in turns communicates  
&gt; with the
&gt; disparate constituent servers.

Due to anonymity requirements, the originating node cannot know where all  
the pieces of an object are (for example, a query or a transaction), and  
nodes usually cannot know where the object originated.

&gt; If the several nodes only host redundant copies, then you need a locator
&gt; algorithm that satisfies your technical requirements. Do you need to  
&gt; access the same host several times for performance and only switch hosts  
&gt; for
&gt; reliability in the face of a host failure?

No, different hosts each holding their aspect of distributed objects is  
integral to the application.

&gt; It sounds like we should talk about what capabilities a single server is
&gt; providing.

A server hosts multiple nodes that each communicate with many neighbouring  
nodes ("friends" with which they can exchange IOUs).  Nodes may also  
communicate with a strange node to pay or receive payment from that node.   
Payments are made by passing IOUs along paths connecting two strange nodes  
in the network of neighbours.

&gt; You may need a proxy that forwards requests to the current
&gt; hosting server, or possibly returns a Location header with the 'new'
&gt; location.

Since trust is such an integral issue with this application, there must be  
a mechanism to change any server that proves untrustworthy, including  
proxy servers.  Changing proxy servers then has all the same  
identifier-renaming problems as changing servers.

Like I said, as hard as I've tried to make it work, it just seems that  
REST is inappropriate for the application.  I'm actually looking at  
bypassing HTTP altogether and using something like Jabber for persistent  
XML messaging sessions between servers.  Very unRESTful, I know, but it  
would be soooo appealingly simple...

Ryan

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4547<br>
Sender:"thompsonbry" &lt;thompsonbry@...&gt;<br>
Post Date/Time:2004-10-05 11:55:05<br>
Subject:Re: REST for P2P application?<br>
Message:<br><br>
<pre>
Ryan,

I've recently been thinking about something similar -- a p2p protocol
for a generic object system (data, not behavior) based on a network
database model.  I have done more modeling of the client-server
interactions than the interactions among the peers, but I can share
some of my thoughts.

I am also using URIs to identify objects.  A new URI is minted each
time a new object is created.  However, the URIs are NOT providing
addresses for objects.  Instead, each peer needs to lookup whether
or not it currently holds an copy of an object with that URI.  I
think that you will also need a similar distinction between identifier
and address.  You could make this even more clear by using a URN
scheme, which would emphasize that the URI is not functioning as an
address.

I am just assigning a unique base URI to each peer.  The objects
within the store hosted by a peer have unique identifiers.  The
URI of the object just combines the URI of the store with the
unique-within-store identifier for the object (which is an
integer).

The URI of an object NEVER changes throughout its life cycle.  It
is the persistent identity of that object, but not its address. 

This also means that de-referencing an object, even within the same
store, requires running through the locator and figuring out whether
the object is local or remote.  While protocol interactions pass URIs
around, inside a store they are always interned and the peer just
"thinks" about them as ints.

In terms of the "simple uniform interface" dimension, I have less
to say so far.  The generic object system is something that I am
exploring for scalable semantic stores (RDF and TopicMaps).  The
data structure is very simple, so I should be able to use a simple
kind of representation transfer to materialize the objects, or to
update them.

The query side is where I am hoping that things will really shine.
The network database model makes it possible to get by with a
stateless protocol for iterators.  Basically, the client needs to
pass back some minimal state in the connection, essentially
corresponding to the current generic object in a list or the
current generic object in a tree traversal.  All of which are
identified by URIs.

One of the interesting things is that I expect that a client will
be able to ask for itr.next() and recieve the response from whatever
peer actually holds the next generic object.

Thanks,

-bryan

--- In rest-discuss@yahoogroups.com, Ryan Fugger &lt;rfugger@y...&gt; wrote:
&gt; 
&gt; Hi.  I've been struggling with trying to apply REST to a project of 
mine,  
&gt; a decentralized P2P payment system using only IOUs passed between 
friends  
&gt; in a social network:
&gt; 
&gt; http://ripple.sourceforge.net/
&gt; 
&gt; The payment network is made up of nodes living on http servers.  I 
can see  
&gt; how REST would be appropriate for a client API to a node on the 
network --  
&gt; to allow users to perform actions through their node, to allow 
ecommerce  
&gt; sites to access the network, etc.  But I'm having trouble seeing 
how a  
&gt; RESTful approach might improve the protocol for communications 
between  
&gt; nodes.
&gt; 
&gt; Some issues I've come across:
&gt; 
&gt; * Identifying distributed objects with resolvable URIs is 
problematic  
&gt; since it seems to want to locate them on a single node, when in 
reality  
&gt; they live on several nodes.  Giving them several identifiers seems  
&gt; inelegant.
&gt; * Nodes must be able to move to different servers, and if there are 
URI  
&gt; identifiers for resources on a node that must be resolvable, then 
there  
&gt; must a mechanism for changing those identifiers when a node moves.  
This  
&gt; could cause problems with historical audit information backed up 
on  
&gt; offline machines, unless two identifiers are stored.  A node could 
move  
&gt; many times, so many identifiers may be needed for each resource.
&gt; * Only fully-functional nodes may communicate with other nodes as 
nodes.   
&gt; Scalability in terms of third-party access to partial node 
functionality  
&gt; (the main benefit of giving all resources a URI?) is not an issue.  
For  
&gt; simplicity and security, all access to the network must be through 
one's  
&gt; own node.
&gt; 
&gt; I'm a big fan of the REST philosophy, and I'd like to take 
advantage of it  
&gt; wherever appropriate.  In this case however, REST seems to me like  
&gt; complicated overkill compared to simple XML messaging.  I don't 
have a lot  
&gt; of experience with RESTful applications, so I'd like to know if 
others  
&gt; agree with me, or if there's something I'm really not getting here.
&gt; 
&gt; Here is a link to the beginnings of a RESTful version of inter-
node  
&gt; communications:
&gt; 
&gt; http://ripple.sourceforge.net/resources.xml.txt
&gt; 
&gt; And here is a link to a fairly complete XML messaging version:
&gt; 
&gt; http://ripple.sourceforge.net/messages.xml.txt
&gt; 
&gt; Much more background information is available at the project home 
page.
&gt; 
&gt; Thanks,
&gt; Ryan




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4548<br>
Sender:"thompsonbry" &lt;thompsonbry@...&gt;<br>
Post Date/Time:2004-10-05 12:02:10<br>
Subject:Re: REST for P2P application?<br>
Message:<br><br>
<pre>
REST != HTTP.  HTTP provides a protocol that can be used REST-fully
in many ways, but it can also be used non-REST-fully.  I don't know
the Jabber protocol, but you may be able to use that REST-fully also.

I find it interesting that you are distributing transactions.  I had
been thinking of transactions as local to a peer and not materializing
on other peers until they were committed (so only a client could hold
a URI for any object within the transaction).

Where I have complex objects, e.g., a red-black tree, I make each
node of the tree a first class object and give it a URI IFF I want
to be able to have the tree span peers.  So, while a complex data
structure such as a tree may span peers, an object is never partially
represented a given peer.

I use "local objects" iff the data is always to be materialized
with the generic object.  For example, the property bindings of
a generic object are always materialized with the generic object,
so they are modeled as "local" objects (strict containment).

Thanks,

-bryan

--- In rest-discuss@yahoogroups.com, Ryan Fugger &lt;rfugger@y...&gt; wrote:
&gt; Thanks for the reply.  I appreciate the input.
&gt; 
&gt; On Mon, 4 Oct 2004 22:01:47 -0700, S. Mike Dierken &lt;mdierken@h...&gt;  
&gt; wrote:
&gt; 
&gt; &gt; By 'distributed objects' do you mean an object that has 
constituent data
&gt; &gt; that is served by multiple hosts, or do you mean a self-contained 
object
&gt; &gt; that has multiple redundant copies on several hosts?
&gt; 
&gt; Both.
&gt; 
&gt; &gt; If a single object is resident on several hosts then the single  
&gt; &gt; identifier needs to access a single host that then in turns 
communicates  
&gt; &gt; with the
&gt; &gt; disparate constituent servers.
&gt; 
&gt; Due to anonymity requirements, the originating node cannot know 
where all  
&gt; the pieces of an object are (for example, a query or a 
transaction), and  
&gt; nodes usually cannot know where the object originated.
&gt; 
&gt; &gt; If the several nodes only host redundant copies, then you need a 
locator
&gt; &gt; algorithm that satisfies your technical requirements. Do you need 
to  
&gt; &gt; access the same host several times for performance and only 
switch hosts  
&gt; &gt; for
&gt; &gt; reliability in the face of a host failure?
&gt; 
&gt; No, different hosts each holding their aspect of distributed 
objects is  
&gt; integral to the application.
&gt; 
&gt; &gt; It sounds like we should talk about what capabilities a single 
server is
&gt; &gt; providing.
&gt; 
&gt; A server hosts multiple nodes that each communicate with many 
neighbouring  
&gt; nodes ("friends" with which they can exchange IOUs).  Nodes may 
also  
&gt; communicate with a strange node to pay or receive payment from that 
node.   
&gt; Payments are made by passing IOUs along paths connecting two 
strange nodes  
&gt; in the network of neighbours.
&gt; 
&gt; &gt; You may need a proxy that forwards requests to the current
&gt; &gt; hosting server, or possibly returns a Location header with 
the 'new'
&gt; &gt; location.
&gt; 
&gt; Since trust is such an integral issue with this application, there 
must be  
&gt; a mechanism to change any server that proves untrustworthy, 
including  
&gt; proxy servers.  Changing proxy servers then has all the same  
&gt; identifier-renaming problems as changing servers.
&gt; 
&gt; Like I said, as hard as I've tried to make it work, it just seems 
that  
&gt; REST is inappropriate for the application.  I'm actually looking 
at  
&gt; bypassing HTTP altogether and using something like Jabber for 
persistent  
&gt; XML messaging sessions between servers.  Very unRESTful, I know, 
but it  
&gt; would be soooo appealingly simple...
&gt; 
&gt; Ryan




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4549<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2004-10-06 05:10:10<br>
Subject:Re: [rest-discuss] REST for P2P application?<br>
Message:<br><br>
<pre>I'm lost. Perhaps if your applications was re-phrased using 'resource'
rather than 'node' and 'object' I'd be able to understand.

&gt; Due to anonymity requirements, the originating node cannot know where all
&gt; the pieces of an object are (for example, a query or a transaction), and
&gt; nodes usually cannot know where the object originated.
What is an 'originating node'? Is that an HTTP client? To hide the location
of the pieces, you have a single identifiable resource and clients don't
know what lays beyond.

&gt; No, different hosts each holding their aspect of distributed objects is
&gt; integral to the application.
Okay, but how can you have different hosts holding aspects of a single
distributed object but not tell any client where those different aspects are
located??

&gt; A server hosts multiple nodes that each communicate with many neighbouring
&gt; nodes ("friends" with which they can exchange IOUs).
Okay - each 'node' is a resource. Clients communicate with this 'public'
node. Clients do not know about neighboring nodes. The resource is a type of
aggregating proxy for those other nodes.

&gt; Nodes may also communicate with a strange node to pay or receive payment
from that node.
Okay - each 'node' may also be a client and can transfer payment to other
resources or request payment from other resources. In order to receive
unsolicited transfers, a node needs to have an identifier and the sender of
payment needs to know what that is.

&gt; Payments are made by passing IOUs along paths connecting two strange nodes
in the network of neighbours.
Ah... a chain of proxies... and this chain is used to obscure the legal
entity requesting a transfer?




----- Original Message ----- 
From: "Ryan Fugger" &lt;rfugger@...&gt;
To: "S. Mike Dierken" &lt;mdierken@...&gt;; &lt;rest-discuss@yahoogroups.com&gt;
Sent: Monday, October 04, 2004 11:41 PM
Subject: Re: [rest-discuss] REST for P2P application?


&gt; Thanks for the reply.  I appreciate the input.
&gt;
&gt; On Mon, 4 Oct 2004 22:01:47 -0700, S. Mike Dierken &lt;mdierken@...&gt;
&gt; wrote:
&gt;
&gt; &gt; By 'distributed objects' do you mean an object that has constituent data
&gt; &gt; that is served by multiple hosts, or do you mean a self-contained object
&gt; &gt; that has multiple redundant copies on several hosts?
&gt;
&gt; Both.
&gt;
&gt; &gt; If a single object is resident on several hosts then the single
&gt; &gt; identifier needs to access a single host that then in turns communicates
&gt; &gt; with the
&gt; &gt; disparate constituent servers.
&gt;
&gt; Due to anonymity requirements, the originating node cannot know where all
&gt; the pieces of an object are (for example, a query or a transaction), and
&gt; nodes usually cannot know where the object originated.
&gt;
&gt; &gt; If the several nodes only host redundant copies, then you need a locator
&gt; &gt; algorithm that satisfies your technical requirements. Do you need to
&gt; &gt; access the same host several times for performance and only switch hosts
&gt; &gt; for
&gt; &gt; reliability in the face of a host failure?
&gt;
&gt; No, different hosts each holding their aspect of distributed objects is
&gt; integral to the application.
&gt;
&gt; &gt; It sounds like we should talk about what capabilities a single server is
&gt; &gt; providing.
&gt;
&gt; A server hosts multiple nodes that each communicate with many neighbouring
&gt; nodes ("friends" with which they can exchange IOUs).  Nodes may also
&gt; communicate with a strange node to pay or receive payment from that node.
&gt; Payments are made by passing IOUs along paths connecting two strange nodes
&gt; in the network of neighbours.
&gt;
&gt; &gt; You may need a proxy that forwards requests to the current
&gt; &gt; hosting server, or possibly returns a Location header with the 'new'
&gt; &gt; location.
&gt;
&gt; Since trust is such an integral issue with this application, there must be
&gt; a mechanism to change any server that proves untrustworthy, including
&gt; proxy servers.  Changing proxy servers then has all the same
&gt; identifier-renaming problems as changing servers.
&gt;
&gt; Like I said, as hard as I've tried to make it work, it just seems that
&gt; REST is inappropriate for the application.  I'm actually looking at
&gt; bypassing HTTP altogether and using something like Jabber for persistent
&gt; XML messaging sessions between servers.  Very unRESTful, I know, but it
&gt; would be soooo appealingly simple...
&gt;
&gt; Ryan
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4550<br>
Sender:Ryan Fugger &lt;rfugger@...&gt;<br>
Post Date/Time:2004-10-06 07:33:20<br>
Subject:Re: [rest-discuss] REST for P2P application?<br>
Message:<br><br>
<pre>On Tue, 5 Oct 2004 22:10:10 -0700, S. Mike Dierken &lt;mdierken@...&gt;  
wrote:

&gt; I'm lost. Perhaps if your applications was re-phrased using 'resource'
&gt; rather than 'node' and 'object' I'd be able to understand.

Gotcha.

&gt;
&gt;&gt; Due to anonymity requirements, the originating node cannot know where  
&gt;&gt; all
&gt;&gt; the pieces of an object are (for example, a query or a transaction), and
&gt;&gt; nodes usually cannot know where the object originated.
&gt; What is an 'originating node'?

Ripple is a P2P trust network of software node-agents living on http  
servers.  To make it more clear, I'll just use the word "hosts" from now  
on, even though that's not technically what I mean.

&gt; Is that an HTTP client?

Yes, and server.

&gt; To hide the location of the pieces, you have a single identifiable  
&gt; resource and clients don't
&gt; know what lays beyond.

No, for example, a transaction involves a chain of hosts, but each host  
only knows about the host directly before and after it.  What I'm  
struggling with is that it seems so convenient to give the transaction a  
single name, but I can't identify it with a single host for privacy  
reasons, and so I can't give it a single URI.  Using a proxy doesn't work  
either, unless everyone used the same one, which is a central point of  
failure and therefore bad.


&gt;&gt; No, different hosts each holding their aspect of distributed objects is
&gt;&gt; integral to the application.
&gt; Okay, but how can you have different hosts holding aspects of a single
&gt; distributed object but not tell any client where those different aspects  
&gt; are located??

They only tell neighbouring host on the trust network, ie, those they  
trust.  All the bits can be found by passing queries down and back up the  
chain of trusted hosts, without the requesting host ever knowing exactly  
where the queries go.

&gt;
&gt;&gt; A server hosts multiple nodes that each communicate with many  
&gt;&gt; neighbouring
&gt;&gt; nodes ("friends" with which they can exchange IOUs).
&gt; Okay - each 'node' is a resource. Clients communicate with this 'public'
&gt; node. Clients do not know about neighboring nodes. The resource is a  
&gt; type of aggregating proxy for those other nodes.

Sounds about right.  It may be informative to say also that clients are  
the means through which the owner of a node accesses his node and gives it  
instructions, whether in person (opening an account with another node), or  
automatically (accepting payments through an ecommerce site).

&gt;
&gt;&gt; Nodes may also communicate with a strange node to pay or receive payment
&gt; from that node.
&gt; Okay - each 'node' may also be a client and can transfer payment to other
&gt; resources or request payment from other resources. In order to receive
&gt; unsolicited transfers, a node needs to have an identifier and the sender  
&gt; of payment needs to know what that is.

Right.  The node identifier being a resolvable URI makes perfect sense --  
until the node moves to a different server!

&gt;
&gt;&gt; Payments are made by passing IOUs along paths connecting two strange  
&gt;&gt; nodes
&gt; in the network of neighbours.
&gt; Ah... a chain of proxies... and this chain is used to obscure the legal
&gt; entity requesting a transfer?

Not primarily, although that might be a side benefit, I don't know.  The  
chain of intermediaries is literally necessary to make the payment with  
IOUs.  For example, would you ship me something if I paid you with my  
digitally-signed IOU?  Of course you wouldn't.  But you might if we could  
find a common friend who would vouch for my IOU by promising to make good  
on it himself if I didn't.  Ripple works by finding chains of these  
intermediaries.

--------------
I'm actually beginning to feel like a bit of a troll on this list, because  
the more I type about this, the more I become convinced that not only is  
REST not particularly suited to my application, but HTTP isn't really  
either.  Stateful bi-directional peer connections seem like the right fit  
(been reading about BEEP - http://beepcore.org/).  Ripple really seems to  
want to be a closed, relatively tightly-coupled private network, despite  
my best efforts to make it otherwise.  So while I'm still open to having  
my mind changed, I won't ask the list to delve any more into my arcane  
little project unless it truly interests you as a "hard case"...

I very much appreciate the responses.  Thanks Mike.  I may be back for  
some help with a RESTful client API, although I think that will be much  
easier.

Ryan

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4551<br>
Sender:"rfugger" &lt;rfugger@...&gt;<br>
Post Date/Time:2004-10-06 21:50:49<br>
Subject:Re: REST for P2P application?<br>
Message:<br><br>
<pre>
Thanks for the input Bryan.  I think I will be going with non-resolvable URIs (ie, URNs) to separate resource identity from resource location, as location is such a sticky thing to pin down in my case.

--- In rest-discuss@yahoogroups.com, "thompsonbry" &lt;thompsonbry@s...&gt; wrote:
&gt; 
&gt; REST != HTTP.  HTTP provides a protocol that can be used REST-fully
&gt; in many ways, but it can also be used non-REST-fully.  I don't know
&gt; the Jabber protocol, but you may be able to use that REST-fully also.

Yes, I'm starting to realize this.  I've been doing some reading on BEEP/APEX, which seems more appropriate than Jabber for this kind of thing.

&gt; 
&gt; I find it interesting that you are distributing transactions.  I had
&gt; been thinking of transactions as local to a peer and not materializing
&gt; on other peers until they were committed (so only a client could hold
&gt; a URI for any object within the transaction).

That's just the way it works out for my application.  I'm trying to do something very specific, not create a general framework.

Thanks for the comments.  I feel confident I'm on the right path.

Ryan




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4552<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2004-10-07 03:29:22<br>
Subject:Re: [rest-discuss] REST for P2P application?<br>
Message:<br><br>
<pre>For me, once I understand the use cases (alice buys from bob, alice pays bob
via ted) we could work on identifying resources.
I actually think it's pretty reasonable and doable to express via REST, even
with the anonymity and migrating 'nodes'.
But I understand that it can be pretty difficult to take an existing
description of an approach &amp; unwind it and re-map to another architecture.


----- Original Message ----- 
From: "Ryan Fugger" &lt;rfugger@...&gt;
To: "S. Mike Dierken" &lt;mdierken@...&gt;; &lt;rest-discuss@yahoogroups.com&gt;
Sent: Wednesday, October 06, 2004 12:33 AM
Subject: Re: [rest-discuss] REST for P2P application?


&gt; On Tue, 5 Oct 2004 22:10:10 -0700, S. Mike Dierken &lt;mdierken@...&gt;
&gt; wrote:
&gt;
&gt; &gt; I'm lost. Perhaps if your applications was re-phrased using 'resource'
&gt; &gt; rather than 'node' and 'object' I'd be able to understand.
&gt;
&gt; Gotcha.
&gt;
&gt; &gt;
&gt; &gt;&gt; Due to anonymity requirements, the originating node cannot know where
&gt; &gt;&gt; all
&gt; &gt;&gt; the pieces of an object are (for example, a query or a transaction),
and
&gt; &gt;&gt; nodes usually cannot know where the object originated.
&gt; &gt; What is an 'originating node'?
&gt;
&gt; Ripple is a P2P trust network of software node-agents living on http
&gt; servers.  To make it more clear, I'll just use the word "hosts" from now
&gt; on, even though that's not technically what I mean.
&gt;
&gt; &gt; Is that an HTTP client?
&gt;
&gt; Yes, and server.
&gt;
&gt; &gt; To hide the location of the pieces, you have a single identifiable
&gt; &gt; resource and clients don't
&gt; &gt; know what lays beyond.
&gt;
&gt; No, for example, a transaction involves a chain of hosts, but each host
&gt; only knows about the host directly before and after it.  What I'm
&gt; struggling with is that it seems so convenient to give the transaction a
&gt; single name, but I can't identify it with a single host for privacy
&gt; reasons, and so I can't give it a single URI.  Using a proxy doesn't work
&gt; either, unless everyone used the same one, which is a central point of
&gt; failure and therefore bad.
&gt;
&gt;
&gt; &gt;&gt; No, different hosts each holding their aspect of distributed objects is
&gt; &gt;&gt; integral to the application.
&gt; &gt; Okay, but how can you have different hosts holding aspects of a single
&gt; &gt; distributed object but not tell any client where those different aspects
&gt; &gt; are located??
&gt;
&gt; They only tell neighbouring host on the trust network, ie, those they
&gt; trust.  All the bits can be found by passing queries down and back up the
&gt; chain of trusted hosts, without the requesting host ever knowing exactly
&gt; where the queries go.
&gt;
&gt; &gt;
&gt; &gt;&gt; A server hosts multiple nodes that each communicate with many
&gt; &gt;&gt; neighbouring
&gt; &gt;&gt; nodes ("friends" with which they can exchange IOUs).
&gt; &gt; Okay - each 'node' is a resource. Clients communicate with this 'public'
&gt; &gt; node. Clients do not know about neighboring nodes. The resource is a
&gt; &gt; type of aggregating proxy for those other nodes.
&gt;
&gt; Sounds about right.  It may be informative to say also that clients are
&gt; the means through which the owner of a node accesses his node and gives it
&gt; instructions, whether in person (opening an account with another node), or
&gt; automatically (accepting payments through an ecommerce site).
&gt;
&gt; &gt;
&gt; &gt;&gt; Nodes may also communicate with a strange node to pay or receive
payment
&gt; &gt; from that node.
&gt; &gt; Okay - each 'node' may also be a client and can transfer payment to
other
&gt; &gt; resources or request payment from other resources. In order to receive
&gt; &gt; unsolicited transfers, a node needs to have an identifier and the sender
&gt; &gt; of payment needs to know what that is.
&gt;
&gt; Right.  The node identifier being a resolvable URI makes perfect sense -- 
&gt; until the node moves to a different server!
&gt;
&gt; &gt;
&gt; &gt;&gt; Payments are made by passing IOUs along paths connecting two strange
&gt; &gt;&gt; nodes
&gt; &gt; in the network of neighbours.
&gt; &gt; Ah... a chain of proxies... and this chain is used to obscure the legal
&gt; &gt; entity requesting a transfer?
&gt;
&gt; Not primarily, although that might be a side benefit, I don't know.  The
&gt; chain of intermediaries is literally necessary to make the payment with
&gt; IOUs.  For example, would you ship me something if I paid you with my
&gt; digitally-signed IOU?  Of course you wouldn't.  But you might if we could
&gt; find a common friend who would vouch for my IOU by promising to make good
&gt; on it himself if I didn't.  Ripple works by finding chains of these
&gt; intermediaries.
&gt;
&gt; --------------
&gt; I'm actually beginning to feel like a bit of a troll on this list, because
&gt; the more I type about this, the more I become convinced that not only is
&gt; REST not particularly suited to my application, but HTTP isn't really
&gt; either.  Stateful bi-directional peer connections seem like the right fit
&gt; (been reading about BEEP - http://beepcore.org/).  Ripple really seems to
&gt; want to be a closed, relatively tightly-coupled private network, despite
&gt; my best efforts to make it otherwise.  So while I'm still open to having
&gt; my mind changed, I won't ask the list to delve any more into my arcane
&gt; little project unless it truly interests you as a "hard case"...
&gt;
&gt; I very much appreciate the responses.  Thanks Mike.  I may be back for
&gt; some help with a RESTful client API, although I think that will be much
&gt; easier.
&gt;
&gt; Ryan
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4553<br>
Sender:Ryan Fugger &lt;rfugger@...&gt;<br>
Post Date/Time:2004-10-08 06:53:55<br>
Subject:Re: [rest-discuss] REST for P2P application?<br>
Message:<br><br>
<pre>On Wed, 6 Oct 2004 20:29:22 -0700, S. Mike Dierken &lt;mdierken@...&gt;  
wrote:

&gt; For me, once I understand the use cases (alice buys from bob, alice pays  
&gt; bob via ted) we could work on identifying resources.

It's all pretty much there at the project site:

http://ripple.sf.net/

The requirements might help:

http://ripple.sf.net/requirements.html

&gt; I actually think it's pretty reasonable and doable to express via REST,  
&gt; even with the anonymity and migrating 'nodes'.
&gt; But I understand that it can be pretty difficult to take an existing
&gt; description of an approach &amp; unwind it and re-map to another  
&gt; architecture.

Funny, I started out with REST in mind and ended up but kept ending up  
with straight messaging...

There's a beginning of a REST design at:

http://ripple.sf.net/resources.xml.txt

Ryan

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4554<br>
Sender:Bud &lt;myavatar@...&gt;<br>
Post Date/Time:2004-10-08 20:20:18<br>
Subject:GET Request length limitation.<br>
Message:<br><br>
<pre>
I am using GET to retrieve bunch of data from the backend, I am using REST.
As part of my GET request I am attaching a filter object in text/xml
format well the query sometimes is bigger than what GET request can
handle which is I guess 2KB of data, how should I solve this problem.
I am using POST for Creates and Modifys.

 I guess my only alternative is to put some sort of flag in the
request and send the request thru POST and at the backend I can check
for this Flag and perform a GET operation using the POST input.

Thanks,




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4555<br>
Sender:Joe Gregorio &lt;joe@...&gt;<br>
Post Date/Time:2004-10-08 20:30:16<br>
Subject:Re: [rest-discuss] GET Request length limitation.<br>
Message:<br><br>
<pre>Bud wrote:

&gt; 
&gt; I am using GET to retrieve bunch of data from the backend, I am using REST.
&gt; As part of my GET request I am attaching a filter object in text/xml
&gt; format well the query sometimes is bigger than what GET request can
&gt; handle which is I guess 2KB of data, how should I solve this problem.
&gt; I am using POST for Creates and Modifys.
&gt; 
&gt;  I guess my only alternative is to put some sort of flag in the
&gt; request and send the request thru POST and at the backend I can check
&gt; for this Flag and perform a GET operation using the POST input.

You might want to take a look at this:

http://lists.w3.org/Archives/Public/www-rdf-interest/2001Aug/0182.html

	-joe

-- 
http://BitWorking.org
http://WellFormedWeb.org


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4556<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2004-10-08 21:06:45<br>
Subject:Re: [rest-discuss] GET Request length limitation.<br>
Message:<br><br>
<pre>FWIW, since that posting I've come to realize that it isn't RESTful
since there's an expectation on behalf of the client that the server
will process the document, interpret it as a query, and return the
results of that query on the response.  And since that expectation
isn't provided by other resources, then the connector semantics aren't
uniform.

It's an ok hack, sure, but better I think, would be indicating that
expectation explicitly in the message (i.e. make it self-descriptive)
via a new method.

Mark.

On Fri, Oct 08, 2004 at 04:30:16PM -0400, Joe Gregorio wrote:
&gt; 
&gt; Bud wrote:
&gt; 
&gt; &gt; 
&gt; &gt; I am using GET to retrieve bunch of data from the backend, I am using REST.
&gt; &gt; As part of my GET request I am attaching a filter object in text/xml
&gt; &gt; format well the query sometimes is bigger than what GET request can
&gt; &gt; handle which is I guess 2KB of data, how should I solve this problem.
&gt; &gt; I am using POST for Creates and Modifys.
&gt; &gt; 
&gt; &gt;  I guess my only alternative is to put some sort of flag in the
&gt; &gt; request and send the request thru POST and at the backend I can check
&gt; &gt; for this Flag and perform a GET operation using the POST input.
&gt; 
&gt; You might want to take a look at this:
&gt; 
&gt; http://lists.w3.org/Archives/Public/www-rdf-interest/2001Aug/0182.html
&gt; 
&gt; 	-joe

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4557<br>
Sender:Joe Gregorio &lt;joe@...&gt;<br>
Post Date/Time:2004-10-09 00:36:51<br>
Subject:Re: [rest-discuss] GET Request length limitation.<br>
Message:<br><br>
<pre>Mark Baker wrote:

&gt; FWIW, since that posting I've come to realize that it isn't RESTful
&gt; since there's an expectation on behalf of the client that the server
&gt; will process the document, interpret it as a query, and return the
&gt; results of that query on the response.  And since that expectation
&gt; isn't provided by other resources, then the connector semantics aren't
&gt; uniform.
&gt; 
&gt; It's an ok hack, sure, but better I think, would be indicating that
&gt; expectation explicitly in the message (i.e. make it self-descriptive)
&gt; via a new method.

I'm not quite sure I understand the problem, are you saying
that there is an implicit expectation of the client
that POSTing will always return the results of the
query instead of just a Location: header of where
to get the results henceforth?

	-joe

-- 
http://BitWorking.org
http://WellFormedWeb.org

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4558<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2004-10-09 03:15:01<br>
Subject:Re: [rest-discuss] GET Request length limitation.<br>
Message:<br><br>
<pre>On Fri, Oct 08, 2004 at 08:36:51PM -0400, Joe Gregorio wrote:
&gt; I'm not quite sure I understand the problem, are you saying
&gt; that there is an implicit expectation of the client
&gt; that POSTing will always return the results of the
&gt; query instead of just a Location: header of where
&gt; to get the results henceforth?

Sorry Joe, I thought this was the query-document-in/results-document-out
idiom, not the separate resource being created.  But no, I have the same
issue with either, a) expecting the query results in the POST response,
and b) expecting the query results in a GET on the returned Location
URI.  The issue is not the mechanism, it's the additional expectation,
since it's not one that can be met by other resources and therefore
neither uniform nor RESTful.  Said another way, I couldn't POST a query
document to any old resource and expect it to understand that I expect
back the results, nor could I assume that anything I got back from an
arbitrary resource was the results of the query document being processed
as a query.

Mark.
-- 
Mark Baker.   Ottawa, Ontario, CANADA.        http://www.markbaker.ca

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4559<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2004-10-09 05:53:28<br>
Subject:Re: [rest-discuss] GET Request length limitation.<br>
Message:<br><br>
<pre>&gt;
&gt; I am using GET to retrieve bunch of data from the backend, I am using
REST.
&gt; As part of my GET request I am attaching a filter object in text/xml
You probably should re-examine the approach of using XML to represent a
filter.
Alternatively, you could create a new 'search' resource via POST, and the
representation of that 'search' would have a link to the results. Using GET
on that 'results' link would perform the query. Modifying the search filter
would be done via a POST to the 'search' resource.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4560<br>
Sender:Chuck Hinson &lt;cmhinson@...&gt;<br>
Post Date/Time:2004-10-09 16:34:26<br>
Subject:Re: [rest-discuss] GET Request length limitation.<br>
Message:<br><br>
<pre>

Mark Baker wrote:
&gt; On Fri, Oct 08, 2004 at 08:36:51PM -0400, Joe Gregorio wrote:
&gt; 
&gt;&gt;I'm not quite sure I understand the problem, are you saying
&gt;&gt;that there is an implicit expectation of the client
&gt;&gt;that POSTing will always return the results of the
&gt;&gt;query instead of just a Location: header of where
&gt;&gt;to get the results henceforth?
&gt; 
&gt; 
&gt; Sorry Joe, I thought this was the query-document-in/results-document-out
&gt; idiom, not the separate resource being created.  But no, I have the same
&gt; issue with either, a) expecting the query results in the POST response,
&gt; and b) expecting the query results in a GET on the returned Location
&gt; URI.  The issue is not the mechanism, it's the additional expectation,
&gt; since it's not one that can be met by other resources and therefore
&gt; neither uniform nor RESTful.  Said another way, I couldn't POST a query
&gt; document to any old resource and expect it to understand that I expect
&gt; back the results, nor could I assume that anything I got back from an
&gt; arbitrary resource was the results of the query document being processed
&gt; as a query.
&gt; 

I'm confused now.  What can I expect after I've POSTed something to a 
resource?

--Chuck


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4561<br>
Sender:Joe Gregorio &lt;joe@...&gt;<br>
Post Date/Time:2004-10-09 18:50:19<br>
Subject:Re: [rest-discuss] GET Request length limitation.<br>
Message:<br><br>
<pre>Mark Baker wrote:
&gt; On Fri, Oct 08, 2004 at 08:36:51PM -0400, Joe Gregorio wrote:
&gt; 
&gt;&gt;I'm not quite sure I understand the problem, are you saying
&gt;&gt;that there is an implicit expectation of the client
&gt;&gt;that POSTing will always return the results of the
&gt;&gt;query instead of just a Location: header of where
&gt;&gt;to get the results henceforth?
&gt; 
&gt; 
&gt; Sorry Joe, I thought this was the query-document-in/results-document-out
&gt; idiom, not the separate resource being created.  But no, I have the same
&gt; issue with either, a) expecting the query results in the POST response,
&gt; and b) expecting the query results in a GET on the returned Location
&gt; URI.  The issue is not the mechanism, it's the additional expectation,
&gt; since it's not one that can be met by other resources and therefore
&gt; neither uniform nor RESTful.  

But in this case it's not being handled by a single
resource but a set of resources, each that behaves
uniformly with respect to the methods used.

Said another way, I couldn't POST a query
&gt; document to any old resource and expect it to understand that I expect
&gt; back the results, nor could I assume that anything I got back from an
&gt; arbitrary resource was the results of the query document being processed
&gt; as a query.

So what do you think would be the most RESTish way to handle this?
	
	-joe

-- 
http://BitWorking.org
http://WellFormedWeb.org

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4562<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2004-10-09 20:27:29<br>
Subject:Re: [rest-discuss] GET Request length limitation.<br>
Message:<br><br>
<pre>On Sat, Oct 09, 2004 at 02:50:19PM -0400, Joe Gregorio wrote:
&gt; &gt;Sorry Joe, I thought this was the query-document-in/results-document-out
&gt; &gt;idiom, not the separate resource being created.  But no, I have the same
&gt; &gt;issue with either, a) expecting the query results in the POST response,
&gt; &gt;and b) expecting the query results in a GET on the returned Location
&gt; &gt;URI.  The issue is not the mechanism, it's the additional expectation,
&gt; &gt;since it's not one that can be met by other resources and therefore
&gt; &gt;neither uniform nor RESTful.  
&gt; 
&gt; But in this case it's not being handled by a single
&gt; resource but a set of resources, each that behaves
&gt; uniformly with respect to the methods used.

The first resource - the one to which the query document is POSTed -
does not present the same interface as other resources because it's
meeting an expectation which other resources do not meet.  If it were
to do it completely self-descriptively, its interface would have
another method, such as "QUERY" or some such which makes the difference
in expectations explicit rather than implicit.

FWIW, this is the same point the "document oriented SOA" proponents have
yet to absorb.

&gt; Said another way, I couldn't POST a query
&gt; &gt;document to any old resource and expect it to understand that I expect
&gt; &gt;back the results, nor could I assume that anything I got back from an
&gt; &gt;arbitrary resource was the results of the query document being processed
&gt; &gt;as a query.
&gt; 
&gt; So what do you think would be the most RESTish way to handle this?

There isn't a way to handle this RESTfully, I don't believe.  That
leaves a handful of "almost RESTful" solutions (including the two I've
outlined), and which one is best certainly depends upon your
application.

I think the idiom I describe in that message you referenced is a good
one because it gives you a URI for the results of a query.  But it also
costs you an extra network round trip.  A superior hybrid approach might
return the query results on the POST response and also provide the URI
via Content-Location.  I haven't tried the hybrid approach though.

Mark.
-- 
Mark Baker.   Ottawa, Ontario, CANADA.        http://www.markbaker.ca

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4563<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2004-10-09 21:33:42<br>
Subject:Re: [rest-discuss] GET Request length limitation.<br>
Message:<br><br>
<pre>Mark Baker wrote:

&gt; The first resource - the one to which the query document is POSTed -
&gt; does not present the same interface as other resources because it's
&gt; meeting an expectation which other resources do not meet.  If it were
&gt; to do it completely self-descriptively, its interface would have
&gt; another method, such as "QUERY" or some such which makes the difference
&gt; in expectations explicit rather than implicit.

Mark,

does that imply that any use of POST that makes expectations beyond any
of the four functions for POST defined by HTTP is breaking the uniform
API?

If so, there is no such thing as a general purpose 'process this' method
and one can imagine a substantial numbers of general methods that make
sense to be widely supported, yes?

Not that this is a bad thing, I am just asking to understand you correctly.

Jan

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4564<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2004-10-10 00:16:16<br>
Subject:Re: [rest-discuss] GET Request length limitation.<br>
Message:<br><br>
<pre>Hi Jan,

On Sat, Oct 09, 2004 at 11:33:42PM +0200, Jan Algermissen wrote:
&gt; does that imply that any use of POST that makes expectations beyond any
&gt; of the four functions for POST defined by HTTP is breaking the uniform
&gt; API?

Practically, probably, though I don't believe those four were meant to
be exhaustive.  But on the other hand, they do seem to cover everything
that I've done with POST, especially the workhorse, #3 ("Providing a
block of data, such as the result of submitting a form, to a
data-handling process").

&gt; If so, there is no such thing as a general purpose 'process this' method
&gt; and one can imagine a substantial numbers of general methods that make
&gt; sense to be widely supported, yes?

All HTTP methods are "general purpose" in a sense, but if you mean
that one can't do everything, then yes, that's true.

&gt; Not that this is a bad thing, I am just asking to understand you correctly.

Right.

Mark.
-- 
Mark Baker.   Ottawa, Ontario, CANADA.        http://www.markbaker.ca

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4565<br>
Sender:"Donald Strong" &lt;dstrong@...&gt;<br>
Post Date/Time:2004-10-11 00:14:55<br>
Subject:RE: [rest-discuss] GET Request length limitation.<br>
Message:<br><br>
<pre>Hi Bud,

I'm still trying to get my head around your problem.

Is this correct?

  You are doing a GET, perhaps with some parameters URL encoded, but
  in addition you are providing a body to the GET in text/xml.

If that is the case then I refer you to a previous posting and I
invite others to please comment.

http://groups.yahoo.com/group/rest-discuss/message/4149

Otherwise I am not sure how you are sending the "filter object"
to the Origen Server using GET semanitcs.

Regards
Donald.


&gt; -----Original Message-----
&gt; From: Bud [mailto:myavatar@...]
&gt; Sent: Saturday, 9 October 2004 6:20 AM
&gt; To: rest-discuss@yahoogroups.com
&gt; Subject: [rest-discuss] GET Request length limitation.
&gt; 
&gt; 
&gt; 
&gt; 
&gt; I am using GET to retrieve bunch of data from the backend, I am 
&gt; using REST.
&gt; As part of my GET request I am attaching a filter object in text/xml
&gt; format well the query sometimes is bigger than what GET request can
&gt; handle which is I guess 2KB of data, how should I solve this problem.
&gt; I am using POST for Creates and Modifys.
&gt; 
&gt;  I guess my only alternative is to put some sort of flag in the
&gt; request and send the request thru POST and at the backend I can check
&gt; for this Flag and perform a GET operation using the POST input.
&gt; 
&gt; Thanks,
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt;  
&gt; Yahoo! Groups Links
&gt; 
&gt; 
&gt; 
&gt;  
&gt; 
&gt; 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4566<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2004-10-13 02:17:18<br>
Subject:Re: [rest-discuss] GET Request length limitation.<br>
Message:<br><br>
<pre>Sorry, I forgot to respond to this ...

On Sat, Oct 09, 2004 at 12:34:26PM -0400, Chuck Hinson wrote:
&gt; I'm confused now.  What can I expect after I've POSTed something to a 
&gt; resource?

If you get a 200 response, you can expect that the document was
processed.

Mark.
-- 
Mark Baker.   Ottawa, Ontario, CANADA.        http://www.markbaker.ca

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4567<br>
Sender:"Donald Strong" &lt;dstrong@...&gt;<br>
Post Date/Time:2004-10-13 07:36:25<br>
Subject:RE: [rest-discuss] GET Request length limitation.<br>
Message:<br><br>
<pre>From message 4566
&gt; &gt; I'm confused now.  What can I expect after I've POSTed something to a 
&gt; &gt; resource?
&gt; 
&gt; If you get a 200 response, you can expect that the document was
&gt; processed.

... and an entity body, otherwise it would be 204 (No content).

From message 4564
&gt;&gt; If so, there is no such thing as a general purpose 'process this' method
&gt;&gt; and one can imagine a substantial numbers of general methods that make
&gt;&gt; sense to be widely supported, yes?
&gt;
&gt; All HTTP methods are "general purpose" in a sense, but if you mean
&gt; that one can't do everything, then yes, that's true.
&gt; 
&gt; &gt; Not that this is a bad thing, I am just asking to understand 
&gt; you correctly.


I am not sure I see where this assertion comes from:
"There is no such thing as a general purpose 'process this' method".

I have included extracts from the HTTP spec below for reference.
I have annotated the relevant sections with letters in the left
margin, eg (a).

(a) (See below)
    States that a block of data can be submitted using the POST method.
    This data may come from a form, but that is not a requirement.
    It may be any block of data generated by a User Agent.

(b) States that one of the options that may be returned as a response
    is a 200 status code AND an entity that describes the result.

So far this supports your assertion, however ...

(c) States that the response to a POST may be an entity containing
    the result of the action. It is not restricted to an entity
    that describes the result of the action as suggested by (b).

This last bit is significant because it suggests that it is OK to send
a block of data to a resource that will process it and get back
the result of the resource performing an action on that data. 
To me that is a general purpose 'process this' method.

Now, I know it is possible to POST to a resource and get back a
response containing the result of an action because I have done it. 
As far as I can tell it is not forbidden by the HTTP spec. If
there is a philosophical objection I am interested to hear it.

I am aware that requests without side effects SHOULD use the GET
method. My question is that assuming all of the other REST guidelines
for the correct use of HTTP are followed, what is wrong with
submitting a block of data to a resource for processing?

Alternatively, what constraints should be applied to such a process 
to maintain a RESTful attitude?

Regards
Donald.


-- Extracts from RFC 2616 ----

9.5 POST

   The POST method is used to request that the origin server accept the
   entity enclosed in the request as a new subordinate of the resource
   identified by the Request-URI in the Request-Line. POST is designed
   to allow a uniform method to cover the following functions:

      - Annotation of existing resources;

      - Posting a message to a bulletin board, newsgroup, mailing list,
        or similar group of articles;

(a)   - Providing a block of data, such as the result of submitting a
        form, to a data-handling process;

      - Extending a database through an append operation.

   The actual function performed by the POST method is determined by the
   server and is usually dependent on the Request-URI. The posted entity
   is subordinate to that URI in the same way that a file is subordinate
   to a directory containing it, a news article is subordinate to a
   newsgroup to which it is posted, or a record is subordinate to a
   database.

(b) The action performed by the POST method might not result in a
   resource that can be identified by a URI. In this case, either 200
   (OK) or 204 (No Content) is the appropriate response status,
   depending on whether or not the response includes an entity that
   describes the result.

   If a resource has been created on the origin server, the response
   SHOULD be 201 (Created) and contain an entity which describes the
   status of the request and refers to the new resource, and a Location
   header (see section 14.30).

   Responses to this method are not cacheable, unless the response
   includes appropriate Cache-Control or Expires header fields. However,
   the 303 (See Other) response can be used to direct the user agent to
   retrieve a cacheable resource.

   POST requests MUST obey the message transmission requirements set out
   in section 8.2.

   See section 15.1.3 for security considerations.


10.2.1 200 OK

   The request has succeeded. The information returned with the response
   is dependent on the method used in the request, for example:

   GET    an entity corresponding to the requested resource is sent in
          the response;

   HEAD   the entity-header fields corresponding to the requested
          resource are sent in the response without any message-body;

(c) POST  an entity describing or containing the result of the action;

   TRACE  an entity containing the request message as received by the
          end server.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4568<br>
Sender:"thompsonbry" &lt;thompsonbry@...&gt;<br>
Post Date/Time:2004-10-19 09:54:52<br>
Subject:Re: GET Request length limitation.<br>
Message:<br><br>
<pre>
Why not GET the URI to which the POST was directed with the URI
of the query document as a URL query parameter?

E.g.,

POST &lt;query-document&gt; to &lt;some-uri&gt;

  ||
  \/

Location: &lt;query-document-uri&gt;

Then do a GET on:

http://www.myorg.org/query-service?queryURI=&lt;query-document-uri&gt;

The queryURI parameter specifies the location of the resource whose
representation is the query that will be answered.

-bryan

--- In rest-discuss@yahoogroups.com, Mark Baker &lt;distobj@a...&gt; wrote:
&gt; On Sat, Oct 09, 2004 at 02:50:19PM -0400, Joe Gregorio wrote:
&gt; &gt; &gt;Sorry Joe, I thought this was the query-document-in/results-
document-out
&gt; &gt; &gt;idiom, not the separate resource being created.  But no, I have 
the same
&gt; &gt; &gt;issue with either, a) expecting the query results in the POST 
response,
&gt; &gt; &gt;and b) expecting the query results in a GET on the returned 
Location
&gt; &gt; &gt;URI.  The issue is not the mechanism, it's the additional 
expectation,
&gt; &gt; &gt;since it's not one that can be met by other resources and 
therefore
&gt; &gt; &gt;neither uniform nor RESTful.  
&gt; &gt; 
&gt; &gt; But in this case it's not being handled by a single
&gt; &gt; resource but a set of resources, each that behaves
&gt; &gt; uniformly with respect to the methods used.
&gt; 
&gt; The first resource - the one to which the query document is POSTed -
&gt; does not present the same interface as other resources because it's
&gt; meeting an expectation which other resources do not meet.  If it 
were
&gt; to do it completely self-descriptively, its interface would have
&gt; another method, such as "QUERY" or some such which makes the 
difference
&gt; in expectations explicit rather than implicit.
&gt; 
&gt; FWIW, this is the same point the "document oriented SOA" proponents 
have
&gt; yet to absorb.
&gt; 
&gt; &gt; Said another way, I couldn't POST a query
&gt; &gt; &gt;document to any old resource and expect it to understand that I 
expect
&gt; &gt; &gt;back the results, nor could I assume that anything I got back 
from an
&gt; &gt; &gt;arbitrary resource was the results of the query document being 
processed
&gt; &gt; &gt;as a query.
&gt; &gt; 
&gt; &gt; So what do you think would be the most RESTish way to handle this?
&gt; 
&gt; There isn't a way to handle this RESTfully, I don't believe.  That
&gt; leaves a handful of "almost RESTful" solutions (including the two 
I've
&gt; outlined), and which one is best certainly depends upon your
&gt; application.
&gt; 
&gt; I think the idiom I describe in that message you referenced is a 
good
&gt; one because it gives you a URI for the results of a query.  But it 
also
&gt; costs you an extra network round trip.  A superior hybrid approach 
might
&gt; return the query results on the POST response and also provide the 
URI
&gt; via Content-Location.  I haven't tried the hybrid approach though.
&gt; 
&gt; Mark.
&gt; -- 
&gt; Mark Baker.   Ottawa, Ontario, CANADA.        
http://www.markbaker.ca




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4569<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2004-10-19 12:17:38<br>
Subject:Querying with POST<br>
Message:<br><br>
<pre>Hi Bryan,

That approach suffers from the same implementation dependency that I
described with the other approaches, namely that there's an expectation
by the client that the query results will be located at the URI
provided in the Location header (even with the URI proxying trick).

On Tue, Oct 19, 2004 at 09:54:52AM -0000, thompsonbry wrote:
&gt; 
&gt; 
&gt; Why not GET the URI to which the POST was directed with the URI
&gt; of the query document as a URL query parameter?
&gt; 
&gt; E.g.,
&gt; 
&gt; POST &lt;query-document&gt; to &lt;some-uri&gt;
&gt; 
&gt;   ||
&gt;   \/
&gt; 
&gt; Location: &lt;query-document-uri&gt;
&gt; 
&gt; Then do a GET on:
&gt; 
&gt; http://www.myorg.org/query-service?queryURI=&lt;query-document-uri&gt;
&gt; 
&gt; The queryURI parameter specifies the location of the resource whose
&gt; representation is the query that will be answered.

Mark.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4570<br>
Sender:Joe Gregorio &lt;joe@...&gt;<br>
Post Date/Time:2004-10-19 12:57:57<br>
Subject:Re: [rest-discuss] Querying with POST<br>
Message:<br><br>
<pre>Mark Baker wrote:
&gt; Hi Bryan,
&gt; 
&gt; That approach suffers from the same implementation dependency that I
&gt; described with the other approaches, namely that there's an expectation
&gt; by the client that the query results will be located at the URI
&gt; provided in the Location header (even with the URI proxying trick).

This brings up a nagging question in the back of head
every time you raise this point. 

  "Are idioms allowed?"

That is, we have GET, PUT, POST and DELETE, our fundamental
ways of dereferencing a URI. We'll assume that we are putting
together nice RESTful services and using all these methods correctly.
What happens when we start combining these dereferences? 

For example:
   POST is used to create new resources
   GET is used to retrieve a representation of a resource

On their own they're RESTful, but combined in the
manner described below for querying, if I understand
you correctly, the whole is not as RESTful.

Two more examples:

The first is mnot's solution to the reliable POST 
problem[1]. (Or Paul Prescod's solution[2].)

The second example is the real reason for the
why this nags at me so much, in the Atom Publishing 
Protocol we are combining operations into idioms,
the most prevalent one being that of a collection[3]:

  POST to a Collection resource to create a new subordinate resource
    (Returns a 201 and the URI of newly created resource returned via Location: header)
  GET on the Collection resource to retrieve a list of the subordinate resources
  GET, PUT and DELETE on the subordinate resources act as expected.
  

[1] http://www.mnot.net/blog/2003/09/13/click_submit_only_once
[2] http://www.prescod.net/reliable_http.html
[3] http://intertwingly.net/wiki/pie/PaceCollectionIdiom

	Thanks,
	-joe

&gt; 
&gt; On Tue, Oct 19, 2004 at 09:54:52AM -0000, thompsonbry wrote:
&gt; 
&gt;&gt;
&gt;&gt;Why not GET the URI to which the POST was directed with the URI
&gt;&gt;of the query document as a URL query parameter?
&gt;&gt;
&gt;&gt;E.g.,
&gt;&gt;
&gt;&gt;POST &lt;query-document&gt; to &lt;some-uri&gt;
&gt;&gt;
&gt;&gt;  ||
&gt;&gt;  \/
&gt;&gt;
&gt;&gt;Location: &lt;query-document-uri&gt;
&gt;&gt;
&gt;&gt;Then do a GET on:
&gt;&gt;
&gt;&gt;http://www.myorg.org/query-service?queryURI=&lt;query-document-uri&gt;
&gt;&gt;
&gt;&gt;The queryURI parameter specifies the location of the resource whose
&gt;&gt;representation is the query that will be answered.
&gt; 
&gt; 
&gt; Mark.



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4571<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2004-10-19 14:04:08<br>
Subject:Re: [rest-discuss] Querying with POST<br>
Message:<br><br>
<pre>Hi Joe,

On Tue, Oct 19, 2004 at 08:57:57AM -0400, Joe Gregorio wrote:
&gt; Mark Baker wrote:
&gt; &gt;Hi Bryan,
&gt; &gt;
&gt; &gt;That approach suffers from the same implementation dependency that I
&gt; &gt;described with the other approaches, namely that there's an expectation
&gt; &gt;by the client that the query results will be located at the URI
&gt; &gt;provided in the Location header (even with the URI proxying trick).
&gt; 
&gt; This brings up a nagging question in the back of head
&gt; every time you raise this point. 
&gt; 
&gt;  "Are idioms allowed?"
&gt; 
&gt; That is, we have GET, PUT, POST and DELETE, our fundamental
&gt; ways of dereferencing a URI. We'll assume that we are putting
&gt; together nice RESTful services and using all these methods correctly.
&gt; What happens when we start combining these dereferences? 
&gt; 
&gt; For example:
&gt;   POST is used to create new resources
&gt;   GET is used to retrieve a representation of a resource
&gt; 
&gt; On their own they're RESTful,

No, the POST invocation isn't RESTful by itself.  In the examples
people have given, the client expects that a particular POST invocation
will result in a resource being created (and furthermore, that this
resource will have a particular relationship to the POSTed
representation).

Sometimes it's hard to see the forest for the trees here.  I've found it
helpful to focus on one of the primary objectives of the uniform
interface; substitutability, i.e. the ability to substitute one service
implementing POST with another service implementing POST.
Query-via-POST fails this test because the expectation about the query
results being returned cannot be provided by other services.  For
example, if one swapped in a resource which spat out the input document
to a printer, then clearly it wouldn't meet the expectation of
performing a query.

&gt; but combined in the
&gt; manner described below for querying, if I understand
&gt; you correctly, the whole is not as RESTful.
&gt; 
&gt; Two more examples:
&gt; 
&gt; The first is mnot's solution to the reliable POST 
&gt; problem[1]. (Or Paul Prescod's solution[2].)

[1] seems fine to me from this POV, though it has the issue that it
creates an unbounded number of identifiers for a single resource (the
order form processor) - but that's likely worth the tradeoff to get the
desirable only-once behaviour without requiring a browser upgrade.

[2] has the same issues I'm discussing here regarding the use of 201.
That's not to say that it isn't workable, only that it isn't purely
RESTful, which tells you that you're making a design tradeoff; is that
tradeoff worth it in this case?  Maybe.

&gt; The second example is the real reason for the
&gt; why this nags at me so much, in the Atom Publishing 
&gt; Protocol we are combining operations into idioms,
&gt; the most prevalent one being that of a collection[3]:
&gt; 
&gt;  POST to a Collection resource to create a new subordinate resource
&gt;    (Returns a 201 and the URI of newly created resource returned via 
&gt;    Location: header)

But is a 201 *expected*?  What if 200 was returned?  Would an Atom
client be able to proceed?

&gt;  GET on the Collection resource to retrieve a list of the subordinate 
&gt;  resources
&gt;  GET, PUT and DELETE on the subordinate resources act as expected.

Those seem fine to me.

&gt; [1] http://www.mnot.net/blog/2003/09/13/click_submit_only_once
&gt; [2] http://www.prescod.net/reliable_http.html
&gt; [3] http://intertwingly.net/wiki/pie/PaceCollectionIdiom

It's all about *expectation*;

http://pluralsight.com/blogs/aaron/archive/2004/08/27/2092.aspx
(ironic, no? 8-)

Mark.
-- 
Mark Baker.   Ottawa, Ontario, CANADA.        http://www.markbaker.ca

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4572<br>
Sender:Joe Gregorio &lt;joe@...&gt;<br>
Post Date/Time:2004-10-19 16:28:34<br>
Subject:Re: [rest-discuss] Querying with POST<br>
Message:<br><br>
<pre>Mark Baker wrote:
&gt; No, the POST invocation isn't RESTful by itself.  In the examples
&gt; people have given, the client expects that a particular POST invocation
&gt; will result in a resource being created (and furthermore, that this
&gt; resource will have a particular relationship to the POSTed
&gt; representation).
&gt; 
&gt; Sometimes it's hard to see the forest for the trees here.  I've found it
&gt; helpful to focus on one of the primary objectives of the uniform
&gt; interface; substitutability, i.e. the ability to substitute one service
&gt; implementing POST with another service implementing POST.
&gt; Query-via-POST fails this test because the expectation about the query
&gt; results being returned cannot be provided by other services.  For
&gt; example, if one swapped in a resource which spat out the input document
&gt; to a printer, then clearly it wouldn't meet the expectation of
&gt; performing a query.

Thanks for taking the time to explain this.
That makes much more sense to me, particulary the
substitutability test, which I may start abbreviating
s14y :)

&gt;&gt;The second example is the real reason for the
&gt;&gt;why this nags at me so much, in the Atom Publishing 
&gt;&gt;Protocol we are combining operations into idioms,
&gt;&gt;the most prevalent one being that of a collection[3]:
&gt;&gt;
&gt;&gt; POST to a Collection resource to create a new subordinate resource
&gt;&gt;   (Returns a 201 and the URI of newly created resource returned via 
&gt;&gt;   Location: header)
&gt; 
&gt; 
&gt; But is a 201 *expected*?  What if 200 was returned?  Would an Atom
&gt; client be able to proceed?

Hrmm. A 201 is expected since a new resource is expected to be
created, but that probably wouldn't stop a client as it could 
proceed and do a GET on the Collection resouce which should 
contain the URI of the newly created resource.

This does give me some ideas on clarifying that section
in the Atom Publishing Protocol[1]. Thanks!


&gt; It's all about *expectation*;
&gt; 
&gt; http://pluralsight.com/blogs/aaron/archive/2004/08/27/2092.aspx
&gt; (ironic, no? 8-)

In a painful-to-read sort of way.

	Thanks,
	-joe

[1] http://bitworking.org/projects/atom/draft-ietf-atompub-protocol-02.html#rfc.section.3.1.3

-- 
http://BitWorking.org
http://WellFormedWeb.org


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4573<br>
Sender:Roy T. Fielding &lt;fielding@...&gt;<br>
Post Date/Time:2004-10-19 17:16:27<br>
Subject:Re: [rest-discuss] Querying with POST<br>
Message:<br><br>
<pre>&gt;&gt; That is, we have GET, PUT, POST and DELETE, our fundamental
&gt;&gt; ways of dereferencing a URI. We'll assume that we are putting
&gt;&gt; together nice RESTful services and using all these methods correctly.
&gt;&gt; What happens when we start combining these dereferences?
&gt;&gt;
&gt;&gt; For example:
&gt;&gt;   POST is used to create new resources
&gt;&gt;   GET is used to retrieve a representation of a resource
&gt;&gt;
&gt;&gt; On their own they're RESTful,
&gt;
&gt; No, the POST invocation isn't RESTful by itself.  In the examples
&gt; people have given, the client expects that a particular POST invocation
&gt; will result in a resource being created (and furthermore, that this
&gt; resource will have a particular relationship to the POSTed
&gt; representation).

Nonsense, Mark.  Of course that is REST -- it is right in the
HTTP standard.  The client is *told* by the server the URI of
the new resource.  The client doesn't need any other expectation than
simply following HTTP.  This is no different from following application
state as presented by links within representations.

&gt; Sometimes it's hard to see the forest for the trees here.  I've found 
&gt; it
&gt; helpful to focus on one of the primary objectives of the uniform
&gt; interface; substitutability, i.e. the ability to substitute one service
&gt; implementing POST with another service implementing POST.
&gt; Query-via-POST fails this test because the expectation about the query
&gt; results being returned cannot be provided by other services.  For
&gt; example, if one swapped in a resource which spat out the input document
&gt; to a printer, then clearly it wouldn't meet the expectation of
&gt; performing a query.

Sorry, that makes no sense.  The interface is substitutable.  Resources
are not substitutable.  Nobody has an expectation that you can replace
one resource with a different resource and have continuation of
semantics.  What you get with REST is an interface that tells you
how it works.  POST is part of that interface when used right.

....Roy


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4574<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2004-10-19 17:54:55<br>
Subject:Re: [rest-discuss] Querying with POST<br>
Message:<br><br>
<pre>On Tue, Oct 19, 2004 at 10:16:27AM -0700, Roy T. Fielding wrote:
&gt; &gt;&gt;That is, we have GET, PUT, POST and DELETE, our fundamental
&gt; &gt;&gt;ways of dereferencing a URI. We'll assume that we are putting
&gt; &gt;&gt;together nice RESTful services and using all these methods correctly.
&gt; &gt;&gt;What happens when we start combining these dereferences?
&gt; &gt;&gt;
&gt; &gt;&gt;For example:
&gt; &gt;&gt;  POST is used to create new resources
&gt; &gt;&gt;  GET is used to retrieve a representation of a resource
&gt; &gt;&gt;
&gt; &gt;&gt;On their own they're RESTful,
&gt; &gt;
&gt; &gt;No, the POST invocation isn't RESTful by itself.  In the examples
&gt; &gt;people have given, the client expects that a particular POST invocation
&gt; &gt;will result in a resource being created (and furthermore, that this
&gt; &gt;resource will have a particular relationship to the POSTed
&gt; &gt;representation).
&gt; 
&gt; Nonsense, Mark.  Of course that is REST -- it is right in the
&gt; HTTP standard.  The client is *told* by the server the URI of
&gt; the new resource.  The client doesn't need any other expectation than
&gt; simply following HTTP.

I don't think you've read the whole discussion, Roy, because that's
part of my point.

Would it have helped if I clarified that from the server's POV, it's
RESTful since uniform semantics are *provided*, but from the client's
it isn't since uniform semantics aren't *expected*?  Or are you saying
that REST doesn't constrain the client end of connectors?  That wouldn't
make much sense to me.

&gt; &gt;Sometimes it's hard to see the forest for the trees here.  I've found 
&gt; &gt;it
&gt; &gt;helpful to focus on one of the primary objectives of the uniform
&gt; &gt;interface; substitutability, i.e. the ability to substitute one service
&gt; &gt;implementing POST with another service implementing POST.
&gt; &gt;Query-via-POST fails this test because the expectation about the query
&gt; &gt;results being returned cannot be provided by other services.  For
&gt; &gt;example, if one swapped in a resource which spat out the input document
&gt; &gt;to a printer, then clearly it wouldn't meet the expectation of
&gt; &gt;performing a query.
&gt; 
&gt; Sorry, that makes no sense.  The interface is substitutable.  Resources
&gt; are not substitutable.  Nobody has an expectation that you can replace
&gt; one resource with a different resource and have continuation of
&gt; semantics.  What you get with REST is an interface that tells you
&gt; how it works.  POST is part of that interface when used right.

Ay carumba, I see I described substitution in terms of implementation.
My bad.  But my point remains; that RESTfully, resources cannot be
expected to process, say, XQuery documents and return the results of the
specified query in the POST response, or in the form of another
resource, or anyplace else for that matter, since providing such an
expectation is not uniform.

Mark.
-- 
Mark Baker.   Ottawa, Ontario, CANADA.        http://www.markbaker.ca

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4575<br>
Sender:sandeep@...<br>
Post Date/Time:2004-10-19 19:11:48<br>
Subject:Re: [rest-discuss] Querying with POST<br>
Message:<br><br>
<pre>Quoting "Roy T. Fielding" &lt;fielding@...&gt;:
&gt; &gt;&gt; For example:
&gt; &gt;&gt;   POST is used to create new resources
&gt; &gt;&gt;   GET is used to retrieve a representation of a resource
&gt; &gt;&gt;
&gt; &gt;&gt; On their own they're RESTful,
&gt; &gt;
&gt; &gt; No, the POST invocation isn't RESTful by itself.  In the examples
&gt; &gt; people have given, the client expects that a particular POST invocation
&gt; &gt; will result in a resource being created (and furthermore, that this
&gt; &gt; resource will have a particular relationship to the POSTed
&gt; &gt; representation).
&gt; 
&gt; Nonsense, Mark.  Of course that is REST -- it is right in the
&gt; HTTP standard.  The client is *told* by the server the URI of
&gt; the new resource.  The client doesn't need any other expectation than
&gt; simply following HTTP.  This is no different from following application
&gt; state as presented by links within representations.

Exactly what I was thinking. The client is not expecting anything except a valid
responce which in this case happens to be a 201 and the client knows exactly
what to do with it.

Also, HTTP 1.1 says
"The fundamental difference between the POST and PUT requests is reflected in
the different meaning of the Request-URI. The URI in a POST request identifies
the resource that will handle the enclosed entity. That resource might be a
data-accepting process, a gateway to some other protocol, or a separate entity
that accepts annotations. In contrast, the URI in a PUT request identifies the
entity enclosed with the request"
- http://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9.6

So a data-accepting process CAN create a new resource as long as you model your
resources while keeping the above difference between the different meanings of
the Request-URI in the POST and PUT requests in mind.

Sandeep

----------------------------------------------------------------

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4576<br>
Sender:sandeep@...<br>
Post Date/Time:2004-10-19 19:29:23<br>
Subject:Re: [rest-discuss] Querying with POST<br>
Message:<br><br>
<pre>Quoting "Roy T. Fielding" &lt;fielding@...&gt;:
&gt; &gt;&gt; For example:
&gt; &gt;&gt;   POST is used to create new resources
&gt; &gt;&gt;   GET is used to retrieve a representation of a resource
&gt; &gt;&gt;
&gt; &gt;&gt; On their own they're RESTful,
&gt; &gt;
&gt; &gt; No, the POST invocation isn't RESTful by itself.  In the examples
&gt; &gt; people have given, the client expects that a particular POST invocation
&gt; &gt; will result in a resource being created (and furthermore, that this
&gt; &gt; resource will have a particular relationship to the POSTed
&gt; &gt; representation).
&gt; 
&gt; Nonsense, Mark.  Of course that is REST -- it is right in the
&gt; HTTP standard.  The client is *told* by the server the URI of
&gt; the new resource.  The client doesn't need any other expectation than
&gt; simply following HTTP.  This is no different from following application
&gt; state as presented by links within representations.

Exactly what I was thinking. The client is not expecting anything except a
valid
responce which in this case happens to be a 201 and the client knows exactly
what to do with it.

Also, HTTP 1.1 says
"The fundamental difference between the POST and PUT requests is reflected in
the different meaning of the Request-URI. The URI in a POST request identifies
the resource that will handle the enclosed entity. That resource might be a
data-accepting process, a gateway to some other protocol, or a separate entity
that accepts annotations. In contrast, the URI in a PUT request identifies the
entity enclosed with the request"
- http://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9.6

So a data-accepting process CAN create a new resource as long as you model your
resources while keeping the above difference between the different meanings of
the Request-URI in the POST and PUT requests in mind.

Sandeep

----------------------------------------------------------------

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4577<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2004-10-19 18:28:24<br>
Subject:Re: [rest-discuss] Querying with POST<br>
Message:<br><br>
<pre>Mark Baker wrote:

&gt; &gt; &gt;No, the POST invocation isn't RESTful by itself.  In the examples
&gt; &gt; &gt;people have given, the client expects that a particular POST invocation
&gt; &gt; &gt;will result in a resource being created (and furthermore, that this
&gt; &gt; &gt;resource will have a particular relationship to the POSTed
&gt; &gt; &gt;representation).
&gt; &gt;
&gt; &gt; Nonsense, Mark.  Of course that is REST -- it is right in the
&gt; &gt; HTTP standard.  The client is *told* by the server the URI of
&gt; &gt; the new resource.  The client doesn't need any other expectation than
&gt; &gt; simply following HTTP.
&gt; 
&gt; I don't think you've read the whole discussion, Roy, because that's
&gt; part of my point.
&gt; 
&gt; Would it have helped if I clarified that from the server's POV, it's
&gt; RESTful since uniform semantics are *provided*, but from the client's
&gt; it isn't since uniform semantics aren't *expected*?  Or are you saying
&gt; that REST doesn't constrain the client end of connectors?  That wouldn't
&gt; make much sense to me.

Mark,

at first glance I'd say that Roy is obviously right, but then I do not expect
that you are simply, obvously wrong. Maybe you are talking past each other?

Why not turn this issue around: What are the expectations a client may make
about a resource that implements POST?

And: aren't your RDFForms essentially a means to augment the allowed expectations
(e.g. to keep you from POSTing a shoe order to a registration service)?

But I guess I am missing some piece in your thinking...?


Jan




-- 
Jan Algermissen
Consultant &amp; Programmer	
http://www.jalgermissen.com

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4578<br>
Sender:Roy T. Fielding &lt;fielding@...&gt;<br>
Post Date/Time:2004-10-19 19:27:59<br>
Subject:Re: [rest-discuss] Querying with POST<br>
Message:<br><br>
<pre>&gt; I don't think you've read the whole discussion, Roy, because that's
&gt; part of my point.

I read it.

&gt; Would it have helped if I clarified that from the server's POV, it's
&gt; RESTful since uniform semantics are *provided*, but from the client's
&gt; it isn't since uniform semantics aren't *expected*?  Or are you saying
&gt; that REST doesn't constrain the client end of connectors?  That 
&gt; wouldn't
&gt; make much sense to me.

No, I am saying that the client receives instructions in the form
of communication with the server.  HTML FORMs are RESTful because
the standard data format HTML contains instructions for how to package
a user-entered form, when to send it, and what method to use.  If the
client has received instructions (via representations or header fields)
that lead it to believe that sending a particular form of query to
a particular URI with a particular method is something that a user
may do from its current state, then a 201 response to that query with
a Location header field is completely defined by the relevant
specifications and entirely RESTful in operation.

In short, if you can draw a state machine in which each state is
self-described (resident on the client), the transitions from
that state are also self-described (instructions for the client
to initiate), and each transition is invoked using a self-descriptive
message, then you have a RESTful application.  All of the rest
of the constraints fall out from the need to be self-descriptive
(i.e., generic methods are necessary because resource-specific
behavior is too complex to be self-descriptive).

Note, however, that it isn't necessary for all components to understand
all of the semantics.  It is only necessary for them to know when they 
do
understand them and also when they do not.  That way, applications can 
be
deployed within the subset of the network that does understand without
adversely impacting the components that do not (assuming they are
implemented according to the communication standards).

&gt; My bad.  But my point remains; that RESTfully, resources cannot be
&gt; expected to process, say, XQuery documents and return the results of 
&gt; the
&gt; specified query in the POST response, or in the form of another
&gt; resource, or anyplace else for that matter, since providing such an
&gt; expectation is not uniform.

They can if the server told the client that such is expected.
Resource expectations are not uniform.  For example, consider
the server-side image map feature that Kevin Hughes developed.
That is an instruction to the client that for URI m, requests
of the form m?x,y will be interpreted as points on the graphical
plane of the embedded image.  The only change necessary to
enable that was a modification to the HTML standard (which was
easy to do back then).

....Roy


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4579<br>
Sender:"Yuri de Wit" &lt;groups@...&gt;<br>
Post Date/Time:2004-10-19 19:21:25<br>
Subject:RE: [rest-discuss] Re: GET Request length limitation.<br>
Message:<br><br>
<pre>

What is the recommended strategy RESTfull approach for dealing with the
lifecycle of queries posted on the server? 

Should posted queries expire after x amount of time or does the client
is responsible for deleting it? Or a combination?

-- yuri

&gt; -----Original Message-----
&gt; From: thompsonbry [mailto:thompsonbry@...]
&gt; Sent: Tuesday, October 19, 2004 5:55 AM
&gt; To: rest-discuss@yahoogroups.com
&gt; Subject: [rest-discuss] Re: GET Request length limitation.
&gt; 
&gt; 
&gt; 
&gt; Why not GET the URI to which the POST was directed with the URI
&gt; of the query document as a URL query parameter?
&gt; 
&gt; E.g.,
&gt; 
&gt; POST &lt;query-document&gt; to &lt;some-uri&gt;
&gt; 
&gt;   ||
&gt;   \/
&gt; 
&gt; Location: &lt;query-document-uri&gt;
&gt; 
&gt; Then do a GET on:
&gt; 
&gt; http://www.myorg.org/query-service?queryURI=&lt;query-document-uri&gt;
&gt; 
&gt; The queryURI parameter specifies the location of the resource whose
&gt; representation is the query that will be answered.
&gt; 
&gt; -bryan
&gt; 
&gt; --- In rest-discuss@yahoogroups.com, Mark Baker &lt;distobj@a...&gt; wrote:
&gt; &gt; On Sat, Oct 09, 2004 at 02:50:19PM -0400, Joe Gregorio wrote:
&gt; &gt; &gt; &gt;Sorry Joe, I thought this was the query-document-in/results-
&gt; document-out
&gt; &gt; &gt; &gt;idiom, not the separate resource being created.  But no, I have
&gt; the same
&gt; &gt; &gt; &gt;issue with either, a) expecting the query results in the POST
&gt; response,
&gt; &gt; &gt; &gt;and b) expecting the query results in a GET on the returned
&gt; Location
&gt; &gt; &gt; &gt;URI.  The issue is not the mechanism, it's the additional
&gt; expectation,
&gt; &gt; &gt; &gt;since it's not one that can be met by other resources and
&gt; therefore
&gt; &gt; &gt; &gt;neither uniform nor RESTful.
&gt; &gt; &gt;
&gt; &gt; &gt; But in this case it's not being handled by a single
&gt; &gt; &gt; resource but a set of resources, each that behaves
&gt; &gt; &gt; uniformly with respect to the methods used.
&gt; &gt;
&gt; &gt; The first resource - the one to which the query document is POSTed -
&gt; &gt; does not present the same interface as other resources because it's
&gt; &gt; meeting an expectation which other resources do not meet.  If it
&gt; were
&gt; &gt; to do it completely self-descriptively, its interface would have
&gt; &gt; another method, such as "QUERY" or some such which makes the
&gt; difference
&gt; &gt; in expectations explicit rather than implicit.
&gt; &gt;
&gt; &gt; FWIW, this is the same point the "document oriented SOA" proponents
&gt; have
&gt; &gt; yet to absorb.
&gt; &gt;
&gt; &gt; &gt; Said another way, I couldn't POST a query
&gt; &gt; &gt; &gt;document to any old resource and expect it to understand that I
&gt; expect
&gt; &gt; &gt; &gt;back the results, nor could I assume that anything I got back
&gt; from an
&gt; &gt; &gt; &gt;arbitrary resource was the results of the query document being
&gt; processed
&gt; &gt; &gt; &gt;as a query.
&gt; &gt; &gt;
&gt; &gt; &gt; So what do you think would be the most RESTish way to handle this?
&gt; &gt;
&gt; &gt; There isn't a way to handle this RESTfully, I don't believe.  That
&gt; &gt; leaves a handful of "almost RESTful" solutions (including the two
&gt; I've
&gt; &gt; outlined), and which one is best certainly depends upon your
&gt; &gt; application.
&gt; &gt;
&gt; &gt; I think the idiom I describe in that message you referenced is a
&gt; good
&gt; &gt; one because it gives you a URI for the results of a query.  But it
&gt; also
&gt; &gt; costs you an extra network round trip.  A superior hybrid approach
&gt; might
&gt; &gt; return the query results on the POST response and also provide the
&gt; URI
&gt; &gt; via Content-Location.  I haven't tried the hybrid approach though.
&gt; &gt;
&gt; &gt; Mark.
&gt; &gt; --
&gt; &gt; Mark Baker.   Ottawa, Ontario, CANADA.
&gt; http://www.markbaker.ca
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; ------------------------ Yahoo! Groups Sponsor
&gt; 
&gt; 
&gt; Yahoo! Groups Links
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 






</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4580<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2004-10-20 01:49:14<br>
Subject:Re: [rest-discuss] Querying with POST<br>
Message:<br><br>
<pre>I'm just going to juggle the ordering a bit ...

On Tue, Oct 19, 2004 at 12:27:59PM -0700, Roy T. Fielding wrote:
&gt; &gt;My bad.  But my point remains; that RESTfully, resources cannot be
&gt; &gt;expected to process, say, XQuery documents and return the results of 
&gt; &gt;the
&gt; &gt;specified query in the POST response, or in the form of another
&gt; &gt;resource, or anyplace else for that matter, since providing such an
&gt; &gt;expectation is not uniform.
&gt; 
&gt; They can if the server told the client that such is expected.
&gt; Resource expectations are not uniform.

Whoa, then what is?!  If connector semantics are uniform, then
expectations must be uniform, no?  I mean, that's what a connector
provides, a contract, a set of expectations.  If the expectations
are other than what is defined by the connector, then it seems to
me that the messages must not be self-descriptive.

What am I missing?

&gt; For example, consider
&gt; the server-side image map feature that Kevin Hughes developed.
&gt; That is an instruction to the client that for URI m, requests
&gt; of the form m?x,y will be interpreted as points on the graphical
&gt; plane of the embedded image.  The only change necessary to
&gt; enable that was a modification to the HTML standard (which was
&gt; easy to do back then).

Hmm, how is the expectation not uniform?  It's just GET, no?  Server
side images seem to be just another kind of form.

Perhaps my use of the word "expectation" confused things.

You also wrote;
&gt; In short, if you can draw a state machine in which each state is
&gt; self-described (resident on the client), the transitions from
&gt; that state are also self-described (instructions for the client
&gt; to initiate), and each transition is invoked using a self-descriptive
&gt; message, then you have a RESTful application.  All of the rest
&gt; of the constraints fall out from the need to be self-descriptive
&gt; (i.e., generic methods are necessary because resource-specific
&gt; behavior is too complex to be self-descriptive).
&gt; 
&gt; Note, however, that it isn't necessary for all components to understand
&gt; all of the semantics.  It is only necessary for them to know when they
&gt; do
&gt; understand them and also when they do not.  That way, applications can
&gt; be
&gt; deployed within the subset of the network that does understand without
&gt; adversely impacting the components that do not (assuming they are
&gt; implemented according to the communication standards).

Understood, but REST specifically prescribes uniform connector
semantics, and to me that means independent of any extension masked
behind a mandatory declaration.  Otherwise, as I see it, you're doing
service specific interfaces, just non self-descriptively.  That is,
it would be more self-descriptive to define and use a new HTTP method
called, say, "PROCESS-AS-QUERY" (with the desired semantics of
returning the query results in the response message) for my XQuery
example.

Mark.
-- 
Mark Baker.   Ottawa, Ontario, CANADA.        http://www.markbaker.ca

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4581<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2004-10-20 07:41:13<br>
Subject:Behaviour Language?<br>
Message:<br><br>
<pre>Hi,

does anyone have an idea if Paul's ideas regarding a 'Web Services
Behaviour Language'[1] have ever evolved into something formal?

RDFForms are obviously solving part of the problem and I'd very much
like to extend Mark's work towards behavior descriptions (especially
with regard to substitutability of resources/services). Thought I'd
check first though, if something similar already exists.

Jan

[1] http://groups.yahoo.com/group/rest-discuss/message/725

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4582<br>
Sender:sandeep@...<br>
Post Date/Time:2004-10-20 12:55:32<br>
Subject:Re: [rest-discuss] Querying with POST<br>
Message:<br><br>
<pre>Hey Mark,

According to
http://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm#sec_5_2_2
"The out-parameters (of a connector interface) consist of response control data,
optional resource metadata, and an optional representation."

Which is the expectation from the connector interface.

Also,
"All REST interactions are stateless. That is, each request contains all of the
information necessary for a connector to understand the request, independent of
any requests that may have preceded it."

So when you say:
"No, the POST invocation isn't RESTful by itself.  In the examples people have
given, the client expects that a particular POST invocation will result in a
resource being created (and furthermore, that this resource will have a
particular relationship to the POSTed representation)."

It is the user that has the expectations and not the client and the
"relationship to the POSTed representation" that you speak off does not exist
as the interaction is stateless. The client is expecting only "response control
data, optional resource metadata, and an optional representation."

Also when you say:
"resources cannot be expected to process, say, XQuery documents and return the
results of the specified query in the POST response, or in the form of another
resource, or anyplace else for that matter, since providing such an expectation
is not uniform."

HTTP doesnt need to know that you are performing a Query-over-POST just as it
does not need to know that you are annotating an existing resources or Posting
a message to a bulletin board.

And according to http://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9
"The actual function performed by the POST method is determined by the server
and is usually dependent on the Request-URI."

and,

"If a resource has been created on the origin server, the response SHOULD be 201
(Created) and contain an entity which describes the status of the request and
refers to the new resource, and a Location header"

The fact that the above statement begins with a "If" itself signifies that the
client does not need to know anything more than dealing with the appropriate
"response control data, optional resource metadata, and an optional
representation" and therefore signifies that the interface is uniform.

Sandeep

----------------------------------------------------------------

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4583<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2004-10-20 16:54:44<br>
Subject:Re: [rest-discuss] Querying with POST<br>
Message:<br><br>
<pre>Hi Sandeep,

On Wed, Oct 20, 2004 at 06:25:32PM +0530, sandeep@... wrote:
&gt; Hey Mark,
&gt; 
&gt; According to
&gt; http://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm#sec_5_2_2
&gt; "The out-parameters (of a connector interface) consist of response control data,
&gt; optional resource metadata, and an optional representation."
&gt; 
&gt; Which is the expectation from the connector interface.

No, it isn't.  The expectation is the semantics, not the mechanism.  So
if there's a connector semantic called "GET_STOCK_QUOTE" which provides
the expectation that when I submit a document which describes an
exchange/symbol tuple, any response I get will necessarily be a quote
for that stock, then that's the expectation I'm talking about.   And if
that's what is expected, then a) the semantic isn't uniform, and b) the
non-uniform semantic isn't made explicit in the message and is therefore
not self-descriptive.

"Document oriented SOA" - which I assume you're a fan of based on this
line of argument - ignores that expectation, but cannot escape from it.
What it recommends is hiding the operation altogether, and just treating
Web services as document exchange endpoints; document in, document out.
What it fails to acknowledge is that Web service clients sending
documents have different expectations per endpoint, and therefore
different (and therefore non-uniform) connector semantics.

&gt; Also,
&gt; "All REST interactions are stateless. That is, each request contains all of the
&gt; information necessary for a connector to understand the request, independent of
&gt; any requests that may have preceded it."
&gt; 
&gt; So when you say:
&gt; "No, the POST invocation isn't RESTful by itself.  In the examples people have
&gt; given, the client expects that a particular POST invocation will result in a
&gt; resource being created (and furthermore, that this resource will have a
&gt; particular relationship to the POSTed representation)."
&gt; 
&gt; It is the user that has the expectations and not the client and the
&gt; "relationship to the POSTed representation" that you speak off does not exist
&gt; as the interaction is stateless. The client is expecting only "response control
&gt; data, optional resource metadata, and an optional representation."

Again, it's the semantics, not the mechanism.

&gt; Also when you say:
&gt; "resources cannot be expected to process, say, XQuery documents and return the
&gt; results of the specified query in the POST response, or in the form of another
&gt; resource, or anyplace else for that matter, since providing such an expectation
&gt; is not uniform."
&gt; 
&gt; HTTP doesnt need to know that you are performing a Query-over-POST just as it
&gt; does not need to know that you are annotating an existing resources or Posting
&gt; a message to a bulletin board.

I'm not sure what you mean by that.  How does HTTP "know" anything?

&gt; And according to http://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9
&gt; "The actual function performed by the POST method is determined by the server
&gt; and is usually dependent on the Request-URI."
&gt; 
&gt; and,
&gt; 
&gt; "If a resource has been created on the origin server, the response SHOULD be 201
&gt; (Created) and contain an entity which describes the status of the request and
&gt; refers to the new resource, and a Location header"
&gt; 
&gt; The fact that the above statement begins with a "If" itself signifies that the
&gt; client does not need to know anything more than dealing with the appropriate
&gt; "response control data, optional resource metadata, and an optional
&gt; representation" and therefore signifies that the interface is uniform.

RESTfully, response messages would be self-descriptive and able to be
interpreted independent of the request message, yes.  But that says
nothing about request semantics which is what is constrained to be
uniform AIUI.

Again, you seem to be focusing on mechanism, not semantics; it goes
without saying that a sender of an HTTP request message should expect
a response message.

Mark.
-- 
Mark Baker.   Ottawa, Ontario, CANADA.        http://www.markbaker.ca

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4584<br>
Sender:"Hugh Winkler" &lt;hughw@...&gt;<br>
Post Date/Time:2004-10-20 17:46:55<br>
Subject:RE: [rest-discuss] Querying with POST<br>
Message:<br><br>
<pre>

Hi all, 

Thanks for this great discussion. May I summarize how it looks from
here:

HTTP GET, PUT, DELETE, and even POST realize uniform semantics. POST
doesn't constrain the semantics very much, because the server can do a
lot of things with the posted message. But ordinary HTTP clients don't
assume anything more than that the result of the POST may be available
in the returned entity or at the URI specified in the Location header.

HTTP permits a certain class of client applications to operate against
arbitrary servers in exactly the same way. When those clients POST, they
would not presume that the server will return the Location of query
results. They might, however, retrieve the representation from the 201
created Location, should the server return that, and render it for the
user. They could not process the response more intelligently than that.

If you write a client application that presumes the resource returned in
the Location header is a query result, and attempt to do further
processing based on that presumption, your client will fail against
arbitrary resources. Or rather, the server may happily respond with 200
or 201 but your client will have to further process the response to
determine whether the invocation really succeeded, before processing it
as a query result.

Mark suggests a new interface, adding the QUERY-WITH-POST method to the
usual HTTP methods. If you want to write a client that can operate
against arbitrary resources, and presume the response will be a query
result it can process, you would have to use that new method. If the
server responds 200 or 201 in that case, you can process the response as
a query. This interface exposes uniform semantics to all such clients.
This approach seems the most robust way for Bud (the original poster on
the thread) to implement his query.


Hugh







</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4585<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2004-10-21 00:52:57<br>
Subject:Re: [rest-discuss] Querying with POST<br>
Message:<br><br>
<pre>On Wed, Oct 20, 2004 at 12:46:55PM -0500, Hugh Winkler wrote:
&gt; If you write a client application that presumes the resource returned in
&gt; the Location header is a query result, and attempt to do further
&gt; processing based on that presumption, your client will fail against
&gt; arbitrary resources.

Yes, that's exactly my point.  Thanks, Hugh.

&gt; Mark suggests a new interface, adding the QUERY-WITH-POST method to the
&gt; usual HTTP methods. If you want to write a client that can operate
&gt; against arbitrary resources, and presume the response will be a query
&gt; result it can process, you would have to use that new method. If the
&gt; server responds 200 or 201 in that case, you can process the response as
&gt; a query. This interface exposes uniform semantics to all such clients.
&gt; This approach seems the most robust way for Bud (the original poster on
&gt; the thread) to implement his query.

Well, I'm not sure about that.  In a greenfield situation, certainly,
but I expect he's got to deal with established browsers, clients,
servers, toolkits etc.. which might make using a new HTTP method
awkward, difficult, or impossible.  But at least the architectural
ideal has been identified, which permits one to more easily see the
tradeoffs being made with alternate solutions.

Mark.
-- 
Mark Baker.   Ottawa, Ontario, CANADA.        http://www.markbaker.ca

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4586<br>
Sender:Joe Gregorio &lt;joe@...&gt;<br>
Post Date/Time:2004-10-21 14:11:00<br>
Subject:Re: [rest-discuss] Querying with POST<br>
Message:<br><br>
<pre>Mark Baker wrote:
&gt; Hi Sandeep,
&gt; 
&gt; On Wed, Oct 20, 2004 at 06:25:32PM +0530, sandeep@... wrote:
&gt; 
&gt;&gt;Hey Mark,
&gt;&gt;
&gt;&gt;According to
&gt;&gt;http://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm#sec_5_2_2
&gt;&gt;"The out-parameters (of a connector interface) consist of response control data,
&gt;&gt;optional resource metadata, and an optional representation."
&gt;&gt;
&gt;&gt;Which is the expectation from the connector interface.
&gt; 
&gt; 
&gt; No, it isn't.  The expectation is the semantics, not the mechanism.  So
&gt; if there's a connector semantic called "GET_STOCK_QUOTE" which provides
&gt; the expectation that when I submit a document which describes an
&gt; exchange/symbol tuple, any response I get will necessarily be a quote
&gt; for that stock, then that's the expectation I'm talking about.   And if
&gt; that's what is expected, then a) the semantic isn't uniform, and b) the
&gt; non-uniform semantic isn't made explicit in the message and is therefore
&gt; not self-descriptive.

I'm confused as to what's supposed to be self-descriptive, the
sematics of the service, or merely how to dereference a URI
based on hypertext.

For example, let's talk about buying books from Amazon. To simplify
the case I will assume I have one-click purchasing turned on. What
happens then is that with a single POST of x-www-form-urlencoded
data I can purchase a book. (In the process at least two new URIs
are created, one to reflect my purchase and another to track
the shipment.)

Were I to POST that same x-www-form-urlencoded data to a different 
server (google, ebay, etc) I probably wouldn't purchase a book. 
Does that imply that to be perfectly RESTful we should have a new
method, "PURCHASE_BOOK", that carries the sematics of book purchasing
in a uniform manner? Or does some of the 'self descriptive' nature 
come from the use of HTML and it's use of forms to describe the
data to be sent to a URI that accepts x-www-form-urlencoded data?

	Thanks,
	-joe

-- 
http://BitWorking.org
http://WellFormedWeb.org


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4587<br>
Sender:"Jeffrey Winter" &lt;JeffreyWinter@...&gt;<br>
Post Date/Time:2004-10-21 14:18:22<br>
Subject:RE: [rest-discuss] Querying with POST<br>
Message:<br><br>
<pre>
&gt;&gt; If you write a client application that presumes the resource returned
in
&gt;&gt; the Location header is a query result, and attempt to do further
&gt;&gt; processing based on that presumption, your client will fail against
&gt;&gt; arbitrary resources.

&gt; Yes, that's exactly my point.  Thanks, Hugh.

What sort of "client" application could you be talking about, other 
than some thin-client - like a web-browser or directory explorer - which

doesn't expect to be doing any processing?  I wouldn't expect to be 
able to point at some arbitrary resource and get anything done.

What you've outlined seems to go way beyond what Fielding defines
"substitutability" to be.

&gt; But at least the architectural
&gt; ideal has been identified, which permits one to more easily see the
&gt; tradeoffs being made with alternate solutions.

You seem to be saying that any client-side application that is
hard-coded
to process a specific response ideally should use a new method.  How is
this any different from RPC then?


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4588<br>
Sender:sandeep@...<br>
Post Date/Time:2004-10-21 16:26:41<br>
Subject:Re: [rest-discuss] Querying with POST<br>
Message:<br><br>
<pre>
Hey Mark and Hugh,

You guys seem to be using client and connector interchangeably. A client (if by
that you mean a client application like a browser) is a component in REST and
is different from a connector. A connector presents an abstract interface for
component communication, the generality of which enables substitutability: if
the users' only access to the system is via an abstract interface, the
IMPLEMENTATION can be replaced without impacting the users.

Now, resources can change over time but the semantics of the conceptual mapping
to a set of entities is required to be static, since the semantics is what
distinguishes one resource from another.

From what I understand, you guys are confusing the semantics of a request (as
indicated by standard methods and media types) with the semantics of the
mapping to a set of entities that is a resource.

I think, this is what Roy meant in an earlier mail when he said:
"The interface is substitutable. Resources are not substitutable. Nobody has an
expectation that you can replace one resource with a different resource and
have continuation of semantics."

In the case of performing a query over POST, the semantics of the request and
therefore of the interaction between the components are uniform because nothing
in the response control data was non-uniform and completely covered in REST.

Note that REST does not say anything about resource expectations being uniform,
it just talks constrains connector/component interfaces.

So when you say:
"If you write a client application that presumes the resource returned in the
Location header is a query result, and attempt to do further processing based
on that presumption, your client will fail against arbitrary resources."

What you guys are talking about is the semantics of the mapping to a set of
entities that is a resource and not the semantics of the interface.

That's like saying that if I expect a java applet from a GET request to a
specific resource I should expect a java applet at any other arbitrary
resource!

What am I missing?

Mark: I am not a fan of SOA!
Hugh: Any luck finding Sarge?

Sandeep

----------------------------------------------------------------

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4589<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2004-10-21 15:23:00<br>
Subject:Re: [rest-discuss] Querying with POST<br>
Message:<br><br>
<pre>On Thu, Oct 21, 2004 at 10:18:22AM -0400, Jeffrey Winter wrote:
&gt; 
&gt; &gt;&gt; If you write a client application that presumes the resource returned
&gt; in
&gt; &gt;&gt; the Location header is a query result, and attempt to do further
&gt; &gt;&gt; processing based on that presumption, your client will fail against
&gt; &gt;&gt; arbitrary resources.
&gt; 
&gt; &gt; Yes, that's exactly my point.  Thanks, Hugh.
&gt; 
&gt; What sort of "client" application could you be talking about, other 
&gt; than some thin-client - like a web-browser or directory explorer - which
&gt; doesn't expect to be doing any processing?  I wouldn't expect to be 
&gt; able to point at some arbitrary resource and get anything done.

Well, not anything, at least not yet.  But in the context of what REST's
constraints alone enable, you can, for example, get data from all
resources (at least those that answer GET, which is practically all of
them).  wget and curl are examples of (largely) RESTful clients, as are
spiders, proxies, etc..

&gt; What you've outlined seems to go way beyond what Fielding defines
&gt; "substitutability" to be.

I don't think so.

&gt; &gt; But at least the architectural
&gt; &gt; ideal has been identified, which permits one to more easily see the
&gt; &gt; tradeoffs being made with alternate solutions.
&gt; 
&gt; You seem to be saying that any client-side application that is
&gt; hard-coded
&gt; to process a specific response ideally should use a new method.

To be self-descriptive by describing its expectations in the message,
yes.

&gt;  How is
&gt; this any different from RPC then?

It's not.  Erm, well, it's actually *worse* than RPC; it's non
self-descriptive RPC.  That was my point when I responded to Roy saying
that it's a slippery slope towards services specific interfaces, even
if previous information gathered from the server told a client something
about the service which provided this expectation, and even if the
client's resultant message had this expectation marked a mandatory
extension.  I believe that such communication should be constrained to
informing the client of *extended* expectations, not entirely new
non-uniform semantics.

FWIW, I've spent an unhealthy amount of time pondering, specifying[2],
and implementing[3], the intricacies of this exact issue over the past
three or so years, so I'm fairly confident I'm on solid ground.  Then
again, Roy's ripped me a new one on more than one occasion. 8-) ... in
fact, what lead me to begin my investigation was one such ripping[4].
8-)

 [1] http://www.markbaker.ca/2003/05/RDF-Forms/
 [2] http://www.markbaker.ca/2003/05/RDF-Forms/
 [3] http://www.nanometrics.ca/images/PDF%20files/Taurus2.pdf
 [4] http://www.xent.com/pipermail/fork/2001-September/004712.html

Mark.
-- 
Mark Baker.   Ottawa, Ontario, CANADA.        http://www.markbaker.ca

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4590<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2004-10-21 16:29:40<br>
Subject:Re: [rest-discuss] Querying with POST<br>
Message:<br><br>
<pre>Mark,

Mark Baker wrote:

&gt; But in the context of what REST's
&gt; constraints alone enable, you can, for example, get data from all
&gt; resources (at least those that answer GET, which is practically all of
&gt; them).  wget and curl are examples of (largely) RESTful clients, as are
&gt; spiders, proxies, etc..

I am not sure if HTTP POST isn't too general to allow similar uniform
expectations as described above. In [1] you *seem* to differentiate three
expectations on POST accepting resources yourself:

1. Composite state resources
2. Identity-preserving composite state resources
3. Processing resources

I understand how the query scenario is a specific specialization of, hmm, 3.
above, but I actually do not understand how it differs from POSTing
a purchase order and expecting the returned Location: URI to identify
the newly created purchase order resource.

Given the three resource 'types' above, I wonder

- in what sense they allow a uniform expectation and what it is that *every*
  user agent can expect doing a POST

- how the query scenario is an extension of the above differentiation that
  breaks this uniform expectation

Anyhow, I have a hunch that you are saying the right thing, I maybe just don't look
at it the right way...

Jan


[1] http://www.markbaker.ca/2001/09/draft-baker-http-resource-state-model-01.txt
 
&gt; 
&gt; &gt; What you've outlined seems to go way beyond what Fielding defines
&gt; &gt; "substitutability" to be.
&gt; 
&gt; I don't think so.
&gt; 
&gt; &gt; &gt; But at least the architectural
&gt; &gt; &gt; ideal has been identified, which permits one to more easily see the
&gt; &gt; &gt; tradeoffs being made with alternate solutions.
&gt; &gt;
&gt; &gt; You seem to be saying that any client-side application that is
&gt; &gt; hard-coded
&gt; &gt; to process a specific response ideally should use a new method.
&gt; 
&gt; To be self-descriptive by describing its expectations in the message,
&gt; yes.
&gt; 
&gt; &gt;  How is
&gt; &gt; this any different from RPC then?
&gt; 
&gt; It's not.  Erm, well, it's actually *worse* than RPC; it's non
&gt; self-descriptive RPC.  That was my point when I responded to Roy saying
&gt; that it's a slippery slope towards services specific interfaces, even
&gt; if previous information gathered from the server told a client something
&gt; about the service which provided this expectation, and even if the
&gt; client's resultant message had this expectation marked a mandatory
&gt; extension.  I believe that such communication should be constrained to
&gt; informing the client of *extended* expectations, not entirely new
&gt; non-uniform semantics.
&gt; 
&gt; FWIW, I've spent an unhealthy amount of time pondering, specifying[2],
&gt; and implementing[3], the intricacies of this exact issue over the past
&gt; three or so years, so I'm fairly confident I'm on solid ground.  Then
&gt; again, Roy's ripped me a new one on more than one occasion. 8-) ... in
&gt; fact, what lead me to begin my investigation was one such ripping[4].
&gt; 8-)
&gt; 
&gt;  [1] http://www.markbaker.ca/2003/05/RDF-Forms/
&gt;  [2] http://www.markbaker.ca/2003/05/RDF-Forms/
&gt;  [3] http://www.nanometrics.ca/images/PDF%20files/Taurus2.pdf
&gt;  [4] http://www.xent.com/pipermail/fork/2001-September/004712.html
&gt; 
&gt; Mark.
&gt; --
&gt; Mark Baker.   Ottawa, Ontario, CANADA.        http://www.markbaker.ca
&gt; 
&gt; 
&gt; 
&gt; Yahoo! Groups Links
&gt; 
&gt; 
&gt; 
&gt; 

-- 
Jan Algermissen
Consultant &amp; Programmer	
http://www.jalgermissen.com

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4591<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2004-10-21 16:43:05<br>
Subject:Re: [rest-discuss] Querying with POST<br>
Message:<br><br>
<pre>On Thu, Oct 21, 2004 at 11:26:41AM -0500, sandeep@... wrote:
&gt; Hey Mark and Hugh,
&gt; 
&gt; You guys seem to be using client and connector interchangeably.

Hmm, I don't think so, though it's certainly possible I might have
muffed some wording someplace.

&gt; A client (if by
&gt; that you mean a client application like a browser) is a component in REST and
&gt; is different from a connector. A connector presents an abstract interface for
&gt; component communication, the generality of which enables substitutability:

Right.

&gt; if
&gt; the users' only access to the system is via an abstract interface, the
&gt; IMPLEMENTATION can be replaced without impacting the users.

Well, implementation substitution will result in a different application
which should "impact the users", but I suspect you just misspoke there.

&gt; Now, resources can change over time but the semantics of the conceptual mapping
&gt; to a set of entities is required to be static, since the semantics is what
&gt; distinguishes one resource from another.
&gt; 
&gt; &gt;From what I understand, you guys are confusing the semantics of a request (as
&gt; indicated by standard methods and media types) with the semantics of the
&gt; mapping to a set of entities that is a resource.
&gt; 
&gt; I think, this is what Roy meant in an earlier mail when he said:
&gt; "The interface is substitutable. Resources are not substitutable. Nobody has an
&gt; expectation that you can replace one resource with a different resource and
&gt; have continuation of semantics."

Right, that's what I assumed he meant.  Like I said above, you've
composed a new application; "different stuff happens", so to speak.

&gt; In the case of performing a query over POST, the semantics of the request and
&gt; therefore of the interaction between the components are uniform because nothing
&gt; in the response control data was non-uniform and completely covered in REST.
&gt; 
&gt; Note that REST does not say anything about resource expectations being uniform,
&gt; it just talks constrains connector/component interfaces.

Of course.

&gt; So when you say:
&gt; "If you write a client application that presumes the resource returned in the
&gt; Location header is a query result, and attempt to do further processing based
&gt; on that presumption, your client will fail against arbitrary resources."
&gt; 
&gt; What you guys are talking about is the semantics of the mapping to a set of
&gt; entities that is a resource and not the semantics of the interface.

Nope, we're definitely talking about the interface, and specifically a
nuance of POST semantics.

&gt; That's like saying that if I expect a java applet from a GET request to a
&gt; specific resource I should expect a java applet at any other arbitrary
&gt; resource!

Yes, that would be very silly!

&gt; What am I missing?

Hopefully that's explained in one of my other messages on this subject.
I'm not sure I could do a better job at explaining it by trying again.

&gt; Mark: I am not a fan of SOA!

My mistake!  No offense intended. 8-)

Mark.
-- 
Mark Baker.   Ottawa, Ontario, CANADA.        http://www.markbaker.ca

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4592<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2004-10-21 17:29:16<br>
Subject:Re: [rest-discuss] Querying with POST<br>
Message:<br><br>
<pre>On Thu, Oct 21, 2004 at 06:29:40PM +0200, Jan Algermissen wrote:
&gt; I understand how the query scenario is a specific specialization of, hmm, 3.
&gt; above, but I actually do not understand how it differs from POSTing
&gt; a purchase order and expecting the returned Location: URI to identify
&gt; the newly created purchase order resource.

Great question!

As I see it, the latter expectation can be declared as a (mandatory)
extension of POST semantics while remaining uniform, while the former
cannot, for all the reasons I've given previously.

&gt; Given the three resource 'types' above, I wonder
&gt; 
&gt; - in what sense they allow a uniform expectation and what it is that *every*
&gt;   user agent can expect doing a POST

I believe that all of the extended expectations provided by those three
types can be done uniformly.

&gt; - how the query scenario is an extension of the above differentiation that
&gt;   breaks this uniform expectation

Because it requires a non-uniform expectation.  Roy's right that
declaring it with a mandatory extension would alleviate the problem of
resources processing the request when they shouldn't, but IMO the
request still needs to have uniform semantics in order to be RESTful.

Mark.
-- 
Mark Baker.   Ottawa, Ontario, CANADA.        http://www.markbaker.ca

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4593<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2004-10-22 04:49:41<br>
Subject:Re: [rest-discuss] Querying with POST<br>
Message:<br><br>
<pre>On Thu, Oct 21, 2004 at 10:11:00AM -0400, Joe Gregorio wrote:
&gt; I'm confused as to what's supposed to be self-descriptive, the
&gt; sematics of the service, or merely how to dereference a URI
&gt; based on hypertext.

Sorry if that was unclear, but it's the message that should be
self-descriptive (per REST, of course).

&gt; For example, let's talk about buying books from Amazon. To simplify
&gt; the case I will assume I have one-click purchasing turned on. What
&gt; happens then is that with a single POST of x-www-form-urlencoded
&gt; data I can purchase a book. (In the process at least two new URIs
&gt; are created, one to reflect my purchase and another to track
&gt; the shipment.)
&gt;
&gt; Were I to POST that same x-www-form-urlencoded data to a different 
&gt; server (google, ebay, etc) I probably wouldn't purchase a book. 
&gt; Does that imply that to be perfectly RESTful we should have a new
&gt; method, "PURCHASE_BOOK", that carries the sematics of book purchasing
&gt; in a uniform manner?

No.  The difference here, I believe, is between the following two
application semantics;

  "Purchase a book"

  "Process this document as if you were a book order processor"

The former, as you note, would map to HTTP with a new method (but that
wouldn't be RESTful since it isn't uniform, though it would be more
self-descriptive).  The latter would map to HTTP POST with a header
(mandatory, due to deployment issues) declaring that the expected
role/type of the resource identified by the Request-URI, is that of a
book order processor.

Mark.
-- 
Mark Baker.   Ottawa, Ontario, CANADA.        http://www.markbaker.ca

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4594<br>
Sender:Roy T. Fielding &lt;fielding@...&gt;<br>
Post Date/Time:2004-10-22 07:54:13<br>
Subject:Re: [rest-discuss] Querying with POST<br>
Message:<br><br>
<pre>&gt; Because it requires a non-uniform expectation.  Roy's right that
&gt; declaring it with a mandatory extension would alleviate the problem of
&gt; resources processing the request when they shouldn't, but IMO the
&gt; request still needs to have uniform semantics in order to be RESTful.

We've had this kind of discussion before, Mark.  You have invented
a constraint that does not exist in either the Web or my dissertation,
and are saying it defines RESTful.  Sorry, you simply cannot say that.
You can say that REST + Mark's constraint is a better design, but
you can't say that REST contains a restriction unless it actually
appeared in my dissertation (because REST is the name given to the
architectural style described there, not some general philosophy
of design that changes over time). Otherwise, you'll drive me insane.

The expectation in REST is defined by the user agent's current
application state, which comes from the current set of representations
that created that state (e.g., the current Web page), the type
of user agent being used, and the specific configuration for
that user.  Browsers know how to traverse Web pages because HTML
and URIs tell them how to do so.  Browsers will know how to
traverse super-duper-query resources because the representation type
that links to those resources, along with URIs, will presumably tell
them how to do so in the same way that &lt;img src=".."&gt; tells them
how to process in-line images.

In any case, 201 with a Location header field is a generic response
that doesn't require any special expectation to process.  Retrieving
that URI using a GET will give the browser a representation of the
newly identified resource (it might even have multiple representations
that are negotiated via Accept).  Assuming that there isn't any special
metadata provided along with that resource, the only one who will
know that it represents the query results of the previous POST is
the user, which is fine because nobody else needs to know!
Everyone else just thinks of it as a new resource.

It is still REST because all of REST's constraints are being obeyed:
the application state remains on the browser, the messages are
self-descriptive and stateless, and the representations (eventually)
have standardized media types.  Using POST does have the drawback
that external caching is not possible for the initial query, but
such things are rarely cached right now anyway.  In any case,
lack of GET-based caching does not mean it is less RESTful --
it only means that it is less efficient.

REST is, first and foremost, a way to understand and communicate
the properties of the Web circa 1999 or so.  It could not do so
if it somehow excluded things like HTML forms and POST.

....Roy


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4595<br>
Sender:Roy T. Fielding &lt;fielding@...&gt;<br>
Post Date/Time:2004-10-22 08:19:45<br>
Subject:Re: [rest-discuss] Querying with POST<br>
Message:<br><br>
<pre>On Oct 20, 2004, at 10:46 AM, Hugh Winkler wrote:
&gt; Thanks for this great discussion. May I summarize how it looks from
&gt; here:
&gt;
&gt; HTTP GET, PUT, DELETE, and even POST realize uniform semantics. POST
&gt; doesn't constrain the semantics very much, because the server can do a
&gt; lot of things with the posted message. But ordinary HTTP clients don't
&gt; assume anything more than that the result of the POST may be available
&gt; in the returned entity or at the URI specified in the Location header.
&gt;
&gt; HTTP permits a certain class of client applications to operate against
&gt; arbitrary servers in exactly the same way. When those clients POST, 
&gt; they
&gt; would not presume that the server will return the Location of query
&gt; results. They might, however, retrieve the representation from the 201
&gt; created Location, should the server return that, and render it for the
&gt; user. They could not process the response more intelligently than that.
&gt;
&gt; If you write a client application that presumes the resource returned 
&gt; in
&gt; the Location header is a query result, and attempt to do further
&gt; processing based on that presumption, your client will fail against
&gt; arbitrary resources. Or rather, the server may happily respond with 200
&gt; or 201 but your client will have to further process the response to
&gt; determine whether the invocation really succeeded, before processing it
&gt; as a query result.

Good summary, but it should be clear that if such were true, it would
be unnecessary for REST to include the concept of hypertext as the
engine of application state.  The above completely ignores the role
of representations in determining the available set of actions,
and describing their semantics, such that the user agent can know
how to interact with the identified resources.

The fact that an occasional in-line image request doesn't actually
result in an image typed representation is an error, but one that
is easily detected by the client.  We would never consider disallowing
such requests simply because the resource might not correspond to what
the browser expects.  The notion that REST-based user agents can't
have expectations of a resource is clearly false.

&gt; Mark suggests a new interface, adding the QUERY-WITH-POST method to the
&gt; usual HTTP methods. If you want to write a client that can operate
&gt; against arbitrary resources, and presume the response will be a query
&gt; result it can process, you would have to use that new method. If the
&gt; server responds 200 or 201 in that case, you can process the response 
&gt; as
&gt; a query. This interface exposes uniform semantics to all such clients.
&gt; This approach seems the most robust way for Bud (the original poster on
&gt; the thread) to implement his query.

Except that it has nothing to do with REST.  REST would say that the
200 response can be processed however the client likes.  A 201 response,
however, says that a new resource has been created as a result of
processing the request -- a client will always use GET on that new
resource and may process it however the client wants, provided that
it understands the media type.  The client does not need anyone's
permission to go from one state to the next.

Using a different method has no value here because the total semantics
of the original request is "process this".  GET would be a better
choice if the query is amenable to being translated into a URI, but
when it is not there is no harm in using POST.

....Roy


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4596<br>
Sender:sandeep@...<br>
Post Date/Time:2004-10-22 10:23:14<br>
Subject:Re: [rest-discuss] Querying with POST<br>
Message:<br><br>
<pre>Hey Mark,

Quoting Mark Baker &lt;distobj@...&gt;:
&gt; &gt; You guys seem to be using client and connector interchangeably.
&gt; 
&gt; Hmm, I don't think so, though it's certainly possible I might have
&gt; muffed some wording someplace.
&gt; 
&gt; &gt; A client (if by
&gt; &gt; that you mean a client application like a browser) is a component in REST
&gt; and
&gt; &gt; is different from a connector. A connector presents an abstract interface
&gt; for
&gt; &gt; component communication, the generality of which enables substitutability:
&gt; 
&gt; Right.
&gt; 
&gt; &gt; if
&gt; &gt; the users' only access to the system is via an abstract interface, the
&gt; &gt; IMPLEMENTATION can be replaced without impacting the users.
&gt; 
&gt; Well, implementation substitution will result in a different application
&gt; which should "impact the users", but I suspect you just misspoke there.


No. I quoted verbatim from the dissertation:
http://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm#sec_5_2_2

You are again using the words client application and connector interchangeably!
Substitutability applies to the CONNECTOR and not the CLIENT APPLICATION which
happens to be a COMPONENT in REST.
Implementation substitution does not necessarily mean a different application!
If I have an application that uses a specific API and I then go and change the
implementation of that API, note that I said implementation and not the
interface, that does not change the application because the application still
has the same API to deal with. It's just the internal implementation that has
changed.


&gt; &gt; Now, resources can change over time but the semantics of the conceptual
&gt; mapping
&gt; &gt; to a set of entities is required to be static, since the semantics is what
&gt; &gt; distinguishes one resource from another.
&gt; &gt; 
&gt; &gt; &gt;From what I understand, you guys are confusing the semantics of a request
&gt; (as
&gt; &gt; indicated by standard methods and media types) with the semantics of the
&gt; &gt; mapping to a set of entities that is a resource.
&gt; &gt; 
&gt; &gt; I think, this is what Roy meant in an earlier mail when he said:
&gt; &gt; "The interface is substitutable. Resources are not substitutable. Nobody
&gt; has an
&gt; &gt; expectation that you can replace one resource with a different resource
&gt; and
&gt; &gt; have continuation of semantics."
&gt; 
&gt; Right, that's what I assumed he meant.  Like I said above, you've
&gt; composed a new application; "different stuff happens", so to speak.


Right! What you are talking about ARE different applications which has nothing
to do with REST. REST doesn't tell you what your application should do, as long
as "all of REST's constraints are being obeyed" like Roy says.

"Different stuff can happen" as long as it is not happening between
components/connectors which are constrained by REST but between the component
and the its consumer.


&gt; &gt; In the case of performing a query over POST, the semantics of the request
&gt; and
&gt; &gt; therefore of the interaction between the components are uniform because
&gt; nothing
&gt; &gt; in the response control data was non-uniform and completely covered in
&gt; REST.
&gt; &gt; 
&gt; &gt; Note that REST does not say anything about resource expectations being
&gt; uniform,
&gt; &gt; it just talks constrains connector/component interfaces.
&gt; 
&gt; Of course.
&gt; 
&gt; &gt; So when you say:
&gt; &gt; "If you write a client application that presumes the resource returned in
&gt; the
&gt; &gt; Location header is a query result, and attempt to do further processing
&gt; based
&gt; &gt; on that presumption, your client will fail against arbitrary resources."
&gt; &gt; 
&gt; &gt; What you guys are talking about is the semantics of the mapping to a set
&gt; of
&gt; &gt; entities that is a resource and not the semantics of the interface.
&gt; 
&gt; Nope, we're definitely talking about the interface, and specifically a
&gt; nuance of POST semantics.


I still think you are confusing the two.


&gt; &gt; That's like saying that if I expect a java applet from a GET request to a
&gt; &gt; specific resource I should expect a java applet at any other arbitrary
&gt; &gt; resource!
&gt; 
&gt; Yes, that would be very silly!


Yet, that is exactly what you are saying from my perspective.


Sandeep

----------------------------------------------------------------

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4597<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2004-10-22 12:34:50<br>
Subject:Re: [rest-discuss] Querying with POST<br>
Message:<br><br>
<pre>On Fri, Oct 22, 2004 at 12:54:13AM -0700, Roy T. Fielding wrote:
&gt; &gt;Because it requires a non-uniform expectation.  Roy's right that
&gt; &gt;declaring it with a mandatory extension would alleviate the problem of
&gt; &gt;resources processing the request when they shouldn't, but IMO the
&gt; &gt;request still needs to have uniform semantics in order to be RESTful.
&gt; 
&gt; We've had this kind of discussion before, Mark.

Yes, I sent a pointer earlier to our last discussion.  I've learned a
lot since then. 8-)

&gt;  You have invented
&gt; a constraint that does not exist in either the Web or my dissertation,
&gt; and are saying it defines RESTful.  Sorry, you simply cannot say that.
&gt; You can say that REST + Mark's constraint is a better design, but
&gt; you can't say that REST contains a restriction unless it actually
&gt; appeared in my dissertation (because REST is the name given to the
&gt; architectural style described there, not some general philosophy
&gt; of design that changes over time). Otherwise, you'll drive me insane.

I've given the possibility that I'm talking about a new constraint
a lot of thought Roy, and determined that it is not in fact a new
constraint, it's simply the uniform interface constraint as described
in your dissertation.

&gt; Browsers will know how to
&gt; traverse super-duper-query resources because the representation type
&gt; that links to those resources, along with URIs, will presumably tell
&gt; them how to do so in the same way that &lt;img src=".."&gt; tells them
&gt; how to process in-line images.

Right, link metadata.  Have you looked at RDF Forms?  I'm all over
that. 8-)  But I claim that it's not a wildcard, and that REST's
constraints constrain how it can be used.

Perhaps it would help to describe my issue from another POV.

Imagine we have a typical RPC service which publishes a "query"
operation, accepts an XQuery document as an argument, and responds with
the result of that query.  Now, suppose we're not happy with RPC and
want to move to a more "loosely coupled, document oriented" style.  What
do we do?  We simply remove the requirement that the "query" operation
appear in the request message.  Voila, instant loosely coupled service!
Right?  I claim not, since in removing the operation from the message,
the connector semantics - "query" in this case - have not changed!!
Therefore, despite this looking very much like state transfer because
"on the wire" it's just document in, document out, it's not, it's just
non self-descriptive RPC.

Is the latter service RESTful?  If not, how does it differ from the
XQuery-via-POST example I've claimed isn't RESTful?  I don't think it
does, architecturally.  The connector semantics are not uniform, and in
fact I could substitute any service specific semantic for "query".

Mark.
-- 
Mark Baker.   Ottawa, Ontario, CANADA.        http://www.markbaker.ca

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4598<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2004-10-22 12:54:30<br>
Subject:Re: [rest-discuss] Querying with POST<br>
Message:<br><br>
<pre>Mark Baker wrote:

&gt; Imagine we have a typical RPC service which publishes a "query"
&gt; operation, accepts an XQuery document as an argument, and responds with
&gt; the result of that query.  Now, suppose we're not happy with RPC and
&gt; want to move to a more "loosely coupled, document oriented" style.  What
&gt; do we do?  We simply remove the requirement that the "query" operation
&gt; appear in the request message.  Voila, instant loosely coupled service!
&gt; Right?  I claim not, since in removing the operation from the message,
&gt; the connector semantics - "query" in this case - have not changed!!
&gt; Therefore, despite this looking very much like state transfer because
&gt; "on the wire" it's just document in, document out, it's not, it's just
&gt; non self-descriptive RPC.

Mark,

ah, I see what you are driving at. You mean that *any* RPC method could that
way be stuffed into POST and that we would (somehow hidden) reintroduce
non-uniformity to the interface.

Something to consider: you can do this only once per resource (because any
resource only has a single POST method), which, in a sense, binds the
POST specialization to the particular resource (or resource type if you
consider RDFForms). I am not sure how relevant this is, but I think it
has somethng to do with the expectation a client can make not only
about the POST invocation but about the combination about the resource(type)
and the POST invocation. 

Jan

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4599<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2004-10-22 13:53:32<br>
Subject:Re: [rest-discuss] Querying with POST<br>
Message:<br><br>
<pre>On Fri, Oct 22, 2004 at 02:54:30PM +0200, Jan Algermissen wrote:
&gt; Mark Baker wrote:
&gt; 
&gt; &gt; Imagine we have a typical RPC service which publishes a "query"
&gt; &gt; operation, accepts an XQuery document as an argument, and responds with
&gt; &gt; the result of that query.  Now, suppose we're not happy with RPC and
&gt; &gt; want to move to a more "loosely coupled, document oriented" style.  What
&gt; &gt; do we do?  We simply remove the requirement that the "query" operation
&gt; &gt; appear in the request message.  Voila, instant loosely coupled service!
&gt; &gt; Right?  I claim not, since in removing the operation from the message,
&gt; &gt; the connector semantics - "query" in this case - have not changed!!
&gt; &gt; Therefore, despite this looking very much like state transfer because
&gt; &gt; "on the wire" it's just document in, document out, it's not, it's just
&gt; &gt; non self-descriptive RPC.
&gt; 
&gt; Mark,
&gt; 
&gt; ah, I see what you are driving at. You mean that *any* RPC method could that
&gt; way be stuffed into POST and that we would (somehow hidden) reintroduce
&gt; non-uniformity to the interface.

Exactly.

&gt; Something to consider: you can do this only once per resource (because any
&gt; resource only has a single POST method), which, in a sense, binds the
&gt; POST specialization to the particular resource (or resource type if you
&gt; consider RDFForms). I am not sure how relevant this is, but I think it
&gt; has somethng to do with the expectation a client can make not only
&gt; about the POST invocation but about the combination about the resource(type)
&gt; and the POST invocation. 

Bingo.  That's exactly how I see it.

I'm still prepared to be shown the light by Roy, since, well, he's da
man.  But unlike in our previous exchanges, this time I did my homework.
8-)

Mark.
-- 
Mark Baker.   Ottawa, Ontario, CANADA.        http://www.markbaker.ca

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4600<br>
Sender:Joe Gregorio &lt;joe@...&gt;<br>
Post Date/Time:2004-10-22 15:49:15<br>
Subject:Re: [rest-discuss] Querying with POST<br>
Message:<br><br>
<pre>Mark Baker wrote:
&gt; 
&gt; 
&gt; No.  The difference here, I believe, is between the following two
&gt; application semantics;
&gt; 
&gt;   "Purchase a book"
&gt; 
&gt;   "Process this document as if you were a book order processor"
&gt; 
&gt; The former, as you note, would map to HTTP with a new method (but that
&gt; wouldn't be RESTful since it isn't uniform, though it would be more
&gt; self-descriptive).  The latter would map to HTTP POST with a header
&gt; (mandatory, due to deployment issues) declaring that the expected
&gt; role/type of the resource identified by the Request-URI, is that of a
&gt; book order processor.

But Amazon does not include such a mandatory header in
their POST. Are you saying that Amazon's service is not 
RESTful?

	-joe

-- 
http://BitWorking.org
http://WellFormedWeb.org


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4601<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2004-10-22 16:05:24<br>
Subject:Re: [rest-discuss] Querying with POST<br>
Message:<br><br>
<pre>On Fri, Oct 22, 2004 at 11:49:15AM -0400, Joe Gregorio wrote:
&gt; Mark Baker wrote:
&gt; &gt;
&gt; &gt;
&gt; &gt;No.  The difference here, I believe, is between the following two
&gt; &gt;application semantics;
&gt; &gt;
&gt; &gt;  "Purchase a book"
&gt; &gt;
&gt; &gt;  "Process this document as if you were a book order processor"
&gt; &gt;
&gt; &gt;The former, as you note, would map to HTTP with a new method (but that
&gt; &gt;wouldn't be RESTful since it isn't uniform, though it would be more
&gt; &gt;self-descriptive).  The latter would map to HTTP POST with a header
&gt; &gt;(mandatory, due to deployment issues) declaring that the expected
&gt; &gt;role/type of the resource identified by the Request-URI, is that of a
&gt; &gt;book order processor.
&gt; 
&gt; But Amazon does not include such a mandatory header in
&gt; their POST. Are you saying that Amazon's service is not 
&gt; RESTful?

IMO, yes.  There's actually a number of instances where Amazon breaks
one REST constraint or another (stateless, uniformity, IIRC).  I hope
that doesn't come as a surprise or a disappointment to anybody. 8-)

REST is an ideal that is sometimes difficult to achieve (though not as
often as Amazon would lead you to believe 8-) but that doesn't reduce
its value as a guide.

Mark.
-- 
Mark Baker.   Ottawa, Ontario, CANADA.        http://www.markbaker.ca

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4602<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2004-10-23 06:28:04<br>
Subject:Re: [rest-discuss] Querying with POST<br>
Message:<br><br>
<pre>&gt;
&gt; The expectation in REST is defined by the user agent's current
&gt; application state, which comes from the current set of representations
&gt; that created that state (e.g., the current Web page), the type
&gt; of user agent being used, and the specific configuration for
&gt; that user.  Browsers know how to traverse Web pages because HTML
&gt; and URIs tell them how to do so.  Browsers will know how to
&gt; traverse super-duper-query resources because the representation type
&gt; that links to those resources, along with URIs, will presumably tell
&gt; them how to do so in the same way that &lt;img src=".."&gt; tells them
&gt; how to process in-line images.
Thank you for that paragraph, I think I'm finally beginning to understand
'hypertext as the engine of application state'.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4603<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2004-10-23 06:45:47<br>
Subject:Re: [rest-discuss] Querying with POST<br>
Message:<br><br>
<pre>
&gt; &gt; The former, as you note, would map to HTTP with a new method (but that
&gt; &gt; wouldn't be RESTful since it isn't uniform, though it would be more
&gt; &gt; self-descriptive).  The latter would map to HTTP POST with a header
&gt; &gt; (mandatory, due to deployment issues) declaring that the expected
&gt; &gt; role/type of the resource identified by the Request-URI, is that of a
&gt; &gt; book order processor.
&gt;
&gt; But Amazon does not include such a mandatory header in
&gt; their POST. Are you saying that Amazon's service is not RESTful?
I wouldn't be suprised. Amazon isn't that religious (or even particularly
well informed) about REST. I've only met two or three people that
understand - much less care deeply - about REST. I have met people that
quickly recognize the value when I explain the basics, though. Amazon is
full of very smart &amp; quick people.

This long running discussion of 'what is RESTful' helped clarify my
confusion surrounding 'hypertext as the engine of application state'. When I
realized what that might mean - separation of expectations from strictly
method+uri - I was struck by the similar realization many people have when
they first understand the separation of uri and method in HTTP. Many people
really don't know that HTTP has GET and POST along with other methods &amp; that
those methods have /meaning/ (at the protocol/contract level). This adds
another level of richness to REST application design. Very cool.



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4604<br>
Sender:Dave Pawson &lt;davep@...&gt;<br>
Post Date/Time:2004-10-23 08:06:25<br>
Subject:Re: [rest-discuss] Querying with POST<br>
Message:<br><br>
<pre>On Sat, 2004-10-23 at 07:45, S. Mike Dierken wrote:
&gt; &gt; &gt; The former, as you note, would map to HTTP with a new method (but that
&gt; &gt; &gt; wouldn't be RESTful since it isn't uniform, though it would be more
&gt; &gt; &gt; self-descriptive).  The latter would map to HTTP POST with a header
&gt; &gt; &gt; (mandatory, due to deployment issues) declaring that the expected
&gt; &gt; &gt; role/type of the resource identified by the Request-URI, is that of a
&gt; &gt; &gt; book order processor.
&gt; &gt;
&gt; &gt; But Amazon does not include such a mandatory header in
&gt; &gt; their POST. Are you saying that Amazon's service is not RESTful?
&gt; I wouldn't be suprised. Amazon isn't that religious (or even particularly
&gt; well informed) about REST. I've only met two or three people that
&gt; understand - much less care deeply - about REST. I have met people that
&gt; quickly recognize the value when I explain the basics, though. 

I don't find that particularly surprising Mike.
Following this most recent thread makes grabbing eels look easy.

There are enough smart people supporting the rest position to make
it worth exploring, but the 'dummies guide' articles are pretty 
thin on the ground? I've failed to find comprehensible demonstrations
of a simple use of rest. 

Perhaps that's one reason why so few understand it.


&gt;  
&gt; 
-- 
Regards DaveP.
XSLT&amp;Docbook  FAQ
http://www.dpawson.co.uk/xsl



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4605<br>
Sender:Roy T. Fielding &lt;fielding@...&gt;<br>
Post Date/Time:2004-10-23 18:49:50<br>
Subject:Re: [rest-discuss] Querying with POST<br>
Message:<br><br>
<pre>&gt; There are enough smart people supporting the rest position to make
&gt; it worth exploring, but the 'dummies guide' articles are pretty
&gt; thin on the ground? I've failed to find comprehensible demonstrations
&gt; of a simple use of rest.

A Web browser is a simple use of REST.

&gt; Perhaps that's one reason why so few understand it.

That doesn't seem likely.  I think that if I were in the business of
selling REST as an idea, just as thousands of consultants have sold
OOSD/CORBA/COM/DCOM/WS, one after another, then a lot of people would
know about something called REST (though it would be a bit mangled).

Software development is still driven by fads and fashion.  In order
to become well known, you need to hire some sexy models and generate
press.  Personally, I'd rather that people just learn a little more
about software architecture and principled design.


Cheers,

Roy T. Fielding                            &lt;http://roy.gbiv.com/&gt;
Chief Scientist, Day Software              &lt;http://www.day.com/&gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4606<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2004-10-23 19:06:35<br>
Subject:Re: [rest-discuss] Querying with POST<br>
Message:<br><br>
<pre>&gt; &gt; I wouldn't be suprised. Amazon isn't that religious (or even
particularly
&gt; &gt; well informed) about REST. I've only met two or three people that
&gt; &gt; understand - much less care deeply - about REST. I have met people that
&gt; &gt; quickly recognize the value when I explain the basics, though.
&gt;
&gt; I don't find that particularly surprising Mike.
&gt; Following this most recent thread makes grabbing eels look easy.
&gt;
These discussions are fairly high-level and somewhat academic - I'd just
like to see the basics happening consistently across new systems being built
into the Web.

Also it would be nice when talking with the actual teams in meetings to
review schemas and data models that they can actually talk about REST
somewhat or at least know what kind of HTTP headers exist. To be fair, they
are pretty focused on a small set of use-cases - mainly 'do all retrievals
from an XSLT processor that can access only one resource at a time and has
broken HTTP client libraries'. I think I did convince them that standards
support should at least be available for developers that are literate enough
to read a spec, rather than just deliver something in order to work around
broken clients.
Also, there are major groups that don't even realize that their support of
doing a flat-file upload via a browser actually /is/ a Web service. Every
time I mention it, they just don't get it and say "oh, but that won't scale"
or "that can't work" or "the community wants soap", etc... yet it does scale
and it does work and nobody really needs soap. And it's /their own system/.
Go figure.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4607<br>
Sender:Josh Sled &lt;jsled@...&gt;<br>
Post Date/Time:2004-10-23 19:23:10<br>
Subject:Re: [rest-discuss] Querying with POST<br>
Message:<br><br>
<pre>On Fri, Oct 22, 2004 at 08:34:50AM -0400, Mark Baker wrote:

| Imagine we have a typical RPC service which publishes a "query"
| operation, accepts an XQuery document as an argument, and responds with
| the result of that query.  Now, suppose we're not happy with RPC and
| want to move to a more "loosely coupled, document oriented" style.  What
| do we do?  We simply remove the requirement that the "query" operation
| appear in the request message.  Voila, instant loosely coupled service!
| Right?  I claim not, since in removing the operation from the message,
| the connector semantics - "query" in this case - have not changed!!
| Therefore, despite this looking very much like state transfer because
| "on the wire" it's just document in, document out, it's not, it's just
| non self-descriptive RPC.

As others have mentioned, I think the key point here is that the
POST[op=query] is non-RESTful /strictly/ because it's not preceeded
by a GET resulting in hypermedia containing allowing the client to
understand "'query' on this site is done via POST of type-foo query-doc in
encoding-type-bar to /whatever/server/url/".  Hence, HTML [and RDF] forms...

...jsled

-- 
http://asynchronous.org/jsled/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4608<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2004-10-24 05:01:14<br>
Subject:Re: [rest-discuss] Querying with POST<br>
Message:<br><br>
<pre>On Sat, Oct 23, 2004 at 03:23:10PM -0400, Josh Sled wrote:
&gt; On Fri, Oct 22, 2004 at 08:34:50AM -0400, Mark Baker wrote:
&gt; 
&gt; | Imagine we have a typical RPC service which publishes a "query"
&gt; | operation, accepts an XQuery document as an argument, and responds with
&gt; | the result of that query.  Now, suppose we're not happy with RPC and
&gt; | want to move to a more "loosely coupled, document oriented" style.  What
&gt; | do we do?  We simply remove the requirement that the "query" operation
&gt; | appear in the request message.  Voila, instant loosely coupled service!
&gt; | Right?  I claim not, since in removing the operation from the message,
&gt; | the connector semantics - "query" in this case - have not changed!!
&gt; | Therefore, despite this looking very much like state transfer because
&gt; | "on the wire" it's just document in, document out, it's not, it's just
&gt; | non self-descriptive RPC.
&gt; 
&gt; As others have mentioned, I think the key point here is that the
&gt; POST[op=query] is non-RESTful /strictly/ because it's not preceeded
&gt; by a GET resulting in hypermedia containing allowing the client to
&gt; understand "'query' on this site is done via POST of type-foo query-doc in
&gt; encoding-type-bar to /whatever/server/url/".  Hence, HTML [and RDF] forms...

Understood, as I believed this too at one time.  But I've come to learn
that there's a very fine line - but a line nonetheless - between a
retrieved representation which provides link metadata which presents
cues for document exchange, and a description of a service specific
interface (e.g. an IDL or WSDL file).  Consider this declaration;

  &lt;x:StateSetter rdf:about="http://example.org/foo/bar/"/&gt;

Here, "StateSetter" indicates to the recipient that the identified
resource does the semantic equivalent of PUT with a POST.  So now the
client has a choice to make about setting the state of the resource;
does it use PUT, or does it use POST with "StateSetter" as the
mandatory expected role/type?

I claim that the former is more RESTful, primarily because the latter
exhibits less-than-RESTful visibility, telling me that at least one of
REST's constraints that impacts visibility is being disregarded.

Mark.
-- 
Mark Baker.   Ottawa, Ontario, CANADA.        http://www.markbaker.ca

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4609<br>
Sender:Dave Pawson &lt;davep@...&gt;<br>
Post Date/Time:2004-10-24 05:48:34<br>
Subject:Re: [rest-discuss] Querying with POST<br>
Message:<br><br>
<pre>On Sat, 2004-10-23 at 20:06, S. Mike Dierken wrote:

&gt; These discussions are fairly high-level and somewhat academic - I'd just
&gt; like to see the basics happening consistently across new systems being built
&gt; into the Web.

I guess that's where I'm coming from?
  If I come up with ideas for a restful system, how should I judge
it/check them etc?

Roy mentioned 'A Web browser is a simple use of REST.'
You mention file uploads as being a web service.
I have difficulty in getting from the simple uri == a state up to
a more complex  application. 

I'd like to convince people at work that any new system might benefit
from interconnectivity, even if specific use-cases aren't seen straight
off, to avoid interconnectivity problems down the line.

Is http, with (excuse my terminology if its wrong) with  restful message
passing, an option? A basic requirement would be the pull operation, 
Here's tokenA, what is the corresponding tokenB? And the corresponding
push; Sub-systemX, please note tokenX. I have difficulty in envisaging
this 'restfully'.


Roy said 'In order
to become well known, you need to hire some sexy models and generate
press.  Personally, I'd rather that people just learn a little more
about software architecture and principled design.'

I really don't want to agree with you about the first sentence, but
I guess the evidence supports that position. My optimism says that
a good idea will grow without :-)

In order to meet the 'wish' in the second sentence, the ideas need
to be documented in a way that more ordinary folks can apply? That
way the uptake would be greater I think.  I guess that's what I'm
looking for. The percentage of programmers with CS degrees isn't 
all that high Roy. 


-- 
Regards DaveP.
XSLT&amp;Docbook  FAQ
http://www.dpawson.co.uk/xsl



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4610<br>
Sender:Dave Pawson &lt;davep@...&gt;<br>
Post Date/Time:2004-10-24 07:22:48<br>
Subject:Re: [rest-discuss] Querying with POST<br>
Message:<br><br>
<pre>Answering some of my own questions...

Reading Tim Brays blog, he mentions Alex, the Amazon beta.
Trying the REST interface to that actually does make sense;
once I accepted the potentially huge strings involved.

&lt;note class='admission'&gt;
  I have never, previously, worked on server side software,
hence my knowledge of http is weak, to say the least.
&lt;/note&gt;

On the basis of which, 

My  message send interconnectivity is simply the generation
of a 'web page' holding the data to be sent,
and my query is of the class not dissimilar to the amazon strings?

http://someurl?Service=serviceName&amp;Operation=query&amp;name=name2&amp;pwd=xyz&amp;infoWanted=aterm
  which is then parsed by the server, who responds with an XML message containing
the result?

If I'm right, is there any way of avoiding the password within this string?

&lt;suspicion&gt;
&lt;msgAwaited&gt;Go RTFM, HTTPS&lt;/msgAwaited&gt;
&lt;/suspicion&gt;

:-)


regards DaveP






</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4611<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2004-10-24 12:18:43<br>
Subject:Passwords in URIs<br>
Message:<br><br>
<pre>On Sun, Oct 24, 2004 at 08:22:48AM +0100, Dave Pawson wrote:
&gt; My  message send interconnectivity is simply the generation
&gt; of a 'web page' holding the data to be sent,
&gt; and my query is of the class not dissimilar to the amazon strings?
&gt; 
&gt; http://someurl?Service=serviceName&amp;Operation=query&amp;name=name2&amp;pwd=xyz&amp;infoWanted=aterm
&gt;   which is then parsed by the server, who responds with an XML message containing
&gt; the result?
&gt; 
&gt; If I'm right, is there any way of avoiding the password within this string?

Sure, use HTTP authentication which encodes the password in a message
header rather than the URI.  See RFC 2617.

Mark.
-- 
Mark Baker.   Ottawa, Ontario, CANADA.        http://www.markbaker.ca

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4612<br>
Sender:Josh Sled &lt;jsled@...&gt;<br>
Post Date/Time:2004-10-24 19:56:47<br>
Subject:Re: [rest-discuss] Querying with POST<br>
Message:<br><br>
<pre>On Sun, 2004-10-24 at 01:01, Mark Baker wrote:
&gt; Understood, as I believed this too at one time.  But I've come to learn
&gt; that there's a very fine line - but a line nonetheless - between a
&gt; retrieved representation which provides link metadata which presents
&gt; cues for document exchange, and a description of a service specific
&gt; interface (e.g. an IDL or WSDL file).  Consider this declaration;
&gt; 
&gt;   &lt;x:StateSetter rdf:about="http://example.org/foo/bar/"/&gt;
&gt; 
&gt; Here, "StateSetter" indicates to the recipient that the identified
&gt; resource does the semantic equivalent of PUT with a POST.  So now the
&gt; client has a choice to make about setting the state of the resource;
&gt; does it use PUT, or does it use POST with "StateSetter" as the
&gt; mandatory expected role/type?

Well, in the HTML forms case, the hypermedia is quite explicit about
what operation should be used:

  &lt;form method="POST" action="/foo/bar"&gt;
    &lt;input type="hidden" name="methodName" value="setState" /&gt;
    &lt;!-- `setState` arguments...   --&gt;
    &lt;input type="submit" /&gt;
  &lt;/form&gt;

Of course, the semantic provided by this particular hypermedia type
[HTML] really doesn't allow the client to have any say in the matter,
nor are PUT and DELETE ever used.  If the server finds it adventageous
to do queries with POST, then who's the client to even _understand_ let
alone complain ... that's what makes REST(dissertation) so successful.  

For some other hypermedia, it might be quite appropriate for the client
to determine which verb to use in which situation, given only the URI
and an ingrained knowledge of the semantics of the transfer protocol.

&gt; I claim that the former is more RESTful, primarily because the latter
&gt; exhibits less-than-RESTful visibility, telling me that at least one of
&gt; REST's constraints that impacts visibility is being disregarded.

It's hard to say ... Roy's dissertation seems to describe one world
[GET/POST web ca. 1999] as an implemtnation of a different world
[document/literal exchange via a semantically rich
uniform-operatation-set], so it's hard to say which is "more" RESTful. 

I'd say the fomer better fits with what the web does regularly, while
the latter better fits the architectural constraints outlined.  

But they are two different things [1].

I, too, would like to see more of the latter in the world. :)

...jsled

[1]: http://asynchronous.org/blog/archives/2004/08/25/levels_of_rest.html

-- 
http://asynchronous.org/ - `a=jsled; b=asynchronous.org; echo ${a}@${b}`

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4613<br>
Sender:"R. Mark Volkmann" &lt;mark@...&gt;<br>
Post Date/Time:2004-10-24 20:30:44<br>
Subject:fact check<br>
Message:<br><br>
<pre>
I'm getting ready to deliver a presentation on REST and I'd like to verify a
few things. Is there anything wrong with these statements?

REST doesn't mandate the use of HTTP, but HTTP is the most common transport
protocol used with REST applications.

REST doesn't mandate the use of XML for the content of request and response
messages, but XML is the most common data representation used in messages.

REST doesn't mandate the use of absolute URLs for links to related resources
included in response messages. Clients can assume that relative URLs in a
response can be resolved relative to the URL they used to send the request
that returned the response.

REST frowns upon responses like this that require clients to know how to
construct URLs to retrieve additional data.
&lt;musicCollection&gt;
  &lt;owner name="Mark Volkmann"&gt;
  &lt;artist id="19"/&gt;
  &lt;artist id="43"/&gt;
&lt;/musicCollection&gt;
In this example, a client would construct a URL like the following to
retrieve a representation of an artist in the collection.
http://host:port/webapp/artist/19. 






</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4614<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2004-10-25 00:41:13<br>
Subject:Re: [rest-discuss] fact check<br>
Message:<br><br>
<pre>On Sun, Oct 24, 2004 at 03:30:44PM -0500, R. Mark Volkmann wrote:
&gt; REST doesn't mandate the use of HTTP, but HTTP is the most common transport
&gt; protocol used with REST applications.

REST doesn't mandate HTTP, no.  But HTTP is not a transport protocol,
it's an application protocol, and moreover is the only application
protocol around, AFAIK, which embodies the REST constraint of the
uniform interface (amoungst others).

I like to say that REST requires that you use other protocols as if you
were using them through an HTTP proxy.

&gt; REST doesn't mandate the use of XML for the content of request and response
&gt; messages, but XML is the most common data representation used in messages.

Not by a long shot.  I'd expect that HTML is far and away the most
popular format.  RSS is probably the most popular XML based format,
but way behind HTML.

&gt; REST doesn't mandate the use of absolute URLs for links to related resources
&gt; included in response messages. Clients can assume that relative URLs in a
&gt; response can be resolved relative to the URL they used to send the request
&gt; that returned the response.

It's a bit more complicated than that, but you're right that REST
doesn't mandate that.  REST only mandates self-descriptive messages
which, and as it relates to URIs, requires that all of them be able to
be interpreted absolutely in the context of a given message.  See
section 5 of 2396bis;

http://gbiv.com/protocols/uri/rev-2002/rfc2396bis.html#reference-resolution

&gt; REST frowns upon responses like this that require clients to know how to
&gt; construct URLs to retrieve additional data.
&gt; &lt;musicCollection&gt;
&gt;   &lt;owner name="Mark Volkmann"&gt;
&gt;   &lt;artist id="19"/&gt;
&gt;   &lt;artist id="43"/&gt;
&gt; &lt;/musicCollection&gt;
&gt; In this example, a client would construct a URL like the following to
&gt; retrieve a representation of an artist in the collection.
&gt; http://host:port/webapp/artist/19. 

Well, if the processing rules behind the media type used described how
to construct URIs based on information contained within the document -
e.g. if "id" were defined to accept relative URIs - then that would
be RESTful, I'd say.

Mark.
-- 
Mark Baker.   Ottawa, Ontario, CANADA.        http://www.markbaker.ca

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4615<br>
Sender:"R. Mark Volkmann" &lt;mark@...&gt;<br>
Post Date/Time:2004-10-25 01:15:39<br>
Subject:Re: [rest-discuss] fact check<br>
Message:<br><br>
<pre>----- Original Message ----- 
From: "Mark Baker" &lt;distobj@...&gt;
To: "R. Mark Volkmann" &lt;mark@...&gt;
Cc: &lt;rest-discuss@yahoogroups.com&gt;
Sent: Sunday, October 24, 2004 7:41 PM
Subject: Re: [rest-discuss] fact check


&gt; On Sun, Oct 24, 2004 at 03:30:44PM -0500, R. Mark Volkmann wrote:
&gt;
&gt;&gt; REST doesn't mandate the use of XML for the content of request and 
&gt;&gt; response
&gt;&gt; messages, but XML is the most common data representation used in 
&gt;&gt; messages.
&gt;
&gt; Not by a long shot.  I'd expect that HTML is far and away the most
&gt; popular format.  RSS is probably the most popular XML based format,
&gt; but way behind HTML.

Maybe I should clarify that I'm looking at REST from the standpoint of being 
an alternative to SOAP, not as a way of constructing a web app. In that 
setting it seems much more desirable for a REST service to return XML than 
HTML, correct?

I assumed that using REST as an alternative to SOAP was the most common use 
of REST. Is that wrong? 



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4616<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2004-10-25 01:51:18<br>
Subject:Re: [rest-discuss] fact check<br>
Message:<br><br>
<pre>On Sun, Oct 24, 2004 at 08:15:39PM -0500, R. Mark Volkmann wrote:
&gt; &gt;On Sun, Oct 24, 2004 at 03:30:44PM -0500, R. Mark Volkmann wrote:
&gt; &gt;
&gt; &gt;&gt;REST doesn't mandate the use of XML for the content of request and 
&gt; &gt;&gt;response
&gt; &gt;&gt;messages, but XML is the most common data representation used in 
&gt; &gt;&gt;messages.
&gt; &gt;
&gt; &gt;Not by a long shot.  I'd expect that HTML is far and away the most
&gt; &gt;popular format.  RSS is probably the most popular XML based format,
&gt; &gt;but way behind HTML.
&gt; 
&gt; Maybe I should clarify that I'm looking at REST from the standpoint of 
&gt; being an alternative to SOAP, not as a way of constructing a web app. In 
&gt; that setting it seems much more desirable for a REST service to return XML 
&gt; than HTML, correct?

Insofar as SOAP is often contrasted with "HTTP/XML", perhaps.  But I'm
just generally uncomfortable with the association of REST and XML.
YMMV, of course.

Perhaps it would be best to say something to the effect that REST
doesn't prescribe any particular data format, but since XML is all
the rage, using XML in the context of a RESTful app is what a lot of
people are doing.

&gt; I assumed that using REST as an alternative to SOAP was the most common use 
&gt; of REST. Is that wrong? 

*shrug* I would hope REST is used to help people build better apps for
the Web, but I don't know.

Mark.
-- 
Mark Baker.   Ottawa, Ontario, CANADA.        http://www.markbaker.ca

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4617<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2004-10-24 18:37:46<br>
Subject:Re: [rest-discuss] Querying with POST<br>
Message:<br><br>
<pre>&gt;
&gt; My  message send interconnectivity is simply the generation
&gt; of a 'web page' holding the data to be sent,
&gt; and my query is of the class not dissimilar to the amazon strings?
&gt;
&gt;
http://someurl?Service=serviceName&amp;Operation=query&amp;name=name2&amp;pwd=xyz&amp;infoWanted=aterm
&gt;   which is then parsed by the server, who responds with an XML message
containing
&gt; the result?
In general, you will want to organize your system around the concept of
'resources', rather than thinking about operations. For HTTP, there are
several pre-defined operations that work in nearly all situation - assuming
you have a rich set of resources to interact with. The operations are GET
(retrieve a representation of the identified resource), PUT (set the content
of the resource identified by the client), DELETE (guess what this does),
and POST (process the submitted data, possibly creating a new resource). If
you want to put operation=query you can, but it is redundant with 'GET'.


&gt;
&gt; If I'm right, is there any way of avoiding the password within this
string?
Definitely. The HTTP supports an extensible authentication mechanism -
multiple styles of identifying the user are supported. Some are easier to
program than others. For example, some use X.509 certificates which assumes
a bunch of other systems are in place.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4618<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2004-10-25 02:24:48<br>
Subject:Re: [rest-discuss] Querying with POST<br>
Message:<br><br>
<pre>&gt;
&gt; If the server finds it adventageous
&gt; to do queries with POST, then who's the client to even _understand_ let
&gt; alone complain ... that's what makes REST(dissertation) so successful.
If the request failed (no reply or something like that), the client needs to
know if it is safe to repeat the request. Use GET and the user-agent
(browser) can repeat the request without bothering the user. Use POST and
failures require human intervention.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4619<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2004-10-25 02:27:16<br>
Subject:Re: [rest-discuss] fact check<br>
Message:<br><br>
<pre>&gt; REST doesn't mandate the use of HTTP, but HTTP is the most common
transport
&gt; protocol used with REST applications.
There's a long standing statement that HTTP is a /transfer/ protocol and not
a /transport/ protocol. The implications are that 'transfer' has key
application-level concepts (retrieve, update, etc) whereas transport just
moves bytes from point A to point B.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4620<br>
Sender:Dave Pawson &lt;davep@...&gt;<br>
Post Date/Time:2004-10-25 18:12:08<br>
Subject:Re: [rest-discuss] Querying with POST<br>
Message:<br><br>
<pre>On Sun, 2004-10-24 at 19:37, S. Mike Dierken wrote:


&gt; In general, you will want to organize your system around the concept of
&gt; 'resources', rather than thinking about operations. 
No promises on getting the terminology right. 
  Although from lurking here, it seems pretty high on peoples agenda?

Is the 'resources' aspect just a  point further downstream?
I start with 'I want to do X'
  (send a status report or something)
Then 'how do I do that'?
  I use a resource (this sounds odd Mike), 
  to send a query to a server using http
(question: Does the recipient *have* to be a server?
What testbeds do people use for restful systems playing/testing?)



&gt; For HTTP, there are
&gt; several pre-defined operations that work in nearly all situation - assuming
&gt; you have a rich set of resources to interact with.

For this use, you make it sound like resources == 'many servers'?


&gt;  The operations are GET
&gt; (retrieve a representation of the identified resource), PUT (set the content
&gt; of the resource identified by the client),
Never having used PUT, I'll leave that for the time being.

&gt;  DELETE (guess what this does),
&gt; and POST (process the submitted data, possibly creating a new resource).
(server based, or am I just being old fashioned? I'm using post for
uploading 1..n files via an html form.)

&gt;  If
&gt; you want to put operation=query you can, but it is redundant with 'GET'.

I hadn't thought of it, but I did have get in mind. Total string length 
limitations allowing I guess.

Am I right in thinking you have gone beyond client and server,
and are simply using software which takes advantage of the 
http protocol? 



&gt; 
&gt; 
&gt; &gt;
&gt; &gt; If I'm right, is there any way of avoiding the password within this
&gt; string?
&gt; Definitely. The HTTP supports an extensible authentication mechanism -
&gt; multiple styles of identifying the user are supported. Some are easier to
&gt; program than others. For example, some use X.509 certificates which assumes
&gt; a bunch of other systems are in place.

I'm happy to defer reading on that till I've got my head round the lower
level branches :-)


Thanks Mike.



-- 
Regards DaveP.
XSLT&amp;Docbook  FAQ
http://www.dpawson.co.uk/xsl



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4621<br>
Sender:"R. Mark Volkmann" &lt;mark@...&gt;<br>
Post Date/Time:2004-10-25 18:09:30<br>
Subject:Re: [rest-discuss] Querying with POST<br>
Message:<br><br>
<pre>Quoting Dave Pawson &lt;davep@...&gt;:

&gt;
&gt; On Sun, 2004-10-24 at 19:37, S. Mike Dierken wrote:
&gt;
&gt; &gt; In general, you will want to organize your system around the concept of
&gt; &gt; 'resources', rather than thinking about operations.
&gt; No promises on getting the terminology right.
&gt;   Although from lurking here, it seems pretty high on peoples agenda?
&gt;
&gt; Is the 'resources' aspect just a  point further downstream?
&gt; I start with 'I want to do X'
&gt;   (send a status report or something)
&gt; Then 'how do I do that'?
&gt;   I use a resource (this sounds odd Mike),
&gt;   to send a query to a server using http

Here's my take on this.  Suppose you want a report about the sales of a
particular kind of car in a particular month.  The resource is the car and the
report is just a specific representation.  The resource identifier could be
http://host:port/webapp/car/bmw/z3.  The report could be requestsed by sending
an HTTP POST to that URL with the following content.

&lt;salesReport month="4" year="2004"/&gt;

--
R. Mark Volkmann
Partner, Object Computing, Inc.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4622<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2004-10-25 18:38:43<br>
Subject:Re: [rest-discuss] Querying with POST<br>
Message:<br><br>
<pre>"R. Mark Volkmann" wrote:

&gt; Here's my take on this.  Suppose you want a report about the sales of a
&gt; particular kind of car in a particular month. 

Mark,

not sure if you refer to the query-via-POST here, but the (a) RESful
way to do the above is to make the report a first class object (a resource):

http://host:port/webapp/car/bmw/z3/report

and invoke GET on it.

You'd have two choices to specify the date:

a) http://host:port/webapp/car/bmw/z3/report?year=2004&amp;month=10

b) http://host:port/webapp/car/bmw/z3/report/2004/10

The advantage of a) would be the possibility of using something like
RDFForms[1] to describe the allowed parameters. 

Hmm, does anyone know an advantage of using b)?

Jan


[1] http://www.markbaker.ca/2003/05/RDF-Forms/




&gt; The resource is the car and the
&gt; report is just a specific representation.  The resource identifier could be
&gt; http://host:port/webapp/car/bmw/z3.  The report could be requestsed by sending
&gt; an HTTP POST to that URL with the following content.
&gt; 
&gt; &lt;salesReport month="4" year="2004"/&gt;
&gt; 
&gt; --
&gt; R. Mark Volkmann
&gt; Partner, Object Computing, Inc.
&gt; 
&gt; 
&gt; 
&gt; Yahoo! Groups Links
&gt; 
&gt; 
&gt; 
&gt; 

-- 
Jan Algermissen
Consultant &amp; Programmer	
http://www.jalgermissen.com

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4623<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2004-10-25 19:05:18<br>
Subject:Re: [rest-discuss] Querying with POST<br>
Message:<br><br>
<pre>Dave Pawson wrote:
&gt; 
&gt; On Sun, 2004-10-24 at 19:37, S. Mike Dierken wrote:
&gt; 
&gt; &gt; In general, you will want to organize your system around the concept of
&gt; &gt; 'resources', rather than thinking about operations.
&gt; No promises on getting the terminology right.
&gt;   Although from lurking here, it seems pretty high on peoples agenda?
&gt; 
&gt; Is the 'resources' aspect just a  point further downstream?
&gt; I start with 'I want to do X'
&gt;   (send a status report or something)
&gt; Then 'how do I do that'?
&gt;   I use a resource (this sounds odd Mike),
&gt;   to send a query to a server using http

Maybe it helps to ignore the client/server language completely. Think of RESTful
applications to consist of objects (resources) that all have the same API (PUT,
DELETE, GET, POST, etc). For a component of the application to invoke a method
on an object, it issues an HTTP request. One of the great things is that you
runtime environment is ubiquitous (given a network cable), it is running
persistently (its the Web).

&gt; (question: Does the recipient *have* to be a server?

Well, what is *a server*? If you mean some component that is capable of
processing HTTP requests, then yes. But you can certainly mimick REST
as a standalone application:


interface Resource {
	public Message GET;
	public Message POST(Message);
	//...
}

But the value of REST certainly lies in the use for networked applications.

&gt; What testbeds do people use for restful systems playing/testing?)

I am heavy on Apache+mod_perl+libwww, but a Java Servlet container is
just as good. Paul Prescod has done a lot with Python IIRC.


&gt; &gt;  DELETE (guess what this does),
&gt; &gt; and POST (process the submitted data, possibly creating a new resource).
&gt; (server based, or am I just being old fashioned? I'm using post for
&gt; uploading 1..n files via an html form.)

What do you mean by 'server based'?

Loosely speaking, POST means 'process this'.

&gt; 
&gt; &gt;  If
&gt; &gt; you want to put operation=query you can, but it is redundant with 'GET'.
&gt; 
&gt; I hadn't thought of it, but I did have get in mind. Total string length
&gt; limitations allowing I guess.
&gt; 
&gt; Am I right in thinking you have gone beyond client and server,
&gt; and are simply using software which takes advantage of the
&gt; http protocol?

Client/Server is not an issue (if I understand your use of the term correctly),
REST is about objects with a uniform API and self descriptive messages between
them.

Usually, in the process of understanding REST, you'll have an aha-moment and the
full beauty will be visible at once...until then, it helps to stick your head in
the WiKi, the various REST articles, the mailing list archives, and Roy's
dissertation of course. It takes some time, but it is definitely worth it.

Jan

Jan
&gt; 
&gt; &gt;
&gt; &gt;
&gt; &gt; &gt;
&gt; &gt; &gt; If I'm right, is there any way of avoiding the password within this
&gt; &gt; string?
&gt; &gt; Definitely. The HTTP supports an extensible authentication mechanism -
&gt; &gt; multiple styles of identifying the user are supported. Some are easier to
&gt; &gt; program than others. For example, some use X.509 certificates which assumes
&gt; &gt; a bunch of other systems are in place.
&gt; 
&gt; I'm happy to defer reading on that till I've got my head round the lower
&gt; level branches :-)
&gt; 
&gt; Thanks Mike.
&gt; 
&gt; --
&gt; Regards DaveP.
&gt; XSLT&amp;Docbook  FAQ
&gt; http://www.dpawson.co.uk/xsl
&gt; 
&gt; 
&gt; 
&gt; Yahoo! Groups Links
&gt; 
&gt; 
&gt; 
&gt; 

-- 
Jan Algermissen
Consultant &amp; Programmer	
http://www.jalgermissen.com

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4624<br>
Sender:Dave Pawson &lt;davep@...&gt;<br>
Post Date/Time:2004-10-25 19:38:50<br>
Subject:Re: [rest-discuss] Querying with POST<br>
Message:<br><br>
<pre>On Mon, 2004-10-25 at 20:05, Jan Algermissen wrote:

&gt; &gt; Then 'how do I do that'?
&gt; &gt;   I use a resource (this sounds odd Mike),
&gt; &gt;   to send a query to a server using http
&gt; 
&gt; Maybe it helps to ignore the client/server language completely. Think of RESTful
&gt; applications to consist of objects (resources) that all have the same API (PUT,
&gt; DELETE, GET, POST, etc).
OK, I'm happy with that. 


&gt; &gt; (question: Does the recipient *have* to be a server?
&gt; 
&gt; Well, what is *a server*? If you mean some component that is capable of
&gt; processing HTTP requests, then yes. But you can certainly mimick REST
&gt; as a standalone application:
OK, no is the answer :-)


&gt; &gt; What testbeds do people use for restful systems playing/testing?)
&gt; 
&gt; I am heavy on Apache+mod_perl+libwww, but a Java Servlet container is
&gt; just as good. Paul Prescod has done a lot with Python IIRC.
I'm another Python fan.
Certainly for learning.

&gt; 
&gt; 
&gt; &gt; &gt;  DELETE (guess what this does),
&gt; &gt; &gt; and POST (process the submitted data, possibly creating a new resource).
&gt; &gt; (server based, or am I just being old fashioned? I'm using post for
&gt; &gt; uploading 1..n files via an html form.)
&gt; 
&gt; What do you mean by 'server based'?

I wrote the form html using java for tomcat. The software resides
on/with 
the server software?



&gt; Client/Server is not an issue (if I understand your use of the term correctly),
touche :-)
&gt; REST is about objects with a uniform API and self descriptive messages between
&gt; them.
OK, I stand corrected.


&gt; 
&gt; Usually, in the process of understanding REST, you'll have an aha-moment and the
&gt; full beauty will be visible at once...until then, it helps to stick your head in
&gt; the WiKi, 
http://rest.blueoxen.net/cgi-bin/wiki.pl

&gt; the various REST articles, the mailing list archives,
http://rest.blueoxen.net/cgi-bin/wiki.pl?RestResources ?
&gt;  and Roy's
&gt; dissertation of course. It takes some time, but it is definitely worth it.


Thanks Jan.

&gt; &gt; 
-- 
Regards DaveP.
XSLT&amp;Docbook  FAQ
http://www.dpawson.co.uk/xsl



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4625<br>
Sender:"Roy T. Fielding" &lt;fielding@...&gt;<br>
Post Date/Time:2004-10-25 22:15:36<br>
Subject:Re: [rest-discuss] fact check<br>
Message:<br><br>
<pre>On Oct 24, 2004, at 6:15 PM, R. Mark Volkmann wrote:
&gt;&gt; On Sun, Oct 24, 2004 at 03:30:44PM -0500, R. Mark Volkmann wrote:
&gt;&gt;
&gt;&gt;&gt; REST doesn't mandate the use of XML for the content of request and
&gt;&gt;&gt; response
&gt;&gt;&gt; messages, but XML is the most common data representation used in
&gt;&gt;&gt; messages.
&gt;&gt;
&gt;&gt; Not by a long shot.  I'd expect that HTML is far and away the most
&gt;&gt; popular format.  RSS is probably the most popular XML based format,
&gt;&gt; but way behind HTML.
&gt;
&gt; Maybe I should clarify that I'm looking at REST from the standpoint of 
&gt; being
&gt; an alternative to SOAP, not as a way of constructing a web app. In that
&gt; setting it seems much more desirable for a REST service to return XML 
&gt; than
&gt; HTML, correct?

It depends on the consuming application.  In any case, REST is an
architectural style and SOAP is a protocol, so you can build REST-based
applications using SOAP.  You will have to be more specific, such as
REST-based HTTP applications versus RPC-based SOAP applications.

&gt; I assumed that using REST as an alternative to SOAP was the most 
&gt; common use
&gt; of REST. Is that wrong?

Completely wrong -- hypertext browsing on the Web is the most common
use of REST-based applications.  The only reason that SOAP even enters
the discussion is because some people tried to fix the major problems
with SOAP that caused its resources to be unusable on the Web, and
when they did so they used REST as the basis of their arguments.

....Roy


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4626<br>
Sender:"Donald Strong" &lt;dstrong@...&gt;<br>
Post Date/Time:2004-10-25 23:41:26<br>
Subject:RE: [rest-discuss] Querying with POST<br>
Message:<br><br>
<pre>

&gt; You'd have two choices to specify the date:
&gt; 
&gt; a) http://host:port/webapp/car/bmw/z3/report?year=2004&amp;month=10
&gt; 
&gt; b) http://host:port/webapp/car/bmw/z3/report/2004/10
&gt; 
&gt; The advantage of a) would be the possibility of using something like
&gt; RDFForms[1] to describe the allowed parameters. 
&gt; 
&gt; Hmm, does anyone know an advantage of using b)?

A GET on a) may not be cached by some proxies because of the query part
of the URI. The b) URI will not suffer from this implementation pragma.

http://groups.yahoo.com/group/rest-discuss/message/4100

It may be appropriate to redirect URI a) to URI b).
Alternatively, you could include URI b) in the location header of
a response to URI a) indicating that a specific resource exists
that directly correlates to the query in URI a).

Regards
Donald.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4627<br>
Sender:"R. Mark Volkmann" &lt;mark@...&gt;<br>
Post Date/Time:2004-10-26 01:32:24<br>
Subject:Re: [rest-discuss] fact check<br>
Message:<br><br>
<pre>----- Original Message ----- 
From: "Roy T. Fielding" &lt;fielding@...&gt;
To: "R. Mark Volkmann" &lt;mark@...&gt;
Cc: "rest discuss" &lt;rest-discuss@yahoogroups.com&gt;
Sent: Monday, October 25, 2004 5:15 PM
Subject: Re: [rest-discuss] fact check


&gt; On Oct 24, 2004, at 6:15 PM, R. Mark Volkmann wrote:

&gt;&gt; I assumed that using REST as an alternative to SOAP was the most common 
&gt;&gt; use
&gt;&gt; of REST. Is that wrong?
&gt;
&gt; Completely wrong -- hypertext browsing on the Web is the most common
&gt; use of REST-based applications.  The only reason that SOAP even enters
&gt; the discussion is because some people tried to fix the major problems
&gt; with SOAP that caused its resources to be unusable on the Web, and
&gt; when they did so they used REST as the basis of their arguments.

So what's the concensus on using REST for implementing non-browser-based, 
distributed applications? Do you think REST is a reasonable alternative to 
CORBA, EJB, RMI and SOAP for many distributed applications? Of course there 
are considerations like performance, security and transaction handling to be 
dealt with. I really like the simplicity of REST, being able to easily pass 
any XML and get any XML back ... defined by some type of schema. I'm getting 
the impression though that the people on this list see this as a fringe use 
of REST. 



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4628<br>
Sender:"patrickdlogan" &lt;patrick.d.logan@...&gt;<br>
Post Date/Time:2004-10-26 04:11:20<br>
Subject:Re: Querying with POST<br>
Message:<br><br>
<pre>

--- In rest-discuss@yahoogroups.com, Jan Algermissen 
&gt;
&gt; a) http://host:port/webapp/car/bmw/z3/report?year=2004&amp;month=10
&gt; 
&gt; b) http://host:port/webapp/car/bmw/z3/report/2004/10
&gt; 
&gt; The advantage of a) would be the possibility of using something like
&gt; RDFForms[1] to describe the allowed parameters. 
&gt; ...
&gt; 
&gt; [1] http://www.markbaker.ca/2003/05/RDF-Forms/

Another advantage of (a) is the parameters may be combined from
multiple dimensions, e.g. date, power, style.

Multiple dimensions are more difficult to linearize into a single
hierarchy using (b).








</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4629<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2004-10-26 05:12:16<br>
Subject:Re: [rest-discuss] Querying with POST<br>
Message:<br><br>
<pre>&gt;
&gt; Here's my take on this.  Suppose you want a report about the sales of a
&gt; particular kind of car in a particular month.  The resource is the car and
the
&gt; report is just a specific representation.  The resource identifier could
be
&gt; http://host:port/webapp/car/bmw/z3.  The report could be requestsed by
sending
&gt; an HTTP POST to that URL with the following content.
&gt;
&gt; &lt;salesReport month="4" year="2004"/&gt;
Ouch. I'd suggest exposing every possible report as a resource. Even though
it may be tricky discovering all those resources, once any one of them has
been provided via any mechanism, it is forever a directly referenceable
resource. In addition, it is likely to be very cacheable as sales reports
don't often change (depending on your accounting firm of course). The
results of a POST aren't typically cacheable.

For example:
GET http://host:port/webapp/car/bmw/z3/reports/2004/4/
or
GET http://host:port/webapp/car/bmw/z3/reports?y=2004&amp;m=4
or
GET http://host:port/webapp/sales/2004/4?item=bmw/z3/

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4630<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2004-10-26 05:21:57<br>
Subject:Re: [rest-discuss] Querying with POST<br>
Message:<br><br>
<pre>&gt;
&gt; a) http://host:port/webapp/car/bmw/z3/report?year=2004&amp;month=10
&gt;
&gt; b) http://host:port/webapp/car/bmw/z3/report/2004/10
&gt;
&gt; The advantage of a) would be the possibility of using something like
&gt; RDFForms[1] to describe the allowed parameters.
&gt;
&gt; Hmm, does anyone know an advantage of using b)?
&gt;
My informal assumption is that URI of that form tend to be cached more
often. I ran into something at work where a page in Wiki was not available
offline because it was of the form http://wiki.mycompany.com/?SomeTopic at
the same time we also use TWiki and those pages /are/ available offline
because they use purely path-based URI.

The major disadvantage is that HTML Forms do not support mapping input
fields to path segments. A fairly bogus restriction and one that I wish the
WHAT-WG would tackle.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4631<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2004-10-26 05:38:27<br>
Subject:Re: [rest-discuss] Querying with POST<br>
Message:<br><br>
<pre>&gt;
&gt; Is the 'resources' aspect just a  point further downstream?
&gt; I start with 'I want to do X'
&gt;   (send a status report or something)
Well, I'd suggest organizing your system into the 'things' you have, then
talk about transferring them between two pieces of software.
So, you have status reports. You could send a status report to a server to
be stored. You could retrieve a status report. You could update a status
report. You could delete a status report.


&gt; Then 'how do I do that'?
&gt;   I use a resource (this sounds odd Mike),  to send a query to a server
using http
One realization is that a query does not have to be a special or privileged
operation. You don't need to 'send a query' - what you typically want to do
is to 'retrieve results'. Think in terms of the data &amp; not the operation.
The result set is the interesting bit, not the way the query itself is
written. The simplest and most generic thing is just to get the results.

&gt; (question: Does the recipient *have* to be a server?
The term 'server' just means a request handler. Any piece of software that
has socket based network library can accept incoming messages. You can find
HTTP listeners in embedded micro-controllers, etc.

&gt; What testbeds do people use for restful systems playing/testing?)
I typically prototype in JSP and then implement Java servlets based on my
personal view of 'cool' URIs.

&gt;
&gt;
&gt; &gt; For HTTP, there are several pre-defined operations that work in nearly
all situation - assuming
&gt; &gt; you have a rich set of resources to interact with.
&gt;
&gt; For this use, you make it sound like resources == 'many servers'?
A server is a 'resource manager' - it handles requests to manipulate many
many resources. The resource itself isn't necessarily a literal software
object. It may be useful to start thinking that way, but eventually you will
run into the question of what response code to use when someone sends a
DELETE to a resource that doesn't exist (hint: it's not necessarily an error
code).


&gt;
&gt; &gt;  The operations are GET (retrieve a representation of the identified
resource),
&gt; &gt; PUT (set the content of the resource identified by the client),
&gt; Never having used PUT, I'll leave that for the time being.
Fine.

&gt; &gt;  DELETE (guess what this does),
&gt; &gt; and POST (process the submitted data, possibly creating a new resource).
&gt; (server based, or am I just being old fashioned? I'm using post for
&gt; uploading 1..n files via an html form.)
&gt;
&gt; &gt;  If you want to put operation=query you can, but it is redundant with
'GET'.
&gt;
&gt; I hadn't thought of it, but I did have get in mind. Total string length
&gt; limitations allowing I guess.

&gt;
&gt; Am I right in thinking you have gone beyond client and server,
&gt; and are simply using software which takes advantage of the
&gt; http protocol?
Sort of. The term "client/server" has some historical meaning based an
evolution away from mainframe approaches, as well as a more generic term in
network application design. I just think of it as 'sender' and 'receiver'.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4632<br>
Sender:Dave Pawson &lt;davep@...&gt;<br>
Post Date/Time:2004-10-26 16:58:39<br>
Subject:Re: [rest-discuss] Querying with POST<br>
Message:<br><br>
<pre>On Tue, 2004-10-26 at 06:38, S. Mike Dierken wrote:
&gt; &gt;
&gt; &gt; Is the 'resources' aspect just a  point further downstream?
&gt; &gt; I start with 'I want to do X'
&gt; &gt;   (send a status report or something)
&gt; Well, I'd suggest organizing your system into the 'things' you have, then
&gt; talk about transferring them between two pieces of software.

OK, except you worried me in the other thread.
Quote.
&gt; &lt;salesReport month="4" year="2004"/&gt;
Ouch. I'd suggest exposing every possible report as a resource. Even
though it may be tricky discovering all those resources, once any one of
them has been provided via any mechanism, it is forever a directly
referenceable resource. 
end quote.

Does that imply that once a resource is put online, it *should* remain
online/available via a get?
 For transitory information, that sounds awfully wasteful Mike?





&gt; So, you have status reports. You could send a status report to a server to
&gt; be stored. You could retrieve a status report. You could update a status
&gt; report. You could delete a status report.

(memories of mac vs pc? noun vb or vb noun :-)

&gt; 
&gt; 
&gt; &gt; Then 'how do I do that'?
&gt; &gt;   I use a resource (this sounds odd Mike),  to send a query to a server
&gt; using http
&gt; One realization is that a query does not have to be a special or privileged
&gt; operation. You don't need to 'send a query' - what you typically want to do
&gt; is to 'retrieve results'. 

Tell me that's not nit-picking please? why differentiate?
  Go to the shop vs get a newspaper?
Same thing?



&gt; Think in terms of the data &amp; not the operation.
The data I want vs how to get it(the query)? Makes sense.

&gt; The result set is the interesting bit, not the way the query itself is
&gt; written. The simplest and most generic thing is just to get the results.
&lt;grin/&gt; Unsubtle use of get??


&gt; 
&gt; &gt; (question: Does the recipient *have* to be a server?
&gt; The term 'server' just means a request handler. Any piece of software that
&gt; has socket based network library can accept incoming messages. You can find
&gt; HTTP listeners in embedded micro-controllers, etc.

Good. I'd hate to ask all systems to host server software!
  

&gt; 
&gt; &gt; What testbeds do people use for restful systems playing/testing?)
&gt; I typically prototype in JSP and then implement Java servlets based on my
&gt; personal view of 'cool' URIs.
Thanks.


&gt; A server is a 'resource manager' - it handles requests to manipulate many
&gt; many resources.
Yes, with the explanations above that makes sense now.

&gt; &gt; Am I right in thinking you have gone beyond client and server,
&gt; &gt; and are simply using software which takes advantage of the
&gt; &gt; http protocol?
&gt; Sort of. The term "client/server" has some historical meaning based an
&gt; evolution away from mainframe approaches, as well as a more generic term in
&gt; network application design. I just think of it as 'sender' and 'receiver'.

I'd prefer that too; Makes it two systems talking/transacting,
which is more equitable :-)

Thanks Mike. 
  The fog's beginning to clear.

I was fighting rfc's this morning;
Eventually found 1.1, 
thank goodness for Milos;
http://www.zvon.org/tmRFC/RFC_share/Output/index.html
(I haven't got round to 2817 yet, I'm hoping I won't have to)




-- 
Regards DaveP.
XSLT&amp;Docbook  FAQ
http://www.dpawson.co.uk/xsl



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4633<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2004-10-27 04:32:11<br>
Subject:Re: [rest-discuss] Querying with POST<br>
Message:<br><br>
<pre>&gt;
&gt; Does that imply that once a resource is put online, it *should* remain
&gt; online/available via a get?
&gt;  For transitory information, that sounds awfully wasteful Mike?
If the server doesn't want to maintain the content, there is an HTTP
response code to indicate that, "404 Resource Not Found".

&gt; &gt; So, you have status reports. You could send a status report to a server
to
&gt; &gt; be stored. You could retrieve a status report. You could update a status
&gt; &gt; report. You could delete a status report.
&gt;
&gt; (memories of mac vs pc? noun vb or vb noun :-)
Yes, there is some superficial similarity to some ancient user interfaces -
but I don't think there is any significance to it. The UI approaches were
attempts to minimize the differences between the visual model and the users
mental model, whereas Web resources are meant to minimize a developers
effort to work with many other distant organization's systems. But it is
still an interesting echo.
The Web resource approach is more of a transition from straight C functions
to object oriented interface methods.


&gt;
&gt; &gt;
&gt; &gt;
&gt; &gt; &gt; Then 'how do I do that'?
&gt; &gt; &gt;   I use a resource (this sounds odd Mike),  to send a query to a
server
&gt; &gt; using http
&gt; &gt; One realization is that a query does not have to be a special or
privileged
&gt; &gt; operation. You don't need to 'send a query' - what you typically want to
do
&gt; &gt; is to 'retrieve results'.
&gt;
&gt; Tell me that's not nit-picking please?
It's not nit-picking.

&gt; why differentiate?
Because a 'query' is not /required/ to be different than a retrieval. There
is no uniqueness to it. It also shifts focus from
functions/methods/operations to the actual data/information being exchanged.
Creating uniformity between the two actions allows your systems to work with
other people's software even if those other people don't know what your
particular 'query' is supposed to mean. For example, how soon would
AltaVista or Google assign a developer to build code to support "Dave's
Query"? If you were writing software to send purchase orders on a schedule
to your multiple trading partners, how annoying would it be to adapt to each
of those partner's systems, rather than just sending POST and the contents
of the purchase order?

&gt;   Go to the shop vs get a newspaper?
&gt; Same thing?
No, the difference is that "go to the shop" is the detailed implementation
approach, whereas "get a newspaper" is the result regardless of the
implementation.


&gt;
&gt; &gt; Think in terms of the data &amp; not the operation.
&gt; The data I want vs how to get it(the query)? Makes sense.
Excellent.

&gt;
&gt; &gt; The result set is the interesting bit, not the way the query itself is
&gt; &gt; written. The simplest and most generic thing is just to get the results.
&gt; &lt;grin/&gt; Unsubtle use of get??
Color me guilty.

&gt;
&gt;
&gt; &gt;
&gt; &gt; &gt; (question: Does the recipient *have* to be a server?
&gt; &gt; The term 'server' just means a request handler. Any piece of software
that
&gt; &gt; has socket based network library can accept incoming messages. You can
find
&gt; &gt; HTTP listeners in embedded micro-controllers, etc.
&gt;
&gt; Good. I'd hate to ask all systems to host server software!
Oh, but imagine what could be possible if they did! Google Desktop search is
a Web server. It listens on 127.0.0.1 port 4664 (at least on my machine -
http://127.0.0.1:4664/search&amp;s=159658647?q=rest). Think of all the software
you could write and the only "API" you need is HTTP GET. Now all I have to
do is figure out how to get the freakin' software to emit XML and we're
golden... Universal plug-n-play hardware devices many times are just Web
servers (http://www.upnp.org/download/UPnPDA10_20000613.htm).


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4634<br>
Sender:"R. Mark Volkmann" &lt;mark@...&gt;<br>
Post Date/Time:2004-10-27 11:34:07<br>
Subject:REST for non-browser-based apps.<br>
Message:<br><br>
<pre>I'll ask again because I'm very interested in the opinion of experienced 
REST people on this.

What's the concensus on using REST for implementing non-browser-based, 
distributed applications? Do you think REST is a reasonable alternative to 
CORBA, EJB, RMI and SOAP for some/many distributed applications? Of course 
there are considerations like performance, security and transaction handling 
to be dealt with. But on the plus side, I really like the simplicity of 
REST, being able to easily pass any XML and get any XML back ... defined by 
some type of schema. I'm getting the impression though that most people see 
this as a fringe use of REST. True?



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4635<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2004-10-27 12:36:46<br>
Subject:Re: [rest-discuss] REST for non-browser-based apps.<br>
Message:<br><br>
<pre>On Wed, Oct 27, 2004 at 06:34:07AM -0500, R. Mark Volkmann wrote:
&gt; 
&gt; I'll ask again because I'm very interested in the opinion of experienced 
&gt; REST people on this.
&gt; 
&gt; What's the concensus on using REST for implementing non-browser-based, 
&gt; distributed applications? Do you think REST is a reasonable alternative to 
&gt; CORBA, EJB, RMI and SOAP for some/many distributed applications? Of course 
&gt; there are considerations like performance, security and transaction handling 
&gt; to be dealt with. But on the plus side, I really like the simplicity of 
&gt; REST, being able to easily pass any XML and get any XML back ... defined by 
&gt; some type of schema. I'm getting the impression though that most people see 
&gt; this as a fringe use of REST. True?

Not at all.  I've built a handful of largely RESTful app-to-app systems,
and I've found them to be far superior to those I've built using CORBA
and RMI.

Regarding "XML and ... some type of schema", I've recently used Semantic
Web technologies like RDF, and likewise consider that a superior
approach to vanilla XML/XML-Schema for data extensibility and
integration purposes.

Mark.
-- 
Mark Baker.   Ottawa, Ontario, CANADA.        http://www.markbaker.ca

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4636<br>
Sender:"Walden Mathews" &lt;walden@...&gt;<br>
Post Date/Time:2004-10-27 13:20:47<br>
Subject:Re: [rest-discuss] REST for non-browser-based apps.<br>
Message:<br><br>
<pre>My two cents...

Cent #1: REST design gives you a rather extreme decoupling
of client and server implementations.  This is nice, but it comes
at a cost: your design is more constrained than otherwise, and
your organization (developers, management, etc.) may not
understand.  Many distributed applications (most?) turn out to
be a heck of a lot *less* distributed than the WWW, not
too surprisingly, and so REST may be overkill.  You can make
compromises.

Cent#2: If you decide to apply REST principles, you may be
surprised to find how relevant a browser becomes to your
testing and even your implementation!

Regards,
Walden


----- Original Message ----- 
From: "Mark Baker" &lt;distobj@...&gt;
To: "R. Mark Volkmann" &lt;mark@...&gt;
Cc: &lt;rest-discuss@yahoogroups.com&gt;
Sent: Wednesday, October 27, 2004 8:36 AM
Subject: Re: [rest-discuss] REST for non-browser-based apps.


|
| On Wed, Oct 27, 2004 at 06:34:07AM -0500, R. Mark Volkmann wrote:
| &gt;
| &gt; I'll ask again because I'm very interested in the opinion of experienced
| &gt; REST people on this.
| &gt;
| &gt; What's the concensus on using REST for implementing non-browser-based,
| &gt; distributed applications? Do you think REST is a reasonable alternative
to
| &gt; CORBA, EJB, RMI and SOAP for some/many distributed applications? Of
course
| &gt; there are considerations like performance, security and transaction
handling
| &gt; to be dealt with. But on the plus side, I really like the simplicity of
| &gt; REST, being able to easily pass any XML and get any XML back ... defined
by
| &gt; some type of schema. I'm getting the impression though that most people
see
| &gt; this as a fringe use of REST. True?
|
| Not at all.  I've built a handful of largely RESTful app-to-app systems,
| and I've found them to be far superior to those I've built using CORBA
| and RMI.
|
| Regarding "XML and ... some type of schema", I've recently used Semantic
| Web technologies like RDF, and likewise consider that a superior
| approach to vanilla XML/XML-Schema for data extensibility and
| integration purposes.
|
| Mark.
| -- 
| Mark Baker.   Ottawa, Ontario, CANADA.        http://www.markbaker.ca
|
|
|
|
| Yahoo! Groups Links
|
|
|
|
|
|
|
|
| __________ NOD32 1.906 (20041025) Information __________
|
| This message was checked by NOD32 antivirus system.
| http://www.nod32.com
|
|


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4637<br>
Sender:Josh Sled &lt;jsled@...&gt;<br>
Post Date/Time:2004-10-27 13:45:28<br>
Subject:Re: [rest-discuss] REST for non-browser-based apps.<br>
Message:<br><br>
<pre>On Wed, 2004-10-27 at 07:34, R. Mark Volkmann wrote:

&gt; What's the concensus on using REST for implementing non-browser-based, 
&gt; distributed applications? Do you think REST is a reasonable alternative to 
&gt; CORBA, EJB, RMI and SOAP for some/many distributed applications? Of course 
&gt; there are considerations like performance, security and transaction handling 
&gt; to be dealt with. 

It's really important to note that REST is an architectural style, not a
technology -- so your list is literally apples to oranges.

For instance, you could do document/literal SOAP with endpoint names
mapping to domain resources and operation names limited to an HTTP-like
set [plus the other REST constraints] and still call it REST with a
clear conscience. ;)

At the same time, "REST" is often part-and-parcel with HTTP+XML as
implementation...


&gt; But on the plus side, I really like the simplicity of 
&gt; REST, being able to easily pass any XML and get any XML back ... defined by 
&gt; some type of schema. I'm getting the impression though that most people see 
&gt; this as a fringe use of REST. True?

I believe there are at least 2 levels of REST:

* The historical WWW -- GET for [most] retreival, POST for everything 
  else [including lot of RPC].  This is dominated by HTML [forms], 
  web-browsers and user-intervention.

* HTTP as spec'ed -- 4[+] verbs, resources as such, well-defined 
  resource spaces, &amp;c.  This is a nice ideal, but harder to find in the 
  wild.  This would also fall into the "any uniform interface", and the 
  actual architectural constraints outlined in Roy's dissertation.


In addition, a bunch of people have been talking about offshoots such
as:

* "2-wire" RPC -- "GET" and "SEND"^W^W^W"ProcessMessage" 
  operations; this is nice because it captures one of the most 
  important things about the web: seperating the "safe" and "unsafe" 
  operations.

* "1-wire" RPC -- Just the "process message" or "send document" 
  operation; I have a hard time groking how this one is useful.


My personal feelings about REST for machine/machine communication:

* HTML and the majority of the web is really tailored to human 
  /intervention/ and /interpretation/.

* Machine/machine interaction is alive and well on the web, but 
  hampered [say, by having to screen-scrape content out of HTML];
  RSS is helping change this, but only uni-directionally...

* Some "simpler" [read: machine-interpretable] format is going to be 
  critical for [semi-]autonomous-machine/machine interaction [maybe 
  RDF]. More important than the format are going to be a set of 
  agreed-to schemata for various things -- including "operations".

  * Agreeing to -- let alone defining -- semantics is hard.
  * All "stakeholders" want to be "represented", which impedes progress.
  * The most successful efforts here are going to come bottom up, 
    similar to RSS.

* Human-directed machine/machine interaction [i.e.: programming a
  client application against an XML/HTTP REST server] is both enhanced 
  and hampered by applying REST to the design:

  * Debuggability, hackability and prototypeability is excellent --  
    really useful for spinning up a new system.  Being able to do 
    things like `GET /files`,
    `POST /files &lt;file&gt;&lt;name&gt;foo&lt;/name&gt;&lt;/file&gt;` -- either from a       
    browser or by hand -- is really useful all around.  Being able to 
    script said operations for testing purposes can be good.

  * Developer understandability is helped because everything is a noun 
    and the XML is clear, but hurt because it's hard for most 
    programmers to reason about system interaction in terms of  
    resources -- they're really used to dealing with OO method 
    invocations or RPC.

  * There can be a fair amount of performance loss if you screw up the 
    design.  Say, for instance, you don't have a single GET that's 
    appropriate for the 50 resources the client requires.  Now you need 
    to do 50 singleton operations rather than 1 batch operation... :/


Plus what Walden said -- get peer + management buyoff before going too
deep on a "pure" REST approach.

...jsled

-- 
http://asynchronous.org/ - `a=jsled; b=asynchronous.org; echo ${a}@${b}`

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4638<br>
Sender:Dave Pawson &lt;davep@...&gt;<br>
Post Date/Time:2004-10-27 20:38:14<br>
Subject:Re: [rest-discuss] Querying with POST<br>
Message:<br><br>
<pre>On Wed, 2004-10-27 at 05:32, S. Mike Dierken wrote:


&gt; &gt; &gt; operation. You don't need to 'send a query' - what you typically want to
&gt; do
&gt; &gt; &gt; is to 'retrieve results'.
&gt; &gt;
&gt; &gt; Tell me that's not nit-picking please?
&gt; It's not nit-picking.
&gt; 
&gt; &gt; why differentiate?
&gt; Because a 'query' is not /required/ to be different than a retrieval. There
&gt; is no uniqueness to it. It also shifts focus from
&gt; functions/methods/operations to the actual data/information being exchanged.
&gt; Creating uniformity between the two actions allows your systems to work with
&gt; other people's software even if those other people don't know what your
&gt; particular 'query' is supposed to mean. For example, how soon would
&gt; AltaVista or Google assign a developer to build code to support "Dave's
&gt; Query"?
Ping. The light went on.
  Thanks for that. 



&gt; &gt;   Go to the shop vs get a newspaper?
&gt; &gt; Same thing?
&gt; No, the difference is that "go to the shop" is the detailed implementation
&gt; approach, whereas "get a newspaper" is the result regardless of the
&gt; implementation.

'Don't care how. Its the newpaper I want.' Yes.



&gt; &gt; Good. I'd hate to ask all systems to host server software!
&gt; Oh, but imagine what could be possible if they did!

&lt;grin/&gt; OK, dream on.
The server in my fridge is too much for me :-)


-- 
Regards DaveP.
XSLT&amp;Docbook  FAQ
http://www.dpawson.co.uk/xsl



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4639<br>
Sender:Dave Pawson &lt;davep@...&gt;<br>
Post Date/Time:2004-10-27 20:44:25<br>
Subject:Re: [rest-discuss] REST for non-browser-based apps.<br>
Message:<br><br>
<pre>On Wed, 2004-10-27 at 13:36, Mark Baker wrote:

&gt; &gt; some type of schema. I'm getting the impression though that most people see 
&gt; &gt; this as a fringe use of REST. True?
&gt; 
&gt; Not at all.  I've built a handful of largely RESTful app-to-app systems,
&gt; and I've found them to be far superior to those I've built using CORBA
&gt; and RMI.
&gt; 
&gt; Regarding "XML and ... some type of schema", I've recently used Semantic
&gt; Web technologies like RDF, and likewise consider that a superior
&gt; approach to vanilla XML/XML-Schema for data extensibility and
&gt; integration purposes.

I'm curious how you see RDF as superior to vanilla XML Mark?
Surely the sender + recipient need some shared comprehension of
the semantics of the message transmitted?
  I don't see how RDF is any better in providing that?


-- 
Regards DaveP.
XSLT&amp;Docbook  FAQ
http://www.dpawson.co.uk/xsl



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4640<br>
Sender:"R. Mark Volkmann" &lt;mark@...&gt;<br>
Post Date/Time:2004-10-31 15:05:11<br>
Subject:typical message protocols and more<br>
Message:<br><br>
<pre>Are these accurate things to say?

REST applications typically use
* HTTP as the application protocol
* HTML form POSTs or XML as the request message protocol
* HTML or XML as the response message protocol
* URLs as resource identifiers


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4641<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2004-10-31 16:30:14<br>
Subject:Re: [rest-discuss] typical message protocols and more<br>
Message:<br><br>
<pre>Mark,

"R. Mark Volkmann" wrote:
&gt; 
&gt; Are these accurate things to say?
&gt; 
&gt; REST applications typically use
&gt; * HTTP as the application protocol 

Given the ubiquity of the Web, yes. But it really has nothing to do
with HTTP per se. REST just constrains the API if the application protocol
to be uniform (equal meaning for all objects).

&gt; * HTML form POSTs or XML as the request message protocol

What do you mean by 'request message protocol'?

&gt; * HTML or XML as the response message protocol

What doe you mean by 'response message protocol'?

&gt; * URLs as resource identifiers

*If* HTTP is used as the application protokol, then yes. But (see
above) REST just constrains the identifiers to a unique addressing space
(not 100% sure if the dissertation says that) and URIs happen to 
fullfil that constraint.

Jan


&gt; 
&gt; 
&gt; 
&gt; Yahoo! Groups Links
&gt; 
&gt; 
&gt; 
&gt; 

-- 
Jan Algermissen
Consultant &amp; Programmer	
http://www.jalgermissen.com

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4642<br>
Sender:"R. Mark Volkmann" &lt;mark@...&gt;<br>
Post Date/Time:2004-10-31 15:35:15<br>
Subject:Re: [rest-discuss] typical message protocols and more<br>
Message:<br><br>
<pre>
----- Original Message ----- 
From: "Jan Algermissen" &lt;jalgermissen@...&gt;
To: "R. Mark Volkmann" &lt;mark@...&gt;
Cc: "Rest List" &lt;rest-discuss@yahoogroups.com&gt;
Sent: Sunday, October 31, 2004 10:30 AM
Subject: Re: [rest-discuss] typical message protocols and more


&gt; "R. Mark Volkmann" wrote:
&gt;&gt;
&gt;&gt; Are these accurate things to say?
&gt;
&gt;&gt; * HTML form POSTs or XML as the request message protocol
&gt;
&gt; What do you mean by 'request message protocol'?

I mean the content to HTTP PUT and POST request messages.

&gt;&gt; * HTML or XML as the response message protocol
&gt;
&gt; What doe you mean by 'response message protocol'?

I mean the content of HTTP PUT and POST response messages.

Are there other kinds of content in HTTP PUT and POST messages that are 
commonly used or are these the most common kinds of content? 



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4643<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2004-10-31 17:07:12<br>
Subject:Re: [rest-discuss] typical message protocols and more<br>
Message:<br><br>
<pre>"R. Mark Volkmann" wrote:

&gt; &gt;&gt; * HTML form POSTs or XML as the request message protocol
&gt; &gt;
&gt; &gt; What do you mean by 'request message protocol'?
&gt; 
&gt; I mean the content to HTTP PUT and POST request messages.
&gt; 
&gt; &gt;&gt; * HTML or XML as the response message protocol
&gt; &gt;
&gt; &gt; What doe you mean by 'response message protocol'?
&gt; 
&gt; I mean the content of HTTP PUT and POST response messages.

What about GET?

&gt; 
&gt; Are there other kinds of content in HTTP PUT and POST messages that are
&gt; commonly used or are these the most common kinds of content?

I am having trouble understanding what your question is, can you maybe provide some
background whay you ask this?

HTTP message bodies have a MIME type wich is specified in the message headers.

Jan



-- 
Jan Algermissen
Consultant &amp; Programmer	
http://www.jalgermissen.com

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4644<br>
Sender:"R. Mark Volkmann" &lt;mark@...&gt;<br>
Post Date/Time:2004-10-31 19:20:03<br>
Subject:Re: [rest-discuss] typical message protocols and more<br>
Message:<br><br>
<pre>----- Original Message ----- 
From: "Jan Algermissen" &lt;jalgermissen@...&gt;
To: "R. Mark Volkmann" &lt;mark@...&gt;
Cc: &lt;algermissen@...&gt;; "Rest List" &lt;rest-discuss@yahoogroups.com&gt;
Sent: Sunday, October 31, 2004 11:07 AM
Subject: Re: [rest-discuss] typical message protocols and more


&gt;
&gt; "R. Mark Volkmann" wrote:
&gt;
&gt;&gt; &gt;&gt; * HTML form POSTs or XML as the request message protocol
&gt;&gt; &gt;
&gt;&gt; &gt; What do you mean by 'request message protocol'?
&gt;&gt;
&gt;&gt; I mean the content to HTTP PUT and POST request messages.
&gt;&gt;
&gt;&gt; &gt;&gt; * HTML or XML as the response message protocol
&gt;&gt; &gt;
&gt;&gt; &gt; What doe you mean by 'response message protocol'?
&gt;&gt;
&gt;&gt; I mean the content of HTTP PUT and POST response messages.
&gt;
&gt; What about GET?

I was under the impression that HTTP GET requests don't typically have body 
content ... especially when used with REST where you just want to retrieve a 
representation of a resource that is completely specified by a URL. It's 
that the typical REST use of HTTP GET?

As for PUT and POST requests, I'm thinking about using PUT to create a new 
resource on the server or modify an existing resource on the server. The 
request body will describe the new or modified resource. How is that 
typically done? I'm guessing that the most common ways are to use a POST 
generated by an HTML form or to place XML in the request body. Does this 
sound correct?

&gt;&gt; Are there other kinds of content in HTTP PUT and POST messages that are
&gt;&gt; commonly used or are these the most common kinds of content?
&gt;
&gt; I am having trouble understanding what your question is, can you maybe 
&gt; provide some
&gt; background whay you ask this?

Hopefully what I said above explains what I'm thinking.

Now for HTTP GET and POST response messages.  I've asked a server to do 
something and it's going to send data back to me. What are the most common 
kinds of content I'll see returned?  I'm guessing it is HTML and XML. 
Correct?



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4645<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2004-10-31 20:50:10<br>
Subject:Re: [rest-discuss] typical message protocols and more<br>
Message:<br><br>
<pre>"R. Mark Volkmann" wrote:

&gt; &gt;&gt; &gt; What doe you mean by 'response message protocol'?
&gt; &gt;&gt;
&gt; &gt;&gt; I mean the content of HTTP PUT and POST response messages.
&gt; &gt;
&gt; &gt; What about GET?
&gt; 
&gt; I was under the impression that HTTP GET requests 

I thought you were refering to the response in this case. Never mind.


&gt; As for PUT and POST requests, I'm thinking about using PUT to create a new
&gt; resource on the server or modify an existing resource on the server. The
&gt; request body will describe the new or modified resource. 

Think of the PUTed representation (the message body) as a representation of
the state of the object (the resource).

How is that typically done? I'm guessing that the most common ways are to use a POST
&gt; generated by an HTML form or to place XML in the request body. Does this
&gt; sound correct?

Well, I'd say it is up to you to build your application the way you want it. If
your resources understand the icalendar MIME type, fine. If they like icalanedar
in RDF, also fine. Up to you.
 
&gt; Now for HTTP GET and POST response messages.  I've asked a server to do
&gt; something and it's going to send data back to me. What are the most common
&gt; kinds of content I'll see returned?  I'm guessing it is HTML and XML.
&gt; Correct?

You should have a look at the HTTP specs, especially 'Content Negotiation':

http://www.w3.org/Protocols/rfc2616/rfc2616-sec12.html#sec12

HTH,

Jan


-- 
Jan Algermissen
Consultant &amp; Programmer	
http://www.jalgermissen.com

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4646<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2004-11-01 01:45:35<br>
Subject:Re: [rest-discuss] REST for non-browser-based apps.<br>
Message:<br><br>
<pre>On Wed, Oct 27, 2004 at 09:44:25PM +0100, Dave Pawson wrote:
&gt; &gt; Regarding "XML and ... some type of schema", I've recently used Semantic
&gt; &gt; Web technologies like RDF, and likewise consider that a superior
&gt; &gt; approach to vanilla XML/XML-Schema for data extensibility and
&gt; &gt; integration purposes.
&gt; 
&gt; I'm curious how you see RDF as superior to vanilla XML Mark?
&gt; Surely the sender + recipient need some shared comprehension of
&gt; the semantics of the message transmitted?
&gt;   I don't see how RDF is any better in providing that?

You can search the archives of rest-discuss (or my weblog) for more, but
the gist is basically that for RDF/XML, RDF provides constraints on the
use of XML which provides for improved visibility into, and
extensibility of, data.

Mark.
-- 
Mark Baker.   Ottawa, Ontario, CANADA.        http://www.markbaker.ca

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4647<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2004-11-02 06:03:30<br>
Subject:Re: [rest-discuss] typical message protocols and more<br>
Message:<br><br>
<pre>&gt; REST applications typically use
&gt; * HTTP as the application protocol
Yes.
&gt; * URLs as resource identifiers
Yes.

&gt; * HTML form POSTs or XML as the request message protocol
When transferring state to the server (POST, PUT) data is often sent as
name/value pairs (encoded per the application/x-www-urlencoded definition).
There are also file uploads where the server accepts multipart/form-data -
each part has a content type associated. Of course, it's quite common to
just directly POST or PUT the binary content of the data being transferred.

&gt; * HTML or XML as the response message protocol
Perhaps in sheer numbers of resources, HTML, CSS, GIF, JavaScript, etc. are
fairly popular content-types when retrieving representations of resources.
RSS/Atom is getting more popular, but that could just be due to poor
caching... (that's sort of a joke...)




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4648<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2004-11-02 05:58:59<br>
Subject:Re: [rest-discuss] typical message protocols and more<br>
Message:<br><br>
<pre>&gt;
&gt; Now for HTTP GET and POST response messages.  I've asked a server to do
&gt; something and it's going to send data back to me. What are the most common
&gt; kinds of content I'll see returned?  I'm guessing it is HTML and XML.
&gt; Correct?
The content returned depends on what the request expects and has asked for.
For example, if you run across a document with an &lt;img src="..."&gt; tag, the
client application would expect to be able to transfer an image to or from
the specified resource.
The HTTP GET request has an Accept header that specifies a list of desired
content-types - so your app might reasonable ask for PNG or JPG or GIF when
retrieving an image.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4649<br>
Sender:"R. Mark Volkmann" &lt;mark@...&gt;<br>
Post Date/Time:2004-11-05 13:19:02<br>
Subject:new REST article<br>
Message:<br><br>
<pre>I wrote an article on REST that includes details on a Java implementation.  It
focuses primarily on using REST to build distributed applications that are not
necessarily web apps.  I'd be interested in any feedback on it.  You can find
it at http://www.ociweb.com/jnb/jnbNov2004.html.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4650<br>
Sender:Vincent D Murphy &lt;vdm@...&gt;<br>
Post Date/Time:2004-11-05 14:45:06<br>
Subject:Re: [rest-discuss] new REST article<br>
Message:<br><br>
<pre>R. Mark Volkmann wrote:
&gt; I wrote an article on REST that includes details on a Java implementation.  It
&gt; focuses primarily on using REST to build distributed applications that are not
&gt; necessarily web apps.  I'd be interested in any feedback on it.  You can find
&gt; it at http://www.ociweb.com/jnb/jnbNov2004.html.

http://del.icio.us/url/be4c1b5c9756692d7d5fdbd47c10b28f


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4651<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2004-11-06 06:01:48<br>
Subject:Re: [rest-discuss] new REST article<br>
Message:<br><br>
<pre>The more articles explaining REST the better! Thanks for taking the time to
do this.

"Overview - The main ideas behind REST are [...]"
The Overview only mentions retrieval of representations.

"REST Characteristics - Clients "pull" resource representations from
server."
There is more to state transfer than retrieval. Clients can 'push' content
to any reachable endpoint.

"No server-side state is used to process the request."
I know what you mean, but this might be a bit confusing for a newcomer.

"Responses can be labeled as "cacheable" so clients know if it is safe to
cache responses for performance reasons. "
Excellent. I always forget to mention this.

"PUT - creates a new resource or modifies an existing resource and typically
returns the resource URL"
I'm not sure the resouce URI is actually returned, since PUT requires the
URI in the incoming request. POST sometimes returns the ID of a newly
created resource.

The CRUD discussion is a little unclear. PUT is used to set the state of an
identified resource regardless of whether it existed before - sort of like
an UPSERT in the SQL world. And POST is used for both create and update
operations, but the distinction isn't visible in the HTTP. A little more
discussion &amp; comparison/contrast in this area may help some of the audience.


I like the idea of providing a set of Java classes for application
developers - that's an under-served audience in this area.
If you are extremely bored, you might want to look at
http://xml.apache.org/projects/xang/ for an older Java servlet-based
framework for REST based applications (you have to get past some of the
blather and look at the code, I really should dust off that code and
simplify the docs...). But really, for this stuff, once a developer
understands the ideas, the 'framework' is only a very small amount of code.

Also, for a good Java HTTP client library, take a look at Apache's Commons
project http://jakarta.apache.org/commons/httpclient/.

"REST is not appropriate for stateful applications"
You should also mention that stateful applications are not appropriate for
the Web (or scalability, etc.).

"REST isn't currently preferred over SOAP by major players"
Hmm, I work at a little bookstore in Seattle &amp; we use REST style software
all the time.
Perhaps you meant by major vendors?



----- Original Message ----- 
From: "R. Mark Volkmann" &lt;mark@...&gt;
To: "Rest List" &lt;rest-discuss@yahoogroups.com&gt;
Sent: Friday, November 05, 2004 5:19 AM
Subject: [rest-discuss] new REST article


&gt;
&gt; I wrote an article on REST that includes details on a Java implementation.
It
&gt; focuses primarily on using REST to build distributed applications that are
not
&gt; necessarily web apps.  I'd be interested in any feedback on it.  You can
find
&gt; it at http://www.ociweb.com/jnb/jnbNov2004.html.
&gt;
&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4652<br>
Sender:"R. Mark Volkmann" &lt;mark@...&gt;<br>
Post Date/Time:2004-11-06 12:19:25<br>
Subject:Re: [rest-discuss] new REST article<br>
Message:<br><br>
<pre>Thanks for taking the time to review my article!
I'll try to incorporate your feedback this weekend.

----- Original Message ----- 
From: "S. Mike Dierken" &lt;mdierken@...&gt;
To: "Rest List" &lt;rest-discuss@yahoogroups.com&gt;; "R. Mark Volkmann" 
&lt;mark@...&gt;
Sent: Saturday, November 06, 2004 12:01 AM
Subject: Re: [rest-discuss] new REST article


&gt;
&gt; The more articles explaining REST the better! Thanks for taking the time 
&gt; to
&gt; do this.
&gt;
&gt; "Overview - The main ideas behind REST are [...]"
&gt; The Overview only mentions retrieval of representations.
&gt;
&gt; "REST Characteristics - Clients "pull" resource representations from
&gt; server."
&gt; There is more to state transfer than retrieval. Clients can 'push' content
&gt; to any reachable endpoint.
&gt;
&gt; "No server-side state is used to process the request."
&gt; I know what you mean, but this might be a bit confusing for a newcomer.
&gt;
&gt; "Responses can be labeled as "cacheable" so clients know if it is safe to
&gt; cache responses for performance reasons. "
&gt; Excellent. I always forget to mention this.
&gt;
&gt; "PUT - creates a new resource or modifies an existing resource and 
&gt; typically
&gt; returns the resource URL"
&gt; I'm not sure the resouce URI is actually returned, since PUT requires the
&gt; URI in the incoming request. POST sometimes returns the ID of a newly
&gt; created resource.
&gt;
&gt; The CRUD discussion is a little unclear. PUT is used to set the state of 
&gt; an
&gt; identified resource regardless of whether it existed before - sort of like
&gt; an UPSERT in the SQL world. And POST is used for both create and update
&gt; operations, but the distinction isn't visible in the HTTP. A little more
&gt; discussion &amp; comparison/contrast in this area may help some of the 
&gt; audience.
&gt;
&gt;
&gt; I like the idea of providing a set of Java classes for application
&gt; developers - that's an under-served audience in this area.
&gt; If you are extremely bored, you might want to look at
&gt; http://xml.apache.org/projects/xang/ for an older Java servlet-based
&gt; framework for REST based applications (you have to get past some of the
&gt; blather and look at the code, I really should dust off that code and
&gt; simplify the docs...). But really, for this stuff, once a developer
&gt; understands the ideas, the 'framework' is only a very small amount of 
&gt; code.
&gt;
&gt; Also, for a good Java HTTP client library, take a look at Apache's Commons
&gt; project http://jakarta.apache.org/commons/httpclient/.
&gt;
&gt; "REST is not appropriate for stateful applications"
&gt; You should also mention that stateful applications are not appropriate for
&gt; the Web (or scalability, etc.).
&gt;
&gt; "REST isn't currently preferred over SOAP by major players"
&gt; Hmm, I work at a little bookstore in Seattle &amp; we use REST style software
&gt; all the time.
&gt; Perhaps you meant by major vendors?
&gt;
&gt;
&gt;
&gt; ----- Original Message ----- 
&gt; From: "R. Mark Volkmann" &lt;mark@...&gt;
&gt; To: "Rest List" &lt;rest-discuss@yahoogroups.com&gt;
&gt; Sent: Friday, November 05, 2004 5:19 AM
&gt; Subject: [rest-discuss] new REST article
&gt;
&gt;
&gt;&gt;
&gt;&gt; I wrote an article on REST that includes details on a Java 
&gt;&gt; implementation.
&gt; It
&gt;&gt; focuses primarily on using REST to build distributed applications that 
&gt;&gt; are
&gt; not
&gt;&gt; necessarily web apps.  I'd be interested in any feedback on it.  You can
&gt; find
&gt;&gt; it at http://www.ociweb.com/jnb/jnbNov2004.html.
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt; Yahoo! Groups Links
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;
&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt; 



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4653<br>
Sender:Josh Sled &lt;jsled@...&gt;<br>
Post Date/Time:2004-11-09 13:42:24<br>
Subject:Amazon Simple Queue Service "REST"ful interface?<br>
Message:<br><br>
<pre>What do people think of Amazon's "REST" interface to their beta Simple
Queue Services [1]?  The idea of the service -- a generic
4k/4k-byte/item queue -- is pretty sweet: simple, powerful and generic.

But the "REST" API leaves something to be desired.  It seems like all
operations -- mutation as well as retreival are done via GET, with the
magic "Operation={whatever}" ... let alone REST "Level 1" , this doesn't
even make a "get/post" distinction!

Queues are identified by parameter name rather than as a resource...

I haven't played with it, but I have a sneaking suspicion that the
responses always come back 200, with the actual error code in the
response body.

There's no /hypermedia as engine of application state/ involved, unless
you count the API docs as such. :(

So, we have a major vendor promoting a REST interface [yay!] that shares
ZERO components with the architectural style of the same name, nor any
further conceptualization of it people on this list seem to have [boo!].

...jsled


[1]: http://www.amazon.com/gp/aws/sdk/102-1177876-7264137?s=AWSSimpleQueueService&amp;v=1%2d0
[2]: http://asynchronous.org/blog/archives/2004/08/25/levels_of_rest.html

-- 
http://asynchronous.org/ - `a=jsled; b=asynchronous.org; echo ${a}@${b}`

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4654<br>
Sender:&lt;jalgermissen@...&gt;<br>
Post Date/Time:2004-11-09 14:42:05<br>
Subject:Re: [rest-discuss] Amazon Simple Queue Service "REST"ful interface?<br>
Message:<br><br>
<pre>
Josh Sled &lt;jsled@...&gt; schrieb am 09.11.2004, 14:42:24:
&gt; 
&gt; What do people think of Amazon's "REST" interface to their beta Simple
&gt; Queue Services [1]?  
The idea of the service -- a generic
&gt; 4k/4k-byte/item queue -- is pretty sweet: simple, powerful and generic.

Yes, the idea is very nice (and might actually be a good business model
some day, given the provider can establish enough trust in the
service).


&gt; 
&gt; But the "REST" API leaves something to be desired.  It seems like all
&gt; operations -- mutation as well as retreival are done via GET, with the
&gt; magic "Operation={whatever}" ... let alone REST "Level 1" , this doesn't
&gt; even make a "get/post" distinction!

Yes, its pretty ugly ;-( I guess they only mapped the underlying (SOAP
orianted) app to URI params, in order to beeing able to call it RESTful.

&gt; 
&gt; Queues are identified by parameter name rather than as a resource...
&gt; 
&gt; I haven't played with it, but I have a sneaking suspicion that the
&gt; responses always come back 200, with the actual error code in the
&gt; response body.

You bet :o)

What I like is the pattern and given enough time, I'd surely like to
implement this RESTfully. I think there are quite some issues to
explore wrt reliability atc.

Did you notice the read-and-remove operation? I wonder if that should
be done via POST to the queue or via DELETE to the enqueued item. Any
thoughts?


&gt; 
&gt; There's no /hypermedia as engine of application state/ involved, unless
&gt; you count the API docs as such. :(


&gt; 
&gt; So, we have a major vendor promoting a REST interface [yay!] that shares
&gt; ZERO components with the architectural style of the same name, nor any
&gt; further conceptualization of it people on this list seem to have [boo!].

Yes, boo! but this also indicates that REST is (somehow) a marketing
factor...that's not bad after all.

Jan


&gt; 
&gt; ...jsled
&gt; 
&gt; 
&gt; [1]: http://www.amazon.com/gp/aws/sdk/102-1177876-7264137?s=AWSSimpleQueueService&amp;v=1%2d0
&gt; [2]: http://asynchronous.org/blog/archives/2004/08/25/levels_of_rest.html
&gt; 
&gt; -- 
&gt; http://asynchronous.org/ - `a=jsled; b=asynchronous.org; echo ${a}@${b}`
&gt; 
&gt; 
&gt; 
&gt;  
&gt; Yahoo! Groups Links
&gt; 
&gt;  To visit your group on the web, go to:
&gt;     http://groups.yahoo.com/group/rest-discuss/
&gt; 
&gt;  To unsubscribe from this group, send an email to:
&gt;     rest-discuss-unsubscribe@yahoogroups.com
&gt; 
&gt;  Your use of Yahoo! Groups is subject to:
&gt;     http://docs.yahoo.com/info/terms/
-- 
Jan Algermissen                &lt;algermissen@...&gt;
Consultant &amp; Programmer

http://www.topicmapping.com
http://www.gooseworks.org

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4655<br>
Sender:&lt;jalgermissen@...&gt;<br>
Post Date/Time:2004-11-09 15:10:02<br>
Subject:Re: Re: [rest-discuss] Amazon Simple Queue Service "REST"ful interface?<br>
Message:<br><br>
<pre>
jalgermissen@... schrieb am 09.11.2004, 15:42:05:
&gt; 
&gt; 
&gt; Josh Sled  schrieb am 09.11.2004, 14:42:24:
&gt; &gt; 
&gt; &gt; What do people think of Amazon's "REST" interface to their beta Simple
&gt; &gt; Queue Services [1]?  

Duh...I just realized that even the subscription ID is part of the URI!
I cannot even send you the ID of my queue without sending you my ID.

Jan

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4656<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2004-11-09 15:58:17<br>
Subject:Re: [rest-discuss] Amazon Simple Queue Service "REST"ful interface?<br>
Message:<br><br>
<pre>I think it's perhaps fair to say that they got the general document
oriented, asynch queue bit more or less right, but botched the mapping
to the Web.

I don't know why they didn't just use mod-pubsub.

Mark.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4657<br>
Sender:Vincent D Murphy &lt;vdm@...&gt;<br>
Post Date/Time:2004-11-09 16:32:40<br>
Subject:Re: Re: [rest-discuss] Amazon Simple Queue Service "REST"ful interface?<br>
Message:<br><br>
<pre>jalgermissen@... wrote:
&gt; Yes, boo! but this also indicates that REST is (somehow) a marketing
&gt; factor...that's not bad after all.

It is bad if the REST concept gets usurped and becomes meaningless
to a lot of people (i.e. those who are not on rest-discuss).

cf. XML, which is supposed to be just syntax.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4658<br>
Sender:Josh Sled &lt;jsled@...&gt;<br>
Post Date/Time:2004-11-09 16:43:20<br>
Subject:Re: Re: [rest-discuss] Amazon Simple Queue Service "REST"ful	interface?<br>
Message:<br><br>
<pre>On Tue, 2004-11-09 at 11:32, Vincent D Murphy wrote:
&gt; jalgermissen@... wrote:
&gt; &gt; Yes, boo! but this also indicates that REST is (somehow) a marketing
&gt; &gt; factor...that's not bad after all.
&gt; 
&gt; It is bad if the REST concept gets usurped and becomes meaningless
&gt; to a lot of people (i.e. those who are not on rest-discuss).

I think that's the big problem, here.  What Amazon is publishing here --
albeit in beta form -- it seems like a nice and simple interface to a
useful concept without the overhead of SOAP...

It is not REST, however.

I'm thinking more "brand dilution", "confusion" and "making all our
lives harder" ... let alone simple incorrectness.

...jsled

-- 
http://asynchronous.org/ - `a=jsled; b=asynchronous.org; echo ${a}@${b}`


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4659<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2004-11-09 20:33:50<br>
Subject:Re: [rest-discuss] Amazon Simple Queue Service "REST"fulinterface?<br>
Message:<br><br>
<pre>Josh Sled wrote:

&gt; I'm thinking more "brand dilution", "confusion" and "making all our
&gt; lives harder" ... let alone simple incorrectness.

So, we should develop a counter example to give people a chance to
compare. I think REST WS desparately need live examples. That's how
people learn.


I'll start doing that this week. If anybody's interested to join in I;d be
happy. Let me know.

Jan





&gt; ...jsled
&gt; 
&gt; --
&gt; http://asynchronous.org/ - `a=jsled; b=asynchronous.org; echo ${a}@${b}`
&gt; 
&gt; 
&gt; 
&gt; Yahoo! Groups Links
&gt; 
&gt; 
&gt; 
&gt; 

-- 
Jan Algermissen
Consultant &amp; Programmer	
http://www.jalgermissen.com

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4660<br>
Sender:Vincent D Murphy &lt;vdm@...&gt;<br>
Post Date/Time:2004-11-09 20:11:14<br>
Subject:Re: [rest-discuss] Amazon Simple Queue Service "REST"fulinterface?<br>
Message:<br><br>
<pre>Jan Algermissen wrote:
&gt; So, we should develop a counter example to give people a chance to
&gt; compare. I think REST WS desparately need live examples. That's how
&gt; people learn.

When I saw the list of operations after chasing the
link from my blogroll, I thought like this:

1. Managing Queues
CreateQueue       POST /queues
ListMyQueues      GET  /queues
DeleteQueue       DELETE /queues/queue_key
ConfigureQueue    PUT    /queues/queue_key

2. Using Queues and Values
Enqueue           POST   /queues/queue_key
Read              GET    /queues/queue_key/item_key
Dequeue           DELETE /queues/queue_key/item_key

Of course, /queues might have a parent other than
the root. _key segments are placeholders; I just
like to call them keys rather than names or IDs or
whatever you might prefer.

I must admit though, that I have no idea what Simple
Queue Services are good for, and why I might want to
use them.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4661<br>
Sender:Vincent D Murphy &lt;vdm@...&gt;<br>
Post Date/Time:2004-11-09 20:16:54<br>
Subject:Re: [rest-discuss] Amazon Simple Queue Service "REST"fulinterface?<br>
Message:<br><br>
<pre>Vincent D Murphy wrote:
&gt; 2. Using Queues and Values
&gt; Enqueue           POST   /queues/queue_key
&gt; Read              GET    /queues/queue_key/item_key
&gt; Dequeue           DELETE /queues/queue_key/item_key
&gt; 
&gt; Of course, /queues might have a parent other than
&gt; the root. _key segments are placeholders; I just
&gt; like to call them keys rather than names or IDs or
&gt; whatever you might prefer.

Probably better:

Read              GET    /queues/queue_key/an_item

Where an_item is a sentinel value. This is distinct
from

GET /queues/queue_key

which could give a list of the items in the queue.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4662<br>
Sender:Josh Sled &lt;jsled@...&gt;<br>
Post Date/Time:2004-11-10 02:44:29<br>
Subject:Re: [rest-discuss] Amazon Simple Queue Service "REST"fulinterface?<br>
Message:<br><br>
<pre>On Tue, 2004-11-09 at 15:33, Jan Algermissen wrote:

&gt; So, we should develop a counter example to give people a chance to
&gt; compare. I think REST WS desparately need live examples. That's how
&gt; people learn.

Yeah ... you're right.

Attached is a simple python script [depending on twisted] implementing
most of a /queue web service.  Specifically:

GET /  [overall docs]
GET /queue
POST /queue =&gt; /queue/{name}
GET /queue/{name}
DELETE /queue/{name}
POST /queue/{name} =&gt; /queue/{name}/{key} = {item}
GET /queue/{name}/{key}
DELETE /queue/{name}/{key}

...are supported.  The response is mostly HTML, with html:form's for the
POSTS and an escaped version of a "queue" XML format ... if I spent more
than a couple of hours on it I'd probably go with RDF.

./queue.py to run [assuming python + twisted]; binds to port 8000.

Notably absent are:
* auth [HTTP or otherwise]
* queue configuration
  * the weird timeout/locking thing...
* persistance, stability, &amp;c...


&gt; I'll start doing that this week. If anybody's interested to join in I;d be
&gt; happy. Let me know.

Sorry ... this has [obviously] been bothering me today. :)

...jsled

-- 
http://asynchronous.org/ - `a=jsled; b=asynchronous.org; echo ${a}@${b}`
</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4663<br>
Sender:Josh Sled &lt;jsled@...&gt;<br>
Post Date/Time:2004-11-10 03:10:48<br>
Subject:Re: [rest-discuss] Amazon Simple Queue Service "REST"fulinterface?<br>
Message:<br><br>
<pre>On Tue, 2004-11-09 at 21:44, Josh Sled wrote:
&gt; Attached is a simple python script [depending on twisted] implementing
&gt; most of a /queue web service.  Specifically:

And because the yahoo groups web interface drops attachments...
http://asynchronous.org/blog/archives/2004/11/09/a_fitful_rest.html

...jsled
-- 
http://asynchronous.org/ - `a=jsled; b=asynchronous.org; echo ${a}@${b}`

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4664<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2004-11-10 04:36:19<br>
Subject:Re: [rest-discuss] Amazon Simple Queue Service "REST"fulinterface?<br>
Message:<br><br>
<pre>&gt;
&gt; So, we should develop a counter example to give people a chance to
&gt; compare. I think REST WS desparately need live examples. That's how
&gt; people learn.

That's what I was thinking too. For this specific example - a queue - I was
thinking a simple servlet with filesystem storage for messages would be
super easy to implement. The definition of resources &amp; operations should
mirror the Amazon 'example' to make comparisons easier.

There was a lot of discussion about a year ago on rest-discuss about how to
do message queueing as pure REST operations. I think the only tricky part
was the 'pop message off queue' operation in the face of delivering to a
single consumer.


----- Original Message ----- 
From: "Jan Algermissen" &lt;jalgermissen@...&gt;
To: &lt;jsled@...&gt;
Cc: "Vincent D Murphy" &lt;vdm@...&gt;; &lt;rest-discuss@yahoogroups.com&gt;
Sent: Tuesday, November 09, 2004 12:33 PM
Subject: Re: [rest-discuss] Amazon Simple Queue Service "REST"fulinterface?


&gt;
&gt; Josh Sled wrote:
&gt;
&gt; &gt; I'm thinking more "brand dilution", "confusion" and "making all our
&gt; &gt; lives harder" ... let alone simple incorrectness.
&gt;
&gt; So, we should develop a counter example to give people a chance to
&gt; compare. I think REST WS desparately need live examples. That's how
&gt; people learn.
&gt;
&gt;
&gt; I'll start doing that this week. If anybody's interested to join in I;d be
&gt; happy. Let me know.
&gt;
&gt; Jan
&gt;
&gt;
&gt;
&gt;
&gt;
&gt; &gt; ...jsled
&gt; &gt;
&gt; &gt; --
&gt; &gt; http://asynchronous.org/ - `a=jsled; b=asynchronous.org; echo ${a}@${b}`
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt; Yahoo! Groups Links
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt;
&gt; -- 
&gt; Jan Algermissen
&gt; Consultant &amp; Programmer
&gt; http://www.jalgermissen.com
&gt;
&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4665<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2004-11-10 04:33:06<br>
Subject:Re: [rest-discuss] Amazon Simple Queue Service "REST"ful interface?<br>
Message:<br><br>
<pre>Yeah, I saw that API and wasn't too pleased either.
http://korrespondence.blogspot.com/2004/11/amazon-simple-queue-dequeue-operation.html

There's a slight 'not invented here' attitude I suspect.

I'll check around and see if I can inject myself into future design reviews,
but I'm not going to hold my breath.


----- Original Message ----- 
From: "Mark Baker" &lt;distobj@...&gt;
To: "Josh Sled" &lt;jsled@...&gt;
Cc: &lt;rest-discuss@yahoogroups.com&gt;
Sent: Tuesday, November 09, 2004 7:58 AM
Subject: Re: [rest-discuss] Amazon Simple Queue Service "REST"ful interface?


&gt;
&gt; I think it's perhaps fair to say that they got the general document
&gt; oriented, asynch queue bit more or less right, but botched the mapping
&gt; to the Web.
&gt;
&gt; I don't know why they didn't just use mod-pubsub.
&gt;
&gt; Mark.
&gt;
&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4666<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2004-11-10 04:39:18<br>
Subject:Re: [rest-discuss] Amazon Simple Queue Service "REST"fulinterface?<br>
Message:<br><br>
<pre>
&gt; Dequeue           DELETE /queues/queue_key/item_key
I think this is the only tricky one. I imagine a client would like to
'guarantee' that only one consumer processes a message. I was thinking of
conditional headers (if-match, etc.)

&gt; I must admit though, that I have no idea what Simple
&gt; Queue Services are good for, and why I might want to
&gt; use them.
I think we'll all be suprised at what developers will come up with. But I
was also curious what the 'sweet spot' would be for a distributed queue
processing with the large latencies (relative to a data center behind a
corporate firewall). I'm also wondering if POP3 wouldn't be an easier system
to base this on.



----- Original Message ----- 
From: "Vincent D Murphy" &lt;vdm@...&gt;
To: &lt;rest-discuss@yahoogroups.com&gt;
Sent: Tuesday, November 09, 2004 12:11 PM
Subject: Re: [rest-discuss] Amazon Simple Queue Service "REST"fulinterface?


&gt;
&gt; Jan Algermissen wrote:
&gt; &gt; So, we should develop a counter example to give people a chance to
&gt; &gt; compare. I think REST WS desparately need live examples. That's how
&gt; &gt; people learn.
&gt;
&gt; When I saw the list of operations after chasing the
&gt; link from my blogroll, I thought like this:
&gt;
&gt; 1. Managing Queues
&gt; CreateQueue       POST /queues
&gt; ListMyQueues      GET  /queues
&gt; DeleteQueue       DELETE /queues/queue_key
&gt; ConfigureQueue    PUT    /queues/queue_key
&gt;
&gt; 2. Using Queues and Values
&gt; Enqueue           POST   /queues/queue_key
&gt; Read              GET    /queues/queue_key/item_key
&gt; Dequeue           DELETE /queues/queue_key/item_key
&gt;
&gt; Of course, /queues might have a parent other than
&gt; the root. _key segments are placeholders; I just
&gt; like to call them keys rather than names or IDs or
&gt; whatever you might prefer.
&gt;
&gt; I must admit though, that I have no idea what Simple
&gt; Queue Services are good for, and why I might want to
&gt; use them.
&gt;
&gt;
&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4667<br>
Sender:"Mnot" &lt;mnot@...&gt;<br>
Post Date/Time:2004-11-11 01:34:16<br>
Subject:Re: Thanks :)<br>
Message:<br><br>
<br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4668<br>
Sender:Andrew Hallam &lt;ahallam@...&gt;<br>
Post Date/Time:2004-11-11 10:19:30<br>
Subject:Locator Service and Resources Describing Geographic Location<br>
Message:<br><br>
<pre>
Hi All,

I'm starting the process of designing XML over HTTP service that is used 
to find "things" that exist in the real world. Those things might be 
named places/regions (towns, suburbs, administrative regions), roads, 
road segments, or physical devices. The goal is to obtain a list of 
resources that match a set of search criteria.

I think I know what I'm doing when it comes to giving each "thing" 
resource a unique URI. What I'm having trouble with is the RESTfullness 
of the application that lets me find sets of these resources from their 
parent collections. My confusion is related to whether each resource 
type should have its own collection resource, or whether one end point 
can handle all resource types.

When searching for the resources that represent the "thing" I'm trying 
to locate there are two selection methods:

1. Name, or partial name match.
2. Geographic bounding box (minX, minY, maxX, maxY)

As an example, say I need to find towns and one particular type of device.

Should I use a generic locator:

GET /location?type=town&amp;state=TAS&amp;name=nowhere
GET /location?type=device&amp;minX=140&amp;minY=-34&amp;maxX=154&amp;maxY=-20

of should I have use something like:

GET /town?state=TAS&amp;name=nowhere
GET /device?minX=140&amp;minY=-34&amp;maxX=154&amp;maxY=-20

If I use the second approach, should the resource representing the 
collection of towns and devices actually be named "/towns" and "/devices"?

Thanks for any advice.

-- 
Regards
Andrew Hallam

Digital Earth Pty Ltd
http://www.digitalearth.com.au




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4669<br>
Sender:Yao Heling &lt;yaoheling@...&gt;<br>
Post Date/Time:2004-11-11 14:56:56<br>
Subject:Is it possible to make a cgi like app restful?<br>
Message:<br><br>
<pre>
Hi,

I'm rather new to rest and like its simple but
powerful nature. I was
wondering if it's possible to make the following kind
of app restful,
such as:

http://localhost:8080/wms/?SERVICE=WMS&amp;VERSION=1.1.1&amp;REQUEST=GetMap&amp;FORMAT=image/png&amp;TRANSPARENT=TRUE&amp;LAYERS=POLYGON,LINE,POINT&amp;SRS=EPSG:4326&amp;BBOX=-0.5,51.0,0.5,52.0&amp;HEIGHT=500&amp;WIDTH=500

Actually, this is an implementation of
www.opengis.org's Web Mapping
Implementation Spec. My best effort to restize the
above is:

http://localhost:8080/WMS/1.1/GetMap...

but I don't know what to do with the rest parameters.
By the way, SRS
stands for Spatial Refrence System, and BBOX is the
bounding box of the
map.

Is there a way to make the above more restful?

Any suggestions/hints are welcome.


Thanks,

Joseph H. Yao



		
__________________________________ 
Do you Yahoo!? 
Check out the new Yahoo! Front Page. 
www.yahoo.com 
 





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4670<br>
Sender:Josh Sled &lt;jsled@...&gt;<br>
Post Date/Time:2004-11-11 15:14:13<br>
Subject:Re: [rest-discuss] Is it possible to make a cgi like app restful?<br>
Message:<br><br>
<pre>On Thu, 2004-11-11 at 09:56, Yao Heling wrote:

&gt; http://localhost:8080/wms/?SERVICE=WMS&amp;VERSION=1.1.1&amp;REQUEST=GetMap&amp;FORMAT=image/png&amp;TRANSPARENT=TRUE&amp;LAYERS=POLYGON,LINE,POINT&amp;SRS=EPSG:4326&amp;BBOX=-0.5,51.0,0.5,52.0&amp;HEIGHT=500&amp;WIDTH=500
&gt; 
&gt; Actually, this is an implementation of
&gt; www.opengis.org's Web Mapping
&gt; Implementation Spec. My best effort to restize the
&gt; above is:
&gt; 
&gt; http://localhost:8080/WMS/1.1/GetMap...

Well, "GET" is probably redundant, there ...

What about:
  GET /map

&gt; but I don't know what to do with the rest parameters.

They paramaterize the map being returned ... so they probably stay
as-is, eh?

&gt; Is there a way to make the above more restful?

Certainly.  On top of modeling the resource in question and giving it a
URI, anohter important aspect is using hypermedia [HTML].  So,
generically, `GET /map` should return HTML with a form containing the
allowable paramaters with enough of a description for the user to get a
map resource back out.


&gt; Any suggestions/hints are welcome.

http://rest.blueoxen.net/cgi-bin/wiki.pl

...jsled

-- 
http://asynchronous.org/ - `a=jsled; b=asynchronous.org; echo ${a}@${b}`

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4671<br>
Sender:Andrew Hallam &lt;ahallam@...&gt;<br>
Post Date/Time:2004-11-14 05:40:04<br>
Subject:Re: [rest-discuss] Is it possible to make a cgi like app restful?<br>
Message:<br><br>
<pre>Yao Heling wrote:
&gt; I was wondering if it's possible to make the following kind
&gt; of app restful, such as:
&gt; 
&gt; http://localhost:8080/wms/?SERVICE=WMS&amp;VERSION=1.1.1&amp;REQUEST=GetMap&amp;FORMAT=image/png&amp;TRANSPARENT=TRUE&amp;LAYERS=POLYGON,LINE,POINT&amp;SRS=EPSG:4326&amp;BBOX=-0.5,51.0,0.5,52.0&amp;HEIGHT=500&amp;WIDTH=500

I agree that the Web Map Service URL structure is a bit cumbersome, and 
not as RESTful as it could be, but it is a standard. If you wish to 
retain the ability of the map server to interoperate with other WMS 
compliant applications I'd recommend not changing the mandatory and 
optional query parameters.

That said, some map servers also require additional "vendor specific" 
parameters in the query string that identify the service name. e.g.

http://localhost:8080/servlet/long.java.class.name?servicename=mymapservice&amp;VERSION=...
http://maps.digitalearth.com.au/mapserv/mapserv.exe?map=map/natwarn.map&amp;VERSION=...

This can be made a bit more restful by moving these vendor specific 
parameters into the URL path.

http://localhost:8080/map/mymapservice?VERSION=...
http://maps.digitalearth.com.au/mapserv/natwarn?VERSION=...

By the way, you do not need the SERVICE=WMS&amp; parameter in a GetMap 
request, but it is used in GetCapabilities requests.

Kind regards
Andrew Hallam

Digital Earth Pty Ltd
http://www.digitalearth.com.au



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4672<br>
Sender:Yao Heling &lt;yaoheling@...&gt;<br>
Post Date/Time:2004-11-14 06:45:25<br>
Subject:Re: [rest-discuss] Is it possible to make a cgi like app restful?<br>
Message:<br><br>
<pre>On Sun, Nov 14, 2004 at 04:40:04PM +1100, Andrew
Hallam wrote:

&gt; &gt;
http://localhost:8080/wms/?SERVICE=WMS&amp;VERSION=1.1.1&amp;REQUEST=GetMap&amp;FORMAT=image/png&amp;TRANSPARENT=TRUE&amp;LAYERS=POLYGON,LINE,POINT&amp;SRS=EPSG:4326&amp;BBOX=-0.5,51.0,0.5,52.0&amp;HEIGHT=500&amp;WIDTH=500
&gt; 
&gt; I agree that the Web Map Service URL structure is a
bit cumbersome, and 
&gt; not as RESTful as it could be, but it is a standard.
If you wish to 
&gt; retain the ability of the map server to interoperate
with other WMS 
&gt; compliant applications I'd recommend not changing
the mandatory and 
&gt; optional query parameters.
&gt; 

You're right. One should not mess with an OGC spec,
and here I'm using
WMS as an example to solicit opinions on how to
transform like
interfaces to RESTful ones if possible. 

The Web Mapping Services and Web Features Services of
OGC will probably
remain what they are for some time, but from the
Request for Technology
of OWS2 on opengis.net, they're also exploring the
benefits of REST
archtectures. As I have similar research interests,
I'd like to know
whether there are more improvements to the above
interface to make it
restful.

In a word, my question can be shortened to: is it
restful to use URLs
consisting of heaps of Key-Value Pairs? Josh's
suggestion of using
hypermedia has actually been implemented by WMS
clients. In addition, if
my memory serves me right, OGC's Web Mapping Service
also allow an XML
encoding of request parameters, and the WMS client
composes an xml file
and send it to the WMS server using POST, which is
definately not REST
IMHO. In the xml encoding case, can one make it
restful? 


Many thanks,

Joseph H. Yao



		
__________________________________ 
Do you Yahoo!? 
Check out the new Yahoo! Front Page. 
www.yahoo.com 
 


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4673<br>
Sender:Andrew Hallam &lt;ahallam@...&gt;<br>
Post Date/Time:2004-11-14 09:26:07<br>
Subject:Re: [rest-discuss] Is it possible to make a cgi like app restful?<br>
Message:<br><br>
<pre>Yao Heling wrote:
 &gt; As I have similar research interests,
 &gt; I'd like to know whether there are more
 &gt; improvements to the above interface to make it
 &gt; restful.

Thinking as I type, a GetMap request is composed of a standardised set 
of name/value pairs. Some of those of name value pairs have discrete 
values, and some have continuous values. There are two types of 
parameters that accept discrete values:

1. Parameters that accepts single discrete values only. e.g.

     - image format
     - exception format
     - transparency

2. Parameters that accept a list of discrete values. e.g

     - Map layer names (layers=major-road,minor-road,river&amp;)

Examples of parameters with continuous values are:

    - Geographic extent (minX, minY, maxX and maxY)
    - Temporal ranges (from date/time, to date/time).

Therefore, the use of continuous values seems to dictate the use of 
query parameters. Describing map resources is not like describing a 
purchase order that has a single unique identifier. Does that make sense?

 &gt; Josh's suggestion of using hypermedia has actually been
 &gt; implemented by WMS clients.

I understand what Josh is saying, but I disagree with him on this one 
because WMS was not designed to provide a user interface. It was 
designed to provide interoperability between software applications that 
need to display maps. (Separation of concerns.) A WMS client from vendor 
A should be able to simultaneously display map images from WMS servers 
provided by vendors B, C and E.

 &gt; In addition, if  my memory serves me right, OGC's Web Mapping
 &gt; Service also allow an XML encoding of request parameters, and
 &gt; the WMS client composes an xml file and send it to the WMS
 &gt; server using POST, which is definately not REST  IMHO. In the
 &gt; xml encoding case, can one make it restful?

GET would seem to make more sense to me, but I'll defer to those on this 
list who are more knowledgeable.

Regards
Andrew Hallam

Digital Earth Pty Ltd
http://www.digitalearth.com.au

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4674<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2004-11-15 00:36:23<br>
Subject:Re: [rest-discuss] Is it possible to make a cgi like app restful?<br>
Message:<br><br>
<pre>&gt; Therefore, the use of continuous values seems to dictate the use of
&gt; query parameters. Describing map resources is not like describing a
&gt; purchase order that has a single unique identifier. Does that make sense?
Using query parameters is a convenience and does not change any
'RESTfulness' of an application. I wish there were more dimensions to our
analyses than just the ambigous 'RESTfulness'.
There are an innumerable number of geographic regions identifiable via a
min/max coordinate and it doesn't matter whether the value are place in path
segments or in query terms - the resource identifier encompasses both.

&gt;  &gt; Josh's suggestion of using hypermedia has actually been
&gt;  &gt; implemented by WMS clients.
&gt;
&gt; I understand what Josh is saying, but I disagree with him on this one
Without knowing what you two are talking about at all, I can suggest that
hypermedia is not restricted to user interface display. It can be used to
decouple systems from knowing the specific format and syntax of resource
identifiers. This would be one way for a map service to use path segments
and a different vendor use query terms. The tradeoff is that the document
format would have to be agreed upon, but implementors would be free to
choose varying resource identifier formats.


----- Original Message ----- 
From: "Andrew Hallam" &lt;ahallam@...&gt;
To: &lt;rest-discuss@yahoogroups.com&gt;
Cc: "Yao Heling" &lt;yaoheling@...&gt;
Sent: Sunday, November 14, 2004 1:26 AM
Subject: Re: [rest-discuss] Is it possible to make a cgi like app restful?


&gt;
&gt; Yao Heling wrote:
&gt;  &gt; As I have similar research interests,
&gt;  &gt; I'd like to know whether there are more
&gt;  &gt; improvements to the above interface to make it
&gt;  &gt; restful.
&gt;
&gt; Thinking as I type, a GetMap request is composed of a standardised set
&gt; of name/value pairs. Some of those of name value pairs have discrete
&gt; values, and some have continuous values. There are two types of
&gt; parameters that accept discrete values:
&gt;
&gt; 1. Parameters that accepts single discrete values only. e.g.
&gt;
&gt;      - image format
&gt;      - exception format
&gt;      - transparency
&gt;
&gt; 2. Parameters that accept a list of discrete values. e.g
&gt;
&gt;      - Map layer names (layers=major-road,minor-road,river&amp;)
&gt;
&gt; Examples of parameters with continuous values are:
&gt;
&gt;     - Geographic extent (minX, minY, maxX and maxY)
&gt;     - Temporal ranges (from date/time, to date/time).
&gt;
&gt; Therefore, the use of continuous values seems to dictate the use of
&gt; query parameters. Describing map resources is not like describing a
&gt; purchase order that has a single unique identifier. Does that make sense?
&gt;
&gt;  &gt; Josh's suggestion of using hypermedia has actually been
&gt;  &gt; implemented by WMS clients.
&gt;
&gt; I understand what Josh is saying, but I disagree with him on this one
&gt; because WMS was not designed to provide a user interface. It was
&gt; designed to provide interoperability between software applications that
&gt; need to display maps. (Separation of concerns.) A WMS client from vendor
&gt; A should be able to simultaneously display map images from WMS servers
&gt; provided by vendors B, C and E.
&gt;
&gt;  &gt; In addition, if  my memory serves me right, OGC's Web Mapping
&gt;  &gt; Service also allow an XML encoding of request parameters, and
&gt;  &gt; the WMS client composes an xml file and send it to the WMS
&gt;  &gt; server using POST, which is definately not REST  IMHO. In the
&gt;  &gt; xml encoding case, can one make it restful?
&gt;
&gt; GET would seem to make more sense to me, but I'll defer to those on this
&gt; list who are more knowledgeable.
&gt;
&gt; Regards
&gt; Andrew Hallam
&gt;
&gt; Digital Earth Pty Ltd
&gt; http://www.digitalearth.com.au
&gt;
&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4675<br>
Sender:"Donald Strong" &lt;dstrong@...&gt;<br>
Post Date/Time:2004-11-15 05:33:18<br>
Subject:RE: [rest-discuss] Is it possible to make a cgi like app restful?<br>
Message:<br><br>
<pre>Hi Joseph,

&gt; In a word, my question can be shortened to:
&gt; is it restful to use URLs consisting of heaps
&gt; of Key-Value Pairs? Josh's suggestion of using
&gt; hypermedia has actually been implemented by WMS
&gt; clients. 

I don't believe there is any constraint in REST
that says you cannot use heaps of name/value pairs
in URLs. There may however be practical limits 
that suggest it may not be a good idea.

In theory URLs can be arbitrarily long. In practice
URLS more that 1K in size may not be handled by
some components on the Web.

I know that is a bit vague but I have seen the 1K limit
mentioned previously on this list. Just not sure where.

&gt; In addition, if my memory serves me
&gt; right, OGC's Web Mapping Service also allow an
&gt; XML encoding of request parameters, and the WMS
&gt; client composes an xml file and send it to the
&gt; WMS server using POST, which is definately not
&gt; REST IMHO.

On the contrary, this is a perfectly valid solution
to the problem. There is nothing wrong with posting
complex data to a resource.

Use GET when you can, use POST when you must.

&gt; In the xml encoding case, can one make it restful? 

no-op

Regards
Donald.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4676<br>
Sender:Andrew Hallam &lt;ahallam@...&gt;<br>
Post Date/Time:2004-11-15 10:52:59<br>
Subject:Re: [rest-discuss] Is it possible to make a cgi like app restful?<br>
Message:<br><br>
<pre>Hi Mike,

&gt; I wish there were more dimensions to our analyses than just 
 &gt; the ambigous 'RESTfulness'.

Agreed, but I'm new to discussing REST and wasn't sure how to better 
express myself.

&gt; There are an innumerable number of geographic regions identifiable 
 &gt; via a min/max coordinate and it doesn't matter whether the value
 &gt; are place in path segments or in query terms - the resource
 &gt; identifier encompasses both.

Sure, but I guess I'm just uncomfortable putting real numbers of 
arbitrary precision in a URI path because it seems messy. I'll try to 
explain why.

I'm sticking to the original topic of WMS GetMap requests.

A GetMap request requires minX, minY, maxX and maxY values (real 
numbers) to define the geographic extent of the map image, plus the X 
and Y size of the map image in pixels (integers). Roughly speaking, 
these values determine the view scale of the map image.

If the view scale is small (think of a map of Australia), delivered in a 
500 x 350 pixel image, it doesn't matter if you ask for that map using:

    minX = 110 (decimal degrees)
    minY = -45
    maxX = 160
    maxY = -10

or (exaggerating the issue)

    minX = 110.0000001
    minY = -44.95999999999
    maxX = 160.0000000001
    maxY = -9.9999999999

you will probably get the same map representation (when the two images 
are compared pixel by pixel). Therefore, if you put the X/Y coordinate 
values in the URI path there are numerous URIs that identify the same 
resource, which is perfectly legal. (Obviously, there are just as many 
possible URIs when using query parameters.)

As a matter of style, putting the X/Y coordinate values in the query 
parameters seems to make more sense to me. It could be all put in a URI 
path but sometimes it is useful to see the parameter names and values 
(and order doesn't matter).

I tend to think of URI paths as being composed of discrete values. 
Habit, I guess.

-- 
Regards
Andrew Hallam

Digital Earth Pty Ltd
http://www.digitalearth.com.au

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4677<br>
Sender:Josh Sled &lt;jsled@...&gt;<br>
Post Date/Time:2004-11-15 14:23:01<br>
Subject:Re: [rest-discuss] Is it possible to make a cgi like app restful?<br>
Message:<br><br>
<pre>On Sun, 2004-11-14 at 19:36, S. Mike Dierken wrote:

&gt; &gt;  &gt; Josh's suggestion of using hypermedia has actually been
&gt; &gt;  &gt; implemented by WMS clients.
&gt; &gt;
&gt; &gt; I understand what Josh is saying, but I disagree with him on this one
&gt; Without knowing what you two are talking about at all, I can suggest that
&gt; hypermedia is not restricted to user interface display. It can be used to
&gt; decouple systems from knowing the specific format and syntax of resource
&gt; identifiers. This would be one way for a map service to use path segments
&gt; and a different vendor use query terms. The tradeoff is that the document
&gt; format would have to be agreed upon, but implementors would be free to
&gt; choose varying resource identifier formats.

That's exactly what I was getting at -- the hypermedia constraint
continues to be a useful one, even when it's not a human at the end of
the browswer.

While a human might require a full and verbose HTML form to come back at
each step in the interaction cycle, an automaton might only require...

   &lt;map xmlns="http://path/to/map/description" /&gt;

....to come back in response to -- say -- `GET /map`.  That is, the xml
namespace of the document itself might be the hyperlink to some
aggreed-upon-format describing how to interact with the service.  

While `xmlns` might be a bit of a stretch w.r.t. retrievability [for
some strange reason], subst in RDF and you're good.


Another useful non-HTML-format response might be a "term map" ... where
WMS is just one "syntax" of interface exposed by some more general
service ... JMS [for "jsled's mapping service" ] might be the other. 

The response to `GET /` might then be something like...

  &lt;mappings xmlns="http://ns.eg.org/term-mapping-namespace"&gt;
    &lt;map to="http://ns.wms.org/mapping"&gt;
      &lt;mapping they-say="tomatoe" we-say="tomato" /&gt;
      &lt;mapping they-say="potatoe" we-say="potato" /&gt;
    &lt;/map&gt;
  &lt;/mappings&gt;

But it's really hard to see how to make that format work generally
unless the underlying service is already basically a 1-1 mapping, in
which case it's probably easier to have the server be responsible for
doing the mapping.


In any case, assuming some sort of top-level GET returns a
resource+service-description language, the automaton can probably
understand a whole set of coordinated interaction exchanges in response
to receiving that one root-level document.  This is weird, because it's
in direct conflict with why the web  works so well -- the server is the
director's chair, and at a relatively fine grain.  At the same time,
humans consuming web services are different from automatons doing the
same, and I think a hybrid approach will probably work pretty well.

...jsled

-- 
http://asynchronous.org/ - `a=jsled; b=asynchronous.org; echo ${a}@${b}`

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4678<br>
Sender:"Jon Hanna" &lt;jon@...&gt;<br>
Post Date/Time:2004-11-17 14:32:53<br>
Subject:RE: [rest-discuss] Is it possible to make a cgi like app restful?<br>
Message:<br><br>
<pre>&gt; &gt; In a word, my question can be shortened to:
&gt; &gt; is it restful to use URLs consisting of heaps
&gt; &gt; of Key-Value Pairs? Josh's suggestion of using
&gt; &gt; hypermedia has actually been implemented by WMS
&gt; &gt; clients. 
&gt; 
&gt; I don't believe there is any constraint in REST
&gt; that says you cannot use heaps of name/value pairs
&gt; in URLs. There may however be practical limits 
&gt; that suggest it may not be a good idea.

Key-value pairs is RESTful (or at least can be) whether it's in the form
&lt;http://www.example.net/ex/x/y/a/b&gt; or the form
&lt;http://www.example.net/ex?x=y;a=b&gt;.

The fact that /x/y/a/b may be equivalent to a/b/x/y and ?x=y;a=b may be
equivalent to ?x=y&amp;a=b and ?a=b;x=y and ?a=b&amp;x=y does bring issues of
cachability if all forms are being used, but this is also true of
case-insensitive handling of URIs etc. and solved by using a canonical form.

Regards,
Jon Hanna
Work: &lt;http://www.selkieweb.com/&gt;
Play: &lt;http://www.hackcraft.net/&gt;
Chat: &lt;irc://irc.freenode.net/selkie&gt; 



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4679<br>
Sender:Sandeep Shetty &lt;sandeep.shetty@...&gt;<br>
Post Date/Time:2004-11-17 08:42:09<br>
Subject:Re: [rest-discuss] Is it possible to make a cgi like app restful?<br>
Message:<br><br>
<pre>
Quoting "S. Mike Dierken" &lt;mdierken@...&gt;:
&gt; Using query parameters is a convenience and does not change any
&gt; 'RESTfulness' of an application. I wish there were more dimensions to our
&gt; analyses than just the ambigous 'RESTfulness'.
&gt; There are an innumerable number of geographic regions identifiable via a
&gt; min/max coordinate and it doesn't matter whether the value are place in path
&gt; segments or in query terms - the resource identifier encompasses both.

IMO, using query parameters has specific implications and is not just
a matter of convenience. Query parameters are meant for user-driven
options and since there is only one query portion in a URI, don't you
think it should be used judiciously?

More info in a post by Roy:
http://groups.yahoo.com/group/rest-discuss/message/4100


Quoting Yao Heling &lt;yaoheling@...&gt;:
&gt; In a word, my question can be shortened to: is it
&gt; restful to use URLs
&gt; consisting of heaps of Key-Value Pairs?

Since what your working with is not necessarily a hierarchical name
space, you should also check out:
Matrix URIs by Tim Berners-Lee
http://www.w3.org/DesignIssues/MatrixURIs.html

I like the idea of using the Path Component rather than the Query
Component for reasons mentioned above.

Sandeep Shetty




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4680<br>
Sender:Sandeep Shetty &lt;sandeep.shetty@...&gt;<br>
Post Date/Time:2004-11-17 15:21:10<br>
Subject:Re: [rest-discuss] Is it possible to make a cgi like app restful?<br>
Message:<br><br>
<pre>Quoting "S. Mike Dierken" &lt;mdierken@...&gt;:
&gt; Using query parameters is a convenience and does not change any
&gt; 'RESTfulness' of an application. I wish there were more dimensions to our
&gt; analyses than just the ambigous 'RESTfulness'.
&gt; There are an innumerable number of geographic regions identifiable via a
&gt; min/max coordinate and it doesn't matter whether the value are place in path
&gt; segments or in query terms - the resource identifier encompasses both.

IMO, using query parameters has specific implications and is not just
a matter of convenience. Query parameters are meant for user-driven
options and since there is only one query portion in a URI, don't you
think it should be used judiciously?

More info in a post by Roy:
http://groups.yahoo.com/group/rest-discuss/message/4100

Quoting Yao Heling &lt;yaoheling@...&gt;:
&gt; In a word, my question can be shortened to: is it
&gt; restful to use URLs
&gt; consisting of heaps of Key-Value Pairs?

Since what your working with is not necessarily a hierarchical name
space, you should also check out:
Matrix URIs by Tim Berners-Lee
http://www.w3.org/DesignIssues/MatrixURIs.html

I like the idea of using the Path Component rather than the Query
Component for reasons mentioned above.

Sandeep Shetty

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4681<br>
Sender:"Jon Hanna" &lt;jon@...&gt;<br>
Post Date/Time:2004-11-17 17:44:33<br>
Subject:RE: [rest-discuss] Amazon Simple Queue Service "REST"ful interface?<br>
Message:<br><br>
<pre>&gt; So, we have a major vendor promoting a REST interface [yay!] 
&gt; that shares
&gt; ZERO components with the architectural style of the same name, nor any
&gt; further conceptualization of it people on this list seem to 
&gt; have [boo!].

I pin the blame on the article (was it on xml.com or am I remembering
wrong?) that first described the non-SOAP interface to Amazon's web services
as REST. Amazon have since adopted the term themselves although their own
documentation still says that SOAP is more powerful, though with no
justification given for this.

Since then the fact that the non-SOAP interface is both more popular and
apparently more efficient has been cited several times as evidence that REST
is superior than SOAP (I'm pretty certain this claim first appeared on one
of the O'Reilly-hosted blogs).

I started an examination of just how RESTful Amazon's web services are on
the wiki once a long time ago when I (unusually) had some free time on my
hands, but I haven't gotten around to adding to it. I did manage to examine
Amazon's service as far as it goes for providing information to users (the
GET stuff) and I think I managed to show both that it wasn't RESTful, and
that using a RESTful service instead would have practical advantages (which
would seem to mean that SOAP didn't just suck compared to a RESTful service,
but sucked compared to something that sucked compared to a RESTful
service...).

So Amazon aren't so much co-opting the term, as being told they were doing
REST and saying, "uh, ok, cool".

Regards,
Jon Hanna
Work: &lt;http://www.selkieweb.com/&gt;
Play: &lt;http://www.hackcraft.net/&gt;
Chat: &lt;irc://irc.freenode.net/selkie&gt;



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4682<br>
Sender:Kendall Clark &lt;kendall@...&gt;<br>
Post Date/Time:2004-11-18 00:59:27<br>
Subject:Re: [rest-discuss] Amazon Simple Queue Service "REST"ful interface?<br>
Message:<br><br>
<pre>On Wed, Nov 17, 2004 at 05:44:33PM -0000, Jon Hanna wrote:

&gt; I pin the blame on the article (was it on xml.com or am I remembering
&gt; wrong?) that first described the non-SOAP interface to Amazon's web services
&gt; as REST.

Really? I'm skeptical of that; at least, I'd like to know which
article that supposedly was this powerful and influential. My memory
is that Amazon uses the term freely and others have picked up on that.

FWIW, I have 2 articles in the pipeline about the Simple Queue thing,
one of which is by Joe Gregorio on precisely why it *isn't*
RESTful. Will be part of Joe's new series of XML.com columns, which
we're calling The Restful Web.

Kendall Clark, 
XML.com Managing Editor

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4683<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2004-11-18 05:37:13<br>
Subject:Re: [rest-discuss] Amazon Simple Queue Service "REST"ful interface?<br>
Message:<br><br>
<pre>&gt; So Amazon aren't so much co-opting the term, as being told they were doing
&gt; REST and saying, "uh, ok, cool".
Unfortunately I think you are right. I'm looking into it.
There definitely are people that understand REST at Amazon, but there is
also a great desire to build Web Services and subtle nuances like
"transport" .vs. "transfer" just get lost in the rush. When a significant
portion of the community expresses their desire for a true REST interface,
then Amazon will respond.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4684<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2004-11-19 05:14:25<br>
Subject:Re: [rest-discuss] Amazon Simple Queue Service "REST"ful interface?<br>
Message:<br><br>
<pre>&gt; Will be part of Joe's new series of XML.com columns, which
&gt; we're calling The Restful Web.
Way way cool.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4685<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2004-11-19 08:52:15<br>
Subject:Deleting an item from a container<br>
Message:<br><br>
<pre>Hi,

I am trying to generalize the operations on containers (e.g. queues)
and I am stuck with the question of how to delete items from a container.

Consider the following container

/orders

with items

/orders/1
/orders/2
/orders/3

My preferred choice is to invoke DELETE on the item to remove and I
would like to make the DELETE a GET-and-DELETE operation, partly
to achieve atomicity of the operation. Looking at the HTTP specs,
I am not sure if it is ok for the server to return a representation
of the deleted resource. 


The second issue I am not sure about is whether it is semantically
ok to use DELETE on a subordinate resource to alter the state of
the container itself. 

Thoughts?


Jan


-- 
Jan Algermissen
Consultant &amp; Programmer	
http://www.jalgermissen.com

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4686<br>
Sender:Josh Sled &lt;jsled@...&gt;<br>
Post Date/Time:2004-11-19 14:30:20<br>
Subject:Re: [rest-discuss] Deleting an item from a container<br>
Message:<br><br>
<pre>On Fri, 2004-11-19 at 03:52, Jan Algermissen wrote:

&gt; to achieve atomicity of the operation. Looking at the HTTP specs,
&gt; I am not sure if it is ok for the server to return a representation
&gt; of the deleted resource. 

     "A successful response SHOULD be 200 (OK) if the
      response includes an entity describing the status
      [...]"   --- RFC-2616 Sec 9.7 [DELETE]

I can read "describe the status" as "describing the [state] of the
resource at the time of it's deletion". :)


&gt; The second issue I am not sure about is whether it is semantically
&gt; ok to use DELETE on a subordinate resource to alter the state of
&gt; the container itself. 

Surely this can't be too offensive, especially if the server has given
the client some piece of hypermedia instructing the client that that is
the proper semantic.

...jsled

-- 
http://asynchronous.org/ - `a=jsled; b=asynchronous.org; echo ${a}@${b}`

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4687<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2004-11-19 14:45:33<br>
Subject:Re: [rest-discuss] Deleting an item from a container<br>
Message:<br><br>
<pre>Josh,

Josh Sled wrote:
&gt; 
&gt; On Fri, 2004-11-19 at 03:52, Jan Algermissen wrote:
&gt; 
&gt; &gt; to achieve atomicity of the operation. Looking at the HTTP specs,
&gt; &gt; I am not sure if it is ok for the server to return a representation
&gt; &gt; of the deleted resource.
&gt; 
&gt;      "A successful response SHOULD be 200 (OK) if the
&gt;       response includes an entity describing the status
&gt;       [...]"   --- RFC-2616 Sec 9.7 [DELETE]
&gt; 
&gt; I can read "describe the status" as "describing the [state] of the
&gt; resource at the time of it's deletion". :)

I wasn't sure if 'status' referred to the deleted resource or to the returned
status code. Or even to the status of the deletion operation (whatever that might mean).

I hope your interpretation is possible, but I have the feeling it is just the
status description...


&gt; 
&gt; &gt; The second issue I am not sure about is whether it is semantically
&gt; &gt; ok to use DELETE on a subordinate resource to alter the state of
&gt; &gt; the container itself.
&gt; 
&gt; Surely this can't be too offensive, especially if the server has given
&gt; the client some piece of hypermedia instructing the client that that is
&gt; the proper semantic.


Thanks,

Jan

 
&gt; ...jsled
&gt; 
&gt; --
&gt; http://asynchronous.org/ - `a=jsled; b=asynchronous.org; echo ${a}@${b}`
&gt; 
&gt; 
&gt; 
&gt; Yahoo! Groups Links
&gt; 
&gt; 
&gt; 
&gt; 

-- 
Jan Algermissen
Consultant &amp; Programmer	
http://www.jalgermissen.com

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4688<br>
Sender:"luke82rm" &lt;luke82rm@...&gt;<br>
Post Date/Time:2004-11-19 16:21:41<br>
Subject:How to build a RESTful distibuted-computational application<br>
Message:<br><br>
<pre>

 Hi there,
 
 I have to build up a RESTful application, in witch there is
 a master host that dispenses a huge computation over a cluster
 of clients. I have to do so because I'm studying what are the 
 differencies between implementig such a problem using PVM libraries
 (in a local network) vs. using a RESTful way (in a potential
 world-wide network).
 
 My questions are:

 	- I cannot use CGI, fastCGI or servlet. I need a method
 or a library in C that allow me to bind, on the server side,
 (name of the resource requested, method to handle it), just as a
 xml-rpc-like way (e.g. the "method registry" used in xmlrpc-c server
 library).
 Can someone suggest me what library/method to use?

	- What do you think about my search topic? Can someone
 suggest me something on how can I expand it?
	  
Any help would be very appreciated.
Luke.







</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4689<br>
Sender:"luke82rm" &lt;luke82rm@...&gt;<br>
Post Date/Time:2004-11-19 16:16:55<br>
Subject:Re: Deleting an item from a container<br>
Message:<br><br>
<pre>

Try to look at:

http://www.xent.com/pipermail/fork/2001-August/002923.html

it's a link on how to achieve atomicity in a RESTful application.

I hope it helps you :-),
Luke.

--- In rest-discuss@yahoogroups.com, Jan Algermissen
&lt;jalgermissen@t...&gt; wrote:
&gt; Hi,
&gt; 
&gt; I am trying to generalize the operations on containers (e.g. queues)
&gt; and I am stuck with the question of how to delete items from a
container.
&gt; 
&gt; Consider the following container
&gt; 
&gt; /orders
&gt; 
&gt; with items
&gt; 
&gt; /orders/1
&gt; /orders/2
&gt; /orders/3
&gt; 
&gt; My preferred choice is to invoke DELETE on the item to remove and I
&gt; would like to make the DELETE a GET-and-DELETE operation, partly
&gt; to achieve atomicity of the operation. Looking at the HTTP specs,
&gt; I am not sure if it is ok for the server to return a representation
&gt; of the deleted resource. 
&gt; 
&gt; 
&gt; The second issue I am not sure about is whether it is semantically
&gt; ok to use DELETE on a subordinate resource to alter the state of
&gt; the container itself. 
&gt; 
&gt; Thoughts?
&gt; 
&gt; 
&gt; Jan
&gt; 
&gt; 
&gt; -- 
&gt; Jan Algermissen
&gt; Consultant &amp; Programmer	
&gt; http://www.jalgermissen.com







</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4690<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2004-11-19 17:08:37<br>
Subject:Re: [rest-discuss] How to build a RESTful distibuted-computational  application<br>
Message:<br><br>
<pre>luke82rm wrote:
&gt; 
&gt;  Hi there,
&gt; 
&gt;  I have to build up a RESTful application, in witch there is
&gt;  a master host that dispenses a huge computation over a cluster
&gt;  of clients. I have to do so because I'm studying what are the
&gt;  differencies between implementig such a problem using PVM libraries
&gt;  (in a local network) vs. using a RESTful way (in a potential
&gt;  world-wide network).

I am not sure that there are any conceptual differences at all. In both
cases you have a single application (the calculation) and you need to
run all portions of the parallelized algorithm or your computation isn't
done. The only issue about distributing a calculation is speed (or maybe storage)
and in both cases your calculation will just depend on the time needed for each
portion to finish. I have no idea what problem would be solved by using REST,
therefore I have no idea what the comparision would reveal.

But maybe I am misunderstanding your point. If so, please try to explain.

&gt; 
&gt;  My questions are:
&gt; 
&gt;         - I cannot use CGI, fastCGI or servlet. I need a method
&gt;  or a library in C that allow me to bind, on the server side,
&gt;  (name of the resource requested, method to handle it), just as a
&gt;  xml-rpc-like way (e.g. the "method registry" used in xmlrpc-c server
&gt;  library).
&gt;  Can someone suggest me what library/method to use?

You could either write a server for the HTTP subset you need yourself
or write an Apache module in C.

I am not sure, but maybe libwww includes a server library also.

&gt; 
&gt;         - What do you think about my search topic? Can someone
&gt;  suggest me something on how can I expand it?

Why don't you compare WS-* vs. REST Web Services, with a special
reserach on scalability and performance ('Why does REST beat RPC when it
comes to large scale?') or on network effect issues (e.g. Why RPC style
cannot take advantage) or on why document based data integration is
easier than API based integration.

Dunno if that's within you subject at all, but maybe it gives you
some ideas.

Jan
&gt; 
&gt; Any help would be very appreciated.
&gt; Luke.
&gt; 
&gt; 
&gt; 
&gt; Yahoo! Groups Links
&gt; 
&gt; 
&gt; 
&gt; 

-- 
Jan Algermissen
Consultant &amp; Programmer	
http://www.jalgermissen.com

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4691<br>
Sender:"luke82rm" &lt;luke82rm@...&gt;<br>
Post Date/Time:2004-11-19 17:33:01<br>
Subject:Re: How to build a RESTful distibuted-computational application<br>
Message:<br><br>
<pre>
--- In rest-discuss@yahoogroups.com, Jan Algermissen 
&gt; I am not sure that there are any conceptual differences at all. In
both
&gt; cases you have a single application (the calculation) and you need
to
&gt; run all portions of the parallelized algorithm or your computation
isn't
&gt; done. The only issue about distributing a calculation is speed (or
maybe storage)
&gt; and in both cases your calculation will just depend on the time
needed for each
&gt; portion to finish. I have no idea what problem would be solved by
using REST,
&gt; therefore I have no idea what the comparision would reveal.
&gt; 
&gt; But maybe I am misunderstanding your point. If so, please try to
explain.

My topic is to explain differencies between RESTful, XML-RPC, and PVM
approach to a parallelized algorithm. As you pointed out, there aren't
much conceptual differences. What I aspect to do is compare this three
different approaches in term of:

- Portability, scalability, reliability (REST (a network-based
library) vs. XML-RPC (a API-based library));
- Security (SOAP vs. REST);
- Kinds of coordination between client-component of my application, in
terms of methods and velocity (PVM allows inter-process communication
and a variety of Synchronization methods, the others approaches needs
HTTP message passing)
- Anything else?
 
&gt; You could either write a server for the HTTP subset you need
yourself
&gt; or write an Apache module in C.
&gt; 
&gt; I am not sure, but maybe libwww includes a server library also.

Yes, libwww includes a server library, but it is very complicated to
use, and it adds many features that I don't need: I'm just searching
for a C library that allows me to build a minimal HTTP server and,
moreover, to bind (resource requested + HTTP method (GET, POST,
DELETE, etc.), method to handle that).
Write an Apache module in C is something that overcome my topic too: I
just need a minimal HTTP server, and Apache is not that case. :-)

&gt; Why don't you compare WS-* vs. REST Web Services, with a special
&gt; reserach on scalability and performance ('Why does REST beat RPC
when it
&gt; comes to large scale?') or on network effect issues (e.g. Why RPC
style
&gt; cannot take advantage) or on why document based data integration is
&gt; easier than API based integration.
&gt; 
&gt; Dunno if that's within you subject at all, but maybe it gives you
&gt; some ideas.

Thank you for all your suggestions, I hope I'll hear you again. :-)

Luke.




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4692<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2004-11-20 04:58:32<br>
Subject:Re: [rest-discuss] Deleting an item from a container<br>
Message:<br><br>
<pre>&gt; My preferred choice is to invoke DELETE on the item to remove and I
&gt; would like to make the DELETE a GET-and-DELETE operation, partly
&gt; to achieve atomicity of the operation. Looking at the HTTP specs,

I don't think you need to combine GET and DELETE. The atomicity you are
going for is an approach to 'guarantee' that only one client will processes
a particular item in the queue. There are other ways to do that - perhaps
using conditional request headers (If-Match, etc.). One issue is that DELETE
is idempotent - repeatedly sending the request should return a success
response each time - no indication of the previous state. I think explicit
state management might be needed here.

&gt; I am not sure if it is ok for the server to return a representation
&gt; of the deleted resource.
http://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9.7 "A successful
response SHOULD be 200 (OK) if the response includes an entity describing
the status, [...]"
This appears to indicate that an entity can be returned.

&gt;
&gt;
&gt; The second issue I am not sure about is whether it is semantically
&gt; ok to use DELETE on a subordinate resource to alter the state of
&gt; the container itself.
If it doesn't break your app or generic client apps, it's likely to be okay.

There are several relevant discussion on rest-discuss from the past: (we
should collect these on the Wiki)
ReST and Representing Mailboxes
http://groups.yahoo.com/group/rest-discuss/message/3169


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4693<br>
Sender:Justin Sampson &lt;justin@...&gt;<br>
Post Date/Time:2004-11-20 15:41:50<br>
Subject:Re: [rest-discuss] Deleting an item from a container<br>
Message:<br><br>
<pre>On Fri, 19 Nov 2004, S. Mike Dierken wrote:

&gt; One issue is that DELETE is idempotent - repeatedly sending the request
&gt; should return a success response each time - no indication of the
&gt; previous state.

That sounds wrong. The definition of "idempotence" in the spec is that
"the side-effects of N &gt; 0 identical requests are the same as for a single
request." Side-effects, not responses. If a resource has already been
DELETEd, I would expect subsequent DELETEs to respond with 404 (and have
no side-effects).

http://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9.1.2

Justin


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4694<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2004-11-20 20:02:50<br>
Subject:Re: [rest-discuss] Deleting an item from a container<br>
Message:<br><br>
<pre>Justin Sampson wrote:
&gt; 
&gt; On Fri, 19 Nov 2004, S. Mike Dierken wrote:
&gt; 
&gt; &gt; One issue is that DELETE is idempotent - repeatedly sending the request
&gt; &gt; should return a success response each time - no indication of the
&gt; &gt; previous state.
&gt; 
&gt; That sounds wrong. The definition of "idempotence" in the spec is that
&gt; "the side-effects of N &gt; 0 identical requests are the same as for a single
&gt; request." Side-effects, not responses. If a resource has already been
&gt; DELETEd, I would expect subsequent DELETEs to respond with 404 (and have
&gt; no side-effects).

Yes, that sounds correct.

OTH, your posting just made me realize that there is a reliability problem
with GET-and-DELETE: If the DELETE request is successful, but the response is
for some reason not received, the item (e.g. message) is lost.

Thus I *have* to go with a transaction controlled GET and subsequent DELETE.

Jan


&gt; 
&gt; http://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9.1.2
&gt; 
&gt; Justin
&gt; 
&gt; 
&gt; 
&gt; Yahoo! Groups Links
&gt; 
&gt; 
&gt; 
&gt; 

-- 
Jan Algermissen
Consultant &amp; Programmer	
http://www.jalgermissen.com

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4695<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2004-11-21 00:30:17<br>
Subject:Re: [rest-discuss] Deleting an item from a container<br>
Message:<br><br>
<pre>&gt; If a resource has already been DELETEd, I would expect subsequent DELETEs
to respond with 404 (and have
&gt; no side-effects).
Yes, I thought so too. But the meaning of the request is to ensure that when
the operation finally completes that the resource is gone. There is no
pre-condition that the resource must already exist. This differs from a
remote-object approach where there is an implied 'locate object, activate
object, invoke object.method()' process.

I know I've seen discussion on this, but can't seem to find it now.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4696<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2004-12-01 12:16:02<br>
Subject:[admin] RESTwiki changes<br>
Message:<br><br>
<pre>All,

In an effort to reduce the amount of Wiki spam on the RESTwiki, it now
requires a login in order to edit.  Eugene tells me this will eradicate
the bot spam (which is the worst of it), while I can do the bulk of the
rest (as I have been, with some help - thanks!), but at least those
mornings of waking up to 50+ spammy pages are (hopefully) long gone.

If anybody has any problems with this new arrangement, contact me.

Thanks!  And thanks, Eugene.

Mark.
-- 
Mark Baker.   Ottawa, Ontario, CANADA.        http://www.markbaker.ca

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4697<br>
Sender:Seth Johnson &lt;seth.johnson@...&gt;<br>
Post Date/Time:2004-12-03 02:01:49<br>
Subject:[Fwd: The Restful Web]<br>
Message:<br><br>
<pre>

-------- Original Message --------
Subject: The Restful Web
Date: Thu, 02 Dec 2004 17:45:00 -0800
From: XML.com Update &lt;elists-admin@...&gt;
To: differance@...

                         XML.com Xtra!
              ---------------------------------
              The Email for XML.com Subscribers

=================================================================
Stylus Studio 6 -- new release!

Check out our new Convert to XML tool.  It makes XML
transformation as
easy as point-and-click.  XSLT 2.0 support, new XML Schema
designer, along
with best-in-class features for creating and managing XML, XSLT,
XQuery,
SQL/XML, SOAP, XML Schema and DTD files make this our best
release ever! 
Download a free 30-day trial from 

http://www.stylusstudio.com/xml_download.html

=================================================================

Dear Reader,

Welcome to another issue of the XML.com newsletter. 

When I became XML.com's Managing Editor this summer, taking over
for the
illustrious Edd Dumbill, I had a very specific editorial mission
in mind:
to move XML.com and its audience from an era of XML
specifications to a
new era of XML applications.

Part of that mission included a more focused, sustained
examination of
REST as a way of building web applications and services--what I
have
started calling "XML over HTTP" development. This week's issue
focuses
almost exclusively on just that kind of app and service.

Joe Gregorio, one of the chief movers behind the Atom Publishing
Protocol,
debuts a new XML.com column, The Restful Web, this week. Joe
focuses on
building application protocols using REST principles and HTTP.

How to Create a REST Protocol
&lt;http://www.xml.com/pub/a/2004/12/01/restful-web.html&gt;


Next up, Mike Dierken, a long-time REST advocate, offers a
comparison of
several web notification systems, including Google and
pubsub.com, and an
anlysis of the degree to which each system exemplifies REST
principles and
best practices.

Weblogs, Publish-Subscribe, and Web Collections: A REST Analysis
&lt;http://www.xml.com/pub/a/2004/12/01/pubsub.html&gt;


Bob DuCharme's Transforming XML column demonstrates the
flexibility and
utility of XSLT as a consumer of REST, that is, "XML over HTTP,"
applications and services.

XSLT Web Service Clients
&lt;http://www.xml.com/pub/a/2004/12/01/tr.html&gt;


Finally, Edd Dumbill files an XML-Deviant column in which he
examines the
heretofore thorny issue of Binary XML. Where is, Edd wonders, all
the
outrage?

Faster, Faster!
&lt;http://www.xml.com/pub/a/2004/12/01/deviant.html&gt;


As always, thanks for reading.

Kendall Clark
kendall@...
Managing Editor, XML.com 

=================================================================
Just Released - Altova XML Suite 2005

Get the most comprehensive XML development toolset with the
highest
functionality and the best product value.  Save a bundle when you
purchase
the Altova XML Suite!  Get a FREE Apple iPod when you buy the
Enterprise
XML Suite with SMP from Altova--Get more details HERE!

http://www.altova.com/ref?s=xmlcom&amp;q=ipod

=================================================================


*** XML News from the XML Cover Pages by Robin Cover ***

OWL Web Ontology Language for Services (OWL-S) Specification
Submitted to
W3C

RM4GS Open Source Middleware Supports Reliable Messaging for Grid
Services

CommerceNet Proposes Collecting Contributions to Purchase Key Web
Services
Patents

IBM, Microsoft, and Sun Respond to TAC Recommendation on Open
Document
Exchange Format

W3C Mobile Web Initiative (MWI) Workshop Addresses Web Access
from Mobile
Devices


For more information on any of these stories visit:
http://www.xml.com/pub/a/coverpage/newspage.html

=================================================================
NEW! "I hack my Mac" T-shirts. Great gift!

Only available at: http://www.thinkgeek.com/oreilly
=================================================================
-----------------------------------------------------------------
To change your newsletter subscription options, please visit
https://epoch.oreilly.com/account/default.orm and click the
"Manage My Newsletters" link.

For assistance, email xml-help@...
 
-----------------------------------------------------------------


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4698<br>
Sender:"Jeffrey Winter" &lt;JeffreyWinter@...&gt;<br>
Post Date/Time:2004-12-15 20:38:18<br>
Subject:RESTful Queues<br>
Message:<br><br>
<pre>I'm wondering if it would be okay to use
a extension header to indicate acknowledgement
of receipt of a resource in order to trigger new
state.

Take some queue /queue,

A GET on that queue would return the current
state:

  GET /queue

which response:

  HTTP 200 OK
  &lt;message id="2"&gt;...&lt;/message&gt;

Subsiquent requests could indicate that the

  GET /queue
  X-Ack: 2

This states that message id "2" was received,
so the response could be the next message:

  HTTP 200 OK
  &lt;message id="3"&gt;...&lt;/message&gt;

otherwise, the same state would be returned as
before,  etc.

Does this violate idempotency in anyway that
anyone can see?

Thanks



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4699<br>
Sender:Vincent D Murphy &lt;vdm@...&gt;<br>
Post Date/Time:2004-12-15 20:47:38<br>
Subject:Re: [rest-discuss] RESTful Queues<br>
Message:<br><br>
<pre>Jeffrey Winter wrote:
&gt; I'm wondering if it would be okay to use
&gt; a extension header to indicate acknowledgement
&gt; of receipt of a resource in order to trigger new
&gt; state.
&gt; [..]
&gt; Does this violate idempotency in anyway that
&gt; anyone can see?

I don't think you would need to do this if your transfer
protocol was reliable.

http://www.prescod.net/reliable_http.html

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4700<br>
Sender:"Jeffrey Winter" &lt;JeffreyWinter@...&gt;<br>
Post Date/Time:2004-12-15 20:57:56<br>
Subject:Re: [rest-discuss] RESTful Queues<br>
Message:<br><br>
<pre>This seems to be more about getting data to the server
reliably.

I was actually thinking more about how to get something
like ActiveMQ's HTTP JMS interface to be more RESTful.

From what I read in their documentation, they allow the
GET to hang until a new message arrives in the JMS queue,
or until a timeout occurs, in which case the client would
call GET again.  The problem is that each call to GET
could potentially return a new message.  The GET has
side-effects, and is therefor not RESTful.

I was wondering if the inclusion of an acknowledgement
header, an "ack", would allow side effects in this way.

Note: Mod-pubsub does a similar thing, but they never
return from the GET and it seems to me that there is no
way for them to ensure delivery.   With mod-pubsub,
context can be lost and not recovered.  With some for
of acknowledgement, the ActiveMQ approach could be more
robust in that regard.

If the "ack" were somehow unacceptable, each GET could be
followed by a DELETE which would accomplish the same thing,
but having an "ack" header would require fewer requests
obviously.


----- Original Message ----- 
From: "Vincent D Murphy" &lt;vdm@...&gt;
To: "Jeffrey Winter" &lt;JeffreyWinter@...&gt;
Cc: &lt;rest-discuss@yahoogroups.com&gt;
Sent: Wednesday, December 15, 2004 3:47 PM
Subject: Re: [rest-discuss] RESTful Queues


: Jeffrey Winter wrote:
: &gt; I'm wondering if it would be okay to use
: &gt; a extension header to indicate acknowledgement
: &gt; of receipt of a resource in order to trigger new
: &gt; state.
: &gt; [..]
: &gt; Does this violate idempotency in anyway that
: &gt; anyone can see?
:
: I don't think you would need to do this if your transfer
: protocol was reliable.
:
: http://www.prescod.net/reliable_http.html
: 



</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4701<br>
Sender:"rochester390" &lt;bab@...&gt;<br>
Post Date/Time:2004-12-03 17:10:57<br>
Subject:browser-based REST<br>
Message:<br><br>
<pre>

I am new to these concepts, so links to old discussions are welcome; I
have done some research but it might be better to just ask a possibly
naive question. 

amazon.com has been mentioned as a somewhat REST-ful application.
However I haven't seen any satisfactory fleshed-out examples of what
is to me the most relevant portion of amazon.com, the "Your Account"
area. AAA is handled here as in most web applications I know of via
server sessions. I am not clear at all how to implement REST in a
browser-based environment where the only way to keep client-side state
is to stuff server-generated pages with state information on each
request and return it in subsequent POSTs, which violates the
"separation of GET and POST' commandment; either that or the GET urls
are gonna get pretty big. Or am I missing something? 







</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4702<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2004-12-15 21:13:29<br>
Subject:Re: [rest-discuss] RESTful Queues<br>
Message:<br><br>
<pre>It violates the safety of GET, since the intent of the GET message
is to update state on the server.  It's idempotent, but I don't know
why that's important.

Mark.

On Wed, Dec 15, 2004 at 03:38:18PM -0500, Jeffrey Winter wrote:
&gt; 
&gt; I'm wondering if it would be okay to use
&gt; a extension header to indicate acknowledgement
&gt; of receipt of a resource in order to trigger new
&gt; state.
&gt; 
&gt; Take some queue /queue,
&gt; 
&gt; A GET on that queue would return the current
&gt; state:
&gt; 
&gt;   GET /queue
&gt; 
&gt; which response:
&gt; 
&gt;   HTTP 200 OK
&gt;   &lt;message id="2"&gt;...&lt;/message&gt;
&gt; 
&gt; Subsiquent requests could indicate that the
&gt; 
&gt;   GET /queue
&gt;   X-Ack: 2
&gt; 
&gt; This states that message id "2" was received,
&gt; so the response could be the next message:
&gt; 
&gt;   HTTP 200 OK
&gt;   &lt;message id="3"&gt;...&lt;/message&gt;
&gt; 
&gt; otherwise, the same state would be returned as
&gt; before,  etc.
&gt; 
&gt; Does this violate idempotency in anyway that
&gt; anyone can see?

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4703<br>
Sender:Josh Sled &lt;jsled@...&gt;<br>
Post Date/Time:2004-12-15 21:16:14<br>
Subject:Re: [rest-discuss] RESTful Queues<br>
Message:<br><br>
<pre>On Wed, 2004-12-15 at 15:57, Jeffrey Winter wrote:

&gt; From what I read in their documentation, they allow the
&gt; GET to hang until a new message arrives in the JMS queue,
&gt; or until a timeout occurs, in which case the client would
&gt; call GET again.  The problem is that each call to GET
&gt; could potentially return a new message.  The GET has
&gt; side-effects, and is therefor not RESTful.

    GET /queue
    &lt;message id="2" nextMessage="/queue/3"&gt;...&lt;/message&gt;

# failure re-request.
# success:
    GET /queue/3
    &lt;message id="3" nextMessage="/queue/4"&gt;...&lt;/message&gt;

Hypermedia is the engine of application state; the server should direct
the client into subsequent requests as much as possible.  No new header
[semantic] required.

...jsled

-- 
http://asynchronous.org/ - `a=jsled; b=asynchronous.org; echo ${a}@${b}`

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4704<br>
Sender:Nic Ferrier &lt;nferrier@...&gt;<br>
Post Date/Time:2004-12-15 21:23:08<br>
Subject:Re: [rest-discuss] browser-based REST<br>
Message:<br><br>
<pre>"rochester390" &lt;bab@...&gt; writes:

&gt; I am new to these concepts, so links to old discussions are welcome; I
&gt; have done some research but it might be better to just ask a possibly
&gt; naive question. 
&gt;
&gt; amazon.com has been mentioned as a somewhat REST-ful application.
&gt; However I haven't seen any satisfactory fleshed-out examples of what
&gt; is to me the most relevant portion of amazon.com, the "Your Account"
&gt; area. AAA is handled here as in most web applications I know of via
&gt; server sessions. I am not clear at all how to implement REST in a
&gt; browser-based environment where the only way to keep client-side state
&gt; is to stuff server-generated pages with state information on each
&gt; request and return it in subsequent POSTs, which violates the
&gt; "separation of GET and POST' commandment; either that or the GET urls
&gt; are gonna get pretty big. Or am I missing something? 

I think the core of this confusion is: what is the resource? in an
e-commerce app it seems like the resource is being decorated for each
user which is a REST no no.

But you could look at it another way. There are genuine datums called
customer accounts. They contain certain information which must be
viewable and editable.

We (perhaps) wouldn't blink if the accounts were viewed by a third
party like an accounts clerk. When they are viewed by the customer
themselves they sometimes get confused with session state.

I think amazon's account stuff is an example of this confusion. It
could be clearer and more RESTfull by making explicit the idea of an account
viewable by the person who own it.


-- 
Nic Ferrier
http://www.tapsellferrier.co.uk

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4705<br>
Sender:"Jeffrey Winter" &lt;JeffreyWinter@...&gt;<br>
Post Date/Time:2004-12-15 23:53:30<br>
Subject:Re: [rest-discuss] RESTful Queues<br>
Message:<br><br>
<pre>
 
&gt; It violates the safety of GET, since the intent of the GET message
&gt; is to update state on the server.  

Of course.  I have the bad habit of conflating the two concepts.

&gt; It's idempotent, but I don't know why that's important.

I want to make sure that the client can re-establish context
at anytime but GETting form the head of the queue.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4706<br>
Sender:"Jeffrey Winter" &lt;JeffreyWinter@...&gt;<br>
Post Date/Time:2004-12-15 23:53:49<br>
Subject:Re: [rest-discuss] RESTful Queues<br>
Message:<br><br>
<pre>
&gt;     GET /queue
&gt;     &lt;message id="2" nextMessage="/queue/3"&gt;...&lt;/message&gt;
&gt; 
&gt; # failure re-request.
&gt; # success:
&gt;     GET /queue/3
&gt;     &lt;message id="3" nextMessage="/queue/4"&gt;...&lt;/message&gt;
&gt; 
&gt; Hypermedia is the engine of application state; the server should direct
&gt; the client into subsequent requests as much as possible.  No new header
&gt; [semantic] required.

I seems to me that the server needs to receive some
acknowledgement that the client has successfully
processed the message in order to clear the head of 
the queue.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4707<br>
Sender:"Jeffrey Winter" &lt;JeffreyWinter@...&gt;<br>
Post Date/Time:2004-12-16 00:00:08<br>
Subject:Re: [rest-discuss] RESTful Queues<br>
Message:<br><br>
<pre>Okay, here's another crack at this using GET and DELETE.

1. Start with a queue at /queue.  A
   GET at that queue hangs until a message occurs.

     GET /queue

   The reponse indicates a redirect to the URL
   where the first message is located:

     HTTP/1.1 303 See Other
     Location: /queue/19348

   Any subsiquent request at the /queue resource would
   return the same event id until the client has
   acknowledged receipt (and a new message arrives.)

2. The client does a GET at that location to get the
   message:

     GET /queue/19348

   The response contains the message:

     HTTP/1.1 200 OK

     &lt;message&gt;...&lt;/message&gt;

   Any subsiquent requests at that location will return
   the same message state without effecting the state
   of the queue itself.

3. The client is responsible for deleting the message
   off the head of the queue.  This is in effect an
   acknowledgement to the server that the message was
   received by the client:

     DELETE /queue/19348

   The response informs the client that the message
   is gone:

     HTTP/1.1 204 No Content

   Any subsiquent DELETE requests at that location
   have no effect (as is approriate for an idempotent
   method.)  This may be necessary if, for example,
   the communication channel were lost; the client can
   safely repeat the DELETE message without effecting
   the state of the queue itself.

   The server can now make the next event
   available at another location when necessary.

4. Any new request at the queue would return the
   location of the next event, e.g.:

     GET /queue
     Host: events.crims

   Returns a different location than the initial
   request:

     HTTP/1.1 303 See Other
     Location: /queue/38293

5. An extension header could be employeed on the
   response to the DELETE (or even the GET) which
   would give the location of the next event, thus
   avoiding the need to the redirect from the
   queue root.

     HTTP/1.1 204 No Context
     X-NextMessage: /queue/38293

Since they are "safe" methods, the client can repeatedly
invoke a GET or a DELETE on any resource if for any
reason communication or context has been lost, and can
re-establish context by invoking a GET on the queue root.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4708<br>
Sender:Vincent D Murphy &lt;vdm@...&gt;<br>
Post Date/Time:2004-12-16 00:54:07<br>
Subject:Re: [rest-discuss] RESTful Queues<br>
Message:<br><br>
<pre>Jeffrey Winter wrote:
&gt;&gt;Hypermedia is the engine of application state; the server should direct
&gt;&gt;the client into subsequent requests as much as possible.  No new header
&gt;&gt;[semantic] required.
&gt; 
&gt; I seems to me that the server needs to receive some
&gt; acknowledgement that the client has successfully
&gt; processed the message in order to clear the head of 
&gt; the queue.

Maybe its possible to do something analogous to TCP acknowledgment
with HTTP headers, but I would have the server signal that its
looking for the acknowledgment before I would let the client send
it (the way you described, with X-Ack: or whatever). This would
play better with components that don't expect (or send)
acknowledgments.

Also: how about using message URIs rather than IDs? What are the
trade-offs?

I wonder about the GET idempotency constraint sometimes. I think
that maybe it can be relaxed for things like 'I (the server) want
to write the request to a recovery log, because I consider it to
be a transaction'. That doesn't seem to me to be as much of a
violation as say, non-query, side-effecting HTML forms that use
GET.

PS: my apologies for mis-understanding the question earlier.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4709<br>
Sender:"Donald Strong" &lt;dstrong@...&gt;<br>
Post Date/Time:2004-12-16 01:19:39<br>
Subject:RE: [rest-discuss] RESTful Queues<br>
Message:<br><br>
<pre>Nice article Paul.

For many producers and one consumer it suggests 
a protocol more like this:

Producer
========
request
		POST /queue/next
response
		HTTP 200 OK
    		&lt;queue next="/queue/123456789"/&gt;
request
		PUT /queue/123456789
		&lt;message content&gt;
response
		HTTP 201 Created

The POST will generate a different message ID every time 
and the PUT is idempotent.

A redirect on /queue/next would be nice but the HTTP 1.1
spec says the user would have to confirm the action.

Consumer
========
request
		GET /queue/head
response
		HTTP 302 Found
		Location: /queue/123456789
request-redirected
		GET /queue/123456789
response
		HTTP 200 OK
		&lt;message content&gt;
request
		DELETE /queue/123456789
response
		HTTP 204 No Content

All of these methods are idempotent so interrupted
requests can be repeated without a problem.

A GET on the queue might return references to all items on
the queue.

request
		GET /queue
response
		HTTP 200 OK
            &lt;queue&gt;
		  &lt;entry href="/queue/22574542" /&gt;
		  &lt;entry href="/queue/13564671" /&gt;
		  &lt;entry href="/queue/39554423" /&gt;
		&lt;/queue&gt;

Regards
Donald.

&gt; 
&gt; Jeffrey Winter wrote:
&gt; &gt; I'm wondering if it would be okay to use
&gt; &gt; a extension header to indicate acknowledgement
&gt; &gt; of receipt of a resource in order to trigger new
&gt; &gt; state.
&gt; &gt; [..]
&gt; &gt; Does this violate idempotency in anyway that
&gt; &gt; anyone can see?
&gt; 
&gt; I don't think you would need to do this if your transfer
&gt; protocol was reliable.
&gt; 
&gt; http://www.prescod.net/reliable_http.html
&gt; 
&gt; 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4710<br>
Sender:"Donald Strong" &lt;dstrong@...&gt;<br>
Post Date/Time:2004-12-16 03:00:29<br>
Subject:RE: [rest-discuss] RESTful Queues<br>
Message:<br><br>
<pre>
Sorry, if I had read the article properly I might
have copied the first part of the protocol correctly.

Producer
========
request
		POST /queue
response
		HTTP 201 Created
    		Location: /queue/123456789
request
		POST /queue/123456789
		&lt;message content&gt;
response
		HTTP 200 OK



Another variation would be:

Producer
========
request
		POST /queue
response
		HTTP 200 OK
    		Location: /queue/123456789
request
		PUT /queue/123456789
		&lt;message content&gt;
response
		HTTP 201 Created

If the PUT was unsuccessful this sequence does not 
create an empty placeholder on the queue.
I prefer PUT over POST for the second part as the PUT
can be repeated if the transmission was interupted.

Donald.

&gt; 
&gt; Producer
&gt; ========
&gt; request
&gt; 		POST /queue/next
&gt; response
&gt; 		HTTP 200 OK
&gt;     		&lt;queue next="/queue/123456789"/&gt;
&gt; request
&gt; 		PUT /queue/123456789
&gt; 		&lt;message content&gt;
&gt; response
&gt; 		HTTP 201 Created


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4711<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2004-12-16 03:18:14<br>
Subject:Re: [rest-discuss] RESTful Queues<br>
Message:<br><br>
<pre>On Wed, Dec 15, 2004 at 06:53:49PM -0500, Jeffrey Winter wrote:
&gt; I seems to me that the server needs to receive some
&gt; acknowledgement that the client has successfully
&gt; processed the message in order to clear the head of 
&gt; the queue.

IME, you want to avoid that if you can, but if you can't then you're
likely best off making the ack explicit by using a POST request from
the client to the server.

Mark.
-- 
Mark Baker.   Ottawa, Ontario, CANADA.        http://www.markbaker.ca

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4712<br>
Sender:Josh Sled &lt;jsled@...&gt;<br>
Post Date/Time:2004-12-16 15:38:47<br>
Subject:Re: [rest-discuss] RESTful Queues<br>
Message:<br><br>
<pre>On Wed, 2004-12-15 at 18:53, Jeffrey Winter wrote:
&gt; &gt;     GET /queue
&gt; &gt;     &lt;message id="2" nextMessage="/queue/3"&gt;...&lt;/message&gt;
&gt; &gt; 
&gt; &gt; # failure re-request.
&gt; &gt; # success:
&gt; &gt;     GET /queue/3
&gt; &gt;     &lt;message id="3" nextMessage="/queue/4"&gt;...&lt;/message&gt;
&gt; &gt; 
&gt; &gt; Hypermedia is the engine of application state; the server should direct
&gt; &gt; the client into subsequent requests as much as possible.  No new header
&gt; &gt; [semantic] required.
&gt; 
&gt; I seems to me that the server needs to receive some
&gt; acknowledgement that the client has successfully
&gt; processed the message in order to clear the head of 
&gt; the queue.

I [obviously] misunderstood your original intent: you're trying to do
the actual `pop` operation on a queue data-type ...  I'd do so in a
hybrid of what you and Donald have been suggesting:

A key property of the "pop" operation -- in the face of multiple
consumers -- is some measure of exclusion: you don't want multiple
clients to believe they both "have" the same queue element.  In that
case, I'd modify the proposals on the table to include a 409 [Conflict]
response on either the queue-element GET or DELETE, which the client
should interpret as "I'm the loser", and re-start the GET/DELETE `pop`
sequence.

[POST or PUT could be used instead of DELETE, I s'pose, but I'll use
DELETE here since it seems most appropriate:]

client1: GET /queue
      s: 303 /queue/1
client2: GET /queue
      s: 303 /queue/1
client1: GET /queue/1   # client1 is _fast_.
      s: &lt;data&gt;
client1: DELETE /queue/1
      s: 204
client2: GET /queue/1
      s: 409 # losah!
client2: GET /queue
      s: 303 /queue/2
# ...

Of course, we'd also need either an appropriate media-type or -- at
least -- some element namespace to indicate to the client how to
interpret the "queue" data and URLs being returned.  As well, the server
should guarantee that the appropriate synchronization occurs on the
appropriate (method,uri)-pair processings.

I continue to think that you don't need a new header to do this.


Another approach entirely is one much more server-directed, like:

GET /queue
&lt;q:queue&gt;
  &lt;q:peek op="get" href="/queue/head" /&gt;
  &lt;q:push op="put" href="/queue/" /&gt;
  &lt;q:pop&gt;
    &lt;sequence&gt;
      &lt;item op="get" href="/queue/head" 
            esponseHrefVariable="locationWeReceived" /&gt;
      &lt;item op="delete" href="{locationWeReceived}" /&gt;
    &lt;/sequence&gt;
  &lt;/q:pop&gt;
&lt;/q:queue&gt;

With the advantage being that the client doesn't need to understand how
to interact with the queue specifically, but requires that we have some
language for describing interaction sequences,  and probably also needs
to extend into pre- and post-conditions, effect-description and other
things.


But there's a really important question to answer between these two:
where does the intelligence about how the queue should be interacted
with reside?  Do all clients know the semantics [GET/DELETE pairs, 409
response code, &amp;c.] for interacting with this particular implementation
of a queue?  Or does the server publish how it wants relatively stupid
clients to interact with it [both the server and the queue]?

And what's in the middle, trading off being very expliclit and
server-directed for performance, while still retaining some of the nice
effects of REST's principles?

...jsled

-- 
http://asynchronous.org/ - `a=jsled; b=asynchronous.org; echo ${a}@${b}`


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4713<br>
Sender:Jan Algermissen &lt;jalgermissen@...&gt;<br>
Post Date/Time:2004-12-16 16:12:53<br>
Subject:Re: [rest-discuss] RESTful Queues<br>
Message:<br><br>
<pre>Josh Sled wrote:

&gt; Another approach entirely is one much more server-directed, like:
&gt; 
&gt; GET /queue
&gt; &lt;q:queue&gt;
&gt;   &lt;q:peek op="get" href="/queue/head" /&gt;
&gt;   &lt;q:push op="put" href="/queue/" /&gt;
&gt;   &lt;q:pop&gt;
&gt;     &lt;sequence&gt;
&gt;       &lt;item op="get" href="/queue/head"
&gt;             esponseHrefVariable="locationWeReceived" /&gt;
&gt;       &lt;item op="delete" href="{locationWeReceived}" /&gt;
&gt;     &lt;/sequence&gt;
&gt;   &lt;/q:pop&gt;
&gt; &lt;/q:queue&gt;
&gt; 
&gt; With the advantage being that the client doesn't need to understand how
&gt; to interact with the queue specifically, but requires that we have some
&gt; language for describing interaction sequences,  and probably also needs
&gt; to extend into pre- and post-conditions, effect-description and other
&gt; things.

Josh,

that's very nice indeed. It is a perfect example of how to put 'API'
semantics into the message instead of implicitly extending the semantics
of the uniform interface. So easy to grasp if I look at your example,
but I did not understand that so clearly before. Thanks for this!

I think that also illustrates the recent QUERY-as-POST+201 discussion,
especially Mark's point that the assumption that the 201 addresses
the query result would be an extension of the uniform POST semantics.


&gt; But there's a really important question to answer between these two:
&gt; where does the intelligence about how the queue should be interacted
&gt; with reside?  Do all clients know the semantics [GET/DELETE pairs, 409
&gt; response code, &amp;c.] for interacting with this particular implementation
&gt; of a queue?  Or does the server publish how it wants relatively stupid
&gt; clients to interact with it [both the server and the queue]?

The latter I think. If you understand the queue as a (RESTful) application
through which's states the user agent proceeds then the representation should
contain the links that may be invoked to reach possible next states. Conneg
can be used to negotiate the appropriate representation mime type (the one
the client says it understands).

Very insightful posting (at least for me) - thanks.

Jan
&gt; 
&gt; And what's in the middle, trading off being very expliclit and
&gt; server-directed for performance, while still retaining some of the nice
&gt; effects of REST's principles?
&gt; 
&gt; ...jsled
&gt; 
&gt; --
&gt; http://asynchronous.org/ - `a=jsled; b=asynchronous.org; echo ${a}@${b}`
&gt; 
&gt; 
&gt; 
&gt; Yahoo! Groups Links
&gt; 
&gt; 
&gt; 
&gt; 

-- 
Jan Algermissen
Consultant &amp; Programmer	
http://www.jalgermissen.com

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4714<br>
Sender:"Donald Strong" &lt;dstrong@...&gt;<br>
Post Date/Time:2004-12-17 05:26:14<br>
Subject:RE: [rest-discuss] RESTful Queues<br>
Message:<br><br>
<pre>Hi again,

My original posting stated that I assumed many producers
and one consumer. I thought that was the usual setup for
queues, ie. to regulate input into a process.

If there are many consumers then this seems more like load
balancing. I do not think that load balancing was the
original intention of Jeffery's question. My interpretation
was that he was interested in reliable delivery of the
messages on the queue to a single consumer, and in
particular the question:

"How to I acknowledge successful reciept so the message
 can be deleted from the queue".

However, if we are talking load balancing now, just for the sake
of a challange, the algorithm can be slightly modified so that
the initial GET returns messages IDs from the set (rather than
queue) on a round-robin basis. Consequently, client2 will usually
be allocated a different message to download than client 2,
assuming that more than one message is available.


&gt; [POST or PUT could be used instead of DELETE, I s'pose, but I'll use
&gt; DELETE here since it seems most appropriate:]
&gt;
&gt; client1: GET /queue
&gt;       s: 303 /queue/1
&gt; client2: GET /queue
&gt;       s: 303 /queue/1
&gt; client1: GET /queue/1   # client1 is _fast_.
&gt;       s: &lt;data&gt;
&gt; client1: DELETE /queue/1
&gt;       s: 204
&gt; client2: GET /queue/1
&gt;       s: 409 # losah!
&gt; client2: GET /queue
&gt;       s: 303 /queue/2
&gt; # ...
&gt;

Josh's suggestion is a good one, however, I would note that the conflict can
also occur on the DELETE. In fact, the server doesn't know the
message has been successfully transfered until the DELETE, so
it may be inappropriate to signal the conflict on the GET.

client1: GET /queue
      s: 303 /queue/1
client2: GET /queue
      s: 303 /queue/1
client1: GET /queue/1   # client1 is _fast_.
      s: &lt;data&gt;
client1: DELETE /queue/1
      s: 204
client2: GET /queue/1
      s: &lt;data&gt;
client2: DELETE /queue/1
      s: 409 # losah!
client2: GET /queue
      s: 303 /queue/2

In this scenario client1 knows it should process the
message when it receives a 204 (No Content) response to the
DELETE. client2 knows it should not process the
message because it received a 409 (Conflict) response to the
DELETE.

This protocol will still not guarentee that the message
will be processed by exactly one consumer. If the DELETE
request by client1 is interupted there is a window where
the server may receive the DELETE but the client does not
receive the response from the DELETE. A subsequent DELETE
from client1 would return 409 and the message is lost.
In other words, the DELETE is not idempotent.

The only way I can see around that problem is if the
DELETE request can identify the User Agent (consumer)
making the request. Then the DELETE response entity could
identify the consumer that was successful, eg.
 "Message 1 was DELETED by client1".
A subsequent DELETE by client1 would identify itself as the
consumer of the message.

There is no way for the User Agent to identify itself
in HTTP1.1 so that is a problem. There is also no ID for
the request in HTTP1.1 so that cannot be used either.

I think perhaps an entirely different approach is needed
to guarentee the message is only processed by one consumer.

Reagrds
Donald.


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4715<br>
Sender:"patrickdlogan" &lt;patrick.d.logan@...&gt;<br>
Post Date/Time:2004-12-17 22:47:22<br>
Subject:Re: RESTful Queues<br>
Message:<br><br>
<pre>
&gt; he was interested in reliable delivery of the messages on the queue
&gt; to a single consumer...
&gt; 
&gt; "How to I acknowledge successful reciept so the message can be
&gt; deleted from the queue".
&gt;
[Various race conditions described here. Other exist.]
&gt;
&gt; I think perhaps an entirely different approach is needed to
&gt; guarentee the message is only processed by one consumer.

The problem is the GET followed by the DELETE are intended to be
atomic. A side effect is needed in the first method to establish some
mechanism for atomicity with the second method. So GET is not the
right first method.

The ideal solution would be one method. Somethng like "TAKE",
i.e. "IN" using Linda terms.

Maybe PUT could be used to replace the resource using a representation
that indicates it is "locked". A subsequent PUT while the resource is
locked would get a 409 conflict.

Maybe POST could be used to place a lock "subordinate" to the
resource, or PUT could be used to put a representation of a lock
resource whose URI is, or includes, the head of the queue.

Maybe WebDAV should be used. But in general, race conditions are going
to come up especially with sequences of methods that are intended to
be atomic, so they have to be collapsed into a single method or the
first method has to include a useful side effect.

-Patrick





</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4716<br>
Sender:"Elias Sinderson" &lt;elias@...&gt;<br>
Post Date/Time:2004-12-18 00:23:03<br>
Subject:Re: RESTful Queues<br>
Message:<br><br>
<pre>

--- In rest-discuss@yahoogroups.com, "patrickdlogan"
&lt;patrick.d.logan@i...&gt; wrote:
&gt; [...] The problem is the GET followed by the DELETE are intended to
be atomic. [...]

Indeed, I'll note that there is nothing in the HTTP spec which
prohibits returning a body in the response to a DELETE request. So,
although somewhat unorthodox wrt how one usually considers DELETE, it
would seem tht returning the head of the queue in the DELETE response
would address this issue rather elegantly.

&gt; The ideal solution would be one method. Somethng like "TAKE",
&gt; i.e. "IN" using Linda terms.

Agreed. It has been noted on this list before that there aree some
similarities between Linda tuplespaces (or blackboard systems) and
REST. I would argue that the HTTP protocol stack (including the
extended methods deeinfed by the WebDAV working group) /is/ a
coordination language...

&gt; [...] Maybe WebDAV should be used. [...]

This would be most appropriate, especially if the above approach using
DELETE is not acceptable for some reason. Using a sequence of LOCK &gt;
GET &gt; DELETE would provide the desired atomic behavior that is needed.
in this situation.

As an aside, I've been somewhat dismayed by the lack of discussion on
this list regarding the use of WebDAV methods to address the needs of
RESTful applications. There has been a great deal of discussion on how
to do WebDAVish things with straight HTTP, where the semantics of a
given WebDAV method would fit the requirements. The result is
frequently a solution that feels contrived... Anyway, I've said enough
for now.

Comments both welcomed and encouraged on any of the above.


Regards,
Elias







</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4717<br>
Sender:"Jeffrey Winter" &lt;JeffreyWinter@...&gt;<br>
Post Date/Time:2004-12-18 15:18:03<br>
Subject:Re: [rest-discuss] Re: RESTful Queues<br>
Message:<br><br>
<pre>
&gt; &lt;patrick.d.logan@i...&gt; wrote:
&gt; &gt; [...] The problem is the GET followed by the DELETE are intended to
&gt; be atomic. [...]
&gt; 
&gt; Indeed, I'll note that there is nothing in the HTTP spec which
&gt; prohibits returning a body in the response to a DELETE request. So,
&gt; although somewhat unorthodox wrt how one usually considers DELETE, it
&gt; would seem tht returning the head of the queue in the DELETE response
&gt; would address this issue rather elegantly.

Since GET and DELETE are both idempotent, there is not need to come
up with any other mechanism for atomicity.  GET and DELETE can be
called repeatedly in the face of a communications failure, so given
the restrictions in my particular circumstance - single consumer or
queue, guaranteed delivery, ability to re-establish context, no 
support of POST or PUT - the semantics of GET and DELETE support 
what is necessary.

This is somewhat off topic, but I found this dicussion on idempotency
to be illuminating:

http://lists.w3.org/Archives/Public/ietf-http-wg-old/1997MayAug/0704.html 
 
&gt; &gt; The ideal solution would be one method. Somethng like "TAKE",
&gt; &gt; i.e. "IN" using Linda terms.
&gt; 
&gt; Agreed. It has been noted on this list before that there aree some
&gt; similarities between Linda tuplespaces (or blackboard systems) and
&gt; REST. I would argue that the HTTP protocol stack (including the
&gt; extended methods deeinfed by the WebDAV working group) /is/ a
&gt; coordination language...
&gt; 
&gt; &gt; [...] Maybe WebDAV should be used. [...]
&gt; 
&gt; This would be most appropriate, especially if the above approach using
&gt; DELETE is not acceptable for some reason. Using a sequence of LOCK &gt;
&gt; GET &gt; DELETE would provide the desired atomic behavior that is needed.
&gt; in this situation.

If there were a need to support multiple consumers, I would agree.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4718<br>
Sender:Justin Sampson &lt;justin@...&gt;<br>
Post Date/Time:2004-12-18 17:19:24<br>
Subject:Re: [rest-discuss] RESTful Queues<br>
Message:<br><br>
<pre>Man, this has gone on for a while. I don't remember what the actual
application was -- or did anyone bother to ask or mention it? How does
this queue thing fit into your Web site / Web application / Web service?
Usually when I implement a queue in a Web application (say, for sending
email reliably) the producers are the request handlers in the server
(exposing a more interesting semantic than "queue" to the clients) and the
consumer is a daemon thread also in the server, so it can do whatever
arbitrary atomic transactions it needs to do under the covers. It seems
more than a little silly to implement a raw queue as a RESTful Web
service. REST, and the Web it describes, is about lots of clients talking
to semanticful resources... A single consumer talking to a raw queue isn't
very interesting in that context, so any solution you come up with is
going to be awkward.

Justin


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4719<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2004-12-19 08:05:54<br>
Subject:Re: [rest-discuss] RESTful Queues<br>
Message:<br><br>
<pre>I've yet to see a workable and glitch-free description of a classical
"message queue" using HTTP. Even a variant that uses DAV would be useful to
have documented.
If anyone thinks they have one, please add it (or them) to the Wiki so we
can point to it the next time this comes up.

----- Original Message ----- 
From: "Justin Sampson" &lt;justin@...&gt;
To: &lt;rest-discuss@yahoogroups.com&gt;
Sent: Saturday, December 18, 2004 9:19 AM
Subject: Re: [rest-discuss] RESTful Queues


&gt;
&gt; Man, this has gone on for a while. I don't remember what the actual
&gt; application was -- or did anyone bother to ask or mention it? How does
&gt; this queue thing fit into your Web site / Web application / Web service?
&gt; Usually when I implement a queue in a Web application (say, for sending
&gt; email reliably) the producers are the request handlers in the server
&gt; (exposing a more interesting semantic than "queue" to the clients) and the
&gt; consumer is a daemon thread also in the server, so it can do whatever
&gt; arbitrary atomic transactions it needs to do under the covers. It seems
&gt; more than a little silly to implement a raw queue as a RESTful Web
&gt; service. REST, and the Web it describes, is about lots of clients talking
&gt; to semanticful resources... A single consumer talking to a raw queue isn't
&gt; very interesting in that context, so any solution you come up with is
&gt; going to be awkward.
&gt;
&gt; Justin
&gt;
&gt;
&gt;
&gt;
&gt;
&gt; Yahoo! Groups Links
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4720<br>
Sender:"Elias Sinderson" &lt;elias@...&gt;<br>
Post Date/Time:2004-12-20 07:35:53<br>
Subject:Re: RESTful Queues<br>
Message:<br><br>
<pre>
--- In rest-discuss@yahoogroups.com, "Jeffrey Winter"
&lt;JeffreyWinter@c...&gt; wrote:
&gt; &gt; &gt; &lt;patrick.d.logan@i...&gt; wrote:
&gt; &gt; &gt; [...] The problem is the GET followed by the DELETE are intended to
&gt; &gt; be atomic. [...]
&gt; 
&gt; Since GET and DELETE are both idempotent, there is not need to come
&gt; up with any other mechanism for atomicity.

One of us must be confused - the issue of whether the methods are
idempotent or atomic are somewhat orthogonal. The point that Patrick
was trying to make, and I was agreeing with, is that a sequence of
methods (e.g. PUT followed by DELETE) is not atomic whereas, in this
particular situation, that is the behavior we want.

&gt; [...] given
&gt; the restrictions in my particular circumstance - single consumer or
&gt; queue, guaranteed delivery, ability to re-establish context, no 
&gt; support of POST or PUT - the semantics of GET and DELETE support 
&gt; what is necessary.

Perhaps, although it is illustrative to consider a more general
purpose implementation that would both address your specific needs, as
well as those in which one wishes to support more than a single
consumer. Further, the issue of GET+DELETE not being atomic is
relevant to the single consumer case because a failure which ocurrs
between the processing of the two method requests has the potential to
wreck the state of the application just as easily as when multiple
consumers are involved.

&gt; [...] If there were a need to support multiple consumers, I would agree.

One should not be so cavalier as to assume knowledge of the end of
days. That is, it is almost certain that components you develop will
be used in ways you cannot anticipate. For example, there may be a
time where your customer decides to replicate the consumer part of the
system to increase throughput (in an order processing scenario, for
example). An order queue which only supports a single consumer is of
little long term use, especially where reuse is concerned.

Of course one should weigh the relative costs of design alternatives
and select or develop the implementation that is most appropriate for
the given situation. In this case, however, it would seem most prudent
to build a general purpose and reuseable queue that can support
multiple consumers just as well as a single one.


Regards,
Elias




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4721<br>
Sender:"rlution" &lt;rlution@...&gt;<br>
Post Date/Time:2004-12-28 14:51:15<br>
Subject:REST clarifications...<br>
Message:<br><br>
<pre>

Hi Group,

I'm very new to REST but am interested in moving my current
development effort into the model.  That said, I must confess I need
some clarification on a few points (if the group will indulge me):

1) Some material on REST seems to reserve POST for "create" and PUT
for "update" while others seem to blur the distinction.  Any insight
here would be most helpful.

2) The writings seem to direct one away from using the query string as
much as possible.  While it is clear that .../somecgi.pl?action=delete
is most unREST-ful I assume .../invoice?id=3224 is OK to refer to
particular invoice (for example)?  I'm confused by the apparent
alternative URI to do the same thing .../invoice/3224  If the latter
is preferable, why is that - especially when this seems to embody
"Common REST Mistake #3"?  In short, when does one use the query
string versus the .../container/contained notation?

3) Does seems REST assumes the user will create a URI parser from
scratch?  The writings seem to call for a "central xml file" to do
this.  Do libwww-perl, Waterken, Cocoon, sqlREST enter in here? Could
someone comment on this a bit more?

4) I'm unclear as how a PUT works.  If we take PUT to mean "update"
the resource, does one simply send the updated representation of the
resource in a PUT request to the server?

Thanks a ton,

T. Colvin







</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4722<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2004-12-28 18:37:26<br>
Subject:Re: [rest-discuss] REST clarifications...<br>
Message:<br><br>
<pre>On Tue, Dec 28, 2004 at 02:51:15PM -0000, rlution wrote:
&gt; I'm very new to REST but am interested in moving my current
&gt; development effort into the model.  That said, I must confess I need
&gt; some clarification on a few points (if the group will indulge me):
&gt; 
&gt; 1) Some material on REST seems to reserve POST for "create" and PUT
&gt; for "update" while others seem to blur the distinction.  Any insight
&gt; here would be most helpful.

POST is more general than create, and in fact even PUT can create a
resource.  "create", AFAICT, emerged from the desire for some to fit
the new "uniform interface" into the concept of "CRUD", which is well
understood.

&gt; 2) The writings seem to direct one away from using the query string as
&gt; much as possible.  While it is clear that .../somecgi.pl?action=delete
&gt; is most unREST-ful I assume .../invoice?id=3224 is OK to refer to
&gt; particular invoice (for example)?  I'm confused by the apparent
&gt; alternative URI to do the same thing .../invoice/3224  If the latter
&gt; is preferable, why is that - especially when this seems to embody
&gt; "Common REST Mistake #3"?  In short, when does one use the query
&gt; string versus the .../container/contained notation?

I always opt for hierarchy when that's what I'm doing, i.e. when the
lifecycle of the contained is controlled by the container.  But
sometimes, when I need a browser interface to those resources, and due
to the limitations of HTML forms, I *also* present a query interface to
the contained resources, typically returning a representation which
includes the URIs sans query-term.

&gt; 3) Does seems REST assumes the user will create a URI parser from
&gt; scratch?  The writings seem to call for a "central xml file" to do
&gt; this.  Do libwww-perl, Waterken, Cocoon, sqlREST enter in here? Could
&gt; someone comment on this a bit more?

I'm not sure exactly what you mean, but it doesn't sound like something
that's dictated by REST, nor any architectural style for that matter.

&gt; 4) I'm unclear as how a PUT works.  If we take PUT to mean "update"
&gt; the resource, does one simply send the updated representation of the
&gt; resource in a PUT request to the server?

Yup.

Mark.
-- 
Mark Baker.   Ottawa, Ontario, CANADA.        http://www.markbaker.ca

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4723<br>
Sender:Josh Sled &lt;jsled@...&gt;<br>
Post Date/Time:2004-12-28 23:18:41<br>
Subject:Re: [rest-discuss] REST clarifications...<br>
Message:<br><br>
<pre>On Tue, 2004-12-28 at 09:51, rlution wrote:

&gt; 1) Some material on REST seems to reserve POST for "create" and PUT
&gt; for "update" while others seem to blur the distinction.  Any insight
&gt; here would be most helpful.

It's hard to say generally, but I think you're seeing two different
things:

* an inherent similarity in the two methods, including a bit of a 
  semantic overlap with respect to PUT's specification of ability to 
  create things.

* the fact that there's two different levels of REST: 
  GET+POST-does-everything-else  vs.  GET/PUT/POST/DELETE.  Not 
  differentiating the two can lead to confusion about which "POST"
  is being used/described. [1]


&gt; 2) The writings seem to direct one away from using the query string as
&gt; much as possible.  While it is clear that .../somecgi.pl?action=delete
&gt; is most unREST-ful I assume .../invoice?id=3224 is OK to refer to
&gt; particular invoice (for example)?  I'm confused by the apparent
&gt; alternative URI to do the same thing .../invoice/3224  If the latter
&gt; is preferable, why is that - especially when this seems to embody
&gt; "Common REST Mistake #3"?  In short, when does one use the query
&gt; string versus the .../container/contained notation?

I think that queries should be used when querying / paramaterizing a
resource space.  Likely, the query should return a collection of URIs
within that space.  But specific resources should be identified by URIs.

For instance:

&gt; /invoice/3224
  # a specific invoice
&gt; /invoice?forCustomer=/customer/1
  # returns a list of /invoice/## IDs for the given customer.
&gt; /invoice?byId=3224
  # lookup by ID, in cases where the URI is not known.

Note that practical concerns may lead one to use query parameters over
real resource-identifiers, though recently `mod_rewrite` can help one
present a "clean" URI space while also working around implementation
details.


&gt; 3) Does seems REST assumes the user will create a URI parser from
&gt; scratch?  The writings seem to call for a "central xml file" to do
&gt; this.  Do libwww-perl, Waterken, Cocoon, sqlREST enter in here? Could
&gt; someone comment on this a bit more?

Do you mean a client-side HTTP library, or a server-side HTTP
dispatcher?  

I've found most client-side HTTP libs to be deficient-but-serviceable,
while most server-side URI-handling frameworks to be less-than-helpful
in trying to handle an application-resource-focused URI space.

In the server-side case, I would opt to write my own dispatcher [a
servlet mapped to be responsible for "/*", in java terms], which would
probably be configured from a simple [either line-oriented or XML-like]
config file mapping URI-patterns to handling-function names.

...jsled

[1]: http://asynchronous.org/blog/archives/2004/08/25/levels_of_rest.html

-- 
http://asynchronous.org/ - `a=jsled; b=asynchronous.org; echo ${a}@${b}`

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4724<br>
Sender:Vincent D Murphy &lt;vdm@...&gt;<br>
Post Date/Time:2004-12-29 00:12:56<br>
Subject:Re: [rest-discuss] REST clarifications...<br>
Message:<br><br>
<pre>rlution wrote:
&gt; 1) Some material on REST seems to reserve POST for "create" and PUT
&gt; for "update" while others seem to blur the distinction.  Any insight
&gt; here would be most helpful.

I haven't found a reason to use PUT rather than POST
for creating a new resource. I'm still waiting for
the killer example where it makes sense.

Using PUT to create a resource is like using UPDATE
in SQL to create a new row.

&gt; 2) The writings seem to direct one away from using the query string as
&gt; much as possible.  While it is clear that .../somecgi.pl?action=delete
 &gt; is most unREST-ful I assume

Having a (meaningful) verb *anywhere* in the URI
is bad. For one thing, it violates the URI opaqueness
constraint. For another, the verb belongs in the
protocol, which is where HTTP has it.

One of my favourite web frameworks currently is
Ruby On Rails. One of the things I don't like is
that it gives you URLs like /blog/display/5. I just
want to GET /blog/5.

Lots of wikis, blogs and other CMS systems display
this anti-pattern.

http://www.rubyonrails.com/

&gt; .../invoice?id=3224 is OK to refer to
&gt; particular invoice (for example)?  I'm confused by the apparent
&gt; alternative URI to do the same thing .../invoice/3224  If the latter
&gt; is preferable, why is that - especially when this seems to embody
&gt; "Common REST Mistake #3"?

I think #3 runs the risk of being misleading.

http://www.prescod.net/rest/mistakes/

What is bad about /invoice/3224 is if you expect
agents to rely on the structure to discover related
resources. Like expecting an agent to know to refer
to the /invoice container from /invoice/3224 as ../

Better to be explicit about it and say container="../"
somewhere in a representation. That's what is meant
by opaqueness.

I use URLs like /invoice/3224 all the time, because
they're the most human-readable alternative.

&gt; In short, when does one use the query
&gt; string versus the .../container/contained notation?

I only use the query string for queries. Queries
usually belong on container-ish resources. e.g.

/invoices?paid=no

&gt; 3) Does seems REST assumes the user will create a URI parser from
&gt; scratch?  The writings seem to call for a "central xml file" to do
&gt; this.  Do libwww-perl, Waterken, Cocoon, sqlREST enter in here? Could
&gt; someone comment on this a bit more?

I have approached this by parsing the PATH_INFO
environment variable in cgi scripts and picking a
code path based on its contents. I've attempted to
build more general-purpose framework code but so
far a big fat if-elsif statement works.

This kind of code could be derived on-the-fly from
the so-called "central XML file".

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4725<br>
Sender:Roy T. Fielding &lt;fielding@...&gt;<br>
Post Date/Time:2004-12-29 02:38:49<br>
Subject:Re: [rest-discuss] REST clarifications...<br>
Message:<br><br>
<pre>On Dec 28, 2004, at 3:18 PM, Josh Sled wrote:
&gt; It's hard to say generally, but I think you're seeing two different
&gt; things:
&gt;
&gt; * an inherent similarity in the two methods, including a bit of a
&gt;   semantic overlap with respect to PUT's specification of ability to
&gt;   create things.
&gt;
&gt; * the fact that there's two different levels of REST:
&gt;   GET+POST-does-everything-else  vs.  GET/PUT/POST/DELETE.  Not
&gt;   differentiating the two can lead to confusion about which "POST"
&gt;   is being used/described. [1]
...
&gt; [1]: 
&gt; http://asynchronous.org/blog/archives/2004/08/25/levels_of_rest.html

Josh, while that may be your theory (and you are welcome to it), the
notion that there are two levels of REST is completely false.  There
are different extents to which a REST-based application will use HTTP
methods, but that doesn't mean the architectural style has two different
sets of constraints.  The application is either obeying the REST
constraints or it is not, and POST in particular has the meaning
"process this" regardless of how REST-compliant it may be because
REST does not define the meaning of POST (HTTP does).

....Roy


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4726<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2004-12-29 04:18:00<br>
Subject:Re: [rest-discuss] REST clarifications...<br>
Message:<br><br>
<pre>&gt; 1) Some material on REST seems to reserve POST for "create" and PUT
&gt; for "update" while others seem to blur the distinction.  Any insight
&gt; here would be most helpful.
When using PUT, the client application knows and identifies the resource
that is to be replaced by the content in the request. Whether the server
creates or updates a resource is immaterial - after the request succeeds,
the identified resource simply just has the specified state.
When using POST, the server is in control of whether the resource specified
in the request is modified or whether a new resource is created - and the
client can't guess at what the ID of new resource might be, it needs to be
provided by the server in the response. If the response fails to arrive at
the client, it might not be safe for the client application to simply
re-submit the request.


&gt;
&gt; 2) The writings seem to direct one away from using the query string as
&gt; much as possible.  While it is clear that .../somecgi.pl?action=delete
&gt; is most unREST-ful I assume
One reason this is unsafe is that a client that does a GET on that resource
will cause the resource to suddenly disappear. You often see this in email
confirmation messages that have a 'click here to unsubscribe' or something.
An email user agent that automatically fetched the links in an email would
silently cause actions to happen that you didn't intend (and are not liable
for).

&gt; 4) I'm unclear as how a PUT works.  If we take PUT to mean "update"
&gt; the resource, does one simply send the updated representation of the
&gt; resource in a PUT request to the server?
The meaning of PUT is more similar to an UPSERT (update or insert) operation
supported by some RDBMS systems.
The client application does indeed simply send a representation of the new
state of the resource.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4727<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2004-12-29 04:25:47<br>
Subject:Re: [rest-discuss] REST clarifications...<br>
Message:<br><br>
<pre>&gt; &gt; 1) Some material on REST seems to reserve POST for "create" and PUT
&gt; &gt; for "update" while others seem to blur the distinction.  Any insight
&gt; &gt; here would be most helpful.
&gt;
&gt; I haven't found a reason to use PUT rather than POST
&gt; for creating a new resource. I'm still waiting for
&gt; the killer example where it makes sense.
When using PUT, the client is in control of the URI space. So take any PUT
enabled file-system based Web server (like Apache) and it becomes a 'dumb
server', and the smarts can move into the client application - intelligence
at the edge. Example apps could be shared music playlists (requires music
players like iTunes, musicmatch, winamp to be more than brain dead
embarassments to the software development community - support caching of
http resources rather than re-fetching, support 'save to the web' for
playlists, etc..)
Other examples may come out of the rich client work popping up in
applications like GMail.

&gt; Using PUT to create a resource is like using UPDATE
&gt; in SQL to create a new row.
Using PUT is more like using UPSERT. Also, new rows are created via the
INSERT statement, UPDATE doesn't create new rows (although I'm only speaking
from limited experience in the world of SQL). The UPSERT operation is only
supported in a few SQL systeems, I'm pretty sure MySQL supports it (but the
table needs to have a uniqueness constraint on the primary key).


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4728<br>
Sender:Josh Sled &lt;jsled@...&gt;<br>
Post Date/Time:2004-12-29 14:47:59<br>
Subject:Re: [rest-discuss] REST clarifications...<br>
Message:<br><br>
<pre>On Tue, 2004-12-28 at 21:38, Roy T.Fielding wrote:

&gt; Josh, while that may be your theory (and you are welcome to it), the
&gt; notion that there are two levels of REST is completely false.  There
&gt; are different extents to which a REST-based application will use HTTP
&gt; methods, but that doesn't mean the architectural style has two different
&gt; sets of constraints.  

No, you're right; I've made the mistake of conflating REST with HTTP.


&gt; The application is either obeying the REST
&gt; constraints or it is not, and POST in particular has the meaning
&gt; "process this" regardless of how REST-compliant it may be because
&gt; REST does not define the meaning of POST (HTTP does).

As per HTTP, POST has two meanings ... "submit data-block for
data-handling" as well as "resource {creation,annotation,extension}".
These represent very different designs; I still think it's critical to
distinguish the two.  But, yes, they're "levels of HTTP", not "levels of
REST".

...jsled

-- 
http://asynchronous.org/ - `a=jsled; b=asynchronous.org; echo ${a}@${b}`

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4729<br>
Sender:Walden Mathews &lt;walden@...&gt;<br>
Post Date/Time:2004-12-29 16:21:08<br>
Subject:Re: [rest-discuss] REST clarifications...<br>
Message:<br><br>
<pre>Josh,

| As per HTTP, POST has two meanings ... "submit data-block for
| data-handling" as well as "resource {creation,annotation,extension}".
| These represent very different designs; I still think it's critical to
| distinguish the two.  But, yes, they're "levels of HTTP", not "levels of
| REST".

POST can't have two meanings per the spec., because the spec
does not define a way to discriminate two meanings for POST.
Or do I fail to get your meaning?

My understanding is that POST has *one* meaning, and potentially
infinite consequences, depending on server whim.  Such is the
nature of implicit invoation.

Walden

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4730<br>
Sender:"rlution" &lt;rlution@...&gt;<br>
Post Date/Time:2004-12-29 18:18:00<br>
Subject:mod_rewrite anyone?<br>
Message:<br><br>
<pre>
Thanks to all for the responses on my REST questions.

There were a number of reponses to my question on handling URI parsing
and dispatching on the server-side.  Some employ "one-big if-else
statement", others a java servlet with an XML config file.

Anyone exlusively using mod_rewrite to handle this?




</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4731<br>
Sender:Vincent D Murphy &lt;vdm@...&gt;<br>
Post Date/Time:2004-12-29 21:56:33<br>
Subject:Re: [rest-discuss] mod_rewrite anyone?<br>
Message:<br><br>
<pre>1. If you are parsing PATH_INFO, you can use
    mod_rewrite to de-uglify the cgi script path.

    /readable/foo/bar -&gt; /cgi-bin/ugly.cgi/foo/bar

    I don't have mod_rewrite code for this but its a
    trivial one-liner (after setup).

2. Pick keys out of the URL with mod_rewrite and
    rewrite them as query-string arguments.

    From .htaccess:

    RewriteBase /readable
    RewriteRule ^invoices/$ cgi/invoices/index.pl.cgi
    RewriteRule ^invoices/([0-9]+)?$ invoices/$1/ [R=permanent]
    RewriteRule ^invoices/([0-9]+)/$ cgi/invoices/one.pl.cgi?id=$1
    RewriteRule ^invoices/([0-9]+)/form/$ cgi/invoices/form.pl.cgi?id=$1

    I would think this complicates use of the query-string
    for queries, but I didn't try that.

    On the other hand, this could work well for adapting
    existing scripts to expose non-dispatch-query-string
    URLs. Some do this to be more available to spiders
    like GoogleBot.

PS: I publish all my URLs to have a leading slash so
there I can have terse relative URLs
(e.g. ./foo , ../foo/bar ) in HTML representations,
and have legacy browsers interpret them consistently.

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4732<br>
Sender:"Roy T. Fielding" &lt;fielding@...&gt;<br>
Post Date/Time:2004-12-30 02:28:30<br>
Subject:REST and the design of HTTP methods<br>
Message:<br><br>
<pre>On Dec 29, 2004, at 6:47 AM, Josh Sled wrote:
&gt; As per HTTP, POST has two meanings ... "submit data-block for
&gt; data-handling" as well as "resource {creation,annotation,extension}".
&gt; These represent very different designs; I still think it's critical to
&gt; distinguish the two.  But, yes, they're "levels of HTTP", not "levels 
&gt; of
&gt; REST".

Yes, it was certainly a mistake when the NCSA team introduced HTML
forms processing via POST (which at the time meant the same as NNTP's 
post)
without introducing a distinctive method for "process this".  However, 
we
should also understand why it did not seem important at the time, and
also why it "just doesn't matter" to REST how many meanings are embodied
in HTTP's POST.

                                    visible   identifiable
   method     safe    idempotent   semantics    resource     cacheable
            -----------------------------------------------------------
    GET     |  X          X            X           X             X    |
    HEAD    |  X          X            X           X             X    |
    PUT     |             X            X           X                  |
    POST(a) |                          /                              |
    POST(p) |                                                         |
    OPTIONS |  X          X            X                         O    |
            -----------------------------------------------------------

POST(a), as "append this", is unsafe, non-idempotent, non-cacheable,
operates on an unknown resource, and has only minor visibility since
there is no way for an intermediary to anticipate the state of the
resource after the append aside from "some state was added".  POST(p),
as "process this", doesn't even have that minor visibility.  Thus, an
architectural style like REST can only improve the performance of a
POST-based architecture by finding ways to escape POST (e.g., 201).

Note that POST, regardless of which meaning is being used, has none of
the characteristics that would make it useful for the architecture to
know exactly what is going on.  At most, we can obtain an identifiable
resource if the response is 201 and Content-Location, but that is true
of any extension method.  That is why it is more efficient in a true
REST-based architecture for there to be a hundred different methods
with distinct (non-duplicating), universal semantics, than it is to
include method semantics within the body of a POST.  Inspecting message
bodies to determine message semantics will always be slower than
placing the method up front.

I really should extend the table to include all of the methods that
webdav has added, just to show how disastrous it was to create PROP*
(duplicating semantics) instead of linking to the set of properties
as a separate resource. Maybe someone else has time to add that to the 
wiki.

....Roy


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4733<br>
Sender:"S. Mike Dierken" &lt;mdierken@...&gt;<br>
Post Date/Time:2004-12-30 05:55:57<br>
Subject:Re: [rest-discuss] REST and the design of HTTP methods<br>
Message:<br><br>
<pre>&gt; I really should extend the table to include all of the methods that
&gt; webdav has added, just to show how disastrous it was to create PROP*
&gt; (duplicating semantics) instead of linking to the set of properties
&gt; as a separate resource. Maybe someone else has time to add that to the 
&gt; wiki.

I added the table to this wiki page, but no summary or descriptive text.
I also added DELETE, and another section for WebDAV methods.
http://rest.blueoxen.net/cgi-bin/wiki.pl?HttpMethods


                                      visible   identifiable
    method     safe    idempotent   semantics    resource     cacheable
             -----------------------------------------------------------
   GET       |  X          X            X           X             X    |
   HEAD      |  X          X            X           X             X    |
   PUT       |             X            X           X                  |
   POST(a)   |                          /                              |
   POST(p)   |                                                         |
   DELETE    |             X            X           X                  |
   OPTIONS   |  X          X            X                         O    |
             ----------------------------------------------------------- 
   PROPFIND  |                                                         |
   PROPPATCH |                                                         |
   MKCOL     |                                                         |
   COPY      |                                                         |
   MOVE      |                                                         |
   LOCK      |                                                         |
   UNLOCK    |                                                         |
             ----------------------------------------------------------- 

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4734<br>
Sender:Vincent D Murphy &lt;vdm@...&gt;<br>
Post Date/Time:2004-12-30 09:35:50<br>
Subject:Re: [rest-discuss] REST and the design of HTTP methods<br>
Message:<br><br>
<pre>Thanks for the clarification. I have two questions.

Roy T. Fielding wrote:
&gt; That is why it is more efficient in a true
&gt; REST-based architecture for there to be a hundred different methods
&gt; with distinct (non-duplicating), universal semantics, than it is to
&gt; include method semantics within the body of a POST.  Inspecting message
&gt; bodies to determine message semantics will always be slower than
&gt; placing the method up front.

Do you agree that it would be better if human user agents
sending HTML forms just put the contents of the &lt;form method=""&gt;
attribute in the HTTP method field, no matter what the value is?

That way the server can honour the method or return an error, and
there is no more subsetting HTTP; you can use PUT or whatever you
like in your HTML form.

&gt; I really should extend the table to include all of the methods that
&gt; webdav has added, just to show how disastrous it was to create PROP*
&gt; (duplicating semantics) instead of linking to the set of properties
&gt; as a separate resource. Maybe someone else has time to add that to the 
&gt; wiki.

It comes as news to me that PROP* is disastrous. I studied
WebDAV this week and thought exactly the same thing; these
properties could be in a representation, or a seperate
subordinate resource.

Do you have this opinion about any of the other methods in
WebDAV, such as LOCK, UNLOCK, MKCOL? I wondered why one
couldn't just create a lock or collection with POST. I asked
how to do Wiki rollback with REST/HTTP here a while back
(lots of Wiki software uses GET with a verb in the URL) and
one of the suggestions was to use WebDAV COPY and MOVE.

I think I'm having difficulty making a value judgement as to
when one needs a new method in the protocol versus a new
resource.

=vdm

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4735<br>
Sender:Josh Sled &lt;jsled@...&gt;<br>
Post Date/Time:2004-12-30 14:28:01<br>
Subject:uniform interfaces<br>
Message:<br><br>
<pre>On Wed, 2004-12-29 at 11:21, Walden Mathews wrote:
&gt; Josh,
&gt; 
&gt; | As per HTTP, POST has two meanings ... "submit data-block for
&gt; | data-handling" as well as "resource {creation,annotation,extension}".
&gt; | These represent very different designs; I still think it's critical to
&gt; | distinguish the two.  But, yes, they're "levels of HTTP", not "levels of
&gt; | REST".
&gt; 
&gt; POST can't have two meanings per the spec., because the spec
&gt; does not define a way to discriminate two meanings for POST.
&gt; Or do I fail to get your meaning?

Every time I read RFC 2616 section 9.5, I come away with two meanings:

* process data

* "subordinate [...] in the same way that a file is subordinate to 
  a directory containing it [...]".

The latter reading is reinforced when taken in combination with the
definition of the semantics of the PUT and DELETE methods.

But, no, there's no way within the protocol to discriminate between them
[and there doesn't really need to be since the server is in control of
the conversation, which is really important].

POST then must have "process message" semantic, which subsumes "create
subordinate resource".  But there are clearly two different senses [in
the wordnet ... uh ... sense] at play in the wording of the spec.

[And to be clear, my use of "distinguish" in the quoted text was more
about person/person communication, not client/server...]


&gt; My understanding is that POST has *one* meaning, and potentially
&gt; infinite consequences, depending on server whim.  Such is the
&gt; nature of implicit invoation.

For some reason I like it better when it has a constrained meaning
rather than an unconstrained one.  But it is the unconstrained meaning
is what has enabled the web to grow, and I like that.  So now I'm
confused. :)


In any case, I maintain that there are different levels of HTTP:

0/ POST
1/ POST+GET
2/ POST+GET+PUT+DELETE(+HEAD,OPTIONS,TRACE,CONNECT)
3/ HTTP + WebDAV [RFC 2518]
...


So a question is: is (0) RESTful?

In the beginning there was POST.  I can see how GET would be factored
out of POST, specifically for optimizations of safety and
cache-control.  PUT and DELETE could be further factored out, but as
experience shows: not to great benefit.  The extensions specified in
WebDAV are [perhaps] further factored out in order to gain particular
operational efficiencies and capabilities...

I'm really just trying to understand better what "uniform" and
"hypermedia as the engine of application state" means, especially as
constrasted with RPC.

Section 5.1.5 of the dissertation claims that the Uniform Interface
constraint is the key differentiator of REST to other network-based
styles...  but when we allow the possibility that POST has multiple
meanings and a very loose semantic, it seems to chip away at that
uniformity.

At what point does the interface become non-uniform?

Is it strictly a function of what method-support-packages [?] are built
into the client?

And is there something besides uniformity -- the notion that each method
has the same semantic between any pair of components -- that is
important?  If we only had the uniform-though-weak POST operation, the
web wouldn't have the same character as it does now, but it would still
be uniform.  Is the GET/POST distinction critical?  [I'm _certain_ it
is, but why, exactly?  Is it operational "safe"ness?  Idempotency? 
Both?]

Let's say that the client receives from the server -- via a uniform and
interface like HTTP -- sufficient information which is unique to that
particular server, which allows the client to formulate a sequence of
method-invocations which carry out some task.  In terms of RESTfulness,
does it matter if the methods in the elements of that sequence are of a
limited set [the HTTP verbs, for instance]?  (potential answer: yes,
because of the visibility/known-semantics of those operations.)

And if not ... what about a client that gets such server-interaction
information from a third-party registry rather than the server itself at
run-time? 

Or are all cases non-RESTful not because of the lack of uniform
interface, but because hypermedia has stopped becoming the engine of
application state...?

Is the violation of REST that the client proactively performs more than
one action without the server's direction?

What about a client which understands how to perform long sequences of
interaction with a server, but periodically utilizes the server's
responses as a rough guide to application state?

Does it matter if the server provides the client with code[-on-demand]
-- a javascript "ui-engine" for instance -- that formulates and calls
the non-uniform methods [or, calls the existing "uniform" methods in
non-uniform ways]?


[I've re-edited this message for far too long, now, so I send it with
the disclaimer that I'm well-aware the preceding paragraphs are
less-than-coherent. If you've even read this far, thanks.]

...jsled

-- 
http://asynchronous.org/ - `a=jsled; b=asynchronous.org; echo ${a}@${b}`

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4736<br>
Sender:Josh Sled &lt;jsled@...&gt;<br>
Post Date/Time:2004-12-30 15:35:09<br>
Subject:Re: REST and the design of HTTP methods<br>
Message:<br><br>
<pre>On Wed, 2004-12-29 at 21:28, Roy T. Fielding wrote:

&gt; That is why it is more efficient in a true
&gt; REST-based architecture for there to be a hundred different methods
&gt; with distinct (non-duplicating), universal semantics, than it is to
&gt; include method semantics within the body of a POST.  Inspecting message
[deletia]
&gt; I really should extend the table to include all of the methods that
&gt; webdav has added, just to show how disastrous it was to create PROP*
&gt; (duplicating semantics) instead of linking to the set of properties

I continue to be confused, though.  I understand the importance of
orthogonality of operations [generally], but there's a tension here
between "hundreds of methods" and "there's no need for new methods
[since everything can be done in the resource-space]", which has been
expressed both in this forum and in other REST resources...


What's a good example of a new method that's not "disasterous"?


I'm familiar with the notion of M{GET,PUT,DELETE} operations from URIQA,
but have never really understood why conneg and resources aren't
sufficient; the Waka slides also suggest a seperation of data from
metadata, but maybe have a different definition of the later [?].

I've seen the WebDAV spec, and it sure seems like some of it could be
moved into the media-type rather than the protocol [&lt;dav:lock
using="post" href="./createLockRelUrl" /&gt;, &amp;c.].

The recent queue discussion seems to propose an atomic GET+DELETE
operation [MarkB's referred to it as "TAKE", but that name's from some
other system [?]], though I still believe that a sequence of GET + POST
[+ DELETE] can be used to craft a multi-consumer synchronized queue
[resistent to transient communication failures, at least].

...jsled

-- 
http://asynchronous.org/ - `a=jsled; b=asynchronous.org; echo ${a}@${b}`

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4737<br>
Sender:Julian Reschke &lt;julian.reschke@...&gt;<br>
Post Date/Time:2004-12-30 15:49:11<br>
Subject:Re: [rest-discuss] REST and the design of HTTP methods<br>
Message:<br><br>
<pre>S. Mike Dierken wrote:
&gt;&gt;I really should extend the table to include all of the methods that
&gt;&gt;webdav has added, just to show how disastrous it was to create PROP*
&gt;&gt;(duplicating semantics) instead of linking to the set of properties
&gt;&gt;as a separate resource. Maybe someone else has time to add that to the 
&gt;&gt;wiki.
&gt; 
&gt; 
&gt; I added the table to this wiki page, but no summary or descriptive text.
&gt; I also added DELETE, and another section for WebDAV methods.
&gt; http://rest.blueoxen.net/cgi-bin/wiki.pl?HttpMethods
&gt; ...

OK, I have filled out what I think the properties of the WebDAV methods 
are (feedback appreciated):


     method     safe    idempotent   semantics    resource     cacheable
              -----------------------------------------------------------
    GET       |  X          X            X           X             X    |
    HEAD      |  X          X            X           X             X    |
    PUT       |             X            X           X                  |
    POST(a)   |                          /                              |
    POST(p)   |                                                         |
    DELETE    |             X            X           X                  |
    OPTIONS   |  X          X            X                         O    |
              -----------------------------------------------------------
    PROPFIND  |  X          X            X           X                  |
    PROPPATCH |             X            X           X                  |
    MKCOL     |             X            X           X                  |
    COPY      |                          X           X                  |
    MOVE      |                          X           X                  |
    LOCK      |                          X           X                  |
    UNLOCK    |                          X           X                  |
              -----------------------------------------------------------


Best regards, Julian

-- 
&lt;green/&gt;bytes GmbH -- http://www.greenbytes.de -- tel:+492512807760

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4738<br>
Sender:Roy T. Fielding &lt;fielding@...&gt;<br>
Post Date/Time:2004-12-30 22:19:44<br>
Subject:Re: [rest-discuss] REST and the design of HTTP methods<br>
Message:<br><br>
<pre>On Dec 30, 2004, at 7:49 AM, Julian Reschke wrote:
&gt; OK, I have filled out what I think the properties of the WebDAV methods
&gt; are (feedback appreciated):
&gt;
&gt;
&gt;      method     safe    idempotent   semantics    resource     
&gt; cacheable
&gt;               
&gt; -----------------------------------------------------------
&gt;     GET       |  X          X            X           X             X   
&gt;  |
&gt;     HEAD      |  X          X            X           X             X   
&gt;  |
&gt;     PUT       |             X            X           X                 
&gt;  |
&gt;     POST(a)   |                          /                             
&gt;  |
&gt;     POST(p)   |                                                        
&gt;  |
&gt;     DELETE    |             X            X           X                 
&gt;  |
&gt;     OPTIONS   |  X          X            X                         O   
&gt;  |
&gt;               
&gt; -----------------------------------------------------------
&gt;     PROPFIND  |  X          X            X           X                 
&gt;  |
&gt;     PROPPATCH |             X            X           X                 
&gt;  |
&gt;     MKCOL     |             X            X           X                 
&gt;  |
&gt;     COPY      |                          X           X                 
&gt;  |
&gt;     MOVE      |                          X           X                 
&gt;  |
&gt;     LOCK      |                          X           X                 
&gt;  |
&gt;     UNLOCK    |                          X           X                 
&gt;  |
&gt;               
&gt; -----------------------------------------------------------

PROPFIND, PROPPATCH, LOCK, and UNLOCK do not have identifiable resources
(they all operate by way of a third party).  Is PROPPATCH always 
idempotent?
COPY and MOVE are a bit weird due to HTTP's limitation of the target 
URI.

I think we should add all of the webdav methods, not just 2518.  Most 
people
have no idea what has been added/proposed for versioning and bindings.

....Roy


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4739<br>
Sender:Julian Reschke &lt;julian.reschke@...&gt;<br>
Post Date/Time:2004-12-30 23:03:45<br>
Subject:Re: [rest-discuss] REST and the design of HTTP methods<br>
Message:<br><br>
<pre>Roy T. Fielding wrote:
&gt; On Dec 30, 2004, at 7:49 AM, Julian Reschke wrote:
&gt; 
&gt;&gt; OK, I have filled out what I think the properties of the WebDAV methods
&gt;&gt; are (feedback appreciated):
&gt;&gt;
&gt;&gt;
&gt;&gt;      method     safe    idempotent   semantics    resource     cacheable
&gt;&gt;               -----------------------------------------------------------
&gt;&gt;     GET       |  X          X            X           X             X    |
&gt;&gt;     HEAD      |  X          X            X           X             X    |
&gt;&gt;     PUT       |             X            X           X                  |
&gt;&gt;     POST(a)   |                          /                              |
&gt;&gt;     POST(p)   |                                                         |
&gt;&gt;     DELETE    |             X            X           X                  |
&gt;&gt;     OPTIONS   |  X          X            X                         O    |
&gt;&gt;               -----------------------------------------------------------
&gt;&gt;     PROPFIND  |  X          X            X           X                  |
&gt;&gt;     PROPPATCH |             X            X           X                  |
&gt;&gt;     MKCOL     |             X            X           X                  |
&gt;&gt;     COPY      |                          X           X                  |
&gt;&gt;     MOVE      |                          X           X                  |
&gt;&gt;     LOCK      |                          X           X                  |
&gt;&gt;     UNLOCK    |                          X           X                  |
&gt;&gt;               -----------------------------------------------------------
&gt; 
&gt; 
&gt; PROPFIND, PROPPATCH, LOCK, and UNLOCK do not have identifiable resources
&gt; (they all operate by way of a third party).  Is PROPPATCH always 

Could you please expand on what you mean by "they operate by way of a 
third party" (is this about the Depth request header?)? For instance, 
the results for a PROPFIND applied to the same Request-URI will vary for 
Depth 0 (just the Request-URI), 1 (+ internal members) and infinity (+ 
all descendants).

&gt; idempotent?

I would think so. PROPPATCH can either set ("PUT") or remove (aka 
"DELETE") a property. Of course I can imagine a server getting this 
wrong, but for the same reason it may get GET and PUT wrong. Possibly 
this is something that should be clarified in RFC2518bis.

&gt; COPY and MOVE are a bit weird due to HTTP's limitation of the target URI.
&gt;
&gt; I think we should add all of the webdav methods, not just 2518.  Most 
&gt; people
&gt; have no idea what has been added/proposed for versioning and bindings.

That's correct (a good summary about what the state of affairs is can be 
found at &lt;http://greenbytes.de/tech/webdav&gt;), but let's get the entries 
for base WebDAV right first :-)

Julian

-- 
&lt;green/&gt;bytes GmbH -- http://www.greenbytes.de -- tel:+492512807760

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4740<br>
Sender:Mark Baker &lt;distobj@...&gt;<br>
Post Date/Time:2004-12-30 23:49:58<br>
Subject:Visibility and POST (was Re: [rest-discuss] REST and the design of HTTP methods<br>
Message:<br><br>
<pre>I agree with your general point Roy, but just had a comment on
something you said ...

On Wed, Dec 29, 2004 at 06:28:30PM -0800, Roy T. Fielding wrote:
&gt; POST(a), as "append this", is unsafe, non-idempotent, non-cacheable,
&gt; operates on an unknown resource, and has only minor visibility since
&gt; there is no way for an intermediary to anticipate the state of the
&gt; resource after the append aside from "some state was added".  POST(p),
&gt; as "process this", doesn't even have that minor visibility.

I was under the impression that the degree of visibility in both cases
was identical, since the client has just as much trouble anticipating
the state of the resources as the intermediary.  What I think you're
talking about there - please correct me if I'm mistaken - is the amount
of information that can be extracted from a message.  But I wouldn't
personally call that amount of information "visibility" in the section 2
of your dissertation sense-of-the-word, since to do so, it seems, would
be akin to suggesting that "getStockQuote" is more visible than GET
simply because it's more specific, i.e. is equivalent to the GET
semantic plus the expected type of the data (a stock quote).

Mark.
-- 
Mark Baker.   Ottawa, Ontario, CANADA.        http://www.markbaker.ca

</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4741<br>
Sender:Roy T. Fielding &lt;fielding@...&gt;<br>
Post Date/Time:2004-12-31 06:28:57<br>
Subject:Re: [rest-discuss] REST and the design of HTTP methods<br>
Message:<br><br>
<pre>&gt;&gt; PROPFIND, PROPPATCH, LOCK, and UNLOCK do not have identifiable 
&gt;&gt; resources
&gt;&gt; (they all operate by way of a third party).  Is PROPPATCH always
&gt;
&gt; Could you please expand on what you mean by "they operate by way of a
&gt; third party" (is this about the Depth request header?)? For instance,
&gt; the results for a PROPFIND applied to the same Request-URI will vary 
&gt; for
&gt; Depth 0 (just the Request-URI), 1 (+ internal members) and infinity (+
&gt; all descendants).

That wasn't what I meant, though depth is certainly another can of 
worms.
I guess that is another reason why PROPFIND is not cacheable.

I meant that the client is using the resource URI to access other
resources that just happen to be properties of the resource URI.  The
indirection means that the client has no way to identify those 
properties
as resources, apply access control to them as resources, version them as
resources, etc.

&gt;&gt; idempotent?
&gt;
&gt; I would think so. PROPPATCH can either set ("PUT") or remove (aka
&gt; "DELETE") a property.

okay.

....Roy


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4742<br>
Sender:Roy T. Fielding &lt;fielding@...&gt;<br>
Post Date/Time:2004-12-31 07:43:30<br>
Subject:Re: Visibility and POST (was Re: [rest-discuss] REST and the design of HTTP methods<br>
Message:<br><br>
<pre>On Dec 30, 2004, at 3:49 PM, Mark Baker wrote:
&gt; On Wed, Dec 29, 2004 at 06:28:30PM -0800, Roy T. Fielding wrote:
&gt;&gt; POST(a), as "append this", is unsafe, non-idempotent, non-cacheable,
&gt;&gt; operates on an unknown resource, and has only minor visibility since
&gt;&gt; there is no way for an intermediary to anticipate the state of the
&gt;&gt; resource after the append aside from "some state was added".  POST(p),
&gt;&gt; as "process this", doesn't even have that minor visibility.
&gt;
&gt; I was under the impression that the degree of visibility in both cases
&gt; was identical, since the client has just as much trouble anticipating
&gt; the state of the resources as the intermediary.

They are effectively the same, yes, but visibility is a continuous 
function.
Just knowing something about the intent of the client may be better 
than nothing.

&gt; What I think you're
&gt; talking about there - please correct me if I'm mistaken - is the amount
&gt; of information that can be extracted from a message.  But I wouldn't
&gt; personally call that amount of information "visibility" in the section 
&gt; 2
&gt; of your dissertation sense-of-the-word, since to do so, it seems, would
&gt; be akin to suggesting that "getStockQuote" is more visible than GET
&gt; simply because it's more specific, i.e. is equivalent to the GET
&gt; semantic plus the expected type of the data (a stock quote).

There are many variables involved in determining visibility, not just
the self-descriptiveness of the message.  For example, simplicity and
visibility are intertwined: being very specific, to the point of 
describing
all possible details, will reduce visibility regardless of how 
descriptive
the message becomes -- the additional information becomes noise.
Making the method data-specific, as in your example, creates complexity
because the expected types of data in an open system are potentially 
infinite,
but it is only when the system as a whole is considered that we find the
trade-off unacceptable.

I keep feeling that there should be an easier way to describe this stuff
so that the constraints follow from the design goals of the Web.  The 
problem
is that the design encompasses a number of independent factors that 
become
a feedback loop, with the goal of that loop being continual growth of 
the
Web itself (i.e., more information being linked-in).  For example, the 
main
reason that getStockQuote is evil, far more so than the issue of 
visibility
described above, is because then a URI alone would not be sufficient to
to identify the resource, which would mean the resource could not be
linked-in with the rest of the Web, which would mean the Web loses that
potential for growth and we all lose because the value of the Web to
each user is influenced by Metcalfe's Law.


Cheers,

Roy T. Fielding                            &lt;http://roy.gbiv.com/&gt;
Chief Scientist, Day Software              &lt;http://www.day.com/&gt;


</pre><br><br><br><br><br>
-----------------------------------------------------------------------------------<br>
Post ID:4743<br>
Sender:Julian Reschke &lt;julian.reschke@...&gt;<br>
Post Date/Time:2004-12-31 11:15:16<br>
Subject:Re: [rest-discuss] REST and the design of HTTP methods<br>
Message:<br><br>
<pre>Roy T. Fielding wrote:
&gt;&gt;&gt;PROPFIND, PROPPATCH, LOCK, and UNLOCK do not have identifiable 
&gt;&gt;&gt;resources
&gt;&gt;&gt;(they all operate by way of a third party).  Is PROPPATCH always
&gt;&gt;
&gt;&gt;Could you please expand on what you mean by "they operate by way of a
&gt;&gt;third party" (is this about the Depth request header?)? For instance,
&gt;&gt;the results for a PROPFIND applied to the same Request-URI will vary 
&gt;&gt;for
&gt;&gt;Depth 0 (just the Request-URI), 1 (+ internal members) and infinity (+
&gt;&gt;all descendants).
&gt; 
&gt; 
&gt; That wasn't what I meant, though depth is certainly another can of 
&gt; worms.

Correct. RFC2518 already specifies PROPFIND as non-cacheable.

&gt; I guess that is another reason why PROPFIND is not cacheable.
&gt; 
&gt; I meant that the client is using the resource URI to access other
&gt; resources that just happen to be properties of the resource URI.  The
&gt; indirection means that the client has no way to identify those 
&gt; properties
&gt; as resources, apply access control to them as resources, version them as
&gt; resources, etc.

Ah! Now that depends on whether one considers those properties as 
different resources (as one can easily construct a URI for each of these 
properties, this is certainly a valid point of view). Let's stick with a 
very simple example such as:

HEAD /foo HTTP/1.1
Host: example.com

vs

PROPFIND /foo HTTP/1.1
Host: example.com
Depth: 0
Content-Type: application/xml

&lt;propfind xmlns="DAV:"&gt;
   &lt;prop&gt;&lt;getcontenttype/&gt;&lt;getcontentlength&gt;&lt;/prop&gt;
&lt;/propfind&gt;

At least in this case, PROPFIND doesn't seem to be more than a different 
way of getting the same information.

So is your concern about cases such as custom properties on a resource?

Best regards, Julian

-- 
&lt;green/&gt;bytes GmbH -- http://www.greenbytes.de -- tel:+492512807760

</pre><br><br><br><br><br>

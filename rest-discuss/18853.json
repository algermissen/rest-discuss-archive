{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":32626117,"authorName":"Philippe Mougin","from":"Philippe Mougin &lt;pmougin@...&gt;","profile":"pmougin2001","replyTo":"SENDER","senderId":"NTqgYGwRBJesoOduKsiz8w2LaccGH3wMZSm7GIwlBBuKih0lG3Y4Et8w2caaxIPaXLEkGDK-CT_dweKOFp1ivxNHdxRVBB2C","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [rest-discuss] REST &quot;create if not exists&quot;","postDate":"1338753039","msgId":18853,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PEUxRDI2OTU2LUE0ODEtNDFGMi1CODkxLTExNzU2M0NCNERGN0BhY20ub3JnPg==","inReplyToHeader":"PGpxZHFwbStnMDU4QGVHcm91cHMuY29tPg==","referencesHeader":"PGpxZHFwbStnMDU4QGVHcm91cHMuY29tPg=="},"prevInTopic":18851,"nextInTopic":18856,"prevInTime":18852,"nextInTime":18854,"topicId":18849,"numMessagesInTopic":7,"msgSnippet":"Hi Fran√ßois, I would go for #5 if possible. If you don t need to store and/or manipulate filters as independent resources, you ll benefit getting them out of","rawEmail":"Return-Path: &lt;pmougin@...&gt;\r\nX-Sender: pmougin@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 92787 invoked from network); 3 Jun 2012 19:50:42 -0000\r\nX-Received: from unknown (98.137.34.45)\n  by m15.grp.sp2.yahoo.com with QMQP; 3 Jun 2012 19:50:42 -0000\r\nX-Received: from unknown (HELO smtp.smtpout.orange.fr) (80.12.242.129)\n  by mta2.grp.sp2.yahoo.com with SMTP; 3 Jun 2012 19:50:41 -0000\r\nX-Received: from afontenayssb-151-1-49-22.w82-121.abo.wanadoo.fr ([82.121.92.22])\n\tby mwinf5d66 with ME\n\tid Hvqf1j00K0Uwqs203vqg44; Sun, 03 Jun 2012 21:50:40 +0200\r\nMime-Version: 1.0 (Apple Message framework v1278)\r\nContent-Type: multipart/alternative; boundary=&quot;Apple-Mail=_0D9569A7-D38B-4D1F-8512-D301596B3FB1&quot;\r\nIn-Reply-To: &lt;jqdqpm+g058@...&gt;\r\nDate: Sun, 3 Jun 2012 21:50:39 +0200\r\nCc: rest-discuss@yahoogroups.com\r\nMessage-Id: &lt;E1D26956-A481-41F2-B891-117563CB4DF7@...&gt;\r\nReferences: &lt;jqdqpm+g058@...&gt;\r\nTo: &quot;francoisverry&quot; &lt;f.verry@...&gt;\r\nX-Mailer: Apple Mail (2.1278)\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Philippe Mougin &lt;pmougin@...&gt;\r\nSubject: Re: [rest-discuss] REST &quot;create if not exists&quot;\r\nX-Yahoo-Group-Post: member; u=32626117; y=pIjGTdpIy8g_s3bw9WRncMPhnYT560aDd39gF_edcgZk6FAfsXw\r\nX-Yahoo-Profile: pmougin2001\r\n\r\n\r\n--Apple-Mail=_0D9569A7-D38B-4D1F-8512-D301596B3FB1\r\nContent-Transfer-Encoding: quoted-printable\r\nContent-Type: text/plain;\n\tcharset=windows-1252\r\n\r\nHi Fran=E7ois,\n\nI would go for #5 if possible. If you don&#39;t need to store a=\r\nnd/or manipulate filters as independent resources, you&#39;ll benefit getting t=\r\nhem out of your resource space, as this will vastly simplify your system.\n\n=\r\nNow, instead of GET  /filters/{filter-id}/results you would do GET /results=\r\n?c1=3Dfoo&c2=3Dbar&c3=3Dbaz. If your filters needs to be more complex than =\r\na simple set of key/values, you can create a little syntax to express them;=\r\n e.g. : GET /results?filter=3Dc1%3Dfoo%20ANDc2%3Dbar%20OR%20c3%3Dbaz.\n\nIf y=\r\nou can&#39;t do that (maybe your filters are too long to fit in a URL (but this=\r\n probably isn&#39;t the case)), and if for some reason you absolutely need to n=\r\not have multiple URLs for identical filters, you should go for your solutio=\r\nn #2. The problem you see about it isn&#39;t a real one. This isn&#39;t a fraud, as=\r\n the meaning of POST isn&#39;t necessarily to append something, but can be as g=\r\neneric as &quot;Providing a block of data to a data-handling process&quot;.\n\nBest,\n\nP=\r\nhilippe Mougin\n \nLe 2 juin 2012 =E0 21:50, francoisverry a =E9crit :\n\n&gt; Hel=\r\nlo\n&gt; \n&gt; I&#39;m new to REST, and I&#39;m trying to integrate it in my company. We c=\r\nurrently are trying to design a multi-criteria search engine with REST prin=\r\nciples. I use as a reference the O&#39;Reilly &quot;RESTful Web Services&quot;.\n&gt; \n&gt; I do=\r\nn&#39;t know if the following problem has been discussed somewhere, but I&#39;ve be=\r\nen unable to find anything that matches it. If you happen to know resources=\r\n that could help me, please let me know.\n&gt; \n&gt; In a multi-critera search eng=\r\nine, we have two types of resources : &quot;Results&quot; and &quot;Filters&quot;. Results are =\r\nitems searched for, and Filters are sets of criteria which allows us to iso=\r\nlate a subset of Results.\n&gt; \n&gt; For example :\n&gt; \n&gt;     GET /results returns =\r\nthe total number of results\n&gt;     GET /results/{result-id} returns one spec=\r\nific result\n&gt;     GET /filters returns a specification on criteria usage (e=\r\ng. an empty &lt;form&gt;)\n&gt;     GET /filters/{filter-id} returns one specific fil=\r\nter (eg. a filled &lt;form&gt;)\n&gt;     GET /filters/{filter-id}/results returns th=\r\ne total number of results matching the filter, and links to the correspondi=\r\nng /results/{result-id}\n&gt; \n&gt; We want to allow the registration of filters. =\r\nImagine a filter as the composition of 3 criteria, c1, c2 and c3. My first =\r\nthought was to register a filter through a POST request.\n&gt; \n&gt;     Request :=\r\n\n&gt; \n&gt;     POST /filters HTTP/1.1\n&gt; \n&gt;     c1=3Dfoo&c2=3Dbar&c3=3Dbaz\n&gt; \n&gt;  =\r\n   Response :\n&gt; \n&gt;     HTTP/1.1 201 Created\n&gt;     Location: /filters/123456=\r\n\n&gt; \n&gt; But if I (or someone else) do it again, I&#39;ll end up with another {fil=\r\nter-id}, e.g. 123457. Then we&#39;ll have two resources with the exact same mea=\r\nning and content.\n&gt; \n&gt; If I want to use one URI for one criteria set, PUT s=\r\neems more appropriate. The thing is, the {filter-id} is assigned &quot;randomly&quot;=\r\n by the server. As a client, I can&#39;t guess nor force it. From there, I see =\r\nthe following solutions, neither I find satisfying :\n&gt; \n&gt; 1/ I try to map a=\r\nrtificially my URIs to the criteria set. I could use a hash of the represen=\r\ntation. e.g. :\n&gt; \n&gt;     Request :\n&gt; \n&gt;     PUT /filters/53c11504ba50e14b604=\r\n07b13a72c0e53 HTTP/1.1\n&gt; \n&gt;     c1=3Dfoo&c2=3Dbar&c3=3Dbaz\n&gt; \n&gt;     Respons=\r\ne :\n&gt; \n&gt;     HTTP/1.1 200 OK\n&gt; \n&gt;     &lt;form method=3D&quot;PUT&quot; action=3D&quot;/filte=\r\nrs/53c11504ba50e14b60407b13a72c0e53&quot;&gt;\n&gt;         &lt;input name=3D&quot;c1&quot; value=3D=\r\n&quot;foo&quot; /&gt;\n&gt;         &lt;input name=3D&quot;c2&quot; value=3D&quot;bar&quot; /&gt;\n&gt;         &lt;input nam=\r\ne=3D&quot;c3&quot; value=3D&quot;baz&quot; /&gt;\n&gt;         &lt;input type=3D&quot;submit&quot; /&gt;\n&gt;     &lt;/form&gt;=\r\n\n&gt; \n&gt; The problem is : it is artificial. If my criteria set changes, or if =\r\nits representation changes, I could end up with conflicts or doubles.\n&gt; \n&gt; =\r\n2/ I trick the client into believing it actually created something new, whe=\r\nther or not it has. This means, even if /filters/123456 already exists, my =\r\nserver will answer it to anyone POSTing the &quot;c1=3Dfoo&c2=3Dbar&c3=3Dbaz&quot; co=\r\nntent.\n&gt; \n&gt; The problem is : it&#39;s a fraud. Only the initial POST really &quot;ap=\r\npends&quot; something.\n&gt; \n&gt; 3/ I answer the second-and-further POST requests wit=\r\nh a &quot;409 Conflict&quot; answer, and the correct location.\n&gt; \n&gt; The problem is : =\r\nit is not actually an error. The client doesn&#39;t care to register something,=\r\n it just has no way to know wheter or not the resource he is looking for al=\r\nready exists.\n&gt; \n&gt; 4/ I do a preliminary check\n&gt; \n&gt;     Request :\n&gt; \n&gt;     =\r\nGET /filters?c1=3Dfoo&c2=3Dbar&c3=3Dbaz HTTP/1.1\n&gt; \n&gt;     Response :\n&gt; \n&gt;  =\r\n   HTTP/1.1 301 Moved Permanently\n&gt;     Location: /filters/123456\n&gt; \n&gt; The =\r\nproblem is : If the resource doesn&#39;t exists at that time, I&#39;ll be willing t=\r\no create it. If I do, nothing ensures me that someone hasn&#39;t created it inb=\r\netween. Then, if I want to put aside a location for my resource, it implies=\r\n my GET isn&#39;t safe anymore.\n&gt; \n&gt; 5/ The last option I see is that the URI s=\r\nhould contains the whole content of the resource, as it is its &quot;natural&quot; id=\r\nentifier. This is especially difficult if I have a large set of criteria, a=\r\nnd if their values are complex. This is why we use ids in the first place.\n=\r\n&gt; \n&gt; Thanks in advance for your help\n&gt; \n&gt; Fran=E7ois\n&gt; \n&gt; \n\n\r\n--Apple-Mail=_0D9569A7-D38B-4D1F-8512-D301596B3FB1\r\nContent-Transfer-Encoding: quoted-printable\r\nContent-Type: text/html;\n\tcharset=windows-1252\r\n\r\n&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body style=3D&quot;word-wrap: break-word; -webkit-nbsp-mode:=\r\n space; -webkit-line-break: after-white-space; &quot;&gt;&lt;div&gt;Hi Fran=E7ois,&lt;/div&gt;&lt;=\r\ndiv&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I would go for #5 if possible. If you don&#39;t need to stor=\r\ne and/or manipulate filters as independent resources, you&#39;ll benefit gettin=\r\ng them out of your resource space, as this will vastly simplify your system=\r\n.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Now, instead of GET &nbsp;/filters/{filter-id}/r=\r\nesults you would do GET /results?c1=3Dfoo&amp;c2=3Dbar&amp;c3=3Dbaz. If you=\r\nr filters needs to be more complex than a simple set of key/values, you can=\r\n create a little syntax to express them; e.g. :&nbsp;GET /results?filter=3D=\r\nc1%3Dfoo%20ANDc2%3Dbar%20OR%20c3%3Dbaz.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;If you can=\r\n&#39;t do that (maybe your filters are too long to fit in a URL (but this proba=\r\nbly isn&#39;t the case)), and if for some reason you absolutely need to not hav=\r\ne multiple URLs for identical filters, you should go for your solution #2. =\r\nThe problem you see about it isn&#39;t a real one. This isn&#39;t a fraud, as the m=\r\neaning of POST isn&#39;t necessarily to append something, but can be as generic=\r\n as &quot;Providing a block of data&nbsp;to a data-handling process&quot;.&lt;/div&gt;&lt;div&gt;=\r\n&lt;br&gt;&lt;/div&gt;&lt;div&gt;Best,&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Philippe Mougin&lt;/div&gt;&lt;div&gt;&nb=\r\nsp;&lt;/div&gt;&lt;div&gt;&lt;div&gt;Le 2 juin 2012 =E0 21:50, francoisverry a =E9crit :&lt;/div=\r\n&gt;&lt;br class=3D&quot;Apple-interchange-newline&quot;&gt;&lt;blockquote type=3D&quot;cite&quot;&gt;\n\n\n\n\n\n\n\n=\r\n\n\n\n\n\n\n&lt;div style=3D&quot;background-color: rgb(255, 255, 255); position: static;=\r\n z-index: auto; &quot;&gt;\n&lt;span style=3D&quot;display:none&quot;&gt;&nbsp;&lt;/span&gt;\n\n\n\n    &lt;div i=\r\nd=3D&quot;ygrp-text&quot;&gt;&lt;p&gt;Hello&lt;br&gt;&lt;br&gt;I&#39;m new to REST, and I&#39;m trying to integrat=\r\ne it in my company. We currently are trying to design a multi-criteria sear=\r\nch engine with REST principles. I use as a reference the O&#39;Reilly &quot;RESTful =\r\nWeb Services&quot;.&lt;br&gt;&lt;br&gt;I don&#39;t know if the following problem has been discus=\r\nsed somewhere, but I&#39;ve been unable to find anything that matches it. If yo=\r\nu happen to know resources that could help me, please let me know.&lt;br&gt;&lt;br&gt;I=\r\nn a multi-critera search engine, we have two types of resources : &quot;Results&quot;=\r\n and &quot;Filters&quot;. Results are items searched for, and Filters are sets of cri=\r\nteria which allows us to isolate a subset of Results.&lt;br&gt;&lt;br&gt;For example :&lt;=\r\nbr&gt;&lt;br&gt;&nbsp;&nbsp;&nbsp; &lt;font style=3D&quot;background-color: rgb(0, 255, 255)=\r\n;&quot; face=3D&quot;courier new&quot;&gt;GET /results&lt;/font&gt; returns the total number of res=\r\nults&lt;br&gt;&nbsp;&nbsp;&nbsp; &lt;span style=3D&quot;font-family: courier new;backgrou=\r\nnd-color: rgb(0, 255, 255);&quot;&gt;GET /results/{result-id}&lt;/span&gt; returns one sp=\r\necific result&lt;br&gt;&nbsp;&nbsp;&nbsp; &lt;span style=3D&quot;background-color: rgb(0,=\r\n 255, 255);font-family: courier new;&quot;&gt;GET /filters&lt;/span&gt; returns a specifi=\r\ncation on criteria usage (eg. an empty &lt;form&gt;)&lt;br&gt;&nbsp;&nbsp;&nbsp; =\r\n&lt;span style=3D&quot;font-family: courier new;background-color: rgb(0, 255, 255);=\r\n&quot;&gt;GET /filters/{filter-id}&lt;/span&gt; returns one specific filter (eg. a filled=\r\n &lt;form&gt;)&lt;br&gt;&nbsp;&nbsp;&nbsp; &lt;span style=3D&quot;font-family: courier ne=\r\nw;background-color: rgb(0, 255, 255);&quot;&gt;GET /filters/{filter-id}/results&lt;/sp=\r\nan&gt; returns the total number of results matching the filter, and links to t=\r\nhe corresponding /results/{result-id}&lt;br&gt;&lt;br&gt;We want to allow the registrat=\r\nion of filters. Imagine a filter as the composition of 3 criteria, c1, c2 a=\r\nnd c3. My first thought was to register a filter through a POST request.&lt;br=\r\n&gt;&lt;br&gt;&nbsp;&nbsp;&nbsp; Request :&lt;br&gt;&lt;br&gt;&lt;span style=3D&quot;font-family: courie=\r\nr new;background-color: rgb(0, 255, 255);&quot;&gt;&nbsp;&nbsp;&nbsp; POST /filters=\r\n HTTP/1.1&lt;/span&gt;&lt;br style=3D&quot;font-family: courier new;background-color: rgb=\r\n(0, 255, 255);&quot;&gt;&lt;br style=3D&quot;font-family: courier new;background-color: rgb=\r\n(0, 255, 255);&quot;&gt;&lt;span style=3D&quot;font-family: courier new;background-color: r=\r\ngb(0, 255, 255);&quot;&gt;&nbsp;&nbsp;&nbsp; c1=3Dfoo&amp;c2=3Dbar&amp;c3=3Dbaz&lt;/sp=\r\nan&gt;&lt;br style=3D&quot;font-family: courier new;background-color: rgb(0, 255, 255)=\r\n;&quot;&gt;&lt;br&gt;&nbsp;&nbsp;&nbsp; Response :&lt;br&gt;&lt;br&gt;&lt;span style=3D&quot;font-family: cou=\r\nrier new;background-color: rgb(0, 255, 255);&quot;&gt;&nbsp;&nbsp;&nbsp; HTTP/1.1 2=\r\n01 Created&lt;/span&gt;&lt;br style=3D&quot;font-family: courier new;background-color: rg=\r\nb(0, 255, 255);&quot;&gt;&lt;span style=3D&quot;font-family: courier new;background-color: =\r\nrgb(0, 255, 255);&quot;&gt;&nbsp;&nbsp;&nbsp; Location: /filters/123456&lt;/span&gt;&lt;br s=\r\ntyle=3D&quot;font-family: courier new;background-color: rgb(0, 255, 255);&quot;&gt;&lt;br&gt;B=\r\nut if I (or someone else) do it again, I&#39;ll end up with another {filter-id}=\r\n, e.g. 123457. Then we&#39;ll have two resources with the exact same meaning an=\r\nd content.&lt;br&gt;&lt;br&gt;If I want to use one URI for one criteria set, PUT seems =\r\nmore appropriate. The thing is, the {filter-id} is assigned &quot;randomly&quot; by t=\r\nhe server. As a client, I can&#39;t guess nor force it. From there, I see the f=\r\nollowing solutions, neither I find satisfying :&lt;br&gt;&lt;br&gt;1/ I try to map arti=\r\nficially my URIs to the criteria set. I could use a hash of the representat=\r\nion. e.g. :&lt;br&gt;&lt;br&gt;&nbsp;&nbsp;&nbsp; Request :&lt;br&gt;&lt;br&gt;&lt;span style=3D&quot;font-=\r\nfamily: courier new;background-color: rgb(0, 255, 255);&quot;&gt;&nbsp;&nbsp;&nbsp;=\r\n PUT /filters/53c11504ba50e14b60407b13a72c0e53 HTTP/1.1&lt;/span&gt;&lt;br style=3D&quot;=\r\nfont-family: courier new;background-color: rgb(0, 255, 255);&quot;&gt;&lt;br style=3D&quot;=\r\nfont-family: courier new;background-color: rgb(0, 255, 255);&quot;&gt;&lt;span style=\r\n=3D&quot;font-family: courier new;background-color: rgb(0, 255, 255);&quot;&gt;&nbsp;&nb=\r\nsp;&nbsp; c1=3Dfoo&amp;c2=3Dbar&amp;c3=3Dbaz&lt;/span&gt;&lt;br style=3D&quot;font-family=\r\n: courier new;background-color: rgb(0, 255, 255);&quot;&gt;&lt;br&gt;&nbsp;&nbsp;&nbsp; R=\r\nesponse :&lt;br&gt;&lt;br&gt;&lt;span style=3D&quot;background-color: rgb(0, 255, 255);font-fam=\r\nily: courier new;&quot;&gt;&nbsp;&nbsp;&nbsp; HTTP/1.1 200 OK&lt;/span&gt;&lt;br style=3D&quot;ba=\r\nckground-color: rgb(0, 255, 255);font-family: courier new;&quot;&gt;&lt;br style=3D&quot;ba=\r\nckground-color: rgb(0, 255, 255);font-family: courier new;&quot;&gt;&lt;span style=3D&quot;=\r\nbackground-color: rgb(0, 255, 255);font-family: courier new;&quot;&gt;&nbsp;&nbsp;&=\r\nnbsp; &lt;form method=3D&quot;PUT&quot; action=3D&quot;/filters/53c11504ba50e14b60407b13a7=\r\n2c0e53&quot;&gt;&lt;/span&gt;&lt;br style=3D&quot;background-color: rgb(0, 255, 255);font-fami=\r\nly: courier new;&quot;&gt;&lt;span style=3D&quot;background-color: rgb(0, 255, 255);font-fa=\r\nmily: courier new;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;input na=\r\nme=3D&quot;c1&quot; value=3D&quot;foo&quot; /&gt;&lt;/span&gt;&lt;br style=3D&quot;background-color: rgb(0, 2=\r\n55, 255);font-family: courier new;&quot;&gt;&lt;span style=3D&quot;background-color: rgb(0,=\r\n 255, 255);font-family: courier new;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=\r\nnbsp; &lt;input name=3D&quot;c2&quot; value=3D&quot;bar&quot; /&gt;&lt;/span&gt;&lt;br style=3D&quot;backgrou=\r\nnd-color: rgb(0, 255, 255);font-family: courier new;&quot;&gt;&lt;span style=3D&quot;backgr=\r\nound-color: rgb(0, 255, 255);font-family: courier new;&quot;&gt;&nbsp;&nbsp;&nbsp;&=\r\nnbsp;&nbsp;&nbsp;&nbsp; &lt;input name=3D&quot;c3&quot; value=3D&quot;baz&quot; /&gt;&lt;/span&gt;&lt;br=\r\n style=3D&quot;background-color: rgb(0, 255, 255);font-family: courier new;&quot;&gt;&lt;sp=\r\nan style=3D&quot;background-color: rgb(0, 255, 255);font-family: courier new;&quot;&gt;&=\r\nnbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;input type=3D&quot;submit&quot; /&gt;&lt;/=\r\nspan&gt;&lt;br style=3D&quot;background-color: rgb(0, 255, 255);font-family: courier n=\r\new;&quot;&gt;&lt;span style=3D&quot;background-color: rgb(0, 255, 255);font-family: courier=\r\n new;&quot;&gt;&nbsp;&nbsp;&nbsp; &lt;/form&gt;&lt;/span&gt;&lt;br style=3D&quot;background-color=\r\n: rgb(0, 255, 255);font-family: courier new;&quot;&gt;&lt;br&gt;The problem is : it is ar=\r\ntificial. If my criteria set changes, or if its representation changes, I c=\r\nould end up with conflicts or doubles.&lt;br&gt;&lt;br&gt;2/ I trick the client into be=\r\nlieving it actually created something new, whether or not it has. This mean=\r\ns, even if /filters/123456 already exists, my server will answer it to anyo=\r\nne POSTing the &quot;c1=3Dfoo&amp;c2=3Dbar&amp;c3=3Dbaz&quot; content.&lt;br&gt;&lt;br&gt;The pro=\r\nblem is : it&#39;s a fraud. Only the initial POST really &quot;appends&quot; something.&lt;b=\r\nr&gt;&lt;br&gt;3/ I answer the second-and-further POST requests with a &quot;409 Conflict=\r\n&quot; answer, and the correct location.&lt;br&gt;&lt;br&gt;The problem is : it is not actua=\r\nlly an error. The client doesn&#39;t care to register something, it just has no=\r\n way to know wheter or not the resource he is looking for already exists.&lt;b=\r\nr&gt;&lt;br&gt;4/ I do a preliminary check&lt;br&gt;&lt;br&gt;&nbsp;&nbsp;&nbsp; Request :&lt;br&gt;&lt;b=\r\nr&gt;&lt;span style=3D&quot;font-family: courier new;background-color: rgb(0, 255, 255=\r\n);&quot;&gt;&nbsp;&nbsp;&nbsp; GET /filters?c1=3Dfoo&amp;c2=3Dbar&amp;c3=3Dbaz HTTP=\r\n/1.1&lt;/span&gt;&lt;br style=3D&quot;font-family: courier new;background-color: rgb(0, 2=\r\n55, 255);&quot;&gt;&lt;br&gt;&nbsp;&nbsp;&nbsp; Response :&lt;br&gt;&lt;br&gt;&lt;span style=3D&quot;font-fam=\r\nily: courier new;background-color: rgb(0, 255, 255);&quot;&gt;&nbsp;&nbsp;&nbsp; HT=\r\nTP/1.1 301 Moved Permanently&lt;/span&gt;&lt;br style=3D&quot;font-family: courier new;ba=\r\nckground-color: rgb(0, 255, 255);&quot;&gt;&lt;span style=3D&quot;font-family: courier new;=\r\nbackground-color: rgb(0, 255, 255);&quot;&gt;&nbsp;&nbsp;&nbsp; Location: /filters/=\r\n123456&lt;/span&gt;&lt;br style=3D&quot;font-family: courier new;background-color: rgb(0,=\r\n 255, 255);&quot;&gt;&lt;br&gt;The problem is : If the resource doesn&#39;t exists at that ti=\r\nme, I&#39;ll be willing to create it. If I do, nothing ensures me that someone =\r\nhasn&#39;t created it inbetween. Then, if I want to put aside a location for my=\r\n resource, it implies my GET isn&#39;t safe anymore.&lt;br&gt;&lt;br&gt;5/ The last option =\r\nI see is that the URI should contains the whole content of the resource, as=\r\n it is its &quot;natural&quot; identifier. This is especially difficult if I have a l=\r\narge set of criteria, and if their values are complex. This is why we use i=\r\nds in the first place.&lt;br&gt;&lt;br&gt;Thanks in advance for your help&lt;br&gt;&lt;br&gt;Fran=\r\n=E7ois&lt;br&gt;&lt;br&gt;\n&lt;/p&gt;\n\n    &lt;/div&gt;\n     \n\n    \n\n&lt;/div&gt;\n\n\n\n&lt;!-- end group email=\r\n --&gt;\n\n&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/body&gt;&lt;/html&gt;\r\n--Apple-Mail=_0D9569A7-D38B-4D1F-8512-D301596B3FB1--\r\n\n"}}
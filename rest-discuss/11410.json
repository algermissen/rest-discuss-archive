{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":284199208,"authorName":"vincent.lari","from":"&quot;vincent.lari&quot; &lt;vincent.lari@...&gt;","profile":"vincent.lari","replyTo":"SENDER","senderId":"9vAuRnMzCINU6v2xnmMO2-oWBQD39BT_vmuCwD3Y4qB86XCr-Xr7Dw9a0ipP5F3nWCgmH1TS5sYwbxFUVixNE01owD1DTc_waMEwH_M","spamInfo":{"isSpam":false,"reason":"6"},"subject":"Re: Migrating to AtomPub - a few issues","postDate":"1225219662","msgId":11410,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PGdlN21vZStzMDJoQGVHcm91cHMuY29tPg==","inReplyToHeader":"PDczZWM1OTlkMDgxMDI3MTgzM2c1YjE5MzEwOWo1ZWYyMWFhNTMyMTcwNGQzQG1haWwuZ21haWwuY29tPg=="},"prevInTopic":11408,"nextInTopic":11411,"prevInTime":11409,"nextInTime":11411,"topicId":11407,"numMessagesInTopic":6,"msgSnippet":"Hi Teo, Thanks for jumping in. ... You mean like so:          Search     ","rawEmail":"Return-Path: &lt;vincent.lari@...&gt;\r\nX-Sender: vincent.lari@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 55434 invoked from network); 28 Oct 2008 18:47:42 -0000\r\nX-Received: from unknown (66.218.67.96)\n  by m42.grp.scd.yahoo.com with QMQP; 28 Oct 2008 18:47:42 -0000\r\nX-Received: from unknown (HELO n41c.bullet.mail.sp1.yahoo.com) (66.163.168.175)\n  by mta17.grp.scd.yahoo.com with SMTP; 28 Oct 2008 18:47:42 -0000\r\nX-Received: from [69.147.65.171] by n41.bullet.mail.sp1.yahoo.com with NNFMP; 28 Oct 2008 18:47:42 -0000\r\nX-Received: from [66.218.66.48] by t13.bullet.mail.sp1.yahoo.com with NNFMP; 28 Oct 2008 18:47:42 -0000\r\nDate: Tue, 28 Oct 2008 18:47:42 -0000\r\nTo: rest-discuss@yahoogroups.com\r\nMessage-ID: &lt;ge7moe+s02h@...&gt;\r\nIn-Reply-To: &lt;73ec599d0810271833g5b193109j5ef21aa5321704d3@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-compose\r\nX-eGroups-Msg-Info: 1:6:0:0:0\r\nFrom: &quot;vincent.lari&quot; &lt;vincent.lari@...&gt;\r\nSubject: Re: Migrating to AtomPub - a few issues\r\nX-Yahoo-Group-Post: member; u=284199208; y=L9Ci43v-11zwA9WyKP9TlS5DrEsDEqu0pZ7KnBLsrQ_5orEoYzES\r\nX-Yahoo-Profile: vincent.lari\r\n\r\nHi Teo,\n\nThanks for jumping in.\n\n&gt; In this case, a read-only collection (em=\r\npty app:accept) can be placed\n&gt; in service doc. The collection feed may be =\r\nempty (or contain one entry\n&gt; describing how to search this collection), an=\r\nd has a &#39;search&#39; link\n&gt; points to OpenSearch document.\n\nYou mean like so:\n\n=\r\n&lt;service&gt;\n=A0=A0&lt;workspace&gt;\n=A0=A0=A0=A0&lt;atom:title&gt;Search&lt;/atom:title&gt;\n=A0=\r\n=A0=A0=A0&lt;collection href=3D&quot;http://my.app.com/search/addresses&quot; &gt;\n=A0=A0=\r\n=A0=A0=A0=A0&lt;atom:title&gt;geocoded addresses&lt;/atom:title&gt;\n=A0=A0=A0=A0=A0=A0&lt;=\r\n/atom:accept&gt;\n=A0=A0=A0=A0=A0=A0&lt;link rel=3D&quot;search&quot;\n=A0=A0=A0=A0=A0=A0=A0=\r\n=A0=A0=A0=A0=A0=A0=A0=A0=A0href=3D&quot;http://my.app.com/search/addresses&quot;\n=A0=\r\n=A0=A0=A0=A0=A0=A0=A0=A0=A0=A0=A0=A0=A0=A0=A0type=3D&quot;application/opensearch=\r\ndescription+xml&quot; /&gt;\n=A0=A0=A0=A0&lt;/collection&gt;\n=A0=A0&lt;/workspace&gt;\n=A0=A0&lt;wor=\r\nkspace&gt;\n=A0=A0=A0=A0=A0my regular collections\n=A0=A0&lt;/worspace&gt;\n&lt;/service&gt;\n=\r\n\n\nI don&#39;t think I can have a &lt;link&gt; element inside a &lt;collection&gt; element.\n=\r\nSo, what I&#39;d need to do is have a collection that points to a feed of\nopens=\r\nearch doc references:\n\n&lt;collection href=3D&quot;http://my.app.com/search&quot; &gt;\n=A0=\r\n=A0=A0=A0&lt;atom:title&gt;All the opensearch docs&lt;/atom:title&gt;\n=A0=A0=A0=A0&lt;/ato=\r\nm:accept&gt;\n&lt;/collection&gt;\n\nThe collection would point to an empty  feed with =\r\na bunch of &lt;link&gt;&#39;s to\nall my opensearch documents:\n\n\n&lt;feed xmlns=3D&quot;http:/=\r\n/www.w3.org/2005/Atom&quot;\n=A0=A0=A0=A0=A0=A0=A0=A0=A0=A0=A0xmlns:opensearch=3D=\r\n&quot;http://a9.com/-/spec/opensearch/1.1/&quot;&gt;\n=A0=A0&lt;author&gt;My app&lt;/author&gt;\n=A0=\r\n=A0&lt;id&gt;123&lt;/id&gt;\n=A0=A0&lt;title&gt; All opensearch docs&lt;/title&gt;\n=A0=A0&lt;link rel=\r\n=3D&quot;self&quot; .../&gt;\n=A0=A0&lt;link rel=3D&quot;search&quot;\n=A0=A0=A0=A0=A0=A0=A0=A0=A0=A0=\r\n=A0=A0href=3D&quot;http://http://my.app.com/searchAddresses.xml&quot;\n=A0=A0=A0=A0=A0=\r\n=A0=A0=A0=A0=A0=A0=A0type=3D&quot;application/opensearchdescription+xml&quot;\n=A0=A0=\r\n=A0=A0=A0=A0=A0=A0=A0=A0=A0=A0title=3D&quot;Search addresses&quot; /&gt;\n=A0=A0&lt;link rel=\r\n=3D&quot;search&quot;\n=A0=A0=A0=A0=A0=A0=A0=A0=A0=A0=A0=A0href=3D&quot;http://http://my.ap=\r\np.com/searchFoo.xml&quot;\n=A0=A0=A0=A0=A0=A0=A0=A0=A0=A0=A0=A0type=3D&quot;applicatio=\r\nn/opensearchdescription+xml&quot;\n=A0=A0=A0=A0=A0=A0=A0=A0=A0=A0=A0=A0title=3D&quot;S=\r\nearch Foo&#39;s&quot; /&gt;\n=A0=A0=A0&lt;link rel=3D&quot;search&quot;\n=A0=A0=A0=A0=A0=A0=A0=A0=A0=\r\n=A0=A0=A0href=3D&quot;http://http://my.app.com/searchFoo.xml&quot;\n=A0=A0=A0=A0=A0=A0=\r\n=A0=A0=A0=A0=A0=A0type=3D&quot;application/opensearchdescription+xml&quot;\n=A0=A0=A0=\r\n=A0=A0=A0=A0=A0=A0=A0=A0=A0title=3D&quot;Search Bars&#39;s&quot; /&gt;\n&lt;/feed&gt;\n\n\nAlternative=\r\nly,=A0I could embed every opensearch doc in an &lt;entry&gt;\nelement.\n\n&lt;feed xmln=\r\ns=3D&quot;http://www.w3.org/2005/Atom&quot;\n=A0=A0=A0=A0=A0=A0=A0=A0=A0=A0xmlns:opens=\r\nearch=3D&quot;http://a9.com/-/spec/opensearch/1.1/&quot;&gt;\n=A0=A0&lt;author&gt;My app&lt;/autho=\r\nr&gt;\n=A0=A0&lt;id&gt;123&lt;/id&gt;\n=A0=A0&lt;title&gt; All opensearch docs&lt;/title&gt;\n=A0=A0&lt;link=\r\n rel=3D&quot;self&quot; .../&gt;\n=A0=A0&lt;entry&gt;\n=A0=A0=A0=A0&lt;id&gt;&lt;/id&gt;\n=A0=A0=A0&lt;title&gt;geo=\r\ncoded address opensearch doc&lt;/title&gt;\n=A0=A0=A0&lt;link rel=3D&quot;alternate&quot; .../&gt;=\r\n\n=A0=A0=A0&lt;author&gt;...&lt;/author&gt;\n=A0=A0=A0&lt;updated&gt;...&lt;/updated&gt;\n=A0=A0=A0&lt;co=\r\nntent type=3D&quot;application/opensearchdescription+xml&quot;&gt;\n=A0=A0=A0=A0=A0&lt;OpenS=\r\nearchDescription\nxmlns=3D&quot;http://a9.com/-/spec/opensearch/1.1/&quot;&gt;\n=A0=A0=A0=\r\n=A0=A0=A0=A0&lt;ShortName&gt;addresses&lt;/ShortName&gt;\n=A0=A0=A0=A0=A0=A0=A0&lt;Descript=\r\nion&gt;search geocoded addresses&lt;/Description&gt;\n=A0=A0=A0=A0=A0=A0&lt;Url type=3D&quot;=\r\napplication/rss+xml&quot;\n=A0=A0=A0=A0=A0=A0=A0=A0=A0=A0=A0=A0=A0=A0template=3D&quot;=\r\nhttp://my.app.com/?street=3D{streeataddress}&po&#92;\nstal=3D{postalcode}&cit=3D=\r\n{city}&quot;/&gt;\n=A0=A0=A0=A0&lt;/OpenSearchDescription&gt;\n=A0=A0&lt;/content&gt;\n&lt;/entry&gt;\n&lt;e=\r\nntry&gt;\n=A0=A0=A0another opensearch doc\n&lt;/entry&gt;\n&lt;/feed&gt;\n\n\nIt works but I&#39;m a=\r\ndding 2 or 3 levels of indirection to get my search\nuri&#39;s; I&#39;d rather have =\r\na self-contained AtomPub Service document, but I\nthink I&#39;ll have to do with=\r\n one of the two solutions I mentioned, as a\ncollection must point to a an A=\r\ntom feed and there is no way around this.\n\n-Vincent.\n\n\n\n\n\n\n\n\n"}}
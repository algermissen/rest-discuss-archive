{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":42263874,"authorName":"Lucas Gonze","from":"Lucas Gonze &lt;lgonze@...&gt;","profile":"lucas_gonze","replyTo":"SENDER","senderId":"uN7ReePjgDC67-Ri-IhbWRPQ6mOUnddup0z_2yB-gxzf-CBS34vjfE9TlkAZKSleHcPwwr2O4CnIVOO2biXvh71cUnQc","spamInfo":{"isSpam":false,"reason":"10"},"subject":"coding question","postDate":"1113021514","msgId":4983,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PFBpbmUuTkVCLjQuNjIuMDUwNDA4MTgzMjU2MC4xNjUwNEBwYW5peDIucGFuaXguY29tPg=="},"prevInTopic":0,"nextInTopic":4984,"prevInTime":4982,"nextInTime":4984,"topicId":4983,"numMessagesInTopic":14,"msgSnippet":"My resource handlers virtually all start with case statements on the incoming URI and other parameters, and the amount of nesting leads to unreadable code like","rawEmail":"Return-Path: &lt;lgonze@...&gt;\r\nX-Sender: lgonze@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nReceived: (qmail 95947 invoked from network); 9 Apr 2005 04:38:35 -0000\r\nReceived: from unknown (66.218.66.172)\n  by m14.grp.scd.yahoo.com with QMQP; 9 Apr 2005 04:38:35 -0000\r\nReceived: from unknown (HELO mail3.panix.com) (166.84.1.74)\n  by mta4.grp.scd.yahoo.com with SMTP; 9 Apr 2005 04:38:35 -0000\r\nReceived: from panix2.panix.com (panix2.panix.com [166.84.1.2])\n\tby mail3.panix.com (Postfix) with ESMTP id 94071981D3\n\tfor &lt;rest-discuss@yahoogroups.com&gt;; Sat,  9 Apr 2005 00:38:34 -0400 (EDT)\r\nReceived: from localhost (lgonze@localhost)\n\tby panix2.panix.com (8.11.6p3/8.8.8/PanixN1.1) with ESMTP id j394cYA02879\n\tfor &lt;rest-discuss@yahoogroups.com&gt;; Sat, 9 Apr 2005 00:38:34 -0400 (EDT)\r\nDate: Fri, 8 Apr 2005 18:38:34 -1000 (HST)\r\nTo: rest-discuss@yahoogroups.com\r\nMessage-ID: &lt;Pine.NEB.4.62.0504081832560.16504@...&gt;\r\nMIME-Version: 1.0\r\nContent-Type: TEXT/PLAIN; charset=US-ASCII; format=flowed\r\nX-eGroups-Msg-Info: 1:10:0\r\nFrom: Lucas Gonze &lt;lgonze@...&gt;\r\nReply-To: lucas@...\r\nSubject: coding question\r\nX-Yahoo-Group-Post: member; u=42263874\r\nX-Yahoo-Profile: lucas_gonze\r\n\r\n\nMy resource handlers virtually all start with case statements on the \nincoming URI and other parameters, and the amount of nesting leads to \nunreadable code like this:\n\nswitch(get_uri()){\ncase &#39;foo&#39;:\n   switch(get_method()){\n     case GET:\n     case HEAD:\n       // emit form\n       break;\n     case POST:\n       // process form\n       break;\n     default:\n       // throw a 405\n   }\n   break;\ncase &#39;bar&#39;:\n   switch(get_method()){\n     case GET:\n     case HEAD:\n       // emit form\n       break;\n     case POST:\n       // process form\n       break;\n     default:\n       // throw a 405\n   }\n   break;\ndefault;\n   // throw a 404\n}\n\nWhat sort of idioms are other people using?  How do you keep the nesting \nunder control?\n\nThanks.\n\n- Lucas\n\n\n"}}
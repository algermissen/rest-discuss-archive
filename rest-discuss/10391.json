{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":227453699,"authorName":"Griffin Caprio","from":"Griffin Caprio &lt;griffin.caprio@...&gt;","profile":"griffinc18","replyTo":"SENDER","senderId":"JIR3GRSnDd68SN7CvbZ_QCDZVOnaFD5UY-iBDmsxc1OHEsHo5OPyTTleS0na4Dbs-CCgDpKXaQy-FE-drUsSr-QpOyVRt-hTszMLI4hqcR8","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [rest-discuss] Returning a Response Body for 400 errors","postDate":"1203016951","msgId":10391,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDE5MEIwNjA3LTk3MjEtNDFGMC1BNkYyLTUwNDBCRDkxNUZBOEBnbWFpbC5jb20+","inReplyToHeader":"PDIwMDgwMjE0MTYxODM4LkdBMTkwOTlAYmx1ZXpvby5vcmc+","referencesHeader":"PGZvb2RlYStxYm9mQGVHcm91cHMuY29tPiA8NEZFNERDMUItM0VCOS00RDZBLTg3NEItOTQxMzMwRjQ0OTAwQGdtYWlsLmNvbT4gPEVDQ0NDNjc2LTU2NDUtNENGNi05OTg1LTUxQ0VCRTdBQzFGMUBnbWFpbC5jb20+IDwyMDA4MDIxNDE2MTgzOC5HQTE5MDk5QGJsdWV6b28ub3JnPg=="},"prevInTopic":10390,"nextInTopic":10434,"prevInTime":10390,"nextInTime":10392,"topicId":10381,"numMessagesInTopic":10,"msgSnippet":"Chris, Great, thanks for your help! - Griffin","rawEmail":"Return-Path: &lt;griffin.caprio@...&gt;\r\nX-Sender: griffin.caprio@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 36800 invoked from network); 14 Feb 2008 19:22:35 -0000\r\nX-Received: from unknown (66.218.67.94)\n  by m49.grp.scd.yahoo.com with QMQP; 14 Feb 2008 19:22:35 -0000\r\nX-Received: from unknown (HELO py-out-1112.google.com) (64.233.166.178)\n  by mta15.grp.scd.yahoo.com with SMTP; 14 Feb 2008 19:22:35 -0000\r\nX-Received: by py-out-1112.google.com with SMTP id d32so508155pye.21\n        for &lt;rest-discuss@yahoogroups.com&gt;; Thu, 14 Feb 2008 11:22:34 -0800 (PST)\r\nX-Received: by 10.35.68.3 with SMTP id v3mr1903711pyk.12.1203016954371;\n        Thu, 14 Feb 2008 11:22:34 -0800 (PST)\r\nReturn-Path: &lt;griffin.caprio@...&gt;\r\nX-Received: from ?10.0.1.103? ( [66.251.239.172])\n        by mx.google.com with ESMTPS id p57sm3077097pyb.15.2008.02.14.11.22.32\n        (version=TLSv1/SSLv3 cipher=OTHER);\n        Thu, 14 Feb 2008 11:22:32 -0800 (PST)\r\nCc: rest-discuss@yahoogroups.com\r\nMessage-Id: &lt;190B0607-9721-41F0-A6F2-5040BD915FA8@...&gt;\r\nTo: Chris Burdess &lt;dog@...&gt;\r\nIn-Reply-To: &lt;20080214161838.GA19099@...&gt;\r\nContent-Type: text/plain; charset=US-ASCII; format=flowed; delsp=yes\r\nContent-Transfer-Encoding: 7bit\r\nMime-Version: 1.0 (Apple Message framework v919.2)\r\nDate: Thu, 14 Feb 2008 13:22:31 -0600\r\nReferences: &lt;foodea+qbof@...&gt; &lt;4FE4DC1B-3EB9-4D6A-874B-941330F44900@...&gt; &lt;ECCCC676-5645-4CF6-9985-51CEBE7AC1F1@...&gt; &lt;20080214161838.GA19099@...&gt;\r\nX-Mailer: Apple Mail (2.919.2)\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Griffin Caprio &lt;griffin.caprio@...&gt;\r\nSubject: Re: [rest-discuss] Returning a Response Body for 400 errors\r\nX-Yahoo-Group-Post: member; u=227453699; y=2IX-X1nNWHyFNq0wGb5jfrc8zMwV-HiFeCHqSb8N7NLvj5jDow\r\nX-Yahoo-Profile: griffinc18\r\n\r\nChris,\n\nGreat, thanks for your help!\n\n- Griffin\nOn Feb 14, 2008, at 10:18 AM, Chris Burdess wrote:\n\n&gt; Griffin Caprio wrote:\n&gt;&gt; What&#39;s the best way to return specific errors to a client if they  \n&gt;&gt; make\n&gt;&gt; a malformed request?  My company has a REST web service that accepts\n&gt;&gt; POSTed data to it.  We wanted to return a 400 response code in cases\n&gt;&gt; where the data being sent is invalid for some reason ( invalid XML,\n&gt;&gt; invalid business rules, etc.. ) .  We also wanted to return specific\n&gt;&gt; validation messages as part of the response body.\n&gt;&gt;\n&gt;&gt; However, we&#39;re running into problems with some java clients because\n&gt;&gt; apparently the HttpUrlConnection class in the JDK swallows the\n&gt;&gt; response bodies when a 400 or higher return code is sent back:\n&gt;&gt;\n&gt;&gt; From HttpUrlConnection ( around line 970 )\n&gt;&gt;\n&gt;&gt; if (respCode &gt;= 400) {\n&gt;&gt;   if (respCode == 404 || respCode == 410) {\n&gt;&gt;       throw new FileNotFoundException(url.toString());\n&gt;&gt;   } else {\n&gt;&gt;      throw new java.io.IOException(\n&gt;&gt;                         &quot;Server returned HTTP&quot;\n&gt;&gt;                         + &quot; response code: &quot; + respCode\n&gt;&gt;                         + &quot; for URL: &quot; + url.toString());\n&gt;&gt;   }\n&gt;&gt; }\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; So my question: Is what we&#39;re trying to do not really correct?\n&gt;\n&gt; It is correct.\n&gt;\n&gt;&gt; I&#39;ve\n&gt;&gt; looked in the HTTP spec and it says that an Entity Body may be\n&gt;&gt; returned with a 400 error, so maybe it&#39;s just a bug in the Java\n&gt;&gt; implementation?\n&gt;\n&gt; It&#39;s more of a pain to do with the way that HttpURLConnection is\n&gt; specified. There is a workaround: HttpURLConnection.getErrorStream -\n&gt; see the Javadoc for this - but most developers probably don&#39;t know\n&gt; or ignore this.\n&gt;\n&gt; Just a poor design.\n&gt; -- \n&gt; Chris Burdess\n\n\n"}}
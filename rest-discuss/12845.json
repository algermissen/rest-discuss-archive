{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":63369774,"authorName":"Eric Newcomer","from":"Eric Newcomer &lt;e_newcomer@...&gt;","profile":"e_newcomer","replyTo":"SENDER","senderId":"qZghrp2NIBS3JvUmHiRcU107enzsd02-RBwTnsOgZftbDWJvibriQiVed5f1NV7rYWvILGIq0D9M_etxepKPVXQhsh7znrIU_vHY","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [rest-discuss] rest transactions","postDate":"1244575639","msgId":12845,"canDelete":false,"contentTrasformed":false,"systemMessage":true,"headers":{"messageIdInHeader":"PDkyNzk3LjcxMjIxLnFtQHdlYjM3NTA4Lm1haWwubXVkLnlhaG9vLmNvbT4=","inReplyToHeader":"PDM0M2VjYjNlMDkwNjA5MTIxMHEyMTIxZWQ1MnUxZDY2NWRhMjQxNzcwNjU0QG1haWwuZ21haWwuY29tPg==","referencesHeader":"PDRBMjU0OEZFLjgwOTAxMDVAcmVkaGF0LmNvbT4gIDwzNDNlY2IzZTA5MDYwMjA5MDdtMjlkOTk4YzVrZWNkM2U5NTNkYTdiNmNmOUBtYWlsLmdtYWlsLmNvbT4gIDxDQTgzQ0ZFNS01RjRELTQwQTMtQTA5Ni1BRjA4MTVBMEU3M0RAeWFob28uY28udWs+ICA8MzQzZWNiM2UwOTA2MDcwNTI5aDcyN2FhZDkxbDRiNDAzN2MxYmI0MzBlZEBtYWlsLmdtYWlsLmNvbT4gIDxCQjVCREI1Qy1EMkZBLTQ2NjYtQjlBQS00RDVBQ0QzM0U0MkRAeWFob28uY28udWs+ICA8MzQzZWNiM2UwOTA2MDkwNjI3dzFmNTNhMzllcWVmZGQ1OGM5MGU1NWE0MzlAbWFpbC5nbWFpbC5jb20+ICA8REVENjUzNjgtRDk2Ny00MkY3LTk0NDUtNDY5ODRCMzE1QkREQHlhaG9vLmNvLnVrPiAgPDIyODIzMTQ1LTQ1QjYtNDY0OC05NzNFLUNGNzcxQzYwQjlEMkBnYml2LmNvbT4gIDxDOEM5Nzk4RS1ERjc2LTQwMUMtQUE3OC0yNEMzOUE2QTRCNzRAaW5ub3EuY29tPiAgPDEwOEM2RDdBLUFBODktNEE1OS04MUYwLTA4RUNFM0JCQ0E0Q0BnYml2LmNvbT4gPDM0M2VjYjNlMDkwNjA5MTIxMHEyMTIxZWQ1MnUxZDY2NWRhMjQxNzcwNjU0QG1haWwuZ21haWwuY29tPg=="},"prevInTopic":12844,"nextInTopic":12846,"prevInTime":12844,"nextInTime":12846,"topicId":12727,"numMessagesInTopic":54,"msgSnippet":"We wrote about this in the second edition of Principles of Transaction Processing, due out later this month. We took our cue from RESTful Web Services and","rawEmail":"Return-Path: &lt;e_newcomer@...&gt;\r\nReceived: (qmail 98248 invoked from network); 9 Jun 2009 20:21:52 -0000\r\nReceived: from unknown (98.137.34.46)\n  by m4.grp.re1.yahoo.com with QMQP; 9 Jun 2009 20:21:52 -0000\r\nReceived: from unknown (HELO n39b.bullet.mail.sp1.yahoo.com) (66.163.168.153)\n  by mta3.grp.sp2.yahoo.com with SMTP; 9 Jun 2009 20:21:52 -0000\r\nDKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoogroups.com; s=lima; t=1244578911; bh=aYG6PUbroVBRKIf3JqYFyMJgz5iaHm7WJ0mGGm0DyzQ=; h=Received:Received:X-Sender:X-Apparently-To:X-Received:X-Received:X-Received:X-Received:Message-ID:X-YMail-OSG:X-Received:X-Mailer:References:Date:To:Cc:In-Reply-To:MIME-Version:Content-Type:X-Originating-IP:X-eGroups-Msg-Info:From:Subject:X-Yahoo-Group-Post:X-Yahoo-Profile:Sender:X-Yahoo-Newman-Property:X-eGroups-Approved-By:X-eGroups-Auth; b=GK5/c7z7zMiuQaeYm4U3WJMip5hcmAFMx4g6mH7MR7Pe+RTXlfM4UjL7HWsPfGj9GMd+KrnjQCrWUQF1kPzc5HuPctEfMA/xFJqHQ5jXnyoWThUrQBq7OGOuIza8MQ9R\r\nReceived: from [69.147.65.171] by n39.bullet.mail.sp1.yahoo.com with NNFMP; 09 Jun 2009 20:21:51 -0000\r\nReceived: from [98.137.34.33] by t13.bullet.mail.sp1.yahoo.com with NNFMP; 09 Jun 2009 20:21:51 -0000\r\nX-Sender: e_newcomer@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 82447 invoked from network); 9 Jun 2009 19:27:27 -0000\r\nX-Received: from unknown (69.147.108.201)\n  by m3.grp.re1.yahoo.com with QMQP; 9 Jun 2009 19:27:27 -0000\r\nX-Received: from unknown (HELO web37508.mail.mud.yahoo.com) (209.191.91.155)\n  by mta2.grp.re1.yahoo.com with SMTP; 9 Jun 2009 19:27:27 -0000\r\nX-Received: (qmail 71354 invoked by uid 60001); 9 Jun 2009 19:27:20 -0000\r\nMessage-ID: &lt;92797.71221.qm@...&gt;\r\nX-YMail-OSG: HXtSgFMVM1m9NzD4Z3IViNJ_im8.JjeJEPWyxOMd950.OLIhD8YaXUTGg8WZBlCeU4mE5IKD4ftHLmLbRzzQqqD2cONNlQd8zngXSY_5UlOfwgQ3aDbuGQ_tqanlGWIWeDnNroDbHfgWD2mb4WAgm68AyVBY5bneTHfPycu.vuP_xKamwp.rnxu1FzJ6A.C5fXbGvm_Enu6kxWgRefKFyuwsl5E6MHdpO0pr9B2V62M2wqNQLgZslOhnpmtxJ3KaVISJHF8RcnEIPv_UuyPtT3CeflqBGuGdIf6sDwABJE7b5MseI1gCtMwaAgOWxd5f3gYiytXTKg2BJNlHTiiEJj3SLXdsXzmTMsP5toWt6Ts3H1ZFz4M-\r\nX-Received: from [66.189.89.220] by web37508.mail.mud.yahoo.com via HTTP; Tue, 09 Jun 2009 12:27:19 PDT\r\nX-Mailer: YahooMailRC/1277.43 YahooMailWebService/0.7.289.15\r\nReferences: &lt;4A2548FE.8090105@...&gt;  &lt;343ecb3e0906020907m29d998c5kecd3e953da7b6cf9@...&gt;  &lt;CA83CFE5-5F4D-40A3-A096-AF0815A0E73D@...&gt;  &lt;343ecb3e0906070529h727aad91l4b4037c1bb430ed@...&gt;  &lt;BB5BDB5C-D2FA-4666-B9AA-4D5ACD33E42D@...&gt;  &lt;343ecb3e0906090627w1f53a39eqefdd58c90e55a439@...&gt;  &lt;DED65368-D967-42F7-9445-46984B315BDD@...&gt;  &lt;22823145-45B6-4648-973E-CF771C60B9D2@...&gt;  &lt;C8C9798E-DF76-401C-AA78-24C39A6A4B74@...&gt;  &lt;108C6D7A-AA89-4A59-81F0-08ECE3BBCA4C@...&gt; &lt;343ecb3e0906091210q2121ed52u1d665da241770654@...&gt;\r\nDate: Tue, 9 Jun 2009 12:27:19 -0700 (PDT)\r\nTo: Bob Haugen &lt;bob.haugen@...&gt;, &quot;Roy T. Fielding&quot; &lt;fielding@...&gt;\r\nCc: Stefan Tilkov &lt;stefan.tilkov@...&gt;,\n  REST-Discuss Discussion Group &lt;rest-discuss@yahoogroups.com&gt;\r\nIn-Reply-To: &lt;343ecb3e0906091210q2121ed52u1d665da241770654@...&gt;\r\nMIME-Version: 1.0\r\nContent-Type: multipart/alternative; boundary=&quot;0-1251215788-1244575639=:71221&quot;\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Eric Newcomer &lt;e_newcomer@...&gt;\r\nSubject: Re: [rest-discuss] rest transactions\r\nX-Yahoo-Group-Post: member; u=63369774; y=GoQ7L1Fwqnal968Qkw_IIXMlv6x-2L3izXcCDEZmNSqLcIimSQ\r\nX-Yahoo-Profile: e_newcomer\r\nX-Yahoo-Newman-Property: groups-system\r\nX-eGroups-Approved-By: gonga_thrash &lt;distobj@...&gt; via web; 09 Jun 2009 20:21:48 -0000\r\n\r\n\r\n--0-1251215788-1244575639=:71221\r\nContent-Type: text/plain; charset=us-ascii\r\n\r\nWe wrote about this in the second edition of Principles of Transaction Processing, due out later this month.\n\nWe took our cue from &quot;RESTful Web Services&quot; and along with some help from Steve Vinoski, described modeling a transaction as a resource. \n\nThe best way to think about it is as a modern form of a psuedo-conversational transaction. After retrieving the data you store a local copy, release all locks (typically using a commit after a READ operation) and send the data to the client. The way this first came up to me was as the way you protect yourself during an update operation from the chance the user may decide to go get a cup of coffee while the locks are still held on the data, waiting for the user to change something for the update. \n\nAnyway, the user then updates the data without the server having any knowledge whatsoever of what&#39;s going on in the client.  When the server receives the updated data, the application reads the data again and compares it to the local copy. If anything has changed, it&#39;s an error. If not, go ahead and perform the update. \n\nObviously there are some holes in this, and other techniques that would also work, such as inserting a &quot;manual&quot; lock on the record (which is something I used to do before the databases I was using supported transactions) and checking that before performing the update (this would tell you whether someone else had updated the record while the user was &quot;thinking&quot;).  \n\nBut the point is that the problem is the resource&#39;s responsibility, not the transaction protocol&#39;s.  In other words, there&#39;s no transaction protocol here, just a responsibility for the resource serving as the transaction to ensure things are correct.\n\nEric\n\n\n\n\n________________________________\nFrom: Bob Haugen &lt;bob.haugen@...&gt;\nTo: Roy T. Fielding &lt;fielding@...&gt;\nCc: Stefan Tilkov &lt;stefan.tilkov@...&gt;; REST-Discuss Discussion Group &lt;rest-discuss@yahoogroups.com&gt;\nSent: Tuesday, June 9, 2009 3:10:03 PM\nSubject: Re: [rest-discuss] rest transactions\n\n\n\n\n\nHere&#39;s a very sketchy version of what I had in mind:\n\nThe scenario is an etailer getting bids, and then placing an order\nwith the lowest bidder.\n\nThe etailer POSTs a Request For Quotation (Amazon called these Request\nFor Commitment in one meeting) to the appropriate URI of a few\nsuppliers.  The RFQ contains a URI for the suppliers to POST a Quote\nin response.  Each Quote contains a URI (or two) for the etailer to\nfollow up with an order or a rejection.\n\nThe etailer then POSTs an order (still in a provisional state) to the\nsuccessful bidder&#39;s URI. The order contains a URI for the supplier to\naccept the order, and maybe a URI for the supplier to decline the\norder if something has happened in the meantime that has made\nfulfillment impossible.\n\nWhen the etailer gets an acceptance from the supplier, the etailer\nmight send rejection notices to the failed bidders.\n\nI&#39;m sure Mark Little could suggest several refinements, but this is\njust a sketch for discussion purposes.\n\nIt&#39;s a 2-phase commit agreement scenario, but not ACID:  it&#39;s not\nAtomic, and the individual resources are not Isolated.\n\nBoth the etailer and the suppliers play both client and server roles.\nEach message contains a URI or two for responses, where the recipient\nof a message will (possibly in a separate process) POST a response.\n\nMy questions for Roy and this group:\n\n1. Is this scenario RESTful?\n\n2. If not, could it be made RESTful with some changes?\n\n3. What else is wrong with it?\n\nQuestion for Mark:  what&#39;s wrong with it from a transaction protocol viewpoint?\n\nThanks,\nBob Haugen\n\n   \n\n\n      \r\n--0-1251215788-1244575639=:71221\r\nContent-Type: text/html; charset=us-ascii\r\n\r\n&lt;html&gt;&lt;head&gt;&lt;style type=&quot;text/css&quot;&gt;&lt;!-- DIV {margin:0px;} --&gt;&lt;/style&gt;&lt;/head&gt;&lt;body&gt;&lt;div style=&quot;font-family:times new roman,new york,times,serif;font-size:10pt&quot;&gt;&lt;div&gt;We wrote about this in the second edition of Principles of Transaction Processing, due out later this month.&lt;br&gt;&lt;br&gt;We took our cue from &quot;RESTful Web Services&quot; and along with some help from Steve Vinoski, described modeling a transaction as a resource. &lt;br&gt;&lt;br&gt;The best way to think about it is as a modern form of a psuedo-conversational transaction. After retrieving the data you store a local copy, release all locks (typically using a commit after a READ operation) and send the data to the client. The way this first came up to me was as the way you protect yourself during an update operation from the chance the user may decide to go get a cup of coffee while the locks are still held on the data, waiting for the user to change something for the update. &lt;br&gt;&lt;br&gt;Anyway, the user then updates the\n data without the server having any knowledge whatsoever of what&#39;s going on in the client.&nbsp; When the server receives the updated data, the application reads the data again and compares it to the local copy. If anything has changed, it&#39;s an error. If not, go ahead and perform the update. &lt;br&gt;&lt;br&gt;Obviously there are some holes in this, and other techniques that would also work, such as inserting a &quot;manual&quot; lock on the record (which is something I used to do before the databases I was using supported transactions) and checking that before performing the update (this would tell you whether someone else had updated the record while the user was &quot;thinking&quot;).&nbsp; &lt;br&gt;&lt;br&gt;But the point is that the problem is the resource&#39;s responsibility, not the transaction protocol&#39;s.&nbsp; In other words, there&#39;s no transaction protocol here, just a responsibility for the resource serving as the transaction to ensure things are correct.&lt;br&gt;&lt;br&gt;Eric&lt;br&gt;&lt;/div&gt;&lt;div\n style=&quot;font-family: times new roman,new york,times,serif; font-size: 10pt;&quot;&gt;&lt;br&gt;&lt;div style=&quot;border-left: 2px solid rgb(16, 16, 255); margin: 5px 0px 5px 5px; padding-left: 5px; font-family: times new roman,new york,times,serif; font-size: 12pt;&quot;&gt;&lt;font face=&quot;Tahoma&quot; size=&quot;2&quot;&gt;&lt;hr size=&quot;1&quot;&gt;&lt;b&gt;&lt;span style=&quot;font-weight: bold;&quot;&gt;From:&lt;/span&gt;&lt;/b&gt; Bob Haugen &lt;bob.haugen@...&gt;&lt;br&gt;&lt;b&gt;&lt;span style=&quot;font-weight: bold;&quot;&gt;To:&lt;/span&gt;&lt;/b&gt; Roy T. Fielding &lt;fielding@...&gt;&lt;br&gt;&lt;b&gt;&lt;span style=&quot;font-weight: bold;&quot;&gt;Cc:&lt;/span&gt;&lt;/b&gt; Stefan Tilkov &lt;stefan.tilkov@...&gt;; REST-Discuss Discussion Group &lt;rest-discuss@yahoogroups.com&gt;&lt;br&gt;&lt;b&gt;&lt;span style=&quot;font-weight: bold;&quot;&gt;Sent:&lt;/span&gt;&lt;/b&gt; Tuesday, June 9, 2009 3:10:03 PM&lt;br&gt;&lt;b&gt;&lt;span style=&quot;font-weight: bold;&quot;&gt;Subject:&lt;/span&gt;&lt;/b&gt; Re: [rest-discuss] rest transactions&lt;br&gt;&lt;/font&gt;&lt;br&gt;\n\n\n\n\n\n\n\n\n\n    &lt;div id=&quot;ygrp-text&quot;&gt;\n      \n      &lt;p&gt;Here&#39;s a very sketchy version of what I had in mind:&lt;br&gt;\n&lt;br&gt;\nThe scenario is an etailer getting bids, and then placing an order&lt;br&gt;\nwith the lowest bidder.&lt;br&gt;\n&lt;br&gt;\nThe etailer POSTs a Request For Quotation (Amazon called these Request&lt;br&gt;\nFor Commitment in one meeting) to the appropriate URI of a few&lt;br&gt;\nsuppliers.  The RFQ contains a URI for the suppliers to POST a Quote&lt;br&gt;\nin response.  Each Quote contains a URI (or two) for the etailer to&lt;br&gt;\nfollow up with an order or a rejection.&lt;br&gt;\n&lt;br&gt;\nThe etailer then POSTs an order (still in a provisional state) to the&lt;br&gt;\nsuccessful bidder&#39;s URI. The order contains a URI for the supplier to&lt;br&gt;\naccept the order, and maybe a URI for the supplier to decline the&lt;br&gt;\norder if something has happened in the meantime that has made&lt;br&gt;\nfulfillment impossible.&lt;br&gt;\n&lt;br&gt;\nWhen the etailer gets an acceptance from the supplier, the etailer&lt;br&gt;\nmight send rejection notices to the failed bidders.&lt;br&gt;\n&lt;br&gt;\nI&#39;m sure Mark Little could suggest several refinements, but this is&lt;br&gt;\njust a sketch for discussion purposes.&lt;br&gt;\n&lt;br&gt;\nIt&#39;s a 2-phase commit agreement scenario, but not ACID:  it&#39;s not&lt;br&gt;\nAtomic, and the individual resources are not Isolated.&lt;br&gt;\n&lt;br&gt;\nBoth the etailer and the suppliers play both client and server roles.&lt;br&gt;\nEach message contains a URI or two for responses, where the recipient&lt;br&gt;\nof a message will (possibly in a separate process) POST a response.&lt;br&gt;\n&lt;br&gt;\nMy questions for Roy and this group:&lt;br&gt;\n&lt;br&gt;\n1. Is this scenario RESTful?&lt;br&gt;\n&lt;br&gt;\n2. If not, could it be made RESTful with some changes?&lt;br&gt;\n&lt;br&gt;\n3. What else is wrong with it?&lt;br&gt;\n&lt;br&gt;\nQuestion for Mark:  what&#39;s wrong with it from a transaction protocol viewpoint?&lt;br&gt;\n&lt;br&gt;\nThanks,&lt;br&gt;\nBob Haugen&lt;br&gt;\n&lt;/p&gt;\n \n\n    &lt;/div&gt;  \n\n\n\t\n\t&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;br&gt;\n\n      &lt;/body&gt;&lt;/html&gt;\r\n--0-1251215788-1244575639=:71221--\r\n\n"}}
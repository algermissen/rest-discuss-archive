{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":454665725,"authorName":"Juergen Brendel","from":"Juergen Brendel &lt;juergen.brendel@...&gt;","profile":"brendel.juergen","replyTo":"SENDER","senderId":"53MeZKK790Vz8yBLKLSg1l_bU6UMWDnr4qPKqkn_edEtjWrrZ2AF4c_A_350LLcUmH2wMBuwU2GRTL0jSUSYaAChFHrxQG7UAPe95DmfW337O1iEhg","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [rest-discuss] RESTful way to pop first item in a queue","postDate":"1281042281","msgId":16163,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDEyODEwNDIyODEuMjkxNy4zMTIuY2FtZWxAYmFja3BhY2s+","inReplyToHeader":"PDIwMTAwODA1MTQ1NDExLjk4YWNmODQyLmVyaWNAYmlzb25zeXN0ZW1zLm5ldD4=","referencesHeader":"PDEyODEwMzQ3NDguMjkxNy4zMDMuY2FtZWxAYmFja3BhY2s+CSA8MjAxMDA4MDUxNDM1MjAuNDBiN2Q4MTguZXJpY0BiaXNvbnN5c3RlbXMubmV0PgkgPDIwMTAwODA1MTQ1NDExLjk4YWNmODQyLmVyaWNAYmlzb25zeXN0ZW1zLm5ldD4="},"prevInTopic":16162,"nextInTopic":16164,"prevInTime":16162,"nextInTime":16164,"topicId":16148,"numMessagesInTopic":46,"msgSnippet":"Hello! ... Out of curiosity (and since I m not familiar with Xforms): How does the hypertext inform the user agent to fetch an Etag with HEAD? ... Well, but","rawEmail":"Return-Path: &lt;juergen.brendel@...&gt;\r\nX-Sender: juergen.brendel@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 47161 invoked from network); 5 Aug 2010 21:04:47 -0000\r\nX-Received: from unknown (98.137.34.45)\n  by m7.grp.sp2.yahoo.com with QMQP; 5 Aug 2010 21:04:47 -0000\r\nX-Received: from unknown (HELO mail-pw0-f45.google.com) (209.85.160.45)\n  by mta2.grp.sp2.yahoo.com with SMTP; 5 Aug 2010 21:04:47 -0000\r\nX-Received: by pwi1 with SMTP id 1so340834pwi.18\n        for &lt;rest-discuss@yahoogroups.com&gt;; Thu, 05 Aug 2010 14:04:47 -0700 (PDT)\r\nX-Received: by 10.114.124.10 with SMTP id w10mr8937811wac.144.1281042286775;\n        Thu, 05 Aug 2010 14:04:46 -0700 (PDT)\r\nReturn-Path: &lt;juergen.brendel@...&gt;\r\nX-Received: from [10.1.1.4] (ip-118-90-22-123.xdsl.xnet.co.nz [118.90.22.123])\n        by mx.google.com with ESMTPS id d35sm1149750waa.9.2010.08.05.14.04.44\n        (version=TLSv1/SSLv3 cipher=RC4-MD5);\n        Thu, 05 Aug 2010 14:04:46 -0700 (PDT)\r\nTo: &quot;Eric J. Bowman&quot; &lt;eric@...&gt;\r\nCc: rest-discuss@yahoogroups.com\r\nIn-Reply-To: &lt;20100805145411.98acf842.eric@...&gt;\r\nReferences: &lt;1281034748.2917.303.camel@backpack&gt;\n\t &lt;20100805143520.40b7d818.eric@...&gt;\n\t &lt;20100805145411.98acf842.eric@...&gt;\r\nContent-Type: text/plain; charset=&quot;UTF-8&quot;\r\nOrganization: MuleSoft\r\nDate: Fri, 06 Aug 2010 09:04:41 +1200\r\nMessage-ID: &lt;1281042281.2917.312.camel@backpack&gt;\r\nMime-Version: 1.0\r\nX-Mailer: Evolution 2.28.1 \r\nContent-Transfer-Encoding: 7bit\r\nFrom: Juergen Brendel &lt;juergen.brendel@...&gt;\r\nReply-To: juergen.brendel@...\r\nSubject: Re: [rest-discuss] RESTful way to pop first item in a queue\r\nX-Yahoo-Group-Post: member; u=454665725; y=FuZIW98L5u2iRoraKBMb-tG8R6gv-DhZIzZOr9cAO7GqEjRWVkVuEsxj\r\nX-Yahoo-Profile: brendel.juergen\r\n\r\n\nHello!\n\nOn Thu, 2010-08-05 at 14:54 -0600, Eric J. Bowman wrote:\n&gt; What&#39;s important to remember here, is the importance of the initial GET\n&gt; or HEAD request.  &quot;REST&quot; APIs which &quot;just know&quot; how to pop a stack are\n&gt; not hypertext driven.  Whereas, say, Xforms allows you to define a\n&gt; button, let&#39;s label it &#39;pop&#39;.  When the user selects &#39;pop&#39; as the state\n&gt; transition, hypertext informs the user agent to fetch an Etag with\n&gt; HEAD, then uses that Etag to make a conditional request.\n\nOut of curiosity (and since I&#39;m not familiar with Xforms): How does the\nhypertext inform the user agent to fetch an Etag with HEAD?\n\n\n&gt; Which, come to think of it, suggests that GET is the proper method;\n&gt; again, make it If-Match.  Making n If-Match GET requests will always\n&gt; yield the same result:  either no match, or a one-time pop.  The one\n&gt; thing we can&#39;t have, is subsequent GET requests activating the pop --\n&gt; that violates the idempotency of GET, but only on unconditional GET, so\n&gt; don&#39;t do the pop unless the Etag matches.\n&gt; \n&gt; There still needs to be an initial GET or HEAD request for the Etag.\n&gt; \n&gt; There is nothing wrong, IMO, with a GET causing a resource to be\n&gt; removed.  The client can&#39;t be held accountable because the client didn&#39;t\n&gt; request such removal -- the user requested a representation of some\n&gt; other resource, and that&#39;s exactly what the user agent retrieved.\n\nWell, but hold on. How can you say that GET is idempotent if it has the\neffect of removing something from the queue? I understand that issuing\nit twice won&#39;t have an effect. However, one nice way of describing the\nneed for GET to be idempotent was to say: &quot;If a search spider hits your\nAPI, nothing bad will happen&quot;. I always like that way of describing it.\nAren&#39;t you opening yourself up for the consequences of an accidental\nGET?\n\n\n&gt; Allowing unconditional requests would yield undesirable results. Those\n&gt; caveats aside, go for it. Unless I&#39;m wrong, I&#39;m not fully confident of\n&gt; either the POST or GET approach, and suspect that modelling the\n&gt; resources differently might yield more elegant results if I were to\n&gt; think it through more carefully.\n&gt; \n&gt; -Eric\n\n\n-- \nJuergen Brendel\nhttp://restx.mulesoft.org \n\n\n\n"}}
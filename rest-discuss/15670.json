{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":266460716,"authorName":"Eric J. Bowman","from":"&quot;Eric J. Bowman&quot; &lt;eric@...&gt;","replyTo":"SENDER","senderId":"FZYV2oTbDw6e05MOewM7UK7JOSLXkTKG9aAdXlC0av-_18gUAomVNHxSMrS05dxmgk1NDyro3RbkI_KDhcjj9IVKTG20aIqtb07H8L6Liw","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [rest-discuss] Determining which Media type for post/put","postDate":"1276547427","msgId":15670,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDIwMTAwNjE0MTQzMDI3LjRhNWVjZTlhLmVyaWNAYmlzb25zeXN0ZW1zLm5ldD4=","inReplyToHeader":"PEYxOTYyNjQ2RDNCNjQ2NDJCN0M5QTA2MDY4RUUxRTY0MEQ2RUNCNzZAZXgxMC5ob3N0ZWRleGNoYW5nZS5sb2NhbD4=","referencesHeader":"PEFBTkxrVGlsazJZWnJnY2U5M3dYcDlFSjRHZnBpckxlUVZ2bUowSnhjeFBZSEBtYWlsLmdtYWlsLmNvbT4JPDIwMTAwNjA0MDkzOTEzLmVmNmNlYzE5LmVyaWNAYmlzb25zeXN0ZW1zLm5ldD4JPEFBTkxrVGlrSHZsZmJ2dkxQUUc2UmM5WjZMcjE5aFNheS1zT3VYSGJ5cXk0Q0BtYWlsLmdtYWlsLmNvbT4JPDIwMTAwNjA0MTQwOTE2LjNmZmQ3NTNjLmVyaWNAYmlzb25zeXN0ZW1zLm5ldD4JPEFBTkxrVGluU0plTndlckZZMTl4V1VYRFNDY0N5cG5Tdmt6WTc2LUdnVGFlNkBtYWlsLmdtYWlsLmNvbT4JPDIwMTAwNjA4MTAwMzIzLmFhNmVmOTllLmVyaWNAYmlzb25zeXN0ZW1zLm5ldD4JPEFBTkxrVGluVjh5eE4tUjRBRldBdk5hTHFwZWItdWY3Y08wV0ZtWDdEcGFSWEBtYWlsLmdtYWlsLmNvbT4JPDIwMTAwNjA5MTgwMDA1LjhhOGRhNzBiLmVyaWNAYmlzb25zeXN0ZW1zLm5ldD4JPEFBTkxrVGluVDRJdjUzRWhyaFBMR0dZYUxlMVFmaHBHVjFQTTE1NmNYQ0toWkBtYWlsLmdtYWlsLmNvbT4JPDIwMTAwNjExMDgxNDE4LjZkZGE0N2E5LmVyaWNAYmlzb25zeXN0ZW1zLm5ldD4JPEFBTkxrVGltRHFhWHVIUE52eS1RVUZaa0ZNYUhwU2NnSkNHLXNQcUtxRndzdUBtYWlsLmdtYWlsLmNvbT4JPDIwMTAwNjExMjMzMjU4LmUxYjdlNWY3LmVyaWNAYmlzb25zeXN0ZW1zLm5ldD4JPEFBTkxrVGltelViTmdyQnVuTXhHTGlLMGZvZDFSVlhxOGtXZTFkOC1LSEs2YkBtYWlsLmdtYWlsLmNvbT4JPDIwMTAwNjEyMTAzMjU1LjgwYzE1YThiLmVyaWNAYmlzb25zeXN0ZW1zLm5ldD4JPEFBTkxrVGluWUtUbk5oZmVTMl9UX1BJRklqV0p5SEtuUmJDWnFFTnM1MUhWV0BtYWlsLmdtYWlsLmNvbT4JPDIwMTAwNjE0MTAwNjU5LmVjNmU0OGU1LmVyaWNAYmlzb25zeXN0ZW1zLiBuZXQ+CTxGMTk2MjY0NkQzQjY0NjQyQjdDOUEwNjA2OEVFMUU2NDBENkVDQjc2QGV4MTAuaG9zdGVkZXhjaGFuZ2UubG9jYWw+"},"prevInTopic":15669,"nextInTopic":15671,"prevInTime":15669,"nextInTime":15671,"topicId":15466,"numMessagesInTopic":82,"msgSnippet":"... Assigning URIs to variants is an application of the identification of resources constraint.  That constraint relies on an understanding of resource .  A","rawEmail":"Return-Path: &lt;eric@...&gt;\r\nX-Sender: eric@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 18885 invoked from network); 14 Jun 2010 20:31:21 -0000\r\nX-Received: from unknown (66.196.94.107)\n  by m1.grp.sp2.yahoo.com with QMQP; 14 Jun 2010 20:31:21 -0000\r\nX-Received: from unknown (HELO mxout-08.mxes.net) (216.86.168.183)\n  by mta3.grp.re1.yahoo.com with SMTP; 14 Jun 2010 20:31:20 -0000\r\nX-Received: from bigbison (unknown [65.117.211.162])\n\t(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))\n\t(No client certificate requested)\n\tby smtp.mxes.net (Postfix) with ESMTPSA id 58FCE509DC;\n\tMon, 14 Jun 2010 16:30:57 -0400 (EDT)\r\nDate: Mon, 14 Jun 2010 14:30:27 -0600\r\nTo: &quot;Robert Brewer&quot; &lt;fumanchu@...&gt;\r\nCc: &quot;Peter Williams&quot; &lt;pezra@...&gt;,\n &lt;rest-discuss@yahoogroups.com&gt;\r\nMessage-Id: &lt;20100614143027.4a5ece9a.eric@...&gt;\r\nIn-Reply-To: &lt;F1962646D3B64642B7C9A06068EE1E640D6ECB76@...&gt;\r\nReferences: &lt;AANLkTilk2YZrgce93wXp9EJ4GfpirLeQVvmJ0JxcxPYH@...&gt;\n\t&lt;20100604093913.ef6cec19.eric@...&gt;\n\t&lt;AANLkTikHvlfbvvLPQG6Rc9Z6Lr19hSay-sOuXHbyqy4C@...&gt;\n\t&lt;20100604140916.3ffd753c.eric@...&gt;\n\t&lt;AANLkTinSJeNwerFY19xWUXDSCcCypnSvkzY76-GgTae6@...&gt;\n\t&lt;20100608100323.aa6ef99e.eric@...&gt;\n\t&lt;AANLkTinV8yxN-R4AFWAvNaLqpeb-uf7cO0WFmX7DpaRX@...&gt;\n\t&lt;20100609180005.8a8da70b.eric@...&gt;\n\t&lt;AANLkTinT4Iv53EhrhPLGGYaLe1QfhpGV1PM156cXCKhZ@...&gt;\n\t&lt;20100611081418.6dda47a9.eric@...&gt;\n\t&lt;AANLkTimDqaXuHPNvy-QUFZkFMaHpScgJCG-sPqKqFwsu@...&gt;\n\t&lt;20100611233258.e1b7e5f7.eric@...&gt;\n\t&lt;AANLkTimzUbNgrBunMxGLiK0fod1RVXq8kWe1d8-KHK6b@...&gt;\n\t&lt;20100612103255.80c15a8b.eric@...&gt;\n\t&lt;AANLkTinYKTnNhfeS2_T_PIFIjWJyHKnRbCZqENs51HVW@...&gt;\n\t&lt;20100614100659.ec6e48e5.eric@bisonsystems.\n net&gt;\n\t&lt;F1962646D3B64642B7C9A06068EE1E640D6ECB76@...&gt;\r\nOrganization: Bison Systems Corporation\r\nX-Mailer: Sylpheed 3.0.0 (GTK+ 2.10.14; i686-pc-mingw32)\r\nMime-Version: 1.0\r\nContent-Type: text/plain; charset=US-ASCII\r\nContent-Transfer-Encoding: 7bit\r\nFrom: &quot;Eric J. Bowman&quot; &lt;eric@...&gt;\r\nSubject: Re: [rest-discuss] Determining which Media type for post/put\r\nX-Yahoo-Group-Post: member; u=266460716\r\n\r\n&quot;Robert Brewer&quot; wrote:\n&gt; \n&gt; Roy said, &quot;...a resource R is a temporally varying membership function\n&gt; MR(t), which for time t maps to a set of entities, or values, which\n&gt; are equivalent. The values in the set may be resource representations\n&gt; and/or resource identifiers.&quot; [1] I take that to mean you can Vary\n&gt; representations or, as you advocate, make them into resources and\n&gt; assign them URI&#39;s. But it doesn&#39;t seem to prefer one over the other,\n&gt; nor does it indicate that the variants are independent resources\n&gt; whether you assign them URI&#39;s or not.\n&gt; \n\nAssigning URIs to variants is an application of the identification of\nresources constraint.  That constraint relies on an understanding of\n&quot;resource&quot;.  A variant that has its own URI meets the definition of a\nresource.  Besides compression, variants without URIs are still members\nof (at least) two sets, even if you fail to acknowledge this by\nassigning those URIs.\n\nIf nothing could be considered a resource until it&#39;s been assigned a\nURI, then it would be by-definition impossible to violate the\nidentification of resources constraint.  This constraint basically\nmeans that it&#39;s possible to fail to recognize something as a resource,\ni.e. your system may have resources that weren&#39;t considered at design\ntime.\n\nThis is why I say that REST is a tool for iterative design.  How do you\nknow exactly what your resources will be, without implementing?  How\ncan you discover your resources at build-time if they&#39;re set in stone\nat design-time?  Minting URIs is the most common workaround to REST\nproblems, assigning URIs to variants is simply how conneg is done.\n\n&gt; \n&gt; I was under the impression that the cache needed three things to\n&gt; tag-and-bag variants: 1) the URI, 2) the Vary response header, and 3)\n&gt; the request headers.\n&gt;\n\nIn general, caches work by associating a representation with a URI.\nContent-Location allows this paradigm to apply even when there&#39;s more\nthan one representation, by providing more than one URI.  Failing to\nassign URIs to variants is like naming your twin sons &quot;Sam.&quot;  They\nrepresent the same resource, i.e. they&#39;re both your son.  Even if\nthey&#39;re identical twins, they aren&#39;t cell-for-cell the same person, so\nit makes sense to give them different names, even if you only ever say,\n&quot;Boys! Come here!&quot;\n\n&gt;\n&gt; Since HTTP, at least, has synchronous requests\n&gt; and responses, a cache should have all of those for any given\n&gt; conversation. We recently upgraded CherryPy&#39;s cache to this model\n&gt; [2], and it seems to work well. Django apparently does the same [3].\n&gt; Squid seems to have extensions to do this [4]. Varnish is at least\n&gt; discussing the issue [5].\n&gt; \n\nThis is a moot point, no matter how many caches try to sniff their way\naround missing Content-Location, because in the presence of Content-\nLocation they all exhibit exactly the same, specified, behavior.  No\nmatter how many caches implement such unspecified behaviors, or how\nthey do it, it&#39;s still a REST violation for a system to ignore RFC\n2616&#39;s SHOULD.\n\n&gt;\n&gt; I was a bit surprised to hear that the idea that &quot;most caches...simply\n&gt; won&#39;t cache responses whose Vary header consists of anything more than\n&gt; &#39;Accept-Encoding&#39;&quot; [6]. If that&#39;s true, then I see it as an\n&gt; unfortunate limitation of the ideal--an engineering problem to be\n&gt; suffered through, not part and parcel of the REST style.\n&gt;\n\nNobody ever claimed conneg was perfect, or that there isn&#39;t room for\nimprovement in a successor protocol to HTTP 1.1.  That some caches\ndon&#39;t respond well to complex Vary headers proves this, but has nothing\nto do with the REST style.  Those other caches without such limitation\nall agree on what to do in the presence of Content-Location, because\nassigning URIs to variants *is* part of the REST style.\n\n&gt;\n&gt; suffering takes the form of assigning URI&#39;s to variants via\n&gt; Content-Location, as you say, but also of working to improve proper\n&gt; support for Vary in caches [7] (IE6 seems the worst offender, but\n&gt; note the comment from Eric Law regarding IE7 improvements). I would\n&gt; very much like to see Mark fix or put up a new version of that\n&gt; resource [8] to see how the state of browser caching in 2010 compares\n&gt; to 2006. Firefox 3.5.9, at least, passes the Vary tests therein.\n&gt;\n\nHow one cache behaves in relation to another isn&#39;t a REST argument.\nREST is all about hitting that sweet spot in the deployed Web, where\nmost components behave predictably.  This is done by applying REST\nconstraints, including identification of resources, as expressed by\nassigning URIs to variants as per RFC 2616&#39;s SHOULD.\n\n&gt; \n&gt; User-Agent is something of an extreme case--it has perhaps the most\n&gt; diverse set of values of any header save Cookie. Even proper Vary\n&gt; support in caches doesn&#39;t help that situation; assigning URI&#39;s to\n&gt; variants does. But that alone doesn&#39;t elevate URI&#39;s-per-variant to a\n&gt; preferred style in my (very humble, willing to learn) opinion.\n&gt; \n\nOK, that&#39;s a reasonable position.  However, if assigning URIs to\nvariants were a REST mismatch as you say, then surely Roy would&#39;ve\ncaught it by now?  I still have not the slightest clue why this debate\ncontinues, because nobody has made a valid case that assigning URIs to\nvariants breaks any REST constraints -- and it works in practice.\n\n&gt;\n&gt; I&#39;m still not convinced that those practical realities inform REST;\n&gt; rather, they seem to be mismatches between REST and the implementation\n&gt; of caches on the one hand and the design of the User-Agent header on\n&gt; the other.\n&gt;\n\nA REST mismatch is something which violates a REST constraint.\nAssigning URIs to variants can&#39;t be considered a mismatch, if nobody\ncan articulate what constraint it violates.  Lacking any explanation as\nto why it&#39;s wrong, I assume there must be some explanation as to why\nit&#39;s right.  Generally, the Web goes wrong where REST is violated.  So\nwhen something works on the Web, it&#39;s reasonable to attempt to\ncorrelate it to one or more REST constraints, because it says right\nthere in REST that such practical realities informed the design of REST.\n\n&gt; \n&gt; None of which means &quot;borking @type&quot; (using &quot;type&quot; attributes to\n&gt; indicate the type of the response) is a good idea--but the OP&#39;s\n&gt; question (and mca&#39;s initial answer) seemed to me to be more about the\n&gt; type of the *request* entity, which has little to do with all of the\n&gt; above.\n&gt; \n\nThis thread would&#39;ve been a lot less confusing if more folks would\nrecognize that very point.  The media type of a request entity has\nnothing whatsoever to do with the media type of any previously-\nreceived response, it is what @type says it is.  That conversation has\nevolved along the lines that assigning URIs to variants to achieve the\nsame objective as borking @type, is a REST mismatch in HTTP.\n\n-Eric\n\n"}}
{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":216431451,"authorName":"Ryan Tomayko","from":"Ryan Tomayko &lt;rtomayko@...&gt;","profile":"rtomayko","replyTo":"SENDER","senderId":"qJNZ6naQktuuZeru6ZrEeVkfo7CpHhIeKtkl8kdENaD80H3ooIBItXaWvyI_hxUCaXPi_ixnIi2QZIMOTXbcUyOjQCj6qr6K","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Mirroring / Distributing REST based services","postDate":"1119731361","msgId":5122,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PEY1QkZFREJBLUNDNkQtNEQzRi04NEE2LUIxOTg3RjdGOTIwNEBnbWFpbC5jb20+"},"prevInTopic":0,"nextInTopic":5124,"prevInTime":5121,"nextInTime":5123,"topicId":5122,"numMessagesInTopic":3,"msgSnippet":"I ve been thinking about setting up a mirror of Joe s excellent sparkline service [1] to help share the load. That got me thinking about general mechanisms for","rawEmail":"Return-Path: &lt;rtomayko@...&gt;\r\nX-Sender: rtomayko@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nReceived: (qmail 93153 invoked from network); 25 Jun 2005 20:29:25 -0000\r\nReceived: from unknown (66.218.66.172)\n  by m18.grp.scd.yahoo.com with QMQP; 25 Jun 2005 20:29:25 -0000\r\nReceived: from unknown (HELO zproxy.gmail.com) (64.233.162.201)\n  by mta4.grp.scd.yahoo.com with SMTP; 25 Jun 2005 20:29:25 -0000\r\nReceived: by zproxy.gmail.com with SMTP id z6so62647nzd\n        for &lt;rest-discuss@yahoogroups.com&gt;; Sat, 25 Jun 2005 13:29:24 -0700 (PDT)\r\nReceived: by 10.36.38.18 with SMTP id l18mr2854090nzl;\n        Sat, 25 Jun 2005 13:29:24 -0700 (PDT)\r\nReturn-Path: &lt;rtomayko@...&gt;\r\nReceived: from ?192.168.1.102? ([69.168.180.186])\n        by mx.gmail.com with ESMTP id 7sm4095625nzo.2005.06.25.13.29.24;\n        Sat, 25 Jun 2005 13:29:24 -0700 (PDT)\r\nMime-Version: 1.0 (Apple Message framework v730)\r\nContent-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed\r\nMessage-Id: &lt;F5BFEDBA-CC6D-4D3F-84A6-B1987F7F9204@...&gt;\r\nCc: Joe Gregorio &lt;joe.gregorio@...&gt;\r\nContent-Transfer-Encoding: 7bit\r\nDate: Sat, 25 Jun 2005 16:29:21 -0400\r\nTo: Rest List &lt;rest-discuss@yahoogroups.com&gt;\r\nX-Mailer: Apple Mail (2.730)\r\nX-eGroups-Msg-Info: 1:12:0\r\nFrom: Ryan Tomayko &lt;rtomayko@...&gt;\r\nSubject: Mirroring / Distributing REST based services\r\nX-Yahoo-Group-Post: member; u=216431451; y=qOX4MaLaEKaYCax5iEp4daVHQKIhNvDUYueBsB9Gw_MD_Z0\r\nX-Yahoo-Profile: rtomayko\r\n\r\nI&#39;ve been thinking about setting up a mirror of Joe&#39;s excellent  \nsparkline service [1] to help share the load. That got me thinking  \nabout general mechanisms for setting up wide clusters of HTTP based  \nservices. We have a &quot;central resource&quot; that, when resolved, would  \nresult in the request being made to one of many homogenous &quot;mirror  \nresources&quot;.\n\nCentral URL:\n   http://sparklines.org/spark.cgi\n\nMirrors:\n   http://bitworking.org/projects/sparklines/spark.cgi\n   http://lesscode.org/sparklines/spark.cgi (not currently available)\n   ...\n\nMy primary interest is increased reliability. I&#39;m extremely  \ninterested in this idea of having many resources that may be somewhat  \nunreliable on there own (can go down occasionally, hosted on cheap  \nservers or cable connections, have bandwidth constraints, etc.) but  \npooled together can provide an extremely high level of reliability.\n\nNote that none of this is really specific to the sparkline service or  \neven dynamic resources. People have been mirroring simple directories  \nof resources forever and the same concepts apply here. The practices  \nemployed by big mirror type services (e.g. sourceforge) seem crufty.  \nI&#39;d like to weigh the various approaches from a REST/HTTP  \narchitectural angle.\n\n\n1. DNS Round-robin technique.\n\n&lt;http://www.onjava.com/pub/a/onjava/2001/09/26/load.html&gt;\n\nThe DNS server handles dishing out IPs in a round robin fashion.\n\nPros:\n\n  - Single round trip.\n  - Easy to configure.\n  - Extremely light load on DNS server.\n\nCons:\n\n  - URL path parts would have to be the same on each host.\n\n\n2. Redirect (302 Found)\n\n&lt;http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.3.3&gt;\n\nThe request is processed by a simple redirecting script.\n\nPros:\n\n   - Even easier to get set up than DNS RR.\n   - Could include logic that redirected to &quot;the best host&quot; (by  \nlocation, availability, etc.)\n   - Low bandwidth on central host.\n\nCons:\n\n   - At least two round trips.\n   - Potential high number of requests to central host / redirecting  \nscript.\n\n\n3. Reverse Proxy\n\nThe request is proxied from the central host to one of the mirrors on  \nthe server.\n\nPros:\n\n   - Potential for caching at central host.\n   - Can usually be implemented purely with configuration (apache  \nmod_rewrite/mod_proxy/mod_cache, squid, etc)\n\nCons:\n\n   - Highest load on central server.\n   - Central host bandwidth concerns (up and down).\n\n\nAny opinions on these approaches or others?\n\nAre there any documented examples of setting up wide mirrors/clusters  \nlike this?\n\nRight now I&#39;m leaning toward #2 for most situations although #3 has  \nsome distinct benefits (caching) in the sparklines scenario.\n\n[1]: http://bitworking.org/projects/sparklines/\n\nRyan Tomayko\n                                  rtomayko@...\n                                  http://naeblis.cx/rtomayko/\n\n\n\n"}}
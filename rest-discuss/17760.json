{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":498411687,"authorName":"Lubomir Rintel","from":"Lubomir Rintel &lt;lubo.rintel@...&gt;","profile":"luborintel","replyTo":"SENDER","senderId":"passdt_ZDj_UqsCGjSKKflZFVFcXbwszVDPGBeee9ryaqzoL5IBrE7l0qVDQ9pP5nwnWlIWrwA4CdUii-1O_aab-gw9mi1uOOOgal6NxkYE","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [rest-discuss] Dealing with errors during asynchronous resource creation","postDate":"1315837650","msgId":17760,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDEzMTU4Mzc2NTAuMjc5Ni4xMDQuY2FtZWxAbG9jYWxob3N0LmxvY2FsZG9tYWluPg==","inReplyToHeader":"PEZCRTFBQzQ1LUQ4MTMtNDRFQi05QjJBLTQ4OTFCMTlBMzc5OUBub3Jkc2MuY29tPg==","referencesHeader":"PDEzMTU4MTQzNTEuMjc5Ni44Ny5jYW1lbEBsb2NhbGhvc3QubG9jYWxkb21haW4+CSA8RkJFMUFDNDUtRDgxMy00NEVCLTlCMkEtNDg5MUIxOUEzNzk5QG5vcmRzYy5jb20+"},"prevInTopic":17759,"nextInTopic":17761,"prevInTime":17759,"nextInTime":17761,"topicId":17758,"numMessagesInTopic":5,"msgSnippet":"... My understanding was that rfc2616 does not define the semantics of Location header for 202 responses. Section 14.30 indicates that it can be used for 3xx","rawEmail":"Return-Path: &lt;lubo.rintel@...&gt;\r\nX-Sender: lubo.rintel@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 91615 invoked from network); 12 Sep 2011 14:27:34 -0000\r\nX-Received: from unknown (98.137.34.45)\n  by m1.grp.sp2.yahoo.com with QMQP; 12 Sep 2011 14:27:34 -0000\r\nX-Received: from unknown (HELO mail-fx0-f41.google.com) (209.85.161.41)\n  by mta2.grp.sp2.yahoo.com with SMTP; 12 Sep 2011 14:27:33 -0000\r\nX-Received: by fxh17 with SMTP id 17so2181822fxh.14\n        for &lt;rest-discuss@yahoogroups.com&gt;; Mon, 12 Sep 2011 07:27:33 -0700 (PDT)\r\nX-Received: by 10.223.50.15 with SMTP id x15mr3605945faf.147.1315837652889;\n        Mon, 12 Sep 2011 07:27:32 -0700 (PDT)\r\nReturn-Path: &lt;lubo.rintel@...&gt;\r\nX-Received: from [192.168.2.227] ([195.39.106.218])\n        by mx.google.com with ESMTPS id w14sm4324241fae.13.2011.09.12.07.27.31\n        (version=SSLv3 cipher=OTHER);\n        Mon, 12 Sep 2011 07:27:32 -0700 (PDT)\r\nTo: Jan Algermissen &lt;jan.algermissen@...&gt;\r\nCc: rest-discuss@yahoogroups.com\r\nIn-Reply-To: &lt;FBE1AC45-D813-44EB-9B2A-4891B19A3799@...&gt;\r\nReferences: &lt;1315814351.2796.87.camel@...&gt;\n\t &lt;FBE1AC45-D813-44EB-9B2A-4891B19A3799@...&gt;\r\nContent-Type: text/plain; charset=&quot;UTF-8&quot;\r\nDate: Mon, 12 Sep 2011 16:27:30 +0200\r\nMessage-ID: &lt;1315837650.2796.104.camel@...&gt;\r\nMime-Version: 1.0\r\nX-Mailer: Evolution 2.32.1 (2.32.1-1.fc14) \r\nContent-Transfer-Encoding: 8bit\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Lubomir Rintel &lt;lubo.rintel@...&gt;\r\nSubject: Re: [rest-discuss] Dealing with errors during asynchronous\n resource creation\r\nX-Yahoo-Group-Post: member; u=498411687; y=F5KJhyfPcICiQZW3frROUFh7ScTmqe9zqxh4ZMTPKUOKsYniItEWrs-VpXsnys85lAUOkgWcntXe6AQ\r\nX-Yahoo-Profile: luborintel\r\n\r\nOn Mon, 2011-09-12 at 15:44 +0200, Jan Algermissen wrote:\n&gt; On Sep 12, 2011, at 9:59 AM, Lubomir Rintel wrote:\n&gt; \n&gt; &gt; [I&#39;ve been redirected here from www-talk]\n&gt; &gt; \n&gt; &gt; Hi Everyone,\n&gt; &gt; \n&gt; &gt; I&#39;m searching for a correct solution (not violating the HTTP protocol\n&gt; &gt; and causing least possible confusion to client) to this problem:\n&gt; &gt; \n&gt; &gt; I POST a structure with task description to a resource (say /res1) /res1\n&gt; &gt; triggers creation of a resource, which can take a long time and can\n&gt; &gt; potentially fail in the end, due problems in task description (user\n&gt; &gt; fault), that can not be discovered upon the initial POST. I need a way\n&gt; &gt; to communicate this error to the user in case creation fails or\n&gt; &gt; resulting resource in case the execution succeeds.\n&gt; &gt; \n&gt; &gt; Would this be correct?\n&gt; &gt; \n&gt; &gt; 1.) Initial POST to /res1 returns an URI /res2\n&gt; \n&gt; This returns 202 and a polling URI in the Location header.\n\nMy understanding was that rfc2616 does not define the semantics of\nLocation header for 202 responses. Section 14.30 indicates that it can\nbe used for 3xx or 201 responses to either redirect or indicate location\nof newly created resource (supposedly respectively). None of these is\nthe case for a 202 response.\n\nAlso, a 202 response should contain pointer to status or estimate, but\nthere&#39;s no mention (in section 10.2.3) about where to get the actual\nresource content. Therefore I assumed that once the request is fulfilled\nthe response body should be available at the same location that returned\nthe 202 response before. Is this assumption wrong?\n\n&gt; &gt; 2.) Subsequent GET or HEAD of /res2 return 202 until the task\n&gt; finishes\n&gt; \n&gt; No, it returns 200 and status information in the body (==&gt; so you need\n&gt; to mint media type for this to express these semantics)\n&gt; \n&gt; Body will tell client about (maybe progress), success or failure and\n&gt; the result URI (HTTP does not say that the 202 Location URI is the\n&gt; created final resource. That also is in the body.\n&gt; \n&gt; (The definition of a general media type for this pattern would be\n&gt; possible - need not be specific to your application)\n\nWell, the original idea was to make it possible to have a client that\nimplements little beyond what&#39;s required by HTTP that would be able to\nwait for a creation of a resource (possibly providing a status monitor\nand indication of progress on the server, but not actually requiring the\nclient to grok it). If we defined an extra content type, it is likely\nthat the client would not negotiate it. Wouldn&#39;t it be possible to go\nwithout it somehow?\n&gt; \n&gt; Jan\n&gt; \n&gt; \n&gt; \n&gt; &gt; 3a.) In case the execution succeeds, a GET or HEAD of /res2 returns 200\n&gt; &gt; with task result as body\n&gt; &gt; 3b.) Otherwise make the /res2 go away and start returning 410 (or 404?)\n&gt; &gt; and explaining what went wrong in the body?\n&gt; &gt; \n&gt; &gt; Or is there a better way?\n&gt; &gt; \n&gt; &gt; Thanks,\n&gt; &gt; -- \n&gt; &gt; Lubomir Rintel (GoodData), phone: #7715\n&gt; &gt; \n&gt; &gt; \n&gt; \n\n-- \nLubomir Rintel (GoodData), phone: #7715\n\n\n"}}
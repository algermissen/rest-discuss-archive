{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":23186829,"authorName":"Paul Prescod","from":"Paul Prescod &lt;paul@...&gt;","replyTo":"SENDER","senderId":"1Wl035OwfrBaVjGx1CLNkgI6zolnrJ0GS00P_nKRFwxq8HNgiVqGJjm8dOGCT_vauIRrwgROvz6H9ARsTTy8aKpAkjXzSA","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [rest-discuss] idempotent notifications","postDate":"1012496630","msgId":481,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDNDNTk3OEY2LjJDQjVGMzU3QHByZXNjb2QubmV0Pg==","referencesHeader":"PDIwMDIwMTMxMTY0Ni5MQUEyMDM2NUBtYXJrYmFrZXIuY2E+"},"prevInTopic":480,"nextInTopic":482,"prevInTime":480,"nextInTime":482,"topicId":453,"numMessagesInTopic":36,"msgSnippet":"... Right, I mentioned that point: even before it gets a notification ... If notifications have IDs then they *are* idempotent. The client will just discard","rawEmail":"Return-Path: &lt;paul@...&gt;\r\nX-Sender: paul@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nReceived: (EGP: mail-8_0_1_3); 31 Jan 2002 17:04:58 -0000\r\nReceived: (qmail 32916 invoked from network); 31 Jan 2002 17:04:57 -0000\r\nReceived: from unknown (216.115.97.172)\n  by m12.grp.snv.yahoo.com with QMQP; 31 Jan 2002 17:04:57 -0000\r\nReceived: from unknown (HELO smtp1.ActiveState.com) (209.17.183.249)\n  by mta2.grp.snv.yahoo.com with SMTP; 31 Jan 2002 17:04:57 -0000\r\nReceived: from smtp3.ActiveState.com (smtp3.ActiveState.com [192.168.3.19])\n\tby smtp1.ActiveState.com (8.11.6/8.11.6) with ESMTP id g0VH4sN21917\n\tfor &lt;rest-discuss@yahoogroups.com&gt;; Thu, 31 Jan 2002 09:04:54 -0800\r\nReceived: from prescod.net (ssh1.ActiveState.com [192.168.3.32])\n\tby smtp3.ActiveState.com (8.11.6/8.11.6) with ESMTP id g0VH4se07240\n\tfor &lt;rest-discuss@yahoogroups.com&gt;; Thu, 31 Jan 2002 09:04:54 -0800\r\nMessage-ID: &lt;3C5978F6.2CB5F357@...&gt;\r\nDate: Thu, 31 Jan 2002 09:03:50 -0800\r\nX-Mailer: Mozilla 4.76 [en] (Windows NT 5.0; U)\r\nX-Accept-Language: en\r\nMIME-Version: 1.0\r\nTo: Rest-Discuss &lt;rest-discuss@yahoogroups.com&gt;\r\nSubject: Re: [rest-discuss] idempotent notifications\r\nReferences: &lt;200201311646.LAA20365@...&gt;\r\nContent-Type: text/plain; charset=us-ascii\r\nContent-Transfer-Encoding: 7bit\r\nX-PerlMx-Spam: Gauge=, Probability=0%, Report=INTERNAL_HOST\r\nX-Filtered-By: PerlMx makes it fast and easy.  See http://www.ActiveState.com/Products/PerlMx/Header\r\nFrom: Paul Prescod &lt;paul@...&gt;\r\nX-Yahoo-Group-Post: member; u=23186829\r\n\r\nMark Baker wrote:\n&gt; \n&gt; &gt; We *could* model our resources such that all notifications are boolean.\n&gt; &gt; For instance you would get a notification that a thousand page document\n&gt; &gt; has changed. Then the client uses some WebDAV/DeltaV magic to get a diff\n&gt; &gt; from the version it has to the version the server has.\n&gt; &gt;\n&gt; &gt; I like the idea of idempotent notifications because it means that the\n&gt; &gt; listener could go off the network for seven hours and get &quot;back in sync&quot;\n&gt; &gt; on the very first notification it gets, or even before it gets a\n&gt; &gt; notification. So for instance if we were in a chat session and I get cut\n&gt; &gt; off then my chat client could miss a bunch change notifications but sync\n&gt; &gt; up whenever it wanted to. Loose coupling.\n&gt; \n&gt; Sure, but you&#39;re placing an obligation on the server and the network\n&gt; to ensure that the notification arrives in order to go do your\n&gt; &quot;catching up&quot;.  That&#39;s quite a burden.\n&gt; \n&gt; An alternative would be that the client requests a resynch when it\n&gt; comes back online.  \n\nRight, I mentioned that point: &quot;even before it gets a notification&quot;\n\n&gt; ... This would be done with a GET.  Part of the\n&gt; request could include the last message id retrieved, and the\n&gt; server could then send all messages on the GET response that\n&gt; would get the client up to date.\n\nIf notifications have IDs then they *are* idempotent. The client will\njust discard a notification with a message ID that it has already seen.\n\n&gt; &gt; So I would say that if an &quot;event&quot; is important enough that a client\n&gt; &gt; wants to know WHAT changed, not just WHEN it changed then the event\n&gt; &gt; should be reified in the server as a resource and persist for some\n&gt; &gt; number of hours or days, unless deleted.\n&gt; \n&gt; How&#39;s that networking adage go?  &quot;Send as much as you can, as soon as\n&gt; you can&quot;.\n\nAs long as it is an optimization.\n\n Paul Prescod\n\n"}}
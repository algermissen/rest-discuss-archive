{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":511039257,"authorName":"Mike Kelly","from":"Mike Kelly &lt;mikekelly321@...&gt;","profile":"mikekelly8762348","replyTo":"SENDER","senderId":"EY__s_ryKTn04wcQt1ryXJWRUGoT7U4kPKITzA2EHEPsUWw6I4r6BT_EMds9pCy4NcDVzwR-aBUyhofqrPFJZkuTEJxiu9AG9n0","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [rest-discuss] Modeling conditional update based on existence of a dependent resource","postDate":"1341315531","msgId":18910,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PENBTnFpWkpiNDBESldOWFRfY2ZGWURHbjlqQlVMZFhtK21tNC1tb1BMZGI3b01wR09KQUBtYWlsLmdtYWlsLmNvbT4=","inReplyToHeader":"PENBTWlWc2ZMYUZzaGNzMUJHZUVQN2lXd2ZIOUdDcDFGYnd5dGlpZF8xaHByTVVmbkYwQUBtYWlsLmdtYWlsLmNvbT4=","referencesHeader":"PENBTWlWc2ZMYUZzaGNzMUJHZUVQN2lXd2ZIOUdDcDFGYnd5dGlpZF8xaHByTVVmbkYwQUBtYWlsLmdtYWlsLmNvbT4="},"prevInTopic":18909,"nextInTopic":18911,"prevInTime":18909,"nextInTime":18911,"topicId":18909,"numMessagesInTopic":7,"msgSnippet":"... Would 404 not suffice here? ... You could use a Link header in the error response that has a relation type called something like depends-on-existence ,","rawEmail":"Return-Path: &lt;mikekelly321@...&gt;\r\nX-Sender: mikekelly321@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 77420 invoked from network); 3 Jul 2012 11:38:51 -0000\r\nX-Received: from unknown (98.137.35.162)\n  by m3.grp.sp2.yahoo.com with QMQP; 3 Jul 2012 11:38:51 -0000\r\nX-Received: from unknown (HELO mail-ob0-f174.google.com) (209.85.214.174)\n  by mta6.grp.sp2.yahoo.com with SMTP; 3 Jul 2012 11:38:51 -0000\r\nX-Received: by obbuo13 with SMTP id uo13so9703546obb.19\n        for &lt;rest-discuss@yahoogroups.com&gt;; Tue, 03 Jul 2012 04:38:51 -0700 (PDT)\r\nMIME-Version: 1.0\r\nX-Received: by 10.182.167.39 with SMTP id zl7mr12326564obb.10.1341315531060;\n Tue, 03 Jul 2012 04:38:51 -0700 (PDT)\r\nX-Received: by 10.60.65.234 with HTTP; Tue, 3 Jul 2012 04:38:51 -0700 (PDT)\r\nIn-Reply-To: &lt;CAMiVsfLaFshcs1BGeEP7iWwfH9GCp1Fbwytiid_1hprMUfnF0A@...&gt;\r\nReferences: &lt;CAMiVsfLaFshcs1BGeEP7iWwfH9GCp1Fbwytiid_1hprMUfnF0A@...&gt;\r\nDate: Tue, 3 Jul 2012 12:38:51 +0100\r\nMessage-ID: &lt;CANqiZJb40DJWNXT_cfFYDGn9jBULdXm+mm4-moPLdb7oMpGOJA@...&gt;\r\nTo: REST-Discuss Discussion Group &lt;rest-discuss@yahoogroups.com&gt;\r\nContent-Type: multipart/alternative; boundary=e89a8f642c74c2b5ab04c3eb5ba2\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Mike Kelly &lt;mikekelly321@...&gt;\r\nSubject: Re: [rest-discuss] Modeling conditional update based on existence of\n a dependent resource\r\nX-Yahoo-Group-Post: member; u=511039257; y=1ZgBg6rTU07fTCO5jKsHmDejh3r_5MpALJUTmkTVAp4EBMD2Z4HLOeEc9NwUlz6YpckjHs5pojiSVwc\r\nX-Yahoo-Profile: mikekelly8762348\r\n\r\n\r\n--e89a8f642c74c2b5ab04c3eb5ba2\r\nContent-Type: text/plain; charset=ISO-8859-1\r\n\r\nOn Tue, Jul 3, 2012 at 12:33 PM, Shaunak Kashyap &lt;ycombinator@...&gt;wrote:\n\n&gt; **\n&gt;\n&gt;\n&gt; Hi folks,\n&gt;\n&gt; I am looking to model an interaction in my REST application where the\n&gt; client should only be allowed to modify a resource (say &quot;B&quot;) if another\n&gt; resource (say &quot;A&quot;) exists.\n&gt;\n&gt; Using HTTP, if resource A exists, I would like PUT /uri/for/resource/B to\n&gt; succeed. If resource B does not exist, I would like the same PUT request to\n&gt; fail, responding with a status code that indicates to the client that\n&gt; resource A does not exist. So what is a good status code to respond with in\n&gt; the failure case? I considered 403 Forbidden but its semantics say that\n&gt; &quot;the request should not be repeated&quot;. This does not quite make sense in my\n&gt; application since resource A might come into existence in the future,\n&gt; making it okay for the client to re-issue the same PUT request for resource\n&gt; B.\n&gt;\n\nWould 404 not suffice here?\n\n\n&gt;\n&gt; Alternatively (or additionally?), perhaps the client could issue a\n&gt; conditional PUT on resource B which would only succeed if resource A\n&gt; existed. How could I express such a condition in HTTP? I considered using\n&gt; the If-Match request header but that seems to apply to representations of\n&gt; the same resource (in my example, B) rather than of other resources (in my\n&gt; example, A).\n&gt;\n\nYou could use a Link header in the error response that has a relation type\ncalled something like &quot;depends-on-existence&quot;, and point that link to\nresource A.\n\nCheers,\nM\n\r\n--e89a8f642c74c2b5ab04c3eb5ba2\r\nContent-Type: text/html; charset=ISO-8859-1\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\n&lt;br&gt;&lt;br&gt;&lt;div class=3D&quot;gmail_quote&quot;&gt;On Tue, Jul 3, 2012 at 12:33 PM, Shaunak=\r\n Kashyap &lt;span dir=3D&quot;ltr&quot;&gt;&lt;&lt;a href=3D&quot;mailto:ycombinator@...&quot; tar=\r\nget=3D&quot;_blank&quot;&gt;ycombinator@...&lt;/a&gt;&gt;&lt;/span&gt; wrote:&lt;br&gt;&lt;blockquote c=\r\nlass=3D&quot;gmail_quote&quot; style=3D&quot;margin:0 0 0 .8ex;border-left:1px #ccc solid;=\r\npadding-left:1ex&quot;&gt;\n\n\n\n&lt;u&gt;&lt;/u&gt;\n\n\n\n\n\n\n\n\n\n\n&lt;div style&gt;\n&lt;span&gt;=A0&lt;/span&gt;\n\n\n&lt;div=\r\n&gt;\n  &lt;div&gt;\n\n\n    &lt;div&gt;\n      \n      \n      &lt;p&gt;Hi folks,&lt;/p&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;d=\r\niv&gt;I am looking to model an interaction in my REST application where the cl=\r\nient should only be allowed to modify a resource (say &quot;B&quot;) if ano=\r\nther resource (say &quot;A&quot;) exists.&lt;/div&gt;\n\n&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Using =\r\nHTTP, if resource A exists, I would like PUT /uri/for/resource/B to succeed=\r\n. If resource B does not exist, I would like the same PUT request to fail, =\r\nresponding with a status code that indicates to the client that resource A =\r\ndoes not exist. So what is a good status code to respond with in the failur=\r\ne case? I considered 403 Forbidden but its semantics say that &quot;the req=\r\nuest should not be repeated&quot;. This does not quite make sense in my app=\r\nlication since=A0resource A might come into existence in the future, making=\r\n it okay for the client to re-issue the same PUT request for resource B.=A0=\r\n&lt;/div&gt;\n&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=\r\n=3D&quot;background-color:rgb(255,255,255);color:rgb(34,34,34);font-family:arial=\r\n,sans-serif;font-size:12.727272033691406px&quot;&gt;Would 404 not suffice here?&lt;/sp=\r\nan&gt;&lt;/div&gt;\n&lt;div&gt;=A0&lt;/div&gt;&lt;blockquote class=3D&quot;gmail_quote&quot; style=3D&quot;margin:0=\r\n 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex&quot;&gt;&lt;div style&gt;&lt;div&gt;&lt;div=\r\n&gt;&lt;div&gt;\n&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Alternatively (or additionally?), perhaps the cl=\r\nient could issue a conditional PUT on resource B which would only succeed i=\r\nf resource A existed. How could I express such a condition in HTTP? I consi=\r\ndered using the If-Match request header but that seems to apply to represen=\r\ntations of the same resource (in my example, B) rather than of other resour=\r\nces (in my example, A).&lt;/div&gt;\n&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br=\r\n&gt;&lt;/div&gt;&lt;div style=3D&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-=\r\nsize:12.727272033691406px;background-color:rgb(255,255,255)&quot;&gt;You could use =\r\na Link header in the error response that has a relation type called somethi=\r\nng like &quot;depends-on-existence&quot;, and point that link to resource A=\r\n.&lt;/div&gt;\n&lt;div style=3D&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font=\r\n-size:12.727272033691406px;background-color:rgb(255,255,255)&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;di=\r\nv style=3D&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:12.72=\r\n7272033691406px;background-color:rgb(255,255,255)&quot;&gt;\nCheers,&lt;/div&gt;&lt;div&gt;&lt;span=\r\n style=3D&quot;background-color:rgb(255,255,255);color:rgb(34,34,34);font-family=\r\n:arial,sans-serif;font-size:12.727272033691406px&quot;&gt;M&lt;/span&gt;=A0&lt;/div&gt;&lt;/div&gt;\n\r\n--e89a8f642c74c2b5ab04c3eb5ba2--\r\n\n"}}
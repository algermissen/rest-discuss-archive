{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":498432483,"authorName":"Jan Algermissen","from":"Jan Algermissen &lt;jan.algermissen@...&gt;","profile":"algermissen1971","replyTo":"SENDER","senderId":"-bdD53FtDMUSE-NPFMTsy-DUo94l8vdQXSc6FmxiDaa97O5lgpmEWx5VcUQ6KV3luLTLwRya2H0Ot5QZZrnc1rLJ3OkjauNg_RrivZH3eja947g","spamInfo":{"isSpam":false,"reason":"3"},"subject":"Re: [rest-discuss] Re: The &quot;new media types are evil&quot; meme","postDate":"1325295435","msgId":18282,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDAyQjYyMjU0LTcyMkYtNDA0My1CMzRGLTI4RkFDMEUwMTI4NkBub3Jkc2MuY29tPg==","inReplyToHeader":"PDgwOEZCODg0M0YyNjQzQTNBNjQ4M0ZFOENBNDFFRjkzQEpyblBDPg==","referencesHeader":"PGpkbGNpOCs0bTRnQGVHcm91cHMuY29tPiA8ODFFQjJCMjAtQUYxNy00NUQyLUI4RUUtMjg1QTU3MTg1RTJDQG5vcmRzYy5jb20+IDxFNEY4RkFGMDkzN0U0MjgwQUU0QjQwQjM0MDZCMzIzRUBKcm5QQz4gPDgwOEZCODg0M0YyNjQzQTNBNjQ4M0ZFOENBNDFFRjkzQEpyblBDPg=="},"prevInTopic":18281,"nextInTopic":18283,"prevInTime":18281,"nextInTime":18283,"topicId":18183,"numMessagesInTopic":245,"msgSnippet":"... yes ... yes - in the sense that it knows that /foo/bar is the URI of the resource it wants to send the request to. The response is self describing, but the","rawEmail":"Return-Path: &lt;jan.algermissen@...&gt;\r\nX-Sender: jan.algermissen@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 5910 invoked from network); 31 Dec 2011 01:37:18 -0000\r\nX-Received: from unknown (98.137.35.161)\n  by m14.grp.sp2.yahoo.com with QMQP; 31 Dec 2011 01:37:18 -0000\r\nX-Received: from unknown (HELO moutng.kundenserver.de) (212.227.17.10)\n  by mta5.grp.sp2.yahoo.com with SMTP; 31 Dec 2011 01:37:18 -0000\r\nX-Received: from [192.168.2.107] (p548FA1E2.dip.t-dialin.net [84.143.161.226])\n\tby mrelayeu.kundenserver.de (node=mrbap1) with ESMTP (Nemesis)\n\tid 0MLA1p-1Rh4rl32bR-000sOb; Sat, 31 Dec 2011 02:37:17 +0100\r\nMime-Version: 1.0 (Apple Message framework v1084)\r\nContent-Type: text/plain; charset=iso-8859-1\r\nX-Priority: 3\r\nIn-Reply-To: &lt;808FB8843F2643A3A6483FE8CA41EF93@JrnPC&gt;\r\nDate: Sat, 31 Dec 2011 02:37:15 +0100\r\nCc: &quot;REST Discuss&quot; &lt;rest-discuss@yahoogroups.com&gt;\r\nContent-Transfer-Encoding: quoted-printable\r\nMessage-Id: &lt;02B62254-722F-4043-B34F-28FAC0E01286@...&gt;\r\nReferences: &lt;jdlci8+4m4g@...&gt; &lt;81EB2B20-AF17-45D2-B8EE-285A57185E2C@...&gt; &lt;E4F8FAF0937E4280AE4B40B3406B323E@JrnPC&gt; &lt;808FB8843F2643A3A6483FE8CA41EF93@JrnPC&gt;\r\nTo: =?iso-8859-1?Q?J=F8rn_Wildt?= &lt;jw@...&gt;\r\nX-Mailer: Apple Mail (2.1084)\r\nX-Provags-ID: V02:K0:voqwnsQbB9VWwCIBOijiAzZe5+N/EMxkiTe2JtPpPmH\n PZYbWh+yUVhMvKMfibidkF7L6u/BgYDEfDRqK9WeWWzpWXgeEQ\n j1E2uj3mSoIYWwlvyiOL7k72BLO6k8WIxhQwcxscyMBe+Trdvd\n hRZWG76xB4Dx89KWGiaJKzsR90sfUTfmbZZHbj8LukyVbNc4ue\n vb1tXh9wDs/fVQP6u+gIuIbw0igiyUofrSE5s318JfXmIG6WpW\n w3QifJq+ot0dWl7/fU41vRzm0PRbKmlfFmNVjokAkCFjsDtDJ/\n 4am0xWvlT52Sn6WB4GRLUDvGkMFWg0U6HkH7viKriIBBAvuOMK\n wfN1XAw+E7epmZYQAyO53vqqZ8Qqaa7YQ7xLdXfGGGbmqn5RNo\n YO9REUajWEuJg==\r\nX-eGroups-Msg-Info: 2:3:4:0:0\r\nFrom: Jan Algermissen &lt;jan.algermissen@...&gt;\r\nSubject: Re: [rest-discuss] Re: The &quot;new media types are evil&quot; meme\r\nX-Yahoo-Group-Post: member; u=498432483; y=L6XnqzqGhunqqqTRbR85yADItS21CA5fhH78hQL36zRepLa_1DURIplA\r\nX-Yahoo-Profile: algermissen1971\r\n\r\n\nOn Dec 31, 2011, at 2:08 AM, J=F8rn Wildt wrote:\n\n&gt; Duh! It is the example=\r\ns that are wrong. Media types should not describe objects like &quot;sales order=\r\n&quot; or &quot;bill&quot;. They should be more general like &quot;e-procurement&quot;. The fact tha=\r\nt its a sales order can be derived from the rel-type (as argued earlier on)=\r\n.\n&gt; \n&gt; So my previous little step-be-step list becomes:\n&gt; \n&gt; 1) The client =\r\nfollows a link-rel &quot;this-is-the-sales-order&quot; and assumes it will get, well,=\r\n a sales order - in some yet unknown format.\n\nyes\n\n&gt; \n&gt; 2) The client does =\r\nnot need to specify &quot;I want a sales order&quot; in the accept header (it does so=\r\n by the URL it has selected).\n&gt; \n\nyes - in the sense that it knows that /fo=\r\no/bar is the URI of the resource it wants to send the request to. The respo=\r\nnse is self describing, but the client (of course) has a context that drive=\r\ns how it deals with the response.\n\n&gt; 3) The client must specify its capabil=\r\nities (or the context in which it will process the sales order). So it send=\r\ns Accept: application/e-procurement+xml (not application/salesorder+xml).\n\n=\r\nYes (except that it does not specify its context. The context is the client=\r\n&#39;s business and irrelevant to HTTP).\n\nThe core developer question being: Wh=\r\nat do I put in the Accept header and why exactly. (See the two atom-protoco=\r\nl links I sent previously where my driver was sth like &quot;Why exactly (on wha=\r\nt grounds) does a browser say Accept: image/* when following an HTML &lt;img s=\r\nrc=3D&quot;&quot;/&gt; element or why does an AtomPub client say Accept: application/ato=\r\nm+xml when following a &lt;collection href=3D&quot;&quot;/&gt; element.)\n\n&gt; \n&gt; 4) The serve=\r\nr replies with a sales order and content-type application/e-procurement+xml=\r\n.\n\nyes (and also: maybe it doesn&#39;t (aka 406 Not Acceptable) and you have to=\r\n deal with that in a meaningful way, too - remembering that the body of the=\r\n 406 response also constitutes a useful application state. And IMHO there i=\r\ns a lot to leverage in M2M systems wrt such error response bodies )\n\n&gt; \n&gt; 5=\r\n) The client knows that a sales order in the context of application/e-procu=\r\nrement+xml should be decoded in a certain way and does so.\n\nyes - It knows =\r\nin what context it i and what it wants to do with the response. Maybe it on=\r\nly wants to index the response to build up a search index, maybe it wants t=\r\no spell-check the thing, maybe it wants to build a report, maybe it wants t=\r\no check inventory. It depens on its own position in its own application.\n\n&gt;=\r\n \n&gt; Repeat step 1-5 with &quot;sales order&quot; replaced with &quot;bill/quote/reservatio=\r\nn/etc&quot; - but do not change the media type.\n\nyes - though the same would be =\r\ntrue if you indeed choose to have application/order, application/invoice,..=\r\n. But it certainly helps to think in terms of larger media types because it=\r\n de-emphazises the &#39;entities&#39; in the thinking.\n\n&gt; \n&gt; Better now?\n\nSounds go=\r\nod.\n\nJan\n\n&gt; \n&gt; /J=F8rn\n&gt; \n&gt; ----- Original Message ----- From: &quot;J=F8rn Wild=\r\nt&quot; &lt;jw@...&gt;\n&gt; To: &quot;Jan Algermissen&quot; &lt;jan.algermissen@...=\r\n&gt;\n&gt; Cc: &quot;REST Discuss&quot; &lt;rest-discuss@yahoogroups.com&gt;\n&gt; Sent: Saturday, Dec=\r\nember 31, 2011 1:10 AM\n&gt; Subject: Re: [rest-discuss] Re: The &quot;new media typ=\r\nes are evil&quot; meme\n&gt; \n&gt; \n&gt;&gt; Jan, I am quite sure I understand what you are s=\r\naying :-) You could even\n&gt;&gt; argue against me, saying that, well, Jorn, sinc=\r\ne you have decided to inspect\n&gt;&gt; the payload before acting on the response =\r\n(checking the XML, right) - then\n&gt;&gt; you might as well drop the concept of a=\r\n media type completely and always\n&gt;&gt; depend on data-inspection. Something t=\r\nhat certainly won&#39;t work!\n&gt;&gt; \n&gt;&gt; I totally agree that switching on domain s=\r\npecific information / capabilities\n&gt;&gt; in the media type feels intuitive, ma=\r\nkes life easier, and makes HTTP work\n&gt;&gt; with you instead of against you. Bu=\r\nt I am having a seriously hard time\n&gt;&gt; deciding on whether or not to do it =\r\n- what do I gain and, more interesting,\n&gt;&gt; what do I loose?\n&gt;&gt; \n&gt;&gt; So, if w=\r\ne mint new media types - when and for what purpose should we do\n&gt;&gt; that? Le=\r\nts talk about e-procurement again. In this domain we have orders and\n&gt;&gt; bil=\r\nls. What media types should we have?\n&gt;&gt; \n&gt;&gt; Should we have only one media t=\r\nype (like Webber&#39;s\n&gt;&gt; application/vnd.restbucks+xml in\n&gt;&gt; http://iansrobins=\r\non.com/2010/09/02/using-typed-links-to-forms/):\n&gt;&gt; \n&gt;&gt; application/e-procur=\r\nement+xml\n&gt;&gt; \n&gt;&gt; or many media types:\n&gt;&gt; \n&gt;&gt; application/e-procurement.orde=\r\nr+xml\n&gt;&gt; application/e-procurement.bill+xml\n&gt;&gt; application/e-procurement.pe=\r\nrson+xml\n&gt;&gt; \n&gt;&gt; As we extend the application we are probably going to need =\r\nstuff like\n&gt;&gt; inventory, reservation, bank account, money transfer and so o=\r\nn. If each of\n&gt;&gt; these are going to get their own media type then we end up=\r\n with the known\n&gt;&gt; &quot;over proliferation of media types&quot; as opposed to sticki=\r\nng to a few well\n&gt;&gt; known media formats.\n&gt;&gt; \n&gt;&gt; But, to argue against my pr=\r\nevious post - this is an e-procurement REST API -\n&gt;&gt; meaning &quot;this is one s=\r\npecific instance of the REST architecture&quot;. It happens\n&gt;&gt; to work with HTTP=\r\n which has many more media types, but for this specific\n&gt;&gt; REST instance (e=\r\n-procurement) we actually don&#39;t have that many media types.\n&gt;&gt; \n&gt;&gt; If this =\r\nis a valid interpretation of REST as an achitecture, and\n&gt;&gt; e-procurement a=\r\ns an instance of it, then the &quot;over proliferation of media\n&gt;&gt; types&quot; is a n=\r\non-problem - there won&#39;t be that many media types per API /\n&gt;&gt; instance of =\r\nREST.\n&gt;&gt; \n&gt;&gt; Do I sound scizophrenic? Probably. I feel so. Like running aro=\r\nund in\n&gt;&gt; circles. Need sleep ...\n&gt;&gt; \n&gt;&gt; /J=F8rn\n&gt;&gt; \n&gt;&gt; \n&gt;&gt; \n&gt;&gt; -----------=\r\n-------------------------\n&gt;&gt; \n&gt;&gt; Yahoo! Groups Links\n&gt;&gt; \n&gt;&gt; \n&gt;&gt; \n\n\n"}}
{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":198693287,"authorName":"Bill Venners","from":"Bill Venners &lt;bv-svp@...&gt;","profile":"billvenners","replyTo":"SENDER","senderId":"nHCeF_dd67OAokd0E8YvaQh9KZtoPpMTaZ7TAtUW9qaVXLzRGp8tB57MkM47fA45axlAFZbz6WofahAk_hnqvzqLlpmeHa0","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [rest-discuss] Re: Meaning of stateless","postDate":"1145515899","msgId":6021,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDMyMUQ4MkI2LTA3MkEtNDhEOC04MURBLTI3OTEwQzIwNzc3MUBhcnRpbWEuY29tPg==","inReplyToHeader":"PDQ0NDcxOEYzLjgwMjA4MDdAamo1Lm5ldD4=","referencesHeader":"PDQ0M0ZGMzFDLjgwMDAxMDlAdmVpY29uLmNvbT4JIDwzNDNlY2IzZTA2MDQxNDEyMzBnNDFjMTMyMWNuYjJhOTM2Y2NiZjUzZGM3ZEBtYWlsLmdtYWlsLmNvbT4gPDExNDUwOTU4OTMuNjk4OC4yNi5jYW1lbEBsb2NhbGhvc3QubG9jYWxkb21haW4+IDw0NDQ0NkNGMC45MDEwMzA4QGpqNS5uZXQ+IDw0RjhGRTQyNi01NEFFLTQ4REQtQUJEMC1FRjU0MzBFNTdBMEFAYXJ0aW1hLmNvbT4gPDQ0NDU4REIyLjcwNzAwMDNAamo1Lm5ldD4gPDQ0NDU5N0QzLjUwMDAwMDJAdmVpY29uLmNvbT4gPDQ0NDU5QzlDLjUwOTAxMDFAamo1Lm5ldD4gPDQ0NDVGNUFDLjkwNTA3QGRlaG9yYS5uZXQ+IDxGQjM4RjREQS0zOURELTREQTctQjMxMy0zOEFDMjlFRERDOTFAYXJ0aW1hLmNvbT4gPDQ0NDY3NDk3LjYwMzAzMDlAdmVpY29uLmNvbT4gPDBBRTA2OTVDLTVDM0YtNDUzQi05MUVBLTgzQTRGRDRCRDhCNUBhcnRpbWEuY29tPiA8NDQ0NzE4RjMuODAyMDgwN0BqajUubmV0Pg=="},"prevInTopic":6020,"nextInTopic":6027,"prevInTime":6020,"nextInTime":6022,"topicId":5949,"numMessagesInTopic":44,"msgSnippet":"Hi John, ... Sure. Conversational state is state about interactions with the user that span multiple HTTP requests, prior to a point in the conversation where","rawEmail":"Return-Path: &lt;bv-svp@...&gt;\r\nX-Sender: bv-svp@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nReceived: (qmail 91415 invoked from network); 20 Apr 2006 06:51:24 -0000\r\nReceived: from unknown (66.218.66.217)\n  by m27.grp.scd.yahoo.com with QMQP; 20 Apr 2006 06:51:24 -0000\r\nReceived: from unknown (HELO artima2.inetu.net) (209.235.240.43)\n  by mta2.grp.scd.yahoo.com with SMTP; 20 Apr 2006 06:51:24 -0000\r\nReceived: (qmail 19547 invoked by uid 89); 20 Apr 2006 06:51:10 -0000\r\nReceived: from unknown (HELO ?192.168.251.21?) (67.102.66.234)\n  by artima2.inetu.net with SMTP; 20 Apr 2006 06:51:10 -0000\r\nIn-Reply-To: &lt;444718F3.8020807@...&gt;\r\nReferences: &lt;443FF31C.8000109@...&gt;\t &lt;343ecb3e0604141230g41c1321cnb2a936ccbf53dc7d@...&gt; &lt;1145095893.6988.26.camel@...&gt; &lt;44446CF0.9010308@...&gt; &lt;4F8FE426-54AE-48DD-ABD0-EF5430E57A0A@...&gt; &lt;44458DB2.7070003@...&gt; &lt;444597D3.5000002@...&gt; &lt;44459C9C.5090101@...&gt; &lt;4445F5AC.90507@...&gt; &lt;FB38F4DA-39DD-4DA7-B313-38AC29EDDC91@...&gt; &lt;44467497.6030309@...&gt; &lt;0AE0695C-5C3F-453B-91EA-83A4FD4BD8B5@...&gt; &lt;444718F3.8020807@...&gt;\r\nMime-Version: 1.0 (Apple Message framework v746.3)\r\nContent-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed\r\nMessage-Id: &lt;321D82B6-072A-48D8-81DA-27910C207771@...&gt;\r\nCc: REST Discuss &lt;rest-discuss@yahoogroups.com&gt;\r\nContent-Transfer-Encoding: 7bit\r\nDate: Wed, 19 Apr 2006 23:51:39 -0700\r\nTo: John Elliot &lt;jj5@...&gt;\r\nX-Mailer: Apple Mail (2.746.3)\r\nX-eGroups-Msg-Info: 1:12:0:0\r\nFrom: Bill Venners &lt;bv-svp@...&gt;\r\nSubject: Re: [rest-discuss] Re: Meaning of stateless\r\nX-Yahoo-Group-Post: member; u=198693287; y=9c1X__5qqqYofWQhHp_niS-e-n9sDDasZP1ZMHLfAjoR_2aT7tM\r\nX-Yahoo-Profile: billvenners\r\n\r\nHi John,\n\n&gt; Can you give us an example of &#39;conversational state&#39; as distinct from\n&gt; &#39;persistent state&#39; then?\n&gt;\nSure. Conversational state is state about interactions with the user  \nthat span multiple HTTP requests, prior to a point in the  \nconversation where you have a full entity to persist in the database.\n\nOne example is a wizard. I have a wizard on Artima that people use to  \nregister their RSS feeds with Buzz (an RSS aggregator). Page one asks  \nyou to select a Buzz community. Page two asks you to enter a short  \nbio. Page three asks you to enter the URL of your feed, etc. Until  \nyou enter all three of these I don&#39;t have enough information to add a  \nnew feed to Buzz in the database. The conversational state I need to  \nkeep track of here is what data they entered in previous pages in the  \nwizard. If I don&#39;t redirect after POST to GET, then I can just send  \nthe state back immediately in hidden fields. But if I do redirect  \nafter GET, then I have to somehow keep state on the server that will  \nremember what they previously submitted so I can stick it in the  \nhidden fields. Once I get all three pages filled in from the wizard,  \nI combine that data and insert a new Buzz feed entity into the database.\n\nAnother example is working with a user to get all required form data,  \nin a correct format. When someone goes to register with Artima, they  \nneed to enter a desired nickname, first name, last name, the password  \n(twice), and so on. (I try to keep the amount of data to a minimum.)  \nRegardless, there are several problems that I can discover when they  \nsubmit. They can leave out required fields. They can have asked for a  \nnickname that is already in use. There passwords might not match. In  \neach case I want them to see the form as they filled it, but with  \nlittle red error messages indicating the problem. I use redirect  \nafter GET, so after they POST, I redirect to a GET, and when that GET  \ncomes in the server has to remember what the user previously typed  \nin, and what error messages to display. Once I get good data from the  \nuser for registration, I insert a new registration into the database.\n\nAnother example is state to do redirect after post when the user is  \ntrying out different ideas for flights at an airline site. They may  \ntry something, back up try something else. Open up a new window and  \nback up and try a third thing. Until they actually purchase a flight,  \nyou may not want to persist anything in the database. But if you&#39;re  \ndoing redirect after POST, you need to store conversational state  \nbetween requests to remember what query they are attempting to get  \nresults for. Once they actually make a decision, then I can persist a  \nreservation in the database (and do whatever else I need to do to  \nmake the reservation official).\n\nLastly, although shopping carts don&#39;t seem to be modeled as  \nconversational state in practice, it was used as the first  \nillustration I ever read about what servlet session objects are for.  \nThe idea was that when an HTTP request comes in, you somehow have to  \nremember what the user previously put in their shopping cart. But you  \ndon&#39;t want to store that conversational state in the database until  \nthey actually make a purchase. So, you store the shopping cart in the  \nsession. Once they make a purchase, you persist that in the database.\n\nPeople in the J2EE world tend to think it is overkill to put  \nconversational state in the database. They just keep conversational  \nstate in memory, and often don&#39;t bother to replicate across the  \ncluster, because in their opinion the reliability of one server gives  \nthem enough 9s for conversational state. The traditional way its been  \ndone is by putting that conversational state in the user session on  \nthe server. This works, but it breaks the back button.\n\nFor example, when using the user session approach, what I redirect to  \nafter post is the same form URI. So there&#39;s just one form URI, but  \ndepending on the session state, I may return it blank or fill it with  \ndata and error messages. So if I&#39;ve made three attempts at getting  \nthe form right, then I back up, each time the form will look the same  \nbecause I&#39;m grabbing the conversational state of that form from the  \nuser session. With snapshots, even if I back up and hit reload, I&#39;ll  \nstill see the history of my conversation. So if two pages ago I had  \ntried a flight on Wednesday instead of Thursday, I can back up and  \nget back to the form with Wednesday, change the time from morning to  \nafternoon, and press submit again. Voila.\n\nBill\n----\nBill Venners\nEditor-in-Chief\nArtima Developer\nhttp://www.artima.com\n\n\n"}}
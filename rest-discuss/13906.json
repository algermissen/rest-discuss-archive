{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":69164307,"authorName":"mike amundsen","from":"mike amundsen &lt;mamund@...&gt;","profile":"mamund","replyTo":"SENDER","senderId":"fk9q49rq3jGZSRYXXOW-dMHENuyyCp5cR1M0NSH5di5BUd9RcuU6K5kMnUWrraAiuDH6_dBWSYf4EgQNai_2AsYG6vpFGF0","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [rest-discuss] Resource Deltas","postDate":"1256137889","msgId":13906,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PGI1NDhkZjY1MDkxMDIxMDgxMXUxZDYyODhlMndmMzk4ODViNDk1MTQ2YjQ0QG1haWwuZ21haWwuY29tPg==","inReplyToHeader":"PDU1OGI3M2ZiMDkxMDIxMDU0M243ZDE1YWU1NnIyMzllMGY2OTk4YTFmYjZlQG1haWwuZ21haWwuY29tPg==","referencesHeader":"PDU1OGI3M2ZiMDkxMDIxMDU0M243ZDE1YWU1NnIyMzllMGY2OTk4YTFmYjZlQG1haWwuZ21haWwuY29tPg=="},"prevInTopic":13905,"nextInTopic":13907,"prevInTime":13905,"nextInTime":13907,"topicId":13905,"numMessagesInTopic":10,"msgSnippet":"Since Range headers were initially designed to refer to bytes and not characters, using Range in the way you suggest for XML can cause problems. Consider the","rawEmail":"Return-Path: &lt;mca@...&gt;\r\nX-Sender: mca@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 88647 invoked from network); 21 Oct 2009 15:11:30 -0000\r\nX-Received: from unknown (98.137.34.46)\n  by m4.grp.sp2.yahoo.com with QMQP; 21 Oct 2009 15:11:30 -0000\r\nX-Received: from unknown (HELO mail-fx0-f205.google.com) (209.85.220.205)\n  by mta3.grp.sp2.yahoo.com with SMTP; 21 Oct 2009 15:11:29 -0000\r\nX-Received: by mail-fx0-f205.google.com with SMTP id 1so9187681fxm.31\n        for &lt;rest-discuss@yahoogroups.com&gt;; Wed, 21 Oct 2009 08:11:29 -0700 (PDT)\r\nMIME-Version: 1.0\r\nX-Received: by 10.223.14.22 with SMTP id e22mr1803465faa.42.1256137889170; Wed, \n\t21 Oct 2009 08:11:29 -0700 (PDT)\r\nIn-Reply-To: &lt;558b73fb0910210543n7d15ae56r239e0f6998a1fb6e@...&gt;\r\nReferences: &lt;558b73fb0910210543n7d15ae56r239e0f6998a1fb6e@...&gt;\r\nDate: Wed, 21 Oct 2009 11:11:29 -0400\r\nX-Google-Sender-Auth: c047cb4e4a9ba119\r\nMessage-ID: &lt;b548df650910210811u1d6288e2wf39885b495146b44@...&gt;\r\nTo: Michael Crute &lt;mcrute@...&gt;\r\nCc: rest-discuss@yahoogroups.com\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Transfer-Encoding: quoted-printable\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: mike amundsen &lt;mamund@...&gt;\r\nSubject: Re: [rest-discuss] Resource Deltas\r\nX-Yahoo-Group-Post: member; u=69164307; y=9LkhNks4CUl9Kf_qBX34kNUNNYND9T5ZZrEwcgwDOQZr\r\nX-Yahoo-Profile: mamund\r\n\r\nSince Range headers were initially designed to refer to bytes and not\nchara=\r\ncters, using Range in the way you suggest for XML can cause\nproblems. Consi=\r\nder the different ways XML renders the space character:\n&quot;&#160;&quot; is not the=\r\n same number of bytes as &quot; &quot;. While it&#39;s possible\nto create your own Range =\r\nunits, you&#39;ll still run into similar\nchallenges and there is a possibility =\r\nthat an intermediary (caching\nproxy) might not implement the Range header t=\r\no meet your custom\nimplementation.\n\nFor XML, I think it&#39;s much safer to use=\r\n a &quot;DIFF&quot; representation.\n\nOne solution would be to allow the client to mak=\r\ne a GET request along\nwith the concurrency token (last-mod or etag) for the=\r\n diff resource.\nUpon receiving the request, the server could compare the ve=\r\nrsion\nassociated w/ the client&#39;s token to the most current version on the\ns=\r\nerver and, if needed,  produce the DIFF for the client to process or\njust r=\r\neturn 304.\n\nGET /my-content/changes\nLast-Modified: XXXXXX\nETag: XXXXXX\n\nIf =\r\nit&#39;s important to keep a history the DIFFs that are produced, you\ncould cha=\r\nnge the interaction to require the client to use POST, allow\nthe server to =\r\nproduce a new addressable resource, and have the server\nredirect the client=\r\n to the newly created resource:\n\n# request\nPOST /my-content/changes;token=\r\n=3DXXXXXX\n# response\n201 Created\nLocation /my-content/changes/1\n# request\nG=\r\nET /my-content;/changes/1\n\nIn either case, I would include a link the conte=\r\nnt document itself w/\na rel-tag that informs the client of the availability=\r\n of the DIFF:\n&lt;content&gt;\n  &lt;link href=3D&quot;http://www.example.org/my-content/c=\r\nhanges;token=3DXXXXX:\nrel=3D&quot;changes&quot; /&gt;\n  ...\n&lt;/content&gt;\n\nThis last item w=\r\nould need to be documented as part of the semantics of\nyour &lt;content&gt; media=\r\n-type so that clients will be able to support the\nDIFF operation.\n\nmca\nhttp=\r\n://amundsen.com/blog/\n\n\n\n\nOn Wed, Oct 21, 2009 at 08:43, Michael Crute &lt;mcr=\r\nute@...&gt; wrote:\n&gt; I&#39;m writing an RESTful web service to update conten=\r\nt on a mobile\n&gt; device. We are currently using the If-Modified-Since header=\r\n along with\n&gt; 304 &quot;Not Modified&quot; response codes to ensure that the device d=\r\noes not\n&gt; download the file more than is absolutely necessary, but I&#39;d like=\r\n to\n&gt; go a step further and only provide the changed records to the device\n=\r\n&gt; (this is an XML file FWIW). After combing over the HTTP spec and not\n&gt; fi=\r\nnding much on Google I think this might be a valid approach:\n&gt;\n&gt; Client sen=\r\nds a GET request with an If-Range header that specifies the\n&gt; last download=\r\n date and a Range header that specifies the same. The\n&gt; server could then s=\r\nend back a response of 304 &quot;Not Modified&quot;, 206\n&gt; &quot;Partial Resource&quot; along w=\r\nith the deltas as the body or a 200 with all\n&gt; of the records as the body.\n=\r\n&gt;\n&gt; Sample Request Headers:\n&gt; If-Range: Sun, 18 Oct 2009 08:49:37 GMT\n&gt; Ran=\r\nge: lastmod=3DSun, 18 Oct 2009 08:49:37 GMT\n&gt;\n&gt; Is this approach correct? T=\r\nhe HTTP spec suggests that I may define my\n&gt; own custom units for the Range=\r\n header but they may not be portable[0]\n&gt; is there a standard already in pl=\r\nace that I&#39;m missing?\n&gt;\n&gt; -mike\n&gt;\n&gt; [0] http://www.w3.org/Protocols/rfc2616=\r\n/rfc2616-sec3.html#sec3.12\n&gt;\n&gt; --\n&gt; ________________________________\n&gt; Mich=\r\nael E. Crute\n&gt; http://mike.crute.org\n&gt;\n&gt; God put me on this earth to accomp=\r\nlish a certain number of things.\n&gt; Right now I am so far behind that I will=\r\n never die. --Bill Watterson\n&gt;\n&gt;\n&gt; ------------------------------------\n&gt;\n&gt;=\r\n Yahoo! Groups Links\n&gt;\n&gt;\n&gt;\n&gt;\n\n"}}
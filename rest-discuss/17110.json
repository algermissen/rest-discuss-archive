{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":221173245,"authorName":"Andrew Wahbe","from":"Andrew Wahbe &lt;andrew.wahbe@...&gt;","profile":"wahbedahbe","replyTo":"SENDER","senderId":"k1YdM5LOa2Af_-SAAvpAKDxwhrFB2ZK5JHHIXgUv2oti5tBhL2RsaIeS3m9HzQI3O4b7WsVwvx0gPcIBv9wZFTwfgfnc9H4_MXLlmg","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [rest-discuss] Re: Typed resources for agent-driven negotiation?","postDate":"1292266422","msgId":17110,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PEFBTkxrVGluR3F1dVZnalVQRks4NXM5MUNVZjFuRzJCNzFMNDRoU1RDWm1GX0BtYWlsLmdtYWlsLmNvbT4=","inReplyToHeader":"PEFBTkxrVGlraEZXWnl3RGhvT3BDNWNYdm9GNkROb0tXMTVUcWN4UnRiNW91UEBtYWlsLmdtYWlsLmNvbT4=","referencesHeader":"PEFBTkxrVGlubmRBMjJ1VHd5VkRHSlllU3FfRkpwRTFMUHJPVm1Gc1VFU3NzZkBtYWlsLmdtYWlsLmNvbT4JPGllNWh1ZSttNThkQGVHcm91cHMuY29tPgk8QUFOTGtUaWtoRldaeXdEaG9PcEM1Y1h2b0Y2RE5vS1cxNVRxY3hSdGI1b3VQQG1haWwuZ21haWwuY29tPg=="},"prevInTopic":17109,"nextInTopic":17112,"prevInTime":17109,"nextInTime":17111,"topicId":17103,"numMessagesInTopic":9,"msgSnippet":"... As Mike and Nathan have both said: using the type attribute to drive the values of the Accept header and using it to help guide the selection of links are","rawEmail":"Return-Path: &lt;andrew.wahbe@...&gt;\r\nX-Sender: andrew.wahbe@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 596 invoked from network); 13 Dec 2010 18:53:43 -0000\r\nX-Received: from unknown (98.137.34.44)\n  by m3.grp.sp2.yahoo.com with QMQP; 13 Dec 2010 18:53:43 -0000\r\nX-Received: from unknown (HELO mail-bw0-f44.google.com) (209.85.214.44)\n  by mta1.grp.sp2.yahoo.com with SMTP; 13 Dec 2010 18:53:43 -0000\r\nX-Received: by bwz12 with SMTP id 12so7026800bwz.31\n        for &lt;rest-discuss@yahoogroups.com&gt;; Mon, 13 Dec 2010 10:53:42 -0800 (PST)\r\nMIME-Version: 1.0\r\nX-Received: by 10.204.57.132 with SMTP id c4mr4112477bkh.100.1292266422322; Mon,\n 13 Dec 2010 10:53:42 -0800 (PST)\r\nX-Received: by 10.204.115.206 with HTTP; Mon, 13 Dec 2010 10:53:42 -0800 (PST)\r\nIn-Reply-To: &lt;AANLkTikhFWZywDhoOpC5cXvoF6DNoKW15TqcxRtb5ouP@...&gt;\r\nReferences: &lt;AANLkTinndA22uTwyVDGJYeSq_FJpE1LPrOVmFsUESssf@...&gt;\n\t&lt;ie5hue+m58d@...&gt;\n\t&lt;AANLkTikhFWZywDhoOpC5cXvoF6DNoKW15TqcxRtb5ouP@...&gt;\r\nDate: Mon, 13 Dec 2010 13:53:42 -0500\r\nMessage-ID: &lt;AANLkTinGquuVgjUPFK85s91CUf1nG2B71L44hSTCZmF_@...&gt;\r\nTo: Mike Kelly &lt;mike@...&gt;\r\nCc: rest-discuss@yahoogroups.com\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Transfer-Encoding: quoted-printable\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Andrew Wahbe &lt;andrew.wahbe@...&gt;\r\nSubject: Re: [rest-discuss] Re: Typed resources for agent-driven negotiation?\r\nX-Yahoo-Group-Post: member; u=221173245; y=5dsTKP9ATeVLdHS-Us5yXMiQIHBF1optdqpj7bqnF_dsqF3Tyg\r\nX-Yahoo-Profile: wahbedahbe\r\n\r\nOn Mon, Dec 13, 2010 at 12:08 PM, Mike Kelly &lt;mike@...&gt; wrote:\n&gt; =\r\nOn Mon, Dec 13, 2010 at 4:34 PM, wahbedahbe &lt;andrew.wahbe@...&gt; wrote:=\r\n\n&gt;&gt;\n&gt;&gt; --- In rest-discuss@yahoogroups.com, mike amundsen &lt;mamund@...&gt; wrot=\r\ne:\n&gt;&gt;&gt;\n&gt;&gt;&gt; There is nothing in the spec that details the representation to =\r\nuse\n&gt;&gt;&gt; for a 300 response. However, it does indicate that the selection ca=\r\nn\n&gt;&gt;&gt; be done automatically or &quot;manually by the user selecting from a\n&gt;&gt;&gt; g=\r\nenerated (possibly hypertext) menu.&quot;[1]\n&gt;&gt;&gt;\n&gt;&gt;&gt; This leads to an assumption=\r\n that a set of hypertext links (e.g. HTML\n&gt;&gt;&gt; anchor tags) would work just =\r\nfine for human consumption:\n&gt;&gt;&gt; &lt;a href=3D&quot;...&quot;&gt;Pie char&lt;/a&gt;\n&gt;&gt;&gt; &lt;a href=3D=\r\n&quot;...&quot;&gt;Data Table&lt;/a&gt;\n&gt;&gt;&gt; &lt;a href=3D&quot;...&quot;&gt;Text List&lt;/a&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt; Since the HT=\r\nML A tag has &quot;type&quot; as an optional &quot;typoe&quot; attribute[2],\n&gt;&gt;&gt; the same conte=\r\nnt can be modified to help client applications make\n&gt;&gt;&gt; automated choices.\n=\r\n&gt;&gt;&gt; &lt;a href=3D&quot;...&quot; type=3D&quot;image/png&quot;&gt;Pie char&lt;/a&gt;\n&gt;&gt;&gt; &lt;a href=3D&quot;...&quot; typ=\r\ne=3D&quot;text/html&quot;&gt;Data Table&lt;/a&gt;\n&gt;&gt;&gt; &lt;a href=3D&quot;...&quot; type=3D&quot;text/plain&quot;&gt;Text=\r\n List&lt;/a&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt; Finally, since the HTTP 1.1 spec also indicates the infor=\r\nmation could\n&gt;&gt;&gt; be carried in a header, the new Web Linking spec[3] could =\r\nbe used as a\n&gt;&gt;&gt; guide for returning the same information as Link Headers:\n=\r\n&gt;&gt;&gt; Link: &lt;...&gt;; type=3D&quot;image/png&quot;,&lt;...&gt;;type=3D&quot;text/html&quot;,&lt;...&gt;;type=3D&quot;=\r\ntext/plain&quot;\n&gt;&gt;&gt;\n&gt;&gt;&gt; This last option works well for clients that are not ex=\r\npecting an HTML\n&gt;&gt;&gt; response body (e.g. image viewers that want to negotiat=\r\ne for a\n&gt;&gt;&gt; preferred binary format, etc.).\n&gt;&gt;&gt;\n&gt;&gt;&gt; [1] http://www.w3.org/P=\r\nrotocols/rfc2616/rfc2616-sec12.html#sec12.2\n&gt;&gt;&gt; [2] http://www.w3.org/TR/ht=\r\nml4/struct/links.html#h-12.2\n&gt;&gt;&gt; [3] http://tools.ietf.org/html/rfc5988#sec=\r\ntion-5\n&gt;&gt;&gt;\n&gt;&gt;&gt; mca\n&gt;&gt;&gt; http://amundsen.com/blog/\n&gt;&gt;&gt; http://twitter.com@mam=\r\nund\n&gt;&gt;&gt; http://mamund.com/foaf.rdf#me\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt; #RESTFest 2010\n&gt;&gt;&gt; http:/=\r\n/rest-fest.googlecode.com\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;\n&gt;&gt; Great answer!\n&gt;&gt;\n&gt;&gt; Andrew\n&gt;&gt;\n&gt;\n&gt; M=\r\naybe not:\n&gt;\n&gt; http://lists.w3.org/Archives/Public/public-html/2009Oct/0658.=\r\nhtml\n&gt;\n&gt; &quot;The purpose of conneg is to remove such explicit type indications=\r\n\n&gt; from the distributed content (HTML) so that such coupling of\n&gt; standards=\r\n would not be embedded in the web for eternity. =A0The rel\n&gt; attribute shou=\r\nld be used to state the purpose of a generic link\n&gt; so that the user agent =\r\ncan adjust its acceptance criteria\n&gt; according to that purpose, not accordi=\r\nng to some specific\n&gt; media format. =A0Existing formats are revised or repl=\r\naced by\n&gt; alternative formats far more often than the relation semantics\n&gt; =\r\n(and names) change, and giving the user agent the flexibility\n&gt; to support =\r\nnew media types without changing existing content\n&gt; is critical to enabling=\r\n deployment of new types.&quot;\n&gt;\n&gt;\n&gt; Cheers,\n&gt; Mike\n&gt;\n\nAs Mike and Nathan have =\r\nboth said: using the type attribute to drive\nthe values of the Accept heade=\r\nr and using it to help guide the\nselection of links are quite different and=\r\n I interpreted Roy&#39;s\ncomments to be about the former.\n\nBut for me the most =\r\nimportant point is that when returning a 300\nresponse, the server is saying=\r\n that content negotiation can&#39;t be done\nand the client has to chose for its=\r\nelf. This could be because the\nAccept header values were not specific enoug=\r\nh or some server-related\nissue. Once you&#39;ve got to the point where you are =\r\nreturning 300 you\nhave to provide the client with a set of options -- the e=\r\nxpected media\ntype for each option is a reasonable thing to specify. You ca=\r\nn&#39;t\nexpect the next step to rely on content negotiation or it would have\nwo=\r\nrked on the first request.\ni.e. GET /foo resulting in a 300 response listin=\r\ng only /foo as an\noption (and expecting conneg to work on the 2nd try) isn&#39;=\r\nt going to go\nanywhere.\n\nRegards,\n\nAndrew\n\n"}}
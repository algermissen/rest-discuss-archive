{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":248248154,"authorName":"Bruno Harbulot","from":"Bruno Harbulot &lt;Bruno.Harbulot@...&gt;","profile":"bruno_harbulot","replyTo":"SENDER","senderId":"tBCXeyRGxmq0GZbt0ChdTSIhLBy2HeHeMFMZY55Y6jhewAqAV4jo_4lYlWaxjABFTNF_2MsosBmdC04dCF1j3geAc9znxtEIaL7dJHTP4v1EnNIIPDgn","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: HTTP Digest Auth Dialog","postDate":"1266858544","msgId":14856,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDRCODJCQTMwLjYwMjA2QG1hbmNoZXN0ZXIuYWMudWs+","inReplyToHeader":"PGhsbjY1bitrOWQ4QGVHcm91cHMuY29tPg==","referencesHeader":"PGhsbjY1bitrOWQ4QGVHcm91cHMuY29tPg=="},"prevInTopic":14835,"nextInTopic":14915,"prevInTime":14855,"nextInTime":14857,"topicId":14824,"numMessagesInTopic":7,"msgSnippet":"Hello, ... Are you trying to access the protected resource directly first? I suppose in this case, it will return a 401 status with a WWW-Authenticate header","rawEmail":"Return-Path: &lt;Bruno.Harbulot@...&gt;\r\nX-Sender: Bruno.Harbulot@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 15905 invoked from network); 22 Feb 2010 17:21:34 -0000\r\nX-Received: from unknown (66.196.94.105)\n  by m11.grp.re1.yahoo.com with QMQP; 22 Feb 2010 17:21:34 -0000\r\nX-Received: from unknown (HELO lo.gmane.org) (80.91.229.12)\n  by mta1.grp.re1.yahoo.com with SMTP; 22 Feb 2010 17:21:33 -0000\r\nX-Received: from list by lo.gmane.org with local (Exim 4.69)\n\t(envelope-from &lt;Bruno.Harbulot@...&gt;)\n\tid 1NjbmU-0003ui-Ts\n\tfor rest-discuss@yahoogroups.com; Mon, 22 Feb 2010 18:09:14 +0100\r\nX-Received: from rain.gmane.org ([80.91.229.7])\n        by main.gmane.org with esmtp (Gmexim 0.1 (Debian))\n        id 1AlnuQ-0007hv-00\n        for &lt;rest-discuss@yahoogroups.com&gt;; Mon, 22 Feb 2010 18:09:14 +0100\r\nX-Received: from Bruno.Harbulot by rain.gmane.org with local (Gmexim 0.1 (Debian))\n        id 1AlnuQ-0007hv-00\n        for &lt;rest-discuss@yahoogroups.com&gt;; Mon, 22 Feb 2010 18:09:14 +0100\r\nX-Injected-Via-Gmane: http://gmane.org/\r\nTo: rest-discuss@yahoogroups.com\r\nDate: Mon, 22 Feb 2010 17:09:04 +0000\r\nLines: 82\r\nMessage-ID: &lt;4B82BA30.60206@...&gt;\r\nReferences: &lt;hln65n+k9d8@...&gt;\r\nMime-Version: 1.0\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-Complaints-To: usenet@...\r\nX-Gmane-NNTP-Posting-Host: rain.gmane.org\r\nUser-Agent: Thunderbird 2.0.0.23 (X11/20090817)\r\nIn-Reply-To: &lt;hln65n+k9d8@...&gt;\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Bruno Harbulot &lt;Bruno.Harbulot@...&gt;\r\nSubject: Re: HTTP Digest Auth Dialog\r\nX-Yahoo-Group-Post: member; u=248248154; y=4Xcw394oDl4bzuhNwaM7vHJSxUgjJX5wvAWVjiTCLcxWuxafmRIDjv8\r\nX-Yahoo-Profile: bruno_harbulot\r\n\r\nHello,\n\nAlan Dean wrote:\n&gt; \n&gt; Quite some time ago I wrote a little sample app, based mostly on an \n&gt; article by Paul James [1] which was a simple digest auth implementation. \n&gt; Now perhaps my memory has gone soggy, but I&#39;m sure that there was a \n&gt; workaround to avoid the annoying pop-up dialog being displayed \n&gt; (something like you had to make sure that the response length was at \n&gt; least 420 characters).\n&gt; \n&gt; Well, I just ran the sample again and for the life of me I can&#39;t \n&gt; suppress the dialog (in order to replace it with something prettier that \n&gt; uses AJAX to carry out the actual auth handshake). Has there been fix \n&gt; work done on recent browser versions to stop this end-around? If so (or \n&gt; even if not, for that matter) does anyone have a way of doing it?\n&gt; \n&gt; Thanks,\n&gt; Alan\n&gt; \n&gt; [1] http://www.peej.co.uk/articles/http-auth-with-html-forms.html \n&gt; &lt;http://www.peej.co.uk/articles/http-auth-with-html-forms.html&gt;\n\nAre you trying to access the protected resource directly first? I \nsuppose in this case, it will return a 401 status with a \nWWW-Authenticate header (basic or digest) which will trigger the browser \npopup anyway, unless the initial request with made with XMLHttpRequest \nAND with username/password (at least according to the draft spec [1], \ndepending on its implementation status).\n\n\nThere&#39;s a point about this trick I&#39;m not clear about: how to get the \nAJAX request to use Digest and not Basic auth?\n\nThe XMLHttpRequest draft spec is silent on this issue. If the \nauthentication is pre-emptive (that is, if it&#39;s sent with the first \nrequest, not as a response to a 401/WWW-Authenticate challenge), which \none is it meant to choose? It looks like it&#39;s Basic by default.\n\nI guess a workaround for this would be to make two requests:\n  C -&gt; S: Request with something like like Basic null:null (like the \nlogout function in Paul James&#39;s example service [2])\n  S -&gt; C: 401 with WWW-Authenticate Digest\n  C -&gt; S: another Ajax request with username:password, assuming that the \nbrowser&#39;s mechanism has retained the digest parameters sent by the \nprevious response.\n\nI can&#39;t really see how it&#39;s possible without an initial dummy request. \nYou could try by sending the Authorization header via XHR manually, but \n(a) your server would need to support pre-emtive Digest authentication \nand (b) that username/password would need to integrate with the \nbrowser&#39;s Digest auth mechanism for subsequent requests.\nI reckon the only way of doing (b) is to let the browser know the \nusername and password the user typed in (perhaps via XHR, but again, XHR \ndoesn&#39;t seem to let you specify Basic or Digest, pre-emptively at least).\n\n\n\n(As a side-note, Paul James&#39;s example service returns a 401 status code \nwithout a WWW-Authenticate header when replying to a &quot;logout&quot; (via \nnull:null) request, which isn&#39;t compliant with the HTTP spec; I guess \nit&#39;s just a small bug, since in principle, doing so shouldn&#39;t trigger a \nnew popup box.)\n\n\n\nBest wishes,\n\nBruno.\n\n\n\n[1] http://www.w3.org/TR/XMLHttpRequest/#the-send-method\n[2] http://www.peej.co.uk/sandbox/htmlhttpauth/index.html\n\n\n\n\n\n\n\n\n\n\n"}}
{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":199324805,"authorName":"Guilherme Silveira","from":"Guilherme Silveira &lt;guilherme.silveira@...&gt;","profile":"guilherme_azevedo_silveira","replyTo":"SENDER","senderId":"exrp_kUb6LFOkgr9YTHJDISSQfnFtkOwn03a6EqD9cBFUzO9pgUTX8ffXtHdVHC7UR8abAJ470heNluEuSGrmrrnWqj9UJOXO4vD21Mf7SaZZ3vdn7BtJqC9a-I","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [rest-discuss] A different approach to supporting transactions \tover HTTP","postDate":"1262782858","msgId":14443,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDU4MWJmNjE2MTAwMTA2MDUwMGkxMWUwOGY0Y3IyNzUyM2E0NGI3ODc1MzZAbWFpbC5nbWFpbC5jb20+","inReplyToHeader":"PDM0M2VjYjNlMTAwMTA2MDQ0NXE3Yzk3YjU0NWtjNTFiMmYwMjY2OTgwYzIzQG1haWwuZ21haWwuY29tPg==","referencesHeader":"PGI1NDhkZjY1MTAwMTA1MTkyMXMzMzBiZjE1Y3I5YjE0YmVhYTJmYjgwNmRhQG1haWwuZ21haWwuY29tPiAJPDM0M2VjYjNlMTAwMTA2MDQ0NXE3Yzk3YjU0NWtjNTFiMmYwMjY2OTgwYzIzQG1haWwuZ21haWwuY29tPg=="},"prevInTopic":14441,"nextInTopic":14444,"prevInTime":14442,"nextInTime":14444,"topicId":14439,"numMessagesInTopic":17,"msgSnippet":"... (provisional) followed by an order (final). ... commit pattern, altho it does not obey all the ACID rules (which are impossible to follow RESTfully). I","rawEmail":"Return-Path: &lt;guilherme.silveira@...&gt;\r\nX-Sender: guilherme.silveira@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 50960 invoked from network); 6 Jan 2010 13:01:18 -0000\r\nX-Received: from unknown (98.137.34.44)\n  by m1.grp.sp2.yahoo.com with QMQP; 6 Jan 2010 13:01:18 -0000\r\nX-Received: from unknown (HELO mail-pw0-f42.google.com) (209.85.160.42)\n  by mta1.grp.sp2.yahoo.com with SMTP; 6 Jan 2010 13:01:18 -0000\r\nX-Received: by mail-pw0-f42.google.com with SMTP id 9so11116838pwj.21\n        for &lt;rest-discuss@yahoogroups.com&gt;; Wed, 06 Jan 2010 05:01:18 -0800 (PST)\r\nMIME-Version: 1.0\r\nX-Received: by 10.114.86.5 with SMTP id j5mr1615643wab.0.1262782878084; Wed, 06 \n\tJan 2010 05:01:18 -0800 (PST)\r\nIn-Reply-To: &lt;343ecb3e1001060445q7c97b545kc51b2f0266980c23@...&gt;\r\nReferences: &lt;b548df651001051921s330bf15cr9b14beaa2fb806da@...&gt; \n\t&lt;343ecb3e1001060445q7c97b545kc51b2f0266980c23@...&gt;\r\nDate: Wed, 6 Jan 2010 11:00:58 -0200\r\nX-Google-Sender-Auth: e44873bacf8ffc89\r\nMessage-ID: &lt;581bf6161001060500i11e08f4cr27523a44b787536@...&gt;\r\nTo: Bob Haugen &lt;bob.haugen@...&gt;\r\nCc: mike amundsen &lt;mamund@...&gt;, rest-discuss &lt;rest-discuss@yahoogroups.com&gt;\r\nContent-Type: multipart/alternative; boundary=00504502e13be06d95047c7e8c89\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Guilherme Silveira &lt;guilherme.silveira@...&gt;\r\nSubject: Re: [rest-discuss] A different approach to supporting transactions \n\tover HTTP\r\nX-Yahoo-Group-Post: member; u=199324805; y=rAdF-Ukgws-FbIqkVKKu37x9JBFnNlVxA_RE0f2_DWrT5nMcxS5OeCQ4fYKE1w5YEv1pdbQ\r\nX-Yahoo-Profile: guilherme_azevedo_silveira\r\n\r\n\r\n--00504502e13be06d95047c7e8c89\r\nContent-Type: text/plain; charset=windows-1252\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\n&gt; An example in regular business practice is a request for quotation\n(provi=\r\nsional) followed by an order (final).\n&gt; You may think that is not a transac=\r\ntion, but it follows a 2-phase\ncommit pattern, altho it does not obey all t=\r\nhe ACID rules (which are\nimpossible to follow RESTfully).\n\nI agree. My only=\r\n doubt so far is that in this case the client should be fat\nenough to know =\r\nhow to deal with situations where it breaks between the first\nand second st=\r\nep working with two resources.\n\ni.e. the user wants to buy a set of product=\r\ns, which was broken by the client\napp in two subsets, each one to be bought=\r\n in two different suppliers. Both\nrequest for quotations were sent successf=\r\nully, one order is also fine, but\nthe second order breaks due to out-of-sto=\r\nck issues (someone just bought\nit.... not acid). The client is now responsi=\r\nble for trying to cancel that\nfirst order.\n\nAny workarounds/suggestions?\n\n\n=\r\nGuilherme Silveira\nCaelum | Ensino e Inova=E7=E3o\nhttp://www.caelum.com.br/=\r\n\n\n\nOn Wed, Jan 6, 2010 at 10:45 AM, Bob Haugen &lt;bob.haugen@...&gt; wrote=\r\n:\n\n&gt;\n&gt;\n&gt; On Tue, Jan 5, 2010 at 9:21 PM, mike amundsen &lt;mamund@...&lt;ma=\r\nmund%40yahoo.com&gt;&gt;\n&gt; wrote:\n&gt; &gt; &lt;snip&gt;\n&gt; &gt; A better approach is to expose a=\r\nn HTTP-compliant transaction service\n&gt; &gt; interface (TSI) that takes advanta=\r\nge of the protocol&#39;s inherent\n&gt; &gt; architectural style. Transactions over HT=\r\nTP should be optional,\n&gt; &gt; discoverable, negotiable, based on optimistic co=\r\nmmits, and (in the\n&gt; &gt; case of failures) use compenstating requests as a wa=\r\ny to reverse\n&gt; &gt; previous work.\n&gt; &gt; &lt;/snip&gt;\n&gt;\n&gt; Compensation often does not=\r\n work. Think of an offer to buy. If it&#39;s\n&gt; optimistically committed, both b=\r\nuyer and seller may take followup\n&gt; actions that could be difficult or impo=\r\nssible to undo (e.g. starting\n&gt; production) if the offer is cancelled. Alte=\r\nrnatively, both parties\n&gt; may need to wait for some undeterminate timespan =\r\nto make sure a\n&gt; compensating request does not arrive.\n&gt;\n&gt; A better alterna=\r\ntive in many situations, which I&#39;ve described on this\n&gt; list before, is to =\r\nuse a provisional-final pattern, where the initial\n&gt; request is provisional=\r\n, and then both parties agree that it should be\n&gt; made final or cancelled. =\r\nAll these interactions can be done\n&gt; RESTfully.\n&gt;\n&gt; An example in regular b=\r\nusiness practice is a request for quotation\n&gt; (provisional) followed by an =\r\norder (final).\n&gt;\n&gt; You may think that is not a transaction, but it follows =\r\na 2-phase\n&gt; commit pattern, altho it does not obey all the ACID rules (whic=\r\nh are\n&gt; impossible to follow RESTfully).\n&gt;\n&gt;  \n&gt;\n\r\n--00504502e13be06d95047c7e8c89\r\nContent-Type: text/html; charset=windows-1252\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\n&gt; An example in regular business practice is a request for quotation&lt;br&gt;=\r\n(provisional) followed by an order (final).&lt;br&gt;&gt; You may think that is n=\r\not a transaction, but it follows a 2-phase&lt;br&gt;commit pattern, altho it does=\r\n not obey all the ACID rules (which are&lt;br&gt;\n\nimpossible to follow RESTfully=\r\n).&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I agree. My only doubt so far is that in this case th=\r\ne client should be fat enough to know how to deal with situations where it =\r\nbreaks between the first and second step working with two resources.&lt;/div&gt;\n=\r\n\n&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;i.e. the user wants to buy a set of products, which wa=\r\ns broken by the client app in two subsets, each one to be bought in two dif=\r\nferent suppliers. Both request for quotations were sent successfully, one o=\r\nrder is also fine, but the second order breaks due to out-of-stock issues (=\r\nsomeone just bought it.... not acid). The client is now responsible for try=\r\ning to cancel that first order.&lt;/div&gt;\n\n&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Any workarounds/=\r\nsuggestions?&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br clear=3D&quot;all&quot;&gt;Guilherme Silv=\r\neira&lt;br&gt;Caelum | Ensino e Inova=E7=E3o&lt;br&gt;&lt;a href=3D&quot;http://www.caelum.com.=\r\nbr/&quot;&gt;http://www.caelum.com.br/&lt;/a&gt;&lt;br&gt;\n&lt;br&gt;&lt;br&gt;&lt;div class=3D&quot;gmail_quote&quot;&gt;O=\r\nn Wed, Jan 6, 2010 at 10:45 AM, Bob Haugen &lt;span dir=3D&quot;ltr&quot;&gt;&lt;&lt;a href=3D=\r\n&quot;mailto:bob.haugen@...&quot;&gt;bob.haugen@...&lt;/a&gt;&gt;&lt;/span&gt; wrote:&lt;br=\r\n&gt;&lt;blockquote class=3D&quot;gmail_quote&quot; style=3D&quot;margin:0 0 0 .8ex;border-left:1=\r\npx #ccc solid;padding-left:1ex;&quot;&gt;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n&lt;div style=3D&quot;background-c=\r\nolor:#fff&quot;&gt;\n&lt;span&gt;=A0&lt;/span&gt;\n\n\n&lt;div&gt;\n  &lt;div&gt;\n\n\n    &lt;div&gt;\n      \n      \n    =\r\n  &lt;p&gt;&lt;/p&gt;&lt;div class=3D&quot;im&quot;&gt;On Tue, Jan 5, 2010 at 9:21 PM, mike amundsen &l=\r\nt;&lt;a href=3D&quot;mailto:mamund%40yahoo.com&quot; target=3D&quot;_blank&quot;&gt;mamund@...&lt;=\r\n/a&gt;&gt; wrote:&lt;br&gt;\n&gt; &lt;snip&gt;&lt;br&gt;\n&gt; A better approach is to expos=\r\ne an HTTP-compliant transaction service&lt;br&gt;\n&gt; interface (TSI) that takes=\r\n advantage of the protocol&#39;s inherent&lt;br&gt;\n&gt; architectural style. Tra=\r\nnsactions over HTTP should be optional,&lt;br&gt;\n&gt; discoverable, negotiable, =\r\nbased on optimistic commits, and (in the&lt;br&gt;\n&gt; case of failures) use com=\r\npenstating requests as a way to reverse&lt;br&gt;\n&gt; previous work.&lt;br&gt;\n&gt; &l=\r\nt;/snip&gt;&lt;br&gt;\n&lt;br&gt;&lt;/div&gt;\nCompensation often does not work.  Think of an o=\r\nffer to buy.  If it&#39;s&lt;br&gt;\noptimistically committed, both buyer and sell=\r\ner may take followup&lt;br&gt;\nactions that could be difficult or impossible to u=\r\nndo (e.g. starting&lt;br&gt;\nproduction) if the offer is cancelled.  Alternativel=\r\ny, both parties&lt;br&gt;\nmay need to wait for some undeterminate timespan to mak=\r\ne sure a&lt;br&gt;\ncompensating request does not arrive.&lt;br&gt;\n&lt;br&gt;\nA better altern=\r\native in many situations, which I&#39;ve described on this&lt;br&gt;\nlist before,=\r\n is to use a provisional-final pattern, where the initial&lt;br&gt;\nrequest is pr=\r\novisional, and then both parties agree that it should be&lt;br&gt;\nmade final or =\r\ncancelled.  All these interactions can be done&lt;br&gt;\nRESTfully.&lt;br&gt;\n&lt;br&gt;\nAn e=\r\nxample in regular business practice is a request for quotation&lt;br&gt;\n(provisi=\r\nonal) followed by an order (final).&lt;br&gt;\n&lt;br&gt;\nYou may think that is not a tr=\r\nansaction, but it follows a 2-phase&lt;br&gt;\ncommit pattern, altho it does not o=\r\nbey all the ACID rules (which are&lt;br&gt;\nimpossible to follow RESTfully).&lt;br&gt;\n=\r\n&lt;p&gt;&lt;/p&gt;\n\n    &lt;/div&gt;\n     \n\n    \n    &lt;div style=3D&quot;color:#fff;min-height:0&quot;&gt;=\r\n&lt;/div&gt;\n\n\n&lt;/div&gt;\n\n\n\n  \n\n\n\n\n\n\n&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;\n\r\n--00504502e13be06d95047c7e8c89--\r\n\n"}}
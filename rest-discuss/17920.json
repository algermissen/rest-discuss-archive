{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":364579677,"authorName":"Mike Kelly","from":"Mike Kelly &lt;mike@...&gt;","profile":"pleb1985","replyTo":"SENDER","senderId":"f_3d5_ueRD-eYpWjienNn7pL7Wx25LbpZHr13p-mbiokmmun2oVrPCJ6yn3C3j5pUvC4knTLVN9K-yyyTHPj9UI64mG2UQ","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [rest-discuss] Right way to represent hierarchical relationship between resources","postDate":"1319725549","msgId":17920,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PENBTnFpWkphSzhlTHlkdjIzSHJMd1JlSnRMMkVZcVBFVW9ocHhDK0c9dnFCM0s0V0NIUUBtYWlsLmdtYWlsLmNvbT4=","inReplyToHeader":"PDRDRjE0RkEyLUFGQjEtNDM1OS1CQUEwLUEyQzAwQzc4NjZGQkBqYXNvbmVyaWNrc29uLmNvbT4=","referencesHeader":"PGo4OGtvaStkM2UxQGVHcm91cHMuY29tPgk8Q0FGUFJtMG9hSjFPbTBUelRXVlJlUXUtZTd1WU5jZC00WEttK1JFOUJRclF1SHI9VE5nQG1haWwuZ21haWwuY29tPgk8ODdFRUUzOUEtMzg5My00RTM0LUJCMTYtRkFGOTMwNTI3Qzg1QGphc29uZXJpY2tzb24uY29tPgk8Q0FEYkdaamFmV3p4MXlXX2hnUFdMVW9xcVQ2b2F6UkNfNXBpdVArViszeFBjV094dThnQG1haWwuZ21haWwuY29tPgk8NENGMTRGQTItQUZCMS00MzU5LUJBQTAtQTJDMDBDNzg2NkZCQGphc29uZXJpY2tzb24uY29tPg=="},"prevInTopic":17918,"nextInTopic":17921,"prevInTime":17919,"nextInTime":17921,"topicId":17907,"numMessagesInTopic":17,"msgSnippet":"Yes you can do this. Mark and I published a draft of a mechanism (LCI) which solves this exact problem: ","rawEmail":"Return-Path: &lt;mike@...&gt;\r\nX-Sender: mike@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 37950 invoked from network); 27 Oct 2011 14:26:08 -0000\r\nX-Received: from unknown (98.137.35.160)\n  by m3.grp.sp2.yahoo.com with QMQP; 27 Oct 2011 14:26:08 -0000\r\nX-Received: from unknown (HELO moutng.kundenserver.de) (212.227.17.9)\n  by mta4.grp.sp2.yahoo.com with SMTP; 27 Oct 2011 14:26:07 -0000\r\nX-Received: from mail-wy0-f172.google.com (mail-wy0-f172.google.com [74.125.82.172])\n\tby mrelayeu.kundenserver.de (node=mreu1) with ESMTP (Nemesis)\n\tid 0M6AQg-1R4f8p3dM2-00xapD; Thu, 27 Oct 2011 16:25:50 +0200\r\nX-Received: by wyh22 with SMTP id 22so4648512wyh.17\n        for &lt;rest-discuss@yahoogroups.com&gt;; Thu, 27 Oct 2011 07:25:49 -0700 (PDT)\r\nMIME-Version: 1.0\r\nX-Received: by 10.227.203.198 with SMTP id fj6mr16742218wbb.24.1319725549154;\n Thu, 27 Oct 2011 07:25:49 -0700 (PDT)\r\nX-Received: by 10.180.105.72 with HTTP; Thu, 27 Oct 2011 07:25:49 -0700 (PDT)\r\nIn-Reply-To: &lt;4CF14FA2-AFB1-4359-BAA0-A2C00C7866FB@...&gt;\r\nReferences: &lt;j88koi+d3e1@...&gt;\n\t&lt;CAFPRm0oaJ1Om0TzTWVReQu-e7uYNcd-4XKm+RE9BQrQuHr=TNg@...&gt;\n\t&lt;87EEE39A-3893-4E34-BB16-FAF930527C85@...&gt;\n\t&lt;CADbGZjafWzx1yW_hgPWLUoqqT6oazRC_5piuP+V+3xPcWOxu8g@...&gt;\n\t&lt;4CF14FA2-AFB1-4359-BAA0-A2C00C7866FB@...&gt;\r\nDate: Thu, 27 Oct 2011 15:25:49 +0100\r\nMessage-ID: &lt;CANqiZJaK8eLydv23HrLwReJtL2EYqPEUohpxC+G=vqB3K4WCHQ@...&gt;\r\nTo: rest-discuss &lt;rest-discuss@yahoogroups.com&gt;\r\nContent-Type: multipart/alternative; boundary=0015173ff4468ef24804b0488c0f\r\nX-Provags-ID: V02:K0:vd/hFQdaXzvea/1h9a8EZRmGak/0bd7Kx1MfFsAFNbr\n UFHJSQ67SPVIfSO7tFJBFWSJzW94tPHYcSuhYdlw0w5ivL0j5v\n gpPnqlHIQyQqW7XZ7VFs2Pb3ZtvvOD7c1em5qzXS1T/4vRxwTl\n Viw4WIz/hR17/TvBFa6L6P0A52vcrgLmWteajFOLc58hfFQP73\n q/xlB8jQre0l6EQ2Un5VkeSysrUFhuw/j4ain3+JM44KrR451Q\n 15SAic4xjBfX0+MocOF0iLxqEEKMv8uQAFbrpkIvWbaBIUCuwX\n 6OSFXk0muB5Dek/8//4T0OSmBj0PKEYfpeh9qj2dk169Cc9Kxk\n Sbq2QS/ypOCKYP5FlS75KLf2S5QntbETbI0TtlV8uKhaYLth+7\n zPN5i+G6EA1O9INmTDalLDbbTqGMrMXCZJmG6NVrje2SbMqEj2\n WN0Pm\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Mike Kelly &lt;mike@...&gt;\r\nSubject: Re: [rest-discuss] Right way to represent hierarchical relationship\n between resources\r\nX-Yahoo-Group-Post: member; u=364579677; y=rVDvf5NsAAs2rSqAJgusRsByT4FZ16lLh4qmJRJxI0PHrks\r\nX-Yahoo-Profile: pleb1985\r\n\r\n\r\n--0015173ff4468ef24804b0488c0f\r\nContent-Type: text/plain; charset=ISO-8859-1\r\n\r\nYes you can do this.\n\nMark and I published a draft of a mechanism (LCI) which solves this exact\nproblem:\n\nhttp://tools.ietf.org/html/draft-nottingham-linked-cache-inv-00\n\nHere&#39;s a blog post outlining how it works:\n\nhttp://restafari.blogspot.com/2010/04/link-header-based-invalidation-of.html\n\nCheers,\nMike\n\nOn Wed, Oct 26, 2011 at 11:41 PM, Jason Erickson &lt;jason@...&gt;wrote:\n\n&gt;\n&gt;\n&gt; Thanks, that clears things up quite a bit for me and also shows that URL\n&gt; structure indeed does not matter.  So if I *wanted* the behavior of\n&gt; invalidating sub-resources, there&#39;s no way to do it in a guaranteed way and\n&gt; the only way to do it at all would be to ask the client (in documentation)\n&gt; to explicitly revalidate sub-resources.\n&gt;\n&gt; Is there any way to tell a client in a response to invalidate any\n&gt; resources? (For example, I PUT to /articles/1 and I&#39;d like to say in the\n&gt; response that the cached version of /articles/ and /articles/1/comments are\n&gt; not fresh.)\n&gt;\n&gt; On Oct 26, 2011, at 12:13 PM, Erik Mogensen wrote:\n&gt;\n&gt;\n&gt;\n&gt; On Wed, Oct 26, 2011 at 8:10 PM, Jason Erickson &lt;jason@...&gt;wrote:\n&gt;\n&gt;&gt; I keep hearing that the way you structure you URL&#39;s doesn&#39;t really matter\n&gt;&gt; in REST, but doesn&#39;t it affect caching?  I could definitely be wrong about\n&gt;&gt; this, if anyone would set me straight I would appreciate it.\n&gt;&gt;\n&gt; [...]\n&gt;\n&gt;&gt; ** POST /articles/ will invalidate the cache for /articles, /articles/1,\n&gt;&gt; /articles/1/comments and /articles/1/comments/2\n&gt;&gt;\n&gt; [...]\n&gt;\n&gt;&gt; First, is this supposed to be how things work (i.e. some kind of spec)?\n&gt;&gt;\n&gt;\n&gt; POST invalidating a resource [1] does not imply invalidating a &quot;sub&quot;\n&gt; resource (in the hierarchical sense of the URI Generic Syntax [2]).  a POST\n&gt; invalidates the URI itself, perhaps a Location or Content-Location, but only\n&gt; identifiable resources.  Imagine POSTing to the root resource (&quot;/&quot;) of any\n&gt; server, automatically invalidating all caches.  Crazy :-)\n&gt;\n&gt; URI Generic Syntax specifies that URIs use a hierarchical syntax, and that\n&gt; URIs have a hierarchical portion (path component) and a non-hierarchical\n&gt; part (query component), but URIs the primary role of an URI is to identify a\n&gt; resource.\n&gt;\n&gt; If you have a resource that is a logical hierarchy, it&#39;s tempting to re-use\n&gt; the hierarchy in the URI path component.  I would ask you if you&#39;re pretty\n&gt; sure that, three years from now, or ten years from now, your resources are\n&gt; still in the same hierarchy.\n&gt;\n&gt; Second, whether there is a spec or not, is it actually how things work in\n&gt;&gt; proxies? (I know local browser caches or iPhone cache doesn&#39;t doesn&#39;t really\n&gt;&gt; work that way.)\n&gt;&gt;\n&gt;\n&gt; I&#39;m pretty sure proxies don&#39;t do this either.\n&gt;\n&gt; [1] http://www.w3.org/Protocols/rfc2616/rfc2616-sec13.html#sec13.10\n&gt; [2] http://tools.ietf.org/html/rfc3986#section-1.2.3\n&gt; --\n&gt; -mogsie-\n&gt;\n&gt;\n&gt;\n&gt;\n&gt; \n&gt;\n\r\n--0015173ff4468ef24804b0488c0f\r\nContent-Type: text/html; charset=ISO-8859-1\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\n&lt;span class=3D&quot;Apple-style-span&quot; style=3D&quot;color: rgb(34, 34, 34); font-fami=\r\nly: arial, sans-serif; font-size: 13px; background-color: rgb(255, 255, 255=\r\n); &quot;&gt;&lt;div&gt;Yes you can do this.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Mark and I publishe=\r\nd a draft of a mechanism (LCI) which solves this exact problem:&lt;/div&gt;\n&lt;div&gt;=\r\n&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;a href=3D&quot;http://tools.ietf.org/html/draft-nottingham-linke=\r\nd-cache-inv-00&quot; target=3D&quot;_blank&quot; style=3D&quot;color: rgb(17, 85, 204); &quot;&gt;http:=\r\n//tools.ietf.org/html/draft-nottingham-linked-cache-inv-00&lt;/a&gt;&lt;/div&gt;&lt;div&gt;\n&lt;=\r\nbr&gt;&lt;/div&gt;&lt;div&gt;Here&#39;s a blog post outlining how it works:&lt;/div&gt;&lt;div&gt;&lt;br&gt;=\r\n&lt;/div&gt;&lt;div&gt;&lt;a href=3D&quot;http://restafari.blogspot.com/2010/04/link-header-bas=\r\ned-invalidation-of.html&quot; target=3D&quot;_blank&quot; style=3D&quot;color: rgb(17, 85, 204)=\r\n; &quot;&gt;http://restafari.blogspot.com/2010/04/link-header-based-invalidation-of=\r\n.html&lt;/a&gt;&lt;/div&gt;\n&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Cheers,&lt;/div&gt;&lt;div&gt;Mike&lt;/div&gt;&lt;/span&gt;&lt;br&gt;=\r\n&lt;div class=3D&quot;gmail_quote&quot;&gt;On Wed, Oct 26, 2011 at 11:41 PM, Jason Erickson=\r\n &lt;span dir=3D&quot;ltr&quot;&gt;&lt;&lt;a href=3D&quot;mailto:jason@...&quot;&gt;jason@jas=\r\nonerickson.com&lt;/a&gt;&gt;&lt;/span&gt; wrote:&lt;br&gt;\n&lt;blockquote class=3D&quot;gmail_quote&quot; =\r\nstyle=3D&quot;margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex;&quot;&gt;\n\n=\r\n\n\n\n\n\n        \n&lt;div style=3D&quot;word-wrap:break-word&quot;&gt;\n\n\n\n\n&lt;br&gt;&lt;br&gt;\n\n\n\n\nThanks,=\r\n that clears things up quite a bit for me and also shows that URL structure=\r\n indeed does not matter. =A0So if I &lt;i&gt;wanted&lt;/i&gt;=A0the behavior of invalid=\r\nating sub-resources, there&#39;s no way to do it in a guaranteed way and th=\r\ne only way to do it at all would be to ask the client (in documentation) to=\r\n explicitly revalidate sub-resources. =A0&lt;div&gt;\n&lt;br&gt;&lt;/div&gt;&lt;div&gt;Is there any =\r\nway to tell a client in a response to invalidate any resources? (For exampl=\r\ne, I PUT to /articles/1 and I&#39;d like to say in the response that the ca=\r\nched version of /articles/ and /articles/1/comments are not fresh.)&lt;/div&gt;\n&lt;=\r\ndiv&gt;&lt;div&gt;&lt;/div&gt;&lt;div class=3D&quot;h5&quot;&gt;&lt;div&gt;&lt;br&gt;&lt;div&gt;&lt;div&gt;On Oct 26, 2011, at 12:=\r\n13 PM, Erik Mogensen wrote:&lt;/div&gt;&lt;br&gt;&lt;blockquote type=3D&quot;cite&quot;&gt;\n\n\n\n\n\n\n\n\n\n\n\n=\r\n\n\n&lt;div style=3D&quot;background-color:#fff&quot;&gt;\n&lt;span&gt;=A0&lt;/span&gt;\n\n\n\n    &lt;div&gt;&lt;p&gt;On =\r\nWed, Oct 26, 2011 at 8:10 PM, Jason Erickson &lt;span dir=3D&quot;ltr&quot;&gt;&lt;&lt;a href=\r\n=3D&quot;mailto:jason@...&quot; target=3D&quot;_blank&quot;&gt;jason@jasonerickson.c=\r\nom&lt;/a&gt;&gt;&lt;/span&gt; wrote:&lt;br&gt;&lt;/p&gt;&lt;div class=3D&quot;gmail_quote&quot;&gt;&lt;blockquote clas=\r\ns=3D&quot;gmail_quote&quot; style=3D&quot;border-left:1px #ccc solid&quot;&gt;\n\n\nI keep hearing th=\r\nat the way you structure you URL&#39;s doesn&#39;t really matter in REST, b=\r\nut doesn&#39;t it affect caching? =A0I could definitely be wrong about this=\r\n, if anyone would set me straight I would appreciate it.&lt;br&gt;\n\n\n&lt;/blockquote=\r\n&gt;&lt;div&gt;[...]=A0&lt;/div&gt;&lt;blockquote class=3D&quot;gmail_quote&quot; style=3D&quot;border-left:=\r\n1px #ccc solid&quot;&gt;** POST /articles/ will invalidate the cache for /articles,=\r\n /articles/1, /articles/1/comments and /articles/1/comments/2&lt;br&gt;\n\n\n&lt;/block=\r\nquote&gt;&lt;div&gt;[...]=A0&lt;/div&gt;&lt;blockquote class=3D&quot;gmail_quote&quot; style=3D&quot;border-=\r\nleft:1px #ccc solid&quot;&gt;First, is this supposed to be how things work (i.e. so=\r\nme kind of spec)?&lt;br&gt;&lt;/blockquote&gt;\n\n&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;POST invalidating a=\r\n resource [1] does not imply invalidating a &quot;sub&quot; resource (in th=\r\ne hierarchical sense of the URI Generic Syntax [2]). =A0a POST invalidates =\r\nthe URI itself, perhaps a Location or Content-Location, but only identifiab=\r\nle resources. =A0Imagine POSTing to the root resource (&quot;/&quot;) of an=\r\ny server, automatically invalidating all caches. =A0Crazy :-)&lt;/div&gt;\n\n\n&lt;div&gt;=\r\n&lt;br&gt;&lt;/div&gt;&lt;div&gt;URI Generic Syntax specifies that URIs use a hierarchical sy=\r\nntax, and that URIs have a hierarchical portion (path component) and a non-=\r\nhierarchical part (query component), but URIs the primary role of an URI is=\r\n to identify a resource.&lt;/div&gt;\n\n\n&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;If you have a resource=\r\n that is a logical hierarchy, it&#39;s tempting to re-use the hierarchy in =\r\nthe URI path component. =A0I would ask you if you&#39;re pretty sure that, =\r\nthree years from now, or ten years from now, your resources are still in th=\r\ne same hierarchy.&lt;/div&gt;\n\n\n&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;blockquote class=3D&quot;gmail_quote&quot; =\r\nstyle=3D&quot;border-left:1px #ccc solid&quot;&gt;Second, whether there is a spec or not=\r\n, is it actually how things work in proxies? (I know local browser caches o=\r\nr iPhone cache doesn&#39;t doesn&#39;t really work that way.)&lt;br&gt;\n\n\n&lt;/block=\r\nquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&#39;m pretty sure proxies don&#39;t do this eit=\r\nher.=A0&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;[1]=A0&lt;a href=3D&quot;http://www.w3.org/Protoco=\r\nls/rfc2616/rfc2616-sec13.html#sec13.10&quot; target=3D&quot;_blank&quot;&gt;http://www.w3.org=\r\n/Protocols/rfc2616/rfc2616-sec13.html#sec13.10&lt;/a&gt;&lt;/div&gt;\n\n\n&lt;div&gt;[2]=A0&lt;a hr=\r\nef=3D&quot;http://tools.ietf.org/html/rfc3986#section-1.2.3&quot; target=3D&quot;_blank&quot;&gt;h=\r\nttp://tools.ietf.org/html/rfc3986#section-1.2.3&lt;/a&gt;&lt;/div&gt;&lt;div&gt;--=A0&lt;/div&gt;&lt;/=\r\ndiv&gt;-mogsie-&lt;br&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;\n\n    &lt;/div&gt;\n     \n\n    \n\n&lt;/div&gt;\n\n\n\n\n\n&lt;/bloc=\r\nkquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;\n\n\n\n\n\n&lt;br&gt;\n\n    \n    \n&lt;br&gt;\n\n\n\n\n&lt;div width=3D&quot;1&quot; styl=\r\ne=3D&quot;color:white;clear:both&quot;&gt;&lt;/div&gt;\n&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;\n\r\n--0015173ff4468ef24804b0488c0f--\r\n\n"}}
{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":80827773,"authorName":"Seairth Jacobs","from":"&quot;Seairth Jacobs&quot; &lt;seairth@...&gt;","profile":"seairthjacobs","replyTo":"SENDER","senderId":"oITAuD39olrY70CBEXMX5VTi28vVWxPLownbtnzXpO2d1GKBnvwqctWrDh_BezEAy69daHgsN-YLgWnLt72Uaq5XiNaUEe6vpwEUP3s","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Anyone interested? (long)","postDate":"1048738660","msgId":3495,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDAwMGQwMWMyZjQxNyRjZTliZDcyMCRhODAwYThjMEBTZWFpcnRoQTMxPg=="},"prevInTopic":0,"nextInTopic":3496,"prevInTime":3494,"nextInTime":3496,"topicId":3495,"numMessagesInTopic":5,"msgSnippet":"I have been kicking around the idea of creating a simple, distributed, message system using REST practices.  I know that there are some such things out there","rawEmail":"Return-Path: &lt;seairth@...&gt;\r\nX-Sender: seairth@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nReceived: (EGP: mail-8_2_6_5); 27 Mar 2003 04:17:48 -0000\r\nReceived: (qmail 90660 invoked from network); 27 Mar 2003 04:17:40 -0000\r\nReceived: from unknown (66.218.66.216)\n  by m9.grp.scd.yahoo.com with QMQP; 27 Mar 2003 04:17:40 -0000\r\nReceived: from unknown (HELO lakemtao03.cox.net) (68.1.17.242)\n  by mta1.grp.scd.yahoo.com with SMTP; 27 Mar 2003 04:17:43 -0000\r\nReceived: from SeairthA31 ([68.96.198.92]) by lakemtao03.cox.net\n          (InterMail vM.5.01.04.05 201-253-122-122-105-20011231) with SMTP\n          id &lt;20030327041741.CUKP1354.lakemtao03.cox.net@SeairthA31&gt;\n          for &lt;rest-discuss@yahoogroups.com&gt;;\n          Wed, 26 Mar 2003 23:17:41 -0500\r\nMessage-ID: &lt;000d01c2f417$ce9bd720$a800a8c0@SeairthA31&gt;\r\nTo: &quot;rest-discuss&quot; &lt;rest-discuss@yahoogroups.com&gt;\r\nSubject: Anyone interested? (long)\r\nDate: Wed, 26 Mar 2003 23:17:40 -0500\r\nMIME-Version: 1.0\r\nContent-Type: multipart/alternative;\n\tboundary=&quot;----=_NextPart_000_000A_01C2F3ED.E58BAC50&quot;\r\nX-Priority: 3\r\nX-MSMail-Priority: Normal\r\nX-Mailer: Microsoft Outlook Express 6.00.2800.1106\r\nX-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106\r\nFrom: &quot;Seairth Jacobs&quot; &lt;seairth@...&gt;\r\nX-Yahoo-Group-Post: member; u=80827773\r\nX-Yahoo-Profile: seairthjacobs\r\n\r\n\r\n------=_NextPart_000_000A_01C2F3ED.E58BAC50\r\nContent-Type: text/plain;\n\tcharset=&quot;iso-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\nI have been kicking around the idea of creating a simple, distributed, mess=\r\nage system using REST practices.  I know that there are some such things ou=\r\nt there already, but I am looking for extreme simplicity.  The fundamental =\r\ngoal is to see if I can replace my SMTP/POP3 application with something RES=\r\nTful.  It must be simple and easy to implement.  I expect to whip an initia=\r\nl version in PHP in a few evenings...\n\nAnd I&#39;m looking for a few good RESTi=\r\nfarians to join me.  For those of you who might be interested, read over th=\r\ne following initial noodlings of mine.  If I can build enough interest, I&#39;l=\r\nl see about setting up a dedicated YahooGroup or site or something.\n\n\nSuppo=\r\nse two parties want to send each other messages.  Each party has a URI that=\r\n identifies themselves.  This would be similar to an e-mail address.  For i=\r\nllustration purposes, the following URIs are used:\n\nhttp://example.invalid/=\r\nusers/seairth\nhttp://sample.invalid/members/bob\n\nNow, suppose I want to sen=\r\nd a message to bob.  I would take the following steps:\n\n1) Create a Message=\r\n on my server and assign a URI to it. (e.g. http://example.invalid/users/se=\r\nairth/msg/1234)\n2) Send a POST request to bob&#39;s URI.  The content-type coul=\r\nd be any number of formats, but I will use XML for readability sake:\n\n    &lt;=\r\nnotification&gt;\n        &lt;from uri=3D&quot;http://example.invalid/users/seairth&quot;\n  =\r\n            name=3D&quot;Seairth Jacobs&quot;/&gt;\n        &lt;message uri=3D&quot;http://exampl=\r\ne.invalid/users/seairth/msg/1234&quot;\n                 subject=3D&quot;Is this RESTf=\r\nul?&quot;\n                 reply-uri=3D&quot;http://example.invalid/users/seairth/msg=\r\n/1234&quot;/&gt;\n    &lt;/notification&gt;\n\n3) bob&#39;s server examines the notification and=\r\n accepts or rejects it.  Acceptance would be performed with a 202 (Accepted=\r\n) response, while rejection would happen with a 403 (Forbidden) response.  =\r\nIt would also be possible to return a 400 (Bad Request) if bob&#39;s server fai=\r\nled to understand the notification well enough to accept or reject it.\n\n4) =\r\nSuppose bob&#39;s server has accepted a URI from me.  Later, bob starts up his =\r\nclient and uses the URI to get the actual message.\n\nThat&#39;s it.  Done.\n\nNow =\r\nfor some additional details:\n\n-------------------\nIn the above notification=\r\n, the following is optional:\n\n* The &quot;name&quot; attribute of the from element: t=\r\nhe friendly name can be provided as an aid.  However, the only authoritativ=\r\ne attribute is &quot;uri&quot;.\n\n* The &quot;reply-uri&quot; attribute of the message element: =\r\nif not given, then the &quot;from&quot; element&#39;s &quot;uri&quot; attribute MUST be used for al=\r\nl replies to that message.  If given, then &quot;reply-uri&quot; MUST be used for all=\r\n replies to that message.\n\n-------------------\nAdditional notes:\n\n*   The v=\r\nalue of the &quot;reply-uri&quot; attribute does not need to match either the &quot;from&quot; =\r\nelement&#39;s &quot;uri&quot; attribute or the &quot;message&quot; element&#39;s &quot;uri&quot; attribute.  In t=\r\nhe above example reply-uri&quot; could have just as easily been &quot;http://example.=\r\ninvalid/users/seairth/reply/1234&quot;.  The purpose for a separate reply URI is=\r\n to allow chaining of messages (i.e. message threads).\n\n* While there is no=\r\n technical limit on any of the values, the recipient may reject a notificat=\r\nion if any value is longer than can be handled. This should be done with th=\r\ne 400 (Bad Request) response, not 403 (Forbidden).\n\n* In order to validate =\r\nthat the message URI was in fact sent by the from-URI, the recipient MAY su=\r\nbmit a specific POST message to the from-uri to validate it.  Further detai=\r\nls below.\n\n* The recipient MUST NOT access the resource until the notificat=\r\nion has been dealt with.  The sender MAY not provide access until the notif=\r\nication is accepted.\n\n* Acceptance of a notification does not mean that the=\r\n recipient will retrieve the message.  It only indicates that the recipient=\r\n acknowledged the request.\n\n* The subject is nothing more than a very short=\r\n (one-liner) excerpt to give the recipient an idea of what the message is a=\r\nbout.\n\n* The recipient may reject a notification due to a value given.  For=\r\n instance, if the &quot;from&quot; element&#39;s &quot;uri&quot; attribute value is being &quot;blocked&quot;=\r\n, the recipient may reject the notification outright.  Any such refusal MUS=\r\nT be done with the 403 (Forbidden) response.  The recipient may optionally =\r\nchoose to indicate in the response why the notification was rejected.\n\n* If=\r\n the notification is accepted, a 202 (Accepted) response MUST be used.  The=\r\n recipient may optionally choose to return an entity, but the sender is not=\r\n required to process any such entity.\n\n* Note that it would be possible to =\r\nsend messages of URIs that the sender did not create.  For instance, I coul=\r\nd have sent bob a link to an interesting CNN report or some such, as long a=\r\ns that thing has a URI.\n\n* Obviously, the message does not need to be HTML.=\r\n  It could be any sort of format.  If desired, the recipient can use HEAD o=\r\nn the resource to determine specifics.\n\n* Because the resource (when create=\r\nd by the sender) is always on the sender&#39;s server, additional features are =\r\navailable that are not available in traditional &quot;push&quot; style message system=\r\ns.  For instance, spelling mistakes can be corrected.  Messages can be dele=\r\nted before your boss discovers what you really think of him, etc.  Obviousl=\r\ny, once a recipient performs a GET on a resource, they have a copy... mista=\r\nkes and all.\n\n-------------------\nValidating Notifications:\n\nObviously, it =\r\nwould be possible from someone to submit a notification claiming to be some=\r\none they are not.  This is a common problem in SMTP, which is partly why sp=\r\nam is so wide-spread (no accountability).  However, this can be easily reme=\r\ndied by asking the supposed sender if they really did send the notification=\r\n.  For instance, suppose bob were to be suspicious of my notification. He w=\r\nould then take the following steps:\n\n1) Post to my URI the following (again=\r\n in XML for convenience):\n\n    &lt;notification-query&gt;\n        &lt;message uri=3D=\r\n&quot;http://example.invalid/users/seairth/msg/1234&quot;/&gt;\n        &lt;to uri=3D&quot;=3D&quot;ht=\r\ntp://sample.invalid/members/bob&quot; /&gt;\n    &lt;/notification-query&gt;\n\n2) My server=\r\n would either recognize the combination and return a 204 (No Content), or r=\r\neturned 400 (Bad Request) to indicate that it&#39;s not recognized.\n\n\nNote:  If=\r\n the message URI contains the from URI as its root (as in my original examp=\r\nle), the probability is pretty good that the sender really did create the m=\r\nessages.  \n\n-------------------\nNotification Issues:\n\nOne of the bits that =\r\nI haven&#39;t yet worked out is how to ensure that only the intended recipient =\r\ncan retrieve the resource.  I have some thoughts on this (mostly using HTTP=\r\n Authentication in various ways), but I&#39;ll put that off until I see if ther=\r\ne&#39;s any interest out there...\n\n\nSo...  Anyone interested?\n\n---\nSeairth Jaco=\r\nbs\nseairth@...\r\n------=_NextPart_000_000A_01C2F3ED.E58BAC50\r\nContent-Type: text/html;\n\tcharset=&quot;iso-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\n&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.0 Transitional//EN&quot;&gt;\n&lt;HTML&gt;&lt;HEAD&gt;=\r\n\n&lt;META http-equiv=3DContent-Type content=3D&quot;text/html; charset=3Diso-8859-1=\r\n&quot;&gt;\n&lt;META content=3D&quot;MSHTML 6.00.2800.1141&quot; name=3DGENERATOR&gt;\n&lt;STYLE&gt;&lt;/STYLE=\r\n&gt;\n&lt;/HEAD&gt;\n&lt;BODY bgColor=3D#ffffff&gt;\n&lt;DIV&gt;&lt;FONT face=3D&quot;Courier New&quot; size=3D2=\r\n&gt;I have been kicking around the idea of \ncreating a simple, distributed, me=\r\nssage system using REST practices.&nbsp; I \nknow that there are some such t=\r\nhings out there already, but I am looking for \nextreme simplicity.&nbsp; Th=\r\ne fundamental goal is to see if I can replace my \nSMTP/POP3 application wit=\r\nh something RESTful.&nbsp; It must be simple and easy \nto implement.&nbsp; =\r\nI expect to whip an initial version in PHP in a few \nevenings...&lt;/FONT&gt;&lt;/DI=\r\nV&gt;\n&lt;DIV&gt;&lt;FONT face=3D&quot;Courier New&quot; size=3D2&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT =\r\nface=3D&quot;Courier New&quot; size=3D2&gt;And I&#39;m looking for a few good RESTifarians \n=\r\nto join me.&nbsp; For those of you who might be interested, read over&nbsp;=\r\nthe \nfollowing initial noodlings of mine.&nbsp; If I can build enough inter=\r\nest, I&#39;ll \nsee about setting up a dedicated YahooGroup or site or something=\r\n.&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3D&quot;Courier New&quot; size=3D2&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;=\r\n\n&lt;DIV&gt;&lt;FONT face=3D&quot;Courier New&quot; size=3D2&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT fa=\r\nce=3D&quot;Courier New&quot; size=3D2&gt;Suppose two parties want to send each other \nme=\r\nssages.&nbsp; Each party has a URI that identifies themselves.&nbsp; This \n=\r\nwould be similar to an e-mail address.&nbsp; For illustration purposes, the=\r\n \nfollowing URIs are used:&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3D&quot;Courier New&quot; siz=\r\ne=3D2&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3D&quot;Courier New&quot; size=3D2&gt;&lt;A \nhref=\r\n=3D&quot;http://example.invalid/users/seairth&quot;&gt;http://example.invalid/users/seai=\r\nrth&lt;/A&gt;&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3D&quot;Courier New&quot; size=3D2&gt;&lt;A \nhref=3D&quot;h=\r\nttp://sample.invalid/members/bob&quot;&gt;http://sample.invalid/members/bob&lt;/A&gt;&lt;/FO=\r\nNT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3D&quot;Courier New&quot; size=3D2&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV=\r\n&gt;&lt;FONT face=3D&quot;Courier New&quot; size=3D2&gt;Now, suppose I want to send a message =\r\nto \nbob.&nbsp; I would take the following steps:&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT fa=\r\nce=3D&quot;Courier New&quot; size=3D2&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3D&quot;Courier =\r\nNew&quot; size=3D2&gt;1) Create a Message on my server and assign \na URI to it. (e.=\r\ng. &lt;A \nhref=3D&quot;http://example.invalid/users/seairth/msg/1234&quot;&gt;http://exampl=\r\ne.invalid/users/seairth/msg/1234&lt;/A&gt;)&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3D&quot;Couri=\r\ner New&quot; size=3D2&gt;2) Send a POST request to bob&#39;s URI.&nbsp; \nThe content-ty=\r\npe could be any number of formats, but I will use XML for \nreadability sake=\r\n:&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3D&quot;Courier New&quot; size=3D2&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;=\r\n\n&lt;DIV&gt;&lt;FONT face=3D&quot;Courier New&quot; size=3D2&gt;&nbsp;&nbsp;&nbsp; \n&lt;notificat=\r\nion&gt;&lt;BR&gt;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;from uri=3D&quot;&lt;A \nhref=\r\n=3D&quot;http://example.invalid/users/seairth&quot;&gt;http://example.invalid/users/seai=\r\nrth&lt;/A&gt;&quot;&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3D&quot;Courier New&quot; size=3D2&gt;&nbsp;&nbsp;=\r\n&nbsp; &nbsp;&nbsp;&nbsp; \n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; name=3D&quot;Seairth J=\r\nacobs&quot;/&gt;&lt;BR&gt;&nbsp;&nbsp;&nbsp; \n&nbsp;&nbsp;&nbsp; &lt;message uri=3D&quot;&lt;A=\r\n \nhref=3D&quot;http://example.invalid/users/seairth/msg/1234&quot;&gt;http://example.inv=\r\nalid/users/seairth/msg/1234&lt;/A&gt;&quot;&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3D&quot;Courier Ne=\r\nw&quot; size=3D2&gt;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; \n&nbsp;&nbsp;&nbsp; &nbsp=\r\n;&nbsp;&nbsp;&nbsp; subject=3D&quot;Is this \nRESTful?&quot;&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT f=\r\nace=3D&quot;Courier New&quot; size=3D2&gt;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; \n&nbsp;&=\r\nnbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; reply-uri=3D&quot;&lt;A \nhref=3D&quot;http://exampl=\r\ne.invalid/users/seairth/msg/1234&quot;&gt;http://example.invalid/users/seairth/msg/=\r\n1234&lt;/A&gt;&quot;/&gt;&lt;BR&gt;&nbsp;&nbsp;&nbsp; \n&lt;/notification&gt;&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;D=\r\nIV&gt;&lt;FONT face=3D&quot;Courier New&quot; size=3D2&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=\r\n=3D&quot;Courier New&quot; size=3D2&gt;3) bob&#39;s server examines the notification \nand ac=\r\ncepts or rejects it.&nbsp; Acceptance would be performed with a 202 \n(Accep=\r\nted) response, while rejection would happen with a 403 (Forbidden) \nrespons=\r\ne.&nbsp; It would also be possible to return a 400 (Bad Request) if bob&#39;s \n=\r\nserver failed to understand the notification well enough to accept or rejec=\r\nt \nit.&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3D&quot;Courier New&quot; size=3D2&gt;&lt;/FONT&gt;&nbsp;&lt;=\r\n/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3D&quot;Courier New&quot; size=3D2&gt;4) Suppose&nbsp;&lt;/FONT&gt;&lt;FONT=\r\n \nface=3D&quot;Courier New&quot; size=3D2&gt;bob&#39;s server has accepted a URI from me.&nb=\r\nsp; Later, \nbob starts up his client and uses the URI to get the actual \nme=\r\nssage.&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3D&quot;Courier New&quot; size=3D2&gt;&lt;/FONT&gt;&nbsp;&lt;=\r\n/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3D&quot;Courier New&quot; size=3D2&gt;That&#39;s it.&nbsp; Done.&lt;/FONT=\r\n&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3D&quot;Courier New&quot; size=3D2&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;=\r\nFONT face=3D&quot;Courier New&quot; size=3D2&gt;Now for some additional \ndetails:&lt;/FONT&gt;=\r\n&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3D&quot;Courier New&quot; size=3D2&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;F=\r\nONT face=3D&quot;Courier New&quot; size=3D2&gt;-------------------&lt;BR&gt;In the above \nnoti=\r\nfication, the following is optional:&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3D&quot;Courie=\r\nr New&quot; size=3D2&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3D&quot;Courier New&quot; size=3D=\r\n2&gt;* The &quot;name&quot;&nbsp;attribute of the from \nelement: the friendly name can b=\r\ne provided as an aid.&nbsp; However, the only \nauthoritative&nbsp;attribute=\r\n is &quot;uri&quot;.&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3D&quot;Courier New&quot; size=3D2&gt;&lt;/FONT&gt;&nb=\r\nsp;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3D&quot;Courier New&quot; size=3D2&gt;* The &quot;reply-uri&quot;&nbsp;a=\r\nttribute of the \nmessage element: if not given, then the&nbsp;&quot;from&quot; \neleme=\r\nnt&#39;s&nbsp;&quot;uri&quot;&nbsp;attribute&nbsp;MUST be used for all replies to that \nm=\r\nessage.&nbsp; If given, then &quot;reply-uri&quot; MUST be used for all replies to th=\r\nat \nmessage.&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3D&quot;Courier New&quot; size=3D2&gt;&lt;/FONT&gt;&=\r\nnbsp;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3D&quot;Courier New&quot; size=3D2&gt;\n&lt;DIV&gt;&lt;FONT face=3D&quot;Co=\r\nurier New&quot; size=3D2&gt;-------------------&lt;BR&gt;Additional \nnotes:&lt;/FONT&gt;&lt;/DIV&gt;\n=\r\n&lt;DIV&gt;&nbsp;&lt;/DIV&gt;&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3D&quot;Courier New&quot; size=3D2&gt;*&n=\r\nbsp;&nbsp;&nbsp;The value of the \n&quot;reply-uri&quot; attribute does not need to ma=\r\ntch either the &quot;from&quot; element&#39;s &quot;uri&quot; \nattribute or the &quot;message&quot; element&#39;s=\r\n &quot;uri&quot; attribute.&nbsp; In the above example \nreply-uri&quot; could have just as=\r\n easily been &quot;&lt;A \nhref=3D&quot;http://example.invalid/users/seairth/reply/1234&quot;&gt;=\r\nhttp://example.invalid/users/seairth/reply/1234&lt;/A&gt;&quot;.&nbsp; \nThe purpose fo=\r\nr a separate reply URI is to allow chaining of messages (i.e. \nmessage thre=\r\nads).&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3D&quot;Courier New&quot; size=3D2&gt;&lt;/FONT&gt;&nbsp;&lt;/=\r\nDIV&gt;\n&lt;DIV&gt;&lt;FONT face=3D&quot;Courier New&quot; size=3D2&gt;* While there is no technical=\r\n limit on any \nof the values, the recipient may reject a notification if an=\r\ny value is longer \nthan can be handled. This should be done with the 400 (B=\r\nad Request) response, \nnot 403 (Forbidden).&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3D=\r\n&quot;Courier New&quot; size=3D2&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3D&quot;Courier New&quot; =\r\nsize=3D2&gt;* In order to validate that the message URI \nwas in fact sent by t=\r\nhe from-URI, the recipient MAY submit a specific POST \nmessage to the from-=\r\nuri to validate it.&nbsp; Further details \nbelow.&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT f=\r\nace=3D&quot;Courier New&quot; size=3D2&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3D&quot;Courier=\r\n New&quot; size=3D2&gt;* The recipient MUST NOT access the \nresource until the noti=\r\nfication has been dealt with.&nbsp; The sender MAY not \nprovide access unti=\r\nl the notification is accepted.&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3D&quot;Courier New=\r\n&quot; size=3D2&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3D&quot;Courier New&quot; size=3D2&gt;* A=\r\ncceptance of a notification does not \nmean that the recipient will retrieve=\r\n the message.&nbsp; It only indicates that \nthe&nbsp;recipient acknowledged=\r\n&nbsp;the request.&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3D&quot;Courier New&quot; size=3D2&gt;&lt;/=\r\nFONT&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3D&quot;Courier New&quot; size=3D2&gt;* The subject is=\r\n nothing more than a very \nshort (one-liner) excerpt to give the recipient =\r\nan idea of what the message is \nabout.&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3D&quot;Cour=\r\nier New&quot; size=3D2&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3D&quot;Courier New&quot; size=\r\n=3D2&gt;* The recipient may reject a notification \ndue to a value given.&nbsp;=\r\n For instance, if the &quot;from&quot; element&#39;s &quot;uri&quot; \nattribute value&nbsp;is being=\r\n &quot;blocked&quot;, the recipient may reject the \nnotification outright.&nbsp; Any =\r\nsuch refusal MUST be done with the 403 \n(Forbidden) response.&nbsp; The rec=\r\nipient may optionally choose to indicate in \nthe response why the notificat=\r\nion was rejected.&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3D&quot;Courier New&quot; size=3D2&gt;&lt;/F=\r\nONT&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3D&quot;Courier New&quot; size=3D2&gt;* If the notifica=\r\ntion is accepted, a 202 \n(Accepted) response MUST be used.&nbsp; The recipi=\r\nent may optionally choose to \nreturn an entity, but the sender is not requi=\r\nred to process any such \nentity.&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3D&quot;Courier Ne=\r\nw&quot; size=3D2&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;&lt;FONT face=3D&quot;Courier New&quot; \nsize=3D2&gt;\n&lt;DIV&gt;&lt;=\r\nFONT face=3D&quot;Courier New&quot; size=3D2&gt;* Note that it would be possible to send=\r\n \nmessages of URIs that the sender did not create.&nbsp; For instance, I co=\r\nuld \nhave sent bob a link to an interesting CNN report or some such, as lon=\r\ng as that \nthing has a URI.&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3D&quot;Courier New&quot; si=\r\nze=3D2&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV&gt;* Obviously, the message does not need to b=\r\ne HTML.&nbsp; It could be any \nsort of format.&nbsp; If desired, the recipi=\r\nent can use HEAD on the resource to \ndetermine specifics.&lt;/DIV&gt;\n&lt;DIV&gt;&nbsp;=\r\n&lt;/DIV&gt;\n&lt;DIV&gt;* Because the resource (when created by the sender) is always o=\r\nn the \nsender&#39;s server, additional features are available that are not avai=\r\nlable in \ntraditional &quot;push&quot; style message systems.&nbsp; For instance, spe=\r\nlling mistakes \ncan be corrected.&nbsp; Messages can be deleted before your=\r\n boss discovers what \nyou really think of him, etc.&nbsp; Obviously, once a=\r\n recipient performs a GET \non a resource, they have a copy... mistakes and =\r\nall.&lt;/DIV&gt;\n&lt;DIV&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV&gt;-------------------&lt;BR&gt;Validating Notific=\r\nations:&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3D&quot;Courier New&quot; size=3D2&gt;&lt;/FONT&gt;&nbsp;=\r\n&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3D&quot;Courier New&quot; size=3D2&gt;Obviously, it would be poss=\r\nible from \nsomeone to submit a notification claiming to be someone they are=\r\n not.&nbsp; This \nis a&nbsp;common problem in SMTP, which is partly why spa=\r\nm is so wide-spread (no \naccountability). &nbsp;However, this can be easily=\r\n remedied by asking the \nsupposed sender if they really did send the notifi=\r\ncation.&nbsp; For instance, \nsuppose bob were to&nbsp;be suspicious of my n=\r\notification. He would then take \nthe following steps:&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FO=\r\nNT face=3D&quot;Courier New&quot; size=3D2&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3D&quot;Cou=\r\nrier New&quot; size=3D2&gt;1) Post to my URI the following (again in \nXML for conve=\r\nnience):&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3D&quot;Courier New&quot; size=3D2&gt;&lt;/FONT&gt;&nbsp=\r\n;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3D&quot;Courier New&quot; size=3D2&gt;\n&lt;DIV&gt;&lt;FONT face=3D&quot;Courie=\r\nr New&quot; size=3D2&gt;&nbsp;&nbsp;&nbsp; \n&lt;notification-query&gt;&lt;BR&gt;&lt;/FONT&gt;&lt;F=\r\nONT face=3D&quot;Courier New&quot; \nsize=3D2&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=\r\np; &lt;message uri=3D&quot;&lt;A \nhref=3D&quot;http://example.invalid/users/seairth/msg/=\r\n1234&quot;&gt;http://example.invalid/users/seairth/msg/1234&lt;/A&gt;&quot;/&gt;&lt;/FONT&gt;&lt;/DIV&gt;\n=\r\n&lt;DIV&gt;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;to uri=3D&quot;=3D&quot;&lt;A \nhref=3D&quot;ht=\r\ntp://sample.invalid/members/bob&quot;&gt;http://sample.invalid/members/bob&lt;/A&gt;&quot; \n/&=\r\ngt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3D&quot;Courier New&quot; size=3D2&gt;&nbsp;&nbsp;&nbsp; \n&lt;=\r\n/notification-query&gt;&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV&gt;2) My server wo=\r\nuld either recognize the combination and return a \n&lt;/FONT&gt;&lt;FONT face=3D&quot;Cou=\r\nrier New&quot; size=3D2&gt;204 (No Content), or returned 400 (Bad \nRequest) to indi=\r\ncate that it&#39;s not recognized.&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3D&quot;Courier New&quot;=\r\n size=3D2&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3D&quot;Courier New&quot; size=3D2&gt;&lt;/FO=\r\nNT&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3D&quot;Courier New&quot; size=3D2&gt;Note:&nbsp;&nbsp;I=\r\nf &lt;/FONT&gt;&lt;FONT \nface=3D&quot;Courier New&quot; size=3D2&gt;the message URI contains the =\r\nfrom URI as its root (as \nin my original example), the probability is prett=\r\ny good that the sender really \ndid create the messages.&nbsp; &lt;/FONT&gt;&lt;/DIV&gt;=\r\n&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3D&quot;Courier New&quot; size=3D2&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;F=\r\nONT face=3D&quot;Courier New&quot; size=3D2&gt;-------------------&lt;BR&gt;Notification \nIssu=\r\nes:&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3D&quot;Courier New&quot; size=3D2&gt;&lt;/FONT&gt;&nbsp;&lt;/DI=\r\nV&gt;\n&lt;DIV&gt;&lt;FONT face=3D&quot;Courier New&quot; size=3D2&gt;One of the bits that I haven&#39;t =\r\nyet worked \nout is how to ensure that only the intended recipient can retri=\r\neve the \nresource.&nbsp; I have some thoughts on this (mostly using HTTP Au=\r\nthentication \nin various ways), but I&#39;ll put that off until I see if there&#39;=\r\ns any interest out \nthere...&lt;/DIV&gt;\n&lt;DIV&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV=\r\n&gt;So...&nbsp; Anyone interested?&lt;/DIV&gt;\n&lt;DIV&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV&gt;---&lt;BR&gt;Seairth=\r\n Jacobs&lt;BR&gt;&lt;A \nhref=3D&quot;mailto:seairth@...&quot;&gt;seairth@...&lt;/A&gt;&lt;=\r\n/FONT&gt;&lt;/DIV&gt;&lt;/BODY&gt;&lt;/HTML&gt;\n\r\n------=_NextPart_000_000A_01C2F3ED.E58BAC50--\r\n\n"}}
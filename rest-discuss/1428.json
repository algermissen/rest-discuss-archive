{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":4981751,"authorName":"Mark Nottingham","from":"&quot;Mark Nottingham&quot; &lt;mnot@...&gt;","profile":"mnotting","replyTo":"SENDER","senderId":"ezlnnN4bI54gWSxFcadrDX5yUcWz5s6ynBWKaWhjYDh5tLYVQEwiMPZ-F76YnNguwFa0iLlu2lzb3CI05BQQ6kJVEKUJtG6g","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: Re[6]: [rest-discuss] HTTP caching questions ?","postDate":"1023428919","msgId":1428,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDAwMGQwMWMyMGRlNiRmOTdlZWY4MCQ4ZjAxYThjMEBNTk9UTEFQVE9QPg==","referencesHeader":"PGFjM2N2NSs1azRhQGVHcm91cHMuY29tPiA8M0NFNkJFQUIuRkQ5QzYyMDJAcHJlc2NvZC5uZXQ+IDwxOTcxNjk3NDE3MS4yMDAyMDUxOTEzNTgzMEB6YWtzLmRlbW9uLmNvLnVrPiA8MDI1YzAxYzIwZDhmJDg5MmQ1ODkwJGVjMDEyMDBhQE1OT1RMQVBUT1A+IDwxNjY1NTY0Mzc1LjIwMDIwNjA2MTkwOTUxQHpha3MuZGVtb24uY28udWs+IDwwM2RiMDFjMjBkZGUkYjgyNzlkYTAkZWMwMTIwMGFATU5PVExBUFRPUD4gPDEyMTU4NTE2NTYuMjAwMjA2MDYyMjAxMTVAemFrcy5kZW1vbi5jby51az4="},"prevInTopic":1427,"nextInTopic":0,"prevInTime":1427,"nextInTime":1429,"topicId":1262,"numMessagesInTopic":10,"msgSnippet":"That s probably the way to go. I had a hope in the back of my mind that you could assign ETags using .htaccess, but some quick testing rules that out. If you","rawEmail":"Return-Path: &lt;mnot@...&gt;\r\nX-Sender: mnot@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nReceived: (EGP: mail-8_0_3_2); 7 Jun 2002 05:46:20 -0000\r\nReceived: (qmail 30610 invoked from network); 7 Jun 2002 05:46:20 -0000\r\nReceived: from unknown (66.218.66.216)\n  by m4.grp.scd.yahoo.com with QMQP; 7 Jun 2002 05:46:20 -0000\r\nReceived: from unknown (HELO mail.mnot.net) (64.170.196.242)\n  by mta1.grp.scd.yahoo.com with SMTP; 7 Jun 2002 05:46:19 -0000\r\nReceived: from MNOTLAPTOP (unknown [192.168.1.143])\n\t(using TLSv1 with cipher RC4-MD5 (128/128 bits))\n\t(No client certificate requested)\n\tby mail.mnot.net (Postfix) with ESMTP\n\tid 3DDA87277; Thu,  6 Jun 2002 22:46:19 -0700 (PDT)\r\nMessage-ID: &lt;000d01c20de6$f97eef80$8f01a8c0@MNOTLAPTOP&gt;\r\nTo: &quot;Simon Fell&quot; &lt;sf@...&gt;\r\nCc: &lt;rest-discuss@yahoogroups.com&gt;\r\nReferences: &lt;ac3cv5+5k4a@...&gt; &lt;3CE6BEAB.FD9C6202@...&gt; &lt;19716974171.20020519135830@...&gt; &lt;025c01c20d8f$892d5890$ec01200a@MNOTLAPTOP&gt; &lt;1665564375.20020606190951@...&gt; &lt;03db01c20dde$b8279da0$ec01200a@MNOTLAPTOP&gt; &lt;1215851656.20020606220115@...&gt;\r\nSubject: Re: Re[6]: [rest-discuss] HTTP caching questions ?\r\nDate: Thu, 6 Jun 2002 22:48:39 -0700\r\nMIME-Version: 1.0\r\nContent-Type: text/plain;\n\tcharset=&quot;iso-8859-1&quot;\r\nContent-Transfer-Encoding: 7bit\r\nX-Priority: 3\r\nX-MSMail-Priority: Normal\r\nX-Mailer: Microsoft Outlook Express 6.00.2600.0000\r\nX-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000\r\nFrom: &quot;Mark Nottingham&quot; &lt;mnot@...&gt;\r\nX-Yahoo-Group-Post: member; u=4981751\r\nX-Yahoo-Profile: mnotting\r\n\r\nThat&#39;s probably the way to go. I had a hope in the back of my mind that\nyou could assign ETags using .htaccess, but some quick testing rules that\nout.\n\nIf you want to generate and validate ETags, you might be interested in\ncgi_buffer[1]; there isn&#39;t Java in there, but it may be useful as a\nstarting point.\n\n1. http://www.mnot.net/cgi_buffer/\n\n\n\n----- Original Message -----\nFrom: &quot;Simon Fell&quot; &lt;sf@...&gt;\nTo: &quot;Mark Nottingham&quot; &lt;mnot@...&gt;\nCc: &lt;rest-discuss@yahoogroups.com&gt;\nSent: Thursday, June 06, 2002 10:01 PM\nSubject: Re[6]: [rest-discuss] HTTP caching questions ?\n\n\n&gt; The content is generated and written to a static file as part of a\n&gt; separate process that happens before the HTTP requests start to occur.\n&gt; The resulting static files are cachable.\n&gt;\n&gt; At some future date the plan it to ditch the separate process, and\n&gt; have the content generated dynamically in the HTTP server itself\n&gt; [probably using servlets], the results of this are still cachable. I\n&gt; assume in this case I&#39;ll have to handle etag validation myself in the\n&gt; servlet.\n&gt;\n&gt; Cheers,\n&gt; Simon\n&gt;\n&gt; Thursday, June 06, 2002, 9:49:34 PM, you wrote:\n&gt;\n&gt; &gt; Do you mean that the content is generated and written to static files,\nor\n&gt; &gt; that it&#39;s served by a process that runs in response to requests (e.g.,\n&gt; &gt; CGI, PHP, etc.), but that the results are generally cacheable?\n&gt;\n&gt;\n&gt; &gt; ----- Original Message -----\n&gt; &gt; From: &quot;Simon Fell&quot; &lt;sf@...&gt;\n&gt; &gt; To: &quot;Mark Nottingham&quot; &lt;mnot@...&gt;\n&gt; &gt; Cc: &lt;rest-discuss@yahoogroups.com&gt;\n&gt; &gt; Sent: Thursday, June 06, 2002 7:09 PM\n&gt; &gt; Subject: Re[4]: [rest-discuss] HTTP caching questions ?\n&gt;\n&gt;\n&gt; &gt;&gt; Thanks Mark,\n&gt; &gt;&gt;\n&gt; &gt;&gt; I&#39;m using Apache, I found the info about the directives that control\n&gt; &gt;&gt; the etag generation, and am in the process of getting some servers\n&gt; &gt;&gt; updated so i can test this out.\n&gt; &gt;&gt;\n&gt; &gt;&gt; I was hoping to find a solution that wasn&#39;t reliant on specific\n&gt; &gt;&gt; behavior in the web server, but couldn&#39;t come up with anything.\n&gt; &gt;&gt;\n&gt; &gt;&gt; The content is generated, but due to the way the generation process\n&gt; &gt;&gt; works, its static files as far as the web server is concerned.\n&gt; &gt;&gt;\n&gt; &gt;&gt; Cheers,\n&gt; &gt;&gt; Simon\n&gt; &gt;&gt;\n&gt; &gt;&gt; Thursday, June 06, 2002, 12:22:36 PM, you wrote:\n&gt; &gt;&gt;\n&gt; &gt;&gt; &gt; /me catches up on this list\n&gt; &gt;&gt;\n&gt; &gt;&gt; &gt; What Web server are you using? Is the content generated, or just on\n&gt; &gt; disk?\n&gt; &gt;&gt;\n&gt; &gt;&gt; &gt; This problem (load balancing vs. ETag generation) was recognized a\n&gt; &gt; while\n&gt; &gt;&gt; &gt; back, and I know that Apache has recently put a fix in (but IIRC\nyou\n&gt; &gt; have\n&gt; &gt;&gt; &gt; to explicitly configure the behaviour). Depending on your\nsituation,\n&gt; &gt; there\n&gt; &gt;&gt; &gt; are a number of ways to approach the problem.\n&gt; &gt;&gt;\n&gt; &gt;&gt; &gt; Cheers,\n&gt; &gt;&gt;\n&gt; &gt;&gt;\n&gt; &gt;&gt; &gt; ----- Original Message -----\n&gt; &gt;&gt; &gt; From: &quot;Simon Fell&quot; &lt;sf@...&gt;\n&gt; &gt;&gt; &gt; To: &lt;rest-discuss@yahoogroups.com&gt;\n&gt; &gt;&gt; &gt; Sent: Sunday, May 19, 2002 1:58 PM\n&gt; &gt;&gt; &gt; Subject: Re[2]: [rest-discuss] HTTP caching questions ?\n&gt; &gt;&gt;\n&gt; &gt;&gt;\n&gt; &gt;&gt; &gt;&gt; ok, here goes.\n&gt; &gt;&gt; &gt;&gt;\n&gt; &gt;&gt; &gt;&gt; Basically i need to support efficient checks that content is upto\n&gt; &gt;&gt; &gt;&gt; date, and to also support resumable downloads [some of the content\nis\n&gt; &gt;&gt; &gt; large\n&gt; &gt;&gt; &gt;&gt; binary files accessed via a potentially un-reliable low bandwidth\n&gt; &gt;&gt; &gt;&gt; connection]. This content is potentially served by a set of web\n&gt; &gt; servers\n&gt; &gt;&gt; &gt;&gt; running behind a HTTP load balancer.\n&gt; &gt;&gt; &gt;&gt;\n&gt; &gt;&gt; &gt;&gt; For a single server scenario, this seems pretty straightforward,\nAt\n&gt; &gt;&gt; &gt;&gt; the client cache I track expected size [from the content-length\n&gt; &gt;&gt; &gt;&gt; header], Etag and last-modified. for subsequent requests I\npopulate a\n&gt; &gt;&gt; &gt;&gt; If-None-Match header from the etag, a Range & Range-If header if\nthe\n&gt; &gt;&gt; &gt;&gt; expected size is not the same as the cached file size, and i send\na\n&gt; &gt;&gt; &gt;&gt; If-Modified-Since header if i don&#39;t have a Range header [my\nreading\n&gt; &gt; of\n&gt; &gt;&gt; &gt;&gt; the use of Range & Range-If lead me to believe to not use\n&gt; &gt;&gt; &gt;&gt; If-Modified-Since if i&#39;m using ranges].\n&gt; &gt;&gt; &gt;&gt;\n&gt; &gt;&gt; &gt;&gt; My concern is when i have 2 or more web servers, all running\nbehind a\n&gt; &gt;&gt; &gt;&gt; load balancer [local director etc], that each server will be\n&gt; &gt; assigning\n&gt; &gt;&gt; &gt;&gt; different etags to the same content (i don&#39;t see anything in the\nspec\n&gt; &gt;&gt; &gt;&gt; that lets me assume different server instances will generate the\nsame\n&gt; &gt;&gt; &gt;&gt; etag for the same content, even for the same versions of HTTP\nserver\n&gt; &gt;&gt; &gt;&gt; software). This is leading me to think about not using etags, and\nto\n&gt; &gt;&gt; &gt;&gt; just use the modified date, but then it doesn&#39;t look like you can\ndo\n&gt; &gt;&gt; &gt;&gt; ranges with modified dates. Its also crossed my mind to use\n&gt; &gt;&gt; &gt;&gt; content-md5, but this doesn&#39;t seem very widely support [if at\nall].\n&gt; &gt;&gt; &gt;&gt;\n&gt; &gt;&gt; &gt;&gt; Any suggestions ?\n&gt; &gt;&gt; &gt;&gt;\n&gt; &gt;&gt; &gt;&gt; Thanks\n&gt; &gt;&gt; &gt;&gt; Simon\n&gt; &gt;&gt; &gt;&gt;\n&gt; &gt;&gt; &gt;&gt; Saturday, May 18, 2002, 1:50:51 PM, you wrote:\n&gt; &gt;&gt; &gt;&gt;\n&gt; &gt;&gt; &gt;&gt; &gt; I think it would be great if you asked the questions here. I am\nnot\n&gt; &gt;&gt; &gt;&gt; &gt; &quot;deep&quot; in HTTP cacheing but I know that Mark Nottingham is and I\n&gt; &gt;&gt; &gt; suspect\n&gt; &gt;&gt; &gt;&gt; &gt; Mark Baker knows quite a bit also. This list seems to be the\nlast\n&gt; &gt;&gt; &gt; refuge\n&gt; &gt;&gt; &gt;&gt; &gt; of people who don&#39;t think of HTTP as a dinosaur ;).\n&gt; &gt;&gt; &gt;&gt;\n&gt; &gt;&gt; &gt;&gt; &gt; simonfell99 wrote:\n&gt; &gt;&gt; &gt;&gt; &gt;&gt;\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; Hi,\n&gt; &gt;&gt; &gt;&gt; &gt;&gt;\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; I&#39;m in the process of prototyping a REST version of an existing\n&gt; &gt; RPC\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; based system, a large chunk of this system revolves around\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; efficiently managing updates to content at the client system.\nI&#39;m\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; looking at using the HTTP/1.1 caching support (Etag,\nIf-Modified-\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; Since, If-None-Match and If-Range). I have some questions about\n&gt; &gt; how\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; this works when deployed on a cluster of servers with a load\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; balancer, is this a good place to ask, or can someone recommend\na\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; good list to discuss HTTP caching.\n&gt; &gt;&gt; &gt;&gt; &gt;&gt;\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; Tx\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; Simon\n&gt; &gt;&gt; &gt;&gt; &gt;&gt;\n&gt; &gt;&gt; &gt;&gt; &gt;&gt;\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; To unsubscribe from this group, send an email to:\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; rest-discuss-unsubscribe@yahoogroups.com\n&gt; &gt;&gt; &gt;&gt; &gt;&gt;\n&gt; &gt;&gt;\n&gt;\n\n\n"}}
{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":69164307,"authorName":"mike amundsen","from":"mike amundsen &lt;mamund@...&gt;","profile":"mamund","replyTo":"SENDER","senderId":"zTrMRFgKBqeXmEt1jaH7MztBxA7T1I9d-VESdowvnxobDrr3v5MR-IRJthSOcIfaJjwpNbhlVWQUNN-sa93SUCDkA79Q5gQ","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [rest-discuss] REST &quot;create if not exists&quot;","postDate":"1338752184","msgId":18851,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PENBUFdfOG03bTZVZF80b0E1RjRyX2dmYzdxa2lXRVdQaFFLZ2FRR2JZY1RWS1ZHYz11UUBtYWlsLmdtYWlsLmNvbT4=","inReplyToHeader":"PGpxZHFwbStnMDU4QGVHcm91cHMuY29tPg==","referencesHeader":"PGpxZHFwbStnMDU4QGVHcm91cHMuY29tPg=="},"prevInTopic":18849,"nextInTopic":18853,"prevInTime":18850,"nextInTime":18852,"topicId":18849,"numMessagesInTopic":7,"msgSnippet":"Fran√ßois First, I highly recommend you check out the RESTful Web Services Cookbook [1]. It s full of very solid examples of solving problems /w HTTP. Second,","rawEmail":"Return-Path: &lt;mca@...&gt;\r\nX-Sender: mca@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 51862 invoked from network); 3 Jun 2012 19:36:25 -0000\r\nX-Received: from unknown (98.137.34.44)\n  by m7.grp.sp2.yahoo.com with QMQP; 3 Jun 2012 19:36:25 -0000\r\nX-Received: from unknown (HELO mail-ob0-f173.google.com) (209.85.214.173)\n  by mta1.grp.sp2.yahoo.com with SMTP; 3 Jun 2012 19:36:25 -0000\r\nX-Received: by obbwd20 with SMTP id wd20so8389492obb.18\n        for &lt;rest-discuss@yahoogroups.com&gt;; Sun, 03 Jun 2012 12:36:25 -0700 (PDT)\r\nX-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;\n        d=google.com; s=20120113;\n        h=mime-version:sender:in-reply-to:references:date\n         :x-google-sender-auth:message-id:subject:from:to:cc:content-type\n         :x-gm-message-state;\n        bh=xth0XxOEE+g06ffbzM6vbA6iOG+FRr69A+0SHkigIIE=;\n        b=ECS/zidTt4j1g1PL326V9ZqYDpohOyor/WrPyzRGuBzDQz7bP6vySFAGu2N3D4gBvr\n         r36VxqyzReZsSN4BD/HErjJnJbuWEDg8j7YbABuxULeCvDC4O7pJdO7OBXfR7qT6ldfq\n         6s3VzmpGkOvZ8hp/GOHa83zYPvdogkRt5jE9aKD3aJz9j9WxV/35bVnOKfDOo3KdP/5w\n         QiJEhvMNHihYluAqvET1CZcxsoeA719Sj9FML5vHni29WDyEwJ7Y6AEGqZf7+U9mvm0+\n         tidTmu9zjM/a5zZiSVmOPPMMSrBjDj6OgNM+ZCmnBoaD4JvuweZGTX4+AaVkxWrA/Mlw\n         wcJQ==\r\nMIME-Version: 1.0\r\nX-Received: by 10.60.4.165 with SMTP id l5mr9500616oel.41.1338752184908; Sun, 03\n Jun 2012 12:36:24 -0700 (PDT)\r\nX-Received: by 10.182.36.71 with HTTP; Sun, 3 Jun 2012 12:36:24 -0700 (PDT)\r\nIn-Reply-To: &lt;jqdqpm+g058@...&gt;\r\nReferences: &lt;jqdqpm+g058@...&gt;\r\nDate: Sun, 3 Jun 2012 15:36:24 -0400\r\nX-Google-Sender-Auth: mJ5qHjiPc32lUKf9bAm6Lh2YUk0\r\nMessage-ID: &lt;CAPW_8m7m6Ud_4oA5F4r_gfc7qkiWEWPhQKgaQGbYcTVKVGc=uQ@...&gt;\r\nTo: francoisverry &lt;f.verry@...&gt;\r\nCc: rest-discuss@yahoogroups.com\r\nContent-Type: multipart/alternative; boundary=e89a8ff1c2e86c7c8604c1968820\r\nX-Gm-Message-State: ALoCoQnt6+bwPMNuDKwmp6ueayVPYNszpTr5E54WB9wypfjXQuGEpYdGPJx6zo3+hl7EF22lMYe6\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: mike amundsen &lt;mamund@...&gt;\r\nSubject: Re: [rest-discuss] REST &quot;create if not exists&quot;\r\nX-Yahoo-Group-Post: member; u=69164307; y=vyW3Bv04uF7bfN2EWcX8Wvaw9EtZoG-fIoqKf7Di5dqg\r\nX-Yahoo-Profile: mamund\r\n\r\n\r\n--e89a8ff1c2e86c7c8604c1968820\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\nFran=E7ois\n\nFirst, I highly recommend you check out the &quot;RESTful Web Servic=\r\nes\nCookbook&quot;[1]. It&#39;s full of very solid examples of solving problems /w HT=\r\nTP.\nSecond, you have quite a bit in this message and I&#39;ll only address some=\r\n\ntop-level items here.\nThird, FWIW, all your Qs seem to be related to the H=\r\nTTP protocol, not\nFielding&#39;s REST style; not a probem, just an observation.=\r\n\n\n- &quot;We want to allow the registration of filters.&quot;\nYour example of creatin=\r\ng filters looks fine here.\n\n- &quot;But if I (or someone else) do it again, I&#39;ll=\r\n end up with another\n{filter-id}, e.g. 123457. Then we&#39;ll have two resource=\r\ns with the exact same\nmeaning and content.&quot;\nAnd why is this a problem? does=\r\n it crash your server? cause you to run out\nof storage? return bad results?=\r\n cause business rules to go awry? I suspect\nyou want to _optimize-out_ this=\r\n seeming duplication. FWIW, I find it quite\ndifficult to _prevent_ duplicat=\r\nion in a distributed system and I only\nattempt it when it will crash the sy=\r\nstem or cause incorrect results. If two\nof the thousands of users I have in=\r\n my system both store the same filter,\nresults, list of groceries to purcha=\r\nse this weekend, I rarely care.\n\nI think most of the rest of your post here=\r\n is dedicated to attempting\nsomething incredibly creative in order to preve=\r\nnt something extremely\ncommon&lt;g&gt;.\n\n\n[1] http://shop.oreilly.com/product/978=\r\n0596801694.do\nmca\nhttp://amundsen.com/blog/\nhttp://twitter.com@mamund\nhttp:=\r\n//mamund.com/foaf.rdf#me\n\n\n\n\nOn Sat, Jun 2, 2012 at 3:50 PM, francoisverry =\r\n&lt;f.verry@...&gt; wrote:\n\n&gt;\n&gt;\n&gt; Hello\n&gt;\n&gt; I&#39;m new to REST, and I&#39;m trying=\r\n to integrate it in my company. We\n&gt; currently are trying to design a multi=\r\n-criteria search engine with REST\n&gt; principles. I use as a reference the O&#39;=\r\nReilly &quot;RESTful Web Services&quot;.\n&gt;\n&gt; I don&#39;t know if the following problem ha=\r\ns been discussed somewhere, but\n&gt; I&#39;ve been unable to find anything that ma=\r\ntches it. If you happen to know\n&gt; resources that could help me, please let =\r\nme know.\n&gt;\n&gt; In a multi-critera search engine, we have two types of resourc=\r\nes :\n&gt; &quot;Results&quot; and &quot;Filters&quot;. Results are items searched for, and Filters=\r\n are\n&gt; sets of criteria which allows us to isolate a subset of Results.\n&gt;\n&gt;=\r\n For example :\n&gt;\n&gt;     GET /results returns the total number of results\n&gt;  =\r\n   GET /results/{result-id} returns one specific result\n&gt;     GET /filters =\r\nreturns a specification on criteria usage (eg. an empty\n&gt; &lt;form&gt;)\n&gt;     GET=\r\n /filters/{filter-id} returns one specific filter (eg. a filled\n&gt; &lt;form&gt;)\n&gt;=\r\n     GET /filters/{filter-id}/results returns the total number of results\n&gt;=\r\n matching the filter, and links to the corresponding /results/{result-id}\n&gt;=\r\n\n&gt; We want to allow the registration of filters. Imagine a filter as the\n&gt; =\r\ncomposition of 3 criteria, c1, c2 and c3. My first thought was to register\n=\r\n&gt; a filter through a POST request.\n&gt;\n&gt;     Request :\n&gt;\n&gt;     POST /filters =\r\nHTTP/1.1\n&gt;\n&gt;     c1=3Dfoo&c2=3Dbar&c3=3Dbaz\n&gt;\n&gt;     Response :\n&gt;\n&gt;     HTTP=\r\n/1.1 201 Created\n&gt;     Location: /filters/123456\n&gt;\n&gt; But if I (or someone e=\r\nlse) do it again, I&#39;ll end up with another\n&gt; {filter-id}, e.g. 123457. Then=\r\n we&#39;ll have two resources with the exact same\n&gt; meaning and content.\n&gt;\n&gt; If=\r\n I want to use one URI for one criteria set, PUT seems more appropriate.\n&gt; =\r\nThe thing is, the {filter-id} is assigned &quot;randomly&quot; by the server. As a\n&gt; =\r\nclient, I can&#39;t guess nor force it. From there, I see the following\n&gt; solut=\r\nions, neither I find satisfying :\n&gt;\n&gt; 1/ I try to map artificially my URIs =\r\nto the criteria set. I could use a\n&gt; hash of the representation. e.g. :\n&gt;\n&gt;=\r\n     Request :\n&gt;\n&gt;     PUT /filters/53c11504ba50e14b60407b13a72c0e53 HTTP/1=\r\n.1\n&gt;\n&gt;     c1=3Dfoo&c2=3Dbar&c3=3Dbaz\n&gt;\n&gt;     Response :\n&gt;\n&gt;     HTTP/1.1 2=\r\n00 OK\n&gt;\n&gt;     &lt;form method=3D&quot;PUT&quot; action=3D&quot;/filters/53c11504ba50e14b60407=\r\nb13a72c0e53&quot;&gt;\n&gt;         &lt;input name=3D&quot;c1&quot; value=3D&quot;foo&quot; /&gt;\n&gt;         &lt;inpu=\r\nt name=3D&quot;c2&quot; value=3D&quot;bar&quot; /&gt;\n&gt;         &lt;input name=3D&quot;c3&quot; value=3D&quot;baz&quot; /=\r\n&gt;\n&gt;         &lt;input type=3D&quot;submit&quot; /&gt;\n&gt;     &lt;/form&gt;\n&gt;\n&gt; The problem is : it=\r\n is artificial. If my criteria set changes, or if its\n&gt; representation chan=\r\nges, I could end up with conflicts or doubles.\n&gt;\n&gt; 2/ I trick the client in=\r\nto believing it actually created something new,\n&gt; whether or not it has. Th=\r\nis means, even if /filters/123456 already exists,\n&gt; my server will answer i=\r\nt to anyone POSTing the &quot;c1=3Dfoo&c2=3Dbar&c3=3Dbaz&quot;\n&gt; content.\n&gt;\n&gt; The pro=\r\nblem is : it&#39;s a fraud. Only the initial POST really &quot;appends&quot;\n&gt; something.=\r\n\n&gt;\n&gt; 3/ I answer the second-and-further POST requests with a &quot;409 Conflict&quot;=\r\n\n&gt; answer, and the correct location.\n&gt;\n&gt; The problem is : it is not actuall=\r\ny an error. The client doesn&#39;t care to\n&gt; register something, it just has no=\r\n way to know wheter or not the resource\n&gt; he is looking for already exists.=\r\n\n&gt;\n&gt; 4/ I do a preliminary check\n&gt;\n&gt;     Request :\n&gt;\n&gt;     GET /filters?c1=\r\n=3Dfoo&c2=3Dbar&c3=3Dbaz HTTP/1.1\n&gt;\n&gt;     Response :\n&gt;\n&gt;     HTTP/1.1 301 M=\r\noved Permanently\n&gt;     Location: /filters/123456\n&gt;\n&gt; The problem is : If th=\r\ne resource doesn&#39;t exists at that time, I&#39;ll be\n&gt; willing to create it. If =\r\nI do, nothing ensures me that someone hasn&#39;t\n&gt; created it inbetween. Then, =\r\nif I want to put aside a location for my\n&gt; resource, it implies my GET isn&#39;=\r\nt safe anymore.\n&gt;\n&gt; 5/ The last option I see is that the URI should contain=\r\ns the whole content\n&gt; of the resource, as it is its &quot;natural&quot; identifier. T=\r\nhis is especially\n&gt; difficult if I have a large set of criteria, and if the=\r\nir values are\n&gt; complex. This is why we use ids in the first place.\n&gt;\n&gt; Tha=\r\nnks in advance for your help\n&gt;\n&gt; Fran=E7ois\n&gt;\n&gt;\n&gt;\n&gt; \n\r\n--e89a8ff1c2e86c7c8604c1968820\r\nContent-Type: text/html; charset=ISO-8859-1\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\nFran=E7ois&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;First, I highly recommend you check out the &=\r\nquot;RESTful Web Services Cookbook&quot;[1]. It&#39;s full of very solid ex=\r\namples of solving problems /w HTTP.&lt;/div&gt;&lt;div&gt;Second, you have quite a bit =\r\nin this message and I&#39;ll only address some top-level items here.&lt;/div&gt;\n=\r\n&lt;div&gt;Third, FWIW, all your Qs seem to be related to the HTTP protocol, not =\r\nFielding&#39;s REST style; not a probem, just an observation.&lt;/div&gt;&lt;div&gt;&lt;br=\r\n&gt;&lt;/div&gt;&lt;div&gt;- &quot;We want to allow the registration of filters.&quot;&lt;/di=\r\nv&gt;\n&lt;div&gt;Your example of creating filters looks fine here.=A0&lt;/div&gt;&lt;div&gt;&lt;br&gt;=\r\n&lt;/div&gt;&lt;div&gt;- &quot;But if I (or someone else) do it again, I&#39;ll end up =\r\nwith another {filter-id}, e.g. 123457. Then we&#39;ll have two resources wi=\r\nth the exact same meaning and content.&quot;&lt;/div&gt;\n&lt;div&gt;And why is this a p=\r\nroblem? does it crash your server? cause you to run out of storage? return =\r\nbad results? cause business rules to go awry? I suspect you want to _optimi=\r\nze-out_ this seeming duplication. FWIW, I find it quite difficult to _preve=\r\nnt_ duplication in a distributed system and I only attempt it when it will =\r\ncrash the system or cause incorrect results. If two of the thousands of use=\r\nrs I have in my system both store the same filter, results, list of=A0groce=\r\nries=A0to purchase this weekend, I rarely care.&lt;/div&gt;\n&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I=\r\n think most of the rest of your post here is dedicated to attempting someth=\r\ning incredibly creative in order to prevent something extremely common&lt;g=\r\n&gt;.=A0&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;[1]=A0&lt;a href=3D&quot;http://sh=\r\nop.oreilly.com/product/9780596801694.do&quot;&gt;http://shop.oreilly.com/product/97=\r\n80596801694.do&lt;/a&gt;&lt;br clear=3D&quot;all&quot;&gt;\nmca&lt;br&gt;&lt;a href=3D&quot;http://amundsen.com/=\r\nblog/&quot; target=3D&quot;_blank&quot;&gt;http://amundsen.com/blog/&lt;/a&gt;&lt;br&gt;&lt;a href=3D&quot;http:/=\r\n/twitter.com&quot; target=3D&quot;_blank&quot;&gt;http://twitter.com&lt;/a&gt;@mamund&lt;br&gt;&lt;a href=3D=\r\n&quot;http://mamund.com/foaf.rdf#me&quot; target=3D&quot;_blank&quot;&gt;http://mamund.com/foaf.rd=\r\nf#me&lt;/a&gt;&lt;br&gt;\n&lt;br&gt;&lt;br&gt;\n\n&lt;br&gt;&lt;br&gt;&lt;div class=3D&quot;gmail_quote&quot;&gt;On Sat, Jun 2, 20=\r\n12 at 3:50 PM, francoisverry &lt;span dir=3D&quot;ltr&quot;&gt;&lt;&lt;a href=3D&quot;mailto:f.verr=\r\ny@...&quot; target=3D&quot;_blank&quot;&gt;f.verry@...&lt;/a&gt;&gt;&lt;/span&gt; wrote:&lt;br&gt;&lt;=\r\nblockquote class=3D&quot;gmail_quote&quot; style=3D&quot;margin:0 0 0 .8ex;border-left:1px=\r\n #ccc solid;padding-left:1ex&quot;&gt;\n\n\n\n\n\n\n\n        \n\n\n\n\n&lt;div&gt;\n\n\n\n\n\n&lt;br&gt;&lt;br&gt;\n\n\n\n\n=\r\nHello&lt;br&gt;&lt;br&gt;I&#39;m new to REST, and I&#39;m trying to integrate it in my =\r\ncompany. We currently are trying to design a multi-criteria search engine w=\r\nith REST principles. I use as a reference the O&#39;Reilly &quot;RESTful We=\r\nb Services&quot;.&lt;br&gt;\n&lt;br&gt;I don&#39;t know if the following problem has bee=\r\nn discussed somewhere, but I&#39;ve been unable to find anything that match=\r\nes it. If you happen to know resources that could help me, please let me kn=\r\now.&lt;br&gt;&lt;br&gt;In a multi-critera search engine, we have two types of resources=\r\n : &quot;Results&quot; and &quot;Filters&quot;. Results are items searched =\r\nfor, and Filters are sets of criteria which allows us to isolate a subset o=\r\nf Results.&lt;br&gt;\n&lt;br&gt;For example :&lt;br&gt;&lt;br&gt;=A0=A0=A0 &lt;font style=3D&quot;background=\r\n-color:rgb(0,255,255)&quot; face=3D&quot;courier new&quot;&gt;GET /results&lt;/font&gt; returns the=\r\n total number of results&lt;br&gt;=A0=A0=A0 &lt;span style=3D&quot;font-family:courier ne=\r\nw;background-color:rgb(0,255,255)&quot;&gt;GET /results/{result-id}&lt;/span&gt; returns =\r\none specific result&lt;br&gt;\n=A0=A0=A0 &lt;span style=3D&quot;background-color:rgb(0,255=\r\n,255);font-family:courier new&quot;&gt;GET /filters&lt;/span&gt; returns a specification =\r\non criteria usage (eg. an empty &lt;form&gt;)&lt;br&gt;=A0=A0=A0 &lt;span style=3D&quot;f=\r\nont-family:courier new;background-color:rgb(0,255,255)&quot;&gt;GET /filters/{filte=\r\nr-id}&lt;/span&gt; returns one specific filter (eg. a filled &lt;form&gt;)&lt;br&gt;\n=\r\n=A0=A0=A0 &lt;span style=3D&quot;font-family:courier new;background-color:rgb(0,255=\r\n,255)&quot;&gt;GET /filters/{filter-id}/results&lt;/span&gt; returns the total number of =\r\nresults matching the filter, and links to the corresponding /results/{resul=\r\nt-id}&lt;br&gt;\n&lt;br&gt;We want to allow the registration of filters. Imagine a filte=\r\nr as the composition of 3 criteria, c1, c2 and c3. My first thought was to =\r\nregister a filter through a POST request.&lt;br&gt;&lt;br&gt;=A0=A0=A0 Request :&lt;br&gt;&lt;br=\r\n&gt;&lt;span style=3D&quot;font-family:courier new;background-color:rgb(0,255,255)&quot;&gt;=\r\n=A0=A0=A0 POST /filters HTTP/1.1&lt;/span&gt;&lt;br style=3D&quot;font-family:courier new=\r\n;background-color:rgb(0,255,255)&quot;&gt;\n&lt;br style=3D&quot;font-family:courier new;bac=\r\nkground-color:rgb(0,255,255)&quot;&gt;&lt;span style=3D&quot;font-family:courier new;backgr=\r\nound-color:rgb(0,255,255)&quot;&gt;=A0=A0=A0 c1=3Dfoo&amp;c2=3Dbar&amp;c3=3Dbaz&lt;/sp=\r\nan&gt;&lt;br style=3D&quot;font-family:courier new;background-color:rgb(0,255,255)&quot;&gt;\n&lt;=\r\nbr&gt;=A0=A0=A0 Response :&lt;br&gt;&lt;br&gt;&lt;span style=3D&quot;font-family:courier new;backg=\r\nround-color:rgb(0,255,255)&quot;&gt;=A0=A0=A0 HTTP/1.1 201 Created&lt;/span&gt;&lt;br style=\r\n=3D&quot;font-family:courier new;background-color:rgb(0,255,255)&quot;&gt;&lt;span style=3D=\r\n&quot;font-family:courier new;background-color:rgb(0,255,255)&quot;&gt;=A0=A0=A0 Locatio=\r\nn: /filters/123456&lt;/span&gt;&lt;br style=3D&quot;font-family:courier new;background-co=\r\nlor:rgb(0,255,255)&quot;&gt;\n&lt;br&gt;But if I (or someone else) do it again, I&#39;ll e=\r\nnd up with another {filter-id}, e.g. 123457. Then we&#39;ll have two resour=\r\nces with the exact same meaning and content.&lt;br&gt;&lt;br&gt;If I want to use one UR=\r\nI for one criteria set, PUT seems more appropriate. The thing is, the {filt=\r\ner-id} is assigned &quot;randomly&quot; by the server. As a client, I can&#=\r\n39;t guess nor force it. From there, I see the following solutions, neither=\r\n I find satisfying :&lt;br&gt;\n&lt;br&gt;1/ I try to map artificially my URIs to the cr=\r\niteria set. I could use a hash of the representation. e.g. :&lt;br&gt;&lt;br&gt;=A0=A0=\r\n=A0 Request :&lt;br&gt;&lt;br&gt;&lt;span style=3D&quot;font-family:courier new;background-colo=\r\nr:rgb(0,255,255)&quot;&gt;=A0=A0=A0 PUT /filters/53c11504ba50e14b60407b13a72c0e53 H=\r\nTTP/1.1&lt;/span&gt;&lt;br style=3D&quot;font-family:courier new;background-color:rgb(0,2=\r\n55,255)&quot;&gt;\n&lt;br style=3D&quot;font-family:courier new;background-color:rgb(0,255,2=\r\n55)&quot;&gt;&lt;span style=3D&quot;font-family:courier new;background-color:rgb(0,255,255)=\r\n&quot;&gt;=A0=A0=A0 c1=3Dfoo&amp;c2=3Dbar&amp;c3=3Dbaz&lt;/span&gt;&lt;br style=3D&quot;font-fami=\r\nly:courier new;background-color:rgb(0,255,255)&quot;&gt;\n&lt;br&gt;=A0=A0=A0 Response :&lt;b=\r\nr&gt;&lt;br&gt;&lt;span style=3D&quot;background-color:rgb(0,255,255);font-family:courier ne=\r\nw&quot;&gt;=A0=A0=A0 HTTP/1.1 200 OK&lt;/span&gt;&lt;br style=3D&quot;background-color:rgb(0,255,=\r\n255);font-family:courier new&quot;&gt;&lt;br style=3D&quot;background-color:rgb(0,255,255);=\r\nfont-family:courier new&quot;&gt;\n&lt;span style=3D&quot;background-color:rgb(0,255,255);fo=\r\nnt-family:courier new&quot;&gt;=A0=A0=A0 &lt;form method=3D&quot;PUT&quot; action=\r\n=3D&quot;/filters/53c11504ba50e14b60407b13a72c0e53&quot;&gt;&lt;/span&gt;&lt;br styl=\r\ne=3D&quot;background-color:rgb(0,255,255);font-family:courier new&quot;&gt;\n&lt;span style=\r\n=3D&quot;background-color:rgb(0,255,255);font-family:courier new&quot;&gt;=A0=A0=A0=A0=\r\n=A0=A0=A0 &lt;input name=3D&quot;c1&quot; value=3D&quot;foo&quot; /&gt;&lt;/sp=\r\nan&gt;&lt;br style=3D&quot;background-color:rgb(0,255,255);font-family:courier new&quot;&gt;&lt;s=\r\npan style=3D&quot;background-color:rgb(0,255,255);font-family:courier new&quot;&gt;=A0=\r\n=A0=A0=A0=A0=A0=A0 &lt;input name=3D&quot;c2&quot; value=3D&quot;bar&quot; =\r\n/&gt;&lt;/span&gt;&lt;br style=3D&quot;background-color:rgb(0,255,255);font-family:courie=\r\nr new&quot;&gt;\n&lt;span style=3D&quot;background-color:rgb(0,255,255);font-family:courier =\r\nnew&quot;&gt;=A0=A0=A0=A0=A0=A0=A0 &lt;input name=3D&quot;c3&quot; value=3D&quot;ba=\r\nz&quot; /&gt;&lt;/span&gt;&lt;br style=3D&quot;background-color:rgb(0,255,255);font-famil=\r\ny:courier new&quot;&gt;&lt;span style=3D&quot;background-color:rgb(0,255,255);font-family:c=\r\nourier new&quot;&gt;=A0=A0=A0=A0=A0=A0=A0 &lt;input type=3D&quot;submit&quot; /&gt;=\r\n&lt;/span&gt;&lt;br style=3D&quot;background-color:rgb(0,255,255);font-family:courier new=\r\n&quot;&gt;\n&lt;span style=3D&quot;background-color:rgb(0,255,255);font-family:courier new&quot;&gt;=\r\n=A0=A0=A0 &lt;/form&gt;&lt;/span&gt;&lt;br style=3D&quot;background-color:rgb(0,255,255);=\r\nfont-family:courier new&quot;&gt;&lt;br&gt;The problem is : it is artificial. If my crite=\r\nria set changes, or if its representation changes, I could end up with conf=\r\nlicts or doubles.&lt;br&gt;\n&lt;br&gt;2/ I trick the client into believing it actually =\r\ncreated something new, whether or not it has. This means, even if /filters/=\r\n123456 already exists, my server will answer it to anyone POSTing the &quot=\r\n;c1=3Dfoo&amp;c2=3Dbar&amp;c3=3Dbaz&quot; content.&lt;br&gt;\n&lt;br&gt;The problem is :=\r\n it&#39;s a fraud. Only the initial POST really &quot;appends&quot; somethi=\r\nng.&lt;br&gt;&lt;br&gt;3/ I answer the second-and-further POST requests with a &quot;40=\r\n9 Conflict&quot; answer, and the correct location.&lt;br&gt;\n&lt;br&gt;The problem is :=\r\n it is not actually an error. The client doesn&#39;t care to register somet=\r\nhing, it just has no way to know wheter or not the resource he is looking f=\r\nor already exists.&lt;br&gt;&lt;br&gt;4/ I do a preliminary check&lt;br&gt;\n&lt;br&gt;=A0=A0=A0 Req=\r\nuest :&lt;br&gt;&lt;br&gt;&lt;span style=3D&quot;font-family:courier new;background-color:rgb(0=\r\n,255,255)&quot;&gt;=A0=A0=A0 GET /filters?c1=3Dfoo&amp;c2=3Dbar&amp;c3=3Dbaz HTTP/1=\r\n.1&lt;/span&gt;&lt;br style=3D&quot;font-family:courier new;background-color:rgb(0,255,25=\r\n5)&quot;&gt;\n&lt;br&gt;=A0=A0=A0 Response :&lt;br&gt;&lt;br&gt;&lt;span style=3D&quot;font-family:courier new=\r\n;background-color:rgb(0,255,255)&quot;&gt;=A0=A0=A0 HTTP/1.1 301 Moved Permanently&lt;=\r\n/span&gt;&lt;br style=3D&quot;font-family:courier new;background-color:rgb(0,255,255)&quot;=\r\n&gt;&lt;span style=3D&quot;font-family:courier new;background-color:rgb(0,255,255)&quot;&gt;=\r\n=A0=A0=A0 Location: /filters/123456&lt;/span&gt;&lt;br style=3D&quot;font-family:courier =\r\nnew;background-color:rgb(0,255,255)&quot;&gt;\n&lt;br&gt;The problem is : If the resource =\r\ndoesn&#39;t exists at that time, I&#39;ll be willing to create it. If I do,=\r\n nothing ensures me that someone hasn&#39;t created it inbetween. Then, if =\r\nI want to put aside a location for my resource, it implies my GET isn&#39;t=\r\n safe anymore.&lt;br&gt;\n&lt;br&gt;5/ The last option I see is that the URI should cont=\r\nains the whole content of the resource, as it is its &quot;natural&quot; id=\r\nentifier. This is especially difficult if I have a large set of criteria, a=\r\nnd if their values are complex. This is why we use ids in the first place.&lt;=\r\nbr&gt;\n&lt;br&gt;Thanks in advance for your help&lt;br&gt;&lt;br&gt;Fran=E7ois&lt;br&gt;&lt;br&gt;\n\n\n\n\n\n\n&lt;br=\r\n&gt;\n\n    \n    \n&lt;br&gt;\n\n\n\n\n&lt;div width=3D&quot;1&quot; style=3D&quot;color:white;clear:both&quot;&gt;&lt;/d=\r\niv&gt;\n\n\n\n&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;\n\r\n--e89a8ff1c2e86c7c8604c1968820--\r\n\n"}}
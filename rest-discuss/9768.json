{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":32817984,"authorName":"Amaeze","from":"&quot;Amaeze&quot; &lt;amaeze@...&gt;","profile":"amaeze77","replyTo":"SENDER","senderId":"vR9kw6oEMJBH4305b0UEzb0z9DzMKz0tLRAVLcLc63mu8BeSTO71Sse1GFUpEXrPsBhHpzGvFjOcpzycOyZkjy88_OA","spamInfo":{"isSpam":false,"reason":"6"},"subject":"Re: Using URIs and PUT to model state machines.","postDate":"1194530581","msgId":9768,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PGZndjR1bCsxMG5vcUBlR3JvdXBzLmNvbT4=","inReplyToHeader":"PDIwMDcxMTA1MjA1MC40NzEwNS5mMjAwNTEyNUBiaXRzLXBpbGFuaS5hYy5pbj4="},"prevInTopic":9750,"nextInTopic":9777,"prevInTime":9767,"nextInTime":9769,"topicId":9730,"numMessagesInTopic":8,"msgSnippet":"... state at ... What are we referring to as state ?  I am changing the internal representation of the order  but I am also changing it s business state. ","rawEmail":"Return-Path: &lt;amaeze@...&gt;\r\nX-Sender: amaeze@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 6756 invoked from network); 8 Nov 2007 14:03:01 -0000\r\nX-Received: from unknown (66.218.67.96)\n  by m54.grp.scd.yahoo.com with QMQP; 8 Nov 2007 14:03:01 -0000\r\nX-Received: from unknown (HELO n41c.bullet.mail.sp1.yahoo.com) (66.163.168.175)\n  by mta17.grp.scd.yahoo.com with SMTP; 8 Nov 2007 14:03:01 -0000\r\nX-Received: from [216.252.122.218] by n41.bullet.mail.sp1.yahoo.com with NNFMP; 08 Nov 2007 14:03:01 -0000\r\nX-Received: from [66.218.69.1] by t3.bullet.sp1.yahoo.com with NNFMP; 08 Nov 2007 14:03:01 -0000\r\nX-Received: from [66.218.66.86] by t1.bullet.scd.yahoo.com with NNFMP; 08 Nov 2007 14:03:01 -0000\r\nDate: Thu, 08 Nov 2007 14:03:01 -0000\r\nTo: rest-discuss@yahoogroups.com\r\nMessage-ID: &lt;fgv4ul+10noq@...&gt;\r\nIn-Reply-To: &lt;200711052050.47105.f2005125@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-compose\r\nX-eGroups-Msg-Info: 1:6:0:0:0\r\nFrom: &quot;Amaeze&quot; &lt;amaeze@...&gt;\r\nSubject: Re: Using URIs and PUT to model state machines.\r\nX-Yahoo-Group-Post: member; u=32817984; y=60a3TYc6bwwHa-ozv2pmpWvzN7hgseXBU8_tF8p5dmMn37U\r\nX-Yahoo-Profile: amaeze77\r\n\r\n\n\n--- In rest-discuss@yahoogroups.com, Devdatta Akhawe &lt;f2005125@...&gt;\nwrote=\r\n:\n&gt;\n&gt; Hey,\n&gt; I am a noob too , so forgive any mistakes .\n&gt;\n&gt; &gt; In my opinio=\r\nn, a much cleaner design is to create distinct (sub)\n&gt; &gt; resources for each=\r\n state transition i.e. &#92;orders&#92;[order_id]&#92;shipped\n&gt; &gt; and &#92;orders&#92;[order_id=\r\n]&#92;canceled then PUT indicating the need for the\n&gt; &gt; creation of the new sta=\r\nte while updating the underlying resource.\n&gt;\n&gt; Are you actually creating a =\r\nnew state or are you just changing the\nstate at\n&gt; the server ?\n&gt;\n&gt; I believ=\r\ne POST to /orders/[order_id] is fine.\nWhat are we referring to as &quot;state&quot;? =\r\n I am changing the internal\nrepresentation of the &quot;order&quot;  but I am also ch=\r\nanging it&#39;s business\nstate.\n&gt; &gt; The PUT would return (at least) a link to t=\r\nhe next logical state -\nit\n&gt; &gt; could return links to all possible &quot;next&quot; st=\r\nates. A GET on these\n&gt;\n&gt; This can be done with a &lt;link&gt; element in what is =\r\nreturned.\nAlternatively ,\n&gt; the next logical state that you mention can als=\r\no be returned, like the\nway\n&gt; the ATOM Pub sends the URI of the newly creat=\r\ned blog post when you\nPOST a new\n&gt; entry to it.\n&gt;\n&gt;\n&gt; &gt; For example, I coul=\r\nd POST a &quot;ship&quot; instruction to &#92;orders&#92;[order_id]\n&gt; &gt; as the following:\n&gt; &gt;=\r\n &lt;state&gt;ship&lt;/state&gt;\n&gt; &gt; &lt;qty&gt;5&lt;/qty&gt;\n&gt; &gt;\n&gt; &gt; However, if I want to &quot;cancel=\r\n&quot; that same order using the same\n&gt; &gt; resource (URI), the body of my POST wo=\r\nuld change to:\n&gt; &gt; &lt;state&gt;cancel&lt;/state&gt;\n&gt; &gt; &lt;qty&gt;0&lt;/qty&gt;\n&gt;\n&gt; I think what =\r\nyou are raising here is the problem that you are sending\nthe\n&gt; verbs SHIP /=\r\n CANCEL to the URI through the POST body. Note that this\nisn&#39;t a\n&gt; constrai=\r\nnt in REST , REST doesn&#39;t restrict you to use only the HTTP\nVerbs.\n&gt; That i=\r\ns a constraint of HTTP, as in the HTTP writers think that these\nare all\n&gt; t=\r\nhe verbs you need for resources on the web. If you think that your\n&gt; applic=\r\nation needs more, it is perfectly RESTful to do so .. but don&#39;t\nuse\n&gt; HTTP.=\r\n\nNot to sure how to respond to that.\n&gt; &gt; In my opinion, a much cleaner desi=\r\ngn is to create distinct (sub)\n&gt; &gt; resources for each state transition i.e.=\r\n &#92;orders&#92;[order_id]&#92;shipped\n&gt; This is where you are going wrong. The URI po=\r\nints to resources / state\nnot\n&gt; state transitions. &#92;order&#92;[order_id]&#92;shippe=\r\nd is not a resource, so it\nis\n&gt; wrong to write a URI for it. /order/[order_=\r\nid]/status is a resource,\nthis\n&gt; could be used.\nBut what really is a resour=\r\nce - isn&#39;t it anything?  If I created a\nresource &#92;ordershipper and POST&#39;d a=\r\n document to it, what would make that\nany more of a resource?\n&gt;\n&gt; &gt; An inte=\r\nresting result of such design is that it forces a designer to\n&gt; &gt; look at a=\r\n system (and the entities in system) in the context of a\n&gt; &gt; state machine.=\r\n State machines are powerful!\n&gt;\n&gt; Exactly. So a POST to the /order/order_id=\r\n/ changes its state from\nshipped to\n&gt; cancelled. What is wrong with this ?\n=\r\nHow do I communicate that I want to &quot;cancel&quot; the order as opposed to\n&quot;ship&quot;=\r\n?\n&gt;\n&gt; Again, I am a newbie so I might be very wrong! but this is my\nunderst=\r\nanding of\n&gt; REST.\n&gt;\n&gt;\n&gt; Regards\n&gt; devdatta\n&gt;\n\n\n\n\n"}}
{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":362018624,"authorName":"Jan Vincent","from":"Jan Vincent &lt;jvliwanag@...&gt;","profile":"jv.liwanag","replyTo":"SENDER","senderId":"CblF9298pO5VJ-ulHFXQEpTUCRF3OCMs_0moXBTJAkGXKrdKfEkePETjyzlx5ZaaBTXthR94Zqt3dl3sRxcJO3FOgel_EfC8","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Idea for a REST client","postDate":"1267262121","msgId":14934,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDFBRDNCRjgyLTQ5ODItNEFDMC1CRjM1LTRCMTg0QkFGN0Y0NkBnbWFpbC5jb20+"},"prevInTopic":0,"nextInTopic":14935,"prevInTime":14933,"nextInTime":14935,"topicId":14934,"numMessagesInTopic":11,"msgSnippet":"Hi guys, I wish to create a framework for accessing REST resources over HTTP. I wish to focus on xhtml Content-Type in particular. The idea is that the","rawEmail":"Return-Path: &lt;jvliwanag@...&gt;\r\nX-Sender: jvliwanag@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 56991 invoked from network); 27 Feb 2010 09:15:32 -0000\r\nX-Received: from unknown (98.137.34.46)\n  by m11.grp.re1.yahoo.com with QMQP; 27 Feb 2010 09:15:32 -0000\r\nX-Received: from unknown (HELO mail-yw0-f182.google.com) (209.85.211.182)\n  by mta3.grp.sp2.yahoo.com with SMTP; 27 Feb 2010 09:15:32 -0000\r\nX-Received: by ywh12 with SMTP id 12so408059ywh.10\n        for &lt;rest-discuss@yahoogroups.com&gt;; Sat, 27 Feb 2010 01:15:32 -0800 (PST)\r\nX-Received: by 10.150.207.4 with SMTP id e4mr2416521ybg.77.1267262131997;\n        Sat, 27 Feb 2010 01:15:31 -0800 (PST)\r\nReturn-Path: &lt;jvliwanag@...&gt;\r\nX-Received: from ?192.168.1.102? ([120.28.96.76])\n        by mx.google.com with ESMTPS id 4sm361682ywg.39.2010.02.27.01.15.29\n        (version=TLSv1/SSLv3 cipher=RC4-MD5);\n        Sat, 27 Feb 2010 01:15:31 -0800 (PST)\r\nContent-Type: multipart/alternative; boundary=Apple-Mail-32--955370905\r\nDate: Sat, 27 Feb 2010 17:15:21 +0800\r\nMessage-Id: &lt;1AD3BF82-4982-4AC0-BF35-4B184BAF7F46@...&gt;\r\nTo: rest-discuss@yahoogroups.com\r\nMime-Version: 1.0 (Apple Message framework v1077)\r\nX-Mailer: Apple Mail (2.1077)\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Jan Vincent &lt;jvliwanag@...&gt;\r\nSubject: Idea for a REST client\r\nX-Yahoo-Group-Post: member; u=362018624; y=d6CdkfwMmXmXycX6gQ0ZexcNVsSLHu0WdTzxFWhNx6jw3ZB1JBA\r\nX-Yahoo-Profile: jv.liwanag\r\n\r\n\r\n--Apple-Mail-32--955370905\r\nContent-Transfer-Encoding: quoted-printable\r\nContent-Type: text/plain;\n\tcharset=us-ascii\r\n\r\nHi guys,\n\nI wish to create a framework for accessing REST resources over HT=\r\nTP. I wish to focus on xhtml Content-Type in particular. The idea is that t=\r\nhe developer would provide instructions on how to get to the resource from =\r\na single URL.\n\nImplementation-wise however, the framework would provide all=\r\n the necessary plumbing to take care of caching and what not.\n\nConsider thr=\r\nee resources:\n\nRoot Resource - primary URL (&quot;/&quot;), entry point for the servi=\r\nce, has a link to the User List\nUser List - lists all users, on GET, may ac=\r\ncept a query string &quot;email&quot; to search for a specific user, contains link to=\r\n the users&#39; respective profiles\nUser Profile - the profile of a user\n\nIn or=\r\nder to implement something like get_user_by_email, the developer would have=\r\n to describe how to get from the Root Resource to the User Profile. In code=\r\n, a developer using the framework would do something like:\n\nget_user_by_ema=\r\nil(email) {\n  from(&quot;/&quot;)\n    .on(200) { |Root|\n      Root.follow(&quot;#users_lin=\r\nk&quot;)\n        .on(200) { |Users|\n          Users.fill_in(&quot;#search_form&quot;, {&quot;em=\r\nail&quot;: email})\n            .on(200) { |SearchResult|\n               SearchRe=\r\nsult ...get_first_result...\n                 .on(200) { |Profile|\n         =\r\n          return profile_to_some_struct(Profile)\n                 }\n       =\r\n     }\n        }\n    }\n}\n\nI&#39;m still working on how to best express this int=\r\nent as code, and it&#39;s pretty ugly now I must admit.\n\nHowever, the framework=\r\n doesn&#39;t really execute the instructions by the developer directly. Instead=\r\n, it uses its built in cache to get the result. From the example above, the=\r\n framework would do things in reverse:\n\n1. Is there a cache* of the result =\r\nto a call to get_user_by_email(email)? If YES, return prior result, If NO, =\r\ngo to step 2\n2. Is there a cache of the result to a call getting the search=\r\n matches of a user given a specified email? If YES, using that result, go d=\r\nown the code -- following the link to the user profile, then returning the =\r\nresult. If NO, go to step 3.\n3. Is there a cache of the list of users? If Y=\r\nES, go on and fill in the search form, etc. If NO, go to step 4\n4. Is there=\r\n a cache of the root resource? If YES, go back steps 3,2,1. If NO, get the =\r\nroot resource, and then go further back the steps.\n\n* When I say cached, I =\r\ngenerally mean that there has been a prior call, and the result was cached =\r\nAND the cache hasn&#39;t expired yet based on the server cache instructions\n\nTh=\r\ne framework forms a tree of possible scenarios. It starts from the most opt=\r\nimistic test (step 1) on the leaf, and if it fails, goes back to its parent=\r\n.\n\nI believe this would be useful especially if the applications that are g=\r\noing to be built don&#39;t follow the UI style of web pages following linked do=\r\ncuments. Is this a HATEOAS respecting client? I&#39;d truly appreciate some inp=\r\nuts.\n\nFYI, I&#39;ll start development of an Erlang version at http://bitbucket.=\r\norg/jvliwanag/restr/ . Though, there&#39;s nothing there yet now. Hehe.\n\nJan Vi=\r\nncent Liwanag\njvliwanag@...\n\n\n\n\r\n--Apple-Mail-32--955370905\r\nContent-Transfer-Encoding: quoted-printable\r\nContent-Type: text/html;\n\tcharset=us-ascii\r\n\r\n&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body style=3D&quot;word-wrap: break-word; -webkit-nbsp-mode:=\r\n space; -webkit-line-break: after-white-space; &quot;&gt;&lt;div&gt;Hi guys,&lt;/div&gt;&lt;div&gt;&lt;b=\r\nr&gt;&lt;/div&gt;&lt;div&gt;I wish to create a framework for accessing REST resources over=\r\n HTTP. I wish to focus on xhtml Content-Type in particular. The idea is tha=\r\nt the developer would provide instructions on how to get to the resource fr=\r\nom a single URL.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Implementation-wise however, the =\r\nframework would provide all the necessary plumbing to take care of caching =\r\nand what not.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Consider three resources:&lt;/div&gt;&lt;div&gt;=\r\n&lt;br&gt;&lt;/div&gt;&lt;div&gt;Root Resource - primary URL (&quot;/&quot;), entry point for the servi=\r\nce, has a link to the User List&lt;/div&gt;&lt;div&gt;User List - lists all users, on G=\r\nET, may accept a query string &quot;email&quot; to search for a specific user, contai=\r\nns link to the users&#39; respective profiles&lt;/div&gt;&lt;div&gt;User Profile - the prof=\r\nile of a user&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;In order to implement something like=\r\n get_user_by_email, the developer would have to describe how to get from th=\r\ne Root Resource to the User Profile.&nbsp;In code, a developer using the fr=\r\namework would do something like:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;font class=3D&quot;Ap=\r\nple-style-span&quot; face=3D&quot;Monaco&quot; size=3D&quot;3&quot;&gt;&lt;span class=3D&quot;Apple-style-span&quot;=\r\n style=3D&quot;font-size: 12px;&quot;&gt;get_user_by_email(email) {&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;=\r\ndiv&gt;&lt;font class=3D&quot;Apple-style-span&quot; face=3D&quot;Monaco&quot; size=3D&quot;3&quot;&gt;&lt;span class=\r\n=3D&quot;Apple-style-span&quot; style=3D&quot;font-size: 12px;&quot;&gt;&nbsp;&nbsp;from(&quot;/&quot;)&lt;/spa=\r\nn&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font class=3D&quot;Apple-style-span&quot; face=3D&quot;Monaco&quot; size=\r\n=3D&quot;3&quot;&gt;&lt;span class=3D&quot;Apple-style-span&quot; style=3D&quot;font-size: 12px;&quot;&gt;&nbsp;&n=\r\nbsp; &nbsp;.on(200) { |Root|&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font class=3D&quot;Apple-s=\r\ntyle-span&quot; face=3D&quot;Monaco&quot;&gt;&nbsp;&nbsp; &nbsp; &nbsp;Root.follow(&quot;#users_li=\r\nnk&quot;)&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font class=3D&quot;Apple-style-span&quot; face=3D&quot;Monaco&quot;&gt;&nbs=\r\np;&nbsp; &nbsp; &nbsp; &nbsp;.on(200) { |Users|&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font clas=\r\ns=3D&quot;Apple-style-span&quot; face=3D&quot;Monaco&quot;&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &n=\r\nbsp;Users.fill_in(&quot;#search_form&quot;, {&quot;email&quot;: email})&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font =\r\nclass=3D&quot;Apple-style-span&quot; face=3D&quot;Monaco&quot;&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp=\r\n; &nbsp; &nbsp;.on(200) { |SearchResult|&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font class=3D&quot;Ap=\r\nple-style-span&quot; face=3D&quot;Monaco&quot;&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &n=\r\nbsp; &nbsp; SearchResult ...get_first_result...&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font clas=\r\ns=3D&quot;Apple-style-span&quot; face=3D&quot;Monaco&quot;&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &n=\r\nbsp; &nbsp; &nbsp; &nbsp; .on(200) { |Profile|&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font class=\r\n=3D&quot;Apple-style-span&quot; face=3D&quot;Monaco&quot;&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nb=\r\nsp; &nbsp; &nbsp; &nbsp; &nbsp; return profile_to_some_struct(Profile)&lt;/fon=\r\nt&gt;&lt;/div&gt;&lt;div&gt;&lt;font class=3D&quot;Apple-style-span&quot; face=3D&quot;Monaco&quot;&gt;&nbsp;&nbsp; =\r\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font c=\r\nlass=3D&quot;Apple-style-span&quot; face=3D&quot;Monaco&quot;&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;=\r\n &nbsp; &nbsp;}&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font class=3D&quot;Apple-style-span&quot; face=3D&quot;M=\r\nonaco&quot;&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;}&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font class=3D&quot;A=\r\npple-style-span&quot; face=3D&quot;Monaco&quot;&gt;&nbsp;&nbsp; &nbsp;}&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;fon=\r\nt class=3D&quot;Apple-style-span&quot; face=3D&quot;Monaco&quot; size=3D&quot;3&quot;&gt;&lt;span class=3D&quot;Appl=\r\ne-style-span&quot; style=3D&quot;font-size: 12px;&quot;&gt;}&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/di=\r\nv&gt;&lt;div&gt;I&#39;m still working on how to best express this intent as code, and it=\r\n&#39;s pretty ugly now I must admit.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;However, the fram=\r\nework doesn&#39;t really execute the instructions by the developer directly. In=\r\nstead, it uses its built in cache to get the result. From the example above=\r\n, the framework would do things in reverse:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;1. Is =\r\nthere a cache* of the result to a call to get_user_by_email(email)? If YES,=\r\n return prior result, If NO, go to step 2&lt;/div&gt;&lt;div&gt;2. Is there a cache of =\r\nthe result to a call getting the search matches of a user given a specified=\r\n email? If YES, using that result, go down the code -- following the link t=\r\no the user profile, then returning the result. If NO, go to step 3.&lt;/div&gt;&lt;d=\r\niv&gt;3. Is there a cache of the list of users? If YES, go on and fill in the =\r\nsearch form, etc. If NO, go to step 4&lt;/div&gt;&lt;div&gt;4. Is there a cache of the =\r\nroot resource? If YES, go back steps 3,2,1. If NO, get the root resource, a=\r\nnd then go further back the steps.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;* When I say ca=\r\nched, I generally mean that there has been a prior call, and the result was=\r\n cached AND the cache hasn&#39;t expired yet based on the server cache instruct=\r\nions&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The framework forms a tree of possible scenar=\r\nios. It starts from the most optimistic test (step 1) on the leaf, and if i=\r\nt fails, goes back to its parent.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I believe this w=\r\nould be useful especially if the applications that are going to be built do=\r\nn&#39;t follow the UI style of web pages following linked documents. Is this a =\r\nHATEOAS respecting client? I&#39;d truly appreciate some inputs.&lt;/div&gt;&lt;div&gt;&lt;br&gt;=\r\n&lt;/div&gt;&lt;div&gt;FYI, I&#39;ll start development of an Erlang version at&nbsp;&lt;a href=\r\n=3D&quot;http://bitbucket.org/jvliwanag/restr/&quot;&gt;http://bitbucket.org/jvliwanag/r=\r\nestr/&lt;/a&gt;&nbsp;. Though, there&#39;s nothing there yet now. Hehe.&lt;/div&gt;&lt;meta ch=\r\narset=3D&quot;utf-8&quot;&gt;&lt;br&gt;&lt;div&gt;\n&lt;div&gt;Jan Vincent Liwanag&lt;/div&gt;&lt;div&gt;&lt;a href=3D&quot;mai=\r\nlto:jvliwanag@...&quot;&gt;jvliwanag@...&lt;/a&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;br cl=\r\nass=3D&quot;Apple-interchange-newline&quot;&gt;\n&lt;/div&gt;\n&lt;br&gt;&lt;/body&gt;&lt;/html&gt;\r\n--Apple-Mail-32--955370905--\r\n\n"}}
{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":352334505,"authorName":"Craig McClanahan","from":"Craig McClanahan &lt;craigmcc@...&gt;","profile":"craig_mcclanahan","replyTo":"SENDER","senderId":"VTb-LEtDUflHwtD_OTPLuOx5b3Y84NhrZoiN48RBC1A60nRJqfSIac-cph1VeedI5A0IrShG7HjeRmK7wS_o3Hypk4cjhbLYVIbFGQ","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [rest-discuss] How to embed user specific content in a common \tpage?","postDate":"1276759569","msgId":15714,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PEFBTkxrVGluQ3ZzMEo2SkJVS2EzWG8yUWRPWk9fV0NDQzNFdkh1TzZ0VVFKdUBtYWlsLmdtYWlsLmNvbT4=","inReplyToHeader":"PDE4NDE4MS43OTM2MS5xbUB3ZWIyODQxMS5tYWlsLnVrbC55YWhvby5jb20+","referencesHeader":"PDMxNTk0NS40Mjk2NS5xbUB3ZWIyODQwNi5tYWlsLnVrbC55YWhvby5jb20+CTwxNzYxQThCNi1EOEIxLTQyNDQtODkwNS0yNDhEMDcwOEUzNUNAbWFjLmNvbT4JPDE4NDE4MS43OTM2MS5xbUB3ZWIyODQxMS5tYWlsLnVrbC55YWhvby5jb20+"},"prevInTopic":15713,"nextInTopic":15715,"prevInTime":15713,"nextInTime":15715,"topicId":15709,"numMessagesInTopic":14,"msgSnippet":"On Wed, Jun 16, 2010 at 10:18 PM, Christian Helmbold ","rawEmail":"Return-Path: &lt;craigmcc@...&gt;\r\nX-Sender: craigmcc@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 38744 invoked from network); 17 Jun 2010 07:26:10 -0000\r\nX-Received: from unknown (98.137.34.46)\n  by m14.grp.re1.yahoo.com with QMQP; 17 Jun 2010 07:26:10 -0000\r\nX-Received: from unknown (HELO mail-pv0-f178.google.com) (74.125.83.178)\n  by mta3.grp.sp2.yahoo.com with SMTP; 17 Jun 2010 07:26:10 -0000\r\nX-Received: by pvh1 with SMTP id 1so238391pvh.9\n        for &lt;rest-discuss@yahoogroups.com&gt;; Thu, 17 Jun 2010 00:26:10 -0700 (PDT)\r\nMIME-Version: 1.0\r\nX-Received: by 10.143.169.1 with SMTP id w1mr6979951wfo.88.1276759569601; Thu, \n\t17 Jun 2010 00:26:09 -0700 (PDT)\r\nX-Received: by 10.142.179.7 with HTTP; Thu, 17 Jun 2010 00:26:09 -0700 (PDT)\r\nIn-Reply-To: &lt;184181.79361.qm@...&gt;\r\nReferences: &lt;315945.42965.qm@...&gt;\n\t&lt;1761A8B6-D8B1-4244-8905-248D0708E35C@...&gt;\n\t&lt;184181.79361.qm@...&gt;\r\nDate: Thu, 17 Jun 2010 00:26:09 -0700\r\nMessage-ID: &lt;AANLkTinCvs0J6JBUKa3Xo2QdOZO_WCCC3EvHuO6tUQJu@...&gt;\r\nTo: Christian Helmbold &lt;christian.helmbold@...&gt;\r\nCc: Jan Algermissen &lt;algermissen1971@...&gt;, rest-discuss@yahoogroups.com\r\nContent-Type: multipart/alternative; boundary=000e0cd1b47a9c14fe048934c0fb\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Craig McClanahan &lt;craigmcc@...&gt;\r\nReply-To: craigmcc@...\r\nSubject: Re: [rest-discuss] How to embed user specific content in a common \n\tpage?\r\nX-Yahoo-Group-Post: member; u=352334505; y=6jFdYJJS-kUJT7q94JJUJtOiuE27mY-FUA3UaHneU1I3PcPmaj5UIxQ8Zw\r\nX-Yahoo-Profile: craig_mcclanahan\r\n\r\n\r\n--000e0cd1b47a9c14fe048934c0fb\r\nContent-Type: text/plain; charset=windows-1252\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\nOn Wed, Jun 16, 2010 at 10:18 PM, Christian Helmbold &lt;\nchristian.helmbold@y=\r\nahoo.de&gt; wrote:\n\n&gt;\n&gt;\n&gt;\n&gt;\n&gt; &gt; Why do you want the page to be the same for al=\r\nl\n&gt; &gt; users? Caching?\n&gt;\n&gt; Yes, I had caching in mind.\n&gt;\n&gt;\n&gt; &gt; Here is what =\r\nyou could do:\n&gt;\n&gt; &gt; Link to /cart from the\n&gt; &gt; product page and redirect /c=\r\nart to /cart/tom for user Tom based on\n&gt; Authorization\n&gt; &gt; header.\n&gt; &gt;\n&gt; &gt; =\r\nGET /cart\n&gt; &gt; Authorization: Thomas Magnum\n&gt; &gt;\n&gt; &gt; 307\n&gt; &gt;\n&gt; Temporary Redi=\r\nrect\n&gt; &gt; Location: /cart/tom\n&gt;\n&gt; A user is not necessarily authenticated.\n&gt;=\r\n\n&gt; This seems like a good opportunity to make up a random cart identifier f=\r\nor\nthe unauthenticated user.  In fact, you should make up a random cart\nide=\r\nntifier for authenticated users too.  That way, you&#39;re removing an attack\nv=\r\nector from a malicious hacker that figures out your &quot;/cart/{username}&quot; URI\n=\r\npattern.  Plus, it makes it easy to maintain the stateless constraint even\n=\r\nfor authenticated users (the cart and its associated ID expires after some\n=\r\ntimeout period).\n\nSo, for either authenticated or unauthenticated users, se=\r\nnd them to\n&quot;/cart/{cartID}&quot; where cartID is a randomly calculated value tha=\r\nt has an\nexpiration -- basically this is the same kind of thing that Java s=\r\nervlet\ncontainers do with session IDs, to reduce the chance that an attacke=\r\nr can\nguess an appropriate value.\n\nCraig\n\n\n&gt;\n&gt; &gt; Even better: use client\n&gt; =\r\n&gt; side storage (even if it is cookie-based) to store user state (the\n&gt; &gt; ca=\r\nrt).\n&gt;\n&gt; Ok, that would be an opportunity.\n&gt;\n&gt; Christian\n&gt;\n&gt;  \n&gt;\n\r\n--000e0cd1b47a9c14fe048934c0fb\r\nContent-Type: text/html; charset=windows-1252\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\n&lt;br&gt;&lt;br&gt;\n&lt;div class=3D&quot;gmail_quote&quot;&gt;On Wed, Jun 16, 2010 at 10:18 PM, Chris=\r\ntian Helmbold &lt;span dir=3D&quot;ltr&quot;&gt;&lt;&lt;a href=3D&quot;mailto:christian.helmbold@ya=\r\nhoo.de&quot;&gt;christian.helmbold@...&lt;/a&gt;&gt;&lt;/span&gt; wrote:&lt;br&gt;\n&lt;blockquote s=\r\ntyle=3D&quot;BORDER-LEFT: #ccc 1px solid; MARGIN: 0px 0px 0px 0.8ex; PADDING-LEF=\r\nT: 1ex&quot; class=3D&quot;gmail_quote&quot;&gt;\n&lt;div style=3D&quot;BACKGROUND-COLOR: #fff&quot;&gt;&lt;span&gt;=\r\n=A0&lt;/span&gt; \n&lt;div&gt;\n&lt;div&gt;\n&lt;div&gt;\n&lt;p&gt;\n&lt;div class=3D&quot;im&quot;&gt;&lt;br&gt;&lt;br&gt;&gt; Why do you=\r\n want the page to be the same for all &lt;br&gt;&gt; users? Caching?&lt;br&gt;&lt;br&gt;&lt;/div=\r\n&gt;Yes, I had caching in mind. \n&lt;div class=3D&quot;im&quot;&gt;&lt;br&gt;&lt;br&gt;&gt; Here is what y=\r\nou could do:&lt;br&gt;&lt;br&gt;&gt; Link to /cart from the &lt;br&gt;&gt; product page and r=\r\nedirect /cart to /cart/tom for user Tom based on Authorization &lt;br&gt;&gt; hea=\r\nder.&lt;br&gt;&gt;&lt;br&gt;&gt; GET /cart&lt;br&gt;\n&gt; Authorization: Thomas Magnum&lt;br&gt;&gt=\r\n;&lt;br&gt;&gt; 307 &lt;br&gt;&gt; &lt;br&gt;Temporary Redirect&lt;br&gt;&gt; Location: /cart/tom&lt;b=\r\nr&gt;&lt;br&gt;&lt;/div&gt;A user is not necessarily authenticated. \n&lt;div class=3D&quot;im&quot;&gt;&lt;br=\r\n&gt;&lt;/div&gt;&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;\n&lt;div&gt;This seems like a goo=\r\nd opportunity to make up a random cart identifier for the unauthenticated u=\r\nser.=A0 In fact, you should make up a random cart identifier for authentica=\r\nted users too.=A0 That way, you&#39;re removing an attack vector from a mal=\r\nicious hacker that figures out your &quot;/cart/{username}&quot; URI patter=\r\nn.=A0 Plus, it makes it easy to maintain the stateless constraint even for =\r\nauthenticated users (the cart and its associated ID expires after some time=\r\nout period).&lt;/div&gt;\n\n&lt;div&gt;=A0&lt;/div&gt;\n&lt;div&gt;So, for either authenticated or una=\r\nuthenticated users, send them to &quot;/cart/{cartID}&quot; where cartID is=\r\n a randomly calculated value that has an expiration -- basically this is th=\r\ne same kind of=A0thing that Java servlet containers do with session IDs, to=\r\n reduce the chance that an attacker can guess=A0an appropriate value.&lt;/div&gt;=\r\n\n\n&lt;div&gt;=A0&lt;/div&gt;\n&lt;div&gt;Craig&lt;/div&gt;\n&lt;div&gt;=A0&lt;/div&gt;\n&lt;blockquote style=3D&quot;BORDE=\r\nR-LEFT: #ccc 1px solid; MARGIN: 0px 0px 0px 0.8ex; PADDING-LEFT: 1ex&quot; class=\r\n=3D&quot;gmail_quote&quot;&gt;\n&lt;div style=3D&quot;BACKGROUND-COLOR: #fff&quot;&gt;\n&lt;div&gt;\n&lt;div&gt;\n&lt;div&gt;\n=\r\n&lt;div class=3D&quot;im&quot;&gt;&lt;br&gt;&gt; Even better: use client &lt;br&gt;&gt; side storage (e=\r\nven if it is cookie-based) to store user state (the &lt;br&gt;&gt; cart).&lt;br&gt;&lt;br&gt;=\r\n&lt;/div&gt;Ok, that would be an opportunity.&lt;br&gt;&lt;br&gt;Christian&lt;br&gt;&lt;br&gt;\n&lt;p&gt;&lt;/p&gt;&lt;/d=\r\niv&gt;\n&lt;div style=3D&quot;MIN-HEIGHT: 0px; COLOR: #fff&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/=\r\ndiv&gt;&lt;br&gt;\n\r\n--000e0cd1b47a9c14fe048934c0fb--\r\n\n"}}
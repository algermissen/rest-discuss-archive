{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":152748254,"authorName":"x y","from":"x y &lt;wiki1000@...&gt;","profile":"wiki1000","replyTo":"SENDER","senderId":"RUtMa8i2a2UgqUosA7c5024HXO8eD7sp34-DVpId1ESoT9vz1shN-l1avk-P1ScajYpONHeIm5JRGOyxngUm","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [rest-discuss] Re: sharing my banking data","postDate":"1057425161","msgId":3756,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDIwMDMwNzA1MTcxMjQxLjYzOS5xbWFpbEB3ZWI0MTgwOC5tYWlsLnlhaG9vLmNvbT4=","inReplyToHeader":"PDAwM2IwMWMzNDJhYiQxM2NiMDk2MCRhMDAwYThjMEBTZWFpcnRoQTMxPg=="},"prevInTopic":3753,"nextInTopic":3757,"prevInTime":3755,"nextInTime":3757,"topicId":3749,"numMessagesInTopic":8,"msgSnippet":"... You miss my point, sorry. I wanted to say that your initial URI is just a place holder for a modal interaction. In fact, according to what you enter as a","rawEmail":"Return-Path: &lt;wiki1000@...&gt;\r\nReceived: (qmail 82305 invoked from network); 5 Jul 2003 20:05:30 -0000\r\nReceived: from unknown (66.218.66.218)\n  by m13.grp.scd.yahoo.com with QMQP; 5 Jul 2003 20:05:30 -0000\r\nReceived: from unknown (HELO n21.grp.scd.yahoo.com) (66.218.66.77)\n  by mta3.grp.scd.yahoo.com with SMTP; 5 Jul 2003 20:05:30 -0000\r\nX-eGroups-Return: wiki1000@...\r\nReceived: from [66.218.67.170] by n21.grp.scd.yahoo.com with NNFMP; 05 Jul 2003 20:05:30 -0000\r\nX-Sender: wiki1000@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nReceived: (qmail 88805 invoked from network); 5 Jul 2003 17:12:42 -0000\r\nReceived: from unknown (66.218.66.216)\n  by m6.grp.scd.yahoo.com with QMQP; 5 Jul 2003 17:12:41 -0000\r\nReceived: from unknown (HELO web41808.mail.yahoo.com) (66.218.93.142)\n  by mta1.grp.scd.yahoo.com with SMTP; 5 Jul 2003 17:12:41 -0000\r\nMessage-ID: &lt;20030705171241.639.qmail@...&gt;\r\nReceived: from [81.49.209.171] by web41808.mail.yahoo.com via HTTP; Sat, 05 Jul 2003 10:12:41 PDT\r\nDate: Sat, 5 Jul 2003 10:12:41 -0700 (PDT)\r\nSubject: Re: [rest-discuss] Re: sharing my banking data\r\nTo: Seairth Jacobs &lt;seairth@...&gt;\r\nCc: rest-discuss@yahoogroups.com\r\nIn-Reply-To: &lt;003b01c342ab$13cb0960$a000a8c0@SeairthA31&gt;\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=us-ascii\r\nFrom: x y &lt;wiki1000@...&gt;\r\nX-Yahoo-Group-Post: member; u=152748254\r\nX-Yahoo-Profile: wiki1000\r\nX-eGroups-Approved-By: gonga_thrash &lt;distobj@...&gt; via web; 05 Jul 2003 20:05:30 -0000\r\n\r\n\n--- Seairth Jacobs &lt;seairth@...&gt; wrote:\n&gt; From: &quot;wiki1000&quot; &lt;wiki1000@...&gt;\n&gt; &gt;\n&gt; &gt; It is possible also to use other conventions....\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; --- In rest-discuss@yahoogroups.com, &quot;Seairth\n&gt; Jacobs&quot; &lt;seairth@s...&gt;\n&gt; &gt; wrote:\n&gt; &gt; &gt; This has been a very interesting conversation. \n&gt; For the fun of it, what\n&gt; &gt; &gt; about the following architecture:\n&gt; &gt; &gt;\n&gt; &gt; &gt; Premise: I want to access my banking\n&gt; information.  I also want to\n&gt; &gt; share bits\n&gt; &gt; &gt; of it with my accountant.  The URL for the bank\n&gt; is http://my.bank.\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt; 1) I GET http://my.bank/access.  The server\n&gt; returns an HTTP\n&gt; &gt; Authentication\n&gt; &gt; &gt; challenge\n&gt; &gt;\n&gt; &gt; I think that doing GET to an &quot;anonymous&quot; uri and\n&gt; obtain an invisible\n&gt; &gt; context after authentication is not restful. Why\n&gt; not doing a GET to:\n&gt; &gt;\n&gt; &gt; http://my.bank/private/sj\n&gt; &gt;\n&gt; &gt; which asks for credentials (here, sj credentials)?\n&gt; \n&gt; *sigh* sorry.  This is a mistake.  Originally, Steps\n&gt; 1 returned a web form\n&gt; and Step 2 was a POST that created the URI.  I\n&gt; changed it to HTTP Auth to\n&gt; avoid limiting the scope of the example to HTML.  I\n&gt; failed to re-read what I\n&gt; changed it to, and therefore didn&#39;t catch that I was\n&gt; returning a 201 in\n&gt; response to a GET.  So... let&#39;s go back and change\n&gt; that somewhat:\n&gt; \n&gt; 1) I POST my credentials to http://my.bank/access,\n&gt; be this from a web form,\n&gt; some proprietary xml, etc.  The server authenticates\n&gt; me and returns a 201\n&gt; with a Location of http://my.bank/access/12345. \n&gt; (note: the html form could\n&gt; be retrieved with a GET to http://my.bank/access.)\n\nYou miss my point, sorry.\nI wanted to say that your initial URI is just a &quot;place\nholder&quot; for a modal interaction.\nIn fact, according to what you enter as a user id,\nyou will get different resources. \n\nI was suggesting\nto directly enter a personalized URI containing \nyou login name in it, like: \n\nhttp://my.bank/private/sj\n\n\n&gt; &gt; &gt; 7) Also on the screen is an option that says\n&gt; &quot;send this page to:&quot; and an\n&gt; &gt; &gt; input box.  I fill in my accountant&#39;s e-mail\n&gt; address, and press\n&gt; &gt; submit.\n&gt; &gt;\n&gt; &gt; What could be done here is first to POST to the\n&gt; URI:\n&gt; &gt;\n&gt; &gt; http://my.bank/accountant/sj\n&gt; &gt;\n&gt; &gt; an xml document containing the uri :\n&gt; &gt;\n&gt; &gt; http://my.bank/private/sj/accounts/checking/456\n&gt; &gt;\n&gt; &gt; This POST has for effect to make the corresponding\n&gt; resource available\n&gt; &gt; as :\n&gt; &gt;\n&gt; &gt; http://my.bank/accountant/sj/accounts/checking/456\n&gt; &gt;\n&gt; &gt; I could then mail this uri to my accountant.\n&gt; &gt;\n&gt; &gt; If an authenticated user try to GET this, it has\n&gt; to be authenticated,\n&gt; &gt; and if not the user sj himself, has to own the\n&gt; role &quot;accountant&quot;.\n&gt; &gt;\n&gt; &gt; Of course, the role &quot;private&quot; does not give any\n&gt; right... .\n&gt; \n&gt; I&#39;m not sure I understand what you are saying here. \n&gt; I get the bit about\n&gt; creating the URI, but not the rest.\n&gt; \nWell, I mean that I add a simple interaction before,\nwhich simply add the resource you want to share in a\nkind of shared folder which can only be seen by users\nauthenticated with the role &quot;accountant&quot;. \n\nI suppose here that you accountant has this role. \n\nOf course both the operations can be made in one shot\nby the server when you click on &quot;send this page to&quot;.\n\nIn fact, what I propose here is to encode into URIs \nthe owner of the resource (here &quot;sj&quot;) along with a\n&quot;right&quot;  (here &quot;accountant&quot;) usable by non owners. \n\nI also proposed a simple way to share a personal\nresource  (in POSTing to another place). \n\n&gt; &gt; &gt; The e-mailed URL would have a limited time limit\n&gt; such as 30 minutes,\n&gt; &gt; after\n&gt; &gt; &gt; which, the link will only return a 404 response\n&gt; or some such.\n&gt; &gt; &gt;\n&gt; &gt;\n&gt; &gt; In my mind, this create a state inside the server\n&gt; (a timer). This is\n&gt; &gt; bad isn&#39;t it ?\n&gt; \n&gt; The timer is not part of the client state.  It&#39;s\n&gt; part of the resource state.\n&gt; It&#39;s the client state that the server is not suppose\n&gt; to be maintaining.\n&gt; \nYes, but such a timer is a dynamic, in memory\nresource, which is very difficult to implement in a\nscalable way. It suppose a kind of daemon attached to\nthe resource.\n\nImagine a farm of timers managing the state of hundred\nsuch resources...\n\n&gt; By the way, the reason I created the URI instead of\n&gt; using HTTP Auth (or a\n&gt; cookie or whatever) at all times was partly due to\n&gt; Tyler and his crazy\n&gt; capabilities-based security model.  :)  I am not\n&gt; sure if I am doing it\n&gt; right, but the basic idea here was that the bank\n&gt; issued a URI\n&gt; (http://my.bank/access/12345) with a defined set of\n&gt; capabilities (the\n&gt; &quot;contract&quot;).  I could do anything that&#39;s defined,\n&gt; nothing more.  On top of\n&gt; that, when I want to share part of my access, I ask\n&gt; the bank for another\n&gt; capability URI (http://my.bank/proxy-access/56789)\n&gt; for that particular bit.\n&gt; Like the first URI, use is limited to what is\n&gt; defined.  This also means that\n&gt; I do not have to get my accountant set up with a\n&gt; separate password, flip a\n&gt; potentially large set of switches to set the\n&gt; security context, etc. just to\n&gt; give access.  \n\nThis is the point: what you want to do is to share\npersonalized resources without pain. \n\nHowever, your solution implies the generation of a\nfake URI which has universal validity during its life\ntime. This is not really secure... \n\nOf course, this is a somewhat weak\n&gt; example, since most people\n&gt; would likely just copy-n-paste the screen and e-mail\n&gt; it instead of go\n&gt; through all of this effort.  But in a more complex\n&gt; situation, I see how this\n&gt; approach could work well (I think).\n&gt; \n\nI aggree, this is not top notch security. Thats why\nit is necessary to impose to the accountant to\nauthenticate himself before reading a shared URI. \n\nThis also suppose an access control system providing \nroles (or capabilities). I suggested to encode them in\nthe URI, and to allocate to each registered users a\nset of such roles, handled by the server. \n\nEncoding the &quot;needed roles&quot; in the URI allow a very\nefficient check : the access control has simply to get\nthe available user roles from the authenticated user\nprofile, and then check that there is one which match\nthe &quot;role part&quot; of the presented URI. This trick avoid\nto store a map resource-&gt;role in the server. \n\nMy question was: is this acceptable ? \n\nCheers,\n\n\n__________________________________\nDo you Yahoo!?\nSBC Yahoo! DSL - Now only $29.95 per month!\nhttp://sbc.yahoo.com\n\n\n"}}
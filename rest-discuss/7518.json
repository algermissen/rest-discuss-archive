{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":192184872,"authorName":"Ittay Dror","from":"Ittay Dror &lt;ittayd@...&gt;","profile":"ittayf","replyTo":"SENDER","senderId":"WQO5r9j4MZdkuUid2Fx-GfSrE8MRgaND9jXXX_LaqaJZhoI0Fc3SUEmsLU5x_jriyZL-h0b0oHo20NkcaX-opAAT9NZhDKM","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [rest-discuss] Re: how to model actions","postDate":"1168375155","msgId":7518,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDQ1QTNGRDczLjQwMDA3QHFsdXN0ZXJzLmNvbT4=","inReplyToHeader":"PGVvMGc4citpYmRzQGVHcm91cHMuY29tPg==","referencesHeader":"PGVvMGc4citpYmRzQGVHcm91cHMuY29tPg=="},"prevInTopic":7515,"nextInTopic":7520,"prevInTime":7517,"nextInTime":7519,"topicId":7510,"numMessagesInTopic":39,"msgSnippet":"what troubles me is that most examples i find to explain rest use simple cases, where no logic is actually running, and so it is easy to transfer services to","rawEmail":"Return-Path: &lt;Ittay.Dror@...&gt;\r\nX-Sender: Ittay.Dror@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nReceived: (qmail 38024 invoked from network); 9 Jan 2007 20:41:12 -0000\r\nReceived: from unknown (66.218.66.218)\n  by m16.grp.scd.yahoo.com with QMQP; 9 Jan 2007 20:41:12 -0000\r\nReceived: from unknown (HELO dhost002-45.dex002.intermedia.net) (64.78.21.137)\n  by mta3.grp.scd.yahoo.com with SMTP; 9 Jan 2007 20:41:12 -0000\r\nReceived: from misd002.dex002.intermedia.net ([64.78.61.100]) by dhost002-45.dex002.intermedia.net with Microsoft SMTPSVC(6.0.3790.1830);\n\t Tue, 9 Jan 2007 12:39:21 -0800\r\nReceived: from [192.168.1.102] ([85.64.253.246]) by misd002.dex002.intermedia.net over TLS secured channel with Microsoft SMTPSVC(6.0.3790.1830);\n\t Tue, 9 Jan 2007 12:39:20 -0800\r\nMessage-ID: &lt;45A3FD73.40007@...&gt;\r\nDate: Tue, 09 Jan 2007 22:39:15 +0200\r\nUser-Agent: Thunderbird 1.5.0.9 (X11/20061219)\r\nMIME-Version: 1.0\r\nCc: rest-discuss@yahoogroups.com\r\nReferences: &lt;eo0g8r+ibds@...&gt;\r\nIn-Reply-To: &lt;eo0g8r+ibds@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nReturn-Path: ittayd@...\r\nX-OriginalArrivalTime: 09 Jan 2007 20:39:21.0495 (UTC) FILETIME=[3DE5AA70:01C7342E]\r\nX-eGroups-Msg-Info: 1:0:0:0\r\nFrom: Ittay Dror &lt;ittayd@...&gt;\r\nSubject: Re: [rest-discuss] Re: how to model actions\r\nX-Yahoo-Group-Post: member; u=192184872; y=m-2IlRVbj7kZ-3FzBbKPmX2X9qatmLIAOhCg-dz7nT6l\r\nX-Yahoo-Profile: ittayf\r\n\r\nwhat troubles me is that most examples i find to explain rest use simple cases, where no logic is actually running, and so it is easy to transfer services to properties (since the services do very little)\n\nso here is my real world use case: openQRM is a platform for provisioning and managing services in a DC. a service is an entity named VirtualEnvironment that encapsulates both a set of policies on how to provision and manage the real service and a capture of the real service&#39;s state (resources, utilization, error, etc.)\n\nwe can do many actions on a service, but the primary ones are to start and stop it. starting means resources are selected from a pool and assigned to work for the service, the software is deployed on them and the service is monitored. stopping is the reverse. obviously openQRM does all this. the client just requests to &#39;start&#39; or &#39;stop&#39;.\n\nnow, it is hard for me to see &#39;start&#39; and &#39;stop&#39; as values of the &#39;currentactivity&#39; property. if anything, it looks like a masquerade of the RPC equivalent of posting to the VirtualEnvironment entity with the pair &#39;action=start&#39;. \n\nthank you for your help,\nittay\n\nwahbedahbe wrote:\n&gt; \n&gt; \n&gt; Hmmm. I&#39;m a bit of a newbie too but let me take a stab at this as an\n&gt; exercise.\n&gt; \n&gt; Now let me first say that the way you posed the question is very\n&gt; &quot;objecty&quot; or &quot;servicey&quot; to begin with and makes it a bit hard to\n&gt; answer. You&#39;ve basically said &quot;I have a service with methods A, B, and\n&gt; C; how do I make it resource based?&quot; The problem is that REST has no\n&gt; concept of class-specific methods, so without knowing what A, B, and C\n&gt; do, its hard to answer your question. In short, there is no straight\n&gt; forward transformation of an abstract service to abstract resources.\n&gt; (At least not that I know of...) They are two very different ways of\n&gt; modeling the interface. I can&#39;t transform one type of solution to\n&gt; another without understanding the problem.\n&gt; \n&gt; But I can infer a bit about the problem from the fact you are using\n&gt; the concept of a person and things a person can do (eat, sleep, work).\n&gt; I&#39;ll assume here that sleep() and work() change the state of the\n&gt; person (to sleeping and working respectively) . Maybe there is a\n&gt; substate when working that says what work you are doing. Let&#39;s also\n&gt; assume that eat() adds some food items to a list of things eaten.\n&gt; \n&gt; So to work (on building a bike shed):\n&gt; PUT /person/ittay/ currentactivity\n&gt; Content-Type: application/ x-activity+ xml\n&gt; \n&gt; &lt;activity&gt;\n&gt; &lt;type&gt;work&lt;/ type&gt;\n&gt; &lt;sub-type&gt;building a bike shed&lt;/sub-type&gt;\n&gt; &lt;/activity&gt;\n&gt; \n&gt; To sleep:\n&gt; PUT /person/ittay/ currentactivity\n&gt; Content-Type: application/ x-activity+ xml\n&gt; \n&gt; &lt;activity&gt;\n&gt; &lt;type&gt;sleep&lt; /type&gt;\n&gt; &lt;/activity&gt;\n&gt; \n&gt; To eat an apple:\n&gt; POST /person/ittay/ stomach\n&gt; Content-type: application/ x-food+xml\n&gt; \n&gt; &lt;food&gt;apple&lt; /food&gt;\n&gt; \n&gt; Now these actions could also kick off related business processes. I\n&gt; think the only method that can&#39;t is GET. Note that you could use get\n&gt; to retrieve the current activity from /person/ittay/ currentactivity or\n&gt; the list of things eaten from /person/ittay/ stomach.\n&gt; \n&gt; --- In rest-discuss@ yahoogroups. com \n&gt; &lt;mailto:rest-discuss%40yahoogroups.com&gt;, Ittay Dror &lt;ittayd@...&gt; wrote:\n&gt;  &gt;\n&gt;  &gt; thanks for your example and site reference.\n&gt;  &gt;\n&gt;  &gt; i did know that i use only HTTP methods, what i lacked is how to\n&gt; model my business methods. i am a newbie at this (maybe i should have\n&gt; indicated that)\n&gt;  &gt;\n&gt;  &gt; may i impose with a followup?\n&gt;  &gt;\n&gt;  &gt; say i have a person entity in my application. this entity has\n&gt; several business methods (eat, sleep, work). how should i model a rest\n&gt; api for these? create a PersonManager resource (which then will need\n&gt; to accept as argument what action to do), or create resources per\n&gt; action (/person/ittay/ eat maybe?).\n&gt;  &gt;\n&gt;  &gt; thanks,\n&gt;  &gt; ittay\n&gt;  &gt;\n&gt;  &gt; Jan Algermissen wrote:\n&gt;  &gt; &gt; Hi Ittay,\n&gt;  &gt; &gt;\n&gt;  &gt; &gt; the kind of question you ask indicates that you have no yet\n&gt; understood a fundamental aspect of REST, namely that there is a\n&gt; uniform interface. You do not get any other methods as the uniform set\n&gt; (the HTTP methods in the case of using HTTP as an architecture)\n&gt;  &gt; &gt;\n&gt;  &gt; &gt; Without any intention to be rude, I suggest you take a while to\n&gt; read through some of the REST material out on the Web (the REST wiki\n&gt; at http://rest. blueoxen. net &lt;http://rest.blueoxen.net&gt; is a good \n&gt; starting point as is Paul&#39;s site\n&gt; at http://prescod. com/rest &lt;http://prescod.com/rest&gt; ). This will help \n&gt; in future discussions.\n&gt;  &gt; &gt;\n&gt;  &gt; &gt;\n&gt;  &gt; &gt;&gt; Should I use &#39;POST&#39; with a &#39;method=build&#39; parameter to the &#39;plan&#39;\n&gt; URI?\n&gt;  &gt; &gt;\n&gt;  &gt; &gt; No, this is about the worst from a REST POV as it is hidden RPC.\n&gt;  &gt; &gt;\n&gt;  &gt; &gt; Think along these lines:\n&gt;  &gt; &gt;\n&gt;  &gt; &gt; Provide a means for clients to pick a resource that behaves the\n&gt; way they are interested in (some hypermedia the clients come accross\n&gt; could declare a resource as a BuildingManager) and then use POST to\n&gt; submit the building plan.\n&gt;  &gt; &gt;\n&gt;  &gt; &gt; POST /BuildingManager\n&gt;  &gt; &gt; Content-Type: application/ blueprint &lt;-- this type is\n&gt; fictous; it would need to be standardized within the realm of your system\n&gt;  &gt; &gt;\n&gt;  &gt; &gt; &lt;blueprint&gt;\n&gt;  &gt; &gt; &lt;wall location=&quot;.. ..&quot;/&gt;\n&gt;  &gt; &gt; &lt;/blueprint&gt;\n&gt;  &gt; &gt;\n&gt;  &gt; &gt;\n&gt;  &gt; &gt; IOW, in a RESTful system clients late-bind to resources based on\n&gt; runtime-declared abstract bahavior of those resources and they\n&gt; communicate via a fixed set of methods.\n&gt;  &gt; &gt;\n&gt;  &gt; &gt; HTH,\n&gt;  &gt; &gt;\n&gt;  &gt; &gt; Jan\n&gt;  &gt; &gt;\n&gt;  &gt; &gt;\n&gt;  &gt; &gt;\n&gt;  &gt; &gt;\n&gt;  &gt; &gt;\n&gt;  &gt; &gt;&gt; Thanks,\n&gt;  &gt; &gt;&gt; Ittay\n&gt;  &gt; &gt;&gt;\n&gt;  &gt; &gt;&gt;\n&gt;  &gt; &gt;&gt;\n&gt;  &gt; &gt;&gt;\n&gt;  &gt; &gt;&gt; Yahoo! Groups Links\n&gt;  &gt; &gt;&gt;\n&gt;  &gt; &gt;&gt;\n&gt;  &gt; &gt;&gt;\n&gt;  &gt; &gt;&gt;\n&gt;  &gt; &gt;&gt;\n&gt;  &gt; &gt;\n&gt;  &gt;\n&gt;  &gt;\n&gt;  &gt; --\n&gt;  &gt; ============ ========= ========= =====\n&gt;  &gt; Ittay Dror,\n&gt;  &gt; Chief architect,\n&gt;  &gt; R&D, Qlusters Inc.\n&gt;  &gt; ittayd@...\n&gt;  &gt; +972-3-6081994 Fax: +972-3-6081841\n&gt;  &gt;\n&gt;  &gt; www.openqrm. org - Data Center Provisioning\n&gt;  &gt;\n&gt; \n&gt; \n\n\n-- \n===================================\nIttay Dror, \nChief architect, \nR&D, Qlusters Inc.\nittayd@...\n+972-3-6081994 Fax: +972-3-6081841\n\nwww.openqrm.org - Data Center Provisioning\n\n"}}
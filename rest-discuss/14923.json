{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":223135631,"authorName":"Felipe Ga√∫cho","from":"=?ISO-8859-1?Q?Felipe_Ga=FAcho?= &lt;fgaucho@...&gt;","profile":"felipegaucho2003","replyTo":"SENDER","senderId":"VVmLHXGPyA6PVlncmOz9NgiEMNnHoVgXjT0Yv6WRg6I9jW0ior1lZhR2oDr2zyZ9MCDCfKXzcc8uP_OoafNQHi1tqHQvsnEjc2nCOvolCaYKD5fRbEV98RUGyA","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [rest-discuss] Differentiating HTTP-based APIs","postDate":"1267176624","msgId":14923,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PGQxMTYwMzg2MTAwMjI2MDEzMHMyOTU1Y2VlZm0zMDc5ODg4YjIwMDI2NzcxQG1haWwuZ21haWwuY29tPg==","inReplyToHeader":"PGQxMTYwMzg2MTAwMjI2MDExNXAxNTA4NjJiM2w2OGNhMjUxZTgwMTA5YzEwQG1haWwuZ21haWwuY29tPg==","referencesHeader":"PGY4YjM5YWNlMTAwMjI1MTEzN3A1Mzk1NzRiMWdmMGFlZjFlNzMzMjkyMTNAbWFpbC5nbWFpbC5jb20+CSA8NTUxOTUuNzYwNjAucW1Ad2ViNTU5MDgubWFpbC5yZTMueWFob28uY29tPgkgPGQxMTYwMzg2MTAwMjI1MjIyNmo2NGI4ZDM0MmlmZmRkYTRlNmQ4NjgzMzkwQG1haWwuZ21haWwuY29tPgkgPGY4YjM5YWNlMTAwMjI1MjMzOXAzNmE5N2U4YnA2ZTRkMWYwYzc1NzcwOGM2QG1haWwuZ21haWwuY29tPgkgPGQxMTYwMzg2MTAwMjI1MjM1NWw1ZDI5YzNmOXkxNjMxNzhiOGE5MGNhOWNhQG1haWwuZ21haWwuY29tPgkgPGY4YjM5YWNlMTAwMjI2MDEwN2w2OTk3MzE2YXM2MjIzOWJkOWE1NGIwMTBAbWFpbC5nbWFpbC5jb20+CSA8ZDExNjAzODYxMDAyMjYwMTE1cDE1MDg2MmIzbDY4Y2EyNTFlODAxMDljMTBAbWFpbC5nbWFpbC5jb20+"},"prevInTopic":14922,"nextInTopic":14924,"prevInTime":14922,"nextInTime":14924,"topicId":14904,"numMessagesInTopic":31,"msgSnippet":"just a question about your domain model sharing: and what about the code ? If you code the whole engine logic in a code, and you need a second application to","rawEmail":"Return-Path: &lt;fgaucho@...&gt;\r\nX-Sender: fgaucho@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 89667 invoked from network); 26 Feb 2010 09:36:34 -0000\r\nX-Received: from unknown (98.137.34.44)\n  by m14.grp.re1.yahoo.com with QMQP; 26 Feb 2010 09:36:34 -0000\r\nX-Received: from unknown (HELO mail-pv0-f172.google.com) (74.125.83.172)\n  by mta1.grp.sp2.yahoo.com with SMTP; 26 Feb 2010 09:36:34 -0000\r\nX-Received: by pvg2 with SMTP id 2so1418298pvg.17\n        for &lt;rest-discuss@yahoogroups.com&gt;; Fri, 26 Feb 2010 01:36:34 -0800 (PST)\r\nMIME-Version: 1.0\r\nX-Received: by 10.141.12.3 with SMTP id p3mr45973rvi.241.1267176624296; Fri, 26 \n\tFeb 2010 01:30:24 -0800 (PST)\r\nIn-Reply-To: &lt;d11603861002260115p150862b3l68ca251e80109c10@...&gt;\r\nReferences: &lt;f8b39ace1002251137p539574b1gf0aef1e73329213@...&gt;\n\t &lt;55195.76060.qm@...&gt;\n\t &lt;d11603861002252226j64b8d342iffdda4e6d8683390@...&gt;\n\t &lt;f8b39ace1002252339p36a97e8bp6e4d1f0c757708c6@...&gt;\n\t &lt;d11603861002252355l5d29c3f9y163178b8a90ca9ca@...&gt;\n\t &lt;f8b39ace1002260107l6997316as62239bd9a54b010@...&gt;\n\t &lt;d11603861002260115p150862b3l68ca251e80109c10@...&gt;\r\nDate: Fri, 26 Feb 2010 10:30:24 +0100\r\nMessage-ID: &lt;d11603861002260130s2955ceefm3079888b20026771@...&gt;\r\nTo: craigmcc@...\r\nCc: Kevin Duffey &lt;andjarnic@...&gt;, REST Discuss &lt;rest-discuss@yahoogroups.com&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Transfer-Encoding: quoted-printable\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: =?ISO-8859-1?Q?Felipe_Ga=FAcho?= &lt;fgaucho@...&gt;\r\nSubject: Re: [rest-discuss] Differentiating HTTP-based APIs\r\nX-Yahoo-Group-Post: member; u=223135631; y=TtqsMy1hCtbo-yUQX0CcjY82EOQDMiMDPaDT4lf21PB06XDgaIhlYC0YUw\r\nX-Yahoo-Profile: felipegaucho2003\r\n\r\njust a question about your domain model sharing:\n\nand what about the code ?=\r\n\n\nIf you code the whole engine logic in a code, and you need a second\nappli=\r\ncation to access the same data, you will need to recode the\nengine logic ag=\r\nain ?\n\nok, we all think about &quot;reuse of components&quot;, but so far I&#39;ve seen\nu=\r\ngly hack in the code to simulate the hypermedia engine and that&#39;s\nwhat I am=\r\n trying to do better.. but your points are good.. I will\ndigest them and tr=\r\ny to incorporate the best I can in my design\nhere.....\n\n2010/2/26 Felipe Ga=\r\n=FAcho &lt;fgaucho@...&gt;:\n&gt; excellent points.. I will consider that...\n&gt;\n=\r\n&gt; 2010/2/26 Craig McClanahan &lt;craigmcc@...&gt;:\n&gt;&gt; 2010/2/25 Felipe Ga=\r\n=FAcho &lt;fgaucho@...&gt;:\n&gt;&gt;&gt;&gt; You&#39;re missing a key feature of what both =\r\nKevin and I said ... use\n&gt;&gt;&gt;&gt; *different* classes for the *resource* domain=\r\n model and the *business*\n&gt;&gt;&gt;&gt; domain model.\n&gt;&gt;&gt;\n&gt;&gt;&gt; yes, I am aware about =\r\nthat... but the effort to maintain the mapping\n&gt;&gt;&gt; between those models gen=\r\nerates an extra and unnecessary development\n&gt;&gt;&gt; effort ,.... I also noticed=\r\n some people having a third model when the\n&gt;&gt;&gt; data will be rendered in the=\r\n presentation layer.. (a managedbean or\n&gt;&gt;&gt; other component..)... My experi=\r\nment is looking to reduce the amount of\n&gt;&gt;&gt; effort required to synchronize =\r\nall those models, having only one\n&gt;&gt;&gt; model.. and it works fine and the per=\r\nformance is better and\n&gt;&gt;&gt; maintenance effort much less than the traditiona=\r\nl MVC design...\n&gt;&gt;\n&gt;&gt; In your business domain objects, do you store the CSS=\r\n style class that\n&gt;&gt; should be used to display this object in a browser? =\r\n=A0Of course not:\n&gt;&gt;\n&gt;&gt; * The *name* of the style class is totally up to th=\r\ne designer.\n&gt;&gt;\n&gt;&gt; * Do *you* know any designers that care about backwards c=\r\nompatibility\n&gt;&gt; of style names? =A0I don&#39;t either ...\n&gt;&gt; =A0but I don&#39;t car=\r\ne, as long as the designer updates all the\n&gt;&gt; corresponding HTML pages when=\r\n the style name changes.\n&gt;&gt;\n&gt;&gt; * Style names can be changed at any time (fo=\r\nr example, when you refresh\n&gt;&gt; =A0the look and feel characteristics of your=\r\n website).\n&gt;&gt;\n&gt;&gt; * And, of course, there is normally more than one webapp\n&gt;=\r\n&gt; =A0that needs to be able to render this business domain object,\n&gt;&gt; =A0so =\r\nhaving only one style name would not be useful.\n&gt;&gt;\n&gt;&gt; The same principles a=\r\npply to designing resource representations -- we\n&gt;&gt; should assume that ther=\r\ne will be more than one representation that\n&gt;&gt; includes this particular obj=\r\nect, and more than one RESTful application\n&gt;&gt; that needs to provide access =\r\nto it, so assuming any *single* approach\n&gt;&gt; is not likely to help all our u=\r\nsers.\n&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; Then, each kind of class can have the annotations tha=\r\nt are relevant for that tier.\n&gt;&gt;&gt;\n&gt;&gt;&gt; Usually the classes are identical and=\r\n you are just including a copy\n&gt;&gt;&gt; layer to transfer data between them :)\n&gt;=\r\n&gt;&gt;\n&gt;&gt;&gt;&gt; Managing workflow, like obeying the hypermedia constraint, is a vie=\r\nw tier concern (from the point of view of a server side developer).\n&gt;&gt;&gt;\n&gt;&gt;&gt;=\r\n May be, may be not.. in my case the model contains the sate of the\n&gt;&gt;&gt; app=\r\nlication, so it is a business concern :)\n&gt;&gt;&gt;\n&gt;&gt;\n&gt;&gt; There is pretty much alw=\r\nays more than one application needing your\n&gt;&gt; data, so it&#39;s more than one b=\r\nusiness concern :-). =A0Ideally, you can\n&gt;&gt; share the business domain objec=\r\nts across these applications, but the\n&gt;&gt; reality is you&#39;ll need multiple RE=\r\nSTful resource representations that\n&gt;&gt; include data from these business dom=\r\nain objects, for the same reason\n&gt;&gt; that you will need multiple HTML repres=\r\nentations (even within the same\n&gt;&gt; webapp, how many different pages include=\r\n information from particular\n&gt;&gt; domain objects?). =A0One size does not fit =\r\nall.\n&gt;&gt;\n&gt;&gt;&gt;&gt; That&#39;s a good thing, because a REST API is typically not the o=\r\nnly way that\n&gt;&gt;&gt;&gt; such business model objects get manipulated.\n&gt;&gt;&gt;\n&gt;&gt;&gt; yes,=\r\n but the effort to manage the hypermedia just in time makes the\n&gt;&gt;&gt; whole a=\r\npplication much slower.. and it is a repettive task.. that is\n&gt;&gt;&gt; one of th=\r\ne reasons that motivated me to push the links in the\n&gt;&gt;&gt; database....\n&gt;&gt;&gt;\n&gt;=\r\n&gt;&gt;&gt; Self-test time:=A0 are you storing URIs in your database?\n&gt;&gt;&gt;\n&gt;&gt;&gt; yes. =\r\nThe sate of the application is persistent :) and scales quite\n&gt;&gt;&gt; well sinc=\r\ne I don&#39;t need to recalculate the sate on every request..\n&gt;&gt;&gt; (ok, memcache=\r\n can help a bit, but anyway... the hypermedia engine it\n&gt;&gt;&gt; is the heavy pa=\r\nrt of the request - eliminating that I have much faster\n&gt;&gt;&gt; services)\n&gt;&gt;\n&gt;&gt;=\r\n Scale for one application is nice (although I&#39;m waiting for your\n&gt;&gt; benchm=\r\narks to show that the overhead of calculating URIs dynamically\n&gt;&gt; is crushi=\r\nng, given how cheap CPU time is versus other server side\n&gt;&gt; resources). =A0=\r\nHow about scale for multiple applications?\n&gt;&gt;\n&gt;&gt; Oh, you only have one? =A0=\r\nGood for you! =A0But that&#39;s not a particularly\n&gt;&gt; common problem domain.\n&gt;&gt;=\r\n\n&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; a JAX-RS based server application, that &quot;care&quot; is expressed by @P=\r\nath\n&gt;&gt;&gt;\n&gt;&gt;&gt; I am experimenting with that idea.. in order to use regular\n&gt;&gt;&gt;=\r\n expressions or other DSL facilty to manipulate the final URI\n&gt;&gt;&gt; dinamical=\r\nly.. perhaps storing just the tail of the URI in the databse\n&gt;&gt;&gt; or other f=\r\normat of information that lead me a chance to produce the\n&gt;&gt;&gt; external repr=\r\nesentation by demand.. this part is my current\n&gt;&gt;&gt; research...... (I prefer=\r\n the &quot;experimentation&quot; word since I am not a\n&gt;&gt;&gt; formal researcher..)\n&gt;&gt;&gt;\n&gt;=\r\n&gt;\n&gt;&gt; Please think about the idea that the same business domain resources\n&gt;&gt;=\r\n may need to be exposed by different applications, using different\n&gt;&gt; resou=\r\nrce representations, and different URI schemes, all at the same\n&gt;&gt; time. =\r\n=A0Or, even within the same application, exposed in different\n&gt;&gt; pages (web=\r\n app) or resources (RESTful web service) at the same time.\n&gt;&gt;\n&gt;&gt; Personal h=\r\nistory lesson -- when I was first learning web development\n&gt;&gt; (mid-late 199=\r\n0s), I figured &quot;why not have a toHTML() method on all my\n&gt;&gt; Java business d=\r\nomain model classes&quot;? =A0It quickly became clear that\n&gt;&gt; different pages wi=\r\nthin the same app, as well as different apps, needed\n&gt;&gt; different HTML repr=\r\nesentations of the same business objects. =A0Indeed,\n&gt;&gt; this realization wa=\r\ns one of the motivating factors that led to the\n&gt;&gt; creation of Struts.\n&gt;&gt;\n&gt;=\r\n&gt; The same is true for RESTful resource representations. =A0There will be\n&gt;=\r\n&gt; more than one representation that requires information from a\n&gt;&gt; particul=\r\nar business domain model object, as well as more than one\n&gt;&gt; application (e=\r\nach with their own resource and representation\n&gt;&gt; requirements).\n&gt;&gt;\n&gt;&gt; In M=\r\nVC terms: =A0Model classes !=3D View classes.\n&gt;&gt;\n&gt;&gt;&gt;&gt; @Path annotations -- =\r\nto change the URIs included in your representations.\n&gt;&gt;&gt;\n&gt;&gt;&gt; yes, but you n=\r\need to iterate over the collections and change manually\n&gt;&gt;&gt; each URI, what =\r\ncan lead you to manipulate thousand of strings before\n&gt;&gt;&gt; to respond to the=\r\n client.. this part scares me... (think about a\n&gt;&gt;&gt; collection with 100 ele=\r\nments, each with 20 URIs)\n&gt;&gt;\n&gt;&gt; For amusement, you should go grab a raw Ato=\r\nm or RSS feed =A0from a busy\n&gt;&gt; feed source (I use Google Reader for my fee=\r\nd aggregator, but the same\n&gt;&gt; principle applies to anyone who provides feed=\r\ns) and see how many URIs\n&gt;&gt; are included. =A0 And, funny thing, none of the=\r\n apps that *created* that\n&gt;&gt; content had any idea that *I* would be aggrega=\r\nting their feeds, via\n&gt;&gt; Google Reader, for my own use.\n&gt;&gt;\n&gt;&gt; URIs in RESTf=\r\nul web services are a view tier concern, just like CSS style names.\n&gt;&gt;\n&gt;&gt;&gt;\n=\r\n&gt;&gt;&gt;&gt; In the shopping cart use case (no, I don&#39;t care if some people don&#39;t l=\r\nike it\n&gt;&gt;&gt;&gt; as an example :-), a well designed REST API should *not* define=\r\n a URI\n&gt;&gt;&gt;&gt; template like &quot;/checkout&quot; that accepts a POST with a shopping c=\r\nartURI\n&gt;&gt;&gt;\n&gt;&gt;&gt; That is a basic REST principle .. and it is not related to t=\r\nhe way you\n&gt;&gt;&gt; store or calculate the URIs...\n&gt;&gt;&gt;\n&gt;&gt;\n&gt;&gt; Unfortunately, *lot=\r\ns* of theoretically &quot;RESTful API&quot; specifications\n&gt;&gt; include instructions on=\r\n how to calculate the URI for a particular\n&gt;&gt; operation (versus telling the=\r\n client &quot;get the URI you need from the\n&gt;&gt; current representation of the res=\r\nource.). =A0And I&#39;m as guilty as anyone\n&gt;&gt; else at violating the hypermedia=\r\n constraint this way, in my earlier\n&gt;&gt; work. =A0But, my point in this parti=\r\ncular scenario was, assuming that\n&gt;&gt; there was a single URI for &quot;checkout&quot;,=\r\n for *all* shopping carts, is\n&gt;&gt; technically feasible, but not a good idea.=\r\n\n&gt;&gt;\n&gt;&gt;&gt;&gt; concerned, the URI itself is an opaque string.\n&gt;&gt;&gt;\n&gt;&gt;&gt; yes......\n&gt;=\r\n&gt;&gt;\n&gt;&gt;&gt; thanks for your feedback... interesting.. I will keep thinking about=\r\n\n&gt;&gt;&gt; your thoughts....\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt; =A0Felipe Ga=FAcho\n&gt;&gt;&gt;\n&gt;&gt;\n&gt;&gt; Craig\n&gt;&gt;\n&gt;\n=\r\n&gt;\n&gt;\n&gt; --\n&gt; ------------------------------------------\n&gt; =A0 Felipe Ga=FAcho=\r\n\n&gt; =A0 10+ Java Programmer\n&gt; =A0 CEJUG Senior Advisor\n&gt;\n\n\n\n-- \n------------=\r\n------------------------------\n   Felipe Ga=FAcho\n   10+ Java Programmer\n  =\r\n CEJUG Senior Advisor\n\n"}}
{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":321566527,"authorName":"piers_lawson","from":"&quot;piers_lawson&quot; &lt;Piers@...&gt;","profile":"piers_lawson","replyTo":"SENDER","senderId":"W-azgl1mkKelGHQsxUIPLxK8__XP7GvX1vtXsq76JhJ78IQ2-qe0a9VAA896fqYDE7KaUGSCPHjh3Qz60WtZrRSY9lWEOYf5ig","spamInfo":{"isSpam":false,"reason":"6"},"subject":"Deigning representations of collections and references","postDate":"1264629189","msgId":14691,"canDelete":false,"contentTrasformed":false,"systemMessage":true,"headers":{"messageIdInHeader":"PGhqcWNrNStidjc1QGVHcm91cHMuY29tPg=="},"prevInTopic":0,"nextInTopic":14692,"prevInTime":14690,"nextInTime":14692,"topicId":14691,"numMessagesInTopic":15,"msgSnippet":"Hi I ve been looking for advice on how to design the representation of a collection of references. Supposing I have Seller resources, a list of which can be","rawEmail":"Return-Path: &lt;Piers@...&gt;\r\nReceived: (qmail 47978 invoked from network); 28 Jan 2010 01:59:05 -0000\r\nReceived: from unknown (98.137.34.44)\n  by m1.grp.sp2.yahoo.com with QMQP; 28 Jan 2010 01:59:05 -0000\r\nReceived: from unknown (HELO n5-vm6.bullet.mail.sp2.yahoo.com) (67.195.135.101)\n  by mta1.grp.sp2.yahoo.com with SMTP; 28 Jan 2010 01:59:05 -0000\r\nDKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoogroups.com; s=lima; t=1264643892; bh=3mN7/QEJ013nAr8XkydZn1WIk1t+mqMGsPxFifryLhw=; h=Received:Received:Received:X-Sender:X-Apparently-To:X-Received:X-Received:X-Received:X-Received:X-Received:Date:To:Message-ID:User-Agent:MIME-Version:Content-Type:X-Mailer:X-Yahoo-Newman-Property:X-Originating-IP:X-eGroups-Msg-Info:X-Yahoo-Post-IP:From:Subject:X-Yahoo-Group-Post:X-Yahoo-Profile:X-YGroups-SubInfo:Sender:X-eGroups-Approved-By:X-eGroups-Auth; b=P3KD9wTQYh8B8acSQCHHxsj21ZSAXLFlT4EIQajFVM0uMLFEatLX7iJu/Box67CGRrqEidDClB7t8Ei2KpE3tnSxHB2J3X4Ga0sNhLDzijw2TcgPIdsddnG67N2bWMcD\r\nReceived: from [67.195.134.48] by n5.bullet.mail.sp2.yahoo.com with NNFMP; 28 Jan 2010 01:58:12 -0000\r\nReceived: from [69.147.65.148] by t1.bullet.mail.sp2.yahoo.com with NNFMP; 28 Jan 2010 01:58:12 -0000\r\nReceived: from [98.137.34.34] by t11.bullet.mail.sp1.yahoo.com with NNFMP; 28 Jan 2010 01:58:12 -0000\r\nX-Sender: Piers@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 18152 invoked from network); 27 Jan 2010 21:57:15 -0000\r\nX-Received: from unknown (98.137.34.45)\n  by m1.grp.sp2.yahoo.com with QMQP; 27 Jan 2010 21:57:15 -0000\r\nX-Received: from unknown (HELO n39b.bullet.mail.sp1.yahoo.com) (66.163.168.153)\n  by mta2.grp.sp2.yahoo.com with SMTP; 27 Jan 2010 21:57:15 -0000\r\nX-Received: from [69.147.65.174] by n39.bullet.mail.sp1.yahoo.com with NNFMP; 27 Jan 2010 21:53:11 -0000\r\nX-Received: from [98.137.35.12] by t12.bullet.mail.sp1.yahoo.com with NNFMP; 27 Jan 2010 21:53:11 -0000\r\nDate: Wed, 27 Jan 2010 21:53:09 -0000\r\nTo: rest-discuss@yahoogroups.com\r\nMessage-ID: &lt;hjqck5+bv75@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: multipart/alternative; boundary=&quot;9-2579719048-1227806291=:5&quot;\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-system\r\nX-eGroups-Msg-Info: 1:6:0:0:0\r\nFrom: &quot;piers_lawson&quot; &lt;Piers@...&gt;\r\nSubject: Deigning representations of collections and references\r\nX-Yahoo-Group-Post: member; u=321566527; y=mWSbM0QZnYyICviUbN1w0YaanYOl_kOSvy0lxV-LjAEvVSeOy0UG\r\nX-Yahoo-Profile: piers_lawson\r\nX-eGroups-Approved-By: gonga_thrash &lt;distobj@...&gt; via web; 28 Jan 2010 01:58:11 -0000\r\n\r\n\r\n--9-2579719048-1227806291=:5\r\nContent-Type: text/plain; charset=&quot;iso-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\n\nHi I&#39;ve been looking for advice on how to design the representation\nof a c=\r\nollection of references.\n\nSupposing I have Seller resources, a list of whic=\r\nh can be accessed at\n/Sellers, and an individual Seller can be accessed at =\r\nSellers/{id}.\nAlso, I have Account resources. A list of Accounts linked to =\r\na Seller\ncan be accessed at /Sellers/{id}/Accounts. An individual account c=\r\nan be\nfound at /Sellers/{id1}/Accounts/{id2}\n\nJust for now, let&#39;s assume I =\r\nwant an XML representation.\n\nGET /Sellers/{id1}/Accounts/{id2} could return=\r\n:\n\n&lt;Account id=3D{id2} uri=3D&quot;/Sellers/{id1}/Accounts/{id2}&quot;\nattr1=3D&quot;abc&quot; =\r\nattr2=3D&quot;xyz&quot; /&gt;\n\nGET /Sellers/{id1}/Accounts could return:\n\n&lt;Accounts uri=\r\n=3D&quot;/Sellers/{id1}/Accounts&quot;&gt;\n    &lt;Account id=3D{id2} uri=3D&quot;/Sellers/{id1}=\r\n/Accounts/{id2}&quot;\nattr1=3D&quot;abc&quot; attr2=3D&quot;xyz&quot; /&gt;\n    &lt;Account id=3D{id4} uri=\r\n=3D&quot;/Sellers/{id1}/Accounts/{id4}&quot;\nattr1=3D&quot;efg&quot; attr2=3D&quot;uvw&quot; /&gt;\n&lt;/Account=\r\ns&gt;\n\nAnd because I&#39;m being pragmatic and know my clients are usually\ninteres=\r\nted in Accounts when dealing with a seller...\n\nGET /Sellers/{id1} could ret=\r\nurn:\n\n&lt;Seller id=3D{id1} uri=3D&quot;/Sellers/{id1}&quot; attrA=3D&quot;mno&quot;\nattrB=3D&quot;pqr&quot;=\r\n&gt;\n     &lt;Accounts uri=3D&quot;/Sellers/{id1}/Accounts&quot;&gt;\n       &lt;Account id=3D{id2=\r\n} uri=3D&quot;/Sellers/{id1}/Accounts/{id2}&quot;\nattr1=3D&quot;abc&quot; attr2=3D&quot;xyz&quot; /&gt;\n    =\r\n   &lt;Account id=3D{id4} uri=3D&quot;/Sellers/{id1}/Accounts/{id4}&quot;\nattr1=3D&quot;efg&quot; =\r\nattr2=3D&quot;uvw&quot; /&gt;\n    &lt;/Accounts&gt;\n&lt;/Seller&gt;\n\nThis works fine to my mind so l=\r\nong as the Account representation is not\ntoo complex (or more importantly, =\r\nlarge)... but what if it was? What if\nan individual Account was so big it w=\r\nas inefficient to return all its\ninformation when listing it (either as a s=\r\ntandalone Accounts element\nfrom /Sellers/{id1}/Accounts or a child element =\r\nof Seller returned from\n/Sellers/{id1})?\n\nIf I knew that 95% of the time my=\r\n clients would have sufficient\ninformation if each Account element in a lis=\r\nt contained just an id, a\nuri and a name attribute, I could decide to retur=\r\nn only that basic data\nwhen Accounts are listed.\n\nBut here is my question, =\r\nfinally, should that still be represented as:\n\n    &lt;Accounts&gt;&lt;Account ... /=\r\n&gt;&lt;Account ... /&gt;&lt;/Accounts&gt;\n\nOr should I acknowledge it is not an account a=\r\nnd change it to something\nlike:\n\n    &lt;AccountRefs&gt;&lt;AccountRef ... /&gt;&lt;Accoun=\r\ntRef ... /&gt;&lt;/AccountRefs&gt;\n\nWhich may have to be retrieved from /Sellers/{id=\r\n1}/AccountRefs\n\nThe benefit of the first option is that the client would ju=\r\nst deal with\nAccount resources. To create a new Account they could put it t=\r\no\n/Sellers/{id1}/Accounts, the URI for which is readily available. They\nwou=\r\nld have to realise though that the representation they PUT to that\nURI is p=\r\nrobably different from one they retrieve when they get a list of\nAccounts (=\r\nthough it would be the same as the one they get when\nretrieving an individu=\r\nal account).\n\nThe benefit of the second approach is that it is clear that t=\r\nhe list\ndoes not contain full blown Account details. Also, if I wanted to w=\r\nrite\na schema describing the XML I could have different definitions for the=\r\n\nfull &quot;representation&quot; of an Account resource and that of a\nreference to an=\r\n Account. However, this approach makes the creation of a\nnew Account more c=\r\nomplex, as I in theory should PUT an Account somewhere\n(but nothing in the =\r\nlist representation tells me where)... and I also\nneed to explicitly create=\r\n the AccountRef (or have the server create it\nas the Account is created).\n\n=\r\nI have swapped between which approach I prefer, though at the moment\nI&#39;m li=\r\nking the first (i.e. sticking with Account). My reasoning...\nIt is just ano=\r\nther representation of Account and I&#39;m not aware of\nanything that says each=\r\n &quot;view&quot; of a resource must contain the\nsame information.\n\nWhat do you think=\r\n? Am I just missing the point altogether? Is this all\ndiscussed in great de=\r\npth elsewhere that I couldn&#39;t find (sorry if it\nis)?\n\nThanks for your time.=\r\n\n\nPiers\n\n\n\n\n\n\n\n\r\n--9-2579719048-1227806291=:5\r\nContent-Type: text/html; charset=&quot;iso-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\n&lt;P class=3D&quot;MsoNormal&quot;&gt;&lt;FONT size=3D&quot;3&quot; face=3D&quot;Calibri&quot;&gt;Hi I&#39;ve been looki=\r\nng for advice on how to design the representation of a collection of refere=\r\nnces. &lt;/FONT&gt;&lt;/P&gt;\n&lt;P class=3D&quot;MsoNormal&quot;&gt;&lt;FONT size=3D&quot;3&quot; face=3D&quot;Calibri&quot;&gt;=\r\nSupposing I have Seller resources, a list of which can be accessed at /Sell=\r\ners, and an individual Seller can be accessed at Sellers/{id}. Also, I have=\r\n Account resources. A list of Accounts linked to a Seller can be accessed a=\r\nt /Sellers/{id}/Accounts. An individual account can be found at /Sellers/{i=\r\nd1}/Accounts/{id2}&lt;/FONT&gt;&lt;/P&gt;\n&lt;P class=3D&quot;MsoNormal&quot;&gt;&lt;FONT size=3D&quot;3&quot; face=\r\n=3D&quot;Calibri&quot;&gt;Just for now, let&#39;s assume I want an XML representation. &lt;/FON=\r\nT&gt;&lt;/P&gt;\n&lt;P class=3D&quot;MsoNormal&quot;&gt;&lt;FONT size=3D&quot;3&quot; face=3D&quot;Calibri&quot;&gt;GET /Seller=\r\ns/{id1}/Accounts/{id2} could return:&lt;/FONT&gt;&lt;/P&gt;\n&lt;P class=3D&quot;MsoNormal&quot;&gt;&lt;FON=\r\nT size=3D&quot;3&quot; face=3D&quot;Calibri&quot;&gt;&lt;Account id=3D{id2} uri=3D&quot;/Sellers/{id1}/=\r\nAccounts/{id2}&quot; attr1=3D&quot;abc&quot; attr2=3D&quot;xyz&quot; /&gt;&lt;/FONT&gt;&lt;/P&gt;\n&lt;P class=3D&quot;Ms=\r\noNormal&quot;&gt;&lt;FONT size=3D&quot;3&quot; face=3D&quot;Calibri&quot;&gt;GET /Sellers/{id1}/Accounts coul=\r\nd return:&lt;/FONT&gt;&lt;/P&gt;\n&lt;P class=3D&quot;MsoNormal&quot;&gt;&lt;FONT size=3D&quot;3&quot; face=3D&quot;Calibr=\r\ni&quot;&gt;&lt;Accounts uri=3D&quot;/Sellers/{id1}/Accounts&quot;&gt;&lt;BR&gt;&lt;SPAN&gt;&nbsp;&nbsp; &lt;=\r\n/SPAN&gt;&lt;Account id=3D{id2} uri=3D&quot;/Sellers/{id1}/Accounts/{id2}&quot; attr1=3D=\r\n&quot;abc&quot; attr2=3D&quot;xyz&quot; /&gt;&lt;BR&gt;&lt;SPAN&gt;&nbsp;&nbsp; &lt;/SPAN&gt;&lt;Account id=3D{id=\r\n4} uri=3D&quot;/Sellers/{id1}/Accounts/{id4}&quot; attr1=3D&quot;efg&quot; attr2=3D&quot;uvw&quot; /&gt;&lt;=\r\nBR&gt;&lt;/Accounts&gt;&lt;/FONT&gt;&lt;/P&gt;\n&lt;P class=3D&quot;MsoNormal&quot;&gt;&lt;FONT size=3D&quot;3&quot; fac=\r\ne=3D&quot;Calibri&quot;&gt;And because I&#39;m being pragmatic and know my clients are usual=\r\nly interested in Accounts when dealing with a seller... &lt;/FONT&gt;&lt;/P&gt;\n&lt;P clas=\r\ns=3D&quot;MsoNormal&quot;&gt;&lt;FONT size=3D&quot;3&quot; face=3D&quot;Calibri&quot;&gt;GET /Sellers/{id1} could =\r\nreturn:&lt;/FONT&gt;&lt;/P&gt;\n&lt;P class=3D&quot;MsoNormal&quot;&gt;&lt;FONT size=3D&quot;3&quot; face=3D&quot;Calibri&quot;=\r\n&gt;&lt;Seller id=3D{id1} uri=3D&quot;/Sellers/{id1}&quot; attrA=3D&quot;mno&quot; attrB=3D&quot;pqr&quot;&g=\r\nt;&lt;BR&gt;&lt;SPAN&gt;&nbsp;&nbsp; &lt;/SPAN&gt;&lt;SPAN&gt;&nbsp;&lt;/SPAN&gt;&lt;Accounts uri=3D&quot;/Sel=\r\nlers/{id1}/Accounts&quot;&gt;&lt;BR&gt;&lt;SPAN&gt;&nbsp;&nbsp; &lt;/SPAN&gt;&lt;SPAN&gt;&nbsp;&nbsp;&nb=\r\nsp;&lt;/SPAN&gt;&lt;Account id=3D{id2} uri=3D&quot;/Sellers/{id1}/Accounts/{id2}&quot; attr=\r\n1=3D&quot;abc&quot; attr2=3D&quot;xyz&quot; /&gt;&lt;BR&gt;&lt;SPAN&gt;&nbsp;&nbsp; &lt;/SPAN&gt;&lt;SPAN&gt;&nbsp;&nbs=\r\np;&nbsp;&lt;/SPAN&gt;&lt;Account id=3D{id4} uri=3D&quot;/Sellers/{id1}/Accounts/{id4}&quot;=\r\n attr1=3D&quot;efg&quot; attr2=3D&quot;uvw&quot; /&gt;&lt;BR&gt;&lt;SPAN&gt;&nbsp;&nbsp; &lt;/SPAN&gt;&lt;/Accoun=\r\nts&gt;&lt;BR&gt;&lt;/Seller&gt;&lt;/FONT&gt;&lt;/P&gt;\n&lt;P class=3D&quot;MsoNormal&quot;&gt;&lt;FONT size=3D&quot;3=\r\n&quot; face=3D&quot;Calibri&quot;&gt;This works fine to my mind so long as the Account repres=\r\nentation is not too complex (or more importantly, large)... but what if it =\r\nwas? What if an individual Account was so big it was inefficient to return =\r\nall its information when listing it (either as a standalone Accounts elemen=\r\nt from /Sellers/{id1}/Accounts or a child element of Seller returned from /=\r\nSellers/{id1})?&lt;/FONT&gt;&lt;/P&gt;\n&lt;P class=3D&quot;MsoNormal&quot;&gt;&lt;FONT size=3D&quot;3&quot; face=3D&quot;=\r\nCalibri&quot;&gt;If I knew that 95% of the time my clients would have sufficient in=\r\nformation if each Account element in a list contained just an id, a uri and=\r\n a name attribute, I could decide to return only that basic data when Accou=\r\nnts are listed.&lt;/FONT&gt;&lt;/P&gt;\n&lt;P class=3D&quot;MsoNormal&quot;&gt;&lt;FONT size=3D&quot;3&quot; face=3D&quot;=\r\nCalibri&quot;&gt;But here is my question, finally, should that still be represented=\r\n as:&lt;/FONT&gt;&lt;/P&gt;\n&lt;P class=3D&quot;MsoNormal&quot;&gt;&lt;FONT size=3D&quot;3&quot;&gt;&lt;FONT face=3D&quot;Calib=\r\nri&quot;&gt;&lt;SPAN&gt;&nbsp;&nbsp;&lt;/SPAN&gt;&lt;SPAN&gt;&nbsp;&lt;/SPAN&gt;&lt;Accounts&gt;&lt;Account=\r\n ... /&gt;&lt;Account ... /&gt;&lt;/Accounts&gt;&lt;/FONT&gt;&lt;/FONT&gt;&lt;/P&gt;\n&lt;P class=\r\n=3D&quot;MsoNormal&quot;&gt;&lt;FONT size=3D&quot;3&quot; face=3D&quot;Calibri&quot;&gt;Or should I acknowledge it=\r\n is not an account and change it to something like:&lt;/FONT&gt;&lt;/P&gt;\n&lt;P class=3D&quot;=\r\nMsoNormal&quot;&gt;&lt;FONT size=3D&quot;3&quot; face=3D&quot;Calibri&quot;&gt;&nbsp;&nbsp; &lt;AccountRefs&g=\r\nt;&lt;AccountRef ... /&gt;&lt;AccountRef ... /&gt;&lt;/AccountRefs&gt;&lt;/FON=\r\nT&gt;&lt;/P&gt;\n&lt;P class=3D&quot;MsoNormal&quot;&gt;&lt;FONT size=3D&quot;3&quot; face=3D&quot;Calibri&quot;&gt;Which may h=\r\nave to be retrieved from /Sellers/{id1}/AccountRefs&lt;/FONT&gt;&lt;/P&gt;\n&lt;P class=3D&quot;=\r\nMsoNormal&quot;&gt;&lt;FONT size=3D&quot;3&quot; face=3D&quot;Calibri&quot;&gt;The benefit of the first optio=\r\nn is that the client would just deal with Account resources. To create a ne=\r\nw Account they could put it to /Sellers/{id1}/Accounts, the URI for which i=\r\ns readily available. They would have to realise though that the representat=\r\nion they PUT to that URI is probably different from one they retrieve when =\r\nthey get a list of Accounts (though it would be the same as the one they ge=\r\nt when retrieving an individual account).&lt;/FONT&gt;&lt;/P&gt;\n&lt;P class=3D&quot;MsoNormal&quot;=\r\n&gt;&lt;FONT size=3D&quot;3&quot; face=3D&quot;Calibri&quot;&gt;The benefit of the second approach is th=\r\nat it is clear that the list does not contain full blown Account details. A=\r\nlso, if I wanted to write a schema describing the XML I could have differen=\r\nt definitions for the full &quot;representation&quot; of an Account resource and that=\r\n of a reference to an Account. However, this approach makes the creation of=\r\n a new Account more complex, as I in theory should PUT an Account somewhere=\r\n (but nothing in the list representation tells me where)... and I also need=\r\n to explicitly create the AccountRef (or have the server create it as the A=\r\nccount is created).&lt;/FONT&gt;&lt;/P&gt;\n&lt;P class=3D&quot;MsoNormal&quot;&gt;&lt;FONT size=3D&quot;3&quot; face=\r\n=3D&quot;Calibri&quot;&gt;I have swapped between which approach I prefer, though at the =\r\nmoment I&#39;m liking the first (i.e. sticking with Account). My reasoning... I=\r\nt is just another representation of Account and I&#39;m not aware of anything t=\r\nhat says each &quot;view&quot; of a resource must contain the same information. &lt;/FON=\r\nT&gt;&lt;/P&gt;\n&lt;P class=3D&quot;MsoNormal&quot;&gt;&lt;FONT size=3D&quot;3&quot; face=3D&quot;Calibri&quot;&gt;What do you=\r\n think? Am I just missing the point altogether? Is this all discussed in gr=\r\neat depth elsewhere that I couldn&#39;t find (sorry if it is)?&lt;/FONT&gt;&lt;/P&gt;\n&lt;P cl=\r\nass=3D&quot;MsoNormal&quot;&gt;&lt;FONT size=3D&quot;3&quot; face=3D&quot;Calibri&quot;&gt;Thanks for your time.&lt;/=\r\nFONT&gt;&lt;/P&gt;\n&lt;P class=3D&quot;MsoNormal&quot;&gt;&lt;FONT size=3D&quot;3&quot; face=3D&quot;Calibri&quot;&gt;Piers&lt;/F=\r\nONT&gt;&lt;/P&gt;\n&lt;P class=3D&quot;MsoNormal&quot;&gt;&lt;o&gt;&lt;FONT size=3D&quot;3&quot; face=3D&quot;Calibri&quot;&gt;&nbsp;=\r\n&lt;/FONT&gt;&lt;/o&gt;&lt;/P&gt;\n&lt;P class=3D&quot;MsoNormal&quot;&gt;&lt;o&gt;&lt;FONT size=3D&quot;3&quot; face=3D&quot;Calibri&quot;=\r\n&gt;&nbsp;&lt;/FONT&gt;&lt;/o&gt;&lt;/P&gt;\n&lt;P class=3D&quot;MsoNormal&quot;&gt;&lt;o&gt;&lt;FONT size=3D&quot;3&quot; face=3D&quot;C=\r\nalibri&quot;&gt;&nbsp;&lt;/FONT&gt;&lt;/o&gt;&lt;/P&gt;\n\r\n--9-2579719048-1227806291=:5--\r\n\n"}}
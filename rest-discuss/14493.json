{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":232056567,"authorName":"Jim Webber","from":"Jim Webber &lt;jim@...&gt;","profile":"jwebberatthoughtworks","replyTo":"SENDER","senderId":"_NAmlfLuOauAi62DTsf3ooM1thGBa0XjVRPlswUCgj6kc9se5aY1cj12qvOp3wx0wtxmPQaA1WvL9n-YyxcuMioC6g","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [rest-discuss] Testing RESTful services","postDate":"1263241714","msgId":14493,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PEFCQTZFNzlGLTQwOUQtNEE1MC1BOTNELTY2RjExRjkwMzQyMkB3ZWJiZXIubmFtZT4=","inReplyToHeader":"PEUwRkFBRUZGLTdBMDQtNEZDQy1BNDI1LTc0RUExOTlEQzEzRkBtYWMuY29tPg==","referencesHeader":"PEQ3MUY3QkE2LTNEMkItNERBOS1BNTBBLTA4RkJDRTI5QjJEMUBtYWMuY29tPiA8MzEzQjAyRTMtREJCMS00REIzLTlERTItNUExRUYwM0I1ODhEQHdlYmJlci5uYW1lPiA8M0Y1QThFQzUtNkExRC00NzBELUIxRjQtN0I1QkJGM0M4OEJGQG1hYy5jb20+IDwxN0YyOERFOC1GRTJBLTQyQjctQjkyNC0yQ0YzQkJEQTFEMEZAd2ViYmVyLm5hbWU+IDxFMEZBQUVGRi03QTA0LTRGQ0MtQTQyNS03NEVBMTk5REMxM0ZAbWFjLmNvbT4="},"prevInTopic":14492,"nextInTopic":14494,"prevInTime":14492,"nextInTime":14494,"topicId":14488,"numMessagesInTopic":8,"msgSnippet":"Hey Jan, ... A business protocol is a sequence of steps taken to achieve some outcome - namely the changing of state on a computer system for some useful","rawEmail":"Return-Path: &lt;jim@...&gt;\r\nX-Sender: jim@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 45647 invoked from network); 12 Jan 2010 08:25:05 -0000\r\nX-Received: from unknown (98.137.34.44)\n  by m12.grp.re1.yahoo.com with QMQP; 12 Jan 2010 08:25:05 -0000\r\nX-Received: from unknown (HELO asmtp3.iomartmail.com) (62.128.193.159)\n  by mta1.grp.sp2.yahoo.com with SMTP; 12 Jan 2010 08:25:04 -0000\r\nX-Received: from asmtp3.iomartmail.com (localhost.localdomain [127.0.0.1])\n\tby asmtp3.iomartmail.com (8.13.8/8.13.8) with ESMTP id o0C8P00f012090\n\tfor &lt;rest-discuss@yahoogroups.com&gt;; Tue, 12 Jan 2010 08:25:00 GMT\r\nX-Received: from [172.22.1.23] (cobalt1.holidayextras.com [62.254.236.3])\n\t(authenticated bits=0)\n\tby asmtp3.iomartmail.com (8.13.8/8.13.8) with ESMTP id o0C8P0ob012086\n\tfor &lt;rest-discuss@yahoogroups.com&gt;; Tue, 12 Jan 2010 08:25:00 GMT\r\nContent-Type: text/plain; charset=us-ascii\r\nMime-Version: 1.0 (Apple Message framework v1077)\r\nIn-Reply-To: &lt;E0FAAEFF-7A04-4FCC-A425-74EA199DC13F@...&gt;\r\nDate: Mon, 11 Jan 2010 20:28:34 +0000\r\nContent-Transfer-Encoding: quoted-printable\r\nMessage-Id: &lt;ABA6E79F-409D-4A50-A93D-66F11F903422@...&gt;\r\nReferences: &lt;D71F7BA6-3D2B-4DA9-A50A-08FBCE29B2D1@...&gt; &lt;313B02E3-DBB1-4DB3-9DE2-5A1EF03B588D@...&gt; &lt;3F5A8EC5-6A1D-470D-B1F4-7B5BBF3C88BF@...&gt; &lt;17F28DE8-FE2A-42B7-B924-2CF3BBDA1D0F@...&gt; &lt;E0FAAEFF-7A04-4FCC-A425-74EA199DC13F@...&gt;\r\nTo: REST Discuss &lt;rest-discuss@yahoogroups.com&gt;\r\nX-Mailer: Apple Mail (2.1077)\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Jim Webber &lt;jim@...&gt;\r\nSubject: Re: [rest-discuss] Testing RESTful services\r\nX-Yahoo-Group-Post: member; u=232056567; y=NN53Fd4RN1icU-9Sc-oRElQFVY9UA6Xgx_w_RUdy0myG9zouISom6f22_rvanmDE\r\nX-Yahoo-Profile: jwebberatthoughtworks\r\n\r\nHey Jan,\n\n&gt; What do you mean by &#39;business protocol&#39;? And how do you documen=\r\nt that &#39;business protocol&#39; (if you *test* it, I assume it is &#39;written down&#39;=\r\n somehow)?\n\nA business protocol is a sequence of steps taken to achieve som=\r\ne outcome - namely the changing of state on a computer system for some usef=\r\nul purpose.\n\nProtocols are written down, but in terms of media types and th=\r\neir associated processing models. For instance if you know application/atom=\r\n+xml and the AtomPub links then you know how to process links to cause stat=\r\ne changes on the server. Ditto for custom media types like application/vnd.=\r\nrestbucks+xml (a media type that covers the business\n\n&gt; +1 to the assumptio=\r\nns and I also like the wording &#39;corrals you towards an appropriate outcome&#39;=\r\n.\n\nGood, that wording&#39;s in the book. Unfortunately for me I think Ian wrote=\r\n it, so he can claim the credit :-)\n\n&gt; I agree (assuming I understand you c=\r\norrectly)  that the perimeter prescribed by the hypermedia semantics (media=\r\n types, rels, etc.) the server uses provides a context that can be used to =\r\ndifferentiate between a &#39;valid&#39; response and a &#39;nonsense&#39; response. A &#39;nons=\r\nense&#39; response being one that the client could not possibly have expected.\n=\r\n\nYup. \n\n&gt; I am having trouble with the &#39;domain application protocol&#39; - I th=\r\nink REST deliberately aims to avoid it to reduce coupling. OTH, I am not su=\r\nre what you mean by &#39;DAP or business protocol&#39;. Can you explain? Most impor=\r\ntantly, I&#39;d be interested in whether and how you document such a thing.\n\nTh=\r\ne domain application protocol is a business protocol that sits atop other (=\r\ntypically RESTful) application protocols like HTTP. It narrows the underlyi=\r\nng protocol for a specific business case. For example, HTTP as an applicati=\r\non protocol is very broad, but I might just want to use it to order a coffe=\r\ne - this narrower, more specific protocol is a DAP. Ditto if I take Atom an=\r\nd AtomPub and turn it into a competing consumers implementation for event-d=\r\nriven communication between systems narrows those formats and protocols to =\r\nsomething more specific - a DAP in our nomenclature.\n\n&gt; What I think though=\r\n (and maybe that is what you mean anyway) is that a server cannot send an a=\r\nrbitrary response to any request but is bound to the semantics with which i=\r\nt linked to a given resource. For example, a Web server that sends HTML con=\r\ntaining &lt;img href=3D&quot;/img/foo&quot;/&gt; to a client must respond with an image rep=\r\nresentation when the client GETs /img/foo. Otherwise the server would be bo=\r\ngous (this is stuff I think is a good candidate for tests).\n\nAgreed. If a s=\r\nerver returns something illegal from an interaction, then *it* has broken t=\r\nhe contract. And contracts are binding on *both* parties.\n\n&gt; Web browsers (=\r\nat least the ones I checked) populate the Accept header with image/xxx valu=\r\nes when following the &lt;img href=3D&quot;&quot;/&gt;. This is appropriate behavior becaus=\r\ne the HTML spec establishes the contract that &lt;img&gt; elements reference imag=\r\nes. Due to the commonly known nature of &#39;an image&#39; the spec does not really=\r\n go into details what an image is.\n\nYes, although browsers are dead to me :=\r\n-)\n\n&gt; If this line of thought is applied to resource kinds (kind as in &quot;The=\r\n target of &lt;img&gt; is an image resource&quot;) that need more detailed specificati=\r\non or carry some sort of semantic of containing references to other resourc=\r\nes the situation is not that simple anymore. In my view, an AtomPub &#39;collec=\r\ntion&#39; is such a resource kind and there are certain expectations implied ab=\r\nout the nature of the resource a &lt;collection href=3D&quot;&quot;&gt; element points to. =\r\nThe developer of an AtomPub client would not populate the Accept header wit=\r\nh image/* but rather application/atom+xml. However, I think that applicatio=\r\nn/rss+xml or even text/uri-list are also possible choices because they repr=\r\nesent collections.\n&gt; \n&gt; What if this is applied to resources like orders or=\r\n bug tracking tickets? Is there a need for media types to be &#39;mapped&#39; or &#39;l=\r\ninked&#39; with such resource kinds?\n\nSeems a good use of Atom to me - for (tim=\r\ne ordered) lists of stuff. Ian has written up a good example where Atom is =\r\nused for a competing consumers implementation in an ecommerce scenario in o=\r\nur book. What&#39;s delightful about it, is that *all* the DAP stuff is done wi=\r\nth HTTP and Atom. The code which understands what&#39;s in the Atom element is =\r\ntotally separate. \n\n&gt; I think to some extend: yes. And I think that these k=\r\ninds of &#39;contracts&#39; constitute a sufficient &#39;domain protocol&#39; when combined=\r\n with the knowledge about what set hypermedia semantics a service uses.\n\nGr=\r\neat. But now I think I&#39;ve taken us off track from our original testing ques=\r\ntion, sorry!\n\nJim\n"}}
{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":221173245,"authorName":"wahbedahbe","from":"&quot;wahbedahbe&quot; &lt;andrew.wahbe@...&gt;","profile":"wahbedahbe","replyTo":"SENDER","senderId":"pej-y9wKLqLgwiNHeCgqucIrzt-fe4ZNFsfC_SdrDqVKy6Ch2lWsZQIAn4f8b0QLUId4cvuarvaAq7Xtvzik6bA5eTZBmRH0o56Mxw","spamInfo":{"isSpam":false,"reason":"6"},"subject":"Re: Stack operations using Rest","postDate":"1211467342","msgId":10813,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PGcxNDBvZStwdW9yQGVHcm91cHMuY29tPg==","inReplyToHeader":"PEJMVTEwMi1EUzYxQTdCNjA3NEQ0RTAzRUY3QjQzMUI1QzYwQHBoeC5nYmw+"},"prevInTopic":10810,"nextInTopic":10832,"prevInTime":10812,"nextInTime":10814,"topicId":10795,"numMessagesInTopic":17,"msgSnippet":"Ya that works. It also allows you to make sure that only one client successfully deletes the item, effectively transferring the item to that one client. But","rawEmail":"Return-Path: &lt;andrew.wahbe@...&gt;\r\nX-Sender: andrew.wahbe@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 60412 invoked from network); 22 May 2008 14:42:36 -0000\r\nX-Received: from unknown (66.218.66.72)\n  by m49.grp.scd.yahoo.com with QMQP; 22 May 2008 14:42:36 -0000\r\nX-Received: from unknown (HELO n50d.bullet.mail.sp1.yahoo.com) (66.163.169.48)\n  by mta14.grp.scd.yahoo.com with SMTP; 22 May 2008 14:42:36 -0000\r\nX-Received: from [216.252.122.216] by n50.bullet.mail.sp1.yahoo.com with NNFMP; 22 May 2008 14:42:23 -0000\r\nX-Received: from [209.73.164.83] by t1.bullet.sp1.yahoo.com with NNFMP; 22 May 2008 14:42:23 -0000\r\nX-Received: from [66.218.66.92] by t7.bullet.scd.yahoo.com with NNFMP; 22 May 2008 14:42:23 -0000\r\nDate: Thu, 22 May 2008 14:42:22 -0000\r\nTo: rest-discuss@yahoogroups.com\r\nMessage-ID: &lt;g140oe+puor@...&gt;\r\nIn-Reply-To: &lt;BLU102-DS61A7B6074D4E03EF7B431B5C60@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-compose\r\nX-eGroups-Msg-Info: 1:6:0:0:0\r\nFrom: &quot;wahbedahbe&quot; &lt;andrew.wahbe@...&gt;\r\nSubject: Re: Stack operations using Rest\r\nX-Yahoo-Group-Post: member; u=221173245; y=JnIuExNxh9_GVGJ5IO56daujUZht8i6xOfG3NzDhQFFCU4iRCg\r\nX-Yahoo-Profile: wahbedahbe\r\n\r\nYa that works.\nIt also allows you to make sure that only one client success=\r\nfully\ndeletes the item, effectively transferring the item to that one clien=\r\nt.\n\nBut after your 2 GETs and 1 DELETE (and possibly multiple rounds of\nthi=\r\ns if another client beats you to the DELETE) you really have to ask\nyoursel=\r\nf what you&#39;ve gained over the 1 POST solution.\n\nThe one flaw in all these s=\r\nolutions though is that they are not\ntolerant of a dropped connection or ti=\r\nmeout. For example, what if you\nnever get the response to the DELETE, there=\r\n&#39;s no way to know if you\nwere the one to successfully delete the item. The =\r\nPOST solution has a\nsimilar flaw (though you can fix it), because you don&#39;t=\r\n know which\nitem was returned to you in the response if you never got it. \n=\r\n\nYou can fix the POST solution by changing it so that you POST a URI of\na b=\r\nucket that you want to move the item to (I suppose you could just\nMOVE it i=\r\nf you are so inclined). Each bucket belongs to a different\nclient. (You can=\r\n also turn this around by POSTing to your bucket the\nURI of the stack you w=\r\nant to pop an item from.) You can then delete\nitems from your bucket at you=\r\nr leisure.\n\nIf you are allergic to POST then you could PUT your client&#39;s bu=\r\ncketId\nto /stack/item21/owner which moves the item to the bucket (i.e.\nbeca=\r\nuse you make it so that /buckets/&lt;bucketId&gt;/ contains all items\nwith an own=\r\ner of &lt;bucketId&gt; and /stack/top points to the first item\nwith no owner).\n\nA=\r\nndrew Wahbe\n\n--- In rest-discuss@yahoogroups.com, &quot;Sebastien Lambla&quot; &lt;seb@.=\r\n..&gt; wrote:\n&gt;\n&gt; Shouldn&#39;t the /stack/top simply do a 303 SEE OTHER to Locati=\r\non:\nstack/item21\n&gt; on which you can then do your delete?\n&gt; \n&gt; That makes th=\r\ne DELETE idempotent, as you&#39;d only ever be able to\nDELETE on\n&gt; the returned=\r\n resource. Of course earch resource need to check if\nit&#39;s on the\n&gt; top of t=\r\nhe queue before accepting a delete request, but as your\nresource is\n&gt; stack=\r\n specific, and may in fact simply be a pointer to the resource\nthat has\n&gt; b=\r\neen queued.\n&gt; \n&gt; Seb\n&gt; \n&gt; -----Original Message-----\n&gt; From: rest-discuss@y=\r\nahoogroups.com\n[mailto:rest-discuss@yahoogroups.com] On\n&gt; Behalf Of wahbeda=\r\nhbe\n&gt; Sent: 22 May 2008 04:47\n&gt; To: rest-discuss@yahoogroups.com\n&gt; Subject:=\r\n [rest-discuss] Re: Stack operations using Rest\n&gt; \n&gt; The problem with using=\r\n DELETE on /queue/top to implement pop is that\n&gt; it&#39;s not an idempotent ope=\r\nration.\n&gt; \n&gt; --- In rest-discuss@yahoogroups.com, dev &lt;dev.akhawe@&gt; wrote:\n=\r\n&gt; &gt;\n&gt; &gt; &gt; The /queue/top resource should act as a reference to the actual t=\r\nop\n&gt; &gt; &gt; element, i.e. you should not DELETE it, as it should still exist\nw=\r\nhile\n&gt; &gt; &gt; there are items left on the stack.\n&gt; &gt; &gt;\n&gt; &gt; \n&gt; &gt; I disagree. Th=\r\ne HTTP RFC says that DELETE is to delete the resource at\n&gt; &gt; the URI said. =\r\nPopping is deleting the topmost uri. Allowing Deletes\n&gt; &gt; directly on eleme=\r\nnts would be wrong as that would allow you to delete\n&gt; &gt; any element( unles=\r\ns you hack through a solution in which every\n&gt; &gt; resource checks whether it=\r\n is the topmost resource before getting\n&gt; &gt; deleted).\n&gt; &gt; \n&gt; &gt; Delete the T=\r\nOP just does that .. delete the current top. How does it\n&gt; &gt; matter if afte=\r\nr that another element becomes the top?\n&gt; &gt; \n&gt; &gt; Again, there might be argu=\r\nments against what I just said , but the\n&gt; &gt; increase in coupling caused by=\r\n any other solution imho makes for an\n&gt; &gt; overwhelming choice for this opti=\r\non.\n&gt; &gt; \n&gt; &gt; In short, I like the OPs solution.\n&gt; &gt; \n&gt; &gt; Regards\n&gt; &gt; Devdat=\r\nta\n&gt; &gt;\n&gt; \n&gt; \n&gt; \n&gt; ------------------------------------\n&gt; \n&gt; Yahoo! Groups L=\r\ninks\n&gt;\n\n\n\n"}}
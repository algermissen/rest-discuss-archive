{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":289191104,"authorName":"Jan Algermissen","from":"Jan Algermissen &lt;algermissen1971@...&gt;","profile":"algermissen1971","replyTo":"SENDER","senderId":"LtvJWaDFa5-E40Imq-NFTu4558zFOcpSpqlwu0jTRPTLuieqbrvcwVzowwZoV_NziYplN-10hSpTZtgGs--F7mQF-yyC2SfTkec1DckjPdM","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [rest-discuss] Testing RESTful services","postDate":"1263230489","msgId":14492,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PEUwRkFBRUZGLTdBMDQtNEZDQy1BNDI1LTc0RUExOTlEQzEzRkBtYWMuY29tPg==","inReplyToHeader":"PDE3RjI4REU4LUZFMkEtNDJCNy1COTI0LTJDRjNCQkRBMUQwRkB3ZWJiZXIubmFtZT4=","referencesHeader":"PEQ3MUY3QkE2LTNEMkItNERBOS1BNTBBLTA4RkJDRTI5QjJEMUBtYWMuY29tPiA8MzEzQjAyRTMtREJCMS00REIzLTlERTItNUExRUYwM0I1ODhEQHdlYmJlci5uYW1lPiA8M0Y1QThFQzUtNkExRC00NzBELUIxRjQtN0I1QkJGM0M4OEJGQG1hYy5jb20+IDwxN0YyOERFOC1GRTJBLTQyQjctQjkyNC0yQ0YzQkJEQTFEMEZAd2ViYmVyLm5hbWU+"},"prevInTopic":14491,"nextInTopic":14493,"prevInTime":14491,"nextInTime":14493,"topicId":14488,"numMessagesInTopic":8,"msgSnippet":"Hi Jim, ... What do you mean by business protocol ? And how do you document that business protocol (if you *test* it, I assume it is written down ","rawEmail":"Return-Path: &lt;algermissen1971@...&gt;\r\nX-Sender: algermissen1971@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 58564 invoked from network); 11 Jan 2010 17:21:59 -0000\r\nX-Received: from unknown (66.196.94.107)\n  by m5.grp.sp2.yahoo.com with QMQP; 11 Jan 2010 17:21:59 -0000\r\nX-Received: from unknown (HELO asmtpout020.mac.com) (17.148.16.95)\n  by mta3.grp.re1.yahoo.com with SMTP; 11 Jan 2010 17:21:59 -0000\r\nMIME-version: 1.0\r\nContent-transfer-encoding: 7BIT\r\nContent-type: text/plain; charset=US-ASCII; format=flowed; delsp=yes\r\nX-Received: from [192.168.2.102] ([84.144.105.234])\n by asmtp020.mac.com (Sun Java(tm) System Messaging Server 6.3-8.01 (built Dec\n 16 2008; 32bit)) with ESMTPSA id &lt;0KW3005MHEVUI430@...&gt; for\n rest-discuss@yahoogroups.com; Mon, 11 Jan 2010 09:21:35 -0800 (PST)\r\nCc: REST Discuss &lt;rest-discuss@yahoogroups.com&gt;\r\nMessage-id: &lt;E0FAAEFF-7A04-4FCC-A425-74EA199DC13F@...&gt;\r\nTo: Jim Webber &lt;jim@...&gt;\r\nIn-reply-to: &lt;17F28DE8-FE2A-42B7-B924-2CF3BBDA1D0F@...&gt;\r\nDate: Mon, 11 Jan 2010 18:21:29 +0100\r\nReferences: &lt;D71F7BA6-3D2B-4DA9-A50A-08FBCE29B2D1@...&gt;\n &lt;313B02E3-DBB1-4DB3-9DE2-5A1EF03B588D@...&gt;\n &lt;3F5A8EC5-6A1D-470D-B1F4-7B5BBF3C88BF@...&gt;\n &lt;17F28DE8-FE2A-42B7-B924-2CF3BBDA1D0F@...&gt;\r\nX-Mailer: Apple Mail (2.936)\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Jan Algermissen &lt;algermissen1971@...&gt;\r\nSubject: Re: [rest-discuss] Testing RESTful services\r\nX-Yahoo-Group-Post: member; u=289191104; y=cdDXp_rue3bEQKHUXpBLwpYiAfaXKKyldfsJTU0Rw9Sto8_AdYxc-f2T\r\nX-Yahoo-Profile: algermissen1971\r\n\r\nHi Jim,\n\n\nOn Jan 11, 2010, at 3:36 PM, Jim Webber wrote:\n\n&gt; Hi Jan,\n&gt;\n&gt;&gt; Are you testing whether the client can actually reach the intended  \n&gt;&gt; goal?\n&gt;\n&gt; Yes, which means the business protocol is tested and the  \n&gt; implementation is tested. Just like normal functional testing really.\n&gt;\n\nWhat do you mean by &#39;business protocol&#39;? And how do you document that  \n&#39;business protocol&#39; (if you *test* it, I assume it is &#39;written down&#39;  \nsomehow)?\n\n\n(Sorry, please bear with me - trying to make a point)\n\n&gt; [snip]\n&gt;\n&gt;&gt; What I intended to ask was whether a RESTful service could ever  \n&gt;&gt; produce a response that could be considered &#39;wrong&#39;.\n&gt;\n&gt; Assuming the service implementation is correct (big assumption), all  \n&gt; the media types are properly declared (smaller assumption) and that  \n&gt; the service won&#39;t fail for other reasons (implausible assumption!),  \n&gt; then I agree: hypermedia corrals you towards an appropriate outcome.\n\n+1 to the assumptions and I also like the wording &#39;corrals you towards  \nan appropriate outcome&#39;.\n\n&gt;\n&gt;&gt; P.S. The implicit theme being &#39;a RESTful service can never send a  \n&gt;&gt; wrong response because the client must expect to be sent anything&#39;.\n&gt;\n&gt; &quot;anything&quot; can only be taken in context. It will be constrained by  \n&gt; the media types your service uses, any additional link relations  \n&gt; you&#39;ve added in, and the domain application protocol (DAP, or  \n&gt; business protocol) that your service supports.\n\nI agree (assuming I understand you correctly)  that the perimeter  \nprescribed by the hypermedia semantics (media types, rels, etc.) the  \nserver uses provides a context that can be used to differentiate  \nbetween a &#39;valid&#39; response and a &#39;nonsense&#39; response. A &#39;nonsense&#39;  \nresponse being one that the client could not possibly have expected.\n\nI am having trouble with the &#39;domain application protocol&#39; - I think  \nREST deliberately aims to avoid it to reduce coupling. OTH, I am not  \nsure what you mean by &#39;DAP or business protocol&#39;. Can you explain?  \nMost importantly, I&#39;d be interested in whether and how you document  \nsuch a thing.\n\nWhat I think though (and maybe that is what you mean anyway) is that a  \nserver cannot send an arbitrary response to any request but is bound  \nto the semantics with which it linked to a given resource. For  \nexample, a Web server that sends HTML containing &lt;img href=&quot;/img/foo&quot;/ \n &gt; to a client must respond with an image representation when the  \nclient GETs /img/foo. Otherwise the server would be bogous (this is  \nstuff I think is a good candidate for tests).\n\nWeb browsers (at least the ones I checked) populate the Accept header  \nwith image/xxx values when following the &lt;img href=&quot;&quot;/&gt;. This is  \nappropriate behavior because the HTML spec establishes the contract  \nthat &lt;img&gt; elements reference images. Due to the commonly known nature  \nof &#39;an image&#39; the spec does not really go into details what an image is.\n\nIf this line of thought is applied to resource kinds (kind as in &quot;The  \ntarget of &lt;img&gt; is an image resource&quot;) that need more detailed  \nspecification or carry some sort of semantic of containing references  \nto other resources the situation is not that simple anymore. In my  \nview, an AtomPub &#39;collection&#39; is such a resource kind and there are  \ncertain expectations implied about the nature of the resource a  \n&lt;collection href=&quot;&quot;&gt; element points to. The developer of an AtomPub  \nclient would not populate the Accept header with image/* but rather  \napplication/atom+xml. However, I think that application/rss+xml or  \neven text/uri-list are also possible choices because they represent  \ncollections.\n\nWhat if this is applied to resources like orders or bug tracking  \ntickets? Is there a need for media types to be &#39;mapped&#39; or &#39;linked&#39;  \nwith such resource kinds?\n\nI think to some extend: yes. And I think that these kinds of  \n&#39;contracts&#39; constitute a sufficient &#39;domain protocol&#39; when combined  \nwith the knowledge about what set hypermedia semantics a service uses.\n\nJan\n\n\n\n\n\n\n&gt;\n&gt; Jim\n&gt;\n&gt; ------------------------------------\n&gt;\n&gt; Yahoo! Groups Links\n&gt;\n&gt;\n&gt;\n\n--------------------------------------\nJan Algermissen\n\nMail: algermissen@...\nBlog: http://algermissen.blogspot.com/\nHome: http://www.jalgermissen.com\n--------------------------------------\n\n\n\n\n"}}
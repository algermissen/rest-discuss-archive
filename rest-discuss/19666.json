{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":563108510,"authorName":"Simpson, Robby (GE Energy Management)","from":"&quot;Simpson, Robby (GE Energy Management)&quot; &lt;robby.simpson@...&gt;","replyTo":"SENDER","senderId":"J1O_eSSyFfUKNZOt3TdHDJ8jv7Ns4Ja3WmWt2Zye4Y3eY8ENE3ooFy6juBt5IcvbEamz5JJX31qXFUPLALxQB9Pz94iNvQWiU-gRsWEfu58GV_4qRMUlERh42uzG-MODD5KSo6Y","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [rest-discuss] RESTful Toggle","postDate":"1404917564","msgId":19666,"canDelete":false,"contentTrasformed":false,"systemMessage":true,"headers":{"messageIdInHeader":"PENGRTJDQzA5LjM3NkM2JVJvYmJ5LlNpbXBzb25AR0UuY29tPg==","inReplyToHeader":"PENBUD00VEVpSDRvWV9IT2tHMGpGZUVIZjUyTXljUEZtNTNrWGVYUk92PXF0Um5HWGc0Z0BtYWlsLmdtYWlsLmNvbT4=","referencesHeader":"PENGRTFEQUM5LjM3NjQ4JVJvYmJ5LlNpbXBzb25AR0UuY29tPiA8Q0FQPTRURWlING9ZX0hPa0cwakZlRUhmNTJNeWNQRm01M2tYZVhST3Y9cXRSbkdYZzRnQG1haWwuZ21haWwuY29tPg=="},"prevInTopic":19665,"nextInTopic":19667,"prevInTime":19665,"nextInTime":19667,"topicId":19657,"numMessagesInTopic":36,"msgSnippet":"All, Thanks so much for the rapid replies!  A few comments / requests for clarifications: Many have mentioned using conditional PUTs.  This will certainly","rawEmail":"Return-Path: &lt;robby.simpson@...&gt;\r\nReceived: (qmail 61559 invoked by uid 102); 9 Jul 2014 14:59:33 -0000\r\nReceived: from unknown (HELO mtaq6.grp.bf1.yahoo.com) (10.193.84.37)\n  by m3.grp.bf1.yahoo.com with SMTP; 9 Jul 2014 14:59:33 -0000\r\nReceived: (qmail 884 invoked from network); 9 Jul 2014 14:59:33 -0000\r\nReceived: from unknown (HELO n11-vm4.bullet.mail.bf1.yahoo.com) (66.196.81.195)\n  by mtaq6.grp.bf1.yahoo.com with SMTP; 9 Jul 2014 14:59:33 -0000\r\nDKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoogroups.com; s=echoe; t=1404917973; bh=pR0wvvCf9HjYYcFwFWcSHs1tuK7s3cG+PRPCvK9fSzw=; h=Received:Received:Received:X-Sender:X-Apparently-To:X-Received:X-Received:X-Received:X-Received:X-Received:X-Received:X-Received:X-Received:X-Received:Cc:Thread-Topic:Thread-Index:Date:Message-ID:References:In-Reply-To:Accept-Language:Content-Language:X-MS-Has-Attach:X-MS-TNEF-Correlator:user-agent:Content-ID:Content-Transfer-Encoding:MIME-Version:X-Proofpoint-Virus-Version:X-Proofpoint-Spam-Details:X-Originating-IP:X-eGroups-Msg-Info:Subject:X-Yahoo-Group-Post:X-YGroups-SubInfo:From:X-Original-From:Reply-To:Return-Path:To:Sender:X-Yahoo-Newman-Property:X-Yahoo-Newman-Id:X-eGroups-Approved-By:X-eGroups-Auth:Content-Type; b=N4pS/JhvGcNgS0KLv57sR6kS2LEAVc6SjUS4hkSbqIYIX9/598cFTvn83ukSPfGzBlICnkGyuj8qztsX+eVUWQvC/BClbU/hfIDX+BBnwfZ4G8TrcIA5sdMw3+amu8uj+giSAqPWZRkzgPaxuhd2SEp8W/sI33ncUawfTzUhcBI=\r\nReceived: from [66.196.81.178] by n11.bullet.mail.bf1.yahoo.com with NNFMP; 09 Jul 2014 14:59:33 -0000\r\nReceived: from [10.193.242.234] by t8.bullet.mail.bf1.yahoo.com with NNFMP; 09 Jul 2014 14:59:33 -0000\r\nReceived: from [127.0.0.1] by gapi7.grp.bf1.yahoo.com with NNFMP; 09 Jul 2014 14:59:33 -0000\r\nX-Sender: robby.simpson@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 27332 invoked by uid 102); 9 Jul 2014 14:52:46 -0000\r\nX-Received: from unknown (HELO mtaq5.grp.bf1.yahoo.com) (10.193.84.36)\n  by m16.grp.bf1.yahoo.com with SMTP; 9 Jul 2014 14:52:46 -0000\r\nX-Received: (qmail 29340 invoked from network); 9 Jul 2014 14:52:46 -0000\r\nX-Received: from unknown (HELO mx0b-00176a03.pphosted.com) (67.231.157.48)\n  by mtaq5.grp.bf1.yahoo.com with SMTP; 9 Jul 2014 14:52:46 -0000\r\nX-Received: from pps.filterd (m0048204.ppops.net [127.0.0.1])\n\tby m0048204.ppops.net-00176a03. (8.14.7/8.14.7) with SMTP id s69EbddU023049\n\tfor &lt;rest-discuss@yahoogroups.com&gt;; Wed, 9 Jul 2014 10:52:46 -0400\r\nX-Received: from alpmlip13.e2k.ad.ge.com ([12.43.191.1])\n\tby m0048204.ppops.net-00176a03. with ESMTP id 1n16ku8eta-1\n\t(version=TLSv1/SSLv3 cipher=RC4-SHA bits=128 verify=NOT)\n\tfor &lt;rest-discuss@yahoogroups.com&gt;; Wed, 09 Jul 2014 10:52:45 -0400\r\nX-Received: from unknown (HELO CINMBHT01.e2k.ad.ge.com) ([3.159.212.194])\n  by alpmlip13.e2k.ad.ge.com with ESMTP/TLS/AES128-SHA; 09 Jul 2014 10:47:42 -0400\r\nX-Received: from CINURCNA20.e2k.ad.ge.com (3.159.212.168) by\n CINMBHT01.e2k.ad.ge.com (3.159.212.194) with Microsoft SMTP Server (TLS) id\n 14.3.174.2; Wed, 9 Jul 2014 10:52:44 -0400\r\nX-Received: from CINURCNA14.e2k.ad.ge.com ([169.254.2.171]) by\n CINURCNA20.e2k.ad.ge.com ([169.254.2.159]) with mapi id 14.03.0174.002; Wed,\n 9 Jul 2014 10:52:44 -0400\r\nCc: &quot;rest-discuss@yahoogroups.com&quot; &lt;rest-discuss@yahoogroups.com&gt;\r\nThread-Topic: [rest-discuss] RESTful Toggle\r\nThread-Index: AQHPmvOXHnH2/hNG00O0gdr3ISBy5g==\r\nDate: Wed, 9 Jul 2014 14:52:44 +0000\r\nMessage-ID: &lt;CFE2CC09.376C6%Robby.Simpson@...&gt;\r\nReferences: &lt;CFE1DAC9.37648%Robby.Simpson@...&gt;\n &lt;CAP=4TEiH4oY_HOkG0jFeEHf52MycPFm53kXeXROv=qtRnGXg4g@...&gt;\r\nIn-Reply-To: &lt;CAP=4TEiH4oY_HOkG0jFeEHf52MycPFm53kXeXROv=qtRnGXg4g@...&gt;\r\nAccept-Language: en-US\r\nContent-Language: en-US\r\nX-MS-Has-Attach: \r\nX-MS-TNEF-Correlator: \r\nuser-agent: Microsoft-MacOutlook/14.4.3.140616\r\nContent-ID: &lt;7B6F9DDDA7FBB34698B09F1670F11F14@...&gt;\r\nContent-Transfer-Encoding: quoted-printable\r\nMIME-Version: 1.0\r\nX-Proofpoint-Virus-Version: vendor=fsecure engine=2.50.10432:5.12.52,1.0.14,0.0.0000\n definitions=2014-07-09_03:2014-07-09,2014-07-09,1970-01-01 signatures=0\r\nX-Proofpoint-Spam-Details: rule=notspam policy=default score=0 spamscore=0 suspectscore=0 phishscore=0\n adultscore=0 bulkscore=0 classifier=spam adjust=0 reason=mlx scancount=1\n engine=7.0.1-1402240000 definitions=main-1407090188\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nSubject: Re: [rest-discuss] RESTful Toggle\r\nX-Yahoo-Group-Post: member; u=563108510\r\nX-Original-From: &quot;Simpson, Robby (GE Energy Management)&quot; &lt;robby.simpson@...&gt;\r\nReply-To: &quot;Simpson, Robby (GE Energy Management)&quot; &lt;robby.simpson@...&gt;\r\nX-Original-Return-Path: &quot;Simpson, Robby (GE Energy Management)&quot; &lt;robby.simpson@...&gt;\r\nTo: rest-discuss@yahoogroups.com\r\nX-Yahoo-Newman-Property: groups-system\r\nX-Yahoo-Newman-Id: groups-system\r\nX-eGroups-Approved-By: gonga_thrash via web; 09 Jul 2014 07:59:33 -0000\r\nContent-Type: text/plain; charset=&quot;UTF-8&quot;\r\nFrom: &quot;Simpson, Robby (GE Energy Management)&quot; &lt;robby.simpson@...&gt;\r\n\r\nAll,\n\n\nThanks so much for the rapid replies!  A few comments / requests for=\r\n clarifications:\n\n\nMany have mentioned using conditional PUTs.  This will c=\r\nertainly solve the race conditions that I was worried about.  However, it w=\r\nill require some network chattiness (a GET to retrieve the current represen=\r\ntation and ETag / Last-Modified, followed by a PUT with the appropriate hea=\r\nder) which may require multiple round-trips should the state change between=\r\n the GET and PUT.  Any thoughts on ways to avoid this chattiness and still =\r\nmaintain the RESTful principles?  In a perfect world, this could be accompl=\r\nished with a single request, as the client does not really care what the cu=\r\nrrent state is, the client merely wishes to toggle the state (e.g., a light=\r\n switch that is simply a button).\n\n\n-----\n\n\nOthers have mentioned the use o=\r\nf a POST.  To better understand the POST semantics, I&#39;ve created an example=\r\n below:\n\n\n/switch     ---  (a GET will return the current state: &quot;On&quot; or &quot;O=\r\nff&quot; ; a PUT will modify the current state: &quot;On&quot; or &quot;Off)\n\n\nI&#39;m guessing tha=\r\nt the POST would be to a resource such as /switch/toggle\n\n\nHowever, I&#39;m won=\r\ndering if this violates RESTful principles and actually creates more of an =\r\nRPC-like style.  Or perhaps I&#39;m just overthinking..\n\n\nIt is unclear to me w=\r\nhat the body of the POST to /switch/toggle would contain as well as what sh=\r\nould happen if a GET or a PUT were performed.\n\n\nThanks,\nRobby\n\n\nFrom: Keith=\r\n P Hassen &lt;keith.hassen@...&lt;mailto:keith.hassen@...&gt;&gt;\nDate: Wed=\r\nnesday, July 9, 2014 at 9:06 AM\nTo: Charles Simpson &lt;Robby.Simpson@...&lt;m=\r\nailto:Robby.Simpson@...&gt;&gt;\nCc: &quot;rest-discuss@yahoogroups.com&lt;mailto:rest-=\r\ndiscuss@yahoogroups.com&gt;&quot; &lt;rest-discuss@yahoogroups.com&lt;mailto:rest-discuss=\r\n@yahoogroups.com&gt;&gt;\nSubject: Re: [rest-discuss] RESTful Toggle\n\n\nYou could i=\r\nmplement a POST operation that simply flips the state, whatever it is.  If =\r\nyou implement PUT, the request should be idempotent but it&#39;s unclear if tha=\r\nt&#39;s what you intend here.  Protecting against the kind of race conditions y=\r\nou mention is usually performed with conditional requests (If-Match, If-Non=\r\ne-Match, etc).\n\n\nK\n\n\n\n\n\n\nOn Tue, Jul 8, 2014 at 5:28 PM, &#39;Simpson, Robby (G=\r\nE Energy Management)&#39; robby.simpson@...&lt;mailto:robby.simpson@...&gt; [re=\r\nst-discuss] &lt;rest-discuss-noreply@yahoogroups.com&lt;mailto:rest-discuss-norep=\r\nly@yahoogroups.com&gt;&gt; wrote:\n\n\n\n\nHi,\n\n\nI&#39;ve been scratching my head over thi=\r\ns one for a while and am hoping I can\nget some help.\n\n\nImagine a light swit=\r\nch with one simple resource: /state , where state can\nbe &quot;On&quot; or &quot;Off.&quot;\n\n\nO=\r\nne can PUT to /state , changing /state to either &quot;On&quot; or &quot;Off.&quot;\nSimilarly, =\r\na GET to /state will tell you if the light is currently &quot;On&quot; or\n&quot;Off.&quot;\n\n\nWh=\r\nere I&#39;m struggling is with a safe &quot;Toggle&quot; mechanism. That is, if\n/state is=\r\n &quot;On&quot;, change it to &quot;Off&quot; and vice versa.\n\n\nI understand that one solution =\r\nwould be to simply perform a GET on /state\nand then PUT the opposite. Howev=\r\ner, I am concerned with both the overhead\nand latency this entails as well =\r\nas the potential for a race condition\n(what if /state changes between the G=\r\nET and the PUT?).\n\n\nAny solution I&#39;ve looked at thus far seems to violate R=\r\nESTful principles,\nparticularly regarding idempotency. In short, can one sa=\r\nfely toggle?\n\n\nAny suggestions?\n\n\nThanks,\nRobby\n\n\n\n\n\n\n\n\n\n"}}
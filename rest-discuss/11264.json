{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":147780944,"authorName":"Aristotle Pagaltzis","from":"Aristotle Pagaltzis &lt;pagaltzis@...&gt;","profile":"a22pag","replyTo":"SENDER","senderId":"yS1tLddN1BGIaWV7JYkFfnTZsnoa_zwmeKfMVXX5gN4bFdtsmDxQ-D7lK4kppSJCP7V8hyJkHe-vyY-FsssyIwrk4VLbfBjqGhfDnEk","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: What location to return on 202 (asynchronous process) and what\tpolling result?","postDate":"1220838991","msgId":11264,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDIwMDgwOTA4MDE1NjMxLkdBMzAxOTRAa2xhbmdyYXVtLnBsYXNtYXN0dXJtLm9yZz4=","inReplyToHeader":"PGc5dW9vNStqNGlrQGVHcm91cHMuY29tPg==","referencesHeader":"PGc5dW9vNStqNGlrQGVHcm91cHMuY29tPg=="},"prevInTopic":11263,"nextInTopic":11265,"prevInTime":11263,"nextInTime":11265,"topicId":11263,"numMessagesInTopic":15,"msgSnippet":"... RFC 2616 does not specify a meaning for the Location header in the context of a 202 response, so do not expect clients to know what to do with your","rawEmail":"Return-Path: &lt;pagaltzis@...&gt;\r\nX-Sender: pagaltzis@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 70525 invoked from network); 8 Sep 2008 01:55:34 -0000\r\nX-Received: from unknown (66.218.67.95)\n  by m43.grp.scd.yahoo.com with QMQP; 8 Sep 2008 01:55:34 -0000\r\nX-Received: from unknown (HELO mail.gmx.net) (213.165.64.20)\n  by mta16.grp.scd.yahoo.com with SMTP; 8 Sep 2008 01:55:34 -0000\r\nX-Received: (qmail invoked by alias); 08 Sep 2008 01:55:32 -0000\r\nX-Received: from static-87-79-236-202.netcologne.de (EHLO klangraum) [87.79.236.202]\n  by mail.gmx.net (mp023) with SMTP; 08 Sep 2008 03:55:32 +0200\r\nX-Authenticated: #163624\r\nX-Provags-ID: V01U2FsdGVkX18xHPc/A6Qx5PKFp44LCkQmGWYZ8W37B2c785k122\n\t6SIvxeOiq7Fx1P\r\nDate: Mon, 8 Sep 2008 03:56:31 +0200\r\nTo: rest-discuss@yahoogroups.com\r\nMessage-ID: &lt;20080908015631.GA30194@...&gt;\r\nMail-Followup-To: rest-discuss@yahoogroups.com\r\nReferences: &lt;g9uoo5+j4ik@...&gt;\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=utf-8\r\nContent-Disposition: inline\r\nContent-Transfer-Encoding: 8bit\r\nIn-Reply-To: &lt;g9uoo5+j4ik@...&gt;\r\nUser-Agent: Mutt/1.5.18 (2008-05-17)\r\nX-Y-GMX-Trusted: 0\r\nX-FuHaFi: 0.6\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Aristotle Pagaltzis &lt;pagaltzis@...&gt;\r\nSubject: Re: What location to return on 202 (asynchronous process) and what\n\tpolling result?\r\nX-Yahoo-Group-Post: member; u=147780944; y=xFY3tNXcHZ-AHX4iIdaLzDjcS_l2jFVlKzPppINW_Q8B\r\nX-Yahoo-Profile: a22pag\r\n\r\n* bierstuebl &lt;bierstuebl@...&gt; [2008-09-08 03:10]:\n&gt; I would like to use asynchronous REST by POSTing a request to\n&gt; e.g. /backups (for creating a new backup version), which will\n&gt; return me a 202 with a location in the header.\n\nRFC 2616 does not specify a meaning for the Location header in\nthe context of a 202 response, so do not expect clients to know\nwhat to do with your response.\n\nInstead, the body of your response should be machine-readable and\nshould contain links to a) the eventual location of the resource\nif you already know where it is going to be and b) the location\nof a resource that can be polled for the status of the operation\nin the meantime. These links should be annotated so that the\nclient knows which one is which.\n\nUsing hypermedia (put plainly, “stuff with links in it”) in this\nfashion is the cornerstone of REST.\n\n&gt; What should this location look like? I think it should look\n&gt; like /backups/version_x and NOT be somewhere else like\n&gt; /queue/backups/version_x or the like. However, if a client\n&gt; starts polling now on /backups/version_x and the process hasn&#39;t\n&gt; finished yet, what should be returned? A 404 with a body until\n&gt; the process is finished an the real representation can be sent\n&gt; with 200?\n\nSending 404 while the target resource does not yet exist is fine.\n\nDo not expect the client to poll the target resource though. For\none thing, this protocol gives you no way of signaling the client\nthat there was a problem with processing that you only discovered\nlater.\n\nWorse, though, all this means you are overloading the meaning of\n202, Location and 404 with semantics outside HTTP’s uniform\ninterface, implementing a private protocol. In REST, when you\nneed to provide semantics that aren’t directly available at the\nprotocol level, your first instinct should be to expose another\nresource; and the way to make that all work together is to a)\nprovide links to clients, that b) have annotations saying what\nsemantics the client can expect that resource to expose.\n\n&gt; Using a new resource like /queue/backups/version I could return\n&gt; a 200 with some status information in it. However, the client\n&gt; initially requested a representation of a backup, but when it\n&gt; starts polling on the new resource it receives another\n&gt; representation, the a status representeation. How could a\n&gt; client adjust to this situation without knowing in advance that\n&gt; the action would be asynchronous??\n\nIt can’t. You want to do something that HTTP has no provision\nfor, so any client that is to successfully follow your protocol\nwill need special knowledge about it. However, by staying within\nthe confines of the uniform interface and hypermedia, you can\ncontain the spread of that special knowledge to a minimal amount\nof code, and you maximise the amount of accidental usefulness\nthat clients without knowledge of your protocol can still get\nout of the service.\n\nAnd that is the goal of REST: minimising coupling.\n\nRegards,\n-- \nAristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;\n\n"}}
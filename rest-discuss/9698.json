{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":136218993,"authorName":"Story Henry","from":"Story Henry &lt;henry.story@...&gt;","profile":"hjsatdoc","replyTo":"SENDER","senderId":"EKyWwBIwzuGFprVo13Xm73uZ9c6dFgqiM9clNn-uSqnFf5IQD_QtB1V6rl-v4iJ0pW_ebcbkNHHPvrPOcqBZM3AGvIHHnZ-FNxXFjQ","spamInfo":{"isSpam":false,"reason":"3"},"subject":"barfing on misformed headers","postDate":"1193317886","msgId":9698,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PEQzQjgyNzIwLTBCQUMtNEJFMC05REI5LTg0N0QxNUQxNjdGQUBiYmxmaXNoLm5ldD4="},"prevInTopic":0,"nextInTopic":9699,"prevInTime":9697,"nextInTime":9699,"topicId":9698,"numMessagesInTopic":4,"msgSnippet":"Hi, I have just found that the restlet library breaks down on a misformed header. When reading Danny Ayers foaf file, which has the following headers ","rawEmail":"Return-Path: &lt;henry.story@...&gt;\r\nX-Sender: henry.story@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 5446 invoked from network); 25 Oct 2007 13:12:07 -0000\r\nX-Received: from unknown (66.218.67.96)\n  by m45.grp.scd.yahoo.com with QMQP; 25 Oct 2007 13:12:07 -0000\r\nX-Received: from unknown (HELO zone5.gridzones.com) (69.90.133.49)\n  by mta17.grp.scd.yahoo.com with SMTP; 25 Oct 2007 13:12:07 -0000\r\nX-Received: from [192.168.1.10] (ALagny-152-1-16-59.w83-112.abo.wanadoo.fr [83.112.142.59])\n\t(authenticated bits=0)\n\tby zone5.gridzones.com (8.13.8/8.13.7) with ESMTP id l9PDBBLl005277\n\t(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NO);\n\tThu, 25 Oct 2007 06:11:14 -0700 (PDT)\r\nMime-Version: 1.0 (Apple Message framework v752.3)\r\nTo: Rest List &lt;rest-discuss@yahoogroups.com&gt;\r\nMessage-Id: &lt;D3B82720-0BAC-4BE0-9DB9-847D15D167FA@...&gt;\r\nContent-Type: multipart/signed; micalg=sha1; boundary=Apple-Mail-82-262321748; protocol=&quot;application/pkcs7-signature&quot;\r\nCc: Ayers Danny &lt;danny.ayers@...&gt;\r\nDate: Thu, 25 Oct 2007 15:11:26 +0200\r\nX-Mailer: Apple Mail (2.752.3)\r\nX-eGroups-Msg-Info: 2:3:4:0:0\r\nFrom: Story Henry &lt;henry.story@...&gt;\r\nSubject: barfing on misformed headers\r\nX-Yahoo-Group-Post: member; u=136218993; y=xQ9Ba_fKCS9EhusETGomHNUVnTxlkl7BvfXDCpbou-80kks\r\nX-Yahoo-Profile: hjsatdoc\r\n\r\n\r\n--Apple-Mail-82-262321748\r\nContent-Transfer-Encoding: 7bit\r\nContent-Type: text/plain;\n\tcharset=US-ASCII;\n\tdelsp=yes;\n\tformat=flowed\r\n\r\nHi,\n\nI have just found that the restlet library breaks down on a misformed  \nheader. When reading\nDanny Ayers&#39; foaf file, which has the following headers\n\nhjs@bblfish:0$ curl -I  http://dannyayers.com/me.rdf\nHTTP/1.1 200 OK\nDate: Thu, 25 Oct 2007 12:58:18 GMT\nServer: WYMIWYG RWCF (the KnoBot foundation) 0.3\nContent-Type: application/rdf+xml\nCache-Control:  must-revalidate\nExpires: -1\nSet-Cookie: lang=; path=/\nPragma: no-cache\nContent-Length: 17092\n\nNow I think it is likely, that Expires: -1 is wrong, though I have  \nnot checked the specs. But is it reasonable for the\nwhole download to stop and throw the following exception?\n\njava.lang.NullPointerException\n         at org.restlet.util.DateUtils$ImmutableDate.&lt;init&gt; \n(DateUtils.java:249)\n         at org.restlet.util.DateUtils$ImmutableDate.valueOf \n(DateUtils.java:234)\n         at org.restlet.util.DateUtils.unmodifiable(DateUtils.java:195)\n         at org.restlet.resource.Variant.setExpirationDate \n(Variant.java:321)\n         at com.noelios.restlet.http.HttpClientCall.getResponseEntity \n(HttpClientCall.java:251)\n         at com.noelios.restlet.http.HttpClientConverter.commit \n(HttpClientConverter.java:110)\n         at com.noelios.restlet.http.HttpClientHelper.handle \n(HttpClientHelper.java:79)\n         at org.restlet.Client.handle(Client.java:110)\n         at org.restlet.Uniform.handle(Uniform.java:97)\n         at net.java.sommer.addressbook.AgentResourceObject$1 \n$1.cacheUrlToFile(AgentResourceObject.java:263)\n         at net.java.sommer.addressbook.AgentResourceObject$1 \n$1.doInBackground(AgentResourceObject.java:177)\n         at net.java.sommer.addressbook.AgentResourceObject$1 \n$1.doInBackground(AgentResourceObject.java:303)\n         at org.jdesktop.swingworker.SwingWorker$1.call(Unknown Source)\n         at java.util.concurrent.FutureTask$Sync.innerRun \n(FutureTask.java:269)\n         at java.util.concurrent.FutureTask.run(FutureTask.java:123)\n         at org.jdesktop.swingworker.SwingWorker.run(Unknown Source)\n         at java.util.concurrent.ThreadPoolExecutor$Worker.runTask \n(ThreadPoolExecutor.java:650)\n         at java.util.concurrent.ThreadPoolExecutor$Worker.run \n(ThreadPoolExecutor.java:675)\n         at java.lang.Thread.run(Thread.java:613)\n\n\n\n\nHome page: http://bblfish.net/\nSun Blog: http://blogs.sun.com/bblfish/\nFoaf name: http://bblfish.net/people/henry/card#me\n\n\n\n\r\n--Apple-Mail-82-262321748\r\nContent-Type: application/pkcs7-signature;\n\tname=smime.p7s\r\nContent-Disposition: attachment;\n\tfilename=smime.p7s\r\n\r\n[ Attachment content not displayed ]\r\n--Apple-Mail-82-262321748--\r\n\n"}}
{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":192184872,"authorName":"Ittay Dror","from":"Ittay Dror &lt;ittayd@...&gt;","profile":"ittayf","replyTo":"SENDER","senderId":"t7QjYzffDHXHV1V6rV_DOcxvGV3XcVTQaPm7vOcnZHYsTqwwJbO3_iduCde7g9PGiVsWEGtCoMWYdPso-Q3u20wDi7U1Jcc","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [rest-discuss] Re: how to model actions","postDate":"1168407045","msgId":7540,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDQ1QTQ3QTA1LjYwNDAyMDFAcWx1c3RlcnMuY29tPg==","inReplyToHeader":"PGM4MjA0NTQzMDcwMTA5MTUwOWs2MTMwZDQyNnFkMzM4NzA5ZDI1YmMzYjE3QG1haWwuZ21haWwuY29tPg==","referencesHeader":"PGVvMGc4citpYmRzQGVHcm91cHMuY29tPiA8NDVBM0ZENzMuNDAwMDdAcWx1c3RlcnMuY29tPiA8YzgyMDQ1NDMwNzAxMDkxNTA5azYxMzBkNDI2cWQzMzg3MDlkMjViYzNiMTdAbWFpbC5nbWFpbC5jb20+"},"prevInTopic":7523,"nextInTopic":7541,"prevInTime":7539,"nextInTime":7541,"topicId":7510,"numMessagesInTopic":39,"msgSnippet":"thanks for your help. one final question, is it ok to model the API for status as http://example.org/openQRM/service/abc123#status (thus stating more clearly","rawEmail":"Return-Path: &lt;Ittay.Dror@...&gt;\r\nX-Sender: Ittay.Dror@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nReceived: (qmail 11210 invoked from network); 10 Jan 2007 05:30:54 -0000\r\nReceived: from unknown (66.218.66.166)\n  by m34.grp.scd.yahoo.com with QMQP; 10 Jan 2007 05:30:54 -0000\r\nReceived: from unknown (HELO dhost002-60.dex002.intermedia.net) (64.78.21.243)\n  by mta5.grp.scd.yahoo.com with SMTP; 10 Jan 2007 05:30:53 -0000\r\nReceived: from misd002.dex002.intermedia.net ([64.78.61.100]) by dhost002-60.dex002.intermedia.net with Microsoft SMTPSVC(6.0.3790.1830);\n\t Tue, 9 Jan 2007 21:30:52 -0800\r\nReceived: from [10.100.2.106] ([212.143.196.226]) by misd002.dex002.intermedia.net over TLS secured channel with Microsoft SMTPSVC(6.0.3790.1830);\n\t Tue, 9 Jan 2007 21:30:48 -0800\r\nMessage-ID: &lt;45A47A05.6040201@...&gt;\r\nDate: Wed, 10 Jan 2007 07:30:45 +0200\r\nUser-Agent: Thunderbird 1.5.0.9 (X11/20061219)\r\nMIME-Version: 1.0\r\nCc: rest-discuss@yahoogroups.com\r\nReferences: &lt;eo0g8r+ibds@...&gt; &lt;45A3FD73.40007@...&gt; &lt;c82045430701091509k6130d426qd338709d25bc3b17@...&gt;\r\nIn-Reply-To: &lt;c82045430701091509k6130d426qd338709d25bc3b17@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nReturn-Path: ittayd@...\r\nX-OriginalArrivalTime: 10 Jan 2007 05:30:49.0514 (UTC) FILETIME=[7CA338A0:01C73478]\r\nX-eGroups-Msg-Info: 1:0:0:0\r\nFrom: Ittay Dror &lt;ittayd@...&gt;\r\nSubject: Re: [rest-discuss] Re: how to model actions\r\nX-Yahoo-Group-Post: member; u=192184872; y=EaEWCWccaJnrf4yvUL8ML35sHZrlqRnOvtjGrfMd-49h\r\nX-Yahoo-Profile: ittayf\r\n\r\nthanks for your help.\n\none final question, is it ok to model the API for &#39;status&#39; as http://example.org/openQRM/service/abc123#status (thus stating more clearly it is a property of the service, and not a resource in itself)\n\nthanks,\nittay\n\nJohn D. Heintz wrote:\n&gt; \n&gt; \n&gt; Hello Ittay,\n&gt; \n&gt; Here&#39;s how I would approach the problem by way of small example. I&#39;ve \n&gt; used &quot;====...&quot; just to help with the formatting.\n&gt; \n&gt; The first thing I would do is break down the name/uri space like this:\n&gt; ============ ===\n&gt; GET http://example. org/openQRM/ service/abc123 \n&gt; &lt;http://example.org/openQRM/service/abc123&gt;\n&gt; ============ ===\n&gt; HTTP/1.1 200 OK\n&gt; \n&gt; &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&gt; ...\n&gt;     &lt;service name=&quot;...&quot; status=&quot;started&quot; ...\n&gt; ============ ===\n&gt; \n&gt; This indicates that we can get a representation of the service \n&gt; identified by &quot;abc123&quot;.\n&gt; \n&gt; We could then PUT or POST a modifed representation with \n&gt; status=&quot;stopped&quot;, but I&#39;ll take a different approach. Let&#39;s have the \n&gt; represenation provide more information via the hypertext:\n&gt; \n&gt; ============ ===\n&gt; GET http://example. org/openQRM/ service/abc123 \n&gt; &lt;http://example.org/openQRM/service/abc123&gt;\n&gt; ============ ===\n&gt; HTTP/1.1 200 OK\n&gt; \n&gt; &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&gt; ...\n&gt;     &lt;service name=&quot;...&quot; ...\n&gt;       &lt;status current=&quot;started&quot; href=&quot;abc123/status&quot; ...\n&gt; ============ ==\n&gt; \n&gt; Now we have marked a new URI that is specially designed for the status \n&gt; of the &quot;abc123&quot; service.\n&gt; \n&gt;  From that URI:\n&gt; ============ ===\n&gt; GET http://example. org/openQRM/ service/abc123/ status \n&gt; &lt;http://example.org/openQRM/service/abc123/status&gt;\n&gt; ============ ===\n&gt; HTTP/1.1 200 OK\n&gt; \n&gt; started\n&gt; ============ ===\n&gt; \n&gt; Let&#39;s say that we want to support a simple PUT on this resource to \n&gt; enable changing the state of a service:\n&gt; \n&gt; ============ ===\n&gt; PUT http://example. org/openQRM/ service/abc123/ status \n&gt; &lt;http://example.org/openQRM/service/abc123/status&gt;\n&gt; \n&gt; stopped\n&gt; ============ ===\n&gt; HTTP/1.1 200 OK\n&gt; \n&gt; stopped\n&gt; ============ ===\n&gt; \n&gt; If ours was the only client controlling that service this would be \n&gt; perfectly clear, but other clients (or the service itself) might have \n&gt; already changed the status. Let&#39;s add some details that provide us with \n&gt; information to do that.\n&gt; \n&gt; ============ ===\n&gt; GET http://example. org/openQRM/ service/abc123/ status \n&gt; &lt;http://example.org/openQRM/service/abc123/status&gt;\n&gt; ============ ===\n&gt; HTTP/1.1 200 OK\n&gt; Last-Modified: Tue, 09 Jan 2007 22:34:37 GMT\n&gt; ETag: &quot;xyz-789&quot;\n&gt; \n&gt; started\n&gt; ============ ===\n&gt; \n&gt; The Last-Modified should be clear, the ETag is a server-side hashed id \n&gt; that can encode details like identity and version number. In our \n&gt; subsequent PUT we can indicate to only do the work if the resource still \n&gt; matches what we last saw (optimistic locking).\n&gt; \n&gt; ============ ===\n&gt; PUT http://example. org/openQRM/ service/abc123/ status \n&gt; &lt;http://example.org/openQRM/service/abc123/status&gt;\n&gt; If-Modified- Since: Tue, 09 Jan 2007 22:34:37 GMT\n&gt; \n&gt; stopped\n&gt; ============ ===\n&gt; HTTP/1.1 200 OK\n&gt; \n&gt; stopped\n&gt; ============ ===\n&gt; \n&gt; Now it&#39;s safe for us to assume that &quot;we&quot; are the agent that did stop the \n&gt; service. A failure response would have been returned if not.\n&gt; \n&gt; Stuff that I&#39;ve ignored so far:\n&gt; * content type: I&#39;m just typing anything for example. Should always \n&gt; prefer standard and interoperable content types.\n&gt; * content negotiation: browsers and B2B agents may not want the same \n&gt; representation content types\n&gt; * Forms: How does this agent know it can PUT to that resource? What \n&gt; values are allowed to be sent?\n&gt; * probably a bunch more, I hope others jump in to correct me ;)\n&gt; \n&gt; Hope this helps provide a more clear example of the differences.\n&gt; \n&gt; John\n&gt; \n&gt; On 1/9/07, *Ittay Dror* &lt; ittayd@qlusters. com \n&gt; &lt;mailto:ittayd@...&gt;&gt; wrote:\n&gt; \n&gt;     what troubles me is that most examples i find to explain rest use\n&gt;     simple cases, where no logic is actually running, and so it is easy\n&gt;     to transfer services to properties (since the services do very little)\n&gt; \n&gt;     so here is my real world use case: openQRM is a platform for\n&gt;     provisioning and managing services in a DC. a service is an entity\n&gt;     named VirtualEnvironment that encapsulates both a set of policies on\n&gt;     how to provision and manage the real service and a capture of the\n&gt;     real service&#39;s state (resources, utilization, error, etc.)\n&gt; \n&gt;     we can do many actions on a service, but the primary ones are to\n&gt;     start and stop it. starting means resources are selected from a pool\n&gt;     and assigned to work for the service, the software is deployed on\n&gt;     them and the service is monitored. stopping is the reverse.\n&gt;     obviously openQRM does all this. the client just requests to &#39;start&#39;\n&gt;     or &#39;stop&#39;.\n&gt; \n&gt;     now, it is hard for me to see &#39;start&#39; and &#39;stop&#39; as values of the\n&gt;     &#39;currentactivity&#39; property. if anything, it looks like a masquerade\n&gt;     of the RPC equivalent of posting to the VirtualEnvironment entity\n&gt;     with the pair &#39;action=start&#39;.\n&gt; \n&gt;     thank you for your help,\n&gt;     ittay\n&gt; \n&gt;     wahbedahbe wrote:\n&gt;      &gt;\n&gt;      &gt;\n&gt;      &gt; Hmmm. I&#39;m a bit of a newbie too but let me take a stab at this as an\n&gt;      &gt; exercise.\n&gt;      &gt;\n&gt;      &gt; Now let me first say that the way you posed the question is very\n&gt;      &gt; &quot;objecty&quot; or &quot;servicey&quot; to begin with and makes it a bit hard to\n&gt;      &gt; answer. You&#39;ve basically said &quot;I have a service with methods A,\n&gt;     B, and\n&gt;      &gt; C; how do I make it resource based?&quot; The problem is that REST has no\n&gt;      &gt; concept of class-specific methods, so without knowing what A, B,\n&gt;     and C\n&gt;      &gt; do, its hard to answer your question. In short, there is no straight\n&gt;      &gt; forward transformation of an abstract service to abstract resources.\n&gt;      &gt; (At least not that I know of...) They are two very different ways of\n&gt;      &gt; modeling the interface. I can&#39;t transform one type of solution to\n&gt;      &gt; another without understanding the problem.\n&gt;      &gt;\n&gt;      &gt; But I can infer a bit about the problem from the fact you are using\n&gt;      &gt; the concept of a person and things a person can do (eat, sleep,\n&gt;     work).\n&gt;      &gt; I&#39;ll assume here that sleep() and work() change the state of the\n&gt;      &gt; person (to sleeping and working respectively) . Maybe there is a\n&gt;      &gt; substate when working that says what work you are doing. Let&#39;s also\n&gt;      &gt; assume that eat() adds some food items to a list of things eaten.\n&gt;      &gt;\n&gt;      &gt; So to work (on building a bike shed):\n&gt;      &gt; PUT /person/ittay/ currentactivity\n&gt;      &gt; Content-Type: application/ x-activity+ xml\n&gt;      &gt;\n&gt;      &gt; &lt;activity&gt;\n&gt;      &gt; &lt;type&gt;work&lt;/ type&gt;\n&gt;      &gt; &lt;sub-type&gt;building a bike shed&lt;/sub-type&gt;\n&gt;      &gt; &lt;/activity&gt;\n&gt;      &gt;\n&gt;      &gt; To sleep:\n&gt;      &gt; PUT /person/ittay/ currentactivity\n&gt;      &gt; Content-Type: application/ x-activity+ xml\n&gt;      &gt;\n&gt;      &gt; &lt;activity&gt;\n&gt;      &gt; &lt;type&gt;sleep&lt; /type&gt;\n&gt;      &gt; &lt;/activity&gt;\n&gt;      &gt;\n&gt;      &gt; To eat an apple:\n&gt;      &gt; POST /person/ittay/ stomach\n&gt;      &gt; Content-type: application/ x-food+xml\n&gt;      &gt;\n&gt;      &gt; &lt;food&gt;apple&lt; /food&gt;\n&gt;      &gt;\n&gt;      &gt; Now these actions could also kick off related business processes. I\n&gt;      &gt; think the only method that can&#39;t is GET. Note that you could use get\n&gt;      &gt; to retrieve the current activity from /person/ittay/\n&gt;     currentactivity or\n&gt;      &gt; the list of things eaten from /person/ittay/ stomach.\n&gt;      &gt;\n&gt;      &gt; --- In rest-discuss@ yahoogroups. com\n&gt;      &gt; &lt;mailto: rest-discuss% 40yahoogroups. com\n&gt;     &lt;mailto:rest-discuss%40yahoogroups.com&gt;&gt;, Ittay Dror &lt;ittayd@...&gt; wrote:\n&gt;      &gt;  &gt;\n&gt;      &gt;  &gt; thanks for your example and site reference.\n&gt;      &gt;  &gt;\n&gt;      &gt;  &gt; i did know that i use only HTTP methods, what i lacked is how to\n&gt;      &gt; model my business methods. i am a newbie at this (maybe i should have\n&gt;      &gt; indicated that)\n&gt;      &gt;  &gt;\n&gt;      &gt;  &gt; may i impose with a followup?\n&gt;      &gt;  &gt;\n&gt;      &gt;  &gt; say i have a person entity in my application. this entity has\n&gt;      &gt; several business methods (eat, sleep, work). how should i model a\n&gt;     rest\n&gt;      &gt; api for these? create a PersonManager resource (which then will need\n&gt;      &gt; to accept as argument what action to do), or create resources per\n&gt;      &gt; action (/person/ittay/ eat maybe?).\n&gt;      &gt;  &gt;\n&gt;      &gt;  &gt; thanks,\n&gt;      &gt;  &gt; ittay\n&gt;      &gt;  &gt;\n&gt;      &gt;  &gt; Jan Algermissen wrote:\n&gt;      &gt;  &gt; &gt; Hi Ittay,\n&gt;      &gt;  &gt; &gt;\n&gt;      &gt;  &gt; &gt; the kind of question you ask indicates that you have no yet\n&gt;      &gt; understood a fundamental aspect of REST, namely that there is a\n&gt;      &gt; uniform interface. You do not get any other methods as the\n&gt;     uniform set\n&gt;      &gt; (the HTTP methods in the case of using HTTP as an architecture)\n&gt;      &gt;  &gt; &gt;\n&gt;      &gt;  &gt; &gt; Without any intention to be rude, I suggest you take a while to\n&gt;      &gt; read through some of the REST material out on the Web (the REST wiki\n&gt;      &gt; at http://rest &lt;http://rest&gt;. blueoxen. net &lt;http://rest.\n&gt;     blueoxen. net &lt;http://rest.blueoxen.net&gt;&gt; is a good\n&gt;      &gt; starting point as is Paul&#39;s site\n&gt;      &gt; at http://prescod. com/rest &lt; http://prescod. com/rest\n&gt;     &lt;http://prescod.com/rest&gt;&gt; ). This will help\n&gt;      &gt; in future discussions.\n&gt;      &gt;  &gt; &gt;\n&gt;      &gt;  &gt; &gt;\n&gt;      &gt;  &gt; &gt;&gt; Should I use &#39;POST&#39; with a &#39;method=build&#39; parameter to the\n&gt;     &#39;plan&#39;\n&gt;      &gt; URI?\n&gt;      &gt;  &gt; &gt;\n&gt;      &gt;  &gt; &gt; No, this is about the worst from a REST POV as it is hidden RPC.\n&gt;      &gt;  &gt; &gt;\n&gt;      &gt;  &gt; &gt; Think along these lines:\n&gt;      &gt;  &gt; &gt;\n&gt;      &gt;  &gt; &gt; Provide a means for clients to pick a resource that behaves the\n&gt;      &gt; way they are interested in (some hypermedia the clients come accross\n&gt;      &gt; could declare a resource as a BuildingManager) and then use POST to\n&gt;      &gt; submit the building plan.\n&gt;      &gt;  &gt; &gt;\n&gt;      &gt;  &gt; &gt; POST /BuildingManager\n&gt;      &gt;  &gt; &gt; Content-Type: application/ blueprint &lt;-- this type is\n&gt;      &gt; fictous; it would need to be standardized within the realm of\n&gt;     your system\n&gt;      &gt;  &gt; &gt;\n&gt;      &gt;  &gt; &gt; &lt;blueprint&gt;\n&gt;      &gt;  &gt; &gt; &lt;wall location=&quot;.. ..&quot;/&gt;\n&gt;      &gt;  &gt; &gt; &lt;/blueprint&gt;\n&gt;      &gt;  &gt; &gt;\n&gt;      &gt;  &gt; &gt;\n&gt;      &gt;  &gt; &gt; IOW, in a RESTful system clients late-bind to resources based on\n&gt;      &gt; runtime-declared abstract bahavior of those resources and they\n&gt;      &gt; communicate via a fixed set of methods.\n&gt;      &gt;  &gt; &gt;\n&gt;      &gt;  &gt; &gt; HTH,\n&gt;      &gt;  &gt; &gt;\n&gt;      &gt;  &gt; &gt; Jan\n&gt;      &gt;  &gt; &gt;\n&gt;      &gt;  &gt; &gt;\n&gt;      &gt;  &gt; &gt;\n&gt;      &gt;  &gt; &gt;\n&gt;      &gt;  &gt; &gt;\n&gt;      &gt;  &gt; &gt;&gt; Thanks,\n&gt;      &gt;  &gt; &gt;&gt; Ittay\n&gt;      &gt;  &gt; &gt;&gt;\n&gt;      &gt;  &gt; &gt;&gt;\n&gt;      &gt;  &gt; &gt;&gt;\n&gt;      &gt;  &gt; &gt;&gt;\n&gt;      &gt;  &gt; &gt;&gt; Yahoo! Groups Links\n&gt;      &gt;  &gt; &gt;&gt;\n&gt;      &gt;  &gt; &gt;&gt;\n&gt;      &gt;  &gt; &gt;&gt;\n&gt;      &gt;  &gt; &gt;&gt;\n&gt;      &gt;  &gt; &gt;&gt;\n&gt;      &gt;  &gt; &gt;\n&gt;      &gt;  &gt;\n&gt;      &gt;  &gt;\n&gt;      &gt;  &gt; --\n&gt;      &gt;  &gt; ============ ========= ========= =====\n&gt;      &gt;  &gt; Ittay Dror,\n&gt;      &gt;  &gt; Chief architect,\n&gt;      &gt;  &gt; R&D, Qlusters Inc.\n&gt;      &gt;  &gt; ittayd@...\n&gt;      &gt;  &gt; +972-3-6081994 Fax: +972-3-6081841\n&gt;      &gt;  &gt;\n&gt;      &gt;  &gt; www.openqrm. org - Data Center Provisioning\n&gt;      &gt;  &gt;\n&gt;      &gt;\n&gt;      &gt;\n&gt; \n&gt; \n&gt;     --\n&gt;     ============ ========= ========= =====\n&gt;     Ittay Dror,\n&gt;     Chief architect,\n&gt;     R&D, Qlusters Inc.\n&gt;     ittayd@qlusters. com &lt;mailto:ittayd@...&gt;\n&gt;     +972-3-6081994 Fax: +972-3-6081841\n&gt; \n&gt;     www.openqrm. org &lt;http://www.openqrm.org&gt; - Data Center Provisioning\n&gt; \n&gt; \n&gt; \n&gt;     Yahoo! Groups Links\n&gt; \n&gt; \n&gt;         (Yahoo! ID required)\n&gt; \n&gt;         mailto:rest-discuss- fullfeatured@ yahoogroups. com\n&gt;     &lt;mailto:rest-discuss-fullfeatured@yahoogroups.com&gt;\n&gt; \n&gt; \n&gt; \n&gt; \n&gt; \n&gt; \n&gt; -- \n&gt; John D. Heintz\n&gt; Principal Consultant\n&gt; New Aspects of Software\n&gt; Austin, TX\n&gt; (512) 633-1198\n&gt; \n\n\n-- \n===================================\nIttay Dror, \nChief architect, \nR&D, Qlusters Inc.\nittayd@...\n+972-3-6081994 Fax: +972-3-6081841\n\nwww.openqrm.org - Data Center Provisioning\n\n"}}
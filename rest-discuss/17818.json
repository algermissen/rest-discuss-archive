{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":331949899,"authorName":"Sebastien Lambla","from":"Sebastien Lambla &lt;seb@...&gt;","profile":"serialseb","replyTo":"SENDER","senderId":"cuZdronqWOqCb4SbbmPQsAss9Ro3KcAbAkpbw1rZKeoK3I2PZwEdyxnARXIsvbzKUX1UR1PIkEvITNR5CCRkkPqabs7xtefS9gtd","spamInfo":{"isSpam":false,"reason":"0"},"subject":"RE: [rest-discuss] Conneg based on User-Agent","postDate":"1317236679","msgId":17818,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDNEREQwQkU2NTU4NjlENEVBNTA2NjUyQjM4MDNBRUY2OENBMjEzOTZAUFJJU00uY2FmZmVpbmUtaXQubmV0Pg==","inReplyToHeader":"PENBUFdfOG01MU9DR3JURkdHT1V1WWtfTS1pVkJjalI3N1J2Q1RwPV9ua2NibUNMZHFqd0BtYWlsLmdtYWlsLmNvbT4=","referencesHeader":"PDNBRDk1QjVGLTdBNTgtNDMxMC05OTM0LTNFNkUwOTIzMjQzMUBub3Jkc2MuY29tPgk8Q0FEYkdaalpTak5vLUQ0Ym1ONU9zVEgrcmUrZ3AxMWtWeVQwLXprblRCTkVWdVZrY1RBQG1haWwuZ21haWwuY29tPgk8MEI4NDA2RjEtREU3NS00OEM4LUIzOUEtRTQ3NUEyQjEwMERGQG5vcmRzYy5jb20+CTw0MzgzNUU3RS0xMDU4LTRGNTgtQjM2OS0wOUE5RDlBNzlFMTBAZ21haWwuY29tPgk8QTVEQUFCNUYtNDg1MC00NjIxLTk0REItMjA3RkExMEJCQUM2QG5vcmRzYy5jb20+IDxDQVBXXzhtNTFPQ0dyVEZHR09VdVlrX00taVZCY2pSNzdSdkNUcD1fbmtjYm1DTGRxandAbWFpbC5nbWFpbC5jb20+"},"prevInTopic":17817,"nextInTopic":17819,"prevInTime":17817,"nextInTime":17819,"topicId":17770,"numMessagesInTopic":13,"msgSnippet":"Mike, I have no issues getting webkit rendering application/xhtml+xml with chrome and safari. Where are you seeing the problem? ... From:","rawEmail":"Return-Path: &lt;seb@...&gt;\r\nX-Sender: seb@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 75441 invoked from network); 28 Sep 2011 19:04:42 -0000\r\nX-Received: from unknown (98.137.35.160)\n  by m5.grp.sp2.yahoo.com with QMQP; 28 Sep 2011 19:04:42 -0000\r\nX-Received: from unknown (HELO prism.caffeine-it.net) (109.169.48.57)\n  by mta4.grp.sp2.yahoo.com with SMTP; 28 Sep 2011 19:04:41 -0000\r\nX-Received: from PRISM.caffeine-it.net ([fe80::35e4:b04c:7dd0:3207]) by\n PRISM.caffeine-it.net ([fe80::35e4:b04c:7dd0:3207%14]) with mapi; Wed, 28 Sep\n 2011 20:04:41 +0100\r\nTo: mike amundsen &lt;mamund@...&gt;, Jan Algermissen\n\t&lt;jan.algermissen@...&gt;\r\nCc: Dilip Krishnan &lt;dilip.krishnan@...&gt;, Erik Mogensen\n\t&lt;erik@...&gt;, REST Discuss &lt;rest-discuss@yahoogroups.com&gt;\r\nThread-Topic: [rest-discuss] Conneg based on User-Agent\r\nThread-Index: AQHMc9CGwTBo024d1EKR4JnTk9C+KJVO8wqAgAAHNYCAAEbUgIAAOqiAgAAMzoCAE7KrMA==\r\nDate: Wed, 28 Sep 2011 19:04:39 +0000\r\nMessage-ID: &lt;3DDD0BE655869D4EA506652B3803AEF68CA21396@...-it.net&gt;\r\nReferences: &lt;3AD95B5F-7A58-4310-9934-3E6E09232431@...&gt;\n\t&lt;CADbGZjZSjNo-D4bmN5OsTH+re+gp11kVyT0-zknTBNEVuVkcTA@...&gt;\n\t&lt;0B8406F1-DE75-48C8-B39A-E475A2B100DF@...&gt;\n\t&lt;43835E7E-1058-4F58-B369-09A9D9A79E10@...&gt;\n\t&lt;A5DAAB5F-4850-4621-94DB-207FA10BBAC6@...&gt;\n &lt;CAPW_8m51OCGrTFGGOUuYk_M-iVBcjR77RvCTp=_nkcbmCLdqjw@...&gt;\r\nIn-Reply-To: &lt;CAPW_8m51OCGrTFGGOUuYk_M-iVBcjR77RvCTp=_nkcbmCLdqjw@...&gt;\r\nAccept-Language: en-GB, en-US\r\nContent-Language: en-US\r\nX-MS-Has-Attach:\r\nX-MS-TNEF-Correlator:\r\nContent-Type: text/plain; charset=&quot;iso-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nMIME-Version: 1.0\r\nFrom: Sebastien Lambla &lt;seb@...&gt;\r\nSubject: RE: [rest-discuss] Conneg based on User-Agent\r\nX-Yahoo-Group-Post: member; u=331949899; y=-6l7V4EMTryM7kbkdUw1JbyNG--CXxj4YzO2zdJ53M_gvQzf\r\nX-Yahoo-Profile: serialseb\r\n\r\nMike,\n\nI have no issues getting webkit rendering application/xhtml+xml with=\r\n chrome and safari. Where are you seeing the problem?\n\n-----Original Messag=\r\ne-----\nFrom: rest-discuss@yahoogroups.com [mailto:rest-discuss@yahoogroups.=\r\ncom] On Behalf Of mike amundsen\nSent: 16 September 2011 08:16\nTo: Jan Alger=\r\nmissen\nCc: Dilip Krishnan; Erik Mogensen; REST Discuss\nSubject: Re: [rest-d=\r\niscuss] Conneg based on User-Agent\n\nJan:\n\nNot sure this is the same thing, =\r\nbut I have code that handles &quot;exceptions&quot; for conneg match results and thos=\r\ne exceptions are based on UA reporting.\n\nhere are some real-world examples:=\r\n\n\nWebKit conneg will always pick any XML variant over any HTML variant offe=\r\nred. IOW, when given that chance, WebKit conneg results in &quot;give me XML&quot; Tu=\r\nrns out WebKit does not _render_ the XML (just shows a blank page). I add a=\r\nn exception to make sure WebKit browsers (not\nXMLHttpRequest) get HTML if i=\r\nt&#39;s available.\n\nMirosoft Excel conneg will favor HTML (assuming a table) ov=\r\ner CSV. I add an exception so that MS-Excel clients get CSV if it is availa=\r\nble.\n\nThere are (I think) some others, but those are ones that come up quit=\r\ne often and how i deal with them.\n\nmca\nhttp://amundsen.com/blog/\nhttp://twi=\r\ntter.com@mamund\nhttp://mamund.com/foaf.rdf#me\n\n\n\n\n\nOn Fri, Sep 16, 2011 at =\r\n08:30, Jan Algermissen &lt;jan.algermissen@...&gt; wrote:\n&gt;\n&gt; On Sep 16, 2=\r\n011, at 5:00 AM, Dilip Krishnan wrote:\n&gt;\n&gt;&gt; Seems like &quot;soap&quot;-creep to me .=\r\n.. a la WS-addressing :)\n&gt;\n&gt; Why in particular?\n&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; One thing that d=\r\noesn&#39;t feel right to me is the fact that the client is driving control flow=\r\n.\n&gt;\n&gt; Is that any different from redirecting a mobile UA to a dedicated ser=\r\nver?\n&gt;\n&gt; ....\n&gt;\n&gt; I just remembered the Accept_Features header, which is so=\r\nmehow \n&gt; related: http://www.ietf.org/rfc/rfc2295.txt\n&gt;\n&gt; Jan\n&gt;\n&gt;\n&gt;\n&gt;&gt; Also=\r\n reminds of a Subbu&#39;s post on Media Types, Plumbing and \n&gt;&gt; Democracy, in t=\r\nhe issues that it brings up. I do like the \n&gt;&gt; parametrized media types but=\r\n its not widely supported; (atleast the \n&gt;&gt; last time I checked)\n&gt;&gt;\n&gt;&gt; Rega=\r\nrds,\n&gt;&gt; Dilip Krishnan\n&gt;&gt; dilip.krishnan@...\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; On Sep 15, 2=\r\n011, at 5:46 PM, Jan Algermissen wrote:\n&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt; On Sep 16, 2011, at 12:2=\r\n0 AM, Erik Mogensen wrote:\n&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; On Thu, Sep 15, 2011 at 7:54 PM, Jan Al=\r\ngermissen &lt;jan.algermissen@...&gt; wrote:\n&gt;&gt;&gt;&gt; I think using the UserAg=\r\nent header to negotiate representation features is a nice solution for non-=\r\nhuman targeted situations, too. Essentially this means to negotiate incompa=\r\ntible media types based on Accept and the compatible variations in a given =\r\nmedia type based on UserAgent. This might include the addition of certain L=\r\nink headers.\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; I agree with the &quot;Avoid avoid&quot; here. =A0It sounds a =\r\nlot like out-of-band knowledge, and in the opposite direction than is usual=\r\n. =A0&quot;I know that V3.1.3 of FooClient doesn&#39;t use the xyzzy link relation, =\r\nso I&#39;ll just save bandwidth by not sending it&quot;. =A0The server could end up =\r\nwith a large amount of knowledge. =A0See wurfl for an example of this going=\r\n bad.\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; Why not stick to Accept (which is that it&#39;s for) and use me=\r\ndia type parameters?\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; Accept: application/procurement;hypermediaco=\r\nntrols=3Dnew;q=3D1, \n&gt;&gt;&gt;&gt; application/procurement;hypermediacontrols=3Dold;=\r\nq=3D0.3\n&gt;&gt;&gt;\n&gt;&gt;&gt; Been there, done that :-) Too enteprisey for my taste. Lead=\r\ns to \n&gt;&gt;&gt; packaging up feature sets into version numbers. I&#39;d always let th=\r\ne \n&gt;&gt;&gt; Accept express the general capability of the client. (Which I read \n=\r\n&gt;&gt;&gt; as: &quot;If you hand me application/atom I am pretty sure I can fulfill \n&gt;&gt;=\r\n&gt; my user&#39;s intent from there&quot;) Versioning makes the whole elegance go \n&gt;&gt;&gt;=\r\n away :-)\n&gt;&gt;&gt;\n&gt;&gt;&gt; I was thinking more in terms of &#39;hints&#39; or &#39;best effort&#39;.=\r\n Sending mobile devices different content (incl. bu way of a redirect) seem=\r\ns ok. So why not &quot;direct that old legacy product we sold 5 years ago to tha=\r\nt old (set of) servers we keep around for these cases&quot;?\n&gt;&gt;&gt;\n&gt;&gt;&gt; My original=\r\n issue, BTW, was routing requests in a load balancer to direct clients that=\r\n need a new feature to those services that have the new feature installed a=\r\nnd are already up and running. In general: situations where you have scaled=\r\n to N services behind one IP that run different versions of a service (e.g.=\r\n because they are being upgraded one by one while keeping the site in opera=\r\ntion).\n&gt;&gt;&gt;\n&gt;&gt;&gt; Jan\n&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; &quot;new&quot; and &quot;old&quot; are obviously bad choices,=\r\n but you get the idea. =A0That way the media type can express the different=\r\n &quot;variants&quot; within compatibility, and clients can express their capabilitie=\r\ns in a header designed for conneg. =A0Evolvability FTW!\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; --=\r\n\n&gt;&gt;&gt;&gt; -mogsie-\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt; ------------------------------------\n&gt;&gt;&gt;\n&gt;&gt;&gt;=\r\n Yahoo! Groups Links\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;\n&gt;\n&gt;\n&gt; -------------------------=\r\n-----------\n&gt;\n&gt; Yahoo! Groups Links\n&gt;\n&gt;\n&gt;\n&gt;\n\n\n-----------------------------=\r\n-------\n\nYahoo! Groups Links\n\n\n\n\n"}}
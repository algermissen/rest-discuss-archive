{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":313515118,"authorName":"Mark Mc Keown","from":"Mark Mc Keown &lt;zzcgumk@...&gt;","profile":"zzcgumk","replyTo":"SENDER","senderId":"5-WLjAuXTsMhsJiD1fSOnqsE9ATS9JxzLzY7ZWOUreQNDochEYueX0NnKaUFXqgAHgx07aqOhWOOYFP4kZGzpyc_ZCDMkau8Ttq5mTA","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [rest-discuss] Credit Cards, Transactions, and REST","postDate":"1258374721","msgId":14035,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDczZjkyN2I0MDkxMTE2MDQzMmgyNjA2ZmU4aDIxZTU1YTE5OTFiNDIyMjFAbWFpbC5nbWFpbC5jb20+","inReplyToHeader":"PDRBQjdBOTgyLjYwNzAzMDBAcmVkaGF0LmNvbT4=","referencesHeader":"PDRBQjdBOTgyLjYwNzAzMDBAcmVkaGF0LmNvbT4="},"prevInTopic":13688,"nextInTopic":0,"prevInTime":14034,"nextInTime":14036,"topicId":13472,"numMessagesInTopic":21,"msgSnippet":"Hi Bill, Sorry, but this has been sitting in my to send box for a while. A while ago I was very interested in transactions and REST, and there was some","rawEmail":"Return-Path: &lt;zzcgumk@...&gt;\r\nX-Sender: zzcgumk@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 16339 invoked from network); 16 Nov 2009 12:32:02 -0000\r\nX-Received: from unknown (98.137.34.46)\n  by m13.grp.re1.yahoo.com with QMQP; 16 Nov 2009 12:32:02 -0000\r\nX-Received: from unknown (HELO mail-yx0-f202.google.com) (209.85.210.202)\n  by mta3.grp.sp2.yahoo.com with SMTP; 16 Nov 2009 12:32:02 -0000\r\nX-Received: by yxe40 with SMTP id 40so4982894yxe.28\n        for &lt;rest-discuss@yahoogroups.com&gt;; Mon, 16 Nov 2009 04:32:02 -0800 (PST)\r\nMIME-Version: 1.0\r\nX-Received: by 10.101.167.30 with SMTP id u30mr3108504ano.147.1258374721701; \n\tMon, 16 Nov 2009 04:32:01 -0800 (PST)\r\nIn-Reply-To: &lt;4AB7A982.6070300@...&gt;\r\nReferences: &lt;4AB7A982.6070300@...&gt;\r\nDate: Mon, 16 Nov 2009 12:32:01 +0000\r\nMessage-ID: &lt;73f927b40911160432h2606fe8h21e55a1991b42221@...&gt;\r\nTo: Bill Burke &lt;bburke@...&gt;\r\nCc: REST-Discuss Discussion Group &lt;rest-discuss@yahoogroups.com&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Transfer-Encoding: quoted-printable\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Mark Mc Keown &lt;zzcgumk@...&gt;\r\nSubject: Re: [rest-discuss] Credit Cards, Transactions, and REST\r\nX-Yahoo-Group-Post: member; u=313515118\r\nX-Yahoo-Profile: zzcgumk\r\n\r\nHi Bill,\n        Sorry, but this has been sitting in my to send box\nfor a w=\r\nhile.\n\nA while ago I was very interested in transactions and REST, and\nther=\r\ne was some discussion on this list that lead to this blog\nentry[1].\n\nFirst,=\r\n I will address the issue of transactions. 2PC is not\na good algorithm to u=\r\nse on a large scale distributed system\n(ie one with lots of unreliable comp=\r\nonents connected by\nunreliable networks). The issue with 2PC is that it is =\r\na blocking\nprotocol. If the transaction manager (TM) fails at the wrong\ntim=\r\ne (just before sending the commit/abort message) then the\nresource managers=\r\n (RMs) are left holding locks on resources until\nthe TM is available again.=\r\n\n\nThe core of the problem with 2PC is that is an asynchronous\nalgorithm, wh=\r\nich makes it an easy algorithm to understand\nand implement, but as an async=\r\nhronous algorithm it cannot\nguarantee consensus, which is ultimately requir=\r\ned for transactional\nbehavior. (Distributed consensus is impossible in an a=\r\nsynchronous\nsystem with just one faulty processor, see [1]).\n\nSo, for any d=\r\niscussion about REST and transactions, I think you\ncannot start or even thi=\r\nnk about 2PC.\n\nMy interest in transactions and REST came about from trying =\r\nto\nsolve a particular problem from the Grid Computing space: co-allocation.=\r\n\nThe problem was to reserve a number of high end compute resources\nfor the =\r\nsame time, the resources could be a fiber optic network,\nor a supercomputer=\r\n, or a high graphics system. There resources are\nexpensive and run schedule=\r\nrs to optimize usage, so even making and\ncanceling a reservation on such a =\r\nsystem might be expensive.\n\nI came up with a solution based on Paxos and Pa=\r\nxos Commit.\n\nPaxos is a consensus algorithm for getting a number of process=\r\nors\nto agree in a distributed system, it is a partially asynchronous\nalgori=\r\nthm which means it is non-blocking, see [1] for more details\nand references=\r\n. Paxos Commit is Paxos applied to the transaction\nproblem, again see [1].\n=\r\n\nFor a simple understanding of Paxos Commit you can imagine that\nit is the =\r\nsame as 2PC except the TM is replicated, the message\nexchanges are very sim=\r\nilar.\n\nThe approach I used was as follows. The user gets the schedules\nfrom=\r\n all the resources, then chooses a time when he can use all\nthe resources. =\r\n(As soon as he got the schedules they are out of\ndate, ie we are using opti=\r\nmistic concurrency. The request could\nfail because the schedules have chang=\r\ned, the user must simply\nretry).\n\nThe user sends the request to one of the =\r\nTM&#39;s - the request\nincludes all the RM&#39;s that he wants to use and the time =\r\nhe\nwants to use them at. The TM now invokes Paxos with the rest\nof the TMs =\r\nto choose a Transaction Identifier (TID) for the\ntransaction, the TID is a =\r\nURI. Using Paxos to choose the TID\nmeans that the request is idempotent, th=\r\ne user can resend to\nany TM and be sure that only one transaction will occu=\r\nr.\n\n\nOnce the TID has been chosen the TM splits the request into\nsub-reques=\r\nts, and sends them to each RM. We now use Paxos Commit\nto complete the tran=\r\nsaction.\n\nThe approach assume that RMs and the user can fail at any point,\n=\r\nbut the TMs will always be available. The user and RM interactions\nwith the=\r\n TMs is very simple, only a slight change to the classic 2PC\napproach, all =\r\nthe complex interactions are between the TMs. This\nmeans all the TMs can be=\r\n presented as a simple service to the\nuser/RMs, without any need for them t=\r\no do complex message exchanges.\n\nThe system was designed to use HTTP and UR=\r\nIs, but I am not sure\nthat makes it RESTful. Part of the remit of the desig=\r\nn was to\nshow that you could build complex systems with HTTP, this was\nto c=\r\nounter a WS-* argument that HTTP was too simple. [1] has\na reference to pap=\r\ners describing the design more completely.\n\n\nI think the system is very pow=\r\nerful and would be very useful\nin a cloud system, you get transactional beh=\r\navior in a distributed\nsystem which has high availability and a simple inte=\r\nrface.\n\n\ncheers\nMark Mc Keown\n\n[1] http://betathoughts.blogspot.com/2007/06=\r\n/brief-history-of-consensus-2pc-and.html\n\n\nOn Mon, Sep 21, 2009 at 4:27 PM,=\r\n Bill Burke &lt;bburke@...&gt; wrote:\n&gt; Here&#39;s my thoughts on the compatib=\r\nility of Transactions and REST. =A0Maybe\n&gt; now you can see where I am comin=\r\ng from.\n&gt;\n&gt; http://bill.burkecentral.com/2009/09/21/credit-cards-transactio=\r\nns-and-rest/\n&gt;\n&gt; --\n&gt; Bill Burke\n&gt; JBoss, a division of Red Hat\n&gt; http://bi=\r\nll.burkecentral.com\n&gt;\n&gt;\n&gt; ------------------------------------\n&gt;\n&gt; Yahoo! G=\r\nroups Links\n&gt;\n&gt;\n&gt;\n&gt;\n\n"}}
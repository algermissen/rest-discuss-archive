{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":272793929,"authorName":"Kevin Duffey","from":"Kevin Duffey &lt;andjarnic@...&gt;","profile":"andjarnic","replyTo":"SENDER","senderId":"rdnUJbup2RMNyu_USUy9bQomqR5F5dELWQ3oTBIuuNDmdIgl8QN8FWHxXAiPF9A7qizrXzpK9a-62vANKO4fbeLQ9jSnQVaEuA","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [rest-discuss] Re: Thoughts about URLs for a REST driven website","postDate":"1267837788","msgId":15005,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDk2NTYwMS40MDQxLnFtQHdlYjU1OTA4Lm1haWwucmUzLnlhaG9vLmNvbT4=","inReplyToHeader":"PGY4YjM5YWNlMTAwMzA1MDg0OHc1MTYzNjU2OHlkMjIxMzg5YWRkN2NkZTRkQG1haWwuZ21haWwuY29tPg=="},"prevInTopic":15003,"nextInTopic":15006,"prevInTime":15004,"nextInTime":15006,"topicId":14978,"numMessagesInTopic":41,"msgSnippet":"Hey guys, I do realize you authenticate every request, you taught me that Craig. ;) What I meant is, do I ALSO look at the /orders/ (id value) and compare","rawEmail":"Return-Path: &lt;andjarnic@...&gt;\r\nX-Sender: andjarnic@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 79543 invoked from network); 6 Mar 2010 01:11:40 -0000\r\nX-Received: from unknown (98.137.34.46)\n  by m1.grp.sp2.yahoo.com with QMQP; 6 Mar 2010 01:11:40 -0000\r\nX-Received: from unknown (HELO n10.bullet.re3.yahoo.com) (68.142.237.123)\n  by mta3.grp.sp2.yahoo.com with SMTP; 6 Mar 2010 01:11:40 -0000\r\nX-Received: from [68.142.237.90] by n10.bullet.re3.yahoo.com with NNFMP; 06 Mar 2010 01:09:49 -0000\r\nX-Received: from [216.252.111.168] by t6.bullet.re3.yahoo.com with NNFMP; 06 Mar 2010 01:09:49 -0000\r\nX-Received: from [127.0.0.1] by omp103.mail.re3.yahoo.com with NNFMP; 06 Mar 2010 01:09:49 -0000\r\nX-Yahoo-Newman-Property: ymail-3\r\nX-Yahoo-Newman-Id: 93573.55769.bm@...\r\nX-Received: (qmail 4320 invoked by uid 60001); 6 Mar 2010 01:09:49 -0000\r\nMessage-ID: &lt;965601.4041.qm@...&gt;\r\nX-YMail-OSG: 3Ma8r70VM1k8I5kGiCxzkU1OO.iNTcm0W7Yag6eV_E4e6j8\n Bv6ff8qGh0sIvPaQa74zTBGLbMdFPi5Yocn_woEw5UnqhOOOId6cyKcwnT5E\n 8oLoYHlbz0jlfBjrR.k0laHSb_at84YYWRd9TiMYrlMJ12J7aomG0nzj0wP9\n zUgPRkH_Q_8gEFq_d_9iZG9MhkfVzhl4teFH9pOhUGK.UzYg_Wmljex9t81H\n DUmVZgs3D2BPt0qK3lKZfZdLEOdS9yD7NP.l5Zi7tm4DtIllyqXPvbvTIb14\n bX53K9qQ-\r\nX-Received: from [99.22.138.61] by web55908.mail.re3.yahoo.com via HTTP; Fri, 05 Mar 2010 17:09:48 PST\r\nX-Mailer: YahooMailClassic/9.2.12 YahooMailWebService/0.8.100.260964\r\nDate: Fri, 5 Mar 2010 17:09:48 -0800 (PST)\r\nTo: Mark Wonsil &lt;wonsil@...&gt;, craigmcc@...\r\nCc: rest-discuss@yahoogroups.com, Jorn Wildt &lt;jw@...&gt;\r\nIn-Reply-To: &lt;f8b39ace1003050848w51636568yd221389add7cde4d@...&gt;\r\nMIME-Version: 1.0\r\nContent-Type: multipart/alternative; boundary=&quot;0-1704545415-1267837788=:4041&quot;\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Kevin Duffey &lt;andjarnic@...&gt;\r\nSubject: Re: [rest-discuss] Re: Thoughts about URLs for a REST driven website\r\nX-Yahoo-Group-Post: member; u=272793929; y=Quk5zabwgtiUVyFyl_ehoP4iNdgZT_EKsW9bp4ecJVgoKu6s\r\nX-Yahoo-Profile: andjarnic\r\n\r\n\r\n--0-1704545415-1267837788=:4041\r\nContent-Type: text/plain; charset=utf-8\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\nHey guys,\nI do realize you authenticate every request, you taught me that C=\r\nraig. ;) What I meant is, do I ALSO look at the /orders/&lt;id&gt; (id value) and=\r\n compare it to the auth header id to make sure it too is valid? If for exam=\r\nple Craig and I can both authenticate to the same service, and I give Craig=\r\n my /orders/&lt;id&gt; (with my auth ID), when Craig tries to make the call to sa=\r\ny, delete the order, his authentication will pass the Auth check to be able=\r\n to access the method/API call, but as far as I can tell, the service would=\r\n also need to check the /orders/&lt;id&gt; to make sure it matches the authentica=\r\nted users id.\nIn order for Craig to delete my order, I would have to have g=\r\niven him some special token the service looks at and knows that he is allow=\r\ned to delete my order on my behalf. I think OAuth calls this a 3-legged aut=\r\nh. So, my question, to reiterate is HOW does a service, without a 3-legged =\r\nauth, know if Craig or I am actually deleting my order without checking tha=\r\nt the ID passed in the URI matches the ID of the user making the call? OR, =\r\nmore to the point of my question, should EVERY API call not only authentica=\r\nte a user, but validate that for a given call if an ID is passed in the URI=\r\n that it matches the authenticated user&#39;s id. I think I repeated myself. :D=\r\n\n\n--- On Fri, 3/5/10, Craig McClanahan &lt;craigmcc@...&gt; wrote:\n\nFrom: C=\r\nraig McClanahan &lt;craigmcc@...&gt;\nSubject: Re: [rest-discuss] Re: Though=\r\nts about URLs for a REST driven website\nTo: &quot;Mark Wonsil&quot; &lt;wonsil@...=\r\nm&gt;\nCc: &quot;Kevin Duffey&quot; &lt;andjarnic@...&gt;, rest-discuss@yahoogroups.com, =\r\n&quot;Jorn Wildt&quot; &lt;jw@...&gt;\nDate: Friday, March 5, 2010, 8:48 AM\n\n\n\n\n=\r\n\n\n\n\n\n\n\n\n\n\n\n \n=C2=A0\n\n\n\n  \n\n\n    \n      \n      \n      On Fri, Mar 5, 2010 at=\r\n 7:28 AM, Mark Wonsil &lt;mark_wonsil@ yahoo.com&gt; wrote:\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n=C2=\r\n=A0\n\n\n\n  \n\n\n    \n      \n      \n      Hi Keven,\n\n\n\n&gt; Generally, you wouldn&#39;t=\r\n hand me your URIs that you got back, but a man-in-the-middle could easily =\r\n\n\n&gt; catch those URIs (assuming that person defeated SSL when going over SSL=\r\n). So how is such a scenario \n\n&gt; handled.. or should be handled by REST api=\r\ns?\n\n\n\nThe method I see most often is to use the security in HTTP and a toke=\r\nn system like OAuth. For example:\n\n\n\nhttp://developers. sun.com/identity /r=\r\neference/ techart/restwebs ervices.html\n\n\n\nMark W.\n\n\n\nFor whichever securit=\r\ny scheme you choose, yes you must check authN/authZ on every single request=\r\n (no different from any webapp in this respect, although webapps typically =\r\ndo authN implicitly based on the inclusion of a valid session id token).=C2=\r\n=A0 That way, if you give me a URI to one of your orders and I try to acces=\r\ns it with my credentials, I&#39;ll get either a 403 (forbidden) or a 404 (if th=\r\ne server doesn&#39;t even want me to know that the URI happens to reference a v=\r\nalid order, just not one of mine).\n\n\nCraig\n\n\n\n\n    \n     \n\n    \n    \n\n\n \n\n\n=\r\n\n  \n\n\n\n\n\n\n\n\n\n\n\n      \r\n--0-1704545415-1267837788=:4041\r\nContent-Type: text/html; charset=utf-8\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\n&lt;table cellspacing=3D&quot;0&quot; cellpadding=3D&quot;0&quot; border=3D&quot;0&quot; &gt;&lt;tr&gt;&lt;td valign=3D&quot;=\r\ntop&quot; style=3D&quot;font: inherit;&quot;&gt;Hey guys,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I do realize you=\r\n authenticate every request, you taught me that Craig. ;) What I meant is, =\r\ndo I ALSO look at the /orders/&lt;id&gt; (id value) and compare it to the a=\r\nuth header id to make sure it too is valid? If for example Craig and I can =\r\nboth authenticate to the same service, and I give Craig my /orders/&lt;id&g=\r\nt; (with my auth ID), when Craig tries to make the call to say, delete the =\r\norder, his authentication will pass the Auth check to be able to access the=\r\n method/API call, but as far as I can tell, the service would also need to =\r\ncheck the /orders/&lt;id&gt; to make sure it matches the authenticated user=\r\ns id.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;In order for Craig to delete my order, I wou=\r\nld have to have given him some special token the service looks at and knows=\r\n that he is allowed to delete my order on my behalf. I think OAuth calls th=\r\nis\n a 3-legged auth. So, my question, to reiterate is HOW does a service, w=\r\nithout a 3-legged auth, know if Craig or I am actually deleting my order wi=\r\nthout checking that the ID passed in the URI matches the ID of the user mak=\r\ning the call? OR, more to the point of my question, should EVERY API call n=\r\not only authenticate a user, but validate that for a given call if an ID is=\r\n passed in the URI that it matches the authenticated user&#39;s id. I think I r=\r\nepeated myself. :D&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;br&gt;--- On &lt;b&gt;Fri, 3/5/10, Craig McClanaha=\r\nn &lt;i&gt;&lt;craigmcc@...&gt;&lt;/i&gt;&lt;/b&gt; wrote:&lt;br&gt;&lt;blockquote style=3D&quot;bord=\r\ner-left: 2px solid rgb(16, 16, 255); margin-left: 5px; padding-left: 5px;&quot;&gt;=\r\n&lt;br&gt;From: Craig McClanahan &lt;craigmcc@...&gt;&lt;br&gt;Subject: Re: [rest=\r\n-discuss] Re: Thoughts about URLs for a REST driven website&lt;br&gt;To: &quot;Mark Wo=\r\nnsil&quot; &lt;wonsil@...&gt;&lt;br&gt;Cc: &quot;Kevin Duffey&quot; &lt;andjarnic@yahoo.c=\r\nom&gt;, rest-discuss@yahoogroups.com, &quot;Jorn Wildt&quot;\n &lt;jw@...&=\r\ngt;&lt;br&gt;Date: Friday, March 5, 2010, 8:48 AM&lt;br&gt;&lt;br&gt;&lt;div id=3D&quot;yiv454109435&quot;=\r\n&gt;\n\n\n\n\n\n\n\n\n\n\n\n\n\n \n&lt;span style=3D&quot;display:none;&quot;&gt;&nbsp;&lt;/span&gt;\n\n\n\n    &lt;div id=\r\n=3D&quot;ygrp-text&quot;&gt;\n      \n      \n      &lt;p&gt;&lt;/p&gt;&lt;div class=3D&quot;gmail_quote&quot;&gt;On Fr=\r\ni, Mar 5, 2010 at 7:28 AM, Mark Wonsil &lt;span dir=3D&quot;ltr&quot;&gt;&lt;&lt;a rel=3D&quot;nofo=\r\nllow&quot; ymailto=3D&quot;mailto:mark_wonsil@...&quot; target=3D&quot;_blank&quot; href=3D&quot;/m=\r\nc/compose?to=3Dmark_wonsil@...&quot;&gt;mark_wonsil@ yahoo.com&lt;/a&gt;&gt;&lt;/span&gt;=\r\n wrote:&lt;br&gt;&lt;blockquote class=3D&quot;gmail_quote&quot; style=3D&quot;border-left:1px solid=\r\n rgb(204, 204, 204);&quot;&gt;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n&lt;div style=3D&quot;background-color:rgb(255=\r\n, 255, 255);&quot;&gt;\n&lt;span&gt;&nbsp;&lt;/span&gt;\n\n\n&lt;div&gt;\n  &lt;div&gt;\n\n\n    &lt;div&gt;\n      \n     =\r\n \n      &lt;p&gt;Hi Keven,&lt;/p&gt;&lt;div class=3D&quot;im&quot;&gt;&lt;br&gt;\n&lt;br&gt;\n&gt; Generally, you wou=\r\nldn&#39;t hand me your URIs that you got back, but a man-in-the-middle could ea=\r\nsily &lt;br&gt;\n&gt; catch those URIs (assuming that person defeated SSL when goi=\r\nng over SSL). So how is such a scenario &lt;br&gt;\n&gt; handled.. or should be ha=\r\nndled by REST apis?&lt;br&gt;\n&lt;br&gt;&lt;/div&gt;\nThe method I see most often is to use th=\r\ne security in HTTP and a token system like OAuth. For example:&lt;br&gt;\n&lt;br&gt;\n&lt;a =\r\nrel=3D&quot;nofollow&quot; target=3D&quot;_blank&quot; href=3D&quot;http://developers.sun.com/identi=\r\nty/reference/techart/restwebservices.html&quot;&gt;http://developers. sun.com/ident=\r\nity /reference/ techart/restwebs ervices.html&lt;/a&gt;&lt;br&gt;\n&lt;br&gt;\nMark W.&lt;br&gt;\n&lt;br&gt;=\r\n&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;For whichever security scheme=\r\n you choose, yes you must check authN/authZ on every single request (no dif=\r\nferent from any webapp in this respect, although webapps typically do authN=\r\n implicitly based on the inclusion of a valid session id token).&nbsp; That=\r\n way, if you give me a URI to one of your orders and I try to access it wit=\r\nh my credentials, I&#39;ll get either a 403 (forbidden) or a 404 (if the server=\r\n doesn&#39;t even want me to know that the URI happens to reference a valid ord=\r\ner, just not one of mine).&lt;br&gt;\n&lt;br&gt;Craig&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;br&gt;\n\n\n    &lt;/div&gt;\n =\r\n    \n\n\n\n \n\n\n\n\n\n&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;br&gt;\n\n      \r\n--0-1704545415-1267837788=:4041--\r\n\n"}}
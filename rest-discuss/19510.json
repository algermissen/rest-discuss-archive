{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":4981751,"authorName":"Mark Nottingham","from":"Mark Nottingham &lt;mnot@...&gt;","profile":"mnotting","replyTo":"SENDER","senderId":"j5oPMu4BzRHGllZZ2rNmHGZIODoZHsXgOheE91qtMZxpx3KYnIzb5hr-Hhba1thKrizEytBQRFT4yc6eKfB-7oRIRHaCww","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [apps-discuss] New Version Notification for draft-nottingham-link-hint-00.txt","postDate":"1372901414","msgId":19510,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDg3M0YzODk5LTIzNjUtNEYxMy1BNDg1LTg5MjRFNjcyOTRGQUBtbm90Lm5ldD4=","inReplyToHeader":"PDUxQ0I4NjQ2LjYwMTAxQGJlcmtlbGV5LmVkdT4=","referencesHeader":"PDIwMTMwNjEwMDMzODA0LjE5NDUxLjI5NDY1LmlkdHJhY2tlckBpZXRmYS5hbXNsLmNvbT4gPEU2MDYyREJDLUNEN0ItNDdDQS1BNkYwLTVFN0Q2NEMwREI1NUBtbm90Lm5ldD4gPDUxQjdBRUFGLjIwNDA0QGJlcmtlbGV5LmVkdT4gPDRDRDQ2NTJGLTRFQUYtNDI1OC1BNkVCLTU3NzAxOTAxOEQyQ0Btbm90Lm5ldD4gPDFBMTM2QzRELTRGMEMtNDQ2Ri1CMzA3LUQ1M0ZCOUE0MDYyMkBjcy50Y2QuaWU+IDw4QkUwMzhFQy0xNTgwLTREMjctQUJCQS0xODkwRUVGRDQ4NTNAbW5vdC5uZXQ+IDw1MUM5QzkxRC45MDIwNkBiZXJrZWxleS5lZHU+IDw0QzJGRDhBNy00RjNFLTQzM0ItQTdGNi1GMEJENzUxRDMxQURAbW5vdC5uZXQ+IDw1MUNCMjQwQy4zMDYwMTAxQGJlcmtlbGV5LmVkdT4gPEYyNjYyQjM4LUNERDYtNDAxRC04NUY4LTQzOEZGNjdBRkFGRkBtbm90Lm5ldD4gPDUxQ0I4NjQ2LjYwMTAxQGJlcmtlbGV5LmVkdT4="},"prevInTopic":19485,"nextInTopic":19511,"prevInTime":19509,"nextInTime":19511,"topicId":19472,"numMessagesInTopic":12,"msgSnippet":"... Yes, I need to spell that out more completely. Thanks. ... I m all for that, IF we can be reasonably sure that the current data can fit comfortably into","rawEmail":"Return-Path: &lt;mnot@...&gt;\r\nX-Sender: mnot@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 63674 invoked by uid 102); 4 Jul 2013 01:30:24 -0000\r\nX-Received: from unknown (HELO mtaq4.grp.bf1.yahoo.com) (10.193.84.143)\n  by m2.grp.bf1.yahoo.com with SMTP; 4 Jul 2013 01:30:24 -0000\r\nX-Received: (qmail 23285 invoked from network); 4 Jul 2013 01:30:24 -0000\r\nX-Received: from unknown (HELO mxout-07.mxes.net) (216.86.168.182)\n  by mtaq4.grp.bf1.yahoo.com with SMTP; 4 Jul 2013 01:30:24 -0000\r\nX-Received: from [192.168.1.80] (unknown [118.209.244.150])\n\t(using TLSv1 with cipher AES128-SHA (128/128 bits))\n\t(No client certificate requested)\n\tby smtp.mxes.net (Postfix) with ESMTPSA id 6720F22E253;\n\tWed,  3 Jul 2013 21:30:17 -0400 (EDT)\r\nContent-Type: text/plain; charset=us-ascii\r\nMime-Version: 1.0 (Mac OS X Mail 6.5 &#92;(1508&#92;))\r\nIn-Reply-To: &lt;51CB8646.60101@...&gt;\r\nDate: Thu, 4 Jul 2013 11:30:14 +1000\r\nCc: REST-Discuss Discuss &lt;rest-discuss@yahoogroups.com&gt;,\n IETF Apps Discuss &lt;apps-discuss@...&gt;\r\nContent-Transfer-Encoding: quoted-printable\r\nMessage-Id: &lt;873F3899-2365-4F13-A485-8924E67294FA@...&gt;\r\nReferences: &lt;20130610033804.19451.29465.idtracker@...&gt; &lt;E6062DBC-CD7B-47CA-A6F0-5E7D64C0DB55@...&gt; &lt;51B7AEAF.20404@...&gt; &lt;4CD4652F-4EAF-4258-A6EB-577019018D2C@...&gt; &lt;1A136C4D-4F0C-446F-B307-D53FB9A40622@...&gt; &lt;8BE038EC-1580-4D27-ABBA-1890EEFD4853@...&gt; &lt;51C9C91D.90206@...&gt; &lt;4C2FD8A7-4F3E-433B-A7F6-F0BD751D31AD@...&gt; &lt;51CB240C.3060101@...&gt; &lt;F2662B38-CDD6-401D-85F8-438FF67AFAFF@...&gt; &lt;51CB8646.60101@...&gt;\r\nTo: Erik Wilde &lt;dret@...&gt;\r\nX-Mailer: Apple Mail (2.1508)\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Mark Nottingham &lt;mnot@...&gt;\r\nSubject: Re: [apps-discuss] New Version Notification for draft-nottingham-link-hint-00.txt\r\nX-Yahoo-Group-Post: member; u=4981751; y=alnFL2-yRjGSIc5LBSuqcMtqbzF5QfhrdzpLuhLZRSSyetU\r\nX-Yahoo-Profile: mnotting\r\n\r\n\nOn 27/06/2013, at 10:24 AM, Erik Wilde &lt;dret@...&gt; wrote:\n&gt;&gt;&gt; \n&gt;&gt;&gt;=\r\n so my suggestion is not so much your (b) but my (c) ;-) fwiw, it seems tha=\r\nt thew current draft uses overly complicated structures, for example, &quot;form=\r\nats&quot; maybe just could be an array of formats?\n&gt;&gt; Could you spell out an exa=\r\nmple?\n&gt; \n&gt; afaict, &quot;formats&quot; (http://tools.ietf.org/html/draft-nottingham-l=\r\nink-hint-00#section-3.2) right now says says it&#39;s an object with the keys b=\r\neing media types, but the values are not specified. but maybe i am reading =\r\nit wrong and where it says &quot;The object&quot; in the second and third paragraph i=\r\nt actually refers to the object that&#39;s a value of one of the keys?\n\nYes, I =\r\nneed to spell that out more completely. Thanks.\n\n\n&gt; hmmm, i guess that&#39;s wh=\r\nat it means... i had been reading it wrong so far. but for a minute, let&#39;s =\r\njust assume it&#39;s only media types, which is how i am using it in an example=\r\n using link hints here: https://github.com/dret/I-D/blob/master/link-desc/l=\r\nd-atompub-00.xml\n&gt; \n&gt; so let&#39;s assume for a minute that this is just a list=\r\n. then i would suggest is the following: the hint is defined as follows (st=\r\nealing your structure here):\n&gt; \n&gt; o  Hint Name: formats\n&gt; o  Description: H=\r\nints the representation type(s) that the target resource can produce and co=\r\nnsume, using the GET and PUT (if allowed) methods respectively.\n&gt; o  Conten=\r\nt Model: list\n&gt; o  Specification: [this document]\n&gt; Content MUST be a list,=\r\n whose values are media types.\n&gt; \n&gt; then, the term &quot;list&quot; in the content mo=\r\ndel must be defined somewhere. like i said, maybe we could say there are th=\r\nree &quot;content models&quot; hints support: single values, lists, key/value pairs. =\r\nhow a particular hint value would be serialized then would be up to the for=\r\nmat where it&#39;s being represented.\n&gt; \n&gt; - in JSON, you might represent them =\r\nas string, array, something else.\n&gt; \n&gt; - in XML, you might choose a mix of =\r\nelement/attribute designs. or you could go text-based such as my example (w=\r\nhich is text-based because it uses JSON syntax right now)\n&gt; \n&gt; none of thes=\r\ne representations would be binding, they would just be one way of mapping t=\r\nhe abstract link hint model into some concrete model. i guess the only exce=\r\nption for this would be how to represent links outside of media types, i.e.=\r\n in HTTP. http://tools.ietf.org/html/draft-nottingham-link-hint-00#appendix=\r\n-A could be changed then to map the abstract moden into a concrete JSON syn=\r\ntax (or whatever else looks like a good syntax choice to go into a Link hea=\r\nder).\n\nI&#39;m all for that, IF we can be reasonably sure that the current data=\r\n can fit comfortably into that simplified model.\n\nThe current hints that us=\r\ne &quot;complex&quot; objects are (keeping in mind that we&#39;ve just started):\n - forma=\r\nts\n - links\n - accept-post (same format as formats)\n - auth-schemes\n\nFormat=\r\ns and accept-post COULD specify a list of strings, and state that it&#39;s eith=\r\ner a media type OR a profile URI. This means we&#39;d need a separate represent=\r\nation format for profiles, which would need to convey a media type.\n\nThis i=\r\ns certainly possible, but the downsides I see are:\n  - It&#39;s baking in profi=\r\nles in at a pretty high level. I like some aspects of profiles, but they ce=\r\nrtainly haven&#39;t taken off in mindshare yet.\n  - Parsing the string to check=\r\n which it is is nasty.\n\nFor auth-schemes, we&#39;d need to specify a tuple, pro=\r\nbably. Not great, but OK. Extensibility would be right out the window, thou=\r\ngh, which may be significant for some schemes.\n\nLinks are fundamentally not=\r\n possible without some really ugly mapping to a string, I think.\n\nMy concer=\r\nn is that this is starting not to meet my use cases for json-home, which is=\r\n where link-hints comes from. \n\nWhile I could address this by making those =\r\nthings NOT link hints, but other &quot;bumps&quot; on json-home, it would make it sig=\r\nnificantly more complex. That seems like a poor tradeoff, considering that =\r\nit&#39;s *possible* to map generic hints into XML, it&#39;s just not &quot;pretty.&quot;\n\n\n&gt; =\r\nas i see it, when i design media types that use link hints, it would be nic=\r\ne if i could expose them in a way that is as useful as possible for consume=\r\nrs of that media type. my example from above is from an XML design for link=\r\n descriptions that i plan to base on link hints. if that means that the XML=\r\n-oriented clients using this format need to include a general-purpose JSON =\r\nparser, then that&#39;s certainly doable, but i don&#39;t think the link hints desi=\r\ngn has to be like that.\n\nTo be brutally frank (and I&#39;m sure this isn&#39;t goin=\r\ng to surprise you too much, dret ;) I don&#39;t see a lot of value in catering =\r\nto the XML API market; it&#39;s dying, and introducing constraints on the JSON =\r\nAPIs seems like a bad tradeoff.\n\nI absolutely acknowledge that JSON will on=\r\ne day face its own demise, and will be in a similar situation, but planning=\r\n for that seems like premature optimisation to me.\n\n\n&gt; but again, of course=\r\n my option (c) means that link hints have a predefined and probably small s=\r\net of structures that hints can use to expose whatever they want to expose,=\r\n and if they want to go beyond that, that&#39;s not covered by the link hint fr=\r\namework anymore.\n\n\nYes. That&#39;s what I&#39;m struggling with. We&#39;re already seei=\r\nng a number of places that chafe against these constraints, and we&#39;re just =\r\ngetting started.\n\nWhat do other folks think?\n\nCheers,\n\n\n--\nMark Nottingham =\r\n  http://www.mnot.net/\n\n\n\n\n"}}
{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":323709912,"authorName":"Erik Wilde","from":"Erik Wilde &lt;dret@...&gt;","profile":"drethoo","replyTo":"SENDER","senderId":"_si0k-YPxWdlTR8nRW6VUHDpCE5b7x97R2vJHz3l8Dg94thNRsL2exF8Yjdve1hqLRKWE597h8xoo5XtH4WhlXy-s6Tq","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [apps-discuss] New Version Notification for draft-nottingham-link-hint-00.txt","postDate":"1372292678","msgId":19485,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDUxQ0I4NjQ2LjYwMTAxQGJlcmtlbGV5LmVkdT4=","inReplyToHeader":"PEYyNjYyQjM4LUNERDYtNDAxRC04NUY4LTQzOEZGNjdBRkFGRkBtbm90Lm5ldD4=","referencesHeader":"PDIwMTMwNjEwMDMzODA0LjE5NDUxLjI5NDY1LmlkdHJhY2tlckBpZXRmYS5hbXNsLmNvbT4gPEU2MDYyREJDLUNEN0ItNDdDQS1BNkYwLTVFN0Q2NEMwREI1NUBtbm90Lm5ldD4gPDUxQjdBRUFGLjIwNDA0QGJlcmtlbGV5LmVkdT4gPDRDRDQ2NTJGLTRFQUYtNDI1OC1BNkVCLTU3NzAxOTAxOEQyQ0Btbm90Lm5ldD4gPDFBMTM2QzRELTRGMEMtNDQ2Ri1CMzA3LUQ1M0ZCOUE0MDYyMkBjcy50Y2QuaWU+IDw4QkUwMzhFQy0xNTgwLTREMjctQUJCQS0xODkwRUVGRDQ4NTNAbW5vdC5uZXQ+IDw1MUM5QzkxRC45MDIwNkBiZXJrZWxleS5lZHU+IDw0QzJGRDhBNy00RjNFLTQzM0ItQTdGNi1GMEJENzUxRDMxQURAbW5vdC5uZXQ+IDw1MUNCMjQwQy4zMDYwMTAxQGJlcmtlbGV5LmVkdT4gPEYyNjYyQjM4LUNERDYtNDAxRC04NUY4LTQzOEZGNjdBRkFGRkBtbm90Lm5ldD4="},"prevInTopic":19484,"nextInTopic":19510,"prevInTime":19484,"nextInTime":19486,"topicId":19472,"numMessagesInTopic":12,"msgSnippet":"hello mark. ... i agree that this is not such a great way to go. it makes things easy in the short run, but harder in the long run. in particular, it means","rawEmail":"Return-Path: &lt;dret@...&gt;\r\nX-Sender: dret@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 94544 invoked from network); 27 Jun 2013 00:24:46 -0000\r\nX-Received: from unknown (98.137.63.205)\n  by m8.grp.sp2.yahoo.com with QMQP; 27 Jun 2013 00:24:46 -0000\r\nX-Received: from unknown (HELO cm01fe.IST.Berkeley.EDU) (169.229.218.142)\n  by mtaq6.grp.sp2.yahoo.com with SMTP; 27 Jun 2013 00:24:46 -0000\r\nX-Received: from mobile-166-137-186-253.mycingular.net ([166.137.186.253] helo=dretpro.local)\n\tby cm01fe.ist.berkeley.edu with esmtpsa (TLSv1:AES256-SHA:256)\n\t(Exim 4.76)\n\t(auth plain:dret@...)\n\t(envelope-from &lt;dret@...&gt;)\n\tid 1Us00w-0002ES-57; Wed, 26 Jun 2013 17:24:43 -0700\r\nMessage-ID: &lt;51CB8646.60101@...&gt;\r\nDate: Wed, 26 Jun 2013 17:24:38 -0700\r\nUser-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:17.0) Gecko/20130307 Thunderbird/17.0.4\r\nMIME-Version: 1.0\r\nTo: Mark Nottingham &lt;mnot@...&gt;\r\nCc: Stephen Farrell &lt;stephen.farrell@...&gt;, \n REST-Discuss &lt;rest-discuss@yahoogroups.com&gt;,\n IETF Apps Discuss &lt;apps-discuss@...&gt;\r\nReferences: &lt;20130610033804.19451.29465.idtracker@...&gt; &lt;E6062DBC-CD7B-47CA-A6F0-5E7D64C0DB55@...&gt; &lt;51B7AEAF.20404@...&gt; &lt;4CD4652F-4EAF-4258-A6EB-577019018D2C@...&gt; &lt;1A136C4D-4F0C-446F-B307-D53FB9A40622@...&gt; &lt;8BE038EC-1580-4D27-ABBA-1890EEFD4853@...&gt; &lt;51C9C91D.90206@...&gt; &lt;4C2FD8A7-4F3E-433B-A7F6-F0BD751D31AD@...&gt; &lt;51CB240C.3060101@...&gt; &lt;F2662B38-CDD6-401D-85F8-438FF67AFAFF@...&gt;\r\nIn-Reply-To: &lt;F2662B38-CDD6-401D-85F8-438FF67AFAFF@...&gt;\r\nContent-Type: text/plain; charset=UTF-8; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Erik Wilde &lt;dret@...&gt;\r\nSubject: Re: [apps-discuss] New Version Notification for draft-nottingham-link-hint-00.txt\r\nX-Yahoo-Group-Post: member; u=323709912; y=L9gXu0D5ha2eNuxDd3Z4Ky6PbqC_EzYVcb5UNUHCxO1YCQ\r\nX-Yahoo-Profile: drethoo\r\n\r\nhello mark.\n\nOn 2013-06-26 16:40 , Mark Nottingham wrote:\n&gt; On 27/06/2013, at 3:25 AM, Erik Wilde &lt;dret@...&gt; wrote:\n&gt;&gt;&gt; I very much agree that it would be good to not have a dependency upon the JSON data model here. However, I don&#39;t see a way to avoid that, without either a) using another data model with exactly the same problem, or b) prohibiting any structured information.\n&gt;&gt;&gt; AIUI you&#39;re suggesting (b). Looking through the current list of hints, we already have quite a few that need structure. Can you suggest how to convey the information without using structured data?\n&gt;&gt; i think there are three possibilities:\n&gt;&gt; - pick a generic format (such as JSON) as allow anything it allows. this makes things great for JSON and not so great for non-JSON.\n&gt; Yep, this is where we&#39;re at.\n&gt;&gt; - be structure agnostic (hints are strings) and then hints will probably define their own mappings into string-based structures (using regexes and usual patterns such as whitespace- or comma-separated lists). this might be bad because then parsing a hint&#39;s value needs to be done on a per-hint basis.\n&gt; I&#39;m -1 on this; it hasn&#39;t worked out so well for HTTP headers (and in fact a significant number of people are agitating to just define new headers in JSON) nor for media type parameters.\n\ni agree that this is not such a great way to go. it makes things easy in \nthe short run, but harder in the long run. in particular, it means that \nthe same concepts (&quot;a list&quot;) may be serialized differently in different \nhints (a &quot;comma-separated&quot; one, a &quot;space-separated&quot; one), which makes it \nharder to build general facilities for hints.\n\n&gt;&gt; - pick a small set of structures allowed such as the ones i suggested above (single values, value lists, and maybe lists of key/value pairs) and require that any hint is defined in terms of this more restricted model. this maps better to many formats, but you&#39;re stuck with the choices you make.\n&gt;&gt; so my suggestion is not so much your (b) but my (c) ;-) fwiw, it seems that thew current draft uses overly complicated structures, for example, &quot;formats&quot; maybe just could be an array of formats?\n&gt; Could you spell out an example?\n\nafaict, &quot;formats&quot; \n(http://tools.ietf.org/html/draft-nottingham-link-hint-00#section-3.2) \nright now says says it&#39;s an object with the keys being media types, but \nthe values are not specified. but maybe i am reading it wrong and where \nit says &quot;The object&quot; in the second and third paragraph it actually \nrefers to the object that&#39;s a value of one of the keys? hmmm, i guess \nthat&#39;s what it means... i had been reading it wrong so far. but for a \nminute, let&#39;s just assume it&#39;s only media types, which is how i am using \nit in an example using link hints here: \nhttps://github.com/dret/I-D/blob/master/link-desc/ld-atompub-00.xml\n\nso let&#39;s assume for a minute that this is just a list. then i would \nsuggest is the following: the hint is defined as follows (stealing your \nstructure here):\n\no  Hint Name: formats\no  Description: Hints the representation type(s) that the target \nresource can produce and consume, using the GET and PUT (if allowed) \nmethods respectively.\no  Content Model: list\no  Specification: [this document]\nContent MUST be a list, whose values are media types.\n\nthen, the term &quot;list&quot; in the content model must be defined somewhere. \nlike i said, maybe we could say there are three &quot;content models&quot; hints \nsupport: single values, lists, key/value pairs. how a particular hint \nvalue would be serialized then would be up to the format where it&#39;s \nbeing represented.\n\n- in JSON, you might represent them as string, array, something else.\n\n- in XML, you might choose a mix of element/attribute designs. or you \ncould go text-based such as my example (which is text-based because it \nuses JSON syntax right now)\n\nnone of these representations would be binding, they would just be one \nway of mapping the abstract link hint model into some concrete model. i \nguess the only exception for this would be how to represent links \noutside of media types, i.e. in HTTP. \nhttp://tools.ietf.org/html/draft-nottingham-link-hint-00#appendix-A \ncould be changed then to map the abstract moden into a concrete JSON \nsyntax (or whatever else looks like a good syntax choice to go into a \nLink header).\n\nas i see it, when i design media types that use link hints, it would be \nnice if i could expose them in a way that is as useful as possible for \nconsumers of that media type. my example from above is from an XML \ndesign for link descriptions that i plan to base on link hints. if that \nmeans that the XML-oriented clients using this format need to include a \ngeneral-purpose JSON parser, then that&#39;s certainly doable, but i don&#39;t \nthink the link hints design has to be like that.\n\nbut again, of course my option (c) means that link hints have a \npredefined and probably small set of structures that hints can use to \nexpose whatever they want to expose, and if they want to go beyond that, \nthat&#39;s not covered by the link hint framework anymore.\n\ncheers,\n\ndret.\n\n-- \nerik wilde | mailto:dret@...  -  tel:+1-510-2061079 |\n            | UC Berkeley  -  School of Information (ISchool) |\n            | http://dret.net/netdret http://twitter.com/dret |\n\n"}}
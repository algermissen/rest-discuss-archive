{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":81035509,"authorName":"Vincent D Murphy","from":"Vincent D Murphy &lt;vdm@...&gt;","profile":"johnfoobar1","replyTo":"SENDER","senderId":"Y7yWSDJYdcyi-EADuIElOK9bf0ItuRkflF904s0cO5N5l2pQeuDKY1BqDs_Cw47O1vBtiErbMIKspF0eHBsMqIV4v_Y","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [rest-discuss] Containers and nested representations","postDate":"1046281389","msgId":3418,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PEM0RDlDODU3LTQ5QjEtMTFENy04MDZBLTAwMDM5M0E1MzQ4MkB2ZG0uY2M+","inReplyToHeader":"PGIzaXM3ZiRyMTgkMUBwYXByaWthLnJwLmxhbj4="},"prevInTopic":3414,"nextInTopic":3419,"prevInTime":3417,"nextInTime":3419,"topicId":3414,"numMessagesInTopic":7,"msgSnippet":"... Thanks for sharing this; I ve been a bit complacent in posting my experiences with containers to this list. ... I see nothing wrong with it; it doesn t say","rawEmail":"Return-Path: &lt;vdm@...&gt;\r\nX-Sender: vdm@...\r\nX-Apparently-To: rest-discuss@...\r\nReceived: (EGP: mail-8_2_3_4); 26 Feb 2003 17:43:07 -0000\r\nReceived: (qmail 83321 invoked from network); 26 Feb 2003 17:43:07 -0000\r\nReceived: from unknown (66.218.66.217)\n  by m1.grp.scd.yahoo.com with QMQP; 26 Feb 2003 17:43:07 -0000\r\nReceived: from unknown (HELO mail.online.ie) (213.159.130.68)\n  by mta2.grp.scd.yahoo.com with SMTP; 26 Feb 2003 17:43:07 -0000\r\nReceived: from vdm.cc (ts02-196.cork.indigo.ie [194.125.165.196])\n\tby mail.online.ie (Postfix) with ESMTP\n\tid 463AAB079; Wed, 26 Feb 2003 17:43:05 +0000 (GMT)\r\nDate: Wed, 26 Feb 2003 17:43:09 +0000\r\nSubject: Re: [rest-discuss] Containers and nested representations\r\nContent-Type: text/plain; charset=US-ASCII; format=flowed\r\nMime-Version: 1.0 (Apple Message framework v551)\r\nCc: rest-discuss@...\r\nTo: Richard Padley &lt;rest-discuss@...&gt;\r\nIn-Reply-To: &lt;b3is7f$r18$1@...&gt;\r\nMessage-Id: &lt;C4D9C857-49B1-11D7-806A-000393A53482@...&gt;\r\nContent-Transfer-Encoding: 7bit\r\nX-Mailer: Apple Mail (2.551)\r\nFrom: Vincent D Murphy &lt;vdm@...&gt;\r\nX-Yahoo-Group-Post: member; u=81035509\r\nX-Yahoo-Profile: johnfoobar1\r\n\r\nOn Wednesday, February 26, 2003, at 05:07 PM, Richard Padley wrote:\n&gt; I&#39;ve been working through a few issues related to how a container\n&gt; resource behaves, and I&#39;m not sure if I&#39;m bumping into some limitations\n&gt; of REST or HTTP.\n\nThanks for sharing this; I&#39;ve been a bit complacent in posting my \nexperiences with containers to this list.\n\n&gt; [snip example]\n\n&gt; The idea here is that the contained resources are serialised in the\n&gt; representation. I&#39;m assuming that this is OK from a REST perspective.\n\nI see nothing wrong with it; it doesn&#39;t say anywhere &#39;one resource \ncan&#39;t contain another&#39;, AFAIK.\n\n&gt; Now I want to modify a box. I&#39;m going to use PUT to replace the whole\n&gt; box. In doing this I&#39;ll naturally be replacing the contained widgets as\n&gt; well.\n&gt;\n&gt; [snip example]\n\n&gt; The response is\n&gt;\n&gt; HTTP/1.1 204 No Content\n\nMaybe this could be a 200 with the updated box/100?  The 204 just seems \nkind of &#39;useless&#39; to me.\n\n&gt; Now, I&#39;ve changed the colour of this box, and I&#39;ve both changed the\n&gt; colour of widget 33, and added a new widget 35 to the container. Also I\n&gt; have deleted widget 34, since it now had no container, and this is not\n&gt; allowed (in this particular application).\n\nHmm.. I&#39;m not sure that having widget 34 automatically &#39;fall off a \ncliff&#39; is a good thing.\n\nIt may be helpful to consider the fact that &#39;widgets can not have no \ncontainer&#39; a constraint specific to your application, and try and find \na strategy that is RESTful to enforce it.\n\nIdea:\nPerhaps you should explore the concept of a &#39;reaper&#39; process (a client \nUA or something on the server) which periodically searches and destroys \norphaned widgets (it could use explicit DELETE requests to do this on \nthe results of a GET /widgets?parent=null or whatever).\n\nBut see below.\n\n&gt; My question is, have I done too much at once here? I&#39;d like to be able\n&gt; to indicate the newly created widget 35 with a 201 Created response, \n&gt; but\n&gt; the response I must return relates to the container, not its contents.\n&gt; Also I&#39;m not too happy with the indirect addressing that seems to be\n&gt; happening here - I have the URI for the box as part of the request, but\n&gt; this request affects other resources, which I can only address inside\n&gt; the message-body itsself, which just seems wrong.\n\nI have asked the same question (aloud, not on the list).  I think its \nsomething of a grey area.\n\nRather than a big fat PUT to the container, you could split your \nrequest up in to a number of constituent requests to constituent \nresources.  for example:\n\n1. PUT to widget/33 changing the colour.  this would (or should?) \nupdate box/100 automatically because it has a dependency on widget/33.\n2. POST widget/35&#39;s URI to box/100 (possible after POSTing 35 to \nwidgets).\n3. DELETE 34.\n    or\n    PUT box/100 minus the mention of widget/34.\n\nthe trouble with the delete of 34 is that the semantics are overloaded. \n  the PUT to the box that excludes the 34 really only removes it from \nthe container, rather than deleting it outright.  these are two \nseperate semantic actions.\n\ni would be interested to hear what you (and others) think of this.\n\nD.J. Adams has written about this same idea at\nhttp://www.pipetree.com/space/RtRest (warning this is cutnpaste from \nthe HTML):\n\n--CUT\nHaving something like /ticket/42/basics/status returning a \nrepresentation of ticket 42&#39;s status in text/plain, say &quot;new&quot;, is a \nvery attractive feature, I think.\n\nGET /ticket/42/basics/status HTTP/1.1\n\nHTTP/1.1 200 OK\nConnection: Close\nContent-Type: text/plain\n\nopen\n\nPreferable to composing a method call, serialising it into XML, sending \n  it to an end point, and then parsing the result out of the XML that \ncomes back, all to retrieve such a simple piece of data. It&#39;s \nintriguing.\n--CUT\n\nanyway, thanks again for the thought-provoking post, and the coherent \nexample (works wonders when trying to ask a question!).\n\nregards,\n-vincent\n\n\n"}}
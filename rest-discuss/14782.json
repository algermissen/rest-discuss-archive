{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":266460716,"authorName":"Eric J. Bowman","from":"&quot;Eric J. Bowman&quot; &lt;eric@...&gt;","replyTo":"SENDER","senderId":"hl2FE5jgtt16USTGGLwLrNBsBsclH3BGo3F7PrQJR_XHMoneDqwX8bZEXVZE-p_M0tuUyOgT5iBVPjUzsJ198fdlHQGAj2IT58N9fauc7Q","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [rest-discuss] Content Negotiation","postDate":"1266466065","msgId":14782,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDIwMTAwMjE3MjEwNzQ1LmNjNGRlZDQ4LmVyaWNAYmlzb25zeXN0ZW1zLm5ldD4=","inReplyToHeader":"PDIwMTAwMjE3MTkxMzQzLmQwODczMjVjLmVyaWNAYmlzb25zeXN0ZW1zLm5ldD4=","referencesHeader":"PGhsYmdjNStrcm5oQGVHcm91cHMuY29tPgk8MjAxMDAyMTUyMzI0NTcuYTdiYzI5YWUuZXJpY0BiaXNvbnN5c3RlbXMubmV0Pgk8MjhGNTE4MTUtMEI4RC00ODczLUJDRjQtODI3QTlDN0QyRDZEQGlubm9xLmNvbT4JPDIwMTAwMjE3MTMzNDEwLjM0YjFhOTUyLmVyaWNAYmlzb25zeXN0ZW1zLm5ldD4JPDdCNDQ4NTVCLTVBQ0EtNEM3MC05OThBLUEyRjU4Q0FBQ0NGM0Bpbm5vcS5jb20+CTw1ODFiZjYxNjEwMDIxNzE0MjJoZTQyYjVjaThjMTgyYTlkNmExNGMwNjdAbWFpbC5nbWFpbC5jb20+CTwyMDEwMDIxNzE4NTE0NC5jMzNjN2IyYy5lcmljQGJpc29uc3lzdGVtcy5uZXQ+CTwyMDEwMDIxNzE5MTM0My5kMDg3MzI1Yy5lcmljQGJpc29uc3lzdGVtcy5uZXQ+"},"prevInTopic":14779,"nextInTopic":14803,"prevInTime":14781,"nextInTime":14783,"topicId":14753,"numMessagesInTopic":21,"msgSnippet":"Query strings shouldn t have anything to do with content negotiation, and it is an error to couple the two together.  Consider my not-yet- ready-for-prime-time","rawEmail":"Return-Path: &lt;eric@...&gt;\r\nX-Sender: eric@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 5335 invoked from network); 18 Feb 2010 04:08:03 -0000\r\nX-Received: from unknown (98.137.34.45)\n  by m4.grp.sp2.yahoo.com with QMQP; 18 Feb 2010 04:08:03 -0000\r\nX-Received: from unknown (HELO mxout-08.mxes.net) (216.86.168.183)\n  by mta2.grp.sp2.yahoo.com with SMTP; 18 Feb 2010 04:08:03 -0000\r\nX-Received: from bigbison (unknown [65.117.211.162])\n\t(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))\n\t(No client certificate requested)\n\tby smtp.mxes.net (Postfix) with ESMTPSA id ACE05509B4;\n\tWed, 17 Feb 2010 23:08:01 -0500 (EST)\r\nDate: Wed, 17 Feb 2010 21:07:45 -0700\r\nTo: &quot;Eric J. Bowman&quot; &lt;eric@...&gt;\r\nCc: Guilherme Silveira &lt;guilherme.silveira@...&gt;, Stefan Tilkov\n &lt;stefan.tilkov@...&gt;, javier &lt;vrhj2000@...&gt;,\n rest-discuss@yahoogroups.com\r\nMessage-Id: &lt;20100217210745.cc4ded48.eric@...&gt;\r\nIn-Reply-To: &lt;20100217191343.d087325c.eric@...&gt;\r\nReferences: &lt;hlbgc5+krnh@...&gt;\n\t&lt;20100215232457.a7bc29ae.eric@...&gt;\n\t&lt;28F51815-0B8D-4873-BCF4-827A9C7D2D6D@...&gt;\n\t&lt;20100217133410.34b1a952.eric@...&gt;\n\t&lt;7B44855B-5ACA-4C70-998A-A2F58CAACCF3@...&gt;\n\t&lt;581bf6161002171422he42b5ci8c182a9d6a14c067@...&gt;\n\t&lt;20100217185144.c33c7b2c.eric@...&gt;\n\t&lt;20100217191343.d087325c.eric@...&gt;\r\nOrganization: Bison Systems Corporation\r\nX-Mailer: Sylpheed 2.6.0 (GTK+ 2.10.14; i686-pc-mingw32)\r\nMime-Version: 1.0\r\nContent-Type: text/plain; charset=US-ASCII\r\nContent-Transfer-Encoding: 7bit\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: &quot;Eric J. Bowman&quot; &lt;eric@...&gt;\r\nSubject: Re: [rest-discuss] Content Negotiation\r\nX-Yahoo-Group-Post: member; u=266460716\r\n\r\nQuery strings shouldn&#39;t have anything to do with content negotiation,\nand it is an error to couple the two together.  Consider my not-yet-\nready-for-prime-time Simple Web Service:  say I want to know what day\nof the week St. Patrick&#39;s Day falls on this year, in English:\n\nhttp://en.wiski.org/date?iso=2010-03-17\n\nWednesday?  That sucks.  Friday&#39;s best...  Notice the output is XHTML.\nWell, that&#39;s just for now.  Eventually, that URI will negotiate between\nthese two variants (these URLs will appear in Content-Location):\n\nhttp://en.wiski.org/date.xht?iso=2010-03-17\nhttp://en.wiski.org/date.json?iso=2010-03-17\n\nThe query won&#39;t be considered in conneg, only the path.  The query is\nhandled separately.  The best advice I can give anyone asking about\nconneg, is to keep the query out of it, if for no other reason than for\nseparation of concerns -- hierarchical data like output format belongs\nin the path.  The following request will eventually redirect based on\nlanguage negotiation:\n\nhttp://wiski.org/date?iso=2010-03-17\n\nThe workflow of redirecting to the proper language prefix, then\nnegotiating an output format, only works if the query is passed along\nas an appendage.  To consider the query within those workflows would go\nagainst the notion of URI opacity, and require the implementation of\nadditional steps.  As it is, the URIs are self-explanatory:  A resource,\n/date, having two variants /date.xht and /date.json, is what&#39;s being\nqueried.\n\nThe /date resource is described simply as a converter of ISO 8601 date\nstrings to human language.  What machine language that human language\nis returned in, isn&#39;t part of the /date resource description.  It has\nno relevance to the query being made.  It&#39;s part of the protocol layer.\nIf I make an OPTIONS request (eventually) to http://en.wiski.org/date\n?iso=2010-03-17, I&#39;ll get back a list containing /date.xht\n?iso=2010-03-17 and /date.json?iso=2010-03-17 in a 300 Multiple Choices\nresponse.\n\nIn the future, I can omit the Accept header and request /date.json\ndirectly for any query.  Considering the query when performing conneg\nadds an entire layer of complexity.  It&#39;s best ignored, in favor of\nconneg based on Accept header, with variants as their own resources\nwith their own URLs using filename extensions.  After all, output\nformat is part of the protocol layer (late binding of representation to\nresource).  Protocol operations (conneg) shouldn&#39;t involve query\nstrings -- only headers.\n\nIf a server can&#39;t perform content negotiation before parsing the query,\nthen content negotiation isn&#39;t being performed at the protocol layer,\nit&#39;s based on non-opaque knowledge of the query string itself, and that\nknowledge cannot be deciphered by any intermediary.  So I can&#39;t stress\nenough, to base conneg on Accept headers and filename extensions, never\nquery strings.  Query strings shouldn&#39;t have anything to do with\nprotocol-layer concerns, they&#39;re strictly application-layer concerns to\nbe considered *after* content negotiation has occurred.\n\nIn the case of my /date service, conneg may occur twice before the\nserver even knows what handler to pass that query *to*.  As opposed to\nhaving a single handler deciphering the query string, deciding output\nformat at the application layer.  I dispatch the query to a handler as\ndetermined by the Accept header.  Huge architectural difference, there.\n\nFinally, no media type identifier describes registered &quot;queries&quot; for\nthe media type.  They do, however, in many cases, describe registered\nfilename extensions.  Using query as filename extension simply goes\nagainst common best practice, whereas REST embraces common best\npractices.\n\n-Eric\n\n"}}
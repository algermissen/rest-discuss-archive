{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":80827773,"authorName":"Seairth Jacobs","from":"&quot;Seairth Jacobs&quot; &lt;seairth@...&gt;","profile":"seairthjacobs","replyTo":"SENDER","senderId":"7TfjpC6qGoPYk_WSKOzR4V52HX7kWPdor6uojkYt5M7SAv909sc5nWq5V2FXBb6ncpxy8E4Tkc0T3D4GQZ6KMQkf8BHf5HCYYWcvx8M","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [rest-discuss] more on authentication","postDate":"1030505568","msgId":2259,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDAwZmUwMWMyNGU0MyQ5NWZjYzAyMCQ2NDAwYThjMEBzZWFpcnRobGFwdG9wPg==","referencesHeader":"PDAwZWUwMWMyNGUzOCRiNzM2MjdmMCQ2NDAwYThjMEBzZWFpcnRobGFwdG9wPiA8MjAwMjA4MjcyMjMwNTEuQzIwNjQ4QHd3dy5tYXJrYmFrZXIuY2E+"},"prevInTopic":2256,"nextInTopic":0,"prevInTime":2258,"nextInTime":2260,"topicId":2254,"numMessagesInTopic":3,"msgSnippet":"Hmm...  I think I understand.  I certainly understand the use of the Vary: Authorization bit.  This would keep someone from sitting down at a browser that","rawEmail":"Return-Path: &lt;seairth@...&gt;\r\nX-Sender: seairth@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nReceived: (EGP: mail-8_1_0_1); 28 Aug 2002 03:32:12 -0000\r\nReceived: (qmail 16771 invoked from network); 28 Aug 2002 03:32:12 -0000\r\nReceived: from unknown (66.218.66.218)\n  by m11.grp.scd.yahoo.com with QMQP; 28 Aug 2002 03:32:12 -0000\r\nReceived: from unknown (HELO mail.bbglobex.com) (208.251.163.4)\n  by mta3.grp.scd.yahoo.com with SMTP; 28 Aug 2002 03:32:11 -0000\r\nReceived: from seairthlaptop [68.10.252.58] by mail.bbglobex.com with ESMTP\n  (SMTPD32-7.12) id A34618400D8; Tue, 27 Aug 2002 23:28:06 -0400\r\nMessage-ID: &lt;00fe01c24e43$95fcc020$6400a8c0@seairthlaptop&gt;\r\nTo: &quot;Mark Baker&quot; &lt;distobj@...&gt;\r\nCc: &quot;rest-discuss&quot; &lt;rest-discuss@yahoogroups.com&gt;\r\nReferences: &lt;00ee01c24e38$b73627f0$6400a8c0@seairthlaptop&gt; &lt;20020827223051.C20648@...&gt;\r\nSubject: Re: [rest-discuss] more on authentication\r\nDate: Tue, 27 Aug 2002 23:32:48 -0400\r\nMIME-Version: 1.0\r\nContent-Type: text/plain;\n\tcharset=&quot;iso-8859-1&quot;\r\nContent-Transfer-Encoding: 7bit\r\nX-Priority: 3\r\nX-MSMail-Priority: Normal\r\nX-Mailer: Microsoft Outlook Express 6.00.2600.0000\r\nX-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000\r\nFrom: &quot;Seairth Jacobs&quot; &lt;seairth@...&gt;\r\nX-Yahoo-Group-Post: member; u=80827773\r\nX-Yahoo-Profile: seairthjacobs\r\n\r\nHmm...  I think I understand.  I certainly understand the use of the &quot;Vary:\nAuthorization&quot; bit.  This would keep someone from sitting down at a browser\nthat had cached a restricted document and bringing it back up from cache\n(assuming that the http authentication cache had been cleared).\n\nAnd I see the value of using &quot;Content-Location&quot; under certain circumstances.\nIf I understand RFC2616 correctly, this header allows the caching mechanism\nto use this URI instead of the request URI.  However, I am thinking that\nthis would not work for my case.  In my case, a person could point a browser\nto\n\nexample.com/doc.php/12345\n\nand get back one representation.  However, this person could also view a\ndifferent representation for the same resource that is tailored for him\npersonally.  In order to provide that second representation, the user must\nbe authenticated.  Using the same URL for both representations, I have not\nfigured out a clean way to let the server know that the person wants to see\nthe second representation instead of the first one.  And the server must be\ntold this somehow so that it can issue the 401 challenge response.  By using\nthe query string, I can allow a very simple process on the page.  When the\nperson receives the anonymous representation, there is a textbox in the\nupper right-hand corner to receive the person&#39;s userid.  When any action is\ntaken (including &quot;reloading&quot; the page by clicking on the &quot;login&quot;\nbutton/link), this value is used to augment the request-URI (either with\njavascript or using a form where method=GET).  In turn, the server\nunderstands the submitted URI as a restricted resource and checks for an\nAuthorization header (again, to verify the URI only).  Not finding one, it\nissues a 401 response.  Once the user has entered the authentication\ninformation and successfuly resubmits the request, the server returns the\nnew representation.  Now, instead of a textbox in the corner, there would be\na &quot;logout&quot; button/link.  Truthfully though, this button is a fake since all\nit really does is takes the user back to the anonymous representation (I\nwish there was some way to quietly stop the Authorization header from being\nsent as well, but I haven&#39;t figured that one out yet).\n\nI hope this all makes sense.  It does in my head, but I don&#39;t know if I am\nconveying it very well...\n\n\nNow, the issue of caching is a &quot;whole other ball of wax&quot;, as they say.\nIdeally, I would like to turn caching off altogether, but I realize that\nthis puts additional strain on the server.  I think I will start be turning\nit off until I understand the usage patterns  better and there is enough\ntraffic to affect bandwidth/performance (oh, and once I actually understand\nhow to precisely control caching; any suggested tutorials focusing on\ndynamic content?).  Regardless, I think I will include the Vary header &quot;just\nin case&quot;.  And later, if/when I do allow caching, at least that mechanism\nwill already be in place.\n\n---\nSeairth Jacobs\nseairth@...\n\n----- Original Message -----\nFrom: &quot;Mark Baker&quot; &lt;distobj@...&gt;\nTo: &quot;Seairth Jacobs&quot; &lt;seairth@...&gt;\nCc: &quot;rest-discuss&quot; &lt;rest-discuss@yahoogroups.com&gt;\nSent: Tuesday, August 27, 2002 10:30 PM\nSubject: Re: [rest-discuss] more on authentication\n\n\n&gt; On Tue, Aug 27, 2002 at 10:15:01PM -0400, Seairth Jacobs wrote:\n&gt; &gt; Thoughts?\n&gt;\n&gt; Pretty good, but consider the following response headers on a GET to\n&gt; http://example.com/doc.php/12345;\n&gt;\n&gt; Vary: Authorization\n&gt; Content-Location: http://example.org/doc.php/12345?userid=seairth\n&gt;\n&gt; In theory, this allows you to maintain the principle URI for the\n&gt; document, while not confusing caches about returning somebody else&#39;s\n&gt; authorized representation, and letting the client know where it can get\n&gt; that exact info later.  In practice, I&#39;m not sure how well it works,\n&gt; I&#39;ve never tried it.\n&gt;\n&gt; MB\n&gt; --\n&gt; Mark Baker, CTO, Idokorro Mobile (formerly Planetfred)\n&gt; Ottawa, Ontario, CANADA.               distobj@...\n&gt; http://www.markbaker.ca        http://www.idokorro.com\n&gt;\n\n\n"}}
{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":493355712,"authorName":"Markus Lanthaler","from":"&quot;Markus Lanthaler&quot; &lt;markus.lanthaler@...&gt;","profile":"mark_lanthaler","replyTo":"SENDER","senderId":"Vtgy0gOEfoef0ppPSAXUjPw6yJM5lw6CK2-FhbWbPnSCpZE1HLQK9d4ydksUdDtJYF5aha27CFG3jAb0Jlyf5JcuwiDiaH0q3Ge1QWrTk9oERVsk","spamInfo":{"isSpam":false,"reason":"12"},"subject":"RE: [rest-discuss] How to identify existing resource in a POST(a) request","postDate":"1351273821","msgId":19157,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDAxMTkwMWNkYjNhMiQ1ZjE4YjEyMCQxZDRhMTM2MCRAbGFudGhhbGVyQGdteC5uZXQ+","inReplyToHeader":"PDJBMzdCNkIwLTgzMzUtNDQzRS1BM0ZFLTU4ODBGNDU4NkYzN0BsaW5lb25lLm5ldD4=","referencesHeader":"PDJBMzdCNkIwLTgzMzUtNDQzRS1BM0ZFLTU4ODBGNDU4NkYzN0BsaW5lb25lLm5ldD4="},"prevInTopic":19156,"nextInTopic":19158,"prevInTime":19156,"nextInTime":19158,"topicId":19156,"numMessagesInTopic":10,"msgSnippet":"Paul, on the Web resources  are identified by URIs, so that leaves us with your options 2 and 3. I donâ€™t really see the problems you outline there but a ","rawEmail":"Return-Path: &lt;markus.lanthaler@...&gt;\r\nX-Sender: markus.lanthaler@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 50523 invoked from network); 26 Oct 2012 17:50:26 -0000\r\nX-Received: from unknown (98.137.34.44)\n  by m5.grp.sp2.yahoo.com with QMQP; 26 Oct 2012 17:50:26 -0000\r\nX-Received: from unknown (HELO mailout-de.gmx.net) (213.165.64.22)\n  by mta1.grp.sp2.yahoo.com with SMTP; 26 Oct 2012 17:50:26 -0000\r\nX-Received: (qmail invoked by alias); 26 Oct 2012 17:50:25 -0000\r\nX-Received: from unknown (EHLO Vostro3500) [84.115.182.43]\n  by mail.gmx.net (mp036) with SMTP; 26 Oct 2012 19:50:25 +0200\r\nX-Authenticated: #419883\r\nX-Provags-ID: V01U2FsdGVkX19X4DZ7dJlXUHbUJKaL/YYHZzwnca/lrRdQ8Wk1a6\n\tx0QS9bGG7tQ/er\r\nTo: &quot;&#39;Paul Moore&#39;&quot; &lt;paul.k.moore@...&gt;,\n\t&lt;rest-discuss@yahoogroups.com&gt;\r\nReferences: &lt;2A37B6B0-8335-443E-A3FE-5880F4586F37@...&gt;\r\nIn-Reply-To: &lt;2A37B6B0-8335-443E-A3FE-5880F4586F37@...&gt;\r\nDate: Fri, 26 Oct 2012 19:50:21 +0200\r\nMessage-ID: &lt;011901cdb3a2$5f18b120$1d4a1360$@lanthaler@...&gt;\r\nMIME-Version: 1.0\r\nContent-Type: text/plain;\n\tcharset=&quot;iso-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Microsoft Office Outlook 12.0\r\nThread-Index: Ac2zlyoEGMFuoipGSduKKxpmhR5YrgACwQOQ\r\nContent-Language: de\r\nX-Y-GMX-Trusted: 0\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: &quot;Markus Lanthaler&quot; &lt;markus.lanthaler@...&gt;\r\nSubject: RE: [rest-discuss] How to identify existing resource in a POST(a) request\r\nX-Yahoo-Group-Post: member; u=493355712; y=sxPV6oU6ifexOQXO23oXjs2RJWM_54xwcB3viE1XqTKMSdxymPaxe0k\r\nX-Yahoo-Profile: mark_lanthaler\r\n\r\nPaul,\n\non the Web resources  are identified by URIs, so that leaves us with=\r\n your\noptions 2 and 3. I don=92t really see the problems you outline there =\r\nbut a\ndifferent one. What if a system assigns multiple URLs to access the s=\r\name\nresource but different representations thereof? For instance\nexample.co=\r\nm/persons/1.json and example.com/persons/1.xml? Both return\nrepresentations=\r\n of the same resource and both would likely contain just\nthose URLs in the =\r\nself-link. So the right link relation to use would be\ncanonical [1] and not=\r\n self. That link can then either be embedded directly\nembedded into the rep=\r\nresentations or served as an HTTP link header [2].\nUsing the referrer won&#39;t=\r\n work as that&#39;s the page that a user agent visited\nlast which might has not=\r\nhing to do with that resource it is POSTing.\n\nHope this helps,\nMarkus\n\n\n[1]=\r\n http://tools.ietf.org/html/rfc6596\n[2] http://tools.ietf.org/html/rfc5988\n=\r\n\n\n--\nMarkus Lanthaler\n@markuslanthaler\n\n\n\n\n--------------------------------=\r\n-\nFrom: rest-discuss@yahoogroups.com [mailto:rest-discuss@yahoogroups.com] =\r\nOn\nBehalf Of Paul Moore\nSent: Friday, October 26, 2012 6:30 PM\nTo: rest-dis=\r\ncuss@yahoogroups.com\nSubject: [rest-discuss] How to identify existing resou=\r\nrce in a POST(a)\nrequest\n\n\nHi all,\n\nI&#39;m currently wrangling with a problem =\r\nabout identification of existing\nresources within the representation of a P=\r\nOST request.\n\nTo make this more tangible, lets consider that:\n\n(i) there ar=\r\ne resources at the following URI&#39;s that represent person-like\nthings\n\n\texam=\r\nple.com/persons/1\n\texample.com/persons/2\n\tgraph.facebook.com/2\n\n(ii) and=A0=\r\nthat my user-agent has cached them,=A0\n(iii) and that I am authoritative fo=\r\nr example.com:\n\nLet&#39;s also add that there is a collection at &quot;example.com/f=\r\nriends&quot; which\nwith a GET request returns a list of (links to) persons that =\r\nhave been\nclassified as friends.\n\nThe /friends collection resource accepts =\r\nPOST, and interprets the\nrepresentation as &#39;someone to add to my friends&#39; i=\r\n.e. a reasonably standard\nimplementation of POST(a) for a collection.\n\nOpti=\r\non 1: =A0Use a domain specific identifier\n\nIf I consider only the local dom=\r\nain (ignoring the externals for a moment)\nthen using an attribute such as &#39;=\r\nid&#39; (or similar) seems reasonable for\nidentification of the resource. =A0Fo=\r\nr example, the representation indicates\nan &#39;id&#39; of 2, then I could *infer* =\r\nthat the intent is to add\n&quot;example.com/persons/2&quot; as a friend. =A0The issue=\r\ns here are that either:\n\ni) only a subset of resources must be POSTed to th=\r\ne /friends collection\n(i.e. person like things),=A0or\nii) a non-overlapping=\r\n identifier has to be used (i.e. nothing else in the\ndomain can have an &#39;id=\r\n&#39; of 2. =A0\n\nWhilst implementation of UUIDs (or similar) would work around =\r\nthe uniqueness\nof identifier point (ii), it cannot be guaranteed that only =\r\na subset of\n(person like) resources will be sent to the server (always the =\r\nclient&#39;s\nintent).\n\nFurther, when we=A0introduce external domains, even the =\r\nUUID solution is\ninadequate (i.e. is it an example.com identifier or a face=\r\nbook.com\nidentifier?) as the domain is not known.\n\nSo, I think this slightl=\r\ny clumsy derivation concludes with the answer, use\nthe URI - it is after al=\r\nl the global identifier.\n\nNote: whilst this appears obvious, compare with *=\r\nall* the &#39;id&#39; based\nsolutions in the wild - I suspect that &#39;id&#39; based solut=\r\nions will remain\nlimited to local domain solutions rather than embracing th=\r\ne distributed\naspects of REST.\n\nOption 2: Use the URI in the representation=\r\n\n\nThe typical / established approach for representations to identify their\n=\r\nresource is through a &quot;self link&quot;. =A0This is variability encoded as a link=\r\n\nwith a &quot;rel&quot; of &quot;self&quot; (IANA link relation), or just as a property of a\nat=\r\ntribute e.g. link =3D&gt; uri... or self =3D&gt; uri... =A0Irrespective of the\nen=\r\ncoding, what we are mandating here is that the representation has a &quot;self&quot;\n=\r\nidentifier in it, and that identifier is a URI.\n\nOption 3: Use the URI in t=\r\nhe Request headers...\n\nMandating that such a self link is encoded in the re=\r\npresentation seems\nsomewhat onerous on media type designers, and ripe for d=\r\nisagreement. =A0I was\ntherefore wondering if any standardised HTTP Request =\r\nheaders could help\nhere?\n\nThe &#39;Referer&#39; header appears to offer hope:\n\n&quot;The=\r\n=A0Referer[sic] request-header field=A0allows the client to specify, for th=\r\ne\nserver=92s benefit, the address (URI) of the resource from which\nthe=A0Re=\r\nquest-URI=A0was obtained=A0allows the client to specify, for the server=92s=\r\n\nbenefit, the address (URI) of the resource from which the=A0Request-URI=A0=\r\nwas\nobtained&quot; [RFC2616]\n\nHowever, I&#39;ve not seen or heard about this header =\r\nbeing used in this manner.\n=A0Does anybody know of any research in this spa=\r\nce?\n\nAny thoughts on Options 2 or 3?\n\nThanks in advance\n\nPaul\n\n\n"}}
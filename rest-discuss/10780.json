{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":64125626,"authorName":"zooko","from":"zooko &lt;zooko@...&gt;","replyTo":"SENDER","senderId":"ZxeVc0kGrsg7haHqyYUXDbQSBQG7gfXu-k3FNxVtevVd39-RBhu3B-qmM859VBckwNVpIYE2gQkioJ5_cXk","spamInfo":{"isSpam":false,"reason":"12"},"subject":"character encodings and binary data and URLs","postDate":"1210856547","msgId":10780,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PEEwQTk4QkNBLUQxOTQtNDVGRC1BMUZDLTg5NUM4QzQwNDAxQ0B6b29rby5jb20+"},"prevInTopic":0,"nextInTopic":10784,"prevInTime":10779,"nextInTime":10781,"topicId":10780,"numMessagesInTopic":2,"msgSnippet":"Dear people of rest-discuss: What s the right way to specify character encoding in URLs, POST forms, and JSON-encoded data? I work on an open source secure,","rawEmail":"Return-Path: &lt;zooko@...&gt;\r\nX-Sender: zooko@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 692 invoked from network); 15 May 2008 13:02:28 -0000\r\nX-Received: from unknown (66.218.67.97)\n  by m56.grp.scd.yahoo.com with QMQP; 15 May 2008 13:02:28 -0000\r\nX-Received: from unknown (HELO nooxie.zooko.com) (207.7.131.41)\n  by mta18.grp.scd.yahoo.com with SMTP; 15 May 2008 13:02:28 -0000\r\nX-Received: from [192.168.1.111] (unknown [209.97.232.15])\n\tby nooxie.zooko.com (Postfix) with ESMTP id 9B7AD70BB4;\n\tThu, 15 May 2008 06:02:21 -0700 (PDT)\r\nMime-Version: 1.0 (Apple Message framework v753)\r\nContent-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed\r\nMessage-Id: &lt;A0A98BCA-D194-45FD-A1FC-895C8C40401C@...&gt;\r\nCc: tahoe-dev@...\r\nContent-Transfer-Encoding: 7bit\r\nDate: Thu, 15 May 2008 07:02:27 -0600\r\nTo: rest-discuss@yahoogroups.com\r\nX-Mailer: Apple Mail (2.753)\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: zooko &lt;zooko@...&gt;\r\nSubject: character encodings and binary data and URLs\r\nX-Yahoo-Group-Post: member; u=64125626; y=-qHe7XqncRIBpH0QfGZNlfdUWEQdd6VsTUfydvPbZ342fg\r\n\r\nDear people of rest-discuss:\n\nWhat&#39;s the right way to specify character encoding in URLs, POST  \nforms, and JSON-encoded data?\n\nI work on an open source secure, decentralized filesystem -- the  \n&quot;Tahoe&quot; Least-Authority Filesystem [1] -- with a RESTful API [2].\n\nWe need to decide, when the user specifies a filename, either in the  \nURL or in a POST form, or or when the server returns a filename to  \nthe user in an HTTP response, what character encoding to use.\n\nOur current rules are like this:\n\n1.  Filenames in URLs are always utf-8 encoded.  So after splitting  \non &quot;/&quot; to get individual segments, we utf-8 decode each segment  \nbefore doing anything else with it.\n\n2.  POST forms have a _charset field which specifies the encoding of  \nall the values in the form, and if not present it is assumed to be  \nutf-8.\n\n3.  Responses are encoded in JSON, so the filenames are in unicode.\n\nIt seems unfortunate to constrain users of our system to unicode  \nfilenames, and further to constrain them to utf-8 encoding, but I  \ncan&#39;t think of another alternative which doesn&#39;t leave things  \nunderspecified.\n\nAre these type of rules for encoding fairly standard in the REST world?\n\nThanks!\n\nRegards,\n\nZooko\n\n[1] http://allmydata.org\n[2] http://allmydata.org/trac/tahoe/browser/docs/webapi.txt\n\n"}}
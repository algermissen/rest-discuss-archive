{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":124198377,"authorName":"William Martinez Pomares","from":"&quot;William Martinez Pomares&quot; &lt;wmartinez@...&gt;","profile":"willmarpo","replyTo":"SENDER","senderId":"92JgNsp67-KwQ7aW0mXlV3y9-Abew-A-mrk6FmYZL9Gv7d2PTFmE9Nim6G0lnNbnH38wsKSHiuFqWQhYrZuR_JTVAwXrXO5j3Bt_wIUdHn7zzCkwFtcfB3vz","spamInfo":{"isSpam":false,"reason":"6"},"subject":"Re: Application state","postDate":"1254664369","msgId":13668,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PGhhYTliaCtobzFqQGVHcm91cHMuY29tPg==","inReplyToHeader":"PGJmOTdhYjg5MDkxMDA0MDQ1OWc0MTUxYjI3Ync2NzQ0ZTg1Nzk2Mzc1NjQzQG1haWwuZ21haWwuY29tPg=="},"prevInTopic":13667,"nextInTopic":13669,"prevInTime":13667,"nextInTime":13669,"topicId":13627,"numMessagesInTopic":37,"msgSnippet":"Hello guys, Ian, Subbu, Dhananjay. One important thing we need not to forget is that, being in a distributed context, the server as the performer of some","rawEmail":"Return-Path: &lt;wmartinez@...&gt;\r\nX-Sender: wmartinez@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 37303 invoked from network); 4 Oct 2009 13:52:55 -0000\r\nX-Received: from unknown (98.137.34.45)\n  by m3.grp.re1.yahoo.com with QMQP; 4 Oct 2009 13:52:55 -0000\r\nX-Received: from unknown (HELO n40b.bullet.mail.sp1.yahoo.com) (66.163.168.154)\n  by mta2.grp.sp2.yahoo.com with SMTP; 4 Oct 2009 13:52:55 -0000\r\nX-Received: from [69.147.65.171] by n40.bullet.mail.sp1.yahoo.com with NNFMP; 04 Oct 2009 13:52:50 -0000\r\nX-Received: from [98.137.35.12] by t13.bullet.mail.sp1.yahoo.com with NNFMP; 04 Oct 2009 13:52:50 -0000\r\nDate: Sun, 04 Oct 2009 13:52:49 -0000\r\nTo: rest-discuss@yahoogroups.com\r\nMessage-ID: &lt;haa9bh+ho1j@...&gt;\r\nIn-Reply-To: &lt;bf97ab890910040459g4151b27bw6744e85796375643@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-compose\r\nX-eGroups-Msg-Info: 1:6:0:0:0\r\nFrom: &quot;William Martinez Pomares&quot; &lt;wmartinez@...&gt;\r\nSubject: Re: Application state\r\nX-Yahoo-Group-Post: member; u=124198377; y=UbuC0Zg3Z-2tSBqEmdE_sPcWdf7Qh-fG35u_QcecnpZNlBaL\r\nX-Yahoo-Profile: willmarpo\r\n\r\n\nHello guys, Ian, Subbu, Dhananjay.\n\nOne important thing we need not to for=\r\nget is that, being in a distributed context, the &quot;server&quot; as the performer =\r\nof some services against resources, may change between each client interact=\r\nion.\nTHAT is why the app state is held in the client, and no server has to =\r\nkeep any. \n\nStill, based on the example, we are clear the state &quot;on the ser=\r\nver side&quot; is actually the resource state, not a state &quot;stored on the server=\r\n&quot;.\n\nEven more: the resources state graph may indicate restrictions between =\r\nstates, actions and trigger events. The idea of the client inferring the ne=\r\nxt step given the actual state of the resource, can be also ported to the s=\r\nerver! That is, if a client requests an illegal action for the current stat=\r\ne (adding a line to a closed order), the server may check first the resourc=\r\ne state and send an error back to client. But it is clear that the server i=\r\ns not keeping the client state internally, it is just responding to the req=\r\nuest in that particular moment, thus allowing us to scale nicely.\n\nCheers.\n=\r\n\nWilliam Martinez Pomares\n  \n\n--- In rest-discuss@yahoogroups.com, Dhananja=\r\ny Nene &lt;dhananjay.nene@...&gt; wrote:\n&gt;\n&gt; Wonder if referring to an analogous =\r\nstate machine, one could summarise as\n&gt; follows. The client&#39;s view of an ap=\r\nplication state is always a set of\n&gt; available transitions from an implicit=\r\n inferrable state, and the server\n&gt; having conveyed the appropriate transit=\r\nions has made unnecessary the need to\n&gt; track the client state at its end e=\r\nven though both are working off of some\n&gt; ephemeral yet very relevant appli=\r\ncation state. Thus at the end of each\n&gt; transiton, the client only knows th=\r\ne available transitions - which the\n&gt; server served. The state itself while=\r\n inferrable is irrelevant in the\n&gt; context of what the client needs to do n=\r\next and how the server will satisfy\n&gt; the client&#39;s future exercised prefere=\r\nnces, -  once a transition is complete.\n&gt; \n&gt; On Sun, Oct 4, 2009 at 9:09 AM=\r\n, Subbu Allamaraju &lt;subbu@...&gt; wrote:\n&gt; \n&gt; &gt;\n&gt; &gt;\n&gt; &gt; Thanks Ian. That answe=\r\nrs my question.\n&gt; &gt;\n&gt; &gt; Just to add what you said, it is imperative for the=\r\n server keep its\n&gt; &gt; concepts of state opaque from the client.\n&gt; &gt;\n&gt; &gt; Subb=\r\nu\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; On Oct 3, 2009, at 10:32 PM, Ian wrote:\n&gt; &gt;\n&gt; &gt; &gt; Hi Subbu\n&gt; =\r\n&gt; &gt;\n&gt; &gt; &gt; Yes, I think most of this is opaque to clients. Perhaps I implied=\r\n\n&gt; &gt; &gt; otherwise when I suggested clients might &quot;infer&quot; application state\n&gt;=\r\n &gt; &gt; from received representations: I don&#39;t in fact think that&#39;s\n&gt; &gt; &gt; nece=\r\nssary of desirable. It&#39;s simpler than that. Clients are\n&gt; &gt; &gt; interested in=\r\n achieving particular goals, and they evaluate received\n&gt; &gt; &gt; representatio=\r\nns of resource state in light of those goals; that is,\n&gt; &gt; &gt; they choose to=\r\n operate hypermedia controls - links or forms - based\n&gt; &gt; &gt; on their unders=\r\ntanding of how the control&#39;s semantic context (ie.\n&gt; &gt; &gt; link relation valu=\r\ne) relates to their current goal. In all this, the\n&gt; &gt; &gt; client need not ne=\r\ncessarily know it&#39;s participating in a particular\n&gt; &gt; &gt; protocol, or be awa=\r\nre of the overall state of the distributed\n&gt; &gt; &gt; application.\n&gt; &gt; &gt;\n&gt; &gt; &gt; I=\r\ns that in line with what you meant by this being opaque to the\n&gt; &gt; &gt; client=\r\n?\n&gt; &gt; &gt;\n&gt; &gt; &gt; ian\n&gt; &gt; &gt;\n&gt; &gt; &gt; --- In rest-discuss@yahoogroups.com &lt;rest-dis=\r\ncuss%40yahoogroups.com&gt;,\n&gt; &gt; Subbu Allamaraju &lt;subbu@&gt;\n&gt; &gt; &gt; wrote:\n&gt; &gt; &gt;&gt;\n=\r\n&gt; &gt; &gt;&gt; Hi Ian,\n&gt; &gt; &gt;&gt;\n&gt; &gt; &gt;&gt; That is an excellent description of state from=\r\n the server&#39;s point of\n&gt; &gt; &gt;&gt; view. However, isn&#39;t all this opaque for the =\r\nclient?\n&gt; &gt; &gt;&gt;\n&gt; &gt; &gt;&gt; Subbu\n&gt; &gt; &gt;&gt;\n&gt; &gt; &gt;&gt; On Oct 3, 2009, at 6:16 PM, Ian w=\r\nrote:\n&gt; &gt; &gt;&gt;\n&gt; &gt; &gt;&gt;&gt; Hi Christian\n&gt; &gt; &gt;&gt;&gt;\n&gt; &gt; &gt;&gt;&gt; The state of an order - w=\r\nhether it has zero line items, or five, is\n&gt; &gt; &gt;&gt;&gt; resource state, not appl=\r\nication state. The state of the order as\n&gt; &gt; &gt;&gt;&gt; held in the http session i=\r\nn your example is resource state, not\n&gt; &gt; &gt;&gt;&gt; application state.\n&gt; &gt; &gt;&gt;&gt;\n&gt; =\r\n&gt; &gt;&gt;&gt; A simple - perhaps overly simple - ordering protocol might be\n&gt; &gt; &gt;&gt;&gt;=\r\n something like: new order created -&gt; adding line items -&gt; order\n&gt; &gt; &gt;&gt;&gt; co=\r\nmpleted -&gt; payment received -&gt; order dispatched.\n&gt; &gt; &gt;&gt;&gt;\n&gt; &gt; &gt;&gt;&gt; In the obs=\r\nervable interactions between client and server, this\n&gt; &gt; &gt;&gt;&gt; protocol is ne=\r\nver visible &quot;as such&quot;: it can only be viewed through\n&gt; &gt; &gt;&gt;&gt; the lens of re=\r\nsource state.\n&gt; &gt; &gt;&gt;&gt;\n&gt; &gt; &gt;&gt;&gt; Over the course of a series of interactions, =\r\nthe &quot;application&quot; (the\n&gt; &gt; &gt;&gt;&gt; game being played out between the client and=\r\n the server) will be in\n&gt; &gt; &gt;&gt;&gt; one or other of these states - as viewed fr=\r\nom a &quot;God&#39;s eye&quot; point of\n&gt; &gt; &gt;&gt;&gt; view. Once the application state has prog=\r\nressed to &quot;order\n&gt; &gt; &gt;&gt;&gt; completed&quot;, for example, it&#39;s no longer possible t=\r\no add manipulate\n&gt; &gt; &gt;&gt;&gt; resources so as to add new line items; it is, howe=\r\nver, possible to\n&gt; &gt; &gt;&gt;&gt; manipulate resources such that the application sta=\r\nte transitions to\n&gt; &gt; &gt;&gt;&gt; &quot;payment received&quot; (the client would do this by s=\r\nubmitting a\n&gt; &gt; &gt;&gt;&gt; representation of a payment, perhaps).\n&gt; &gt; &gt;&gt;&gt;\n&gt; &gt; &gt;&gt;&gt; =\r\nThe client and the server cooperate to execute this protocol, but\n&gt; &gt; &gt;&gt;&gt; t=\r\nhey do so by transferring representations of resource state, not\n&gt; &gt; &gt;&gt;&gt; re=\r\npresentations of application state. Application state is never\n&gt; &gt; &gt;&gt;&gt; repr=\r\nesented &quot;as such&quot;; rather, it&#39;s inferred by the client based on\n&gt; &gt; &gt;&gt;&gt; on =\r\ncurrent representations of resource state. If the application is\n&gt; &gt; &gt;&gt;&gt; in=\r\n the &quot;order completed&quot; state, the representation of the order\n&gt; &gt; &gt;&gt;&gt; recei=\r\nved by the client may very well include a link that has been\n&gt; &gt; &gt;&gt;&gt; annota=\r\nted with the link relation value &quot;payment&quot;. This isn&#39;t a\n&gt; &gt; &gt;&gt;&gt; straightfo=\r\nrward representation of application state, however: it&#39;s\n&gt; &gt; &gt;&gt;&gt; an &quot;invita=\r\ntion&quot; to the client to transfer a representation of a\n&gt; &gt; &gt;&gt;&gt; payment to th=\r\nis linked resource. As a side-effect of transferring\n&gt; &gt; &gt;&gt;&gt; this represent=\r\nation, the &quot;application&quot; may transition to &quot;payment\n&gt; &gt; &gt;&gt;&gt; received&quot;.\n&gt; &gt; =\r\n&gt;&gt;&gt;\n&gt; &gt; &gt;&gt;&gt; What&#39;s important here is that the server is really only interes=\r\nted\n&gt; &gt; &gt;&gt;&gt; in maintaining resource state, which includes maintaining the\n&gt;=\r\n &gt; &gt;&gt;&gt; integrity of the lifecycles of the resources under its control, and\n=\r\n&gt; &gt; &gt;&gt;&gt; the invariants that hold between resources (if any). The server\n&gt; &gt;=\r\n &gt;&gt;&gt; can&#39;t be sure the client will ever take that step of submitting a\n&gt; &gt; =\r\n&gt;&gt;&gt; payment, so why bother holding onto application state? Application\n&gt; &gt; =\r\n&gt;&gt;&gt; state is something that can be reconstructed &quot;after the fact&quot;, by a\n&gt; &gt;=\r\n &gt;&gt;&gt; client, or omniscient observer, based on the disposition of the\n&gt; &gt; &gt;&gt;=\r\n&gt; current set of resource representations.\n&gt; &gt; &gt;&gt;&gt;\n&gt; &gt; &gt;&gt;&gt; So the order rep=\r\nresentation is always a representation of resource\n&gt; &gt; &gt;&gt;&gt; state. Applicati=\r\non state, that &quot;snapshot of the instance of\n&gt; &gt; &gt;&gt;&gt; execution of a protocol=\r\n&quot;, can only be inferred or reconstructed from\n&gt; &gt; &gt;&gt;&gt; resource state.\n&gt; &gt; &gt;=\r\n&gt;&gt;\n&gt; &gt; &gt;&gt;&gt; Hope this is of some help. Apologies if I&#39;ve confused more than\n=\r\n&gt; &gt; &gt;&gt;&gt; clarified; double apologies if I&#39;m just talking plain nonsense.\n&gt; &gt;=\r\n &gt;&gt;&gt;\n&gt; &gt; &gt;&gt;&gt; ian\n&gt; &gt; &gt;&gt;&gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt; --------------=\r\n----------------------\n&gt; &gt; &gt;\n&gt; &gt; &gt; Yahoo! Groups Links\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; =\r\n&gt;\n&gt; &gt;  \n&gt; &gt;\n&gt; \n&gt; \n&gt; \n&gt; -- \n&gt; ----------------------------------------------=\r\n----------\n&gt; blog: http://blog.dhananjaynene.com\n&gt; twitter: http://twitter.=\r\ncom/dnene http://twitter.com/_pythonic\n&gt;\n\n\n\n"}}
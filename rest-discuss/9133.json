{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":189321215,"authorName":"Alan Dean","from":"&quot;Alan Dean&quot; &lt;alan.dean@...&gt;","profile":"alan_james_dean","replyTo":"SENDER","senderId":"bpB3xpoaIHWnxez_1loBEj7i1h3TS9jgbCjcQ3jMa0FlqAw9jL4J_69mGx_m3kMKoBqA5yyXV160ftEvPSXxJKosBGMvTB_7","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [rest-discuss] Must POST be non-idempotent?","postDate":"1182416386","msgId":9133,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDZmYjE3M2Y1MDcwNjIxMDE1OW41ZDIxZWViMnJmZjM3ODViYjk5NzUzOWU4QG1haWwuZ21haWwuY29tPg==","inReplyToHeader":"PDg2QjQ4MDQ3LUNCQjgtNDQ4Ri1CNzFDLTlCMzQ2NDgxNDVFNUBpbm5vcS5jb20+","referencesHeader":"PDAyMjgwMWM3YjM0ZiQ2NjY5OGM1MCQ4NzAwYThjMEBNQVJDTk9URT4JIDw4NkI0ODA0Ny1DQkI4LTQ0OEYtQjcxQy05QjM0NjQ4MTQ1RTVAaW5ub3EuY29tPg=="},"prevInTopic":9132,"nextInTopic":9134,"prevInTime":9132,"nextInTime":9134,"topicId":9132,"numMessagesInTopic":29,"msgSnippet":"... As I understand it, Marc is correct. PUT is required to be idempotent by RFC2616. POST simply has no requirement. It might be, it might not be - that s up","rawEmail":"Return-Path: &lt;alan.dean@...&gt;\r\nX-Sender: alan.dean@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nReceived: (qmail 5770 invoked from network); 21 Jun 2007 09:00:28 -0000\r\nReceived: from unknown (66.218.66.72)\n  by m51.grp.scd.yahoo.com with QMQP; 21 Jun 2007 09:00:27 -0000\r\nReceived: from unknown (HELO an-out-0708.google.com) (209.85.132.247)\n  by mta14.grp.scd.yahoo.com with SMTP; 21 Jun 2007 09:00:27 -0000\r\nReceived: by an-out-0708.google.com with SMTP id d26so116136and\n        for &lt;rest-discuss@yahoogroups.com&gt;; Thu, 21 Jun 2007 01:59:46 -0700 (PDT)\r\nDKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;\n        d=gmail.com; s=beta;\n        h=domainkey-signature:received:received:message-id:date:from:to:subject:cc:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;\n        b=CVuqjhaJDWm0I1iCpPYvIxpRI3uYJMPjRlkG1TG60veezaHFvAVSfBTezjeI/95mLi24Pj4e2DWqAme5xQ9dsYh2HLppr6KjxVXXN0XqzPNxWw3UMza2dyDWpzt64fUcBRxbueI44JZkTqq+Cy2NCxulrWjy/uqcuuciBt7UtGk=\r\nReceived: by 10.100.10.20 with SMTP id 20mr981431anj.1182416386671;\n        Thu, 21 Jun 2007 01:59:46 -0700 (PDT)\r\nReceived: by 10.100.151.8 with HTTP; Thu, 21 Jun 2007 01:59:46 -0700 (PDT)\r\nMessage-ID: &lt;6fb173f50706210159n5d21eeb2rff3785bb997539e8@...&gt;\r\nDate: Thu, 21 Jun 2007 09:59:46 +0100\r\nTo: &quot;Stefan Tilkov&quot; &lt;stefan.tilkov@...&gt;\r\nCc: &quot;Rest List&quot; &lt;rest-discuss@yahoogroups.com&gt;\r\nIn-Reply-To: &lt;86B48047-CBB8-448F-B71C-9B34648145E5@...&gt;\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=UTF-8; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nContent-Disposition: inline\r\nReferences: &lt;022801c7b34f$66698c50$8700a8c0@MARCNOTE&gt;\n\t &lt;86B48047-CBB8-448F-B71C-9B34648145E5@...&gt;\r\nX-eGroups-Msg-Info: 1:0:0:0\r\nFrom: &quot;Alan Dean&quot; &lt;alan.dean@...&gt;\r\nSubject: Re: [rest-discuss] Must POST be non-idempotent?\r\nX-Yahoo-Group-Post: member; u=189321215; y=tZVV5xctKj9f_MUKBenw1_ZPm4VIVzhTpDPMHNcQ5RmdwvkQ-dzhKkT3\r\nX-Yahoo-Profile: alan_james_dean\r\n\r\nOn 6/21/07, Stefan Tilkov &lt;stefan.tilkov@...&gt; wrote:\n&gt;\n&gt; Forwarding from another list - this seems more appropriate for rest-\n&gt; discuss ...\n&gt;\n&gt; Begin forwarded message:\n&gt;\n&gt; &gt; From: &quot;Marc de Graauw&quot; &lt;marc@...&gt;\n&gt; &gt; Date: June 20, 2007 5:26:39 PM GMT+02:00\n&gt; &gt; To: &lt;service-orientated-architecture@yahoogroups.com&gt;\n&gt; &gt; Subject: RE: [service-orientated-architecture] Anne on REST (Time\n&gt; &gt; for Spring WS v. REST Campaign to Open)\n&gt; &gt; Reply-To: service-orientated-architecture@yahoogroups.com\n&gt; &gt;\n&gt; &gt; Mark Baker:\n&gt; &gt;\n&gt; &gt; | On 6/19/07, Stefan Tilkov &lt;stefan.tilkov@...&gt; wrote:\n&gt; &gt; | &gt; You are right, I should have written &quot;PUT is defined to be\n&gt; &gt; | idempotent\n&gt; &gt; | &gt; (by the spec), POST is not - which means POST can or cannot be\n&gt; &gt; | &gt; idempotent&quot;. Seems a little like splitting hairs, but OK.\n&gt; &gt; |\n&gt; &gt; | Not quite. POST is defined to be non-idempotent, i.e. if you see an\n&gt; &gt; | HTTP message with a POST request method, then that message is a\n&gt; &gt; | non-idempotent message. What any particular receiving implementation\n&gt; &gt; | *does* with such a message - idempotent or not - is an entirely\n&gt; &gt; | separate issue.\n&gt; &gt;\n&gt; &gt; Jan Algermissen:\n&gt; &gt;\n&gt; &gt; | Actually, I&#39;d say that every single invokation of POST is\n&gt; &gt; | significant from a client&#39;s POV and it explicitly expects\n&gt; &gt; | multiple POSTs to have distinct effects, or?\n&gt; &gt; |\n&gt; &gt; | IMO, POST *is* in fact non-idempotent...always. Per definition.\n&gt; &gt;\n&gt; &gt; I find it hard to find this in RFC2616, and it seems impossible as\n&gt; &gt; well.\n&gt; &gt;\n&gt; &gt; RFC2616:\n&gt; &gt;\n&gt; &gt; &quot;Methods can also have the property of &quot;idempotence&quot; in that (aside\n&gt; &gt; from\n&gt; &gt; error or expiration issues) the side-effects of N &gt; 0 identical\n&gt; &gt; requests is\n&gt; &gt; the same as for a single request. The methods GET, HEAD, PUT and\n&gt; &gt; DELETE\n&gt; &gt; share this property.&quot;\n&gt; &gt;\n&gt; &gt; So PUT is idempotent, and POST not necessarily so, but where does\n&gt; &gt; it say\n&gt; &gt; that POST messages are _always_ non-idempotent?\n&gt; &gt;\n&gt; &gt; Seems impossible too. Presumably a non-idempotent method has the\n&gt; &gt; property\n&gt; &gt; that &quot;the side-effects of N &gt; 0 identical requests is NOT the same\n&gt; &gt; as for a\n&gt; &gt; single request&quot; So if I POST twice, and get 500 with a body &quot;Credit\n&gt; &gt; expired&quot;\n&gt; &gt; twice, that&#39;s an idempotent message, right? In fact, if it get that\n&gt; &gt; response\n&gt; &gt; once, my expectation would be to get it the next time as well. We&#39;d\n&gt; &gt; have to\n&gt; &gt; re-interpret RFC2616 as really saying &quot;for POST the side-effects of\n&gt; &gt; N &gt; 0\n&gt; &gt; identical succesfull requests SHOULD NOT be the same as for a single\n&gt; &gt; request&quot;, but this seems nonsensical to me. Whether a message is\n&gt; &gt; idempotent\n&gt; &gt; or not is up to the business logic behind it, and POST is telling\n&gt; &gt; the client\n&gt; &gt; it may not count on the message being idempotent, and must act\n&gt; &gt; accordingly\n&gt; &gt; (not just re-POST after failure). POST - IMO - isn&#39;t telling the\n&gt; &gt; client\n&gt; &gt; there are indeed such side-effects for N &gt; 0 messages to be expected.\n&gt; &gt;\n&gt; &gt; I&#39;ve always read RFC2616 as saying PUT is always idempotent, and\n&gt; &gt; with POST\n&gt; &gt; the client cannot count on it being idempotent or not, but correct\n&gt; &gt; me if I&#39;m\n&gt; &gt; wrong.\n&gt; &gt;\n&gt; &gt; It also seems to leave an empty slot. With PUT, the client is\n&gt; &gt; supposed to\n&gt; &gt; create the URI, with POST, the server. So if I have some logic\n&gt; &gt; where I want\n&gt; &gt; the server to create the URI (who trusts those darn clients\n&gt; &gt; anyway!), and\n&gt; &gt; the logic is idempotent, what do I do?\n&gt; &gt;\n&gt; &gt; RFC 2616: &quot;The fundamental difference between the POST and PUT\n&gt; &gt; requests is\n&gt; &gt; reflected in the different meaning of the Request-URI. The URI in a\n&gt; &gt; POST\n&gt; &gt; request identifies the resource that will handle the enclosed\n&gt; &gt; entity ... In\n&gt; &gt; contrast, the URI in a PUT request identifies the entity enclosed\n&gt; &gt; with the\n&gt; &gt; request&quot;.\n&gt; &gt;\n&gt; &gt; I can see how that leads to PUT being idempotent, but I cannot see\n&gt; &gt; why this\n&gt; &gt; would make POST necessarily non-idempotent.\n&gt; &gt;\n&gt; &gt; Marc de Graauw\n\nAs I understand it, Marc is correct.\n\nPUT is required to be idempotent by RFC2616.\nPOST simply has no requirement. It might be, it might not be - that&#39;s\nup to the server. The UA cannot rely on any behavioural expectation.\n\nTherefore, unless the server &#39;makes a promise&#39; by providing support\nfor some protocol layered on top of HTTP (such as AtomPub) - all bets\nare off.\n\nAlan Dean\nhttp://thoughtpad.net/alan-dean\nhttp://simplewebservices.org\n\n"}}
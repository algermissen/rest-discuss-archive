{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":159556043,"authorName":"Jan Algermissen","from":"Jan Algermissen &lt;jalgermissen@...&gt;","profile":"algermissen1971","replyTo":"SENDER","senderId":"XNePNF0NyaFnsIlBAZ_bBHMndK1qnRaW1QIn8eS4NLFx3Dei0sV9IPXNMenSK6hu7BA9AXyfJGmVZnFygqJgxzidjs1kEyOgKthsgVlZfbfLgbXbG5w","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Submitting binary and metadata in a single request","postDate":"1151269860","msgId":6335,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PEJBNjBBODQ4LTU0NEMtNDc3MS1BQzBBLTJBREI1MDE3QzNBOEB0b3BpY21hcHBpbmcuY29tPg=="},"prevInTopic":0,"nextInTopic":6336,"prevInTime":6334,"nextInTime":6336,"topicId":6335,"numMessagesInTopic":10,"msgSnippet":"Hi, suppose I am writing a REST facade to a legacy system; one of the use cases being the creation of entries that consist of arbitrary media data and","rawEmail":"Return-Path: &lt;jalgermissen@...&gt;\r\nX-Sender: jalgermissen@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nReceived: (qmail 72895 invoked from network); 25 Jun 2006 21:11:03 -0000\r\nReceived: from unknown (66.218.66.218)\n  by m25.grp.scd.yahoo.com with QMQP; 25 Jun 2006 21:11:03 -0000\r\nReceived: from unknown (HELO moutng.kundenserver.de) (212.227.126.171)\n  by mta3.grp.scd.yahoo.com with SMTP; 25 Jun 2006 21:11:03 -0000\r\nReceived: from [80.171.115.200] (helo=[10.0.1.2])\n\tby mrelayeu.kundenserver.de (node=mrelayeu3) with ESMTP (Nemesis),\n\tid 0MKxQS-1Fubsk24C9-0008Ok; Sun, 25 Jun 2006 23:11:02 +0200\r\nMime-Version: 1.0 (Apple Message framework v750)\r\nContent-Transfer-Encoding: 7bit\r\nMessage-Id: &lt;BA60A848-544C-4771-AC0A-2ADB5017C3A8@...&gt;\r\nContent-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed\r\nTo: rest-discuss@yahoogroups.com\r\nDate: Sun, 25 Jun 2006 23:11:00 +0200\r\nX-Mailer: Apple Mail (2.750)\r\nX-Provags-ID: kundenserver.de abuse@... login:9fd5cd4d1b290f5c8d8bf21248da35c6\r\nX-eGroups-Msg-Info: 1:0:0:0\r\nFrom: Jan Algermissen &lt;jalgermissen@...&gt;\r\nSubject: Submitting binary and metadata in a single request\r\nX-Yahoo-Group-Post: member; u=159556043; y=VWDUMd6VeeTgxCUNPxYKv8SGi1wat4OxI1z8jgsiLxxaL7KeImSTOOuc\r\nX-Yahoo-Profile: algermissen1971\r\n\r\nHi,\n\nsuppose I am writing a REST facade to a legacy system; one of the use  \ncases being the creation of entries that consist of arbitrary media  \ndata and asociated metadata. One approach to do this is to first POST  \nthe media data (and have the server return the created entry with the  \nlink to the uploaded media data) and then to update the metadata with  \na PUT on the entry.\n(That is the approach Atom is taking, at least in APP v08[1])\n\nWhat if the legacy system requires the creation and metadata  \nassignment be done as an atomic operation, IOW if the entry cannot be  \ncreated in the absence of the metadata?\n\nThe only solution I see so far is a multipart form data upload but  \nI&#39;d really like to avoid having this clutter up my otherwise pretty  \nconsistent way of doing things in the system I have to build. E.g.  \nI&#39;d need to introduce te meaning of the form fields to the client  \nwhere it otherwise would just POST the binary and then GET, modify  \nand PUT the associated entry XML data.\n\nI have been thinking about a multipart POSTing of an entry XML  \ndocument right away with the content link pointing to the multipart  \npart that contains the binary data. I think the multipart specs does  \nlicense that, yes?\n\nI&#39;d really apprechiate any thoughts on this matter, thanks.\n\nJan\n\n[1] http://www.ietf.org/internet-drafts/draft-ietf-atompub- \nprotocol-08.txt\n\n"}}
{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":343278744,"authorName":"Subbu Allamaraju","from":"Subbu Allamaraju &lt;subbu@...&gt;","profile":"sallamar","replyTo":"SENDER","senderId":"L0E6w3BUqxLaI8SgL0kLRveAFWAwkGO62QWDUkbbOSvtzi6rsqPF38eJ4dXX0BVSGeTil39c-WQVv5g3kOKDap1xiTDj9yjBgw","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [rest-discuss] Re: Media Type Version Negotiation","postDate":"1253511115","msgId":13431,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PEU2RTcwNTJDLUY0MjQtNEQ5RS04QkNBLTlGQ0ZBODMxOUI0QUBzdWJidS5vcmc+","inReplyToHeader":"PDI4ZTI1NzExMDkwOTIwMjEyMXQxMzVhOTM4OWc4MmRlZWUwMjdkNDQ2NmRkQG1haWwuZ21haWwuY29tPg==","referencesHeader":"PGg4ZWVucStuYTV1QGVHcm91cHMuY29tPiA8RDNEREVGQUQtMzExMi00QUZELTlCMjAtNTM2MkI1QkMxQkE1QG1hYy5jb20+IDw0QUFFMzRDOC4zMDkwMzA2QG15a2Fuam8uY28udWs+IDxkZTcwYjM5ZDA5MDkxNDA5MjZwMzQ5ODY4MWJxMWJjMzBjMDQ4NmJjMjc3MUBtYWlsLmdtYWlsLmNvbT4gPDI4ZTI1NzExMDkwOTE0MTE0MG4xNGRkZGYwOHVmMDgyOWE0ODY4ZTU5OGYyQG1haWwuZ21haWwuY29tPiA8ZGU3MGIzOWQwOTA5MTUyMjMyeDNmMzI0NmY5aWM0NmFkODc1ZjhkODQyQG1haWwuZ21haWwuY29tPiA8NDk5ODg4NDQwOTA5MTYwNDE2eGU3NTRmYTRsZWYwN2I2NDc2Y2M2NThkMEBtYWlsLmdtYWlsLmNvbT4gPDI1OWE5ODQ0MDkwOTE5MTgwOHU0MWEwYThicGViOWFmNTBjNzVjMmU2ZTFAbWFpbC5nbWFpbC5jb20+IDw1REU0QjIxRS1DQkI4LTRCMTEtOTkzNy0zRTY4MUYzOTI0NzNAc3ViYnUub3JnPiA8MjhlMjU3MTEwOTA5MjAyMTIxdDEzNWE5Mzg5ZzgyZGVlZTAyN2Q0NDY2ZGRAbWFpbC5nbWFpbC5jb20+"},"prevInTopic":13430,"nextInTopic":13434,"prevInTime":13430,"nextInTime":13432,"topicId":13218,"numMessagesInTopic":43,"msgSnippet":"... Yes, except that things like load balancers do IP based routing. They don t go so far as looking at HTTP headers. ... I mean new resources, not flavors of","rawEmail":"Return-Path: &lt;subbu@...&gt;\r\nX-Sender: subbu@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 36885 invoked from network); 21 Sep 2009 05:32:58 -0000\r\nX-Received: from unknown (69.147.108.201)\n  by m3.grp.re1.yahoo.com with QMQP; 21 Sep 2009 05:32:58 -0000\r\nX-Received: from unknown (HELO mail-yx0-f175.google.com) (209.85.210.175)\n  by mta2.grp.re1.yahoo.com with SMTP; 21 Sep 2009 05:32:58 -0000\r\nX-Received: by yxe5 with SMTP id 5so3094011yxe.24\n        for &lt;rest-discuss@yahoogroups.com&gt;; Sun, 20 Sep 2009 22:31:58 -0700 (PDT)\r\nX-Received: by 10.90.13.15 with SMTP id 15mr3056986agm.74.1253511118318;\n        Sun, 20 Sep 2009 22:31:58 -0700 (PDT)\r\nReturn-Path: &lt;subbu@...&gt;\r\nX-Received: from ?192.168.1.100? (nat-dip6.cfw-a-gci.corp.yahoo.com [209.131.62.115])\n        by mx.google.com with ESMTPS id 30sm2601581agc.18.2009.09.20.22.31.56\n        (version=TLSv1/SSLv3 cipher=RC4-MD5);\n        Sun, 20 Sep 2009 22:31:57 -0700 (PDT)\r\nMime-Version: 1.0 (Apple Message framework v1076)\r\nContent-Type: text/plain; charset=us-ascii; format=flowed; delsp=yes\r\nIn-Reply-To: &lt;28e257110909202121t135a9389g82deee027d4466dd@...&gt;\r\nDate: Sun, 20 Sep 2009 22:31:55 -0700\r\nCc: Rest List &lt;rest-discuss@yahoogroups.com&gt;\r\nContent-Transfer-Encoding: 7bit\r\nMessage-Id: &lt;E6E7052C-F424-4D9E-8BCA-9FCFA8319B4A@...&gt;\r\nReferences: &lt;h8eenq+na5u@...&gt; &lt;D3DDEFAD-3112-4AFD-9B20-5362B5BC1BA5@...&gt; &lt;4AAE34C8.3090306@...&gt; &lt;de70b39d0909140926p3498681bq1bc30c0486bc2771@...&gt; &lt;28e257110909141140n14dddf08uf0829a4868e598f2@...&gt; &lt;de70b39d0909152232x3f3246f9ic46ad875f8d842@...&gt; &lt;499888440909160416xe754fa4lef07b6476cc658d0@...&gt; &lt;259a98440909191808u41a0a8bpeb9af50c75c2e6e1@...&gt; &lt;5DE4B21E-CBB8-4B11-9937-3E681F392473@...&gt; &lt;28e257110909202121t135a9389g82deee027d4466dd@...&gt;\r\nTo: Peter Williams &lt;pezra@...&gt;\r\nX-Mailer: Apple Mail (2.1076)\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Subbu Allamaraju &lt;subbu@...&gt;\r\nSubject: Re: [rest-discuss] Re: Media Type Version Negotiation\r\nX-Yahoo-Group-Post: member; u=343278744; y=qUtdNZoUwOMsSRP-wcPDL68VR452CbQwxY1ycpDHtxot7gI\r\nX-Yahoo-Profile: sallamar\r\n\r\n&gt; &gt; a. Media type versioning assumes that the same server instance\n&gt; &gt; supports all versions. But larger systems may not be able to support\n&gt; &gt; multiple versions on the same runtime.\n&gt;\n&gt; Many times a single cluster can serve all the versions that are\n&gt; supported. On the other hand, there is no reason requests could not\n&gt; be dispatched to different environments based on the mime type.\n\nYes, except that things like load balancers do IP based routing. They  \ndon&#39;t go so far as looking at HTTP headers.\n\n&gt; &gt; b. It further assumes versioning changes can be represented by\n&gt; &gt; representations. In reality, versioning changes do bring in new\n&gt; &gt; resources and new processing flows.\n&gt;\n&gt; Of course, many changes require the introduction of new flavors of\n&gt; resources. That would usually indicate the need for a new media type\n&gt; because new flavors of resources obviously mean new (or significantly\n&gt; changed) process flows. I don&#39;t really see how either media type or\n&gt; URI based versioning would be better or worse in this situation.\n\nI mean new resources, not flavors of existing resources.\n\n&gt; &gt; c. The purported benefit of versioning by media types is that  \n&gt; client-\n&gt; &gt; side databases don&#39;t need to be changed since the URIs are the same.\n&gt; &gt; This is fine in small systems, but migrating a client from one  \n&gt; version\n&gt; &gt; to another version may require not just code changes, but database\n&gt; &gt; upgrades. This may be due to changes in the information content of\n&gt; &gt; representations that the clients need to store,.\n&gt;\n&gt; Migrating a client from one version of an API to another does often\n&gt; require many changes. However, many changes will not necessarily\n&gt; invalidate of all the bookmarks (ie, persisted references to\n&gt; resources) that clients have collected. URI based versioning\n&gt; effectively locks clients that require bookmarking into the version\n&gt; they started with.\n\nI wouldn&#39;t say locking - URIs will need to be replaced. This is not as  \nbad as it sounds. There are ways to tackle this.\n\n&gt; &gt; d. Not every HTTP level software can distinguish between\n&gt; &gt; representation of a resource.\n&gt;\n&gt; Maybe, fortunately all the HTTP software i am familiar with has\n&gt; support for specifying and retrieving the values of HTTP header\n&gt; fields. Any software that does not support this very basic feature\n&gt; does not really support HTTP regardless of its claims. With that\n&gt; capability you can implement content negotiation pretty trivially.\n\nIt does not matter what such software claims and how we judge them. It  \nis reality, and can&#39;t be ignored. When it comes to operational aspects  \nlike log analysis, monitoring, routing, and security, tools currently  \ndon&#39;t deal well with media types.\n\n&gt; &gt; Given all these, even though URI based versioning looks inelegant,  \n&gt; URI\n&gt; &gt; based versioning is more pragmatic, and is proven to work.\n&gt;\n&gt; Things often look inelegant because they are. URI based versioning\n&gt; can be made to work for some situations and many applications, but not\n&gt; without a disproportionate level of effort. URI based version is not\n&gt; more pragmatic, just more common. It has many downsides and the only\n&gt; thing it has going for it is that it is more common. Despite the\n&gt; implication otherwise, media type based versioning has been used\n&gt; successfully in the real world.\n\nI won&#39;t dispute that, but also not take such a strong position. Media  \ntype based versioning is not a one-size-fits-all solution. There are a  \nnumber of cases where treating representations as resources has  \noperational advantages. Versioning is one of those.\n\nFinally, media type based versioning does require complete control of  \nall media types that the server has to deal with. Not all media types  \nare in your control. So, the moment the server is faced with  \nversioning a well-known media type, it will have to mint new URIs for  \nnew versions.\n\nSubbu\n\n"}}
{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":147780944,"authorName":"A. Pagaltzis","from":"&quot;A. Pagaltzis&quot; &lt;pagaltzis@...&gt;","profile":"a22pag","replyTo":"SENDER","senderId":"6SbwR3mY3HswJSSdX57I3qQJ388qhab-5_WpDmey5d9HaE-4j-LnXhfhndShMK5M0uI0YyjlM58I18BB6OZPDDBpYyg4nAEE","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: question about resource flags and workflows","postDate":"1194054193","msgId":9727,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDIwMDcxMTAzMDE0MzEzLkdMMjcxMEBrbGFuZ3JhdW0+","inReplyToHeader":"PEM2QkRDOENGLUM2MkItNEZFQy1BRDZFLUMwNEE3NERFOUE0Q0BoYXNocmVmLmNvbT4=","referencesHeader":"PEEzQTEyMjMwLTA1QTMtNENGQS1CQTg5LTE5OTg3NDQ2MjMwNUBoYXNocmVmLmNvbT4gPDIwMDcxMTAyMTYwOTAzLkdKMjcxMEBrbGFuZ3JhdW0+IDxDNkJEQzhDRi1DNjJCLTRGRUMtQUQ2RS1DMDRBNzRERTlBNENAaGFzaHJlZi5jb20+"},"prevInTopic":9726,"nextInTopic":9728,"prevInTime":9726,"nextInTime":9728,"topicId":9723,"numMessagesInTopic":5,"msgSnippet":"... I meant that you would return 301 for subsequent requests to /bookings/{id} – not in response to the DELETE itself. A DELETE doesn’t have to result in","rawEmail":"Return-Path: &lt;pagaltzis@...&gt;\r\nX-Sender: pagaltzis@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 13593 invoked from network); 3 Nov 2007 01:43:15 -0000\r\nX-Received: from unknown (66.218.67.96)\n  by m44.grp.scd.yahoo.com with QMQP; 3 Nov 2007 01:43:15 -0000\r\nX-Received: from unknown (HELO mail.gmx.net) (213.165.64.20)\n  by mta17.grp.scd.yahoo.com with SMTP; 3 Nov 2007 01:43:15 -0000\r\nX-Received: (qmail invoked by alias); 03 Nov 2007 01:43:14 -0000\r\nX-Received: from static-87-79-236-202.netcologne.de (EHLO klangraum) [87.79.236.202]\n  by mail.gmx.net (mp036) with SMTP; 03 Nov 2007 02:43:14 +0100\r\nX-Authenticated: #163624\r\nX-Provags-ID: V01U2FsdGVkX1/GrfNFOX3GyWJ5ydSKUoLz+LND9rhCrSVvP7COa0\n\tBPwNCCmac/03Ty\r\nDate: Sat, 3 Nov 2007 02:43:13 +0100\r\nTo: rest-discuss@yahoogroups.com\r\nMessage-ID: &lt;20071103014313.GL2710@klangraum&gt;\r\nMail-Followup-To: rest-discuss@yahoogroups.com\r\nReferences: &lt;A3A12230-05A3-4CFA-BA89-199874462305@...&gt; &lt;20071102160903.GJ2710@klangraum&gt; &lt;C6BDC8CF-C62B-4FEC-AD6E-C04A74DE9A4C@...&gt;\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=utf-8\r\nContent-Disposition: inline\r\nContent-Transfer-Encoding: 8bit\r\nIn-Reply-To: &lt;C6BDC8CF-C62B-4FEC-AD6E-C04A74DE9A4C@...&gt;\r\nUser-Agent: Mutt/1.5.16 (2007-06-09)\r\nX-Y-GMX-Trusted: 0\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: &quot;A. Pagaltzis&quot; &lt;pagaltzis@...&gt;\r\nSubject: Re: question about resource flags and workflows\r\nX-Yahoo-Group-Post: member; u=147780944; y=seZjRlnInzJGm5ZqJf0e4ONyxCm5Dvr8HJ_FoCtQaTvR\r\nX-Yahoo-Profile: a22pag\r\n\r\n* Xavier Noria &lt;fxn@...&gt; [2007-11-02 17:35]:\n&gt; On Nov 2, 2007, at 5:09 PM, A. Pagaltzis wrote:\n&gt;&gt; * Xavier Noria &lt;fxn@...&gt; [2007-11-02 13:00]:\n&gt;&gt; &gt; But if cancelled bookings are GETable which interface would\n&gt;&gt; &gt; you provide?\n&gt;&gt;\n&gt;&gt; DELETE + 301, I guess.\n&gt;&gt;\n&gt; With that apporach we would have for example\n&gt;\n&gt;   DELETE /bookings/{id}\n&gt;   ...\n&gt;   301 Moved Permanently\n&gt;   Location: /cancelled_bookings/{id}\n&gt;\n&gt; and /bookings/{id} wouldn&#39;t be available.\n\nI meant that you would return 301 for subsequent requests to\n/bookings/{id} – not in response to the DELETE itself.\n\nA DELETE doesn’t have to result in any particular status on\nsubsequent requests – it just would be deceitful for the server\nto return 2xx if it doesn’t plan to do *some*thing in response\nto the request.\n\nBut per RFC 2616 the response to the DELETE *itself* SHOULD be\neither 200, 202 or 204. So in your case the best approach would\nbe to return 200 and put a representation with a link to the new\naddress in the response body.\n\n&gt;&gt; &gt; In general I think I want to know how do you model &quot;state&quot;\n&gt;&gt; &gt; flags. Sometimes they aren&#39;t even setable by the client.\n&gt;&gt;\n&gt;&gt; If you have flags other than some kind of “active/not active”\n&gt;&gt; status, probably by exposing them as separate resources for\n&gt;&gt; the client to PUT to, when it is allowed to.\n&gt;\n&gt; That would be: I have a resource &quot;budget&quot;, and to &quot;approve&quot; it\n&gt; I send its representation via PUT to /budgets/approved/{id},\n&gt; where the ID is the one of the original resource?\n\nNo, that would mean you want to store the representation of that\nbudget in /budgets/approved/{id} – which isn’t what you’re after.\n\nRather, you would PUT a body like &lt;approval&gt;approved&lt;/approval&gt;\nto /budgets/{id}/approved.\n\n(Actually, you would PUT it to whichever approval URI the\nresource at /budgets/{id} links to. The client doesn’t\nspontaneously construct URIs, it only follows links and forms.)\n\n&gt; Wouldn&#39;t be a RESTful way to express this RPC-style action\n&gt;\n&gt;   Set the approved flag of budget with URL foo to &quot;approved&quot;\n&gt;\n&gt; ? That is you pass the URL, not the representation.\n\nThat would work as well – POST &lt;budget href=&quot;/budget/{id}&quot;/&gt; to\n/approved_budgets. Or budget_uri=/budget/{id} I suppose. (Query\nstring format.)\n\nIt’s hard to say which of these options is better, because we’re\ntalking in pretty abstract terms. More specifics would be\nnecessary to make a better call.\n\n&gt; My question in that regard was more having to do with the\n&gt; possibility  of dealing with &quot;cancelled&quot; as a non-distinguished\n&gt; attribute. In that  case you&#39;d use a PUT request to its URL\n&gt; with the entire representation  and the service would have\n&gt; separate logic when that particular  attribute changed. \n\nUgh, that would mean using the representation to infer which\nresource is changing. That’s RPC thinking: you are putting\naddressing information in the entity body. Don’t do that.\nResource addressing belongs in the URI. The representation in\na resource should describe the *state* of the resource that’s\nchanging, not *which* resource is changing.\n\nRegards,\n-- \nAristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;\n\n"}}
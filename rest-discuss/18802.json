{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":498432483,"authorName":"Jan Algermissen","from":"Jan Algermissen &lt;jan.algermissen@...&gt;","profile":"algermissen1971","replyTo":"SENDER","senderId":"J9zmQrfbA5PgjlsKpGk3hsr2VGCNu5cl4wUcSqqxLUSxD7Jwj5UbKNX99_T3y3rdoTbXNlLLtzc6l9KbMN-UCPPsyvDVI771x5UeYdiqISm4QNQ","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [rest-discuss] 409 or 412 (or something else? for optimistic locking violation)","postDate":"1334561568","msgId":18802,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PEQ1NzI0NzU3LTVFNDAtNEIwQS05MzAxLTU3REQ3OTU2NDRFQkBub3Jkc2MuY29tPg==","inReplyToHeader":"PEYxOTYyNjQ2RDNCNjQ2NDJCN0M5QTA2MDY4RUUxRTY0MTUxMzRGN0FAZXgxMC5ob3N0ZWRleGNoYW5nZS5sb2NhbD4=","referencesHeader":"PGptZXRlZytmamVwQGVHcm91cHMuY29tPiA8RjE5NjI2NDZEM0I2NDY0MkI3QzlBMDYwNjhFRTFFNjQxNTEzNEY3QUBleDEwLmhvc3RlZGV4Y2hhbmdlLmxvY2FsPg=="},"prevInTopic":18799,"nextInTopic":0,"prevInTime":18801,"nextInTime":18803,"topicId":18795,"numMessagesInTopic":3,"msgSnippet":"Dan, use 412 if a precondition in the request failed 409 if applying the update would result in a conflict (e.g. applying patch results in a conflict) (This is","rawEmail":"Return-Path: &lt;jan.algermissen@...&gt;\r\nX-Sender: jan.algermissen@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 62423 invoked from network); 16 Apr 2012 07:32:57 -0000\r\nX-Received: from unknown (98.137.34.45)\n  by m4.grp.sp2.yahoo.com with QMQP; 16 Apr 2012 07:32:57 -0000\r\nX-Received: from unknown (HELO moutng.kundenserver.de) (212.227.126.186)\n  by mta2.grp.sp2.yahoo.com with SMTP; 16 Apr 2012 07:32:57 -0000\r\nX-Received: from [10.83.128.233] (tmo-102-244.customers.d1-online.com [80.187.102.244])\n\tby mrelayeu.kundenserver.de (node=mreu2) with ESMTP (Nemesis)\n\tid 0MCuUJ-1SRglr0rLv-009inh; Mon, 16 Apr 2012 09:32:53 +0200\r\nMime-Version: 1.0 (Apple Message framework v1084)\r\nContent-Type: text/plain; charset=windows-1252\r\nIn-Reply-To: &lt;F1962646D3B64642B7C9A06068EE1E6415134F7A@...&gt;\r\nDate: Mon, 16 Apr 2012 09:32:48 +0200\r\nCc: &quot;Dan&quot; &lt;dan@...&gt;,\n &lt;rest-discuss@yahoogroups.com&gt;\r\nContent-Transfer-Encoding: quoted-printable\r\nMessage-Id: &lt;D5724757-5E40-4B0A-9301-57DD795644EB@...&gt;\r\nReferences: &lt;jmeteg+fjep@...&gt; &lt;F1962646D3B64642B7C9A06068EE1E6415134F7A@...&gt;\r\nTo: Robert Brewer &lt;fumanchu@...&gt;\r\nX-Mailer: Apple Mail (2.1084)\r\nX-Provags-ID: V02:K0:NBAxWu8nPzJaMl4JvrOSYLVyFkQvfifrNjGX4z6g60R\n FTQk5tC3Uk3qskzgSbIn1xvoPivdh0FBUqG3exMQva48apR5UO\n MhU7+LWhUg/UAgPe5v2+59N1j4iICjL7wwFcrHvfX3zbmAeNLv\n Q+LCxotznHSw+MLlC7c+t9VRWL9pvOi0re1jfzwHky0L63Boj9\n sVk5RlDKrW/6hMxWgMoYONzc6UfpJkBNwwblC9p5HVTmvj798C\n c49A34f7m1JXrjsk8mF1udyX7167WhsksSXRBEWGpWZl6LuxVS\n uS4N5xCZxy7OikIT+hbDe32eS4r/yfAfbomn5ioHdlJTIG+S/+\n fDehT3yc4lsR8bcukchvP8UOKiwF4UT244c0HO8hdJuvAbX3VK\n HBkgSCyNCFlfg==\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Jan Algermissen &lt;jan.algermissen@...&gt;\r\nSubject: Re: [rest-discuss] 409 or 412 (or something else? for optimistic locking violation)\r\nX-Yahoo-Group-Post: member; u=498432483; y=buu157Y99iraswENxyjW6wwfN_7xf6PKHkSzsbbGEOLLpI7jdQDvSNAE\r\nX-Yahoo-Profile: algermissen1971\r\n\r\nDan,\n\n\nuse\n\n412 if a precondition in the request failed\n\n\n\n409 if applying =\r\nthe update would result in a conflict (e.g. applying patch results in a con=\r\nflict)\n    (This is independent of conditional requests) \n\n\n\n428 If a preco=\r\nndition is missing but is required\n[1]\n\n\nJan\n\n\n\n[1] http://tools.ietf.org/h=\r\ntml/draft-nottingham-http-new-status-04\n\n\n\nOn Apr 16, 2012, at 3:17 AM, Rob=\r\nert Brewer wrote:\n\n&gt; Dan wrote:\n&gt; &gt; If I&#39;m using If-Match with ETag as a wa=\r\ny of implementing optimistic\n&gt; &gt; locking (which I guess is a pretty standar=\r\nd approach), then should 409\n&gt; &gt; or 412 be used to indicate that an optimis=\r\ntic locking problem.\n&gt; \n&gt; That&#39;s a good question. I think the *sense* of th=\r\ne spec is that, if the\n&gt; client sends an If-Match that doesn&#39;t match the cu=\r\nrrent state of the\n&gt; resource, the server would always return 412. That see=\r\nms to be the sense\n&gt; of\n&gt; http://tools.ietf.org/html/draft-ietf-httpbis-p4-=\r\nconditional-19#section-\n&gt; 3.1\n&gt; \n&gt; However, the actual text states, &quot;If the=\r\n request would, without the\n&gt; If-Match header field, result in anything oth=\r\ner than a 2xx or 412 status\n&gt; code, then the If-Match header field MUST be =\r\nignored,&quot; which would seem\n&gt; to imply from a strict reading that if you ret=\r\nurn 409 when a client\n&gt; omits If-Match, you should also return 409 when a c=\r\nlient sends it. But\n&gt; that seems to make 412 an un-emittable response, so I=\r\n doubt that&#39;s the\n&gt; intent. One can imagine that paragraph is intended more=\r\n to address 3xx,\n&gt; 400, 404, etc., and 409 was included by default without =\r\nproper\n&gt; consideration of this corner case. Perhaps something to take up wi=\r\nth the\n&gt; IETF (is httpbis out of last call yet?)\n&gt; \n&gt; Robert Brewer\n&gt; fuman=\r\nchu@...\n&gt; \n\n\n"}}
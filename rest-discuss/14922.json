{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":223135631,"authorName":"Felipe Ga√∫cho","from":"=?ISO-8859-1?Q?Felipe_Ga=FAcho?= &lt;fgaucho@...&gt;","profile":"felipegaucho2003","replyTo":"SENDER","senderId":"caPYxqHDWZnopFsSbugcyZhtnMxENtlr5DJDVNl2R2Y5gbgUFS0mfidznMznuWTDuRJAEEL60uCYmszGqUpjFuLlB4sk7k447gRpyrZfQzXHrJrcSAeyKh2_Lw","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [rest-discuss] Differentiating HTTP-based APIs","postDate":"1267176897","msgId":14922,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PGQxMTYwMzg2MTAwMjI2MDEzNGkyN2M4MjQ2NGxkNDFiNzJiM2YzYTMzYjBlQG1haWwuZ21haWwuY29tPg==","inReplyToHeader":"PGQxMTYwMzg2MTAwMjI2MDEzMHMyOTU1Y2VlZm0zMDc5ODg4YjIwMDI2NzcxQG1haWwuZ21haWwuY29tPg==","referencesHeader":"PGY4YjM5YWNlMTAwMjI1MTEzN3A1Mzk1NzRiMWdmMGFlZjFlNzMzMjkyMTNAbWFpbC5nbWFpbC5jb20+CSA8NTUxOTUuNzYwNjAucW1Ad2ViNTU5MDgubWFpbC5yZTMueWFob28uY29tPgkgPGQxMTYwMzg2MTAwMjI1MjIyNmo2NGI4ZDM0MmlmZmRkYTRlNmQ4NjgzMzkwQG1haWwuZ21haWwuY29tPgkgPGY4YjM5YWNlMTAwMjI1MjMzOXAzNmE5N2U4YnA2ZTRkMWYwYzc1NzcwOGM2QG1haWwuZ21haWwuY29tPgkgPGQxMTYwMzg2MTAwMjI1MjM1NWw1ZDI5YzNmOXkxNjMxNzhiOGE5MGNhOWNhQG1haWwuZ21haWwuY29tPgkgPGY4YjM5YWNlMTAwMjI2MDEwN2w2OTk3MzE2YXM2MjIzOWJkOWE1NGIwMTBAbWFpbC5nbWFpbC5jb20+CSA8ZDExNjAzODYxMDAyMjYwMTE1cDE1MDg2MmIzbDY4Y2EyNTFlODAxMDljMTBAbWFpbC5nbWFpbC5jb20+CSA8ZDExNjAzODYxMDAyMjYwMTMwczI5NTVjZWVmbTMwNzk4ODhiMjAwMjY3NzFAbWFpbC5nbWFpbC5jb20+"},"prevInTopic":14921,"nextInTopic":14923,"prevInTime":14921,"nextInTime":14923,"topicId":14904,"numMessagesInTopic":31,"msgSnippet":"other point: if two distinct application will have different machine states, then the state of the resources will be different, and they cannot share the same","rawEmail":"Return-Path: &lt;fgaucho@...&gt;\r\nX-Sender: fgaucho@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 81946 invoked from network); 26 Feb 2010 09:35:14 -0000\r\nX-Received: from unknown (66.196.94.106)\n  by m14.grp.re1.yahoo.com with QMQP; 26 Feb 2010 09:35:14 -0000\r\nX-Received: from unknown (HELO mail-pw0-f42.google.com) (209.85.160.42)\n  by mta2.grp.re1.yahoo.com with SMTP; 26 Feb 2010 09:35:13 -0000\r\nX-Received: by pwi10 with SMTP id 10so6636336pwi.29\n        for &lt;rest-discuss@yahoogroups.com&gt;; Fri, 26 Feb 2010 01:34:57 -0800 (PST)\r\nMIME-Version: 1.0\r\nX-Received: by 10.141.13.6 with SMTP id q6mr58603rvi.146.1267176897277; Fri, 26 \n\tFeb 2010 01:34:57 -0800 (PST)\r\nIn-Reply-To: &lt;d11603861002260130s2955ceefm3079888b20026771@...&gt;\r\nReferences: &lt;f8b39ace1002251137p539574b1gf0aef1e73329213@...&gt;\n\t &lt;55195.76060.qm@...&gt;\n\t &lt;d11603861002252226j64b8d342iffdda4e6d8683390@...&gt;\n\t &lt;f8b39ace1002252339p36a97e8bp6e4d1f0c757708c6@...&gt;\n\t &lt;d11603861002252355l5d29c3f9y163178b8a90ca9ca@...&gt;\n\t &lt;f8b39ace1002260107l6997316as62239bd9a54b010@...&gt;\n\t &lt;d11603861002260115p150862b3l68ca251e80109c10@...&gt;\n\t &lt;d11603861002260130s2955ceefm3079888b20026771@...&gt;\r\nDate: Fri, 26 Feb 2010 10:34:57 +0100\r\nMessage-ID: &lt;d11603861002260134i27c82464ld41b72b3f3a33b0e@...&gt;\r\nTo: craigmcc@...\r\nCc: Kevin Duffey &lt;andjarnic@...&gt;, REST Discuss &lt;rest-discuss@yahoogroups.com&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Transfer-Encoding: quoted-printable\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: =?ISO-8859-1?Q?Felipe_Ga=FAcho?= &lt;fgaucho@...&gt;\r\nSubject: Re: [rest-discuss] Differentiating HTTP-based APIs\r\nX-Yahoo-Group-Post: member; u=223135631; y=0PG3qk4ZvRGKNBXUF7aNAHAWDoippEe1J_K2xg21E3unrozpEHTP84f2ww\r\nX-Yahoo-Profile: felipegaucho2003\r\n\r\nother point:\n\nif two distinct application will have different machine state=\r\ns, then\nthe state of the resources will be different, and they cannot share=\r\n\nthe same database, right  ? because eventually the attributes of the\nresou=\r\nrces will be in different states, isn&#39;t it ?\n\nthe analogy with MVC and web =\r\napplication views doesn&#39;t apply here.. as\nfar I can see.........\n\n2010/2/26=\r\n Felipe Ga=FAcho &lt;fgaucho@...&gt;:\n&gt; just a question about your domain m=\r\nodel sharing:\n&gt;\n&gt; and what about the code ?\n&gt;\n&gt; If you code the whole engin=\r\ne logic in a code, and you need a second\n&gt; application to access the same d=\r\nata, you will need to recode the\n&gt; engine logic again ?\n&gt;\n&gt; ok, we all thin=\r\nk about &quot;reuse of components&quot;, but so far I&#39;ve seen\n&gt; ugly hack in the code=\r\n to simulate the hypermedia engine and that&#39;s\n&gt; what I am trying to do bett=\r\ner.. but your points are good.. I will\n&gt; digest them and try to incorporate=\r\n the best I can in my design\n&gt; here.....\n&gt;\n&gt; 2010/2/26 Felipe Ga=FAcho &lt;fga=\r\nucho@...&gt;:\n&gt;&gt; excellent points.. I will consider that...\n&gt;&gt;\n&gt;&gt; 2010/2=\r\n/26 Craig McClanahan &lt;craigmcc@...&gt;:\n&gt;&gt;&gt; 2010/2/25 Felipe Ga=FAcho &lt;f=\r\ngaucho@...&gt;:\n&gt;&gt;&gt;&gt;&gt; You&#39;re missing a key feature of what both Kevin an=\r\nd I said ... use\n&gt;&gt;&gt;&gt;&gt; *different* classes for the *resource* domain model =\r\nand the *business*\n&gt;&gt;&gt;&gt;&gt; domain model.\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; yes, I am aware about that=\r\n... but the effort to maintain the mapping\n&gt;&gt;&gt;&gt; between those models genera=\r\ntes an extra and unnecessary development\n&gt;&gt;&gt;&gt; effort ,.... I also noticed s=\r\nome people having a third model when the\n&gt;&gt;&gt;&gt; data will be rendered in the =\r\npresentation layer.. (a managedbean or\n&gt;&gt;&gt;&gt; other component..)... My experi=\r\nment is looking to reduce the amount of\n&gt;&gt;&gt;&gt; effort required to synchronize=\r\n all those models, having only one\n&gt;&gt;&gt;&gt; model.. and it works fine and the p=\r\nerformance is better and\n&gt;&gt;&gt;&gt; maintenance effort much less than the traditi=\r\nonal MVC design...\n&gt;&gt;&gt;\n&gt;&gt;&gt; In your business domain objects, do you store th=\r\ne CSS style class that\n&gt;&gt;&gt; should be used to display this object in a brows=\r\ner? =A0Of course not:\n&gt;&gt;&gt;\n&gt;&gt;&gt; * The *name* of the style class is totally up=\r\n to the designer.\n&gt;&gt;&gt;\n&gt;&gt;&gt; * Do *you* know any designers that care about bac=\r\nkwards compatibility\n&gt;&gt;&gt; of style names? =A0I don&#39;t either ...\n&gt;&gt;&gt; =A0but I=\r\n don&#39;t care, as long as the designer updates all the\n&gt;&gt;&gt; corresponding HTML=\r\n pages when the style name changes.\n&gt;&gt;&gt;\n&gt;&gt;&gt; * Style names can be changed at=\r\n any time (for example, when you refresh\n&gt;&gt;&gt; =A0the look and feel character=\r\nistics of your website).\n&gt;&gt;&gt;\n&gt;&gt;&gt; * And, of course, there is normally more t=\r\nhan one webapp\n&gt;&gt;&gt; =A0that needs to be able to render this business domain =\r\nobject,\n&gt;&gt;&gt; =A0so having only one style name would not be useful.\n&gt;&gt;&gt;\n&gt;&gt;&gt; T=\r\nhe same principles apply to designing resource representations -- we\n&gt;&gt;&gt; sh=\r\nould assume that there will be more than one representation that\n&gt;&gt;&gt; includ=\r\nes this particular object, and more than one RESTful application\n&gt;&gt;&gt; that n=\r\needs to provide access to it, so assuming any *single* approach\n&gt;&gt;&gt; is not =\r\nlikely to help all our users.\n&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;&gt; Then, each kind of class =\r\ncan have the annotations that are relevant for that tier.\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; Usually=\r\n the classes are identical and you are just including a copy\n&gt;&gt;&gt;&gt; layer to =\r\ntransfer data between them :)\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;&gt; Managing workflow, like obeying th=\r\ne hypermedia constraint, is a view tier concern (from the point of view of =\r\na server side developer).\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; May be, may be not.. in my case the mod=\r\nel contains the sate of the\n&gt;&gt;&gt;&gt; application, so it is a business concern :=\r\n)\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt; There is pretty much always more than one application needin=\r\ng your\n&gt;&gt;&gt; data, so it&#39;s more than one business concern :-). =A0Ideally, yo=\r\nu can\n&gt;&gt;&gt; share the business domain objects across these applications, but =\r\nthe\n&gt;&gt;&gt; reality is you&#39;ll need multiple RESTful resource representations th=\r\nat\n&gt;&gt;&gt; include data from these business domain objects, for the same reason=\r\n\n&gt;&gt;&gt; that you will need multiple HTML representations (even within the same=\r\n\n&gt;&gt;&gt; webapp, how many different pages include information from particular\n&gt;=\r\n&gt;&gt; domain objects?). =A0One size does not fit all.\n&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;&gt; That&#39;s a good =\r\nthing, because a REST API is typically not the only way that\n&gt;&gt;&gt;&gt;&gt; such bus=\r\niness model objects get manipulated.\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; yes, but the effort to manag=\r\ne the hypermedia just in time makes the\n&gt;&gt;&gt;&gt; whole application much slower.=\r\n. and it is a repettive task.. that is\n&gt;&gt;&gt;&gt; one of the reasons that motivat=\r\ned me to push the links in the\n&gt;&gt;&gt;&gt; database....\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;&gt; Self-test time:=\r\n=A0 are you storing URIs in your database?\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; yes. The sate of the a=\r\npplication is persistent :) and scales quite\n&gt;&gt;&gt;&gt; well since I don&#39;t need t=\r\no recalculate the sate on every request..\n&gt;&gt;&gt;&gt; (ok, memcache can help a bit=\r\n, but anyway... the hypermedia engine it\n&gt;&gt;&gt;&gt; is the heavy part of the requ=\r\nest - eliminating that I have much faster\n&gt;&gt;&gt;&gt; services)\n&gt;&gt;&gt;\n&gt;&gt;&gt; Scale for =\r\none application is nice (although I&#39;m waiting for your\n&gt;&gt;&gt; benchmarks to sh=\r\now that the overhead of calculating URIs dynamically\n&gt;&gt;&gt; is crushing, given=\r\n how cheap CPU time is versus other server side\n&gt;&gt;&gt; resources). =A0How abou=\r\nt scale for multiple applications?\n&gt;&gt;&gt;\n&gt;&gt;&gt; Oh, you only have one? =A0Good f=\r\nor you! =A0But that&#39;s not a particularly\n&gt;&gt;&gt; common problem domain.\n&gt;&gt;&gt;\n&gt;&gt;&gt;=\r\n&gt;\n&gt;&gt;&gt;&gt;&gt; a JAX-RS based server application, that &quot;care&quot; is expressed by @Pat=\r\nh\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; I am experimenting with that idea.. in order to use regular\n&gt;&gt;&gt;=\r\n&gt; expressions or other DSL facilty to manipulate the final URI\n&gt;&gt;&gt;&gt; dinamic=\r\nally.. perhaps storing just the tail of the URI in the databse\n&gt;&gt;&gt;&gt; or othe=\r\nr format of information that lead me a chance to produce the\n&gt;&gt;&gt;&gt; external =\r\nrepresentation by demand.. this part is my current\n&gt;&gt;&gt;&gt; research...... (I p=\r\nrefer the &quot;experimentation&quot; word since I am not a\n&gt;&gt;&gt;&gt; formal researcher..)=\r\n\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt; Please think about the idea that the same business domain res=\r\nources\n&gt;&gt;&gt; may need to be exposed by different applications, using differen=\r\nt\n&gt;&gt;&gt; resource representations, and different URI schemes, all at the same\n=\r\n&gt;&gt;&gt; time. =A0Or, even within the same application, exposed in different\n&gt;&gt;&gt;=\r\n pages (web app) or resources (RESTful web service) at the same time.\n&gt;&gt;&gt;\n&gt;=\r\n&gt;&gt; Personal history lesson -- when I was first learning web development\n&gt;&gt;&gt;=\r\n (mid-late 1990s), I figured &quot;why not have a toHTML() method on all my\n&gt;&gt;&gt; =\r\nJava business domain model classes&quot;? =A0It quickly became clear that\n&gt;&gt;&gt; di=\r\nfferent pages within the same app, as well as different apps, needed\n&gt;&gt;&gt; di=\r\nfferent HTML representations of the same business objects. =A0Indeed,\n&gt;&gt;&gt; t=\r\nhis realization was one of the motivating factors that led to the\n&gt;&gt;&gt; creat=\r\nion of Struts.\n&gt;&gt;&gt;\n&gt;&gt;&gt; The same is true for RESTful resource representation=\r\ns. =A0There will be\n&gt;&gt;&gt; more than one representation that requires informat=\r\nion from a\n&gt;&gt;&gt; particular business domain model object, as well as more tha=\r\nn one\n&gt;&gt;&gt; application (each with their own resource and representation\n&gt;&gt;&gt; =\r\nrequirements).\n&gt;&gt;&gt;\n&gt;&gt;&gt; In MVC terms: =A0Model classes !=3D View classes.\n&gt;&gt;=\r\n&gt;\n&gt;&gt;&gt;&gt;&gt; @Path annotations -- to change the URIs included in your representa=\r\ntions.\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; yes, but you need to iterate over the collections and chan=\r\nge manually\n&gt;&gt;&gt;&gt; each URI, what can lead you to manipulate thousand of stri=\r\nngs before\n&gt;&gt;&gt;&gt; to respond to the client.. this part scares me... (think ab=\r\nout a\n&gt;&gt;&gt;&gt; collection with 100 elements, each with 20 URIs)\n&gt;&gt;&gt;\n&gt;&gt;&gt; For amu=\r\nsement, you should go grab a raw Atom or RSS feed =A0from a busy\n&gt;&gt;&gt; feed s=\r\nource (I use Google Reader for my feed aggregator, but the same\n&gt;&gt;&gt; princip=\r\nle applies to anyone who provides feeds) and see how many URIs\n&gt;&gt;&gt; are incl=\r\nuded. =A0 And, funny thing, none of the apps that *created* that\n&gt;&gt;&gt; conten=\r\nt had any idea that *I* would be aggregating their feeds, via\n&gt;&gt;&gt; Google Re=\r\nader, for my own use.\n&gt;&gt;&gt;\n&gt;&gt;&gt; URIs in RESTful web services are a view tier =\r\nconcern, just like CSS style names.\n&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;&gt; In the shopping cart use=\r\n case (no, I don&#39;t care if some people don&#39;t like it\n&gt;&gt;&gt;&gt;&gt; as an example :-=\r\n), a well designed REST API should *not* define a URI\n&gt;&gt;&gt;&gt;&gt; template like &quot;=\r\n/checkout&quot; that accepts a POST with a shopping cartURI\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; That is a =\r\nbasic REST principle .. and it is not related to the way you\n&gt;&gt;&gt;&gt; store or =\r\ncalculate the URIs...\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt; Unfortunately, *lots* of theoretically &quot;=\r\nRESTful API&quot; specifications\n&gt;&gt;&gt; include instructions on how to calculate th=\r\ne URI for a particular\n&gt;&gt;&gt; operation (versus telling the client &quot;get the UR=\r\nI you need from the\n&gt;&gt;&gt; current representation of the resource.). =A0And I&#39;=\r\nm as guilty as anyone\n&gt;&gt;&gt; else at violating the hypermedia constraint this =\r\nway, in my earlier\n&gt;&gt;&gt; work. =A0But, my point in this particular scenario w=\r\nas, assuming that\n&gt;&gt;&gt; there was a single URI for &quot;checkout&quot;, for *all* shop=\r\nping carts, is\n&gt;&gt;&gt; technically feasible, but not a good idea.\n&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;&gt; con=\r\ncerned, the URI itself is an opaque string.\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; yes......\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; t=\r\nhanks for your feedback... interesting.. I will keep thinking about\n&gt;&gt;&gt;&gt; yo=\r\nur thoughts....\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; =A0Felipe Ga=FAcho\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt; Craig\n&gt;&gt;&gt;\n&gt;&gt;=\r\n\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; --\n&gt;&gt; ------------------------------------------\n&gt;&gt; =A0 Felipe Ga=\r\n=FAcho\n&gt;&gt; =A0 10+ Java Programmer\n&gt;&gt; =A0 CEJUG Senior Advisor\n&gt;&gt;\n&gt;\n&gt;\n&gt;\n&gt; --=\r\n\n&gt; ------------------------------------------\n&gt; =A0 Felipe Ga=FAcho\n&gt; =A0 1=\r\n0+ Java Programmer\n&gt; =A0 CEJUG Senior Advisor\n&gt;\n\n\n\n-- \n--------------------=\r\n----------------------\n   Felipe Ga=FAcho\n   10+ Java Programmer\n   CEJUG S=\r\nenior Advisor\n\n"}}
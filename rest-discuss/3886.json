{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":119562537,"authorName":"Josh Sled","from":"Josh Sled &lt;jsled-yahoogroup@...&gt;","profile":"joshsled","replyTo":"SENDER","senderId":"ctuqGZzJmABQTtEB3_BcBnUhm4a_41_WOqyua14PXR7sOSz6iXqOYa_9iKESKKskbbs5ukxkdTMu8Uo7xZ9oj76sVoZ2M-vo-kjxcpy906uFRSlY","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [rest-discuss] Handling big resources","postDate":"1060550256","msgId":3886,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDIwMDMwODEwMjExNzM2LkdBMjg1NEBwaG9lbml4LmFzeW5jaHJvbm91cy5vcmc+"},"prevInTopic":3632,"nextInTopic":3893,"prevInTime":3885,"nextInTime":3887,"topicId":3632,"numMessagesInTopic":3,"msgSnippet":"On Mon, Apr 28, 2003 at 02:56:39PM +0200, Mailinglisten wrote: I m suprised nobody responded to this ... there are some serious application perf. issue that","rawEmail":"Return-Path: &lt;jsled@...&gt;\r\nReceived: (qmail 32101 invoked from network); 11 Aug 2003 13:58:11 -0000\r\nReceived: from unknown (66.218.66.217)\n  by m2.grp.scd.yahoo.com with QMQP; 11 Aug 2003 13:58:11 -0000\r\nReceived: from unknown (HELO n9.grp.scd.yahoo.com) (66.218.66.93)\n  by mta2.grp.scd.yahoo.com with SMTP; 11 Aug 2003 13:58:09 -0000\r\nX-eGroups-Return: jsled@...\r\nReceived: from [66.218.66.141] by n9.grp.scd.yahoo.com with NNFMP; 11 Aug 2003 13:58:04 -0000\r\nX-Sender: jsled@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nReceived: (qmail 13449 invoked from network); 10 Aug 2003 21:35:19 -0000\r\nReceived: from unknown (66.218.66.218)\n  by m20.grp.scd.yahoo.com with QMQP; 10 Aug 2003 21:35:19 -0000\r\nReceived: from unknown (HELO phoenix.asynchronous.org) (66.159.222.56)\n  by mta3.grp.scd.yahoo.com with SMTP; 10 Aug 2003 21:35:18 -0000\r\nReceived: (qmail 2862 invoked by uid 1000); 10 Aug 2003 21:17:36 -0000\r\nDate: Sun, 10 Aug 2003 14:17:36 -0700\r\nTo: Mailinglisten &lt;tbayerml@...&gt;\r\nCc: rest-discuss@yahoogroups.com\r\nSubject: Re: [rest-discuss] Handling big resources\r\nMessage-ID: &lt;20030810211736.GA2854@...&gt;\r\nMime-Version: 1.0\r\nContent-Type: text/plain; charset=us-ascii\r\nContent-Disposition: inline\r\nUser-Agent: Mutt/1.3.25i\r\nX-Unexpected-Header: Nobody expects the Unexpected Header!\r\nOrganization: asynchronous.org\r\nFrom: Josh Sled &lt;jsled-yahoogroup@...&gt;\r\nX-Yahoo-Group-Post: member; u=119562537\r\nX-Yahoo-Profile: joshsled\r\nX-eGroups-Approved-By: gonga_thrash &lt;distobj@...&gt; via web; 11 Aug 2003 13:58:03 -0000\r\n\r\nOn Mon, Apr 28, 2003 at 02:56:39PM +0200, Mailinglisten wrote:\n\nI&#39;m suprised nobody responded to this ... there are some serious application\nperf. issue that can come up once one start using REST that need to be\naccounted for.\n\n| I&#39;ve a REST interface for relational databases. A GET message to (table)\n| resource produces the following list:\n| \n| &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n| &lt;resources xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot;&gt;\n|     &lt;resource\n| xlink:href=&quot;http://127.0.0.1:8080/sqlrest/CUSTOMER/0/&quot;&gt;0&lt;/resource&gt;\n|     &lt;resource\n| xlink:href=&quot;http://127.0.0.1:8080/sqlrest/CUSTOMER/1/&quot;&gt;1&lt;/resource&gt;\n|     &lt;resource\n| xlink:href=&quot;http://127.0.0.1:8080/sqlrest/CUSTOMER/2/&quot;&gt;2&lt;/resource&gt;\n|     &lt;resource\n| xlink:href=&quot;http://127.0.0.1:8080/sqlrest/CUSTOMER/3/&quot;&gt;3&lt;/resource&gt;\n|     ...\n|     &lt;resource\n| xlink:href=&quot;http://127.0.0.1:8080/sqlrest/CUSTOMER/600000/&quot;&gt;600000&lt;/resource\n| &gt;\n| &lt;/resource&gt;\n| \n| The list is to big to send it in one chunk. It would be better to breakt it\n| in smaller pieces.\n\n| Questions:\n| \n| 1.) Can the server send the response with a 206 Partial Content SC, even the\n| client hasn&#39;t requested a range?\n\nIt doesn&#39;t seem like the server should attempt to interpret the client\nresponse this way, unless that&#39;s the contract the server has.  In any case,\nit seems like 206 is inappropriate for this.\n\n| 2.) That is the RESTian way for the server, to give the client a hint where\n| or how he can request the next chunk?\n|     a.) A reference in the XML Content like &lt;resources\n| xlink:href=&quot;http://...\n|     b.) A Location Header field with the URL of the next Chunk\n|     c.) A Content-Range header field in the form:\n| \n|         Content-Range: resources start-end / total\n| \n|     d.) Both? A link in the XML Content and information in the header?\n\nContent-Range isn&#39;t right.  Location headers have a different purpose.\n(a) seems more like the right thing....\n\nWe&#39;ve done this by exposing the ranging by paramaterizing the URI, and\nincluding details of the full response-space in the response itself.\n\nGET /sqlrest/customer?count=0&offset=0\n&lt;resources size=&quot;60000&quot; /&gt;\n\nGET /sqlrest/customer?count=5&offset=0\n&lt;resources size=&quot;60000&quot;&gt;\n  &lt;resource href=&quot;/sqlrest/customer/0&quot;&gt;0&lt;/resource&gt;\n  &lt;!-- ... --&gt;\n  &lt;resource href=&quot;/sqlrest/customer/5&quot;&gt;5&lt;/resource&gt;\n  &lt;!-- See NOTE1 --&gt;\n&lt;/resources&gt;\n\nNOTE1:\n\nOn the theory that we&#39;re transfering hypertext media around, it seems\nlike something else could come back here... some description of how to\nget the rest of the content.... maybe something like...\n\n&lt;resources href=&quot;/sqlrest/customer&quot;&gt;\n  &lt;param name=&quot;count&quot; val=&quot;5&quot; /&gt;\n  &lt;param name=&quot;offset&quot; val=&quot;5&quot; /&gt;\n&lt;/resources&gt;\n\nWe&#39;ve though about this a bit in our project, but we&#39;ve just decided to\npunt and make it an implicit part of the particular resource-space being\ngotten ...\n\n\n| 3.) Only the type &quot;bytes&quot; are mentioned in the HTTP specification. Can I use\n| a own type like resources or are there any proposals for REST?\n\nNo ... HTTP is dealing with something else WRT content-range and byte-ranges,\nnot application-level content chunking.\n\n| 4.) Are there a more REST like approach?\n\nI think what I outlined above is, but I&#39;d like to hear other options.\n\n\nAnother related issue we&#39;ve run into is the reference vs. &quot;expanded&quot;\nsub-resource.  Some container resources have many sub-elements, and the\napplication wants to get a particular sub-range.\n\nGET /container\n&lt;container&gt;\n  &lt;elt href=&quot;/container/1&quot; /&gt;\n  &lt;elt href=&quot;/container/2&quot; /&gt;\n  &lt;!-- ... --&gt;\n  &lt;elt href=&quot;/container/127000&quot; /&gt;\n&lt;/container&gt;\n\nSince the application is only going to turn around and ask for expanded\nversions for some window it&#39;s currently processing, we&#39;ve taken to\nexpanding a sub-range:\n\nGET /container?expand=true&count=2&offset=0\n&lt;container&gt;\n  &lt;elt href=&quot;/container/1&quot;&gt;\n    &lt;!-- elt data populated --&gt;\n  &lt;/elt&gt;\n  &lt;elt href=&quot;/container/2&quot;&gt;\n    &lt;!-- elt data populated --&gt;\n  &lt;/elt&gt;\n  &lt;elt href=&quot;/container/3&quot;/&gt;\n  &lt;elt href=&quot;/container/4&quot;/&gt;\n  &lt;!-- ... --&gt;\n  &lt;elt href=&quot;/container/127000&quot; /&gt;\n&lt;/container&gt;\n\n\nIt turns out that xfering the rest of those elt-references is quite\nprohibitive, especially over the WAN.  Especially since they&#39;re just\nbeing ignored by the client, anyways.  I&#39;d encourage you not to make\nthe same mistake.  Oh, and _always_ return something useful enough for\nthe caller ...\n\n....jsled\n\n-- \nhttp://www.asynchronous.org - `a=jsled; b=asynchronous.org; echo ${a}@${b}`\n\n\n"}}
{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":69164307,"authorName":"mike amundsen","from":"mike amundsen &lt;mamund@...&gt;","profile":"mamund","replyTo":"SENDER","senderId":"8bhEdyKSCSSZtkyLRHWhND7yWnFOPRffYuOyFe3lg8tiO_-2Og2gaGZ4sFAOb2PqY0G1Mknpot3_4SCZQKwIR76S8wiLwpA","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [rest-discuss] Should GET be used if request has unintended side effects","postDate":"1305658389","msgId":17533,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PEJBTkxrVGluVllOTEJ6TkNGQTFLTDZVZ2JQS1NHR1ZOMjhnQG1haWwuZ21haWwuY29tPg==","inReplyToHeader":"PDRERDJDMThDLjkwMzAwMDFAZ21haWwuY29tPg==","referencesHeader":"PDRERDE2ODU1LjgwNzA5MDRAZ21haWwuY29tPgk8NjBFNzIwRDctOUYxNy00NzcxLThDNTQtMkQ0NkM4NjQyM0QzQGFzdHJvLmdsYS5hYy51az4JPDRERDJCRTg0LjkwMjA4MDhAZ21haWwuY29tPgk8QkFOTGtUaWtKK2dCbi1oYjZ0UjAzdStSN1ZvPWN4REFheXdAbWFpbC5nbWFpbC5jb20+CTw0REQyQzE4Qy45MDMwMDAxQGdtYWlsLmNvbT4="},"prevInTopic":17532,"nextInTopic":17534,"prevInTime":17532,"nextInTime":17534,"topicId":17527,"numMessagesInTopic":11,"msgSnippet":"Aakash: I m not clear on what you are asking here. The only point I was making was to give you a mental exercise for making your own decision on what you","rawEmail":"Return-Path: &lt;mca@...&gt;\r\nX-Sender: mca@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 9542 invoked from network); 17 May 2011 18:53:10 -0000\r\nX-Received: from unknown (66.196.94.105)\n  by m14.grp.re1.yahoo.com with QMQP; 17 May 2011 18:53:10 -0000\r\nX-Received: from unknown (HELO mail-fx0-f54.google.com) (209.85.161.54)\n  by mta1.grp.re1.yahoo.com with SMTP; 17 May 2011 18:53:10 -0000\r\nX-Received: by fxm11 with SMTP id 11so1221029fxm.27\n        for &lt;rest-discuss@yahoogroups.com&gt;; Tue, 17 May 2011 11:53:09 -0700 (PDT)\r\nMIME-Version: 1.0\r\nX-Received: by 10.223.72.202 with SMTP id n10mr1223425faj.88.1305658389442; Tue,\n 17 May 2011 11:53:09 -0700 (PDT)\r\nX-Received: by 10.223.109.69 with HTTP; Tue, 17 May 2011 11:53:09 -0700 (PDT)\r\nIn-Reply-To: &lt;4DD2C18C.9030001@...&gt;\r\nReferences: &lt;4DD16855.8070904@...&gt;\n\t&lt;60E720D7-9F17-4771-8C54-2D46C86423D3@...&gt;\n\t&lt;4DD2BE84.9020808@...&gt;\n\t&lt;BANLkTikJ+gBn-hb6tR03u+R7Vo=cxDAayw@...&gt;\n\t&lt;4DD2C18C.9030001@...&gt;\r\nDate: Tue, 17 May 2011 14:53:09 -0400\r\nX-Google-Sender-Auth: oZBa5aZiTt8t79J9PcO7Gqn7iOA\r\nMessage-ID: &lt;BANLkTinVYNLBzNCFA1KL6UgbPKSGGVN28g@...&gt;\r\nTo: aakash dharmadhikari &lt;aakashd@...&gt;\r\nCc: Norman Gray &lt;norman@...&gt;, rest-discuss@yahoogroups.com\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Transfer-Encoding: quoted-printable\r\nFrom: mike amundsen &lt;mamund@...&gt;\r\nSubject: Re: [rest-discuss] Should GET be used if request has unintended side effects\r\nX-Yahoo-Group-Post: member; u=69164307; y=nonVjEoS8sa8yvJ58zFeuKNq7dq1ZtthPQId_9hzATb2\r\nX-Yahoo-Profile: mamund\r\n\r\nAakash:\n\nI&#39;m not clear on what you are asking here.\n\nThe only point I was m=\r\naking was to give you a &quot;mental exercise&quot; for\nmaking your own decision on w=\r\nhat you want your implementation to do. I\nthink you can use the example I g=\r\nave to view your implementation from\nboth the &quot;user&quot; and &quot;server implemento=\r\nr&quot; point of view. That, I think\nis the approach you should take.\n\nAs for yo=\r\nur example here, I can&#39;t really comment on what is &quot;scary&quot; or\n&quot;expected&quot; fr=\r\nom the users of your implementation. I suspect we all\nhave our own opinions=\r\n of your description, but I doubt many of us have\na proper &quot;context&quot; with w=\r\nhich to provide you helpful advice on this\nparticular example.\n\nFrom the tr=\r\nansfer protocol point of view, users are not &quot;responsible&quot;\nfor any side eff=\r\nects occurring from a GET as the protocol clearly\nstates that GET should be=\r\n treated as safe and idempotent. How you\nchoose to implement your server is=\r\n up to you. As long as it honors\nthis small set of semantic expectations, y=\r\nou&#39;ll have met your\nresponsibilities as a server implementer.\n\nIf it turns =\r\nout most of your users are unhappy with the side effects\nof using GET on a =\r\nparticular page, they may come to decide your\nimplementation is undesirable=\r\n. But those users&#39; opinions of your work\nwill not be due to any prose they =\r\nfind in RFC2616&lt;g&gt;.\n\nmca\nhttp://amundsen.com/blog/\nhttp://twitter.com@mamun=\r\nd\nhttp://mamund.com/foaf.rdf#me\n\n\n#RESTFest 2010\nhttp://rest-fest.googlecod=\r\ne.com\n\n\n\n\nOn Tue, May 17, 2011 at 14:42, aakash dharmadhikari &lt;aakashd@gmai=\r\nl.com&gt; wrote:\n&gt; Just twisting the scenario a little bit.\n&gt;\n&gt; As a user I ma=\r\nke a search request, which results in vendors knowing what I\n&gt; am intereste=\r\nd in & they respond with quotes for the same. I see those quotes\n&gt; on my sc=\r\nreen as a small window, which updates itself every 15 seconds & I\n&gt; can dec=\r\nide which vendor I want to talk to.\n&gt;\n&gt; I hope this sounds less scary that =\r\nall vendors getting my email address. But\n&gt; coming back to the point, is an=\r\ny side effect is GET request?\n&gt;\n&gt; What about a scenario, where system learn=\r\ns from my interactions with the\n&gt; application & because of which it changes=\r\n its response to suite my needs. So\n&gt; any two consecutive requests, though =\r\nidentical, won&#39;t be idempotent. Should\n&gt; such request be GET or POST or PUT=\r\n?\n&gt;\n&gt; Regards,\n&gt; Aakash Dharmadhikari\n&gt;\n&gt;\n&gt; On 18/05/11 12:04 AM, mike amun=\r\ndsen wrote:\n&gt;&gt;\n&gt;&gt; FWIW, a good &quot;rule of thumb&quot; for determining if GET is an=\r\n appropriate\n&gt;&gt; method is to imagine the results of a search bot (e.g. goog=\r\nle, yahoo,\n&gt;&gt; bing, etc.) making a request to that link.\n&gt;&gt;\n&gt;&gt; for example,=\r\n a list of links on a page that look like this:\n&gt;&gt; GET /my-profile/?action=\r\n=3Dsend-my-email-address-to-everyone\n&gt;&gt; is something I would *not* want to =\r\nallow the google-bot to execute\n&gt;&gt;\n&gt;&gt; This is true even if the link looked =\r\nlike this:\n&gt;&gt; GET /my-profile/\n&gt;&gt; and the backend process resulted in sendi=\r\nng my email address to everyone.\n&gt;&gt;\n&gt;&gt; mca\n&gt;&gt; http://amundsen.com/blog/\n&gt;&gt; =\r\nhttp://twitter.com@mamund\n&gt;&gt; http://mamund.com/foaf.rdf#me\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; #RESTFe=\r\nst 2010\n&gt;&gt; http://rest-fest.googlecode.com\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; On Tue, May 17, 2=\r\n011 at 14:29, aakash dharmadhikari&lt;aakashd@...&gt;\n&gt;&gt; =A0wrote:\n&gt;&gt;&gt;\n&gt;&gt;&gt; =\r\nPoint taken Norman. The confusion about the GET& =A0POST was caused\n&gt;&gt;&gt; bec=\r\nause of the RFC itself.\n&gt;&gt;&gt;\n&gt;&gt;&gt; Broaching a bigger problem, I see that HTTP=\r\n verbs give more importance\n&gt;&gt;&gt; to the users intentions& =A0REST talks cont=\r\ninuously about server state.\n&gt;&gt;&gt; But when I use HTTP as a carrier for REST =\r\nrequests, I see these\n&gt;&gt;&gt; conflicts all the time.\n&gt;&gt;&gt;\n&gt;&gt;&gt; Is there a rule o=\r\nf thumb, as to REST always overrides HTTP or the other\n&gt;&gt;&gt; way around?\n&gt;&gt;&gt;\n=\r\n&gt;&gt;&gt; About the business scene, user is aware of the sites functioning&\n&gt;&gt;&gt; v=\r\nendor contacting him is a desired& =A0explicitly communicated effect of\n&gt;&gt;&gt;=\r\n the search.\n&gt;&gt;&gt;\n&gt;&gt;&gt; Regards,\n&gt;&gt;&gt; Aakash Dharmadhikari\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt; On 17/05=\r\n/11 7:16 PM, Norman Gray wrote:\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; Aakash, hello.\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; On 2011 =\r\nMay 16, at 20:09, aakash dharmadhikari wrote:\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;&gt; =A0 =A0 =A0 =A0 =\r\n=A01. GET or POST\n&gt;&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;&gt; User searches for vendors (plumbers) in a giv=\r\nen area& =A0 =A0sees list of\n&gt;&gt;&gt;&gt;&gt; vendors on page. As a requirement, vendo=\r\nrs get notified that a user has\n&gt;&gt;&gt;&gt;&gt; found him for the search term, so tha=\r\nt he can contact the customer.\n&gt;&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;&gt; The intention of the API user wi=\r\nll be to get vendors, so it seems to be\n&gt;&gt;&gt;&gt;&gt; a pure GET contender; but the=\r\n unintended side effect is creation of these\n&gt;&gt;&gt;&gt;&gt; notifications. As per th=\r\ne specification, HTTP verb should indicate the\n&gt;&gt;&gt;&gt;&gt; intent of the user, bu=\r\nt in this case there is a pure object creation. What\n&gt;&gt;&gt;&gt;&gt; should we use, P=\r\nOST or GET?\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; That sounds like you should GET.\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; RFC 2616 s=\r\nection 9.1.1 says of &#39;idempotent&#39; methods such as GET:\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;&gt; The impor=\r\ntant\n&gt;&gt;&gt;&gt;&gt; =A0 =A0 distinction here is that the user did not request the si=\r\nde-effects,\n&gt;&gt;&gt;&gt;&gt; =A0 =A0 so therefore cannot be held accountable for them.=\r\n\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; In other words, if your service has server-side side-effects, th=\r\ne HTTP\n&gt;&gt;&gt;&gt; spec says that&#39;s your problem, not the user&#39;s.\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; Just b=\r\ny the way, if I as a customer were contacted by a merchant when\n&gt;&gt;&gt;&gt; all I&#39;=\r\nd done was look at their address, I think I&#39;d react poorly. =A0At\n&gt;&gt;&gt;&gt; leng=\r\nth, and with gestures. =A0But I presume you know your users.\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; Best=\r\n wishes,\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; Norman\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt; -------------------------------=\r\n-----\n&gt;&gt;&gt;\n&gt;&gt;&gt; Yahoo! Groups Links\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;\n\n"}}
{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":145532415,"authorName":"Stefan Tilkov","from":"Stefan Tilkov &lt;stefan.tilkov@...&gt;","profile":"stilkov","replyTo":"SENDER","senderId":"ZHJB4SmHEZ2Y34lAZrD1lX4f64LT7LKeq-ck5DSPEnMRqSni1PVPM2Z6vWGm-uK9I6P07LdGFElOf-FnZx2ml2hvBZ5RI11V_O0Hpw9B","spamInfo":{"isSpam":false,"reason":"3"},"subject":"Re: [rest-discuss] RESTful web service with some custom operations","postDate":"1231768330","msgId":11983,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDgyODQ0NkNDLUJCMzQtNEIxNS1CMjQzLUFBQkM3NTc2MTY2QUBpbm5vcS5jb20+","inReplyToHeader":"PGRlNDdjMDIzMDkwMTEyMDMwMXcxZjk1MmEzM3VhOWZiMWY1MDIxZDJkMzhkQG1haWwuZ21haWwuY29tPg==","referencesHeader":"PGRlNDdjMDIzMDkwMTEyMDMwMXcxZjk1MmEzM3VhOWZiMWY1MDIxZDJkMzhkQG1haWwuZ21haWwuY29tPg=="},"prevInTopic":11982,"nextInTopic":11984,"prevInTime":11982,"nextInTime":11984,"topicId":11980,"numMessagesInTopic":19,"msgSnippet":"... You can GET the user list from /node/old and POST it to /node/new. The implementation of the node resource would remove the users from their current node","rawEmail":"Return-Path: &lt;stefan.tilkov@...&gt;\r\nX-Sender: stefan.tilkov@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 70718 invoked from network); 12 Jan 2009 13:52:12 -0000\r\nX-Received: from unknown (66.218.67.97)\n  by m44.grp.scd.yahoo.com with QMQP; 12 Jan 2009 13:52:12 -0000\r\nX-Received: from unknown (HELO mail.innoq.com) (87.106.55.185)\n  by mta18.grp.scd.yahoo.com with SMTP; 12 Jan 2009 13:52:12 -0000\r\nX-Received: from [10.100.1.56] (port-87-234-35-142.static.qsc.de [87.234.35.142])\n\t(using TLSv1 with cipher AES128-SHA (128/128 bits))\n\t(No client certificate requested)\n\tby mail.innoq.com (Postfix) with ESMTP id 5904F30A8E6\n\tfor &lt;rest-discuss@yahoogroups.com&gt;; Mon, 12 Jan 2009 14:52:11 +0100 (CET)\r\nMessage-Id: &lt;828446CC-BB34-4B15-B243-AABC7576166A@...&gt;\r\nTo: REST-Discuss Discussion Group &lt;rest-discuss@yahoogroups.com&gt;\r\nIn-Reply-To: &lt;de47c0230901120301w1f952a33ua9fb1f5021d2d38d@...&gt;\r\nContent-Type: multipart/alternative; boundary=Apple-Mail-7-58060366\r\nMime-Version: 1.0 (Apple Message framework v930.3)\r\nDate: Mon, 12 Jan 2009 14:52:10 +0100\r\nReferences: &lt;de47c0230901120301w1f952a33ua9fb1f5021d2d38d@...&gt;\r\nX-Mailer: Apple Mail (2.930.3)\r\nX-eGroups-Msg-Info: 2:3:4:0:0\r\nFrom: Stefan Tilkov &lt;stefan.tilkov@...&gt;\r\nSubject: Re: [rest-discuss] RESTful web service with some custom operations\r\nX-Yahoo-Group-Post: member; u=145532415; y=FVEJ2A2BbcrQ--qWKSzzaLgwYi_ANZ3KRNKHgOcvGpcPAQ\r\nX-Yahoo-Profile: stilkov\r\n\r\n\r\n--Apple-Mail-7-58060366\r\nContent-Type: text/plain;\n\tcharset=US-ASCII;\n\tformat=flowed;\n\tdelsp=yes\r\nContent-Transfer-Encoding: 7bit\r\n\r\nOn 12.01.2009, at 12:01, Gabor Szokoli wrote:\n\n&gt; Before deleting a &quot;node&quot; however, the normal usage pattern would be\n&gt; migrating all its &quot;users&quot; to another &quot;node&quot;.\n&gt; I am having trouble adding this single &quot;RPC-ish&quot; operation to our\n&gt; otherwise RESTful service efficiently.\n&gt; The clean solution would be the client listing, and migrating all\n&gt; &quot;users&quot; of the &quot;node&quot;.\n&gt; This is however neither efficient, nor atomic.\n\nYou can GET the user list from /node/old and POST it to /node/new.\nThe implementation of the node resource would remove the users from  \ntheir current node and add them to itself. Assuming all users and  \nnodes are kept in the same data store, it can do so atomically.\nThe next GET to /node/old will return an empty list. The next GET to / \nnode/new will return both the previously existing as well as the  \nmigrated users.\n\nIf the old and new nodes are kept in different systems, you need to  \nfind a different solution, e.g. by marking the users as &quot;in migration&quot;  \nin the old node before actually migrating them.\n\nStefan\n--\nStefan Tilkov, http://www.innoq.com/blog/st/\r\n--Apple-Mail-7-58060366\r\nContent-Type: text/html;\n\tcharset=US-ASCII\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\n&lt;html&gt;&lt;body style=3D&quot;word-wrap: break-word; -webkit-nbsp-mode: space; -webk=\r\nit-line-break: after-white-space; &quot;&gt;&lt;div&gt;&lt;div&gt;On 12.01.2009, at 12:01, Gabo=\r\nr Szokoli wrote:&lt;/div&gt;&lt;br class=3D&quot;Apple-interchange-newline&quot;&gt;&lt;blockquote t=\r\nype=3D&quot;cite&quot;&gt;&lt;span class=3D&quot;Apple-style-span&quot; style=3D&quot;border-collapse: sep=\r\narate; color: rgb(0, 0, 0); font-family: Georgia; font-size: 13px; font-sty=\r\nle: normal; font-variant: normal; font-weight: normal; letter-spacing: norm=\r\nal; line-height: 15px; orphans: 2; text-align: auto; text-indent: 0px; text=\r\n-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webki=\r\nt-border-horizontal-spacing: 0px; -webkit-border-vertical-spacing: 0px; -we=\r\nbkit-text-decorations-in-effect: none; -webkit-text-size-adjust: auto; -web=\r\nkit-text-stroke-width: 0; &quot;&gt;Before deleting a &quot;node&quot; however, the normal us=\r\nage pattern would be&lt;br style=3D&quot;line-height: 1.22em; &quot;&gt;migrating all its &quot;=\r\nusers&quot; to another &quot;node&quot;.&lt;br style=3D&quot;line-height: 1.22em; &quot;&gt;I am having tr=\r\nouble adding this single &quot;RPC-ish&quot; operation to our&lt;br style=3D&quot;line-height=\r\n: 1.22em; &quot;&gt;otherwise RESTful service efficiently.&lt;br style=3D&quot;line-height:=\r\n 1.22em; &quot;&gt;The clean solution would be the client listing, and migrating al=\r\nl&lt;br style=3D&quot;line-height: 1.22em; &quot;&gt;&quot;users&quot; of the &quot;node&quot;.&lt;br style=3D&quot;lin=\r\ne-height: 1.22em; &quot;&gt;This is however neither efficient, nor atomic.&lt;br style=\r\n=3D&quot;line-height: 1.22em; &quot;&gt;&lt;/span&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;div&gt;You can GET t=\r\nhe user list from /node/old and POST it to /node/new.&lt;/div&gt;&lt;div&gt;The impleme=\r\nntation of the node resource would remove the users from their current node=\r\n and add them to itself. Assuming all users and nodes are kept in the same =\r\ndata store, it can do so atomically.&lt;/div&gt;&lt;div&gt;The next GET to /node/old wi=\r\nll return an empty list.&nbsp;The next GET to /node/new will return both th=\r\ne previously existing as well as the migrated users.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;d=\r\niv&gt;If the old and new nodes are kept in different systems, you need to find=\r\n a different solution, e.g. by marking the users as &quot;in migration&quot; in the o=\r\nld node before actually migrating them.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Stefan&lt;/di=\r\nv&gt;&lt;div&gt;&lt;div&gt;--&lt;/div&gt;&lt;div&gt;Stefan Tilkov, &lt;a href=3D&quot;http://www.innoq.com/blo=\r\ng/st/&quot;&gt;http://www.innoq.com/blog/st/&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;\r\n--Apple-Mail-7-58060366--\r\n\n"}}
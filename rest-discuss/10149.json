{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":69164307,"authorName":"mike amundsen","from":"&quot;mike amundsen&quot; &lt;mamund@...&gt;","profile":"mamund","replyTo":"SENDER","senderId":"bR9BJihLBdVX0lMKnUC6Y9kx8DstTu1TbS65nv8wLJsjrCa3XSj9F7wJpEh4e0HPov6azbaPa2aS1TLDD-EnpLNC-NEOiOMXGg","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [rest-discuss] supporting multiple media types for POST and PUT","postDate":"1199033112","msgId":10149,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PGI1NDhkZjY1MDcxMjMwMDg0NXcyNDYyNWRjZnUyNTM1NDY3NDJmZDdiYWMzQG1haWwuZ21haWwuY29tPg==","inReplyToHeader":"PEE1MzBFNTg5LTUzNzctNEY4RC1CMzQzLTg0RUUzNUUxQTM3QkBtaW5kdG91Y2guY29tPg==","referencesHeader":"PGI1NDhkZjY1MDcxMjEzMTk0MnYyMmY5MjAyZnAzMDg5ZGIyN2YwMzZmMjQ1QG1haWwuZ21haWwuY29tPgkgPDQ3NjI1RjEzLjYwNzAwMDZAZ214LmRlPgkgPDk1NDMxNUM1LUQ2OTQtNDNFRi1BODBGLTg3RTQ4RUMyNjgxOEBtaW5kdG91Y2guY29tPgkgPGI1NDhkZjY1MDcxMjE0MDcyMmozOWYxM2FmZmc1MmZhNDNjOGIxZTY3OGQwQG1haWwuZ21haWwuY29tPgkgPEE1MzBFNTg5LTUzNzctNEY4RC1CMzQzLTg0RUUzNUUxQTM3QkBtaW5kdG91Y2guY29tPg=="},"prevInTopic":10148,"nextInTopic":0,"prevInTime":10148,"nextInTime":10150,"topicId":9972,"numMessagesInTopic":23,"msgSnippet":"Steve: thanks for the reply. I *am* talking about server-driven content-negotiation in this thread. I my question was meant to cover two things: 1.  how common","rawEmail":"Return-Path: &lt;mca@...&gt;\r\nX-Sender: mca@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 88902 invoked from network); 30 Dec 2007 16:45:16 -0000\r\nX-Received: from unknown (66.218.67.94)\n  by m48.grp.scd.yahoo.com with QMQP; 30 Dec 2007 16:45:16 -0000\r\nX-Received: from unknown (HELO fk-out-0910.google.com) (209.85.128.188)\n  by mta15.grp.scd.yahoo.com with SMTP; 30 Dec 2007 16:45:16 -0000\r\nX-Received: by fk-out-0910.google.com with SMTP id 18so5745319fks.12\n        for &lt;rest-discuss@yahoogroups.com&gt;; Sun, 30 Dec 2007 08:45:13 -0800 (PST)\r\nX-Received: by 10.78.167.12 with SMTP id p12mr13934086hue.20.1199033112765;\n        Sun, 30 Dec 2007 08:45:12 -0800 (PST)\r\nX-Received: by 10.78.46.19 with HTTP; Sun, 30 Dec 2007 08:45:12 -0800 (PST)\r\nMessage-ID: &lt;b548df650712300845w24625dcfu253546742fd7bac3@...&gt;\r\nDate: Sun, 30 Dec 2007 11:45:12 -0500\r\nTo: rest-discuss &lt;rest-discuss@yahoogroups.com&gt;\r\nIn-Reply-To: &lt;A530E589-5377-4F8D-B343-84EE35E1A37B@...&gt;\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Transfer-Encoding: 7bit\r\nContent-Disposition: inline\r\nReferences: &lt;b548df650712131942v22f9202fp3089db27f036f245@...&gt;\n\t &lt;47625F13.6070006@...&gt;\n\t &lt;954315C5-D694-43EF-A80F-87E48EC26818@...&gt;\n\t &lt;b548df650712140722j39f13affg52fa43c8b1e678d0@...&gt;\n\t &lt;A530E589-5377-4F8D-B343-84EE35E1A37B@...&gt;\r\nX-Google-Sender-Auth: 2ad59e21ebcb926d\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: &quot;mike amundsen&quot; &lt;mamund@...&gt;\r\nSubject: Re: [rest-discuss] supporting multiple media types for POST and PUT\r\nX-Yahoo-Group-Post: member; u=69164307; y=5jcqLYtJmI1SbLa5UOWWVLXZA_jdpHQ0D5me1g2q3bB5\r\nX-Yahoo-Profile: mamund\r\n\r\nSteve:\n\nthanks for the reply. I *am* talking about server-driven\ncontent-negotiation in this thread.\n\nI my question was meant to cover two things:\n1.  how common is it to support media-types for resource A on\nPUT/POST(via content-type header) that are different than the\nmedia-types for resource A on GET (via accept header)?\n2. and how is this information commonly communicated to the client?\n\nI gleaned from the several helpful responses that (1) is common.\nform-encoding being given as the trivial example, but there are lots\nof other cases where the PUT/POST media-types might be a much more\nlimited set than the GET media-types (i.e. your can PUT/POST a\nresource using form-encoding or atom; you can GET that same resource\nin atom, rss, vcard, etc.).\n\nI did not get a complete answer (that I saw) for #2. WSDL/WADL and\nfriends exist as does the service document for APP. some mentioned\nthem. One person mentioned crafting a custom response for the OPTION\nmethod.\n\nMikeA\nhttp://www.amundsen.com/blog/\n\n\nOn Dec 30, 2007 11:34 AM, Steve Bjorg &lt;steveb@...&gt; wrote:\n&gt;\n&gt; Mike,\n&gt;\n&gt; Now you confused me.  It sounds like you do want content-negotiation?!?\n&gt;\n&gt; Here is how I understand it from my reading the HTTP spec:\n&gt;\n&gt; For sending data (i.e. requests), it&#39;s common to support multiple the\n&gt; content-types for the PUT/POST body (GET never has a body; DELETE rarely has\n&gt; a body).  The client/user-agent simply sends its request with whatever\n&gt; content-type, and the server lets the client know if it was able to digest\n&gt; it. If it wasn&#39;t able to digest it, the server responds with 400.\n&gt;\n&gt; For receiving data (i.e. response), it&#39;s possible to support multiple\n&gt; response types via 2 mechanisms:\n&gt; 1) server-driven negotiation: the client/user-agent send information to the\n&gt; server about its preference in representations (i.e. Accept* headers);\n&gt; either the server can respond with one of the acceptable representations or\n&gt; it responds with 406\n&gt;\n&gt; 2) agent-driven negotiation: the server responds with 300 and includes a\n&gt; list of candidate resources for the user-agent to pick; note there is no\n&gt; pre-determined content-type/format for doing so; it could be a newline\n&gt; separated list of URIs or it could a HTML page with a bulleted list of\n&gt; hyperlinks; somehow the client/user-agent picks the desired URI and\n&gt; re-issues the request to obtain the desired representation.\n&gt;\n&gt; #2 is an interesting beast when doing a PUT/POST (and this might well be the\n&gt; question you were asking).  For the choice of possible URIs to make sense,\n&gt; they must correlate to the PUT/POST.  So where the resources corresponding\n&gt; to these URIS created by the PUT/POST for the sole purpose to hold the\n&gt; response representation?  If so how long are they available?  Clearly, this\n&gt; builds up state on the server that will make it less scalable.\n&gt; Alternatively, by responding with 300 and providing a choice of URIs, the\n&gt; server is instructing the client/user-agent to resubmit the request on one\n&gt; of these.  That can be unfortunate when the request body was large.  There\n&gt; doesn&#39;t appear to be a recommended way to discover the proper URI without\n&gt; doing the actual request.\n&gt;\n&gt;\n&gt;\n&gt; - Steve\n&gt;\n&gt; --------------\n&gt; Steve G. Bjorg\n&gt; http://wiki.mindtouch.com\n&gt; http://wiki.opengarden.org\n&gt;\n&gt;\n&gt; On Dec 14, 2007, at 7:22 AM, mike amundsen wrote:\n&gt;\n&gt;\n&gt;\n&gt;\n&gt; Yes, my primary question is about how common it is to support multiple\n&gt; content-types for POST/PUT (I see lots of clear examples of this for GET).\n&gt;\n&gt; I can see how this can be done using Content-Type in the POST/PUT and having\n&gt; the server behave accordingly (return 415 if Content-Type is not supported\n&gt; for this method).\n&gt;\n&gt; My secondary question is, as Steve clarified, about how this is commonly\n&gt; communicated. Fielding refers to &quot;reactive (agent-driven) negotiation&quot; in\n&gt; section6.3.2.7 of his dissertation:\n&gt;\n&gt;\n&gt;\n&gt; &quot;...when a user agent requests a negotiated resource, the server responds\n&gt; iwth a list of the available representations. The user agent can then choose\n&gt; which one is best accordsing to its own capabilities and purpose.&quot; (pg. 126)\n&gt;\n&gt; Sounds cool. but i gets a bit fuzzy after that...\n&gt;\n&gt; &quot;The information about the available representation may be supplied via a\n&gt; separate representation (e.g. a 300 response), inside the response data\n&gt; (e.g. conditional HTML), or as a supplement to the &quot;most likely&quot; response.&quot;\n&gt; (pg. 126)\n&gt;\n&gt; Since the dissertation is from 2000, and there has been some progress\n&gt; regarding WSDL/WADL, SMEX-D, etc. I am asking for feedback on how folks are\n&gt; currently handling the &#39;discovery&#39; part of this puzzle.\n&gt;\n&gt; Mike A\n&gt;\n&gt;\n&gt;\n&gt;\n&gt; On 12/14/07, Steve Bjorg &lt;steveb@...&gt; wrote:\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; Julian,\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; I believe Mike was asking about supporting multiple content-types for a\n&gt; request, not negotiating the response content-type.\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; - Steve\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; --------------\n&gt; &gt; Steve G. Bjorg\n&gt; &gt; http://wiki.mindtouch.com\n&gt; &gt; http://wiki.opengarden.org\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; On Dec 14, 2007, at 2:46 AM, Julian Reschke wrote:\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; mike amundsen wrote:\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt; I am working on the details of supporting multiple media types for a\n&gt; &gt; &gt; resource. To this point, I have concentrated on supporting the Accept\n&gt; &gt; &gt; header as a way to allow clients to inform the server on what media\n&gt; &gt; &gt; type to use for the representation on a GET request. This all seems\n&gt; &gt; &gt; fine.\n&gt; &gt; &gt;\n&gt; &gt; &gt; Now I am wondering how important (or common) it is to provide multiple\n&gt; &gt; &gt; media type support for POST and PUT. I would assume Content-Type would\n&gt; &gt; &gt; be used by the client to communicate this info. I would also assume\n&gt; &gt; &gt; that servers could respond with Status 415 if the Content-Type was not\n&gt; &gt; &gt; supported for the POST or PUT.\n&gt; &gt; &gt;\n&gt; &gt; &gt; Any guidance or pointers to references on this topic are appreciated.\n&gt; &gt; &gt;\n&gt; &gt; &gt; Mike A\n&gt; &gt;\n&gt; &gt; I would strongly discourage to use content-negotiation for authoring.\n&gt; &gt;\n&gt; &gt; Let the server return a Content-Location upon GET/HEAD; and use that URI\n&gt; &gt; for modifying the resource.\n&gt; &gt;\n&gt; &gt; BR, Julian\n&gt; &gt;\n&gt; &gt;\n&gt;\n&gt;\n&gt;\n&gt; --\n&gt;\n&gt; mca\n&gt; &quot;In a time of universal deceit, telling the truth becomes a revolutionary\n&gt; act. &quot; (George Orwell)\n&gt;\n&gt; \n&gt;\n\n\n\n-- \nmca\n&quot;In a time of universal deceit, telling the truth becomes a\nrevolutionary act. &quot; (George Orwell)\n\n"}}
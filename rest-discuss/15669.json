{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":304236879,"authorName":"Peter Williams","from":"Peter Williams &lt;pezra@...&gt;","profile":"peter_e_williams","replyTo":"SENDER","senderId":"4yiets0aa6rvs6MCllTrFB9tbXSju0uQyxmmmlPSdoaXqT9YGa7is5VcXyp51bNc2ntyoN02ZCqcqLJHaK8LhQsOej7lcXVsgrf08vjI","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [rest-discuss] Determining which Media type for post/put","postDate":"1276546791","msgId":15669,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PEFBTkxrVGluV0liMklGSUpFa0RiMmlIeHQ1YmJMY01tTEcwVWhUVEQ0Z0RoU0BtYWlsLmdtYWlsLmNvbT4=","inReplyToHeader":"PDIwMTAwNjE0MTM0NTU3LjJjYzNiNzVmLmVyaWNAYmlzb25zeXN0ZW1zLm5ldD4=","referencesHeader":"PEFBTkxrVGlsazJZWnJnY2U5M3dYcDlFSjRHZnBpckxlUVZ2bUowSnhjeFBZSEBtYWlsLmdtYWlsLmNvbT4JPDIwMTAwNjA0MDkzOTEzLmVmNmNlYzE5LmVyaWNAYmlzb25zeXN0ZW1zLm5ldD4JPEFBTkxrVGlrSHZsZmJ2dkxQUUc2UmM5WjZMcjE5aFNheS1zT3VYSGJ5cXk0Q0BtYWlsLmdtYWlsLmNvbT4JPDIwMTAwNjA0MTQwOTE2LjNmZmQ3NTNjLmVyaWNAYmlzb25zeXN0ZW1zLm5ldD4JPEFBTkxrVGluU0plTndlckZZMTl4V1VYRFNDY0N5cG5Tdmt6WTc2LUdnVGFlNkBtYWlsLmdtYWlsLmNvbT4JPDIwMTAwNjA4MTAwMzIzLmFhNmVmOTllLmVyaWNAYmlzb25zeXN0ZW1zLm5ldD4JPEFBTkxrVGluVjh5eE4tUjRBRldBdk5hTHFwZWItdWY3Y08wV0ZtWDdEcGFSWEBtYWlsLmdtYWlsLmNvbT4JPDIwMTAwNjA5MTgwMDA1LjhhOGRhNzBiLmVyaWNAYmlzb25zeXN0ZW1zLm5ldD4JPEFBTkxrVGluVDRJdjUzRWhyaFBMR0dZYUxlMVFmaHBHVjFQTTE1NmNYQ0toWkBtYWlsLmdtYWlsLmNvbT4JPDIwMTAwNjExMDgxNDE4LjZkZGE0N2E5LmVyaWNAYmlzb25zeXN0ZW1zLm5ldD4JPEFBTkxrVGltRHFhWHVIUE52eS1RVUZaa0ZNYUhwU2NnSkNHLXNQcUtxRndzdUBtYWlsLmdtYWlsLmNvbT4JPDIwMTAwNjExMjMzMjU4LmUxYjdlNWY3LmVyaWNAYmlzb25zeXN0ZW1zLm5ldD4JPEFBTkxrVGltelViTmdyQnVuTXhHTGlLMGZvZDFSVlhxOGtXZTFkOC1LSEs2YkBtYWlsLmdtYWlsLmNvbT4JPDIwMTAwNjEyMTAzMjU1LjgwYzE1YThiLmVyaWNAYmlzb25zeXN0ZW1zLm5ldD4JPEFBTkxrVGluWUtUbk5oZmVTMl9UX1BJRklqV0p5SEtuUmJDWnFFTnM1MUhWV0BtYWlsLmdtYWlsLmNvbT4JPDIwMTAwNjE0MTAwNjU5LmVjNmU0OGU1LmVyaWNAYmlzb25zeXN0ZW1zLm5ldD4JPEFBTkxrVGluSDJHZWwzWUxNS3pMZmNZVXotVndod3hpYkgtMmZBdzN5cGRubUBtYWlsLmdtYWlsLmNvbT4JPDIwMTAwNjE0MTM0NTU3LjJjYzNiNzVmLmVyaWNAYmlzb25zeXN0ZW1zLm5ldD4="},"prevInTopic":15668,"nextInTopic":15670,"prevInTime":15668,"nextInTime":15670,"topicId":15466,"numMessagesInTopic":82,"msgSnippet":"... It doesn t seem particularly under specified to me:[1] A server SHOULD use the Vary header field to inform a cache of what request-header fields were used","rawEmail":"Return-Path: &lt;pezra@...&gt;\r\nX-Sender: pezra@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 54991 invoked from network); 14 Jun 2010 20:20:53 -0000\r\nX-Received: from unknown (98.137.34.44)\n  by m3.grp.sp2.yahoo.com with QMQP; 14 Jun 2010 20:20:53 -0000\r\nX-Received: from unknown (HELO mail-ww0-f51.google.com) (74.125.82.51)\n  by mta1.grp.sp2.yahoo.com with SMTP; 14 Jun 2010 20:20:53 -0000\r\nX-Received: by wwb31 with SMTP id 31so2382759wwb.24\n        for &lt;rest-discuss@yahoogroups.com&gt;; Mon, 14 Jun 2010 13:19:52 -0700 (PDT)\r\nMIME-Version: 1.0\r\nX-Received: by 10.227.127.145 with SMTP id g17mr6098966wbs.152.1276546791875; \n\tMon, 14 Jun 2010 13:19:51 -0700 (PDT)\r\nX-Received: by 10.216.13.206 with HTTP; Mon, 14 Jun 2010 13:19:51 -0700 (PDT)\r\nIn-Reply-To: &lt;20100614134557.2cc3b75f.eric@...&gt;\r\nReferences: &lt;AANLkTilk2YZrgce93wXp9EJ4GfpirLeQVvmJ0JxcxPYH@...&gt;\n\t&lt;20100604093913.ef6cec19.eric@...&gt;\n\t&lt;AANLkTikHvlfbvvLPQG6Rc9Z6Lr19hSay-sOuXHbyqy4C@...&gt;\n\t&lt;20100604140916.3ffd753c.eric@...&gt;\n\t&lt;AANLkTinSJeNwerFY19xWUXDSCcCypnSvkzY76-GgTae6@...&gt;\n\t&lt;20100608100323.aa6ef99e.eric@...&gt;\n\t&lt;AANLkTinV8yxN-R4AFWAvNaLqpeb-uf7cO0WFmX7DpaRX@...&gt;\n\t&lt;20100609180005.8a8da70b.eric@...&gt;\n\t&lt;AANLkTinT4Iv53EhrhPLGGYaLe1QfhpGV1PM156cXCKhZ@...&gt;\n\t&lt;20100611081418.6dda47a9.eric@...&gt;\n\t&lt;AANLkTimDqaXuHPNvy-QUFZkFMaHpScgJCG-sPqKqFwsu@...&gt;\n\t&lt;20100611233258.e1b7e5f7.eric@...&gt;\n\t&lt;AANLkTimzUbNgrBunMxGLiK0fod1RVXq8kWe1d8-KHK6b@...&gt;\n\t&lt;20100612103255.80c15a8b.eric@...&gt;\n\t&lt;AANLkTinYKTnNhfeS2_T_PIFIjWJyHKnRbCZqENs51HVW@...&gt;\n\t&lt;20100614100659.ec6e48e5.eric@...&gt;\n\t&lt;AANLkTinH2Gel3YLMKzLfcYUz-VwhwxibH-2fAw3ypdnm@...&gt;\n\t&lt;20100614134557.2cc3b75f.eric@...&gt;\r\nDate: Mon, 14 Jun 2010 14:19:51 -0600\r\nMessage-ID: &lt;AANLkTinWIb2IFIJEkDb2iHxt5bbLcMmLG0UhTTD4gDhS@...&gt;\r\nTo: &quot;Eric J. Bowman&quot; &lt;eric@...&gt;, \n\t&quot;rest-discuss@yahoogroups.com&quot; &lt;rest-discuss@yahoogroups.com&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Transfer-Encoding: quoted-printable\r\nFrom: Peter Williams &lt;pezra@...&gt;\r\nSubject: Re: [rest-discuss] Determining which Media type for post/put\r\nX-Yahoo-Group-Post: member; u=304236879; y=AXn26_vnJFXQDDAuGs6GYSSfuFVkW4bK9ebsfYz9gf9FuVi1_O-YBaKMhA\r\nX-Yahoo-Profile: peter_e_williams\r\n\r\nOn Mon, Jun 14, 2010 at 1:45 PM, Eric J. Bowman &lt;eric@...&gt; wro=\r\nte:\n&gt; David Stanek wrote:\n&gt;&gt;\n&gt;&gt; Maybe my misunderstanding is because of the=\r\n experimenting I have been\n&gt;&gt; doing with Varnish. What Varnish seems to do =\r\nis keep a hash of the\n&gt;&gt; URL and associate any variants (using the Vary hea=\r\nder) to that hash.\n&gt;&gt; It will not go back to the origin server even after a=\r\n different\n&gt;&gt; variant was accessed. Once I had the text/plain version of /t=\r\nest in\n&gt;&gt; cache Varnish always returned it even after I curl-ed for the\n&gt;&gt; =\r\ntext/html variant of the resource. I was then able to purge /test to\n&gt;&gt; rin=\r\nse and repeat.\n&gt;&gt;\n&gt;&gt; Is this non-compliant behavior?\n&gt;&gt;\n&gt;\n&gt; I say unspecifi=\r\ned behavior. =A0All caches behave the same way in the\n&gt; presence of Content=\r\n-Location, such behavior is specified. =A0Any cache\n&gt; developer attempting =\r\nto work around a missing Content-Location header,\n&gt; has to choose between d=\r\nifferent unspecified behaviors.\n\nIt doesn&#39;t seem particularly under specifi=\r\ned to me:[1]\n\n  A server SHOULD use the Vary header field to inform a cache=\r\n of what\n  request-header fields were used to select among multiple\n  repre=\r\nsentations of a cacheable response subject to server-driven\n  negotiation. =\r\nThe set of header fields named by the Vary field value\n  is known as the &quot;s=\r\nelecting&quot; request-headers.\n\n  When the cache receives a subsequent request =\r\nwhose Request-URI\n  specifies one or more cache entries including a Vary he=\r\nader field,\n  the cache MUST NOT use such a cache entry to construct a resp=\r\nonse\n  to the new request unless all of the selecting request-headers\n  pre=\r\nsent in the new request match the corresponding stored\n  request-headers in=\r\n the original request.\n\nPeter Williams\nhttp://barelyenough.org\n\n[1]: http:/=\r\n/www.w3.org/Protocols/rfc2616/rfc2616-sec13.html#sec13.6\n\n"}}
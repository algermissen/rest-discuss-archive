{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":11652427,"authorName":"pkeane","from":"pkeane &lt;pkeane@...&gt;","profile":"pkeane_littlehat","replyTo":"SENDER","senderId":"X3v7HRaR7ks_FLJxh3ssiKu8lRet9ch5KeVMpqvYREnLLD7_h9oeKYEm-UQ4jLZwDPC7lo9FfpSNGQBJbUJaZEpeCMVBZA","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [rest-discuss] are cookies EVER restful?","postDate":"1196629742","msgId":9900,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PGFscGluZS5MTlguMC45OTk5LjA3MTIwMjE0NTkwMTAuMjY0NjFAaGFycG8ubGFpdHMudXRleGFzLmVkdT4=","inReplyToHeader":"PGI1NDhkZjY1MDcxMjAyMTI1M3g0NDQ5MjFjZnE3OWRiNTExMzg2MDJiNjI3QG1haWwuZ21haWwuY29tPg==","referencesHeader":"PGFscGluZS5MTlguMC45OTk5LjA3MTIwMTA5NTQyNjAuMTk5MThAaGFycG8ubGFpdHMudXRleGFzLmVkdT4gIDw0NzUxRDAwRi43MDYwNUBtZXRhbGFiLnVuYy5lZHU+ICA8YWxwaW5lLkxOWC4wLjk5OTkuMDcxMjAxMTY1ODQ0MC4yMDg4MkBoYXJwby5sYWl0cy51dGV4YXMuZWR1PiAgPDQ3NTIwMkExLjgwNjA5MDJAbWV0YWxhYi51bmMuZWR1PiAgPGFscGluZS5MTlguMC45OTk5LjA3MTIwMTIxNDUwMDAuMjA4ODJAaGFycG8ubGFpdHMudXRleGFzLmVkdT4gIDw0NzUyQTk1My40MDAwODAzQG1ldGFsYWIudW5jLmVkdT4gIDxhbHBpbmUuTE5YLjAuOTk5OS4wNzEyMDIwODEzMzgwLjI1ODAyQGhhcnBvLmxhaXRzLnV0ZXhhcy5lZHU+ICA8NDc1MkUyMEEuNjA3MDgwOUBtZXRhbGFiLnVuYy5lZHU+ICA8YWxwaW5lLkxOWC4wLjk5OTkuMDcxMjAyMTIxMjI1MC4yNjQ2MUBoYXJwby5sYWl0cy51dGV4YXMuZWR1PiA8YjU0OGRmNjUwNzEyMDIxMjUzeDQ0NDkyMWNmcTc5ZGI1MTEzODYwMmI2MjdAbWFpbC5nbWFpbC5jb20+"},"prevInTopic":9899,"nextInTopic":9901,"prevInTime":9899,"nextInTime":9901,"topicId":9891,"numMessagesInTopic":99,"msgSnippet":"... This presuposes that the request to /user/current/ will run into a hark-who-goes-there WWW-Authenticate response, right?  And that the browser s Auth","rawEmail":"Return-Path: &lt;pkeane@...&gt;\r\nX-Sender: pkeane@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 44298 invoked from network); 2 Dec 2007 21:09:02 -0000\r\nX-Received: from unknown (66.218.67.97)\n  by m53.grp.scd.yahoo.com with QMQP; 2 Dec 2007 21:09:02 -0000\r\nX-Received: from unknown (HELO harpo.laits.utexas.edu) (128.83.27.7)\n  by mta18.grp.scd.yahoo.com with SMTP; 2 Dec 2007 21:09:02 -0000\r\nX-Received: by harpo.laits.utexas.edu (Postfix, from userid 1000)\n\tid 1C49C3E00D5; Sun,  2 Dec 2007 15:09:02 -0600 (CST)\r\nX-Received: from localhost (localhost [127.0.0.1])\n\tby harpo.laits.utexas.edu (Postfix) with ESMTP id 17AF83E00D4;\n\tSun,  2 Dec 2007 15:09:02 -0600 (CST)\r\nDate: Sun, 2 Dec 2007 15:09:02 -0600 (CST)\r\nX-X-Sender: pkeane@...\r\nTo: mike amundsen &lt;mamund@...&gt;\r\nCc: rest-discuss@yahoogroups.com\r\nIn-Reply-To: &lt;b548df650712021253x444921cfq79db51138602b627@...&gt;\r\nMessage-ID: &lt;alpine.LNX.0.9999.0712021459010.26461@...&gt;\r\nReferences: &lt;alpine.LNX.0.9999.0712010954260.19918@...&gt;  &lt;4751D00F.70605@...&gt;  &lt;alpine.LNX.0.9999.0712011658440.20882@...&gt;  &lt;475202A1.8060902@...&gt;  &lt;alpine.LNX.0.9999.0712012145000.20882@...&gt;\n  &lt;4752A953.4000803@...&gt;  &lt;alpine.LNX.0.9999.0712020813380.25802@...&gt;  &lt;4752E20A.6070809@...&gt;  &lt;alpine.LNX.0.9999.0712021212250.26461@...&gt;\n &lt;b548df650712021253x444921cfq79db51138602b627@...&gt;\r\nMIME-Version: 1.0\r\nContent-Type: TEXT/PLAIN; format=flowed; charset=US-ASCII\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: pkeane &lt;pkeane@...&gt;\r\nSubject: Re: [rest-discuss] are cookies EVER restful?\r\nX-Yahoo-Group-Post: member; u=11652427; y=T5RzjJ4hLGDR4kLDCoS5xo--ieem1OQc4dD8aKzoW4CHFxCpBLHkWl7Dwg\r\nX-Yahoo-Profile: pkeane_littlehat\r\n\r\nOn Sun, 2 Dec 2007, mike amundsen wrote:\n\n&gt; if this is about how to determine the currently authenticated user\n&gt; while still staying close the REST constraints, it seems trivial to\n&gt; create a resource that returns the current auth&#39;ed user id to the\n&gt; client for further use in altering URIs.\n&gt;\n&gt; for example an ajax request to the /user/current/ resource could\n&gt; return a simple text/plain object (&quot;my-name&quot;). now the client can use\n&gt; this data to construct other URI to get personalized data:  GET\n&gt; /users/{userid}/preferences\n&gt;\n&gt; no cookies needed and standard caching rules will apply\n&gt;\n&gt; in an even more RESTful implementation, the call to /users/current/\n&gt; could return a document with links to all the other important data for\n&gt; that user:\n&gt;\n&gt; &lt;ul class=&quot;user-data&quot;&gt;\n&gt; &lt;li&gt;&lt;a class=&quot;preferences&quot; href=&quot;/user/my-name/preferences&quot;&gt;preferences&lt;/a&gt;&lt;/li&gt;\n&gt; &lt;li&gt;&lt;a class=&quot;shopping-cart&quot;\n&gt; href=&quot;/user/my-name/shopping/E6$fhd&quot;&gt;shopping cart&lt;a&gt;&lt;/li&gt;\n&gt; &lt;/ul&gt;\n&gt;\n&gt; mca\n&gt;\n\nThis presuposes that the request to /user/current/ will run into a \n&quot;hark-who-goes-there&quot; WWW-Authenticate response, right?  And that the \nbrowser&#39;s Auth cache will come into play in order to respond to the \nchallenge.  I think it&#39;s a great idea, and it leverages the HTTP \nAuthorization framework which seems better all around.\n\nI could, in fact, simply make the request to /user/current/data/ and get \nit all in one json response, right?\n\nI&#39;ll be curious to know what others think, but it sounds to me like a \n&quot;best practice&quot; solution for my use case.\n\nthanks!\nPeter\n\n&gt;\n&gt; On 12/2/07, pkeane &lt;pkeane@...&gt; wrote:\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; On Sun, 2 Dec 2007, Elliotte Rusty Harold wrote:\n&gt;&gt;\n&gt;&gt;&gt; pkeane wrote:\n&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; For me it comes down to this:  The CLIENT needs to know &quot;who&quot; the user is\n&gt;&gt;&gt;&gt; across multiple requests (application state, which is A-OK as long as it\n&gt;&gt;&gt;&gt; lives on & is controlled by the client) so it can fire XHRs which are\n&gt;&gt;&gt;&gt; asking for THIS user&#39;s data.  The two choices are a cookie (which I contend\n&gt;&gt;&gt;&gt; is not unRESTful if used in this way) OR always including the user-id in\n&gt;&gt;&gt;&gt; the page URL so that the server can encode that user-id in the hypertext\n&gt;&gt;&gt;&gt; which the client can then use to get more (personalized) data.\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt; If the client is building the page/resource, then the client should be\n&gt;&gt;&gt; assigning and managing URIs for those resources. The server does not need to\n&gt;&gt;&gt; know about these URIs, but that doesn&#39;t mean no one needs to know about them.\n&gt;&gt;&gt;\n&gt;&gt;\n&gt;&gt; Agreed to the extent that the client needs to manage those compound\n&gt;&gt; objects (i.e. new resources), but needing to assign them a URI, I&#39;m not\n&gt;&gt; convinced. I think we&#39;re beyond the edge of finding benefit in REST\n&gt;&gt; constraints.  E.g., if I print out a bunch of articles from xml.com &\n&gt;&gt; staple them together I have created a new resource. But there may or may\n&gt;&gt; not be any advantage to assigning that resource a URI.  To suggest it is a\n&gt;&gt; bad idea for me to create that compound object because I have no intention\n&gt;&gt; of giving it a URI is where I see the problem.  The browser can manage\n&gt;&gt; those resources any way it wishes and my contention is that cookies & XHR\n&gt;&gt; are the best tools we have right now to do that, and by effectively\n&gt;&gt; separating out that concern from the server opens up a world of\n&gt;&gt; possibilities/opportunities.\n&gt;&gt;\n&gt;&gt;&gt; It is a fundamental principle of REST that resources are identified by URIs\n&gt;&gt;&gt; and not by some combination of URI and some non-URI identifier like a cookie.\n&gt;&gt;&gt; The URI alone should be sufficient. There are very good reasons for this\n&gt;&gt;&gt; principle.\n&gt;&gt;&gt;\n&gt;&gt;\n&gt;&gt; Agreed, but that&#39;s not what I am talking about here.  In no case is there\n&gt;&gt; a &quot;shared secret&quot; communicated by way of a cookie.  The cookie is used\n&gt;&gt; ONLY to construct a new url to access another resource. Whether I use a\n&gt;&gt; cookie or or some other mechanism is irrelevant.  Perhaps &quot;cookie&quot; is now\n&gt;&gt; so loaded w/ bad connotations (and a history of misuse) that one dare not\n&gt;&gt; go there.  Firefox now allows you to &quot;bookmark&quot; a set of open tabs.  I see\n&gt;&gt; no reason not to offer that capability simply because it violates a REST\n&gt;&gt; constraint.\n&gt;&gt;\n&gt;&gt;&gt; You seem to be getting hung up on a not-hugely relevant distinction between\n&gt;&gt;&gt; client and server, In the scenario you describe, the browser is in effect\n&gt;&gt;&gt; running a server, maybe not an HTTP server but a potentially RESTful server\n&gt;&gt;&gt; nonetheless. To REST, a server is simply that which receives URIs and returns\n&gt;&gt;&gt; representations.\n&gt;&gt;&gt;\n&gt;&gt;\n&gt;&gt; Yes, agreed wholeheartedly and that&#39;s exactly where I am going with this.\n&gt;&gt; The browser will become increasingly more like a server (interesting that\n&gt;&gt; Roy F&#39;s latest talk &quot;A Little REST and Relaxation&quot; hints at a relaxation\n&gt;&gt; of the client/server constraint to be a useful experiment).  I&#39;ve been\n&gt;&gt; playing with the Firefox &quot;POW&quot; (plain old web server) plugin for image\n&gt;&gt; uploading to great effect (I don&#39;t &quot;send&quot; images to the server, rather I\n&gt;&gt; point to a local directory and let the server grab &#39;em).\n&gt;&gt;\n&gt;&gt;&gt; Different URIs are served to the browser from different servers, one of which\n&gt;&gt;&gt; is the browser itself; but this does not change the fundamental principle\n&gt;&gt;&gt; that different resources should have different URIs.\n&gt;&gt;&gt;\n&gt;&gt;\n&gt;&gt; But assigned by whom?  The server or the browser-as-server?  I see this as\n&gt;&gt; a separation-of-concerns issue.  Building a restful web service need not\n&gt;&gt; require me (the guy developing the service on the server side) to worry\n&gt;&gt; about those URIs that might need to be assigned to new combinations of my\n&gt;&gt; resources -- that&#39;s a task for the &quot;application&quot; that lives on the client\n&gt;&gt; and is going to use my service. (note that in my original example the\n&gt;&gt; client-side &quot;application&quot; is the javascript that manages the cookies and\n&gt;&gt; fires off the XHRs).\n&gt;&gt;\n&gt;&gt; Ultimately, I feel like there is a great opportunity to create really\n&gt;&gt; useful and simple web services by offloading some of the organizing the\n&gt;&gt; creation of new compound objects onto the client, and that we have the\n&gt;&gt; tools -- not ideal, perhaps -- in cookies, javascript & XHR, to do just\n&gt;&gt; that.\n&gt;&gt;\n&gt;&gt; -peter\n&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt; --\n&gt;&gt;&gt; Elliotte Rusty Harold  elharo@...\n&gt;&gt;&gt; Java I/O 2nd Edition Just Published!\n&gt;&gt;&gt; http://www.cafeaulait.org/books/javaio2/\n&gt;&gt;&gt; http://www.amazon.com/exec/obidos/ISBN=0596527500/ref=nosim/cafeaulaitA/\n&gt;&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; Yahoo! Groups Links\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;\n&gt;\n&gt; --\n&gt; mca\n&gt; &quot;In a time of universal deceit, telling the truth becomes a\n&gt; revolutionary act. &quot; (George Orwell)\n&gt;\n\n"}}
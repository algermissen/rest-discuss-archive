{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":244521818,"authorName":"toydi","from":"toydi &lt;teohuiming.work@...&gt;","profile":"teohuiming.work","replyTo":"SENDER","senderId":"rJswl41K6pehGZK1kLVrkoyv-UyXOXqPEwPmob3vrCP5Y-c07xBC3SOhpV3RhH1TAgktX-D5ECE3JUgQErvv7iBe5v_GRMF0","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [rest-discuss] POST usage in Composite State Resource","postDate":"1148102380","msgId":6259,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDczZWM1OTlkMDYwNTE5MjIxOWkyZmU4ZTk2Nmo1MjhlZGY3ZGFlNGUzY2Q3QG1haWwuZ21haWwuY29tPg==","inReplyToHeader":"PDg3b2R4dG42NzkuZnNmQG1pY3JvamV0LmF0aC5jeD4=","referencesHeader":"PDczZWM1OTlkMDYwNTE3MjEzM2kyMDAxNjZiNGg5YjllZTUxN2ZjZWI4NjJAbWFpbC5nbWFpbC5jb20+CSA8ODdvZHh0bjY3OS5mc2ZAbWljcm9qZXQuYXRoLmN4Pg=="},"prevInTopic":6258,"nextInTopic":6260,"prevInTime":6258,"nextInTime":6260,"topicId":6255,"numMessagesInTopic":7,"msgSnippet":"I think Yohanse forgot to CC the list. ;-) ... From: Yohanes Santoso  Date: May 20, 2006 3:51 AM Subject: Re:","rawEmail":"Return-Path: &lt;teohuiming.work@...&gt;\r\nX-Sender: teohuiming.work@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nReceived: (qmail 82986 invoked from network); 20 May 2006 05:19:41 -0000\r\nReceived: from unknown (66.218.67.35)\n  by m33.grp.scd.yahoo.com with QMQP; 20 May 2006 05:19:41 -0000\r\nReceived: from unknown (HELO wr-out-0506.google.com) (64.233.184.224)\n  by mta9.grp.scd.yahoo.com with SMTP; 20 May 2006 05:19:41 -0000\r\nReceived: by wr-out-0506.google.com with SMTP id i13so794336wra\n        for &lt;rest-discuss@yahoogroups.com&gt;; Fri, 19 May 2006 22:19:40 -0700 (PDT)\r\nReceived: by 10.65.151.7 with SMTP id d7mr1979222qbo;\n        Fri, 19 May 2006 22:19:40 -0700 (PDT)\r\nReceived: by 10.65.147.2 with HTTP; Fri, 19 May 2006 22:19:40 -0700 (PDT)\r\nMessage-ID: &lt;73ec599d0605192219i2fe8e966j528edf7dae4e3cd7@...&gt;\r\nDate: Sat, 20 May 2006 13:19:40 +0800\r\nTo: rest-discuss &lt;rest-discuss@yahoogroups.com&gt;\r\nIn-Reply-To: &lt;87odxtn679.fsf@...&gt;\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: quoted-printable\r\nContent-Disposition: inline\r\nReferences: &lt;73ec599d0605172133i200166b4h9b9ee517fceb862@...&gt;\n\t &lt;87odxtn679.fsf@...&gt;\r\nX-eGroups-Msg-Info: 1:12:0:0\r\nFrom: toydi &lt;teohuiming.work@...&gt;\r\nSubject: Re: [rest-discuss] POST usage in Composite State Resource\r\nX-Yahoo-Group-Post: member; u=244521818; y=VCA4O4_oK1XojV46hoTyGaT76Grz4lV63hfNu8UUeXgtei5SfdeXbBsy\r\nX-Yahoo-Profile: teohuiming.work\r\n\r\nI think Yohanse forgot to CC the list. ;-)\n---------- Forwarded message ---=\r\n-------\nFrom: Yohanes Santoso &lt;yahoo-rest-discuss@...&gt;\nDate: Ma=\r\ny 20, 2006 3:51 AM\nSubject: Re: [rest-discuss] POST usage in Composite Stat=\r\ne Resource\nTo: toydi &lt;teohuiming.work@...&gt;\n\n\ntoydi &lt;teohuiming.work@g=\r\nmail.com&gt; writes:\n\nIn your other email you asked what a composite resource =\r\nis. It is a\nresource that is not atomic in nature; an amalgamation of other=\r\n\nresources.\n\nbill-record in your example is a composite resource. It is a\nc=\r\nonvenient facade for a set of related resources: dispensed items,\npayment s=\r\ntatus.\n\n\n&gt; [Example: Shopping mart bill record Use Case]\n&gt; Retrieving a Bil=\r\nl Record resource for instance, we receive:\n&gt; &lt;bill-record id=3D&quot;000&quot;&gt;\n&gt;   =\r\n&lt;customer-id&gt;11-111&lt;/customer-id&gt;\n&gt;   &lt;status&gt;unpaid&lt;/status&gt;\n&gt;   &lt;dispense=\r\nd-items&gt;\n&gt;     &lt;item type=3D&quot;http://example.org/items/00-111&quot; quantity=3D&quot;2=\r\n&quot;\n&gt; priceperunit=3D&quot;20.00&quot; /&gt;\n&gt;     &lt;item type=3D&quot;http://example.org/items/=\r\n00-222&quot; quantity=3D&quot;1&quot;\n&gt; priceperunit=3D&quot;10.00&quot; /&gt;\n&gt;   &lt;/dispensed-items&gt;\n&gt;=\r\n   &lt;!-- total with additional tax charge --&gt;\n&gt;   &lt;total&gt;50.21&lt;/total&gt;\n&gt; &lt;/b=\r\nill-record&gt;\n\nOnce you decompose a composite resource like bill-record, it b=\r\necomes\nclear to see that there is no overloading-POST problem. You&#39;d simply=\r\n\nPOST to the specific, primitive resources.\n\nDepending on your business rul=\r\ne, PUT may not be acceptable if you want\nthe changes to depend on before-ch=\r\nange version of the resource. E.g.:\npayment status may be sensitive to the =\r\nprevious state. A change from\nUNPAID to PAID may involve some checking that=\r\n the correct amount of\npayment has really been received. And PAID to PAID m=\r\nay check for\ndouble debit (overpayment).\n\nLet&#39;s assume for this discussion =\r\nthat resource is represented by the\nURI path: /bill/000 and all changes are=\r\n done through POST.\n\n&gt; Now, try to model three use cases below:\n&gt; 1) If an =\r\n&#39;unpaid&#39; bill has included incorrect item, Shopkeeper sends\n&gt; (POST) a corr=\r\nect &lt;dispensed-items&gt; to Bill Record resource. It will\n&gt; verify itself and =\r\nrecalculate the total.\n\nPOST the correction to /bill/000/dispensed-items. T=\r\nhe response should\nbe a 201 (Created), because what is actually happening b=\r\nehind is a new\nversion of bill-record (resource) is created (with corrected=\r\n\ndispensed-items and total) and mapped to /bill/000, replacing previous\nthe=\r\n version.\n\n&gt; 2) If a customer pays cash, Shopkeeper sends (POST) the paymen=\r\nt amount\n&gt; to that Bill Record resource, the status will change from &#39;unpai=\r\nd&#39; to\n&gt; &#39;paid&#39;.\n\nPOST the amount to /bill/000/payment.\n\n&gt; 3) Some customers=\r\n prefer monthly invoice payment, Shopkeeper first\n&gt; verify the customer the=\r\nn stamp (POST) the bill as &#39;invoiced&#39;, the\n&gt; status will change from &#39;unpai=\r\nd&#39; to &#39;invoiced&#39;.\n\nPOST the invoice number to /bill/000/payment.\n\n\nThe actu=\r\nal URI used does not really matter. You could have:\n/bill/000?payment=3DUS1=\r\n00.00&payment=3Dinvoice1234\nfor split payment (US$100 cash, the rest is inv=\r\noiced).\n\nYS.\n\n\n-- \nTeo HuiMing (toydi)\nteohuiming.work at gmail dot com\n\n"}}
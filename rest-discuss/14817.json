{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":362018624,"authorName":"Jan Vincent","from":"Jan Vincent &lt;jvliwanag@...&gt;","profile":"jv.liwanag","replyTo":"SENDER","senderId":"x96QT9vjC7YSVhZngXsYc9FYONORZ23o8FfHjP1V5BX0eO9u2g1EysIo1w22ugD8j4NF3YHyEKygTThs6_Sw0TS4-wGngsnd","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [rest-discuss] HATEOAS and Cache","postDate":"1266568699","msgId":14817,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PEZBMEZFRUIxLUUwNjctNEZBQy04Nzg4LUZDODUxREM4RDY2NkBnbWFpbC5jb20+","inReplyToHeader":"PEFFNzQ5RTdDLTA3REYtNDU5MC05Q0U3LUQ2MjRFQjAzOThGM0BtYWMuY29tPg==","referencesHeader":"PDc5Q0ZDOThCLTk5MEMtNDkwNC1CRUE1LUEzN0NCMTNGOUIyQUBnbWFpbC5jb20+IDw5RTRDMDE4Qi01RTEzLTQ0REQtOEFCRC0wMUFCMkExNEQwNTRAbWFjLmNvbT4gPDg1NTgyNTM1LUFCQzEtNDcxNi05Q0I0LUFDMjU1NjlBNzdBOEBtYWMuY29tPiA8QTkwRTBDMDktMjA2Ni00QzMyLThCREUtOTMxNDg4MTY0QUE2QGdtYWlsLmNvbT4gPEQwRUYxRjY0LUIyNDktNEI5QS1BODIyLTkzOTMwQUZFOUEyRkBtYWMuY29tPiA8MzgyNDEwRkYtNjZBNi00NjA2LTk4QUQtRUI1MDlGMzVDOEI2QGdtYWlsLmNvbT4gPEFFNzQ5RTdDLTA3REYtNDU5MC05Q0U3LUQ2MjRFQjAzOThGM0BtYWMuY29tPg=="},"prevInTopic":14816,"nextInTopic":14818,"prevInTime":14816,"nextInTime":14818,"topicId":14806,"numMessagesInTopic":17,"msgSnippet":"First off, Thanks for the insights. Perhaps my POV on HATEOAS still needs tweaking. Let s have some theoretical desktop client for a social network such as","rawEmail":"Return-Path: &lt;jvliwanag@...&gt;\r\nX-Sender: jvliwanag@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 31997 invoked from network); 19 Feb 2010 08:38:52 -0000\r\nX-Received: from unknown (66.196.94.107)\n  by m2.grp.sp2.yahoo.com with QMQP; 19 Feb 2010 08:38:52 -0000\r\nX-Received: from unknown (HELO mail-yx0-f189.google.com) (209.85.210.189)\n  by mta3.grp.re1.yahoo.com with SMTP; 19 Feb 2010 08:38:51 -0000\r\nX-Received: by yxe27 with SMTP id 27so5564042yxe.23\n        for &lt;rest-discuss@yahoogroups.com&gt;; Fri, 19 Feb 2010 00:38:42 -0800 (PST)\r\nX-Received: by 10.150.244.6 with SMTP id r6mr774042ybh.314.1266568722547;\n        Fri, 19 Feb 2010 00:38:42 -0800 (PST)\r\nReturn-Path: &lt;jvliwanag@...&gt;\r\nX-Received: from ?10.11.3.134? (tkt34.chikka.com [202.164.182.34])\n        by mx.google.com with ESMTPS id 7sm4051012yxd.26.2010.02.19.00.38.39\n        (version=TLSv1/SSLv3 cipher=RC4-MD5);\n        Fri, 19 Feb 2010 00:38:41 -0800 (PST)\r\nMime-Version: 1.0 (Apple Message framework v1077)\r\nContent-Type: text/plain; charset=us-ascii\r\nDisposition-Notification-To: jvliwanag@...\r\nIn-Reply-To: &lt;AE749E7C-07DF-4590-9CE7-D624EB0398F3@...&gt;\r\nDate: Fri, 19 Feb 2010 16:38:19 +0800\r\nCc: rest-discuss@yahoogroups.com\r\nContent-Transfer-Encoding: quoted-printable\r\nMessage-Id: &lt;FA0FEEB1-E067-4FAC-8788-FC851DC8D666@...&gt;\r\nReferences: &lt;79CFC98B-990C-4904-BEA5-A37CB13F9B2A@...&gt; &lt;9E4C018B-5E13-44DD-8ABD-01AB2A14D054@...&gt; &lt;85582535-ABC1-4716-9CB4-AC25569A77A8@...&gt; &lt;A90E0C09-2066-4C32-8BDE-931488164AA6@...&gt; &lt;D0EF1F64-B249-4B9A-A822-93930AFE9A2F@...&gt; &lt;382410FF-66A6-4606-98AD-EB509F35C8B6@...&gt; &lt;AE749E7C-07DF-4590-9CE7-D624EB0398F3@...&gt;\r\nTo: Jan Algermissen &lt;algermissen1971@...&gt;\r\nX-Mailer: Apple Mail (2.1077)\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Jan Vincent &lt;jvliwanag@...&gt;\r\nSubject: Re: [rest-discuss] HATEOAS and Cache\r\nX-Yahoo-Group-Post: member; u=362018624; y=5f6hgU-itb7ymYbfRK3ESTagyOwjvbeORScU3cv5dVaZslBjWnE\r\nX-Yahoo-Profile: jv.liwanag\r\n\r\n\nFirst off,\n\nThanks for the insights. Perhaps my POV on HATEOAS still needs=\r\n tweaking. Let&#39;s have some theoretical desktop client for a social network =\r\nsuch as facebook. The desktop client say, simply needs to display the frien=\r\nds of some user. Now, the social network published it&#39;s API and the resourc=\r\nes that can be accessed. Say, there are three of them\n\nRoot Resource (&quot;/&quot;) =\r\n- The only one that has a URL, and contains links to other resources, for s=\r\nimplicity, say this contains all the links to all its users.\nUser Resource =\r\n- Give some info about the user, and more importantly, it has the link to t=\r\nhe Friends Resource of the User\nFriends Resource - Contains the list of fri=\r\nends, and the links to their respective User Resources\n\nIf the desktop clie=\r\nnt aims to accomplish what it&#39;s supposed to, I aim to expose two methods to=\r\n be used by the application, say:\n\nget_user_info(User)\nget_friends(User)\n\nI=\r\nnternally, it traverses from the root until it ends up getting the informat=\r\nion it needs.\n\nIf I get what you&#39;re saying though, I probably shouldn&#39;t eve=\r\nn expose those two methods? Am I thinking about this all wrong?\n\nOn Feb 19,=\r\n 2010, at 4:18 PM, Jan Algermissen wrote:\n\n&gt; \n&gt; On Feb 19, 2010, at 9:02 AM=\r\n, Jan Vincent wrote:\n&gt; \n&gt;&gt; \n&gt;&gt; On Feb 19, 2010, at 3:36 PM, Jan Algermissen=\r\n wrote:\n&gt;&gt; \n&gt;&gt;&gt; \n&gt;&gt;&gt; On Feb 19, 2010, at 8:19 AM, Jan Vincent wrote:\n&gt;&gt;&gt; \n&gt;=\r\n&gt;&gt;&gt; True enough,\n&gt;&gt;&gt;&gt; \n&gt;&gt;&gt;&gt; Doing:\n&gt;&gt;&gt;&gt; \n&gt;&gt;&gt;&gt;&gt; from(&quot;/&quot;).follow( &quot;#users_li=\r\nnk&quot; ).fill_form( &quot;search_user&quot; , {&quot;id&quot;: &quot;someid&quot;}).follow( &quot;#user_link&quot; ).f=\r\nollow( &quot;#friends_ link&quot;)\n&gt;&gt;&gt;&gt; \n&gt;&gt;&gt;&gt; Doesn&#39;t cut it since it assumes specifi=\r\nc responses from the server. But the point of HATEOAS I believe is that lin=\r\nks are indeed provided for me to traverse through.\n&gt;&gt;&gt; \n&gt;&gt;&gt; Yes, but you ca=\r\nn make no assumption\n&gt;&gt;&gt; a) about the media type returned\n&gt;&gt;&gt; b) about what=\r\n links, forms etc. you will find in there\n&gt;&gt; \n&gt;&gt; Can&#39;t I? If the server act=\r\ns right, it should recognize my Accept header.\n&gt; \n&gt; There might be several =\r\ntypes you put in the accept header. The client should handle any matching r=\r\nesponse.\n&gt; \n&gt;&gt; If it doesn&#39;t have the Content-Type that I recognize, then m=\r\ny client gives up. It simply doesn&#39;t know how to understand the new Content=\r\n-Type. Since the client is preprogrammed, it&#39;s one limitation I should live=\r\n with.\n&gt; \n&gt; Yes. However, I like to emphasize that with REST it des not sto=\r\np there because you do not just have &#39;broken communication&#39; but in fact sti=\r\nll an ongoing communication (a benefit of uniform status codes) and it make=\r\ns sense to think about leveraging that situation. You could, for example, h=\r\nave the client open an RFC ticket in some helpdesk system to trigger an ASA=\r\nP update of the client capabilities. I consider that different from dumping=\r\n a stack trace in the logs and calling a developer with &#39;uhh - something is=\r\n wrong&#39;.\n&gt; \n&gt; Technically, yes - at some point you just need to give up.\n&gt; =\r\n\n&gt;&gt; \n&gt;&gt;&gt; \n&gt;&gt;&gt;&gt; I may instead represent this as some form of tree, perhaps s=\r\nomething like:\n&gt;&gt;&gt;&gt; \n&gt;&gt;&gt;&gt; from(&quot;/&quot;).follow(&quot;#users_link&quot; ).handle({\n&gt;&gt;&gt;&gt; 20=\r\n0: fill_form(&quot;search_user&quot; , ...)...\n&gt;&gt;&gt;&gt; 404: ...\n&gt;&gt;&gt;&gt; })\n&gt;&gt;&gt; \n&gt;&gt;&gt; The 200=\r\n still does not mean that the form will be there (or that the response will=\r\n be in a media type that you expect)\n&gt;&gt;&gt; Also, what about 201,202,303,204..=\r\n.. you have to handle all of those, too. ... yes, the REST client side is h=\r\nard ...\n&gt;&gt;&gt; \n&gt;&gt; If I do a GET, i should expect a 200 if it exists, 404 othe=\r\nrwise. I can choose logical defaults for 3xx series possibly make it transp=\r\narent to the programmer unless he chooses to do so. 5xx series, well, that =\r\nwould raise exception. Same with PUT, POST, etc, there are certain status c=\r\nodes the client should expect, some status codes wherein default action wou=\r\nld be ok, and the rest, that simply won&#39;t make sense (i.e., a 201 on a GET =\r\nrequest).\n&gt; \n&gt; Yes. I wanted to stress the point that you should handle tho=\r\nse codes that make sense (202 on GET also, IMO). But as long as you think a=\r\nlong the lines you describe that&#39;s ok I guess.\n&gt; \n&gt; \n&gt;&gt;&gt; \n&gt;&gt;&gt;&gt; \n&gt;&gt;&gt;&gt; On the=\r\n other hand, I would rather do the previous one and handle exceptions inste=\r\nad.\n&gt;&gt;&gt; \n&gt;&gt;&gt; Well, you can, of course. But you must understand that what yo=\r\nu handle as exceptions does not mean the server behaves incorrect because a=\r\nny valid HTTP response is part of the contract. The exceptions would essent=\r\nially only handle the client side &#39;broken&#39; implementation.\n&gt;&gt;&gt; \n&gt;&gt;&gt;&gt; The cl=\r\nient should know some information about the server&#39;s state machine right?\n&gt;=\r\n&gt;&gt; \n&gt;&gt;&gt; No! That is the essence of the hypermedia constraint. It must look =\r\nat each steady state in isolation and &#39;make the best of it&#39; in a sense.\n&gt;&gt;&gt;=\r\n \n&gt;&gt;&gt; Note that this influences the issue of media type design substantiall=\r\ny because you can design types that make this very hard or types that maket=\r\nhis easier.\n&gt;&gt; \n&gt;&gt; It doesn&#39;t have to learn of the entire server&#39;s state ma=\r\nchine, but just enough of it. The clients need some prior knowledge on how =\r\nto jump from one resource to another,\n&gt; \n&gt; It must know the media type to u=\r\nnderstand the meaning of the current transitions. It can then coose the tra=\r\nnsition that advances its built-in goal but it cannot have any expectation =\r\nabout what is being returned by the server.\n&gt; \n&gt; (Note that the client *can=\r\n* expect for the server to not lie, e.g. &lt;img src=3D&quot;&quot;/&gt; must point to an i=\r\nmage, &lt;app:collection href=3D&quot;&quot;/&gt; must point to a collection.)\n&gt; \n&gt; \n&gt;&gt; pos=\r\nsibly in the form of xpath, json traversal rules, or rdf relationships.\n&gt; \n=\r\n&gt; What do you mean here? I did not get that.\n&gt; \n&gt; \n&gt; \n&gt;&gt; \n&gt;&gt;&gt; \n&gt;&gt;&gt;&gt; And if =\r\nit asks right, it should rightfully expect that it gets the content-type it=\r\n requested for.\n&gt;&gt;&gt; \n&gt;&gt;&gt; Still, if it gets a 406 it should be able to handl=\r\ne that and not just dump an exception into the logs.\n&gt;&gt; \n&gt;&gt; What else is th=\r\nere to do? Unless some AI stuff is going on, I don&#39;t think it can do much t=\r\no recover.\n&gt; \n&gt; See above: leverage the still existing conversation. In add=\r\nition, think more in terms of &#39;client is not able to reach its overall goal=\r\n&#39; from the current steady state as opposed to &#39;the server did not send me w=\r\nhat it should have - that&#39;s an exception&#39;. Even if the end result is about =\r\nthe same - the style inthinging is different.\n&gt; \n&gt; \n&gt;&gt; \n&gt;&gt;&gt; \n&gt;&gt;&gt;&gt; How else =\r\nwould it be able to do its task?\n&gt;&gt;&gt; \n&gt;&gt;&gt; By knowing the set of media types=\r\n to expect and by handling every media type for every response.\n&gt;&gt; \n&gt;&gt; Exac=\r\ntly. There are some assumptions that must be in place -- certain expectatio=\r\nns how the server can act.\n&gt;&gt; \n&gt;&gt; I&#39;m curious though. Say for a social netw=\r\nork API, how would some client know who the friends are of some user?\n&gt; \n&gt; =\r\nWhat do you mean?\n&gt; \n&gt; \n&gt; Jan\n&gt; \n&gt; \n&gt; \n&gt;&gt; \n&gt;&gt;&gt; \n&gt;&gt;&gt; \n&gt;&gt;&gt; Jan\n&gt;&gt;&gt; \n&gt;&gt;&gt;&gt; \n&gt;&gt;&gt;=\r\n&gt; On Feb 19, 2010, at 3:05 PM, Jan Algermissen wrote:\n&gt;&gt;&gt;&gt; \n&gt;&gt;&gt;&gt;&gt; \n&gt;&gt;&gt;&gt;&gt; On=\r\n Feb 19, 2010, at 8:03 AM, Jan Algermissen wrote:\n&gt;&gt;&gt;&gt;&gt; \n&gt;&gt;&gt;&gt;&gt;&gt; \n&gt;&gt;&gt;&gt;&gt;&gt; [1]=\r\n In my opinion, the client must know the types at design time - otherwise, =\r\nthe client could not be coded in the first place\n&gt;&gt;&gt;&gt;&gt; \n&gt;&gt;&gt;&gt;&gt; Meant to add =\r\nthis link to some thoughts about this: http://www.nordsc.com/blog/?cat=3D4\n=\r\n&gt;&gt;&gt;&gt;&gt; \n&gt;&gt;&gt;&gt;&gt; Jan\n&gt;&gt;&gt;&gt;&gt; \n&gt;&gt;&gt;&gt;&gt; \n&gt;&gt;&gt;&gt;&gt;&gt; \n&gt;&gt;&gt;&gt;&gt;&gt; \n&gt;&gt;&gt;&gt;&gt;&gt;&gt; \n&gt;&gt;&gt;&gt;&gt;&gt;&gt; In reality =\r\nof course, this shouldn&#39;t really necessitate multiple calls to the server i=\r\nf called multiple times since previous results have been cached and process=\r\ned on the client side. Only when the cache expires, should there be an atte=\r\nmpt to request again. I&#39;m not really sure if RESTful clients that respect H=\r\nATEOAS do it this way, and should they in the first place. If they do, are =\r\nthere tools that exist for this?\n&gt;&gt;&gt;&gt;&gt;&gt;&gt; \n&gt;&gt;&gt;&gt;&gt;&gt;&gt; On a side note, content t=\r\nype negotiation should be preconfigured before doing the call I stated abov=\r\ne.\n&gt;&gt;&gt;&gt;&gt;&gt;&gt; \n&gt;&gt;&gt;&gt;&gt;&gt;&gt; Thanks,\n&gt;&gt;&gt;&gt;&gt;&gt;&gt; \n&gt;&gt;&gt;&gt;&gt;&gt;&gt; Jan Vincent Liwanag\n&gt;&gt;&gt;&gt;&gt;&gt;&gt; jv=\r\nliwanag@...\n&gt;&gt;&gt;&gt;&gt;&gt;&gt; \n&gt;&gt;&gt;&gt;&gt;&gt;&gt; \n&gt;&gt;&gt;&gt;&gt;&gt;&gt; \n&gt;&gt;&gt;&gt;&gt;&gt;&gt; \n&gt;&gt;&gt;&gt;&gt;&gt;&gt; \n&gt;&gt;&gt;&gt;&gt;&gt;&gt; ----=\r\n--------------------------------\n&gt;&gt;&gt;&gt;&gt;&gt;&gt; \n&gt;&gt;&gt;&gt;&gt;&gt;&gt; Yahoo! Groups Links\n&gt;&gt;&gt;&gt;&gt;=\r\n&gt;&gt; \n&gt;&gt;&gt;&gt;&gt;&gt;&gt; \n&gt;&gt;&gt;&gt;&gt;&gt;&gt; \n&gt;&gt;&gt;&gt;&gt;&gt; \n&gt;&gt;&gt;&gt;&gt;&gt; -----------------------------------\n&gt;&gt;=\r\n&gt;&gt;&gt;&gt; Jan Algermissen, Consultant\n&gt;&gt;&gt;&gt;&gt;&gt; NORD Software Consulting\n&gt;&gt;&gt;&gt;&gt;&gt; \n&gt;&gt;=\r\n&gt;&gt;&gt;&gt; Mail: algermissen@...\n&gt;&gt;&gt;&gt;&gt;&gt; Blog: http://www.nordsc.com/blog/\n&gt;&gt;&gt;=\r\n&gt;&gt;&gt; Work: http://www.nordsc.com/\n&gt;&gt;&gt;&gt;&gt;&gt; -----------------------------------=\r\n\n&gt;&gt;&gt;&gt;&gt;&gt; \n&gt;&gt;&gt;&gt;&gt;&gt; \n&gt;&gt;&gt;&gt;&gt;&gt; \n&gt;&gt;&gt;&gt;&gt;&gt; \n&gt;&gt;&gt;&gt;&gt;&gt; \n&gt;&gt;&gt;&gt;&gt;&gt; \n&gt;&gt;&gt;&gt;&gt;&gt; -------------------=\r\n-----------------\n&gt;&gt;&gt;&gt;&gt;&gt; \n&gt;&gt;&gt;&gt;&gt;&gt; Yahoo! Groups Links\n&gt;&gt;&gt;&gt;&gt;&gt; \n&gt;&gt;&gt;&gt;&gt;&gt; \n&gt;&gt;&gt;&gt;&gt;&gt;=\r\n \n&gt;&gt;&gt;&gt;&gt; \n&gt;&gt;&gt;&gt;&gt; -----------------------------------\n&gt;&gt;&gt;&gt;&gt; Jan Algermissen, C=\r\nonsultant\n&gt;&gt;&gt;&gt;&gt; NORD Software Consulting\n&gt;&gt;&gt;&gt;&gt; \n&gt;&gt;&gt;&gt;&gt; Mail: algermissen@acm=\r\n.org\n&gt;&gt;&gt;&gt;&gt; Blog: http://www.nordsc.com/blog/\n&gt;&gt;&gt;&gt;&gt; Work: http://www.nordsc.=\r\ncom/\n&gt;&gt;&gt;&gt;&gt; -----------------------------------\n&gt;&gt;&gt;&gt;&gt; \n&gt;&gt;&gt;&gt;&gt; \n&gt;&gt;&gt;&gt;&gt; \n&gt;&gt;&gt;&gt;&gt; \n=\r\n&gt;&gt;&gt;&gt; \n&gt;&gt;&gt;&gt; Jan Vincent Liwanag\n&gt;&gt;&gt;&gt; jvliwanag@...\n&gt;&gt;&gt;&gt; \n&gt;&gt;&gt;&gt; \n&gt;&gt;&gt;&gt; \n&gt;=\r\n&gt;&gt; \n&gt;&gt;&gt; -----------------------------------\n&gt;&gt;&gt; Jan Algermissen, Consultant=\r\n\n&gt;&gt;&gt; NORD Software Consulting\n&gt;&gt;&gt; \n&gt;&gt;&gt; Mail: algermissen@...\n&gt;&gt;&gt; Blog: =\r\nhttp://www.nordsc.com/blog/\n&gt;&gt;&gt; Work: http://www.nordsc.com/\n&gt;&gt;&gt; ----------=\r\n-------------------------\n&gt;&gt;&gt; \n&gt;&gt;&gt; \n&gt;&gt;&gt; \n&gt;&gt;&gt; \n&gt;&gt; \n&gt;&gt; Jan Vincent Liwanag\n&gt;&gt;=\r\n jvliwanag@...\n&gt;&gt; \n&gt;&gt; \n&gt;&gt; \n&gt; \n&gt; -----------------------------------\n&gt;=\r\n Jan Algermissen, Consultant\n&gt; NORD Software Consulting\n&gt; \n&gt; Mail: algermis=\r\nsen@...\n&gt; Blog: http://www.nordsc.com/blog/\n&gt; Work: http://www.nordsc.c=\r\nom/\n&gt; -----------------------------------\n&gt; \n&gt; \n&gt; \n&gt; \n\nJan Vincent Liwanag\n=\r\njvliwanag@...\n\n\n\n\n"}}
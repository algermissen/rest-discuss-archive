{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":69164307,"authorName":"mike amundsen","from":"mike amundsen &lt;mamund@...&gt;","profile":"mamund","replyTo":"SENDER","senderId":"L7MGTWV1ArgXshoirhKlqyz_qu_L1iSauGMIr_K8TuywTKKqwHIJLbN3CJKRzJemU02jinvaCow9r2tWyB2ChI8Tm2a94Cc","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Fwd: [rest-discuss] User dependent Resources","postDate":"1315172039","msgId":17714,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PENBUFdfOG00QVlYT0UyQTY9d0RtdkUwTGJjcUgrZFlfMnlQc0dTVWszcE5xWjg3UmkrZ0BtYWlsLmdtYWlsLmNvbT4=","inReplyToHeader":"PENBUFdfOG01TlY2dUJFdFRZblVhU0taNzdSZj0wcVhNRjdfYkpLZUxiUHV4V3pPcjJvZ0BtYWlsLmdtYWlsLmNvbT4=","referencesHeader":"PGo0MGs4bitodDNvQGVHcm91cHMuY29tPgk8Q0FQV184bTVOVjZ1QkV0VFluVWFTS1o3N1JmPTBxWE1GN19iSktlTGJQdXhXek9yMm9nQG1haWwuZ21haWwuY29tPg=="},"prevInTopic":0,"nextInTopic":17715,"prevInTime":17713,"nextInTime":17715,"topicId":17714,"numMessagesInTopic":12,"msgSnippet":"I ve approached this in the following ways: 1) use dedicated resource : /my-tasks/joe, /joe/my-tasks, etc. Advantage here is the exact resource is easy to","rawEmail":"Return-Path: &lt;mca@...&gt;\r\nX-Sender: mca@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 17257 invoked from network); 4 Sep 2011 21:34:01 -0000\r\nX-Received: from unknown (98.137.34.44)\n  by m15.grp.sp2.yahoo.com with QMQP; 4 Sep 2011 21:34:01 -0000\r\nX-Received: from unknown (HELO mail-ww0-f53.google.com) (74.125.82.53)\n  by mta1.grp.sp2.yahoo.com with SMTP; 4 Sep 2011 21:34:01 -0000\r\nX-Received: by wwf25 with SMTP id 25so3599859wwf.22\n        for &lt;rest-discuss@yahoogroups.com&gt;; Sun, 04 Sep 2011 14:33:59 -0700 (PDT)\r\nMIME-Version: 1.0\r\nX-Received: by 10.216.171.3 with SMTP id q3mr1129609wel.50.1315172039224; Sun,\n 04 Sep 2011 14:33:59 -0700 (PDT)\r\nX-Received: by 10.216.38.194 with HTTP; Sun, 4 Sep 2011 14:33:59 -0700 (PDT)\r\nIn-Reply-To: &lt;CAPW_8m5NV6uBEtTYnUaSKZ77Rf=0qXMF7_bJKeLbPuxWzOr2og@...&gt;\r\nReferences: &lt;j40k8n+ht3o@...&gt;\n\t&lt;CAPW_8m5NV6uBEtTYnUaSKZ77Rf=0qXMF7_bJKeLbPuxWzOr2og@...&gt;\r\nDate: Sun, 4 Sep 2011 17:33:59 -0400\r\nX-Google-Sender-Auth: plFIE7LyD_4b4hBkn-yId8QhXhU\r\nMessage-ID: &lt;CAPW_8m4AYXOE2A6=wDmvE0LbcqH+dY_2yPsGSUk3pNqZ87Ri+g@...&gt;\r\nTo: rest-discuss &lt;rest-discuss@yahoogroups.com&gt;\r\nContent-Type: multipart/alternative; boundary=0016363ba5f4376cee04ac245aa0\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: mike amundsen &lt;mamund@...&gt;\r\nSubject: Fwd: [rest-discuss] User dependent Resources\r\nX-Yahoo-Group-Post: member; u=69164307; y=j9Y-MUwYDZMQsvL2XtZjkJf68_KjjquUmAm8ZHkMncz-\r\nX-Yahoo-Profile: mamund\r\n\r\n\r\n--0016363ba5f4376cee04ac245aa0\r\nContent-Type: text/plain; charset=ISO-8859-1\r\n\r\nI&#39;ve approached this in the following ways:\n\n1) use dedicated resource : /my-tasks/joe, /joe/my-tasks, etc.\n\nAdvantage here is the exact resource is easy to find, cache, and bookmark.\nDownside is the server must compose this and caches need to keep track of\nminor changes (add, edit, remove, tasks) in the resource (usually via\nETags).\n\n2) use two resources : /my-tasks/ and include code on demand that uses\ntransient state (i.e. cookie, authentication header, etc) to identify and\nload personalization data from another URI.\n\nAdvantage here is there is a single resource that can be shared by all users\nof /my-tasks/ and a second (equally cache-able) resource that is specific to\nthe logged-in user. Downside is that this is not easily book-markable since\nstate is involved in retrieving the second resource. You can mitigate this\nby using an extra URI as a bookmark (/bookmark?/my-tasks&user=joe, etc.) or\nstore the transient state in the URI using a hashtag (/my-tasks/#joe, etc.).\nDev will need to make sure the code-on-demand also does the proper caching\nwork (attend to hastags, track 304 responses, etc.)\n\n3) have servers use a generic URI (/my-tasks/) plus transient data (cookie,\nauthorization header, etc.) to compose the resource server-side and mark the\nresource w/ a &quot;Vary&quot; header that includes the transient state container to\nmake sure caches keep the variants sorted.  Advantage is it&#39;s easy to\nbookmark and does not require code-on-demand. Downside is a loss of\nvisbility in general (the URI does not identify the resource anymore and\npossible unexpected results when sharing the link (will be harder for userA\nto share w/ userB as the server will step in and mung the resource\nrepresentation).\n\nI usually use #2 unless scripting is dis-allowed/unavailable then i use #1.\nI rarely use #3.\n\nmca\nhttp://amundsen.com/blog/\nhttp://twitter.com@mamund\nhttp://mamund.com/foaf.rdf#me\n\n\n#RESTFest 2011 - Aug 18-20\nhttp://restfest.org\n\n\n\nOn Sun, Sep 4, 2011 at 15:41, bryan_w_taylor &lt;bryan_w_taylor@...&gt;wrote:\n\n&gt; Is it reasonable for a resource to return representations that vary based\n&gt; on the authenticated user? Eg:\n&gt;\n&gt; http://example.com/my-tasks\n&gt;  vs\n&gt; http://example.com/tasks?user=joe\n&gt;\n&gt; We&#39;ve consider offering both and having my-tasks redirect to the\n&gt; appropriate user= resource. This helps caching, but at the cost of an extra\n&gt; network round trip. It also creates a potential for a direct object\n&gt; reference vulnerability, as I can&#39;t trust URIs that come from joe to always\n&gt; say user=joe as joe my get frisky and hand edit it to be user=jane. So I\n&gt; have to check the auth&#39;d user vs the URI parameter anyway. Though I might\n&gt; actually want managers to be able to use the user= form on employees that\n&gt; report up to them.\n&gt;\n&gt; The my-tasks URI has a huge advantage that it&#39;s static, so I can give it to\n&gt; users from static content, or more importantly from external or\n&gt; non-authenticated content where the server that delivers the URI doesn&#39;t\n&gt; know I call him joe. The redirect strategy also works for this.\n&gt;\n&gt; Aside from breaking caching, is there anything wrong with just returning\n&gt; joe&#39;s task when he hits my-tasks ? This contemplates a resource that\n&gt; responds to GET with representations that depend on the session token from a\n&gt; cookie or a header. My thoughts on the redirect are that it&#39;s STILL a user\n&gt; dependent resource, and that unless I make the user type &quot;joe&quot; in a form,\n&gt; whatever page gives him the user=joe link is probably also user dependent. I\n&gt; suppose I could even save caching by using a rewrite rule instead of a\n&gt; redirect.\n&gt;\n&gt;\n&gt;\n&gt;\n&gt; ------------------------------------\n&gt;\n&gt; Yahoo! Groups Links\n&gt;\n&gt;\n&gt;\n&gt;\n\r\n--0016363ba5f4376cee04ac245aa0\r\nContent-Type: text/html; charset=ISO-8859-1\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\n&lt;div class=3D&quot;gmail_quote&quot;&gt;I&#39;ve approached this in the following ways:&lt;=\r\ndiv&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;1) use dedicated resource : /my-tasks/joe, /joe/my-tasks=\r\n, etc.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Advantage here is the exact resource is eas=\r\ny to find, cache, and bookmark. Downside is the server must compose this an=\r\nd caches need to keep track of minor changes (add, edit, remove, tasks) in =\r\nthe resource (usually via ETags).&lt;/div&gt;\n\n&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;2) use two res=\r\nources : /my-tasks/ and include code on demand that uses transient state (i=\r\n.e. cookie, authentication header, etc) to identify and load personalizatio=\r\nn data from another URI.=A0&lt;/div&gt;&lt;div&gt;\n&lt;br&gt;\n&lt;/div&gt;&lt;div&gt;Advantage here is th=\r\nere is a single resource that can be shared by all users of /my-tasks/ and =\r\na second (equally cache-able) resource that is specific to the logged-in us=\r\ner. Downside is that this is not easily book-markable since state is involv=\r\ned in=A0retrieving=A0the second resource. You can mitigate this by using an=\r\n extra URI as a bookmark (/bookmark?/my-tasks&amp;user=3Djoe, etc.) or stor=\r\ne the transient state in the URI using a hashtag (/my-tasks/#joe, etc.). De=\r\nv will need to make sure the code-on-demand also does the proper caching wo=\r\nrk (attend to hastags, track 304 responses, etc.)&lt;/div&gt;\n\n&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;di=\r\nv&gt;3) have servers use a generic URI (/my-tasks/) plus transient data (cooki=\r\ne, authorization header, etc.) to compose the resource server-side and mark=\r\n the resource w/ a &quot;Vary&quot; header that includes the transient stat=\r\ne container to make sure caches keep the variants sorted. =A0Advantage is i=\r\nt&#39;s easy to bookmark and does not require code-on-demand. Downside is a=\r\n loss of visbility in general (the URI does not identify the resource anymo=\r\nre and possible unexpected results when sharing the link (will be harder fo=\r\nr userA to share w/ userB as the server will step in and mung the resource =\r\nrepresentation).&lt;/div&gt;\n\n&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I usually use #2 unless scripti=\r\nng is dis-allowed/unavailable then i use #1. I rarely use #3.&lt;/div&gt;&lt;div&gt;&lt;br=\r\n clear=3D&quot;all&quot;&gt;mca&lt;br&gt;&lt;a href=3D&quot;http://amundsen.com/blog/&quot; target=3D&quot;_blan=\r\nk&quot;&gt;http://amundsen.com/blog/&lt;/a&gt;&lt;br&gt;\n\n&lt;a href=3D&quot;http://twitter.com&quot; target=\r\n=3D&quot;_blank&quot;&gt;http://twitter.com&lt;/a&gt;@mamund&lt;br&gt;&lt;a href=3D&quot;http://mamund.com/f=\r\noaf.rdf#me&quot; target=3D&quot;_blank&quot;&gt;http://mamund.com/foaf.rdf#me&lt;/a&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;=\r\n#RESTFest 2011 - Aug 18-20&lt;br&gt;&lt;a href=3D&quot;http://restfest.org&quot; target=3D&quot;_bl=\r\nank&quot;&gt;http://restfest.org&lt;/a&gt;&lt;div&gt;\n&lt;div&gt;&lt;/div&gt;&lt;div class=3D&quot;h5&quot;&gt;&lt;br&gt;\n\n&lt;br&gt;&lt;b=\r\nr&gt;&lt;div class=3D&quot;gmail_quote&quot;&gt;On Sun, Sep 4, 2011 at 15:41, bryan_w_taylor &lt;=\r\nspan dir=3D&quot;ltr&quot;&gt;&lt;&lt;a href=3D&quot;mailto:bryan_w_taylor@...&quot; target=3D&quot;=\r\n_blank&quot;&gt;bryan_w_taylor@...&lt;/a&gt;&gt;&lt;/span&gt; wrote:&lt;br&gt;&lt;blockquote class=\r\n=3D&quot;gmail_quote&quot; style=3D&quot;margin:0 0 0 .8ex;border-left:1px #ccc solid;padd=\r\ning-left:1ex&quot;&gt;\n\nIs it reasonable for a resource to return representations t=\r\nhat vary based on the authenticated user? Eg:&lt;br&gt;\n&lt;br&gt;\n&lt;a href=3D&quot;http://ex=\r\nample.com/my-tasks&quot; target=3D&quot;_blank&quot;&gt;http://example.com/my-tasks&lt;/a&gt;&lt;br&gt;\n =\r\n=A0vs&lt;br&gt;\n&lt;a href=3D&quot;http://example.com/tasks?user=3Djoe&quot; target=3D&quot;_blank&quot;=\r\n&gt;http://example.com/tasks?user=3Djoe&lt;/a&gt;&lt;br&gt;\n&lt;br&gt;\nWe&#39;ve consider offeri=\r\nng both and having my-tasks redirect to the appropriate user=3D resource. T=\r\nhis helps caching, but at the cost of an extra network round trip. It also =\r\ncreates a potential for a direct object reference vulnerability, as I can&#=\r\n39;t trust URIs that come from joe to always say user=3Djoe as joe my get f=\r\nrisky and hand edit it to be user=3Djane. So I have to check the auth&#39;d=\r\n user vs the URI parameter anyway. Though I might actually want managers to=\r\n be able to use the user=3D form on employees that report up to them.&lt;br&gt;\n\n=\r\n\n&lt;br&gt;\nThe my-tasks URI has a huge advantage that it&#39;s static, so I can =\r\ngive it to users from static content, or more importantly from external or =\r\nnon-authenticated content where the server that delivers the URI doesn&#39;=\r\nt know I call him joe. The redirect strategy also works for this.&lt;br&gt;\n\n\n&lt;br=\r\n&gt;\nAside from breaking caching, is there anything wrong with just returning =\r\njoe&#39;s task when he hits my-tasks ? This contemplates a resource that re=\r\nsponds to GET with representations that depend on the session token from a =\r\ncookie or a header. My thoughts on the redirect are that it&#39;s STILL a u=\r\nser dependent resource, and that unless I make the user type &quot;joe&quot=\r\n; in a form, whatever page gives him the user=3Djoe link is probably also u=\r\nser dependent. I suppose I could even save caching by using a rewrite rule =\r\ninstead of a redirect.&lt;br&gt;\n\n\n&lt;br&gt;\n&lt;br&gt;\n&lt;br&gt;\n&lt;br&gt;\n--------------------------=\r\n----------&lt;br&gt;\n&lt;br&gt;\nYahoo! Groups Links&lt;br&gt;\n&lt;br&gt;\n&lt;*&gt; To visit your gr=\r\noup on the web, go to:&lt;br&gt;\n =A0 =A0&lt;a href=3D&quot;http://groups.yahoo.com/group=\r\n/rest-discuss/&quot; target=3D&quot;_blank&quot;&gt;http://groups.yahoo.com/group/rest-discus=\r\ns/&lt;/a&gt;&lt;br&gt;\n&lt;br&gt;\n&lt;*&gt; Your email settings:&lt;br&gt;\n =A0 =A0Individual Email=\r\n | Traditional&lt;br&gt;\n&lt;br&gt;\n&lt;*&gt; To change settings online go to:&lt;br&gt;\n =A0=\r\n =A0&lt;a href=3D&quot;http://groups.yahoo.com/group/rest-discuss/join&quot; target=3D&quot;_=\r\nblank&quot;&gt;http://groups.yahoo.com/group/rest-discuss/join&lt;/a&gt;&lt;br&gt;\n =A0 =A0(Yah=\r\noo! ID required)&lt;br&gt;\n&lt;br&gt;\n&lt;*&gt; To change settings via email:&lt;br&gt;\n =A0 =\r\n=A0&lt;a href=3D&quot;mailto:rest-discuss-digest@yahoogroups.com&quot; target=3D&quot;_blank&quot;=\r\n&gt;rest-discuss-digest@yahoogroups.com&lt;/a&gt;&lt;br&gt;\n =A0 =A0&lt;a href=3D&quot;mailto:rest=\r\n-discuss-fullfeatured@yahoogroups.com&quot; target=3D&quot;_blank&quot;&gt;rest-discuss-fullf=\r\neatured@yahoogroups.com&lt;/a&gt;&lt;br&gt;\n&lt;br&gt;\n&lt;*&gt; To unsubscribe from this gro=\r\nup, send an email to:&lt;br&gt;\n =A0 =A0&lt;a href=3D&quot;mailto:rest-discuss-unsubscrib=\r\ne@yahoogroups.com&quot; target=3D&quot;_blank&quot;&gt;rest-discuss-unsubscribe@yahoogroups.c=\r\nom&lt;/a&gt;&lt;br&gt;\n&lt;br&gt;\n&lt;*&gt; Your use of Yahoo! Groups is subject to:&lt;br&gt;\n =A0=\r\n =A0&lt;a href=3D&quot;http://docs.yahoo.com/info/terms/&quot; target=3D&quot;_blank&quot;&gt;http://=\r\ndocs.yahoo.com/info/terms/&lt;/a&gt;&lt;br&gt;\n&lt;br&gt;\n&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;=\r\n&lt;/div&gt;\n&lt;/div&gt;&lt;br&gt;\n\r\n--0016363ba5f4376cee04ac245aa0--\r\n\n"}}
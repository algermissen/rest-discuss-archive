{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":69164307,"authorName":"mike amundsen","from":"mike amundsen &lt;mamund@...&gt;","profile":"mamund","replyTo":"SENDER","senderId":"YmGmJHuetZyeMMUVZRs_huM_sAg4Q_fBhqyuNpPlwiU2fw5hO28ZbDoywhO9aNQNaDNjTBDFOqgSHqk312bdvuWbKdqx_9o","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [rest-discuss] RESTful ordering and order-rejection","postDate":"1256954288","msgId":13971,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PGI1NDhkZjY1MDkxMDMwMTg1OHU3M2QzMmI4ZXFjZjRkNTZiMDQ3MzA5MDQxQG1haWwuZ21haWwuY29tPg==","inReplyToHeader":"PDJCNkI4NDNFLTVGNDUtNENCQy05QzM5LTBBMkY4RDMwQTk1QUBtYWMuY29tPg==","referencesHeader":"PDJCNkI4NDNFLTVGNDUtNENCQy05QzM5LTBBMkY4RDMwQTk1QUBtYWMuY29tPg=="},"prevInTopic":13970,"nextInTopic":13972,"prevInTime":13970,"nextInTime":13972,"topicId":13970,"numMessagesInTopic":18,"msgSnippet":"Jan: One approach is to allow for the creation of an order that always results in an order resource that has a pending status element. POST /orders .. ","rawEmail":"Return-Path: &lt;mca@...&gt;\r\nX-Sender: mca@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 58060 invoked from network); 31 Oct 2009 01:58:10 -0000\r\nX-Received: from unknown (98.137.34.45)\n  by m1.grp.sp2.yahoo.com with QMQP; 31 Oct 2009 01:58:10 -0000\r\nX-Received: from unknown (HELO mail-bw0-f219.google.com) (209.85.218.219)\n  by mta2.grp.sp2.yahoo.com with SMTP; 31 Oct 2009 01:58:10 -0000\r\nX-Received: by bwz19 with SMTP id 19so4568981bwz.8\n        for &lt;rest-discuss@yahoogroups.com&gt;; Fri, 30 Oct 2009 18:58:09 -0700 (PDT)\r\nMIME-Version: 1.0\r\nX-Received: by 10.223.132.210 with SMTP id c18mr333469fat.31.1256954288710; Fri, \n\t30 Oct 2009 18:58:08 -0700 (PDT)\r\nIn-Reply-To: &lt;2B6B843E-5F45-4CBC-9C39-0A2F8D30A95A@...&gt;\r\nReferences: &lt;2B6B843E-5F45-4CBC-9C39-0A2F8D30A95A@...&gt;\r\nDate: Fri, 30 Oct 2009 21:58:08 -0400\r\nX-Google-Sender-Auth: 27ef59904019530a\r\nMessage-ID: &lt;b548df650910301858u73d32b8eqcf4d56b047309041@...&gt;\r\nTo: Jan Algermissen &lt;algermissen1971@...&gt;\r\nCc: REST Discuss &lt;rest-discuss@yahoogroups.com&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Transfer-Encoding: quoted-printable\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: mike amundsen &lt;mamund@...&gt;\r\nSubject: Re: [rest-discuss] RESTful ordering and order-rejection\r\nX-Yahoo-Group-Post: member; u=69164307; y=xPFbN9tG0oRCmObL5a9VcoaVKL5oy3dakA7qcifINthG\r\nX-Yahoo-Profile: mamund\r\n\r\nJan:\n\nOne approach is to allow for the creation of an order that always\nres=\r\nults in an order resource that has a &quot;pending&quot; status element.\n\nPOST /order=\r\ns\n..\n&lt;order /&gt;\n\n201 OK\nLocation: /orders/123\n\nYou could then support an ope=\r\nration that results in a change in the\nstatus of that order. This could be =\r\nhandled a number of ways:\n\n1. Simply allow a PUT to modify the order status=\r\n element\nPUT /order/123\n\n2. Support the creation of approval resources\nPOST=\r\n /order-approval\n...\n&lt;order id=3D&quot;123&quot; status=3D&quot;approved&quot; concurrency-tag=\r\n=3D&quot;a1s2d3f4g5&quot; /&gt;\n\n303 See Other\nLocation /orders/123 (w/ the status updat=\r\ned)\n\nAs for error codes on failed approvals/orders, along with 409 (or just=\r\n\n400) check out WebDAV status code extensions [1]. I&#39;ve used 422 and\n424 in=\r\n similar situations.\n\nmca\nhttp://amundsen.com/blog/\n\n[1] http://www.webdav.=\r\norg/specs/rfc2518.html#status.code.extensions.to.http11\n\n\n\nOn Fri, Oct 30, =\r\n2009 at 19:01, Jan Algermissen &lt;algermissen1971@...&gt; wrote:\n&gt; Hi,\n&gt;\n&gt; s=\r\nuppose the following media types do exist:\n&gt;\n&gt; - application/procurement-or=\r\nder for orders\n&gt; - application/procurement-orderrejection for order rejecti=\r\nons\n&gt;\n&gt; also suppose the client knows there is a resource at /order-process=\r\nor\n&gt; that accepts orders in application/procurement-order media type.\n&gt;\n&gt; W=\r\nhat if the client submits an order and the server wants to reject\n&gt; the ord=\r\ner (maybe because the requested items are permanently out\n&gt; of stock)? What=\r\n return code would teh server use and does it make\n&gt; sense to send the orde=\r\nr rejection document as the body of the\n&gt; (error-)response?\n&gt;\n&gt; Example:\n&gt;\n=\r\n&gt;\n&gt; -&gt;\n&gt; POST /order=3Dprocessor\n&gt; Content-Type: application/procurement-or=\r\nder\n&gt;\n&gt; &lt;the order XML goes here&gt;\n&gt;\n&gt; 409 Confilct\n&gt; Content-Type: applicat=\r\nion/procurement-orderrejection\n&gt;\n&gt; &lt;xml of order rejection document goes he=\r\nre, maybe\n&gt; telling the client how to fix the problem (e.g.\n&gt; suggesting si=\r\nmilar goods that are in stock)&gt;\n&gt;\n&gt;\n&gt; Does that make sense? And if not - ho=\r\nw else to do it?\n&gt;\n&gt; Hmm, an alternative would be to create an order reques=\r\nt resource and\n&gt; not just an order resource and make the rejection part of =\r\nthe\n&gt; representation of the order request:\n&gt;\n&gt; POST /order-processor\n&gt; Cont=\r\nent-Type: application/procurement-order\n&gt;\n&gt; 201 Created\n&gt; Location /order-p=\r\nrocessor/order-requests\n&gt; Content-Type: application/order-request\n&gt;\n&gt; &lt;XML =\r\nrepresenting the state of the order-request, which at the moment is\n&gt; &#39;reje=\r\ncted&#39;&gt;\n&gt;\n&gt;\n&gt; A client could then PUT/PATCH the order to fix the problem acc=\r\nording to\n&gt; suggestions made in the order-request response.\n&gt;\n&gt;\n&gt; Does that=\r\n sound better?\n&gt;\n&gt; Jan\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt; ------------------------------------=\r\n\n&gt;\n&gt; Yahoo! Groups Links\n&gt;\n&gt;\n&gt;\n&gt;\n\n"}}
{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":302007611,"authorName":"Gary Bernhardt","from":"&quot;Gary Bernhardt&quot; &lt;gary.bernhardt@...&gt;","profile":"gary.bernhardt","replyTo":"SENDER","senderId":"cBjPW8jLXKs18Di1GmigPv4V4k2W-N613dprHQMaBsSkmgz1t169QaerdKqPzEuIkUj89qzi6Z5GpMnByUVKMPDb-xPfE_Xh2hFrkexNoqaHFQ","spamInfo":{"isSpam":false,"reason":"6"},"subject":"Re: [rest-discuss] Updating metadata of multiple resources","postDate":"1209773523","msgId":10698,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDljMzRjNzJlMDgwNTAyMTcxMmw2YmRhMzhjeTViMzhlMDc0NjkxZjg0ZjBAbWFpbC5nbWFpbC5jb20+","inReplyToHeader":"PDFiZGVkZDdhMDgwNTAyMTM1Nm8zMDRhMGY4ZGsxYjNhMDNhZTNhMzBiY2FmQG1haWwuZ21haWwuY29tPg==","referencesHeader":"PDFiZGVkZDdhMDgwNTAyMTM1Nm8zMDRhMGY4ZGsxYjNhMDNhZTNhMzBiY2FmQG1haWwuZ21haWwuY29tPg=="},"prevInTopic":10697,"nextInTopic":10699,"prevInTime":10697,"nextInTime":10699,"topicId":10697,"numMessagesInTopic":19,"msgSnippet":"On Fri, May 2, 2008 at 4:56 PM, Stefano Masini ... First, it sounds like you want PUT, not POST.  PUT means create or replace the entity ; POST means accept","rawEmail":"Return-Path: &lt;gary.bernhardt@...&gt;\r\nX-Sender: gary.bernhardt@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 10738 invoked from network); 3 May 2008 00:12:03 -0000\r\nX-Received: from unknown (66.218.67.95)\n  by m55.grp.scd.yahoo.com with QMQP; 3 May 2008 00:12:03 -0000\r\nX-Received: from unknown (HELO yw-out-2324.google.com) (74.125.46.31)\n  by mta16.grp.scd.yahoo.com with SMTP; 3 May 2008 00:12:03 -0000\r\nX-Received: by yw-out-2324.google.com with SMTP id 2so46165ywt.11\n        for &lt;rest-discuss@yahoogroups.com&gt;; Fri, 02 May 2008 17:12:03 -0700 (PDT)\r\nX-Received: by 10.150.83.41 with SMTP id g41mr4064766ybb.195.1209773523315;\n        Fri, 02 May 2008 17:12:03 -0700 (PDT)\r\nX-Received: by 10.150.228.1 with HTTP; Fri, 2 May 2008 17:12:03 -0700 (PDT)\r\nMessage-ID: &lt;9c34c72e0805021712l6bda38cy5b38e074691f84f0@...&gt;\r\nDate: Fri, 2 May 2008 20:12:03 -0400\r\nTo: &quot;Stefano Masini&quot; &lt;stefano.masini@...&gt;\r\nCc: rest-discuss@yahoogroups.com\r\nIn-Reply-To: &lt;1bdedd7a0805021356o304a0f8dk1b3a03ae3a30bcaf@...&gt;\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Transfer-Encoding: 7bit\r\nContent-Disposition: inline\r\nReferences: &lt;1bdedd7a0805021356o304a0f8dk1b3a03ae3a30bcaf@...&gt;\r\nX-eGroups-Msg-Info: 1:6:0:0:0\r\nFrom: &quot;Gary Bernhardt&quot; &lt;gary.bernhardt@...&gt;\r\nReply-To: gary.bernhardt@...\r\nSubject: Re: [rest-discuss] Updating metadata of multiple resources\r\nX-Yahoo-Group-Post: member; u=302007611; y=0ClWY1p3_hdFMOTlRQNVvz61PgCs-c4i1WqF3snZ4nwU6yY2jS9ZZjI\r\nX-Yahoo-Profile: gary.bernhardt\r\n\r\nOn Fri, May 2, 2008 at 4:56 PM, Stefano Masini\n&lt;stefano.masini@...&gt; wrote:\n&gt; Hi,\n&gt;\n&gt;  I&#39;m still trying to figure rest out. Let&#39;s see if I hit a sweet spot\n&gt;  or if I&#39;m just missing something (more likely, please forgive me).\n&gt;\n&gt;  I have several images, each with its own uri that have metadata.\n&gt;  If I want to update the metadata of a given image I send a POST\n&gt;  request on its uri. Right?\n&gt;  What if I want to atomically update some metadata (say, a tag) for a\n&gt;  group of images, how do I approach that?\n&gt;  Sending multiple POST requests, one for each uri, is not atomic, so I\n&gt;  can&#39;t accept it.\n\nFirst, it sounds like you want PUT, not POST.  PUT means &quot;create or\nreplace the entity&quot;; POST means &quot;accept this entity as a child&quot;.  What\nyou want to do here is GET the full representation, make whatever\nchanges you want, then PUT the whole thing back.  It&#39;s a\n&quot;read-modify-write&quot; operation.\n\n&gt;  I thought about posting on the common parent of all the image uris\n&gt;  (say, if I have /images/1, /images/2, etc., then I post on /images).\n&gt;  In the parameters of the post request I would put a list of all the\n&gt;  imaged ids (or entire uri), so that the server can handle the request\n&gt;  atomically.\n\nI&#39;d define a way to refer to a specific set of images.  Say you want\nto modify images 1, 4, and 13.  You can PUT (and GET) to\n&quot;/images/1,4,13&quot; with an entity fully describing three images.  This\nis just like your proposed idea, except you&#39;re referring to a limited\nset of images instead of all of them.  The server then atomically\nreplaces images 1, 4, and 13 with the entities you provided.\n\nOne thing to note is that URIs like this require more complex linking.\n The client needs to be able to construct those &quot;1,4,13&quot; URIs somehow,\nbut it must be told how to, at runtime, by the server; otherwise it\nwould violate HATEoAS.  You need a way to say something like &lt;a\nhref=&quot;/images/&#92;d(,&#92;d)*&quot;&gt;, where the href there is actually a regex\ndescribing how to build a URI out of a series of integers.  Maybe\nsomeone else can chime on how to do this well, because I have no idea.\n I do know that you do *not* want to actually use regexes, though. :)\n\n&gt;  But then what should I get in return? What should /images return if I\n&gt;  issued a GET? The whole repository? Naaa... too big.\n&gt;  Isn&#39;t the POST supposed to return the same representation? Just after\n&gt;  handling the posted request.\n\nThis question is answered by the limited-subset solution above.  When\nyou GET &quot;/images/1,4,13&quot;, you get back exactly what you&#39;d expect -\nimages 1, 4, and 13, just as they were when you PUT them in.\n\n&gt;  How much am I missing from the rest picture?\n\nWell, the PUT/POST thing, but everyone makes that mistake at first. :)\nI think another thing people often miss is that the URI space doesn&#39;t\nhave to be rigid or static.  That&#39;s exactly the issue here.  What\nyou&#39;re trying to do is modify a subset of a collection, so just say it\nin the URI! :)\n\n-- \nGary\nhttp://blog.extracheese.org\n\n"}}
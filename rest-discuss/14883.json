{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":289191104,"authorName":"Jan Algermissen","from":"Jan Algermissen &lt;algermissen1971@...&gt;","profile":"algermissen1971","replyTo":"SENDER","senderId":"MEOMZ3ACB9X7iCJDkhnrfgPjQK02C7mlyiyzcCVXSoNU5jP13awgPRLZYtTyJlcuJELD5GRG7dDhXjaLciZw8sEkcVXNStJlIpPdJXz1av8","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [rest-discuss] Media Types: application/mydomain vs application/mydomain.doctypeA, application/mydomain.doctypeB, application/mydomain.doctypeC","postDate":"1266949949","msgId":14883,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDA0NTE1NEYzLTM0MTMtNERCNi1BNDg0LTk1N0RFQzgxMDg3OUBtYWMuY29tPg==","inReplyToHeader":"PGI1NDhkZjY1MTAwMjIzMTAwMnc0ZmM3YTI5OGk0ODhkZTk0NjkyOTIyZjFjQG1haWwuZ21haWwuY29tPg==","referencesHeader":"PDJGREJBNDBCLTYyQTMtNDhFOS1CMEFCLTJDRjhBQzcxQTIwNEBtYWMuY29tPiA8YjU0OGRmNjUxMDAyMjMxMDAydzRmYzdhMjk4aTQ4OGRlOTQ2OTI5MjJmMWNAbWFpbC5nbWFpbC5jb20+"},"prevInTopic":14881,"nextInTopic":14886,"prevInTime":14882,"nextInTime":14884,"topicId":14875,"numMessagesInTopic":16,"msgSnippet":"... Both, unfortunately. But then - the approach taken cannot rely on certain clients having special, improved features. ... Yes. ... Yes, that is usually","rawEmail":"Return-Path: &lt;algermissen1971@...&gt;\r\nX-Sender: algermissen1971@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 15473 invoked from network); 23 Feb 2010 19:47:24 -0000\r\nX-Received: from unknown (66.196.94.107)\n  by m11.grp.re1.yahoo.com with QMQP; 23 Feb 2010 19:47:24 -0000\r\nX-Received: from unknown (HELO asmtpout023.mac.com) (17.148.16.98)\n  by mta3.grp.re1.yahoo.com with SMTP; 23 Feb 2010 19:47:24 -0000\r\nMIME-version: 1.0\r\nContent-transfer-encoding: 7BIT\r\nContent-type: text/plain; charset=us-ascii\r\nX-Received: from [192.168.2.102] ([84.144.88.89])\n by asmtp023.mac.com (Sun Java(tm) System Messaging Server 6.3-8.01 (built Dec\n 16 2008; 32bit)) with ESMTPSA id &lt;0KYB00HNR4U5DV30@...&gt; for\n rest-discuss@yahoogroups.com; Tue, 23 Feb 2010 10:32:38 -0800 (PST)\r\nX-Proofpoint-Spam-Details: rule=notspam policy=default score=0 spamscore=0\n ipscore=0 phishscore=0 bulkscore=0 adultscore=0 classifier=spam adjust=0\n reason=mlx engine=5.0.0-0908210000 definitions=main-1002230135\r\nIn-reply-to: &lt;b548df651002231002w4fc7a298i488de94692922f1c@...&gt;\r\nDate: Tue, 23 Feb 2010 19:32:29 +0100\r\nCc: REST Discuss &lt;rest-discuss@yahoogroups.com&gt;\r\nMessage-id: &lt;045154F3-3413-4DB6-A484-957DEC810879@...&gt;\r\nReferences: &lt;2FDBA40B-62A3-48E9-B0AB-2CF8AC71A204@...&gt;\n &lt;b548df651002231002w4fc7a298i488de94692922f1c@...&gt;\r\nTo: mike amundsen &lt;mamund@...&gt;\r\nX-Mailer: Apple Mail (2.1077)\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Jan Algermissen &lt;algermissen1971@...&gt;\r\nSubject: Re: [rest-discuss] Media Types: application/mydomain vs\n application/mydomain.doctypeA, application/mydomain.doctypeB,\n application/mydomain.doctypeC\r\nX-Yahoo-Group-Post: member; u=289191104; y=ydj6nijVnUnHYuR50m5aHvglpzQA1S9WDLVTyklzA5-kn4Yid9ftT8QW\r\nX-Yahoo-Profile: algermissen1971\r\n\r\n\nOn Feb 23, 2010, at 7:02 PM, mike amundsen wrote:\n\n&gt; Jan:\n&gt; \n&gt; I, too, prefer a large-grained media-type (application level and higher).\n&gt; \n&gt; When you say &quot;...It causes real dispatching pains because you do not\n&gt; know what you have before you poke into the body.&quot;  are you referring\n&gt; to dispatch issues on the client? server?\n\nBoth, unfortunately. But then - the approach taken cannot rely on certain clients having special, improved features.\n\n&gt; \n&gt; There are a number of factors in designing a media-type. For example,\n&gt; I think over-specifying the document structure can make implementing\n&gt; state-machines against the media-type difficult.\n\nYes.\n\n&gt; \n&gt; Recently, I&#39;ve been copying the HTML document structure ((html = head\n&gt; + body) when creating my application-level media types. For example,\n&gt; one large app I&#39;m working on has the following media-type structure:\n&gt; \n\nYes, that is usually good. However, I also think it is sometimes confusing because you have the HTTP header and the document header and entity meta data makes sense in both places.\n\njan\n\n&gt; &lt;root&gt;\n&gt; &lt;system /&gt; &lt;!-- system-level meta data and other control values\n&gt; including general links --&gt;\n&gt; &lt;data /&gt; &lt;!-- request-specific data including any lists, item details, etc. --&gt;\n&gt; &lt;/root&gt;\n&gt; \n&gt; It&#39;s then up to the client and server to understand the details of the\n&gt; &lt;system&gt; and &lt;data&gt; sections such as &lt;user-list /&gt; or &lt;user-details /&gt;\n&gt; or &lt;list class=&quot;users&quot; /&gt; depending on your approach.\n&gt; \n&gt; mca\n&gt; http://amundsen.com/blog/\n&gt; \n&gt; \n&gt; \n&gt; \n&gt; On Tue, Feb 23, 2010 at 12:40, Jan Algermissen &lt;algermissen1971@...&gt; wrote:\n&gt;&gt; When designing media type(s) for a domain that includes a family of &quot;business document types&quot; (such as Atom does with feed and entry or such as UBL does with catalogue, order, invoice,...) what are the pros and cons of\n&gt;&gt; \n&gt;&gt; 1. Defining one &#39;big&#39; media type encompassing all documents\n&gt;&gt; \n&gt;&gt; 2. Defining many media types that correspond to the individual &quot;business document types&quot;\n&gt;&gt; \n&gt;&gt; \n&gt;&gt; \n&gt;&gt; Personally, I favor the &#39;one big media type&#39; ecause I like the type to in a sense identify the domain and to subsum all the processing rules involved. OTH, it causes real dispatching pains because you do not know what you have before you poke into the body.\n&gt;&gt; \n&gt;&gt; I usually address that with the use of a profile parameter in conneg, for example: Accept: application/mydomain;profile=doctypeA[1]. Servers the know the client&#39;s preferences and can send the doctypeA (without the need to put the profile parameter on the ContentType header (where it might get stripped my interediaries anyhow).\n&gt;&gt; \n&gt;&gt; However, frameworks seem to be bad at that kind of conneg at the moment, hence this posting :-)\n&gt;&gt; \n&gt;&gt; \n&gt;&gt; Any thoughts or insights?\n&gt;&gt; \n&gt;&gt; Jan\n&gt;&gt; \n&gt;&gt; [1] This works also well with client driven conneg, as in &lt;link href=&quot;&quot; rel=&quot;&quot; type=&quot;application/mydomain;profile=doctypeA&quot;/&gt;\n&gt;&gt; \n&gt;&gt; \n&gt;&gt; ------------------------------------\n&gt;&gt; \n&gt;&gt; Yahoo! Groups Links\n&gt;&gt; \n&gt;&gt; \n&gt;&gt; \n&gt;&gt; \n\n-----------------------------------\n Jan Algermissen, Consultant\n NORD Software Consulting\n\n Mail: algermissen@...\n Blog: http://www.nordsc.com/blog/\n Work: http://www.nordsc.com/\n-----------------------------------\n\n\n\n\n\n"}}
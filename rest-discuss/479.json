{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":0,"authorName":"S. Alexander Jacobson","from":"&quot;S. Alexander Jacobson&quot; &lt;alex@...&gt;","replyTo":"SENDER","senderId":"dS17ToSiUUVtLBlV5sljFPYQ-sFgCinTTwFVsTcRwqcbMrGA1XEQUOp2AyXPtYNTCBH4Deapjezh99okB9mYH6G_cfp7VBLOwXKHog","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [rest-discuss] idempotent notifications","postDate":"1012494109","msgId":479,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PFBpbmUuV05ULjQuNDMuMDIwMTMxMTEwOTQ4MC4xNDAwLTEwMDAwMEBnYW5kb2xwaC5BU0dBUkQuam1zPg==","inReplyToHeader":"PDNDNThGRTAwLjYxNEU0Nzk4QHByZXNjb2QubmV0Pg=="},"prevInTopic":478,"nextInTopic":480,"prevInTime":478,"nextInTime":480,"topicId":453,"numMessagesInTopic":36,"msgSnippet":"If notifications contain updates then they must be POSTs.  This seems ugly. The agent requesting notification supplied a notification URI.  It is the","rawEmail":"Return-Path: &lt;alex@...&gt;\r\nX-Sender: alex@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nReceived: (EGP: mail-8_0_1_3); 31 Jan 2002 16:21:42 -0000\r\nReceived: (qmail 36635 invoked from network); 31 Jan 2002 16:21:41 -0000\r\nReceived: from unknown (216.115.97.172)\n  by m3.grp.snv.yahoo.com with QMQP; 31 Jan 2002 16:21:41 -0000\r\nReceived: from unknown (HELO mail.vo.com) (208.36.81.99)\n  by mta2.grp.snv.yahoo.com with SMTP; 31 Jan 2002 16:21:41 -0000\r\nReceived: from gandolph.ASGARD.jms (alexhome2 [66.108.152.69])\n\tby mail.vo.com (8.12.1/8.12.1) with ESMTP id g0VGKuFv020550\n\t(version=TLSv1/SSLv3 cipher=RC4-MD5 bits=128 verify=NO);\n\tThu, 31 Jan 2002 11:21:03 -0500\r\nDate: Thu, 31 Jan 2002 11:21:49 -0500 (Eastern Standard Time)\r\nTo: Paul Prescod &lt;paul@...&gt;\r\nCc: Rest-Discuss &lt;rest-discuss@yahoogroups.com&gt;\r\nSubject: Re: [rest-discuss] idempotent notifications\r\nIn-Reply-To: &lt;3C58FE00.614E4798@...&gt;\r\nMessage-ID: &lt;Pine.WNT.4.43.0201311109480.1400-100000@...&gt;\r\nX-X-Sender: alex@...\r\nMIME-Version: 1.0\r\nContent-Type: TEXT/PLAIN; charset=US-ASCII\r\nFrom: &quot;S. Alexander Jacobson&quot; &lt;alex@...&gt;\r\nX-Yahoo-Group-Post: public\r\n\r\nIf notifications contain updates then they must be\nPOSTs.  This seems ugly.\n\nThe agent requesting notification supplied a\nnotification URI.  It is the responsibility of\nthe subscriber to know to what resources that\nnotification URI corresponds.\n\nUnless we are prepared to specify a subsciption\nmanagement protocol, there is no need to require\nthat the subsciption resource be in the\nnotification.\n\nIf we care about synchronization, we should\nspecify other HTTP methods for version management.\nThese would be useful regardless of subscription.\nI think some are in WebDAV.\n\nI don&#39;t think any of the existing HTTP methods\ncommunicate what notifcation communicates.  I\nthink there are basically 3 messages, all of which\nhave NO message bodies.\n\nCREATED /notification/path HTTP/1.1\n(allowing the ability to watch for the creation of\ncertain types of resources)\n\nCHANGED /notification/path HTTP/1.1\n\nDELETED /notifiation/path HTTP/1.1\nwhen there will be no more changes\nand there is now no accessible info about the\nresource.\n\n\n-Alex-\n\n\n\n\n\n___________________________________________________________________\nS. Alexander Jacobson                   i2x Media\n1-212-787-1914 voice                    1-603-288-1280 fax\n\n\n\n\n\n\n\n\nOn Thu, 31 Jan 2002, Paul Prescod wrote:\n\n&gt; &quot;S. Mike Dierken&quot; wrote:\n&gt; &gt;\n&gt; &gt; I&#39;m not sure idempotency applies to notifications.\n&gt; &gt; I thought it only applied to request/response message exchanges.\n&gt; &gt; A notification is not a request to cause something to happen at the\n&gt; &gt; receiver. It might be an &#39;http request&#39; message format, but I&#39;m not sure its\n&gt; &gt; a &#39;conceptual&#39; request.\n&gt;\n&gt; Well if each notification is a &quot;diff&quot; then the requrest is to please\n&gt; update your local copy so you are in sync with the rest of us.\n&gt;\n&gt; My point is that\n&gt;\n&gt;  a) getting the same notification twice should be harmless\n&gt;\n&gt;  b) it should always be possible for a client to build up the same\n&gt; internal state by looking at the resource and its subordinates that it\n&gt; would have gotten by collecting notifications\n&gt;\n&gt; &gt; What is the effect of more than 1 identical notification messages?\n&gt; &gt; If a receiver kept a count of messages, this count would be &#39;inaccurate&#39; -\n&gt; &gt; but that (hit counts) is not a case we consider for idempotency anyway.\n&gt; &gt; If a receiver waited for a particular event - threshold crossed, etc - and\n&gt; &gt; then deleted itself (stopped listening before/without deleting the\n&gt; &gt; subscription) the next event probably would result in a 404 or something\n&gt; &gt; (listener not found). Is this &#39;allowable&#39; if notifications are idempotent?\n&gt; &gt; (it&#39;d be like two PUTs or two GETs returned an error on the second request\n&gt; &gt; /because/ of the first request).\n&gt;\n&gt; That&#39;s borderline. But the subscriber is acting on behalf of a Client\n&gt; and so I feel it has more leeway for funny behaviour than a Server. When\n&gt; I say that notifications are idempotent I just mean the two things I\n&gt; said above.\n&gt;\n&gt; &gt; Also what is sent in a notification?\n&gt;\n&gt; I claim, basically nothing. Even less than the HttpEvents spec says. I\n&gt; claim it should contain:\n&gt;\n&gt;  1. the HTTP method (Lucas suggests PUT)\n&gt;\n&gt;  2. the subscriber URI\n&gt;\n&gt;  3. the subscription URI (in case you want to unsubscribe)\n&gt;\n&gt;  4. the URI that changed (in case you want to get into sync)\n&gt;\n&gt; As an *optimization* it could also include information that would help\n&gt; the client to keep up without constantly pulling extra information from\n&gt; the server. For instance it could include a &quot;diff&quot; from a previous\n&gt; labelled version -- but the cient could discard that if it wanted and go\n&gt; &quot;back to the source.&quot; It could also say &quot;what happened&quot; in some HTTP\n&gt; sense (PUT, GET, DELETE, POST) but again it could figure that stuff out\n&gt; just by looking at the resource.\n&gt;\n&gt; If a resource is huge and/or composite (like a website) then for the\n&gt; purposes of notification, another resource should be generated like a\n&gt; &quot;changelog&quot;. Then you would watch just the changelog. When it changed\n&gt; you would look at it to see what individual web page had changed.\n&gt;\n&gt;  Paul Prescod\n&gt;\n\n\n\n"}}
{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":198897688,"authorName":"Dong Liu","from":"Dong Liu &lt;edongliu@...&gt;","profile":"edonliu","replyTo":"SENDER","senderId":"UMNxgRhMfZ9rPJI_ODwbKMbLnVcCFPlYd6C0qM5j14gnVhGJRqt2Ojie9Ex0NOawRHepRSByRqB1OPmvUgd3oQOQ1Yk","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [rest-discuss] RESTful Toggle","postDate":"1404932999","msgId":19683,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PENBQWdWemRqVktHUystVXE4THVLQlZqc0I1a1ZEVWpEdHlOeHZXZzdIUDN3MEZuWWg2UUBtYWlsLmdtYWlsLmNvbT4=","inReplyToHeader":"PENBQTJpRGlERGRlM0FZczNrVlhSV0szRzhNUmNTWVNvUU0wSGZSK1l6cnVMZkdqTWJGUUBtYWlsLmdtYWlsLmNvbT4=","referencesHeader":"PENGRTFEQUM5LjM3NjQ4JVJvYmJ5LlNpbXBzb25AR0UuY29tPgk8Q0EreGhBUFdRNWlUSHZaLXlrQkRZR1RoUndOVFkwSlQ1RTJOOFdNaFhyWWl0eWZmc3NRQG1haWwuZ21haWwuY29tPgk8Q0ZFMkQ1MTUuMzc3MEYlUm9iYnkuU2ltcHNvbkBHRS5jb20+CTw1M0JENjI0Qy43MDQwMzA2QGJlcmtlbGV5LmVkdT4JPENGRTJEQUYwLjM3NzM1JVJvYmJ5LlNpbXBzb25AR0UuY29tPgk8NTNCRDZGNzUuODAzMDYwOEBiZXJrZWxleS5lZHU+CTxDQUEyaURpRERkZTNBWXMza1ZYUldLM0c4TVJjU1lTb1FNMEhmUitZenJ1TGZHak1iRlFAbWFpbC5nbWFpbC5jb20+"},"prevInTopic":19682,"nextInTopic":19684,"prevInTime":19682,"nextInTime":19684,"topicId":19657,"numMessagesInTopic":36,"msgSnippet":"For a three-way or N-way switch, I prefer a conditional PUT to a POST. Cheers, Dong On Wed, Jul 9, 2014 at 2:45 PM, Will Hartung willh@mirthcorp.com","rawEmail":"Return-Path: &lt;edongliu@...&gt;\r\nX-Sender: edongliu@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 57527 invoked by uid 102); 9 Jul 2014 19:09:59 -0000\r\nX-Received: from unknown (HELO mtaq2.grp.bf1.yahoo.com) (10.193.84.33)\n  by m13.grp.bf1.yahoo.com with SMTP; 9 Jul 2014 19:09:59 -0000\r\nX-Received: (qmail 12668 invoked from network); 9 Jul 2014 19:09:59 -0000\r\nX-Received: from unknown (HELO mail-ie0-f181.google.com) (209.85.223.181)\n  by mtaq2.grp.bf1.yahoo.com with SMTP; 9 Jul 2014 19:09:59 -0000\r\nX-Received: by mail-ie0-f181.google.com with SMTP id rp18so1207269iec.12\n        for &lt;rest-discuss@yahoogroups.com&gt;; Wed, 09 Jul 2014 12:09:59 -0700 (PDT)\r\nMIME-Version: 1.0\r\nX-Received: by 10.50.141.170 with SMTP id rp10mr15754462igb.6.1404932999375;\n Wed, 09 Jul 2014 12:09:59 -0700 (PDT)\r\nX-Received: by 10.64.18.196 with HTTP; Wed, 9 Jul 2014 12:09:59 -0700 (PDT)\r\nIn-Reply-To: &lt;CAA2iDiDDde3AYs3kVXRWK3G8MRcSYSoQM0HfR+YzruLfGjMbFQ@...&gt;\r\nReferences: &lt;CFE1DAC9.37648%Robby.Simpson@...&gt;\n\t&lt;CA+xhAPWQ5iTHvZ-ykBDYGThRwNTY0JT5E2N8WMhXrYityffssQ@...&gt;\n\t&lt;CFE2D515.3770F%Robby.Simpson@...&gt;\n\t&lt;53BD624C.7040306@...&gt;\n\t&lt;CFE2DAF0.37735%Robby.Simpson@...&gt;\n\t&lt;53BD6F75.8030608@...&gt;\n\t&lt;CAA2iDiDDde3AYs3kVXRWK3G8MRcSYSoQM0HfR+YzruLfGjMbFQ@...&gt;\r\nDate: Wed, 9 Jul 2014 15:09:59 -0400\r\nMessage-ID: &lt;CAAgVzdjVKGS+-Uq8LuKBVjsB5kVDUjDtyNxvWg7HP3w0FnYh6Q@...&gt;\r\nTo: Will Hartung &lt;willh@...&gt;\r\nCc: Rest List &lt;rest-discuss@yahoogroups.com&gt;\r\nContent-Type: multipart/alternative; boundary=089e0122ada25c746304fdc77474\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nSubject: Re: [rest-discuss] RESTful Toggle\r\nX-Yahoo-Group-Post: member; u=198897688; y=dK-UpciS0FJGYqkg07iq6DAdQGg-fncFavKmJs_0lpK3uA\r\nX-Yahoo-Profile: edonliu\r\nFrom: Dong Liu &lt;edongliu@...&gt;\r\n\r\n\r\n--089e0122ada25c746304fdc77474\r\nContent-Type: text/plain; charset=UTF-8\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\nFor a three-way or N-way switch, I prefer a conditional PUT to a POST.\n\nChe=\r\ners,\n\nDong\n\n\nOn Wed, Jul 9, 2014 at 2:45 PM, Will Hartung willh@mirthcorp.c=\r\nom\n[rest-discuss] &lt;rest-discuss-noreply@yahoogroups.com&gt; wrote:\n\n&gt;\n&gt;\n&gt; From=\r\n home automation point of view, I can only think of one use case where\n&gt; &quot;t=\r\noggle&quot; actually has any validity, and that would be in the &quot;3 way switch&quot;\n&gt;=\r\n scenario.\n&gt;\n&gt; A 3 way switch is exemplified by walking up to a dark hallwa=\r\ny, turning the\n&gt; light on with a nearby swtich, walking to the end, and the=\r\nn turning the\n&gt; light off with a switch at the other end.\n&gt;\n&gt; This use case=\r\n is a true &quot;toggle&quot;, since the &quot;state&quot; is the actual light\n&gt; (on or off), a=\r\nnd the switch itself does not represent that state (unlike a\n&gt; normal, sing=\r\nle switch). The switches can be &quot;up&quot; or &quot;down&quot; unrelated to the\n&gt; light bei=\r\nng &quot;on&quot; or &quot;off&quot;.\n&gt;\n&gt; Given that, again from a home automation point of vie=\r\nw, I can&#39;t really\n&gt; ever see &quot;toggle&quot; as a viable action. Maybe it&#39;s a prim=\r\nitive. But, in the\n&gt; end, when you walk in to that dark hallway, what you w=\r\nant is the light to\n&gt; go on, the mechanics of the switches are secondary.\n&gt;=\r\n\n&gt; I just mention this because at a high level, &quot;toggle&quot; doesn&#39;t make much\n=\r\n&gt; sense to me. The automation folks may well need it as a primitive to\n&gt; co=\r\nntrol a switch. But at the &quot;application&quot; level, it doesn&#39;t make much\n&gt; sens=\r\ne. At an application level, you either want the &quot;Light&quot; ON or OFF.\n&gt;\n&gt; So, =\r\nwith that consideration, a simple POST will do the trick.\n&gt;\n&gt; I don&#39;t think=\r\n there&#39;s any &quot;race condition&quot;, because &quot;toggle&quot; is not a\n&gt; state, it&#39;s an a=\r\nction. If you care about the state, then set the state you\n&gt; want. You shou=\r\nld hide the &quot;toggle&quot;, and enforce the state behind the scenes\n&gt; (where you =\r\ncan manage race conditions on the server). Let the server decide\n&gt; that whe=\r\nn you change the state to ON, it can determine, internally, if the\n&gt; device=\r\n is OFF and then send a TOGGLE command to make it ON. If it&#39;s already\n&gt; ON,=\r\n then nothing happens.\n&gt;\n&gt; But a &quot;toggle&quot; POST is just that, a simple comma=\r\nnd.\n&gt;\n&gt; Regards,\n&gt;\n&gt; Will Hartung\n&gt; (willh@...)\n&gt;\n&gt;\n&gt;\n&gt;\n&gt; On Wed,=\r\n Jul 9, 2014 at 9:36 AM, Erik Wilde dret@...\n&gt; [rest-discuss] &lt;res=\r\nt-discuss-noreply@yahoogroups.com&gt; wrote:\n&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; hello robby.\n&gt;&gt;\n&gt;&gt; On =\r\n2014-07-09, 17:47 , &#39;Simpson, Robby (GE Energy Management)&#39;\n&gt;&gt; robby.simpso=\r\nn@... [rest-discuss] wrote:\n&gt;&gt; &gt;&gt; it sounds like the scenario we were ta=\r\nlking about, that all you want is\n&gt;&gt; &gt;&gt; to tell the resource to &quot;reverse it=\r\ns state&quot;. in this case, i&#39;d POST a\n&gt;&gt; &gt;&gt; body that represents this request,=\r\n in whatever serialization you happen\n&gt;&gt; &gt;&gt; to prefer. the resource toggles=\r\n. everybody&#39;s happy.\n&gt;&gt; &gt; OK. Still seems like a bit of a departure from ty=\r\npical RESTful\n&gt;&gt; interfaces\n&gt;&gt; &gt; I&#39;ve seen and has the potential to be a ca=\r\ntch-all tunnel for RPC-style\n&gt;&gt; &gt; requests.\n&gt;&gt; &gt; E.g.:\n&gt;&gt; &gt; /command, where=\r\n one could POST all sorts of commands like &quot;toggle.&quot;\n&gt;&gt;\n&gt;&gt; the problem is n=\r\not that POST can mean anything (it can), but people\n&gt;&gt; POSTing things to a =\r\n&quot;do stuff&quot; resource, which then isn&#39;t\n&gt;&gt; resource-oriented anymore. your RP=\r\nC sensor shouldn&#39;t go off because of\n&gt;&gt; people POSTing things to resources =\r\n(that&#39;s fine), but because of people\n&gt;&gt; POSTing things to something other t=\r\nhan resources (the &quot;API end point&quot;,\n&gt;&gt; for example).\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; &gt;&gt; but i am c=\r\nonfused because you wrote earlier that you were concerned\n&gt;&gt; &gt;&gt; about race =\r\nconditions. which seems to imply that instead of just\n&gt;&gt; &gt;&gt; toggling, you&#39;r=\r\ne also assuming that you&#39;re &quot;toggling *from* some\n&gt;&gt; state&quot;.\n&gt;&gt; &gt;&gt; but that=\r\n wouldn&#39;t be the &quot;blind toggle&quot; we discussed. could you clarify\n&gt;&gt; &gt;&gt; a bit=\r\n how exactly the operation that you&#39;re trying to design is\n&gt;&gt; defined?\n&gt;&gt; &gt;=\r\n Apologies, a blind toggle is what is desired. As it currently works, in\n&gt;&gt;=\r\n &gt; the current binary protocol, a button press on a toggle switch simply\n&gt;&gt;=\r\n &gt; sends a &quot;toggle&quot; command.\n&gt;&gt;\n&gt;&gt; then how would a race condition enter th=\r\ne picture? just because of the\n&gt;&gt; timestamp when you last observed the reso=\r\nurce&#39;s state? or something\n&gt;&gt; else? to me, toggling always is kind of a gam=\r\ne: if somebody toggled\n&gt;&gt; ahead of you, you&#39;ll do something other than you =\r\nwanted to, but that&#39;s\n&gt;&gt; how it is and you&#39;ll have to deal with it after to=\r\nggling and finding out\n&gt;&gt; that you switched the damn thing back on again...=\r\n\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; cheers,\n&gt;&gt;\n&gt;&gt; dret.\n&gt;&gt;\n&gt;&gt; --\n&gt;&gt; erik wilde | mailto:dret@berkeley=\r\n.edu - tel:+1-510-2061079 |\n&gt;&gt; | UC Berkeley - School of Information (IScho=\r\nol) |\n&gt;&gt; | http://dret.net/netdret http://twitter.com/dret |\n&gt;&gt;\n&gt;&gt;\n&gt;\n&gt; CONF=\r\nIDENTIALITY NOTICE: The information contained in this electronic\n&gt; transmis=\r\nsion may be confidential. If you are not an intended recipient, be\n&gt; aware =\r\nthat any disclosure, copying, distribution or use of the information\n&gt; cont=\r\nained in this transmission is prohibited and may be unlawful. If you\n&gt; have=\r\n received this transmission in error, please notify us by email reply\n&gt; and=\r\n then erase it from your computer system.\n&gt;\n&gt;  \n&gt;\n\r\n--089e0122ada25c746304fdc77474\r\nContent-Type: text/html; charset=UTF-8\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\n&lt;div dir=3D&quot;ltr&quot;&gt;For a three-way or N-way switch, I prefer a conditional PU=\r\nT to a POST.=C2=A0&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Cheers,&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Dong=\r\n&lt;/div&gt;&lt;/div&gt;&lt;div class=3D&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;div class=3D&quot;gmail_quote&quot;&gt;O=\r\nn Wed, Jul 9, 2014 at 2:45 PM, Will Hartung &lt;a href=3D&quot;mailto:willh@mirthco=\r\nrp.com&quot;&gt;willh@...&lt;/a&gt; [rest-discuss] &lt;span dir=3D&quot;ltr&quot;&gt;&lt;&lt;a hre=\r\nf=3D&quot;mailto:rest-discuss-noreply@yahoogroups.com&quot; target=3D&quot;_blank&quot;&gt;rest-di=\r\nscuss-noreply@yahoogroups.com&lt;/a&gt;&gt;&lt;/span&gt; wrote:&lt;br&gt;\n&lt;blockquote class=\r\n=3D&quot;gmail_quote&quot; style=3D&quot;margin:0 0 0 .8ex;border-left:1px #ccc solid;padd=\r\ning-left:1ex&quot;&gt;\n\n\n&lt;u&gt;&lt;/u&gt;\n\n\n\n\n\n\n\n\n\n \n&lt;div style=3D&quot;background-color:#fff&quot;&gt;\n&lt;=\r\nspan&gt;=C2=A0&lt;/span&gt;\n\n\n&lt;div&gt;\n  &lt;div&gt;\n\n\n    &lt;div&gt;\n      \n      \n      &lt;p&gt;&lt;/p&gt;&lt;=\r\ndiv dir=3D&quot;ltr&quot;&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;From home automation poi=\r\nnt of view, I can only think of one use case where &quot;toggle&quot; actua=\r\nlly has any validity, and that would be in the &quot;3 way switch&quot; sce=\r\nnario.&lt;br&gt;\n\n&lt;br&gt;&lt;/div&gt;\nA 3 way switch is exemplified by walking up to a dar=\r\nk hallway, turning the light on with a nearby swtich, walking to the end, a=\r\nnd then turning the light off with a switch at the other end.&lt;br&gt;&lt;br&gt;&lt;/div&gt;=\r\nThis use case is a true &quot;toggle&quot;, since the &quot;state&quot; is =\r\nthe actual light (on or off), and the switch itself does not represent that=\r\n state (unlike a normal, single switch). The switches can be &quot;up&quot;=\r\n or &quot;down&quot; unrelated to the light being &quot;on&quot; or &quot;o=\r\nff&quot;.&lt;br&gt;\n\n\n&lt;br&gt;&lt;/div&gt;Given that, again from a home automation point of=\r\n view, I can&#39;t really ever see &quot;toggle&quot; as a viable action. M=\r\naybe it&#39;s a primitive. But, in the end, when you walk in to that dark h=\r\nallway, what you want is the light to go on, the mechanics of the switches =\r\nare secondary.&lt;br&gt;\n\n\n&lt;br&gt;&lt;/div&gt;I just mention this because at a high level,=\r\n &quot;toggle&quot; doesn&#39;t make much sense to me. The automation folks=\r\n may well need it as a primitive to control a switch. But at the &quot;appl=\r\nication&quot; level, it doesn&#39;t make much sense. At an application leve=\r\nl, you either want the &quot;Light&quot; ON or OFF.&lt;br&gt;\n\n&lt;br&gt;&lt;/div&gt;So, with=\r\n that consideration, a simple POST will do the trick.&lt;br&gt;&lt;br&gt;&lt;/div&gt;I don&#3=\r\n9;t think there&#39;s any &quot;race condition&quot;, because &quot;toggle&=\r\nquot; is not a state, it&#39;s an action. If you care about the state, then=\r\n set the state you want. You should hide the &quot;toggle&quot;, and enforc=\r\ne the state behind the scenes (where you can manage race conditions on the =\r\nserver). Let the server decide that when you change the state to ON, it can=\r\n determine, internally, if the device is OFF and then send a TOGGLE command=\r\n to make it ON. If it&#39;s already ON, then nothing happens.&lt;br&gt;\n\n&lt;br&gt;&lt;/di=\r\nv&gt;But a &quot;toggle&quot; POST is just that, a simple command.&lt;br&gt;&lt;br&gt;&lt;div=\r\n&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;Regards,&lt;br&gt;&lt;br&gt;Will Hartung&lt;br&gt;(&lt;a href=3D&quot;mailt=\r\no:willh@...&quot; target=3D&quot;_blank&quot;&gt;willh@...&lt;/a&gt;)&lt;br&gt;\n&lt;/div=\r\n&gt;&lt;div&gt;&lt;br&gt;\n&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;d=\r\niv class=3D&quot;h5&quot;&gt;&lt;div class=3D&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;div class=3D&quot;gmail_quot=\r\ne&quot;&gt;On Wed, Jul 9, 2014 at 9:36 AM, Erik Wilde &lt;a href=3D&quot;mailto:dret@berkel=\r\ney.edu&quot; target=3D&quot;_blank&quot;&gt;dret@...&lt;/a&gt; [rest-discuss] &lt;span dir=3D=\r\n&quot;ltr&quot;&gt;&lt;&lt;a href=3D&quot;mailto:rest-discuss-noreply@yahoogroups.com&quot; target=3D=\r\n&quot;_blank&quot;&gt;rest-discuss-noreply@yahoogroups.com&lt;/a&gt;&gt;&lt;/span&gt; wrote:&lt;br&gt;\n\n&lt;b=\r\nlockquote class=3D&quot;gmail_quote&quot; style=3D&quot;border-left:1px #ccc solid&quot;&gt;\n\n\n&lt;u&gt;=\r\n&lt;/u&gt;\n\n\n\n\n\n\n\n\n\n \n&lt;div style=3D&quot;background-color:#fff&quot;&gt;\n&lt;span&gt;=C2=A0&lt;/span&gt;\n\n=\r\n\n&lt;div&gt;\n  &lt;div&gt;\n\n\n    &lt;div&gt;\n      \n      \n      &lt;p&gt;hello robby.&lt;br&gt;\n&lt;br&gt;\nOn =\r\n2014-07-09, 17:47 , &#39;Simpson, Robby (GE Energy Management)&#39; &lt;br&gt;&lt;/p=\r\n&gt;&lt;div&gt;\n&lt;a href=3D&quot;mailto:robby.simpson@...&quot; target=3D&quot;_blank&quot;&gt;robby.simp=\r\nson@...&lt;/a&gt; [rest-discuss] wrote:&lt;br&gt;\n&gt;&gt; it sounds like the scenar=\r\nio we were talking about, that all you want is&lt;br&gt;\n&gt;&gt; to tell the res=\r\nource to &quot;reverse its state&quot;. in this case, i&#39;d POST a&lt;br&gt;\n&g=\r\nt;&gt; body that represents this request, in whatever serialization you hap=\r\npen&lt;br&gt;\n&gt;&gt; to prefer. the resource toggles. everybody&#39;s happy.&lt;br=\r\n&gt;\n&gt; OK.  Still seems like a bit of a departure from typical RESTful inte=\r\nrfaces&lt;br&gt;\n&gt; I&#39;ve seen and has the potential to be a catch-all tunne=\r\nl for RPC-style&lt;br&gt;\n&gt; requests.&lt;br&gt;\n&gt; E.g.:&lt;br&gt;\n&gt; /command, where =\r\none could POST all sorts of commands like &quot;toggle.&quot;&lt;br&gt;\n&lt;br&gt;&lt;/div=\r\n&gt;\nthe problem is not that POST can mean anything (it can), but people &lt;br&gt;\n=\r\nPOSTing things to a &quot;do stuff&quot; resource, which then isn&#39;t &lt;br=\r\n&gt;\nresource-oriented anymore. your RPC sensor shouldn&#39;t go off because o=\r\nf &lt;br&gt;\npeople POSTing things to resources (that&#39;s fine), but because of=\r\n people &lt;br&gt;\nPOSTing things to something other than resources (the &quot;AP=\r\nI end point&quot;, &lt;br&gt;\nfor example).&lt;div&gt;&lt;br&gt;\n&lt;br&gt;\n&gt;&gt; but i am confu=\r\nsed because you wrote earlier that you were concerned&lt;br&gt;\n&gt;&gt; about ra=\r\nce conditions. which seems to imply that instead of just&lt;br&gt;\n&gt;&gt; toggl=\r\ning, you&#39;re also assuming that you&#39;re &quot;toggling *from* some st=\r\nate&quot;.&lt;br&gt;\n&gt;&gt; but that wouldn&#39;t be the &quot;blind toggle&quo=\r\nt; we discussed. could you clarify&lt;br&gt;\n&gt;&gt; a bit how exactly the opera=\r\ntion that you&#39;re trying to design is defined?&lt;br&gt;\n&gt; Apologies, a bli=\r\nnd toggle is what is desired.  As it currently works, in&lt;br&gt;\n&gt; the curre=\r\nnt binary protocol, a button press on a toggle switch simply&lt;br&gt;\n&gt; sends=\r\n a &quot;toggle&quot; command.&lt;br&gt;\n&lt;br&gt;&lt;/div&gt;\nthen how would a race conditi=\r\non enter the picture? just because of the &lt;br&gt;\ntimestamp when you last obse=\r\nrved the resource&#39;s state? or something &lt;br&gt;\nelse? to me, toggling alwa=\r\nys is kind of a game: if somebody toggled &lt;br&gt;\nahead of you, you&#39;ll do =\r\nsomething other than you wanted to, but that&#39;s &lt;br&gt;\nhow it is and you&#=\r\n39;ll have to deal with it after toggling and finding out &lt;br&gt;\nthat you swi=\r\ntched the damn thing back on again...&lt;div&gt;&lt;br&gt;\n&lt;br&gt;\ncheers,&lt;br&gt;\n&lt;br&gt;\ndret.&lt;=\r\nbr&gt;\n&lt;br&gt;\n-- &lt;br&gt;\nerik wilde | mailto:&lt;a href=3D&quot;mailto:dret@...&quot; t=\r\narget=3D&quot;_blank&quot;&gt;dret@...&lt;/a&gt;  -  tel:&lt;a href=3D&quot;tel:%2B1-510-2061=\r\n079&quot; value=3D&quot;+15102061079&quot; target=3D&quot;_blank&quot;&gt;+1-510-2061079&lt;/a&gt; |&lt;br&gt;\n    =\r\n        | UC Berkeley  -  School of Information (ISchool) |&lt;br&gt;\n           =\r\n | &lt;a href=3D&quot;http://dret.net/netdret&quot; target=3D&quot;_blank&quot;&gt;http://dret.net/ne=\r\ntdret&lt;/a&gt; &lt;a href=3D&quot;http://twitter.com/dret&quot; target=3D&quot;_blank&quot;&gt;http://twit=\r\nter.com/dret&lt;/a&gt; |&lt;br&gt;\n&lt;/div&gt;&lt;p&gt;&lt;/p&gt;\n\n    &lt;/div&gt;\n     \n\n    \n    &lt;div style=\r\n=3D&quot;color:#fff;min-height:0&quot;&gt;&lt;/div&gt;\n\n\n&lt;/div&gt;\n\n\n\n  \n\n\n\n\n\n\n&lt;/div&gt;&lt;/div&gt;&lt;/bloc=\r\nkquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;\n\n&lt;br&gt;\n&lt;/div&gt;&lt;/div&gt;&lt;span&gt;&lt;font face=3D&quot;Arial&quot; size=\r\n=3D&quot;1&quot;&gt;CONFIDENTIALITY NOTICE: The information contained in this electronic=\r\n transmission may be confidential. If you are not an intended recipient, be=\r\n aware that any disclosure, copying, distribution or use of the information=\r\n contained in this transmission is prohibited and may be unlawful. If you h=\r\nave received this transmission in error, please notify us by email reply an=\r\nd then erase it from your computer system.&lt;/font&gt;&lt;/span&gt;&lt;p&gt;\n&lt;/p&gt;\n\n    &lt;/div=\r\n&gt;\n     \n\n    \n    &lt;div style=3D&quot;color:#fff;min-height:0&quot;&gt;&lt;/div&gt;\n\n\n&lt;/div&gt;\n\n\n=\r\n\n  \n\n\n\n\n\n\n&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;\n\r\n--089e0122ada25c746304fdc77474--\r\n\n"}}
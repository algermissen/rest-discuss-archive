{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":289191104,"authorName":"Jan Algermissen","from":"Jan Algermissen &lt;algermissen1971@...&gt;","profile":"algermissen1971","replyTo":"SENDER","senderId":"heM2Tg8MWFUOPoluRNRNlYArscGftLIZMXS99kLrCZYuNKcxs9r_2oZhn7rlVyT0YmLXrQ0qiBl56RUBWaUn1DPj7nCqcT3TBAwg8bkZIik","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [rest-discuss] A different approach to supporting transactions over HTTP","postDate":"1262783163","msgId":14444,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDA5NjU3QjNELTk1NDYtNEY2My1BNUFGLUVGODA1QkI4MkQxOEBtYWMuY29tPg==","inReplyToHeader":"PDU4MWJmNjE2MTAwMTA2MDUwMGkxMWUwOGY0Y3IyNzUyM2E0NGI3ODc1MzZAbWFpbC5nbWFpbC5jb20+","referencesHeader":"PGI1NDhkZjY1MTAwMTA1MTkyMXMzMzBiZjE1Y3I5YjE0YmVhYTJmYjgwNmRhQG1haWwuZ21haWwuY29tPiA8MzQzZWNiM2UxMDAxMDYwNDQ1cTdjOTdiNTQ1a2M1MWIyZjAyNjY5ODBjMjNAbWFpbC5nbWFpbC5jb20+IDw1ODFiZjYxNjEwMDEwNjA1MDBpMTFlMDhmNGNyMjc1MjNhNDRiNzg3NTM2QG1haWwuZ21haWwuY29tPg=="},"prevInTopic":14443,"nextInTopic":14447,"prevInTime":14443,"nextInTime":14445,"topicId":14439,"numMessagesInTopic":17,"msgSnippet":"... This inevitably leads to 2PC kind of problems and the usually best way to deal with that in practice is to simply account for the fact that some errors","rawEmail":"Return-Path: &lt;algermissen1971@...&gt;\r\nX-Sender: algermissen1971@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 23734 invoked from network); 6 Jan 2010 13:06:19 -0000\r\nX-Received: from unknown (66.196.94.106)\n  by m11.grp.re1.yahoo.com with QMQP; 6 Jan 2010 13:06:19 -0000\r\nX-Received: from unknown (HELO asmtpout012.mac.com) (17.148.16.87)\n  by mta2.grp.re1.yahoo.com with SMTP; 6 Jan 2010 13:06:19 -0000\r\nMIME-version: 1.0\r\nContent-type: text/plain; charset=ISO-8859-1; format=flowed; delsp=yes\r\nX-Received: from [192.168.2.102] ([84.144.109.77])\n by asmtp012.mac.com (Sun Java(tm) System Messaging Server 6.3-8.01 (built Dec\n 16 2008; 32bit)) with ESMTPSA id &lt;0KVT00A08TQ3MW60@...&gt; for\n rest-discuss@yahoogroups.com; Wed, 06 Jan 2010 05:06:08 -0800 (PST)\r\nCc: Bob Haugen &lt;bob.haugen@...&gt;, mike amundsen &lt;mamund@...&gt;,\n rest-discuss &lt;rest-discuss@yahoogroups.com&gt;\r\nMessage-id: &lt;09657B3D-9546-4F63-A5AF-EF805BB82D18@...&gt;\r\nTo: Guilherme Silveira &lt;guilherme.silveira@...&gt;\r\nIn-reply-to: &lt;581bf6161001060500i11e08f4cr27523a44b787536@...&gt;\r\nContent-transfer-encoding: quoted-printable\r\nDate: Wed, 06 Jan 2010 14:06:03 +0100\r\nReferences: &lt;b548df651001051921s330bf15cr9b14beaa2fb806da@...&gt;\n &lt;343ecb3e1001060445q7c97b545kc51b2f0266980c23@...&gt;\n &lt;581bf6161001060500i11e08f4cr27523a44b787536@...&gt;\r\nX-Mailer: Apple Mail (2.936)\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Jan Algermissen &lt;algermissen1971@...&gt;\r\nSubject: Re: [rest-discuss] A different approach to supporting transactions\n over HTTP\r\nX-Yahoo-Group-Post: member; u=289191104; y=Qty89KZqQwBwcLHbT8De3hTDpsRLkZuym-ixcxSy2ulvjxbOfge9985h\r\nX-Yahoo-Profile: algermissen1971\r\n\r\n\nOn Jan 6, 2010, at 2:00 PM, Guilherme Silveira wrote:\n\n&gt;\n&gt;\n&gt; &gt; An example =\r\nin regular business practice is a request for quotation\n&gt; (provisional) fol=\r\nlowed by an order (final).\n&gt; &gt; You may think that is not a transaction, but=\r\n it follows a 2-phase\n&gt; commit pattern, altho it does not obey all the ACID=\r\n rules (which are\n&gt; impossible to follow RESTfully).\n&gt;\n&gt; I agree. My only d=\r\noubt so far is that in this case the client should  \n&gt; be fat enough to kno=\r\nw how to deal with situations where it breaks  \n&gt; between the first and sec=\r\nond step working with two resources.\n&gt;\n&gt; i.e. the user wants to buy a set o=\r\nf products, which was broken by  \n&gt; the client app in two subsets, each one=\r\n to be bought in two  \n&gt; different suppliers. Both request for quotations w=\r\nere sent  \n&gt; successfully, one order is also fine, but the second order bre=\r\naks  \n&gt; due to out-of-stock issues (someone just bought it.... not acid).  =\r\n\n&gt; The client is now responsible for trying to cancel that first order.\n&gt;\n&gt;=\r\n Any workarounds/suggestions?\n\nThis inevitably leads to 2PC kind of problem=\r\ns and the usually best way  \nto deal with that in practice is to simply acc=\r\nount for the fact that  \nsome errors occur. That way, you loose some e.g. c=\r\nustomers but gain  \nthe possibility to create manageable software systems. =\r\nFlight  \noverbooking is the best example.\n\nJan\n\n\n&gt;\n&gt;\n&gt; Guilherme Silveira\n&gt;=\r\n Caelum | Ensino e Inova=E7=E3o\n&gt; http://www.caelum.com.br/\n&gt;\n&gt;\n&gt; On Wed, J=\r\nan 6, 2010 at 10:45 AM, Bob Haugen &lt;bob.haugen@...&gt;  \n&gt; wrote:\n&gt;\n&gt;\n&gt; =\r\nOn Tue, Jan 5, 2010 at 9:21 PM, mike amundsen &lt;mamund@...&gt;  \n&gt; wrote:=\r\n\n&gt; &gt; &lt;snip&gt;\n&gt; &gt; A better approach is to expose an HTTP-compliant transactio=\r\nn service\n&gt; &gt; interface (TSI) that takes advantage of the protocol&#39;s inhere=\r\nnt\n&gt; &gt; architectural style. Transactions over HTTP should be optional,\n&gt; &gt; =\r\ndiscoverable, negotiable, based on optimistic commits, and (in the\n&gt; &gt; case=\r\n of failures) use compenstating requests as a way to reverse\n&gt; &gt; previous w=\r\nork.\n&gt; &gt; &lt;/snip&gt;\n&gt;\n&gt; Compensation often does not work. Think of an offer to=\r\n buy. If it&#39;s\n&gt; optimistically committed, both buyer and seller may take fo=\r\nllowup\n&gt; actions that could be difficult or impossible to undo (e.g. starti=\r\nng\n&gt; production) if the offer is cancelled. Alternatively, both parties\n&gt; m=\r\nay need to wait for some undeterminate timespan to make sure a\n&gt; compensati=\r\nng request does not arrive.\n&gt;\n&gt; A better alternative in many situations, wh=\r\nich I&#39;ve described on this\n&gt; list before, is to use a provisional-final pat=\r\ntern, where the initial\n&gt; request is provisional, and then both parties agr=\r\nee that it should be\n&gt; made final or cancelled. All these interactions can =\r\nbe done\n&gt; RESTfully.\n&gt;\n&gt; An example in regular business practice is a reque=\r\nst for quotation\n&gt; (provisional) followed by an order (final).\n&gt;\n&gt; You may =\r\nthink that is not a transaction, but it follows a 2-phase\n&gt; commit pattern,=\r\n altho it does not obey all the ACID rules (which are\n&gt; impossible to follo=\r\nw RESTfully).\n&gt;\n&gt;\n&gt;\n&gt;\n&gt; \n\n--------------------------------------\nJan Algerm=\r\nissen\n\nMail: algermissen@...\nBlog: http://algermissen.blogspot.com/\nHom=\r\ne: http://www.jalgermissen.com\n--------------------------------------\n\n\n\n\n"}}
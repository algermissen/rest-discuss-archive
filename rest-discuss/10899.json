{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":302633978,"authorName":"Daniel Yokomizo","from":"&quot;Daniel Yokomizo&quot; &lt;daniel.yokomizo@...&gt;","profile":"daniel_yokomiso","replyTo":"SENDER","senderId":"JnfEgc6rws4ebe28gMk6kBjTxztKTckJLfdtav_Pc9koNEht01ZQhd-3ofE65xn88_IQkJAIqDeqKOZ3CKXLwgYnk8p9gZt9y8kAJXLNYL0CKeht","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [rest-discuss] Re: How to model a missing method?","postDate":"1213141263","msgId":10899,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PGU1YzZlY2FiMDgwNjEwMTY0MXc3YzJiMWEyYXc3NDhlZDAxNDhjNjgzYmZlQG1haWwuZ21haWwuY29tPg==","inReplyToHeader":"PDIwMDgwNjEwMjIxMDMxLkdKMjU0MzNAa2xhbmdyYXVtLnBsYXNtYXN0dXJtLm9yZz4=","referencesHeader":"PDQ4NEUyRUFELjIwNDAwMDlAd2ViLmRlPgkgPGU1YzZlY2FiMDgwNjEwMDY1NXg2ZjdmZmQ5MWxmMzczODJmZmUwYmEyMjdjQG1haWwuZ21haWwuY29tPgkgPDIwMDgwNjEwMjIxMDMxLkdKMjU0MzNAa2xhbmdyYXVtLnBsYXNtYXN0dXJtLm9yZz4="},"prevInTopic":10895,"nextInTopic":10905,"prevInTime":10898,"nextInTime":10900,"topicId":10884,"numMessagesInTopic":9,"msgSnippet":"... My point is that PUT has a well defined semantics, while activating/deactivating a resource may have different semantics. After sending PUT","rawEmail":"Return-Path: &lt;daniel.yokomizo@...&gt;\r\nX-Sender: daniel.yokomizo@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 10193 invoked from network); 10 Jun 2008 23:41:05 -0000\r\nX-Received: from unknown (66.218.67.94)\n  by m43.grp.scd.yahoo.com with QMQP; 10 Jun 2008 23:41:05 -0000\r\nX-Received: from unknown (HELO fg-out-1718.google.com) (72.14.220.158)\n  by mta15.grp.scd.yahoo.com with SMTP; 10 Jun 2008 23:41:05 -0000\r\nX-Received: by fg-out-1718.google.com with SMTP id e21so1957979fga.12\n        for &lt;rest-discuss@yahoogroups.com&gt;; Tue, 10 Jun 2008 16:41:03 -0700 (PDT)\r\nX-Received: by 10.86.30.9 with SMTP id d9mr6347808fgd.42.1213141263857;\n        Tue, 10 Jun 2008 16:41:03 -0700 (PDT)\r\nX-Received: by 10.86.9.6 with HTTP; Tue, 10 Jun 2008 16:41:03 -0700 (PDT)\r\nMessage-ID: &lt;e5c6ecab0806101641w7c2b1a2aw748ed0148c683bfe@...&gt;\r\nDate: Tue, 10 Jun 2008 20:41:03 -0300\r\nTo: &quot;Rest Discussion List&quot; &lt;rest-discuss@yahoogroups.com&gt;\r\nIn-Reply-To: &lt;20080610221031.GJ25433@...&gt;\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=WINDOWS-1252\r\nContent-Transfer-Encoding: quoted-printable\r\nContent-Disposition: inline\r\nReferences: &lt;484E2EAD.2040009@...&gt;\n\t &lt;e5c6ecab0806100655x6f7ffd91lf37382ffe0ba227c@...&gt;\n\t &lt;20080610221031.GJ25433@...&gt;\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: &quot;Daniel Yokomizo&quot; &lt;daniel.yokomizo@...&gt;\r\nSubject: Re: [rest-discuss] Re: How to model a missing method?\r\nX-Yahoo-Group-Post: member; u=302633978; y=owV2xMXkL4izOA30gvvpsDKNPbbgPFecSM8UzRPVmzoRhaUwjOB1vz5y\r\nX-Yahoo-Profile: daniel_yokomiso\r\n\r\nOn Tue, Jun 10, 2008 at 7:10 PM, Aristotle Pagaltzis &lt;pagaltzis@...&gt; wro=\r\nte:\n&gt; * Daniel Yokomizo &lt;daniel.yokomizo@...&gt; [2008-06-10 16:00]:\n&gt;&gt; =\r\nI would go with this option (i.e. &quot;PUT /users/1234/status&quot; with\n&gt;&gt; entity t=\r\next/plain &quot;deactivated&quot;). The mime type can be\n&gt;&gt; something else if it&#39;s a =\r\nbetter choice.\n&gt;\n&gt; I generally prefer `application/x-www-urlencoded`; in th=\r\nis\n&gt; example, that would make the entity `active=3D1` or `active=3D0`.\n&gt;\n&gt;&gt;=\r\n Doing PUT sending &quot;activated&quot;/&quot;deactivated&quot; works with other\n&gt;&gt; applicatio=\r\nns but the semantics of PUT is underspecified (for\n&gt;&gt; this case).\n&gt;\n&gt; No, t=\r\nhey&#39;re not: they depend on the hypermedia format that\n&gt; contained the link =\r\nwhich the client is using to PUT.\n\nMy point is that PUT has a well defined =\r\nsemantics, while\nactivating/deactivating a resource may have different sema=\r\nntics. After\nsending &quot;PUT /users/1234/status active=3D0&quot; the intermediates =\r\ncan&#39;t\npossibly know that the cached representation for &quot;GET /users/1234&quot; is=\r\n\nstale (because the status text changed, for example). I&#39;m talking\nabout th=\r\ne semantics of the method, which is defined in the RFC, not\nwhat both ends =\r\nknow about the implied semantics of calling PUT in this\nparticular URI at t=\r\nhis moment in time.\n\n&gt;&gt; overloading PUT will require a link in the hypermed=\r\nia (or in a\n&gt;&gt; Link header) of &quot;/users/1234&quot; to tell the user that a\n&gt;&gt; tra=\r\nnsition to a active/inactive state is possible (i.e. inform\n&gt;&gt; that the use=\r\nr can call &quot;PUT /users/1234/status&quot;)\n&gt;\n&gt; You say that as if it&#39;s bad thing.=\r\n Hypermedia is the cornerstone\n&gt; of REST.\n\nYou read it as if I said it as i=\r\nf it&#39;s a bad thing, but I think\nHATEOAS is the best thing about REST.\n\n&gt; An=\r\nd what&#39;s with this FUD about overloading PUT? This use of PUT\n&gt; doesn&#39;t dev=\r\niate from PUT&#39;s meaning in the uniform interface *at\n&gt; all*: the client is =\r\nsending a representation of the desired new\n&gt; state of a resource to the se=\r\nrver. Just because the resource has\n&gt; a particular meaning in this applicat=\r\nion does not mean this is\n&gt; something other than a PUT. There is no overloa=\r\nding going on.\n\nWhy are you so defensive? It&#39;s overloading as in it is usin=\r\ng the PUT\nverb to do some stuff to this particular URI, with the intention =\r\nof\ndoing whatever PUT is supposed to (i.e. it&#39;s semantics) and some\nadditio=\r\nnal stuff. Of course the effect is something more than simply\nreplacing the=\r\n resource.\n\nThere&#39;s nothing wrong with the word overloading and nothing wro=\r\nng with\nhandling a HTTP method doing the things specified in the RFC (i.e. =\r\nthe\nsemantics) and having more effects (if they don&#39;t conflict). I was\ntryi=\r\nng to explain the issue and the rationale behind it, instead of\njust replyi=\r\nng with a &quot;do this&quot; answer (BTW I&#39;m not implying that you\ndid that).\n\n&gt; RES=\r\nT is not CRUD (nor, of course, RPC).\n\nWhen did I said it was CRUD? Instead =\r\nof trying to read my mind could\nyou please just reply to the text I actuall=\r\ny wrote.\n\n&gt; It&#39;s the representations\n&gt; that carry meaning; methods are gene=\r\nric state-change operators\n&gt; and no more.\n\nOf course the methods have meani=\r\nng, otherwise we could just tunnel\neverything over POST (which can be also =\r\ngeneric state-change\noperator).\n\n&gt;&gt; but then the semantics is unclear becau=\r\nse the server rely on\n&gt;&gt; the entity to distinguish between each state\n&gt;\n&gt; I=\r\n see nothing unclear about that at all.\n\nIf we send &quot;GET /users/1234&quot; and g=\r\net back an hypermedia\nrepresentation, the hypermedia have to embed the enti=\r\nty body too:\n\nrequest: GET /users/1234\nresponse: &lt;user href=3D&#39;/users/1234&#39;=\r\n&gt;&lt;form name=3D&#39;activate&#39;\nhref=3D&#39;/users/1234/status&#39; method=3D&#39;put&#39;\ncontent=\r\n-type=3D&#39;application/x-www-urlencoded&#39;&gt;active=3D1&lt;/form&gt;&lt;/user&gt;\n\nThat&#39;s wha=\r\nt I meant by unclear: it&#39;s not sufficient to send back the\nURI and both the=\r\n client and the server must understand that for this\nparticular URI PUT can=\r\n have two different effects depending on the\nentity. Usually when people ta=\r\nlk about HATEOAS they say follow the\nlinks, not follow the links and send j=\r\nust this exact representation\nand nothing else.\n\n&gt;&gt; and it&#39;s tricky to tell=\r\n the user that one entity is fine while\n&gt;&gt; the other isn&#39;t, other than the =\r\nuser trying and getting an\n&gt;&gt; error. Of course the agent can inspect the re=\r\npresentation\n&gt;&gt; returned from &quot;GET /users/1234&quot; and see that the current st=\r\nate\n&gt;&gt; is &quot;inactive&quot; and infer that &quot;PUT /users/status/1234&quot; should\n&gt;&gt; have=\r\n a entity &quot;active&quot;.\n&gt;\n&gt; So to recap:\n&gt;\n&gt; =95 In one case I have to send an =\r\nOPTIONS request to the resource\n&gt;  and then check whether the Accept header=\r\n contains ACTIVATE or\n&gt;  DEACTIVATE, so that I can use the right method to =\r\nchange the\n&gt;  state.\n&gt;\n&gt; =95 In the other case I have to send a GET request=\r\n to the resource\n&gt;  and then check the representation to see whether it con=\r\ntains\n&gt;  `active=3D0` or `active=3D1`, so that I can PUT the right entity\n&gt;=\r\n  to change the state.\n&gt;\n&gt; And you are saying the former is less tricky tha=\r\nn the latter?\n&gt;\n&gt; If you ask me, it&#39;s the other way around.\n\nThe first situ=\r\nation relies only on two extension methods\n(ACTIVATE/DEACTIVATE), one stand=\r\nard method (OPTIONS), one  standard\nheader and one URI. The second situatio=\r\nn relies on two standard\nmethods, two URIs, and the knowledge of a media-ty=\r\npe that has a\nunusual definition of how a link can be followed. In both sit=\r\nuations\nwe have to determine how both ends will know what effects happen wh=\r\nen\na particular verb is sent to a particular URI, in the first case it&#39;s\nde=\r\nfined by the methods (which hopefully are applicable to many other\nresource=\r\ns, as I said many times in my original reply), in the second\ncase we depend=\r\n on understand the user media-type. We can&#39;t just ignore\nthe semantics, eve=\r\nn if it is just a piece of documentation. Using the\nmedia-type is a good ap=\r\nproach (and I admit that I didn&#39;t thought about\nencoding the valid represen=\r\ntation in the response media-type) but it\ndoesn&#39;t specify what happens to /=\r\nusers/1234 if I follow the link to\n/users/1234/status, while the method can=\r\n specify it.\n\n&gt;&gt; Also it&#39;s important to not be seduced by the extension met=\r\nhod\n&gt;&gt; approach (i.e. define your own method instead of overloading\n&gt;&gt; the =\r\nexisting ones) because without much thought it ends up with\n&gt;&gt; many new met=\r\nhods that won&#39;t work on more than a couple of\n&gt;&gt; resources and severely red=\r\nuce the number of applications that\n&gt;&gt; can interact with yours. The atom sp=\r\nec is a good example on how\n&gt;&gt; using just the basic HTTP methods with a goo=\r\nd mime type can go\n&gt;&gt; a long way.\n&gt;\n&gt; Now that I can wholeheartedly agree w=\r\nith.\n&gt;\n&gt; Regards,\n&gt; --\n&gt; Aristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;\n\n=\r\nThe OP seemed confused about REST (particularly saying that it has\nonly fou=\r\nr verbs) and I was trying to explain that extension verbs is a\nvalid approa=\r\nch, but it depends on the particular problem being solved\nand that differen=\r\nt approaches are possible and each has it&#39;s own\nbenefits/problems. I think =\r\nit&#39;s a fool&#39;s attempt to embed everything\nin GET/PUT/POST/DELETE and multip=\r\nly the resources/media-types ad\ninfinitum. The constraint isn&#39;t a fixed set=\r\n of verbs but uniform\ninterface. WebDAV has its particular set of verbs bec=\r\nause the\nadditional semantics they carry is useful. Atom uses only the basi=\r\nc\nfour verbs because they don&#39;t need the added semantics. Both\napproaches a=\r\nre valid (and useful).\n\nBest regards,\nDaniel Yokomizo\n\n"}}
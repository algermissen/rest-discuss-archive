{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":498432483,"authorName":"Jan Algermissen","from":"Jan Algermissen &lt;jan.algermissen@...&gt;","profile":"algermissen1971","replyTo":"SENDER","senderId":"vKEeENGNOE-zYyRqIr1vB9HW5Yabl7Ui-ZQPhms3c8NjEaPfE8uhWDxbWijETeYIQa8kKbe_-2Z740_3QTngic5k9gOBXrMyH0saVLxhe32iYVc","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [rest-discuss] Versioning By Media Type Clarification","postDate":"1317985645","msgId":17838,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDlDQkI1RjE5LTVDRDMtNDEzMS04QUE3LTk0NURDQTU0NUY2NUBub3Jkc2MuY29tPg==","inReplyToHeader":"PENBQjIzK2l6OWdTei1FMD1TeWFRWGpaQmFOUUphdlhlYmhhWmF5KzhFSlFqdFg0bzRFQUBtYWlsLmdtYWlsLmNvbT4=","referencesHeader":"PENBQjIzK2l6OWdTei1FMD1TeWFRWGpaQmFOUUphdlhlYmhhWmF5KzhFSlFqdFg0bzRFQUBtYWlsLmdtYWlsLmNvbT4="},"prevInTopic":17837,"nextInTopic":17839,"prevInTime":17837,"nextInTime":17839,"topicId":17837,"numMessagesInTopic":3,"msgSnippet":"... Ina sense, yes. Though this is more circumstantial knowledge about your domain. E.g. there is *nothing* that specifies that images linked to from HTML","rawEmail":"Return-Path: &lt;jan.algermissen@...&gt;\r\nX-Sender: jan.algermissen@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 58315 invoked from network); 7 Oct 2011 11:07:26 -0000\r\nX-Received: from unknown (98.137.34.44)\n  by m5.grp.sp2.yahoo.com with QMQP; 7 Oct 2011 11:07:26 -0000\r\nX-Received: from unknown (HELO moutng.kundenserver.de) (212.227.126.187)\n  by mta1.grp.sp2.yahoo.com with SMTP; 7 Oct 2011 11:07:25 -0000\r\nX-Received: from [10.90.129.8] ([213.238.45.2])\n\tby mrelayeu.kundenserver.de (node=mrbap1) with ESMTP (Nemesis)\n\tid 0LnDqv-1Qe8pt0QsX-00hBVO; Fri, 07 Oct 2011 13:07:24 +0200\r\nMime-Version: 1.0 (Apple Message framework v1084)\r\nContent-Type: text/plain; charset=windows-1252\r\nIn-Reply-To: &lt;CAB23+iz9gSz-E0=SyaQXjZBaNQJavXebhaZay+8EJQjtX4o4EA@...&gt;\r\nDate: Fri, 7 Oct 2011 13:07:25 +0200\r\nCc: rest-discuss@yahoogroups.com\r\nContent-Transfer-Encoding: quoted-printable\r\nMessage-Id: &lt;9CBB5F19-5CD3-4131-8AA7-945DCA545F65@...&gt;\r\nReferences: &lt;CAB23+iz9gSz-E0=SyaQXjZBaNQJavXebhaZay+8EJQjtX4o4EA@...&gt;\r\nTo: Jim Purbrick &lt;jimpurbrick@...&gt;\r\nX-Mailer: Apple Mail (2.1084)\r\nX-Provags-ID: V02:K0:SWXtTABKnzxT7rCTLexVkAnjICcuF7auFCPzx5VEYB1\n qKQXC9DYPIj9iGOdItdvwxJnoYwABhtBo20s+QTjJAbkweteYh\n D2+PfiTbHIJq8nECnEHsX/YrNlDIifDmpN6gODIg+hvdSjn0NN\n 63Bnj89bBoPbX/INzLTluFrAYo68G4sNEwhw21c3uObpqqXC+N\n jbh8M+a2+S7pbxOmBB2sYl//RO8lo59M2NDvn0VdcqQir4RVFi\n 63y7Gf/Blgf2UXFs7wdBrxjU5KL2ifUl2+LBTt6ApkHOy8Po3r\n Rvo56axMdCyT/Qas0ThwdduZyXY+EdtPrzuBPVRcQGXkIj8O2q\n +y/lwzxV12bBmUQM8LzxYrBJ2fzgtzTaKQ3/dSuqHOH9Z3rNYm\n qr0yc6/1UT5yw==\r\nFrom: Jan Algermissen &lt;jan.algermissen@...&gt;\r\nSubject: Re: [rest-discuss] Versioning By Media Type Clarification\r\nX-Yahoo-Group-Post: member; u=498432483; y=z7AK7MwxjTI5JyXX2PFPXzUo_h_JEA289w-Y0BP5p2_BvIPl-_oGv4_3\r\nX-Yahoo-Profile: algermissen1971\r\n\r\n\nOn Oct 7, 2011, at 12:09 PM, Jim Purbrick wrote:\n\n&gt; We&#39;re hoping to suppor=\r\nt versioning in our API through media types[1]\n&gt; and I just want to clarify=\r\n how this would work in practice.\n&gt; \n&gt; Whereas URIs are generated by the se=\r\nrver, media types must be supplied\n&gt; by the client and so presumably have t=\r\no come from the media type\n&gt; documentation.\n&gt; \n&gt; The documentation would ha=\r\nve to define the media types available for\n&gt; the API entrypoint (vnd.corp.a=\r\npp.Api, vnd.corp.app.Api-v2) and also\n&gt; the media types that can be request=\r\ned when following hyperlinks from\n&gt; those representations.\n\nIna sense, yes.=\r\n Though this is more circumstantial knowledge about your domain. E.g. there=\r\n is *nothing* that specifies that images linked to from HTML &lt;img&gt; tags com=\r\nes as media types image/* nevertheless, (most) browsers say Accept: image/*=\r\n when they request the target of the src attribute of an &lt;img&gt; Tag. Likewis=\r\ne with stylesheets.\n\nIt makes perfect sense to not document these things as=\r\n part of the API (of course not!) nor as part of link semantics (do *not* s=\r\nay that foo links point to resources that come as application/bar). Let tha=\r\nt be common knowledge communicated by human means. There is a lot of common=\r\n sense involved also (who would implement an Accept: audio/* for &lt;img&gt; tags=\r\n when image/* is known to exist).\n\nYes, this is arguably very loose, but we=\r\n are looking for loose coupling, aren&#39;t we? :-) [The issue behind all this =\r\nis that in networked systems you cannot control what the server will do tom=\r\norrow anyhow, so do not try and think you can).\n\n\n&gt; \n&gt; Effectively the clie=\r\nnt has to know that when following hyperlink X\n&gt; from media type Y, it has =\r\nto request media type Z.\n\nSee above. The better way think is: &quot;Given my cur=\r\nrent intent, what are the media types I know that allow me to fulfill that =\r\nintent?&quot; That is what governs the selection of what to put in the accept he=\r\nader. Also, be prepared for the 406 and make the most out of the body that =\r\ncomes with the 406. E.g. use it to inform whoever will be tasked with fixin=\r\ng things.\n\n&gt; \n&gt; When clients are general enough to work on any media types =\r\nprovided by\n&gt; the API they can presumably request more general application/=\r\nXML or\n&gt; application/JSON media types and be supplied with the most recent\n=\r\n&gt; version of the media type served by each URI.\n\nXNMl and JSON are insuffic=\r\nient media types. They are not specific enough because all they tell the re=\r\ncipient is that it can parse the message as XML or JSON. Mint your own type=\r\ns - and register them with IANA when you expose them to the public.\n\n\n&gt; \n&gt; =\r\nDoes this sound right?\n\nIn part - anyhow, this is a fascinating and rewardi=\r\nng aspect of REST to explore.\n\nTo me it was very rewarding to ask:\n\n&quot;How do=\r\nes the server developer know, what to send?&quot; (and what changes are allowed =\r\nwhen evolving the server)\n\n&quot;How does the client developer know, what to exp=\r\nect?&quot; \n\nAlways keeping in mind that REST is the solution to the problem tha=\r\nt client and server developer cannot communicate[1].\n\nJan\n\n[1] Amazon canno=\r\nt contact all customers for an API change.\n\n\n\n\n&gt; \n&gt; Cheers,\n&gt; \n&gt; Jim\n&gt; \n&gt; [=\r\n1] http://barelyenough.org/blog/2008/05/versioning-rest-web-services/\n&gt; \n\n\n"}}
{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":221173245,"authorName":"Andrew Wahbe","from":"Andrew Wahbe &lt;andrew.wahbe@...&gt;","profile":"wahbedahbe","replyTo":"SENDER","senderId":"O35V0KQMfANzej9LiHE4QuocHsU3v103fMJTVh5DCoNSd2pw3py2cQon8boMeDd3mwYMQtATO78O9C9FXx7JsXNn4j217exKUjVCyg","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [rest-discuss] Re: Partial PUT debate","postDate":"1289414078","msgId":16869,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PEFBTkxrVGlrOHd4Tk9XX3ZOVDgzOE1IbnlTUF9TUlh6c1ZCNytTK2l2czMrU0BtYWlsLmdtYWlsLmNvbT4=","inReplyToHeader":"PEFBTkxrVGltYjBEQmk0ajBadU5Ic2M9QVR6WUxiNnYtNHQ3Vzd1MzZxQWhvZkBtYWlsLmdtYWlsLmNvbT4=","referencesHeader":"PGliYnExcCtzYW5mQGVHcm91cHMuY29tPgk8NENEQTYwRjMuODAzMDUwNkBnbXguZGU+CTxBQU5Ma1RpbkQ4UDMwdnNRRWhleTF5dDBBa1JHdy0tRVk9aUFzcnhQcDM0cFdAbWFpbC5nbWFpbC5jb20+CTw0Q0RBOTIxMi45MDgwMjA3QHdlYnIzLm9yZz4JPEFBTkxrVGk9V3ZQTVliWlhvUlZIa1hpcWlueHFYZmF3a2M5dTdiRXFIQUE4V0BtYWlsLmdtYWlsLmNvbT4JPEFBTkxrVGltYjBEQmk0ajBadU5Ic2M9QVR6WUxiNnYtNHQ3Vzd1MzZxQWhvZkBtYWlsLmdtYWlsLmNvbT4="},"prevInTopic":16868,"nextInTopic":16870,"prevInTime":16868,"nextInTime":16870,"topicId":16839,"numMessagesInTopic":40,"msgSnippet":"... Ok, I understand your question a bit better now. To me a key issue is that you seem to be addressing a specific sub-resource (the part of the resource","rawEmail":"Return-Path: &lt;andrew.wahbe@...&gt;\r\nX-Sender: andrew.wahbe@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 12412 invoked from network); 10 Nov 2010 18:34:39 -0000\r\nX-Received: from unknown (66.196.94.105)\n  by m17.grp.re1.yahoo.com with QMQP; 10 Nov 2010 18:34:39 -0000\r\nX-Received: from unknown (HELO mail-gw0-f43.google.com) (74.125.83.43)\n  by mta1.grp.re1.yahoo.com with SMTP; 10 Nov 2010 18:34:39 -0000\r\nX-Received: by gwj23 with SMTP id 23so120191gwj.16\n        for &lt;rest-discuss@yahoogroups.com&gt;; Wed, 10 Nov 2010 10:34:39 -0800 (PST)\r\nMIME-Version: 1.0\r\nX-Received: by 10.204.50.210 with SMTP id a18mr8534005bkg.166.1289414078855;\n Wed, 10 Nov 2010 10:34:38 -0800 (PST)\r\nX-Received: by 10.204.118.66 with HTTP; Wed, 10 Nov 2010 10:34:38 -0800 (PST)\r\nIn-Reply-To: &lt;AANLkTimb0DBi4j0ZuNHsc=ATzYLb6v-4t7W7u36qAhof@...&gt;\r\nReferences: &lt;ibbq1p+sanf@...&gt;\n\t&lt;4CDA60F3.8030506@...&gt;\n\t&lt;AANLkTinD8P30vsQEhey1yt0AkRGw--EY=iAsrxPp34pW@...&gt;\n\t&lt;4CDA9212.9080207@...&gt;\n\t&lt;AANLkTi=WvPMYbZXoRVHkXiqinxqXfawkc9u7bEqHAA8W@...&gt;\n\t&lt;AANLkTimb0DBi4j0ZuNHsc=ATzYLb6v-4t7W7u36qAhof@...&gt;\r\nDate: Wed, 10 Nov 2010 13:34:38 -0500\r\nMessage-ID: &lt;AANLkTik8wxNOW_vNT838MHnySP_SRXzsVB7+S+ivs3+S@...&gt;\r\nTo: Mike Kelly &lt;mike@...&gt;\r\nCc: nathan@..., Julian Reschke &lt;julian.reschke@...&gt;, rest-discuss@yahoogroups.com\r\nContent-Type: multipart/alternative; boundary=001636c5b98c237dd40494b71cab\r\nFrom: Andrew Wahbe &lt;andrew.wahbe@...&gt;\r\nSubject: Re: [rest-discuss] Re: Partial PUT debate\r\nX-Yahoo-Group-Post: member; u=221173245; y=lLRVB2YOwl-yG_-X2Hh3srJRrvR9Fm3u-QUYMUKP9Wb2JyygzQ\r\nX-Yahoo-Profile: wahbedahbe\r\n\r\n\r\n--001636c5b98c237dd40494b71cab\r\nContent-Type: text/plain; charset=ISO-8859-1\r\n\r\nOn Wed, Nov 10, 2010 at 11:35 AM, Mike Kelly &lt;mike@...&gt; wrote:\n\n&gt; On Wed, Nov 10, 2010 at 3:08 PM, Andrew Wahbe &lt;andrew.wahbe@...&gt;\n&gt; wrote:\n&gt; &gt; On Wed, Nov 10, 2010 at 7:37 AM, Nathan &lt;nathan@...&gt; wrote:\n&gt; &gt;&gt;\n&gt; &gt;&gt; Mike Kelly wrote:\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt; On Wed, Nov 10, 2010 at 9:08 AM, Julian Reschke &lt;julian.reschke@...\n&gt; &gt;\n&gt; &gt;&gt;&gt; wrote:\n&gt; &gt;&gt;&gt;&gt;\n&gt; &gt;&gt;&gt;&gt; Right. The important part is that the state of the resource after the\n&gt; &gt;&gt;&gt;&gt; PUT does only depend on the payload, not the previous state.\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt; Why is that important?\n&gt; &gt;&gt;\n&gt; &gt;&gt; It&#39;s the difference between saying &quot;this is the state of the resource&quot;\n&gt; and\n&gt; &gt;&gt; &quot;apply this to the resource to create a new state&quot;..\n&gt; &gt;&gt;\n&gt; &gt;&gt; or, Sn=Mn (state = message) vs -&gt; given the time t, a previous state\n&gt; Sn-1,\n&gt; &gt;&gt; and a message Mn we process Mn,Sn-1,t with a set of Rules in order to\n&gt; &gt;&gt; conclude Sn (the state of our resource)\n&gt; &gt;&gt;\n&gt; &gt;&gt; So, PUT and DELETE are the first case, PATCH and POST are the second.\n&gt; &gt;&gt;\n&gt; &gt;&gt; Perhaps more easily said, PUT replaces the previous state, with no\n&gt; &gt;&gt; consideration for it.\n&gt; &gt;\n&gt; &gt; Right, or Sn could be a function of the message: Sn = f(Mn)\n&gt; &gt; If the state is a function of the message that depends on the previous\n&gt; &gt; state, e.g. f(Mn) = Mn+Sn-1 then the operation is not idempotent as\n&gt; &gt; this generally requires that if Mi = Mj then Si=Sj.\n&gt; &gt; So if the state is a function of the previous state, you can&#39;t repeat the\n&gt; &gt; operation an arbitrary number of times (e.g. retries on response timeout)\n&gt; &gt; and know that each invocation leaves the resource in the same state.\n&gt;\n&gt; A partial PUT could leave just a specific portion of the resource in\n&gt; the same state. Yes, the resultant overall state of the resource would\n&gt; depend on previous state but isn&#39;t the partial PUT request idempotent\n&gt; in its intent?\n&gt;\n&gt; I think I understand PUT as per it&#39;s specification, the question was\n&gt; aimed to understand why it needs to be defined that way in the first\n&gt; place.\n&gt;\n&gt; Put another way; What sort of mechanisms rely on partial PUT being\n&gt; prevented?\n&gt;\n&gt; Cheers,\n&gt; Mike\n&gt;\n\nOk, I understand your question a bit better now.\nTo me a key issue is that you seem to be addressing a specific sub-resource\n(the part of the resource updated by the PUT) but this addressing is not\ndone in the URI. I&#39;d have to assume you are using a portion of the body\n(implicitly or explicitly) to address the piece of the resource that gets\nupdated.\nIf you take the example to its extreme you could just execute all PUT\noperations on the &quot;/&quot; resource and identify the sub-path in the body.\n\nI see a few negatives (in addition to Jan&#39;s points):\n- you are hurting visibility by moving addressing out of the URI\n- you can&#39;t use etags and conditional requests to control updates these\nspecific portions you are updating, just to the &quot;parent&quot; resource\n- while things seem fine from the perspective of repeating a single\noperation multiple times, you don&#39;t have the same properties for\nnon-conditional interleaved PUTs from multiple writers. Here, the state of\nthe resource is not the state specified by the last successful PUT (as is\nusually the case). That is quite a significant difference in some apps I\nwould think.\n\nRegards,\n\nAndrew\n\r\n--001636c5b98c237dd40494b71cab\r\nContent-Type: text/html; charset=ISO-8859-1\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\n&lt;br&gt;&lt;br&gt;&lt;div class=3D&quot;gmail_quote&quot;&gt;On Wed, Nov 10, 2010 at 11:35 AM, Mike K=\r\nelly &lt;span dir=3D&quot;ltr&quot;&gt;&lt;&lt;a href=3D&quot;mailto:mike@...&quot;&gt;mike@mykan=\r\njo.co.uk&lt;/a&gt;&gt;&lt;/span&gt; wrote:&lt;br&gt;&lt;blockquote class=3D&quot;gmail_quote&quot; style=\r\n=3D&quot;margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex;&quot;&gt;\n&lt;div c=\r\nlass=3D&quot;im&quot;&gt;On Wed, Nov 10, 2010 at 3:08 PM, Andrew Wahbe &lt;&lt;a href=3D&quot;ma=\r\nilto:andrew.wahbe@...&quot;&gt;andrew.wahbe@...&lt;/a&gt;&gt; wrote:&lt;br&gt;\n&gt;=\r\n On Wed, Nov 10, 2010 at 7:37 AM, Nathan &lt;&lt;a href=3D&quot;mailto:nathan@webr3=\r\n.org&quot;&gt;nathan@...&lt;/a&gt;&gt; wrote:&lt;br&gt;\n&gt;&gt;&lt;br&gt;\n&gt;&gt; Mike Kelly =\r\nwrote:&lt;br&gt;\n&gt;&gt;&gt;&lt;br&gt;\n&gt;&gt;&gt; On Wed, Nov 10, 2010 at 9:08 AM, J=\r\nulian Reschke &lt;&lt;a href=3D&quot;mailto:julian.reschke@...&quot;&gt;julian.reschke@g=\r\nmx.de&lt;/a&gt;&gt;&lt;br&gt;\n&gt;&gt;&gt; wrote:&lt;br&gt;\n&gt;&gt;&gt;&gt;&lt;br&gt;\n&gt;&gt;&gt;=\r\n&gt; Right. The important part is that the state of the resource after the&lt;=\r\nbr&gt;\n&gt;&gt;&gt;&gt; PUT does only depend on the payload, not the previous =\r\nstate.&lt;br&gt;\n&gt;&gt;&gt;&lt;br&gt;\n&gt;&gt;&gt; Why is that important?&lt;br&gt;\n&gt;&gt=\r\n;&lt;br&gt;\n&gt;&gt; It&#39;s the difference between saying &quot;this is the sta=\r\nte of the resource&quot; and&lt;br&gt;\n&gt;&gt; &quot;apply this to the resource =\r\nto create a new state&quot;..&lt;br&gt;\n&gt;&gt;&lt;br&gt;\n&gt;&gt; or, Sn=3DMn (state =\r\n=3D message) vs -&gt; given the time t, a previous state Sn-1,&lt;br&gt;\n&gt;&gt;=\r\n and a message Mn we process Mn,Sn-1,t with a set of Rules in order to&lt;br&gt;\n=\r\n&gt;&gt; conclude Sn (the state of our resource)&lt;br&gt;\n&gt;&gt;&lt;br&gt;\n&gt;&gt; =\r\nSo, PUT and DELETE are the first case, PATCH and POST are the second.&lt;br&gt;\n&=\r\ngt;&gt;&lt;br&gt;\n&gt;&gt; Perhaps more easily said, PUT replaces the previous st=\r\nate, with no&lt;br&gt;\n&gt;&gt; consideration for it.&lt;br&gt;\n&gt;&lt;br&gt;\n&gt; Right, or=\r\n Sn could be a function of the message: Sn =3D f(Mn)&lt;br&gt;\n&gt; If the state =\r\nis a function of the message that depends on the previous&lt;br&gt;\n&gt; state, e=\r\n.g. f(Mn) =3D Mn+Sn-1 then the operation is not idempotent as&lt;br&gt;\n&gt; this=\r\n=A0generally requires that if Mi =3D Mj then Si=3DSj.&lt;br&gt;\n&gt; So if the st=\r\nate is a function of the previous state, you can&#39;t repeat the&lt;br&gt;\n&gt; =\r\noperation an arbitrary number of times (e.g. retries on response timeout)&lt;b=\r\nr&gt;\n&gt; and know that each invocation leaves the resource in the same state=\r\n.&lt;br&gt;\n&lt;br&gt;\n&lt;/div&gt;A partial PUT could leave just a specific portion of the r=\r\nesource in&lt;br&gt;\nthe same state. Yes, the resultant overall state of the reso=\r\nurce would&lt;br&gt;\ndepend on previous state but isn&#39;t the partial PUT reque=\r\nst idempotent&lt;br&gt;\nin its intent?&lt;br&gt;\n&lt;br&gt;\nI think I understand PUT as per i=\r\nt&#39;s specification, the question was&lt;br&gt;\naimed to understand why it need=\r\ns to be defined that way in the first&lt;br&gt;\nplace.&lt;br&gt;\n&lt;br&gt;\nPut another way; =\r\nWhat sort of mechanisms rely on partial PUT being prevented?&lt;br&gt;\n&lt;br&gt;\nCheer=\r\ns,&lt;br&gt;\n&lt;font color=3D&quot;#888888&quot;&gt;Mike&lt;br&gt;\n&lt;/font&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;Ok, I=\r\n understand your question a bit better now.&lt;div&gt;To me a key issue is that y=\r\nou seem to be addressing a specific sub-resource (the part of the resource =\r\nupdated by the PUT) but this addressing is not done in the URI. I&#39;d hav=\r\ne to assume you are using a portion of the body (implicitly or explicitly) =\r\nto address the piece of the resource that gets updated.&lt;/div&gt;\n&lt;div&gt;If you t=\r\nake the example to its extreme you could just execute all PUT operations on=\r\n the &quot;/&quot; resource and identify the sub-path in the body.&lt;/div&gt;&lt;di=\r\nv&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I see a few negatives (in addition to Jan&#39;s points):&lt;/=\r\ndiv&gt;\n&lt;div&gt;- you are hurting visibility by moving addressing out of the URI&lt;=\r\n/div&gt;&lt;div&gt;- you can&#39;t use etags and conditional requests to control upd=\r\nates these specific portions you are updating, just to the &quot;parent&quo=\r\nt; resource&lt;/div&gt;\n&lt;div&gt;- while things seem fine from the perspective of rep=\r\neating a single operation multiple times, you don&#39;t have the same prope=\r\nrties for non-conditional interleaved PUTs from multiple writers. Here, the=\r\n state of the resource is not the state specified by the last successful PU=\r\nT (as is usually the case). That is quite a significant difference in some =\r\napps I would think.&lt;/div&gt;\n&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Regards,&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;=\r\n&lt;div&gt;Andrew&lt;/div&gt;\n\r\n--001636c5b98c237dd40494b71cab--\r\n\n"}}
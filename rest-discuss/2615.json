{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":69125415,"authorName":"Mathews, Walden","from":"&quot;Mathews, Walden&quot; &lt;waldenm@...&gt;","profile":"waldenmathews","replyTo":"SENDER","senderId":"m8HmFtdXrT45RmUonsWAW9B-IkZ7A2YXSX6vgJhWfur9IS_e-dUhA3sowfC-E9BT41MkcnihTNxqyLpL_aiWSVYROMmufBCkJeQ","spamInfo":{"isSpam":false,"reason":"0"},"subject":"RE: [rest-discuss] True meaning of &quot;Idempotent&quot;?","postDate":"1032444177","msgId":2615,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDEzNzNENjM0MkZBMUQ0MTE5QTUxMDBFMDI5NDM3RjY0MDQ1RUVDRkJAY2xpZmZvcmQuZGV2by5pbHguY29tPg=="},"prevInTopic":2613,"nextInTopic":2616,"prevInTime":2614,"nextInTime":2616,"topicId":2612,"numMessagesInTopic":7,"msgSnippet":"Seairth, I think I agree with you that because of the specific language of the spec, side effects means effects that are not directly either a request or a","rawEmail":"Return-Path: &lt;waldenm@...&gt;\r\nX-Sender: waldenm@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nReceived: (EGP: mail-8_1_1_3); 19 Sep 2002 14:03:10 -0000\r\nReceived: (qmail 41666 invoked from network); 19 Sep 2002 14:03:09 -0000\r\nReceived: from unknown (66.218.66.217)\n  by m3.grp.scd.yahoo.com with QMQP; 19 Sep 2002 14:03:09 -0000\r\nReceived: from unknown (HELO mail.ilx.com) (199.119.33.174)\n  by mta2.grp.scd.yahoo.com with SMTP; 19 Sep 2002 14:03:09 -0000\r\nReceived: from clifford.devo.ilx.com (clifford.devo.ilx.com [172.27.56.72])\n\tby mail.ilx.com (8.9.3/8.9.3) with ESMTP id KAA35114;\n\tThu, 19 Sep 2002 10:03:08 -0400 (EDT)\n\t(envelope-from waldenm@...)\r\nReceived: by clifford.devo.ilx.com with Internet Mail Service (5.5.2653.19)\n\tid &lt;R9QJ1WZP&gt;; Thu, 19 Sep 2002 10:03:07 -0400\r\nMessage-ID: &lt;1373D6342FA1D4119A5100E029437F64045EECFB@...&gt;\r\nTo: &quot;&#39;Seairth Jacobs&#39;&quot; &lt;seairth@...&gt;,\n        rest-discuss\n\t &lt;rest-discuss@yahoogroups.com&gt;\r\nSubject: RE: [rest-discuss] True meaning of &quot;Idempotent&quot;?\r\nDate: Thu, 19 Sep 2002 10:02:57 -0400\r\nMIME-Version: 1.0\r\nX-Mailer: Internet Mail Service (5.5.2653.19)\r\nContent-Type: text/plain\r\nFrom: &quot;Mathews, Walden&quot; &lt;waldenm@...&gt;\r\nX-Yahoo-Group-Post: member; u=69125415\r\nX-Yahoo-Profile: waldenmathews\r\n\r\nSeairth,\n\nI think I agree with you that because of the specific language\nof the spec, &quot;side effects&quot; means effects that are not directly\neither a request or a response, which includes all state changes\nin resources.  Which is a little wierd when you consider that\nthe raison d&#39;etre of the protocol is to &#39;transfer&#39; state, as much\nto change it as to discover it.\n\nHence idempotence, which as discussed earlier on this list is \na property of functions (constrained relations), refers to the\nfunction whose domain is a resource&#39;s pre-state and whose range\nis the same resource&#39;s post-state, where pre- and post- states\nare relative to a single HTTP method invocation.  That seems\nclear to me -- modulo Roy&#39;s counterclaim about idempotent sequences.\n\nStill, the question arises: Should a client be able (guaranteed\nby contract) to discover the mapped or unmapped pre-state of\na resource by invoking DELETE?  Some applications may care, and\nso we need to know if that contract was intended by 2616 or\nnot.\n\nWalden\n\n&gt; -----Original Message-----\n&gt; From: Seairth Jacobs [mailto:seairth@...]\n&gt; Sent: Thursday, September 19, 2002 12:34 AM\n&gt; To: rest-discuss\n&gt; Subject: [rest-discuss] True meaning of &quot;Idempotent&quot;?\n&gt; \n&gt; \n&gt; What is the true meaning of &quot;idempotent&quot;, both in terms of \n&gt; HTTP and in terms\n&gt; of REST?  Roy Fielding does not mention idempotency in his \n&gt; dissertation, but\n&gt; it certainly appears to be an integral part of our \n&gt; discussions on REST.\n&gt; \n&gt; To start, RFC2616 [1:9.1.2] says:\n&gt; \n&gt;    Methods can also have the property of &quot;idempotence&quot;\n&gt;    in that (aside from error or expiration issues) the\n&gt;    side-effects of N &gt; 0 identical requests is the same\n&gt;    as for a single request. The methods GET, HEAD, PUT\n&gt;    and DELETE share this property. Also, the methods\n&gt;    OPTIONS and TRACE SHOULD NOT have side effects, and\n&gt;    so are inherently idempotent.\n&gt; \n&gt; Generally, I don&#39;t think we dispute the above description in \n&gt; terms of what\n&gt; happens to a resource on a server.  However, where we seem to disagree\n&gt; (mostly due to ambiguity, I think), is just how far the concept of\n&gt; idempotency reaches.  For instance, is an operation \n&gt; idempotent if it returns\n&gt; different responses?  When we speak of responses, are we \n&gt; talking about only\n&gt; the response entity, the metadata, or both?  Since &quot;error or \n&gt; expiration\n&gt; issues&quot; are explicitly noted as exceptions, what does \n&gt; idempotency mean in\n&gt; those circumstances?  What is the definition of &quot;side-effect&quot;?\n&gt; \n&gt; I do not have an answer for this, but I do have some thoughts (and\n&gt; opinions)...\n&gt; \n&gt; First, let&#39;s define what &quot;side-effect&quot; means.  I prefer the \n&gt; term &quot;mutation&quot;\n&gt; here, since &quot;side-effect&quot; implies something that occurs \n&gt; indirectly to the\n&gt; actual action taken.  However, no one here would consider updating a\n&gt; resource with a PUT as a side-effect.  So, the first thing we \n&gt; can say about\n&gt; a side-effect (in terms of the HTTP spec) is that we are \n&gt; speaking of the\n&gt; changing of a resource.  That&#39;s it.  Nothing more.  It could \n&gt; be direct or\n&gt; indirect.  Doesn&#39;t matter.  The second thing we can say about \n&gt; a side-effect\n&gt; (again, in terms of HTTP) is that we are speaking of the end \n&gt; result of the\n&gt; changing of a resource, not the process itself.  In other \n&gt; words, we only see\n&gt; a side-effect in terms of what state the resource is in after \n&gt; the change.\n&gt; \n&gt; Next, let&#39;s start applying some scope to these terms (where \n&gt; possible).  To\n&gt; start, let&#39;s say that side-effects are scoped to the resource \n&gt; on the server.\n&gt; The client is never directly aware of side-effect.  Next, \n&gt; let&#39;s also say\n&gt; that an idempotent method is scoped to the resource on the \n&gt; server as well.\n&gt; This makes sense since idempotency depends on side-effects.\n&gt; \n&gt; Now, we get to the part where the ambiguity creeps in...\n&gt; \n&gt; When one uses an idempotent method which causes a side-effect \n&gt; (PUT, DELETE),\n&gt; the server returns a response just like any other request method.  The\n&gt; response contains two parts:  the headers (metadata) and the \n&gt; entity-body\n&gt; (which can be null).  Recently, we have discussed whether returning\n&gt; different responses when issuing repeated DELETEs violates \n&gt; idempotency or\n&gt; not.  One camp says that the response should reflect the \n&gt; results of the\n&gt; request (i.e. 200 for first response, 404 afterwards).  This \n&gt; attitude would\n&gt; imply that the response does not have anything to do with whether the\n&gt; request was idempotent or not.  The other camp says that the \n&gt; response should\n&gt; reflect the end state of the request (i.e. 200 for all \n&gt; responses).  This\n&gt; attitude would imply that the response is as much a part of \n&gt; the idempotency\n&gt; requirements as the request is.  What this comes down to is whether we\n&gt; consider any part of the response to be within the scope of HTTP&#39;s\n&gt; definition of idempotency.\n&gt; \n&gt; My feeling is that the response has nothing to do with \n&gt; idempotency at all.\n&gt; This comes from the use of GET.  GET is an idempotent \n&gt; operation that has no\n&gt; side-effect.  As a result, I could issue the same GET several \n&gt; times, and the\n&gt; server could return different responses for each of the requests.  For\n&gt; instance, in some of the responses, I could get back a 200, but have\n&gt; different entity bodies (common for dynamic content).  I \n&gt; could also get back\n&gt; different response codes, such as 200 (OK), then 301 (Moved \n&gt; Permanently),\n&gt; then 404 (Not Found).  Despite these different responses, \n&gt; each of the GETs\n&gt; is still considered to be idempotent.\n&gt; \n&gt; Now, let&#39;s move on to PUT.  When PUT is used, and the resource did not\n&gt; exist, then a 201 (Created) response is expected.  Subsequent \n&gt; PUTs to the\n&gt; same resource return 200 (OK) responses.  This is very common \n&gt; practice and I\n&gt; have never heard a single person say this is not idempotent.\n&gt; \n&gt; So, now we move on to DELETE.  In this case, let&#39;s say that \n&gt; the first DELETE\n&gt; will return a 200 response and subsequent DELETEs return a \n&gt; 404 response.\n&gt; &gt;From the definition and scoping of &quot;side-effect&quot; above, we \n&gt; all agree that\n&gt; the state of the resource after each delete is that it does \n&gt; not exist.  This\n&gt; is enough to also satisfy DELETE&#39;s requirement of \n&gt; idempotency.  Further,\n&gt; this is no different than returning two responses for repeated PUTs.\n&gt; \n&gt; \n&gt; In the end, my personal conclusion is that responses have \n&gt; nothing to do with\n&gt; idempotency.  Idempotency is only limited to the resource on \n&gt; the server.\n&gt; Regardless of what is returned to the client, the operation \n&gt; on the server is\n&gt; idempotent (assuming that the end state is the same after \n&gt; repeated identical\n&gt; requests).\n&gt; \n&gt; \n&gt; So what does this mean for returning responses from DELETE?  \n&gt; I think that\n&gt; 200 (OK) or 202 (Accepted) or 204 (No Content), followed by \n&gt; 404 (Not Found)\n&gt; or 410 (Gone) and maybe 303 (See Other) would be no different \n&gt; than expected\n&gt; of other idempotent methods like PUT and GET.\n&gt; \n&gt; If I had to suggest an order of usage, I&#39;d say (in order of \n&gt; most expressive\n&gt; to least expressive):\n&gt; \n&gt; First request:\n&gt;     204 (No Content)\n&gt;     202 (Accepted)\n&gt;     200 (OK)\n&gt; \n&gt; Repeated requests:\n&gt;     303 (See Other)\n&gt;     410 (Gone)\n&gt;     404 (Not Found)\n&gt; \n&gt; \n&gt; Should we allow repeated DELETE requests to always get back a \n&gt; &quot;200&quot; (or\n&gt; similar) response?  PUT (DELETE&#39;s binary opposite) doesn&#39;t \n&gt; allow it.  GET,\n&gt; while possible to receive the same response over and over \n&gt; again, must also\n&gt; be open to receiving other responses as well.  So, why should \n&gt; DELETE be any\n&gt; different?  My thought here is that it would be wrong (given \n&gt; the way the\n&gt; other two verbs work) to return the same response code \n&gt; regardless of whether\n&gt; the resource was deleted or not.\n&gt; \n&gt; \n&gt; &lt;note&gt;I think that&#39;s it.  Sorry if it seemed to ramble on.  I stopped\n&gt; somewhere in the middle to watch The Daily Show (comedy \n&gt; central) and when\n&gt; they showed the clip of Bush totally screwing up a simple \n&gt; quote, I just lost\n&gt; all concentration (funny stuff, it was).  Again, sorry if it all seems\n&gt; incoherent.  :) *giggle* &lt;/note&gt;\n&gt; \n&gt; [1] http://www.ietf.org/rfc/rfc2616.txt\n&gt; \n&gt; ---\n&gt; Seairth Jacobs\n&gt; seairth@...\n&gt; \n&gt; \n&gt; ------------------------ Yahoo! Groups Sponsor \n&gt; ---------------------~--&gt;\n&gt; 4 DVDs Free +s&p Join Now\n&gt; http://us.click.yahoo.com/pt6YBB/NXiEAA/MVfIAA/W6uqlB/TM\n&gt; --------------------------------------------------------------\n&gt; -------~-&gt;\n&gt; \n&gt; To unsubscribe from this group, send an email to:\n&gt; rest-discuss-unsubscribe@yahoogroups.com\n&gt; \n&gt;  \n&gt; \n&gt; Your use of Yahoo! Groups is subject to \nhttp://docs.yahoo.com/info/terms/ \n\n\n"}}
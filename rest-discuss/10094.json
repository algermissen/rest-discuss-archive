{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":40455398,"authorName":"Julian Reschke","from":"Julian Reschke &lt;julian.reschke@...&gt;","profile":"JulianReschke","replyTo":"SENDER","senderId":"SSngIHjBFPia73N09KeYPA9gd02LeitY-OjVZk_ekmgsKBfxFgyl1e0qVPHjSvyuljFvhbbShnFcbBTfrlZWsDOxHePUOyTBi0FM7YA","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [rest-discuss] Idempotency of PUT when using IF-MATCH","postDate":"1198857518","msgId":10094,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDQ3NzUxRDJFLjUwODAyMDBAZ214LmRlPg==","inReplyToHeader":"PGU1YzZlY2FiMDcxMjI4MDYwOHIxZDFlMGQ5Y3ExNGMxY2QwZjM2NTkwMDhlQG1haWwuZ21haWwuY29tPg==","referencesHeader":"PGU1YzZlY2FiMDcxMjI3MjMyMHMzZGE1NGZwNmYwM2EwMDMwM2NiMGMxN0BtYWlsLmdtYWlsLmNvbT4JIDw0Nzc0RkNCNy4zMDAwMTA3QGdteC5kZT4gPGU1YzZlY2FiMDcxMjI4MDYwOHIxZDFlMGQ5Y3ExNGMxY2QwZjM2NTkwMDhlQG1haWwuZ21haWwuY29tPg=="},"prevInTopic":10093,"nextInTopic":10095,"prevInTime":10093,"nextInTime":10095,"topicId":10088,"numMessagesInTopic":12,"msgSnippet":"... That doesn t make them current . They may be current for other URLs. Or do you want to serve those older versions from the same URL? In that case it would","rawEmail":"Return-Path: &lt;julian.reschke@...&gt;\r\nX-Sender: julian.reschke@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 83363 invoked from network); 28 Dec 2007 15:58:40 -0000\r\nX-Received: from unknown (66.218.67.95)\n  by m55.grp.scd.yahoo.com with QMQP; 28 Dec 2007 15:58:40 -0000\r\nX-Received: from unknown (HELO mail.gmx.net) (213.165.64.20)\n  by mta16.grp.scd.yahoo.com with SMTP; 28 Dec 2007 15:58:40 -0000\r\nX-Received: (qmail invoked by alias); 28 Dec 2007 15:58:39 -0000\r\nX-Received: from mail.greenbytes.de (EHLO [192.168.1.118]) [217.91.35.233]\n  by mail.gmx.net (mp030) with SMTP; 28 Dec 2007 16:58:39 +0100\r\nX-Authenticated: #1915285\r\nX-Provags-ID: V01U2FsdGVkX18zxrBRGk4z7mFSjhsVtrzEXlg40S8ZhUEmAFQ4O6\n\tVt+l9JBFbK6JwI\r\nMessage-ID: &lt;47751D2E.5080200@...&gt;\r\nDate: Fri, 28 Dec 2007 16:58:38 +0100\r\nUser-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; de; rv:1.8.0.4) Gecko/20060516 Thunderbird/1.5.0.4 Mnenhy/0.7.4.666\r\nMIME-Version: 1.0\r\nTo: Daniel Yokomizo &lt;daniel.yokomizo@...&gt;\r\nCc: rest-discuss@yahoogroups.com\r\nReferences: &lt;e5c6ecab0712272320s3da54fp6f03a00303cb0c17@...&gt;\t &lt;4774FCB7.3000107@...&gt; &lt;e5c6ecab0712280608r1d1e0d9cq14c1cd0f3659008e@...&gt;\r\nIn-Reply-To: &lt;e5c6ecab0712280608r1d1e0d9cq14c1cd0f3659008e@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-Y-GMX-Trusted: 0\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Julian Reschke &lt;julian.reschke@...&gt;\r\nSubject: Re: [rest-discuss] Idempotency of PUT when using IF-MATCH\r\nX-Yahoo-Group-Post: member; u=40455398; y=aSI0xlMb9ZPqMa5OSuk9MRwyCUqKgd_uuYPkkTzid-Y7gP__pLFM5g\r\nX-Yahoo-Profile: JulianReschke\r\n\r\nDaniel Yokomizo wrote:\n&gt; I wasn&#39;t entirely clear. Arguably all the versions of the entity are\n&gt; current, as the user may get older versions and at a future date\n&gt; branch on old versions. Instead of creating a protocol to handle\n\nThat doesn&#39;t make them &quot;current&quot;. They may be current for other URLs.\n\nOr do you want to serve those older versions from the same URL? In that \ncase it would be correct, and it would be a case of content negotiation \n(incl Vary header etc).\n\n&gt; versioning above HTTP I thought using the existing versioning support\n&gt; would be better.\n\nThere already is a protocol for versioning over HTTP (RFC3253), so you \ndon&#39;t need to invent anything new.\n\n&gt;  &gt; So yes, PUT isn&#39;t idempotent when used as a conditional request.\n&gt; \n&gt; Where is this specified? Or is a known convention?\n&gt; \n&gt; In this situation the server knows that this is a repeated submission\n&gt; and it&#39;s semantically safe to ignore it. I could just drop IF-MATCH in\n\nI don&#39;t see why it would be safe to ignore it. If a client puts FOO, \nthen BAR, then FOO, ignoring the last one will not result in the state \nexpected.\n\n&gt; this case and make the client send the version identifier in the\n&gt; request body, but I&#39;m not sure the problem would be much different. If\n&gt; I ignore IF-MATCH issues the same situation can happen and the server\n&gt; can safely ignore the duplicate PUT, but I would still ask the same\n&gt; question.\n\nIt seems that the main issue here is ignoring the PUT, just because the \ncontent was sent before. How can you assume this is ok -- maybe the \nclient intended to overwrite the second version with the first one?\n\nBR, Julian\n\n"}}
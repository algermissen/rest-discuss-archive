{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":352334505,"authorName":"Craig McClanahan","from":"Craig McClanahan &lt;craigmcc@...&gt;","profile":"craig_mcclanahan","replyTo":"SENDER","senderId":"Pcw20dJARWTQrbBwtRDsW8psa17raWgTTo7_XYBYertEeX8-MrjXvCQkNqnr9Wo09MzRpgKocHD6Px3SFcwcQJe7RMUA41cMt7AdDQ","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [rest-discuss] ClientResource leaves inactive thread","postDate":"1277191194","msgId":15740,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PEFBTkxrVGlsbXB5NEx0U0Y2QVh2UG9vVFlLOGhBYlR4SDQwcnRiaVgtbjdjbkBtYWlsLmdtYWlsLmNvbT4=","inReplyToHeader":"PDRDMjA1NjQxLjgwMTAxMDlAYWNhZC5iZz4=","referencesHeader":"PDRDMjA1NjQxLjgwMTAxMDlAYWNhZC5iZz4="},"prevInTopic":15739,"nextInTopic":15741,"prevInTime":15739,"nextInTime":15741,"topicId":15739,"numMessagesInTopic":3,"msgSnippet":"Shouldn t you be asking about this kind of thing on the Restlet mailing lists? Craig","rawEmail":"Return-Path: &lt;craigmcc@...&gt;\r\nX-Sender: craigmcc@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 97049 invoked from network); 22 Jun 2010 07:19:55 -0000\r\nX-Received: from unknown (98.137.34.46)\n  by m4.grp.sp2.yahoo.com with QMQP; 22 Jun 2010 07:19:55 -0000\r\nX-Received: from unknown (HELO mail-px0-f179.google.com) (209.85.212.179)\n  by mta3.grp.sp2.yahoo.com with SMTP; 22 Jun 2010 07:19:54 -0000\r\nX-Received: by pxi14 with SMTP id 14so387378pxi.38\n        for &lt;rest-discuss@yahoogroups.com&gt;; Tue, 22 Jun 2010 00:19:54 -0700 (PDT)\r\nMIME-Version: 1.0\r\nX-Received: by 10.142.1.9 with SMTP id 9mr4589713wfa.279.1277191194390; Tue, 22 \n\tJun 2010 00:19:54 -0700 (PDT)\r\nX-Received: by 10.142.179.7 with HTTP; Tue, 22 Jun 2010 00:19:54 -0700 (PDT)\r\nIn-Reply-To: &lt;4C205641.8010109@...&gt;\r\nReferences: &lt;4C205641.8010109@...&gt;\r\nDate: Tue, 22 Jun 2010 00:19:54 -0700\r\nMessage-ID: &lt;AANLkTilmpy4LtSF6AXvPooTYK8hAbTxH40rtbiX-n7cn@...&gt;\r\nTo: jeliazkova.nina@...\r\nCc: Rest List &lt;rest-discuss@yahoogroups.com&gt;\r\nContent-Type: multipart/related; boundary=001636b2bf5673b2280489993fce\r\nFrom: Craig McClanahan &lt;craigmcc@...&gt;\r\nReply-To: craigmcc@...\r\nSubject: Re: [rest-discuss] ClientResource leaves inactive thread\r\nX-Yahoo-Group-Post: member; u=352334505; y=UkNWjVXJezLgy7nGt0cBvkbKXb3L2K4qGys8_uXUut7cr8MadsZvoEB0IQ\r\nX-Yahoo-Profile: craig_mcclanahan\r\n\r\n\r\n--001636b2bf5673b2280489993fce\r\nContent-Type: multipart/alternative; boundary=001636b2bf5673b2220489993fcd\r\n\r\n\r\n--001636b2bf5673b2220489993fcd\r\nContent-Type: text/plain; charset=ISO-8859-1\r\n\r\nShouldn&#39;t you be asking about this kind of thing on the Restlet mailing\nlists?\n\nCraig\n\nOn Mon, Jun 21, 2010 at 11:20 PM, Nina Jeliazkova &lt;nina@...&gt; wrote:\n\n&gt;  Hello All,\n&gt;\n&gt; I am experiencing memory/thread leak ,with Restlet-2.0-RC4 and\n&gt; Restlet-2.0-SNAPSHOT , when using ClientResource . Basically, ClientResource\n&gt; doesn&#39;t close the thread it spawns and this result in number of inactive\n&gt; threads and  severe memory leak.\n&gt;\n&gt; Here is some very simple code to illustrate this behaviour.  The same code\n&gt; runs fine in Restlet-2.0-M6 (which doesn&#39;t span new thread in\n&gt; ClientResource).\n&gt;\n&gt;     public void run(int instances) throws Exception {\n&gt;\n&gt;         for (int i=0; i &lt; instances;i++) {\n&gt;             ClientResource clientResource = null;\n&gt;             Representation r = null;\n&gt;             try {\n&gt;                 clientResource = new ClientResource(&quot;http://restlet.org&quot;&lt;http://restlet.org&gt;\n&gt; );\n&gt;                 r = clientResource.get();\n&gt;             } finally {\n&gt;                 try { r.release(); } catch (Exception x) {}\n&gt;                 try { clientResource.release(); } catch (Exception x) {}\n&gt;             }\n&gt;         }\n&gt;     }\n&gt;\n&gt;     public static void main(String[] args) throws Exception {\n&gt;         ThreadTest test = new ThreadTest();\n&gt;         test.run(1000);\n&gt;     }\n&gt;\n&gt;\n&gt; I guess there might be something missing in the code to explicitly close\n&gt; threads, but since the same code runs fine in M6, it is quite confusing to\n&gt; experience leaks after upgrade.\n&gt;\n&gt; Best regards,\n&gt; Nina Jeliazkova\n&gt;\n&gt; P.S. Inactive threads while executing the example above.\n&gt;\n&gt;\n&gt;\n\r\n--001636b2bf5673b2220489993fcd\r\nContent-Type: text/html; charset=ISO-8859-1\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\nShouldn&#39;t you be asking about this kind of thing on the Restlet mailing=\r\n lists?&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Craig&lt;br&gt;&lt;br&gt;&lt;div class=3D&quot;gmail_quote&quot;&gt;On Mon, =\r\nJun 21, 2010 at 11:20 PM, Nina Jeliazkova &lt;span dir=3D&quot;ltr&quot;&gt;&lt;&lt;a href=3D&quot;=\r\nmailto:nina@...&quot;&gt;nina@...&lt;/a&gt;&gt;&lt;/span&gt; wrote:&lt;br&gt;\n&lt;blockquote cla=\r\nss=3D&quot;gmail_quote&quot; style=3D&quot;margin:0 0 0 .8ex;border-left:1px #ccc solid;pa=\r\ndding-left:1ex;&quot;&gt;\n\n\n\n&lt;div bgcolor=3D&quot;#ffffff&quot; text=3D&quot;#000000&quot;&gt;\nHello All,&lt;=\r\nbr&gt;\n&lt;br&gt;\nI am experiencing memory/thread leak ,with Restlet-2.0-RC4 and\nRes=\r\ntlet-2.0-SNAPSHOT , when using ClientResource . Basically,\nClientResource d=\r\noesn&#39;t close the thread it spawns and this result in\nnumber of inactive=\r\n threads and=A0 severe memory leak.&lt;br&gt;\n&lt;br&gt;\nHere is some very simple code =\r\nto illustrate this behaviour.=A0 The same\ncode runs fine in Restlet-2.0-M6 =\r\n(which doesn&#39;t span new thread in\nClientResource).&lt;br&gt;\n&lt;br&gt;\n=A0=A0=A0 p=\r\nublic void run(int instances) throws Exception {=A0=A0=A0 =A0=A0=A0 &lt;br&gt;\n=\r\n=A0=A0=A0 =A0=A0=A0 &lt;br&gt;\n=A0=A0=A0 =A0=A0=A0 for (int i=3D0; i &lt; instanc=\r\nes;i++) { &lt;br&gt;\n=A0=A0=A0 =A0=A0=A0 =A0=A0=A0 ClientResource clientResource =\r\n=3D null;&lt;br&gt;\n=A0=A0=A0 =A0=A0=A0 =A0=A0=A0 Representation r =3D null;&lt;br&gt;\n=\r\n=A0=A0=A0 =A0=A0=A0 =A0=A0=A0 try {&lt;br&gt;\n=A0=A0=A0 =A0=A0=A0 =A0=A0=A0 =A0=\r\n=A0=A0 clientResource =3D new\nClientResource(&lt;a href=3D&quot;http://restlet.org&quot;=\r\n target=3D&quot;_blank&quot;&gt;&quot;http://restlet.org&quot;&lt;/a&gt;);&lt;br&gt;\n=A0=A0=A0 =A0=\r\n=A0=A0 =A0=A0=A0 =A0=A0=A0 r =3D clientResource.get();&lt;br&gt;\n=A0=A0=A0 =A0=A0=\r\n=A0 =A0=A0=A0 } finally {&lt;br&gt;\n=A0=A0=A0 =A0=A0=A0 =A0=A0=A0 =A0=A0=A0 try {=\r\n r.release(); } catch (Exception x) {}&lt;br&gt;\n=A0=A0=A0 =A0=A0=A0 =A0=A0=A0 =\r\n=A0=A0=A0 try { clientResource.release(); } catch (Exception x) {}&lt;br&gt;\n=A0=\r\n=A0=A0 =A0=A0=A0 =A0=A0=A0 }&lt;br&gt;\n=A0=A0=A0 =A0=A0=A0 }&lt;br&gt;\n=A0=A0=A0 }&lt;br&gt;\n=\r\n=A0=A0=A0 &lt;br&gt;\n=A0=A0=A0 public static void main(String[] args) throws Exce=\r\nption {&lt;br&gt;\n=A0=A0=A0 =A0=A0=A0 ThreadTest test =3D new ThreadTest();&lt;br&gt;\n=\r\n=A0=A0=A0 =A0=A0=A0 test.run(1000);&lt;br&gt;\n=A0=A0=A0 }&lt;br&gt;\n&lt;br&gt;\n&lt;br&gt;\nI guess t=\r\nhere might be something missing in the code to explicitly\nclose threads, bu=\r\nt since the same code runs fine in M6, it is quite\nconfusing to experience =\r\nleaks after upgrade.&lt;br&gt;\n&lt;br&gt;\nBest regards,&lt;br&gt;&lt;font color=3D&quot;#888888&quot;&gt;\nNin=\r\na Jeliazkova&lt;br&gt;\n&lt;/font&gt;&lt;br&gt;\nP.S. Inactive threads while executing the exam=\r\nple above.&lt;br&gt;\n&lt;br&gt;\n&lt;img src=3D&quot;cid:part1.09020608.01080607@...&quot; alt=3D=\r\n&quot;&quot;&gt;&lt;br&gt;\n&lt;/div&gt;\n\n&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;\n\r\n--001636b2bf5673b2220489993fcd--\r\n\n\r\n--001636b2bf5673b2280489993fce\r\nContent-Type: image/jpeg; name=&quot;moz-screenshot-7.jpg&quot;\r\nContent-ID: &lt;part1.09020608.01080607@...&gt;\r\nX-Attachment-Id: 6f6dd9fb71021efa_0.1.1\r\n\r\n[ Attachment content not displayed ]\r\n--001636b2bf5673b2280489993fce--\r\n\n"}}
{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":198693287,"authorName":"Bill Venners","from":"Bill Venners &lt;bv-svp@...&gt;","profile":"billvenners","replyTo":"SENDER","senderId":"QyKi5RfweV6XyVq1gJToVraeAmgo4BiTYsN9CUiD60yzNdIkVZ2OOc7bdaXFgKshefdLNmxU1OTr3sIa8ebM0EMoibKyZiA","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [rest-discuss] Personalization as Representation","postDate":"1143419183","msgId":5829,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDMwQkZGNTg4LTVEN0ItNDc0OS1BQ0MxLUE2RThDMzBBQTA0M0BhcnRpbWEuY29tPg==","inReplyToHeader":"PDQ0MjVEMERDLjYwMzA3MDhAam9ubmF5Lm5ldD4=","referencesHeader":"PDQ0MTg2RERELjYwMTAzMDVAam9ubmF5Lm5ldD4gPDQ0MjE5NEU5LjgwMDA2MDlAdmVpY29uLmNvbT4gPDg3YWNiaW1ncTIuZnNmQHRhcHNlbGxmZXJyaWVyLmNvLnVrPiA8NDQyMUE5RjguNTA3MDUwM0B2ZWljb24uY29tPiA8NDQyMUY1MzAuODAwMDgwMkBzZWFpcnRoLmNvbT4gPDg3NHExcWx6NGMuZnNmQHRhcHNlbGxmZXJyaWVyLmNvLnVrPiA8NDQyMjMzNkMuNTAwMDMwN0BzZWFpcnRoLmNvbT4gPDg3eTd6MWw2Y28uZnNmQHRhcHNlbGxmZXJyaWVyLmNvLnVrPiA8NzNlYzU5OWQwNjAzMjMwNjA4cDJhYmU1MTRjdWNiNDUxZGNkMjQ0NjcxZDhAbWFpbC5nbWFpbC5jb20+IDw4N3ZldTVreTB4LmZzZkB0YXBzZWxsZmVycmllci5jby51az4gPDczZWM1OTlkMDYwMzIzMTM0M3M0MjNjYmM5Mm80NjhmMGNlZjZlN2UwNmE4QG1haWwuZ21haWwuY29tPiA8ODdwc2tjbHQ5MS5mc2ZAdGFwc2VsbGZlcnJpZXIuY28udWs+IDw5RThGN0U5MC01M0NFLTRBRjEtOTI0RS00RURGMDI2RkVEQzRAYXJ0aW1hLmNvbT4gPDg3aXJxNGxnZWcuZnNmQHRhcHNlbGxmZXJyaWVyLmNvLnVrPiA8OTlBODdBNjgtNjU5Qy00MDUyLTkwNzQtM0Q2RDE5NzFGMUZDQGFydGltYS5jb20+IDw4N2Q1Z2NsYnNkLmZzZkB0YXBzZWxsZmVycmllci5jby51az4gPEI0RUQ3ODMzLUIwNTMtNDBDMi04RTUwLTVFODc3MTg2MjYyOEBhcnRpbWEuY29tPiA8NDQyM0ZDMDMuODAwMDQwMkBtZXRhbGFiLnVuYy5lZHU+IDwxMjdFNzI3My0xM0NELTRCQkMtOTQ1Ri1DRDIyRTk4M0JGNEFAdG9waWNtYXBwaW5nLmNvbT4gPDQ0MjQwNDlBLjcwMzAzMDdAbWV0YWxhYi51bmMuZWR1PiA8M0Q2MDRBODQtMzAyQy00OTkxLTgxQTgtNzk2RTdCNkQxNDQ1QGFydGltYS5jb20+IDw0NDI1RDBEQy42MDMwNzA4QGpvbm5heS5uZXQ+"},"prevInTopic":5828,"nextInTopic":5830,"prevInTime":5828,"nextInTime":5830,"topicId":5693,"numMessagesInTopic":89,"msgSnippet":"Hi Jonathon, ... I had to think about this idea for a bit, and am still not quite sure I understand it fully. One problem I believe I see is that it doesn t ","rawEmail":"Return-Path: &lt;bv-svp@...&gt;\r\nX-Sender: bv-svp@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nReceived: (qmail 13526 invoked from network); 27 Mar 2006 00:25:56 -0000\r\nReceived: from unknown (66.218.67.36)\n  by m26.grp.scd.yahoo.com with QMQP; 27 Mar 2006 00:25:56 -0000\r\nReceived: from unknown (HELO artima2.inetu.net) (209.235.240.43)\n  by mta10.grp.scd.yahoo.com with SMTP; 27 Mar 2006 00:25:55 -0000\r\nReceived: (qmail 28074 invoked by uid 89); 27 Mar 2006 00:25:56 -0000\r\nReceived: from unknown (HELO ?192.168.1.2?) (71.131.207.69)\n  by artima2.inetu.net with SMTP; 27 Mar 2006 00:25:56 -0000\r\nIn-Reply-To: &lt;4425D0DC.6030708@...&gt;\r\nReferences: &lt;44186DDD.6010305@...&gt; &lt;442194E9.8000609@...&gt; &lt;87acbimgq2.fsf@...&gt; &lt;4421A9F8.5070503@...&gt; &lt;4421F530.8000802@...&gt; &lt;874q1qlz4c.fsf@...&gt; &lt;4422336C.5000307@...&gt; &lt;87y7z1l6co.fsf@...&gt; &lt;73ec599d0603230608p2abe514cucb451dcd244671d8@...&gt; &lt;87veu5ky0x.fsf@...&gt; &lt;73ec599d0603231343s423cbc92o468f0cef6e7e06a8@...&gt; &lt;87pskclt91.fsf@...&gt; &lt;9E8F7E90-53CE-4AF1-924E-4EDF026FEDC4@...&gt; &lt;87irq4lgeg.fsf@...&gt; &lt;99A87A68-659C-4052-9074-3D6D1971F1FC@...&gt; &lt;87d5gclbsd.fsf@...&gt; &lt;B4ED7833-B053-40C2-8E50-5E8771862628@...&gt; &lt;4423FC03.8000402@...&gt; &lt;127E7273-13CD-4BBC-945F-CD22E983BF4A@...&gt; &lt;4424049A.7030307@...&gt; &lt;3D604A84-302C-4991-81A8-796E7B6D1445@...&gt; &lt;4425D0DC.6030708@...&gt;\r\nMime-Version: 1.0 (Apple Message framework v746.3)\r\nContent-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed\r\nMessage-Id: &lt;30BFF588-5D7B-4749-ACC1-A6E8C30AA043@...&gt;\r\nCc: rest-discuss@yahoogroups.com\r\nContent-Transfer-Encoding: 7bit\r\nDate: Sun, 26 Mar 2006 16:26:23 -0800\r\nTo: Jonathan Arkell &lt;yahoo@...&gt;\r\nX-Mailer: Apple Mail (2.746.3)\r\nX-eGroups-Msg-Info: 1:12:0:0\r\nFrom: Bill Venners &lt;bv-svp@...&gt;\r\nSubject: Re: [rest-discuss] Personalization as Representation\r\nX-Yahoo-Group-Post: member; u=198693287; y=fXIVavrPk0_YH6ML9sKdzRImlZ-gEw7Hj2yrNrSiU-TXS7lAHxQ\r\nX-Yahoo-Profile: billvenners\r\n\r\nHi Jonathon,\n\nOn Mar 25, 2006, at 3:23 PM, Jonathan Arkell wrote:\n\n&gt; Bill Venners Requires:\n&gt;&gt; 1) Send a timeout from the server to the client when prompting for\n&gt;&gt; authentication on a particular Realm.\n&gt;\n&gt;&gt; 2) Send in a response a directive to clear the authentication at a\n&gt;&gt; particular realm.\n&gt;\n&gt;&gt; 3) Send in the prompt a requirement that the user has to enter the\n&gt;&gt; credentials again, even if the authentication session hasn&#39;t expired\n&gt;\n&gt; Okay, I am not certain that this isn&#39;t Realm Abuse but...\n&gt;\n&gt; Say you set up a &quot;session URI&quot; http://yoursite/sessions.  A Client  \n&gt; could\n&gt; POST to the session URI to start up a session.  The starting of a\n&gt; session would also require HTTP authentication.  The realm would be\n&gt; YourSite-MyUsername-SessionID.\n&gt;\n&gt; Now, set it up so that the client can make DELETE requests to the\n&gt; http://yoursite/sessions/SessionID resource.  This allows the user to\n&gt; log out, and it also allows the server to timeout a request when\n&gt; necessary.  The SessionID resource could have a created and modified\n&gt; time to give you the kind of timeout control that you need.  Further,\n&gt; this model could be extended to allow for admins (or all users  \n&gt; even) to\n&gt; view who has logged in, and when their last login was.\n&gt;\n&gt; When An illegal realm is used for authentication (say\n&gt; YourSite-MyUsername-MyExpireedSession) then you can fire off a 403\n&gt; Forbidden, with a friendly page asking them to re-authenticate by\n&gt; generating a new session-realm.\n&gt;\n&gt; This handles cases all three cases (I am deliberately avoiding number\n&gt; 4).  If you want to make sure the user didn&#39;t just walk away from the\n&gt; machine while logged in, you just set the timeout period to 5  \n&gt; minutes or\n&gt; something like that.  If you want to make the timeout period  \n&gt; selectable,\n&gt; then just make that a property of the sessionID resource.\n&gt;\n&gt; Is this horrible abuse of the Realm?\n&gt;\nI had to think about this idea for a bit, and am still not quite sure  \nI understand it fully. One problem I believe I see is that it doesn&#39;t  \nprovide the server with a sure-fire way to recognize the client, so  \nit won&#39;t always know for which realm to prompt authentication. I.e.,  \nif you use a different realm string for each session, then the server  \nneeds to know what realm string to prompt for in its 401 response on  \na request. Once authenticated, the client may preemptively send the  \nAuthorization header, but the realm is buried inside the digest- \nresponse, and anyway the client may not send it until getting a 401.  \nBut before the server sends the 401, it needs to know the realm. So  \nreally I think the realm needs to something the server can determine  \nfrom the request URI.\n\nThe other concern is that a URL like this:\n\nhttp://yoursite/sessions/SessionID\n\nseems to indicate I&#39;ve created state on the server for the auth  \nsession, which is something I&#39;d rather avoid. I would prefer the auth  \nstate to be on the client, so when a user creates an auth session,  \nthat state is on the client for the duration of the session, after  \nwhich it gets cleared. On each request during the auth session, the  \nauth state goes from client to the server. This my current best  \nunderstanding of what REST says about authentication. (Even though  \nyou&#39;ve taken the innovative step of giving the session a URI on the  \nserver, it still feels to me like it&#39;s in the wrong place there on  \nthe server.)\n\nMy understanding of why REST suggests we avoid session state (almost  \nevery web framework makes using session state easy), is that extra- \nURI state breaks caching and hinders scalability. There are good  \nanswers to scalability with session state too, such as cache  \ncoherence tools and several other techniques, but I really don&#39;t  \nthink it would be harder to build a RESTful HTTP app then a stateful  \none if you just keep REST in mind as you go.\n\nI know Roy complained about the use of cookies for session IDs in his  \ndissertation. My guess is that his main concern was that in practice  \nsession cookies are used not just for auth, usually, but to point to  \nsession state on the server. The cookies I&#39;ve been considering using  \nin our new architecture are really auth tokens. They will essentially  \ncontain the username and password hash encrypted with a password that  \nall the servers will share for a half hour, after which they&#39;ll all  \nforget it. So if you bring a server up cold, and it gets one of these  \ncookies within the half-hour timeout, it can figure out who you are  \nand authenticate you (with the caveat that the session cookie can be  \neasily hijacked). In this approach once the server sends back this  \ncookie, it really represents the authentication state sitting there  \nin the client, and it gets sent up to the server with each request.  \nThe server can forget all about the authentication, so long as it  \nremembers the half-hour passwords used to encrypt the cookies.\n\n&gt; As for sending out personalized content... what about an iframe?\n&gt; Enclose all personalizable content inside of an iframe, and make a\n&gt; secondary request for that personalized content.  This helps to avoid\n&gt; the Javascript issue (while opening up another can of iframe worms  \n&gt; mind\n&gt; you).\n&gt;\nI don&#39;t think I want to go there. I don&#39;t want to go to JavaScript  \neither, to assemble the personalized representation on the client. I  \nsee how that would reduce server load and bandwidth, but in exchange  \nfor that cost savings, I&#39;d have the expense of testing a lot more  \nJavaScript in a lot more places. I expect I&#39;ll just send out  \npersonalized representations of resources, each with their own ETag.\n\nBill\n----\nBill Venners\nEditor-in-Chief\nArtima Developer\nhttp://www.artima.com\n\n\n"}}
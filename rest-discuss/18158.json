{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":242972596,"authorName":"Jorn Wildt","from":"&quot;Jorn Wildt&quot; &lt;jw@...&gt;","profile":"jorn_lind_nielsen","replyTo":"SENDER","senderId":"84TPxLkdMYzBfQTglTGKI95yq7rfRXrPiWX70VK-UpAwqCSlTgqIRSZgt3ADkIsPCFGQKxiPy5-tEm6m3gG3nmeV2_LklEop","spamInfo":{"isSpam":false,"reason":"6"},"subject":"Different vocabularies, same media type","postDate":"1324978828","msgId":18158,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PGpkYzNxYyttN3BnQGVHcm91cHMuY29tPg=="},"prevInTopic":0,"nextInTopic":18160,"prevInTime":18157,"nextInTime":18159,"topicId":18158,"numMessagesInTopic":32,"msgSnippet":"Hi folks. I hope you had a nice christmas with you friends and families - and are ready for yet a season of Rest-Discus :-) Sorry for bringing up an old issue;","rawEmail":"Return-Path: &lt;jw@...&gt;\r\nX-Sender: jw@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 57566 invoked from network); 27 Dec 2011 09:40:31 -0000\r\nX-Received: from unknown (98.137.35.161)\n  by m8.grp.sp2.yahoo.com with QMQP; 27 Dec 2011 09:40:31 -0000\r\nX-Received: from unknown (HELO ng18-ip1.bullet.mail.ne1.yahoo.com) (98.138.215.102)\n  by mta5.grp.sp2.yahoo.com with SMTP; 27 Dec 2011 09:40:30 -0000\r\nX-Received: from [98.138.217.176] by ng18.bullet.mail.ne1.yahoo.com with NNFMP; 27 Dec 2011 09:40:29 -0000\r\nX-Received: from [69.147.65.150] by tg1.bullet.mail.ne1.yahoo.com with NNFMP; 27 Dec 2011 09:40:29 -0000\r\nX-Received: from [98.137.34.119] by t7.bullet.mail.sp1.yahoo.com with NNFMP; 27 Dec 2011 09:40:29 -0000\r\nDate: Tue, 27 Dec 2011 09:40:28 -0000\r\nTo: rest-discuss@yahoogroups.com\r\nMessage-ID: &lt;jdc3qc+m7pg@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-compose\r\nX-eGroups-Msg-Info: 1:6:0:0:0\r\nFrom: &quot;Jorn Wildt&quot; &lt;jw@...&gt;\r\nSubject: Different vocabularies, same media type\r\nX-Yahoo-Group-Post: member; u=242972596; y=3HWhkHwIWIgBay0U7rgObylRms-CR6I6pwaC-cykCTgUTbT6rfxYW7Tq-Bc\r\nX-Yahoo-Profile: jorn_lind_nielsen\r\n\r\nHi folks. I hope you had a nice christmas with you friends and families - a=\r\nnd are ready for yet a season of Rest-Discus :-)\n\nSorry for bringing up an =\r\nold issue; I have trawled through earlier discussions but haven&#39;t found any=\r\n conclusive posts that solves the problem.\n\nAssume we have a resource with =\r\na sales order. Such a sales order can be represented for an end-user as eit=\r\nher HTML or a spreadsheet. With content negotiation thats easily done with =\r\naccept headers for text/html or application/vnd.ms-excel (or similar). But =\r\nbrowsers don&#39;t let the end-user switch accept headers, so instead we define=\r\n HTML as the default type, and add a link to where the spreadsheet can be d=\r\nownloaded.\n\nNow we add M2M support and decide to represent the sales order =\r\nin HAL or maybe even in HTML using RDFa or some microformat. But we must su=\r\npport two different ways of embedding domain specific data - either the (fi=\r\nctional) Scandinavian Sales Order Vocabulary or the (also fictional) US Sal=\r\nes Order Vocabulary. How should we approach that problem?\n\nFirst of all, we=\r\n cannot do content negotiation and switch on the media type because 1) we d=\r\non&#39;t want to mint new domain specific media types, and 2) because we want t=\r\no use the same media type but with different vocabularies/schemas.\n\nSecond,=\r\n the prerequisites might even be wrong: is supporting multiple vocabularies=\r\n the right thing to do? Lets assume it is right and continue on (but you ar=\r\ne most welcome to question this!).\n\nI can see two different approaches:\n\n1)=\r\n Switch on another HTTP header (but which one? accept-language? a custom on=\r\ne?)\n\n2) Use different URIs for different vocabularies (as with the browser =\r\nsolution).\n\n3) Include both vocabularies in the response.\n\nIf different URI=\r\ns are used then we need to be able to discover them. This could be done wit=\r\nh a link header/HTML anchors + link relation types. The downside is (as alw=\r\nays with different URIs) that we don&#39;t have one single URL that represents =\r\nthe sales order - unless we accept the overhead of always doing a two-step =\r\nfetch, and store the base URI, fetch that, look for link-rels and fetch the=\r\n required representation.\n\nPersonally I would rather avoid the two-step fet=\r\nch and do vocabulary negotiation using headers - but, on the other hand, th=\r\nis is perfectly acceptable in a browser-based scenario, so why not also use=\r\n it in M2M scenarios (caching of the first step would even reduce the probl=\r\nem).\n\nSomehow it seems like HTTP is missing a way of doing sub-content nego=\r\ntiation, where the request defines the accepted media type, and together wi=\r\nth this also defines the acceptable sub-content-format/vocabulary.\n\nAccordi=\r\nng to RFC 2616 (HTTP 1.1) the accept header can take a rather generic exten=\r\nsion &quot;;token =3D token&quot; (for instance &quot;;level=3D1&quot;), but the standard fails=\r\n to explain what it is supposed to be used for. Can it be used for exactly =\r\nthe scenario above?\n\nComments?\n\nThanks, J=F8rn\n\n\n\n"}}
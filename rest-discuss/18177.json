{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":352334505,"authorName":"Craig McClanahan","from":"Craig McClanahan &lt;craigmcc@...&gt;","profile":"craig_mcclanahan","replyTo":"SENDER","senderId":"piykLzT0R--92BWN-1c8yzvlw6t_htbqOSo0w9-avr7L5k0z199P-NoLMYmtn_PZkWXJqSLnP_gXjyfbTh9BuqrzkZffEeMQyC0c9w","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [rest-discuss] Re: Different vocabularies, same media type","postDate":"1325059339","msgId":18177,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PENBTmdrbUxDUVNnQm9ndXNveFNreDZDRStXVT1SczF2TlpFY0hVY19zVzAzcjltKzdyZ0BtYWlsLmdtYWlsLmNvbT4=","inReplyToHeader":"PGpkZWdlYSs1cnZnQGVHcm91cHMuY29tPg==","referencesHeader":"PGpkZWYyOCt0OGZuQGVHcm91cHMuY29tPgk8amRlZ2VhKzVydmdAZUdyb3Vwcy5jb20+"},"prevInTopic":18176,"nextInTopic":18178,"prevInTime":18176,"nextInTime":18178,"topicId":18158,"numMessagesInTopic":32,"msgSnippet":"... I don t), what s wrong with a content type of application/vnd.ms-excel;vocabulary+hal ? If you don t like that, and are still stuck on a single","rawEmail":"Return-Path: &lt;craigmcc@...&gt;\r\nX-Sender: craigmcc@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 98172 invoked from network); 28 Dec 2011 08:02:22 -0000\r\nX-Received: from unknown (98.137.34.46)\n  by m16.grp.sp2.yahoo.com with QMQP; 28 Dec 2011 08:02:22 -0000\r\nX-Received: from unknown (HELO mail-ww0-f48.google.com) (74.125.82.48)\n  by mta3.grp.sp2.yahoo.com with SMTP; 28 Dec 2011 08:02:21 -0000\r\nX-Received: by wgbdt12 with SMTP id dt12so13815381wgb.5\n        for &lt;rest-discuss@yahoogroups.com&gt;; Wed, 28 Dec 2011 00:02:20 -0800 (PST)\r\nMIME-Version: 1.0\r\nX-Received: by 10.227.206.6 with SMTP id fs6mr30620793wbb.20.1325059339994; Wed,\n 28 Dec 2011 00:02:19 -0800 (PST)\r\nX-Received: by 10.180.95.162 with HTTP; Wed, 28 Dec 2011 00:02:19 -0800 (PST)\r\nIn-Reply-To: &lt;jdegea+5rvg@...&gt;\r\nReferences: &lt;jdef28+t8fn@...&gt;\n\t&lt;jdegea+5rvg@...&gt;\r\nDate: Wed, 28 Dec 2011 00:02:19 -0800\r\nMessage-ID: &lt;CANgkmLCQSgBogusoxSkx6CE+WU=Rs1vNZEcHUc_sW03r9m+7rg@...&gt;\r\nTo: Jorn Wildt &lt;jw@...&gt;\r\nCc: rest-discuss@yahoogroups.com\r\nContent-Type: multipart/alternative; boundary=0015174be49e44495904b5226bab\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Craig McClanahan &lt;craigmcc@...&gt;\r\nReply-To: craigmcc@...\r\nSubject: Re: [rest-discuss] Re: Different vocabularies, same media type\r\nX-Yahoo-Group-Post: member; u=352334505; y=73fJup1N971lybbEs7G8rN6xYy4viGRd8muhONfyNpp39OLEmUpOVT8PoQ\r\nX-Yahoo-Profile: craig_mcclanahan\r\n\r\n\r\n--0015174be49e44495904b5226bab\r\nContent-Type: text/plain; charset=windows-1252\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\nOn Tue, Dec 27, 2011 at 11:28 PM, Jorn Wildt &lt;jw@...&gt; wrote:\n\n&gt;=\r\n **\n&gt;\n&gt;\n&gt; Let me just give another example to show that this is not about X=\r\nML alone:\n&gt;\n&gt; 1) Assume we have a resource with a sales order.\n&gt;\n&gt; 2) The c=\r\nlient wants the sales order as a spreadsheet so it GETs it with\n&gt; accept he=\r\nader &quot;application/vnd.ms-excel&quot;.\n&gt;\n&gt; 3) But we have many different variatio=\r\nns of the spreadsheet, so how does\n&gt; the client inform the server of what v=\r\nariation it wants? The media type\n&gt; will always be &quot;application/vnd.ms-exce=\r\nl&quot; no matter what, so we cannot\n&gt; change/switch on that.\n&gt;\n&gt; Why not?  Even=\r\n if you buy into the &quot;new media types are evil&quot; meme (which\nI don&#39;t), what&#39;=\r\ns wrong with a content type of\n&quot;application/vnd.ms-excel;vocabulary+hal&quot;?\n\n=\r\nIf you don&#39;t like that, and are still stuck on a single unchangeable\nconten=\r\nt type, then it seems like a different URI per vocabulary would be\nthe righ=\r\nt answer (maybe appending &quot;.hal&quot; as an extension or something like\nthat).\n\n=\r\n\n&gt; 4) Exactly the same argument goes for representing the sales order in\n&gt; =\r\nHTML, HAL, and, well, even as a PDF or an image!\n&gt;\n&gt; If you&#39;re going to off=\r\ner the same data as either a spreadsheet or a PDF,\nthat seems like an obvio=\r\nus case where you&#39;ll want to use the media type as\nthe basis for conneg.  I=\r\nf you&#39;re going to go that far, adding parameters to\nthe media types for the=\r\n vocabulary isn&#39;t such a stretch.\n\n&gt; I guess it boils down to a question of=\r\n what kind of variations we need.\n&gt; Let me give some examples:\n&gt;\n&gt; A) Diffe=\r\nrent languages (english, turkish, what-ever). For this we can use\n&gt; the HTT=\r\nP header Accept-Language.\n&gt;\n&gt; B) Different content (with or without summari=\r\nes, full address, detailed\n&gt; information etc.). In this case I would say we=\r\n declare them as different\n&gt; resources and need different URIs, for instanc=\r\ne with a &quot;?format=3Dxxx&quot;\n&gt; parameter.\n&gt;\n&gt; Different *content* or different =\r\n*formats* for the same content?  In the\nformer case, I&#39;d vote for different=\r\n URIs.  In the latter case, I wouldn&#39;t\nbe shy about something like &quot;applica=\r\ntion/vnd.ms-excel+hal&quot;?  Of course,\nthis just illustrates that you&#39;re inven=\r\nting a conneg problem that would\nalready be solved if you were willing to m=\r\nint new media types.\n\n&gt; C) Different layout but with the same content. For =\r\ninstance a new version\n&gt; of the spreadsheet with the same data but in diffe=\r\nrent cells. Typically we\n&gt; would mint a new version of the media type - but=\r\n that certainly doesn&#39;t\n&gt; make sense for a spreadsheet!\n&gt;\n&gt; Again, why not?=\r\n  One of the principles of REST is that a single URI\nrepresents a single re=\r\nsource.  But if you want variations of the data being\nreturned, that should=\r\n really be either separate URIs (i.e. separate\nresources), or the same URI =\r\nwith connneg.  I can&#39;t really see how doing\nconneg on things other than Con=\r\ntent-Type and the Accept headers is really\ngoing to increase interop at all=\r\n.\n\nIn the particular case of a spreadsheet, one could certainly argue that =\r\nthe\nclient should be able to understand the column headers that are actuall=\r\ny\nincluded in any particular representation.  Indeed, this is the exact\narg=\r\nument that is made for using HTML or XHTML as a syntax -- a client can\ntheo=\r\nretically be expected to understand how to parse a &lt;table&gt; element and\nits =\r\nsub-elements to look for &lt;th&gt; headers and derive the same information.\n\nIn =\r\nmy experience, however, understanding the *syntax* at this level is the\n20%=\r\n problem ... the 80% problem is understanding the semantics, which I\nhave f=\r\nound to be pretty much independent of the representation syntax.  As\nan exa=\r\nmple, in the Java world there are many quite capable libraries that\ncan ser=\r\nialize a given Java object structure to either JSON or XML with very\nlittle=\r\n effort on the part of the server implementor, which allows the same\nservic=\r\ne to serve up &quot;application/xml&quot; or &quot;application/json&quot; representations\nof th=\r\ne same resource quite readily.  But neither this, nor encapsulating a\nsales=\r\n order in an HTML/XHTML table, communicates the business rule that the\nline=\r\n item total on an invoice row should equal the quantity times the unit\npric=\r\ne.\n\n&gt; /J=F8rn\n&gt;\n&gt; Craig McClanahan\n\n\n&gt;  \n&gt;\n\r\n--0015174be49e44495904b5226bab\r\nContent-Type: text/html; charset=windows-1252\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\n&lt;br&gt;&lt;br&gt;&lt;div class=3D&quot;gmail_quote&quot;&gt;On Tue, Dec 27, 2011 at 11:28 PM, Jorn W=\r\nildt &lt;span dir=3D&quot;ltr&quot;&gt;&lt;&lt;a href=3D&quot;mailto:jw@...&quot;&gt;jw@fjeldgr=\r\nuppen.dk&lt;/a&gt;&gt;&lt;/span&gt; wrote:&lt;br&gt;&lt;blockquote class=3D&quot;gmail_quote&quot; style=\r\n=3D&quot;margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex&quot;&gt;\n\n\n\n&lt;u&gt;&lt;=\r\n/u&gt;\n\n\n\n\n\n\n\n\n\n\n&lt;div style=3D&quot;background-color:#fff&quot;&gt;\n&lt;span&gt;=A0&lt;/span&gt;\n\n\n&lt;div=\r\n&gt;\n  &lt;div&gt;\n\n\n    &lt;div&gt;\n      \n      \n      &lt;p&gt;Let me just give another examp=\r\nle to show that this is not about XML alone: &lt;br&gt;\n&lt;br&gt;\n1) Assume we have a =\r\nresource with a sales order. &lt;br&gt;\n&lt;br&gt;\n2) The client wants the sales order =\r\nas a spreadsheet so it GETs it with accept header &quot;application/vnd.ms-=\r\nexcel&quot;.&lt;br&gt;\n&lt;br&gt;\n3) But we have many different variations of the sprea=\r\ndsheet, so how does the client inform the server of what variation it wants=\r\n? The media type will always be &quot;application/vnd.ms-excel&quot; no mat=\r\nter what, so we cannot change/switch on that.&lt;br&gt;\n\n&lt;br&gt;&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;/di=\r\nv&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;Why not? =A0Even if you buy into the &quot;new me=\r\ndia types are evil&quot; meme (which I don&#39;t), what&#39;s wrong with a =\r\ncontent type of &quot;application/vnd.ms-excel;vocabulary+hal&quot;?&lt;/div&gt;\n=\r\n&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;If you don&#39;t like that, and are still stuck on a si=\r\nngle unchangeable content type, then it seems like a different URI per voca=\r\nbulary would be the right answer (maybe appending &quot;.hal&quot; as an ex=\r\ntension or something like that).&lt;/div&gt;\n&lt;div&gt;=A0&lt;/div&gt;&lt;blockquote class=3D&quot;g=\r\nmail_quote&quot; style=3D&quot;margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-l=\r\neft:1ex&quot;&gt;&lt;div style=3D&quot;background-color:#fff&quot;&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;p&gt;\n4) Exactly=\r\n the same argument goes for representing the sales order in HTML, HAL, and,=\r\n well, even as a PDF or an image!&lt;br&gt;\n&lt;br&gt;&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blo=\r\nckquote&gt;&lt;div&gt;If you&#39;re going to offer the same data as either a spreads=\r\nheet or a PDF, that seems like an obvious case where you&#39;ll want to use=\r\n the media type as the basis for conneg. =A0If you&#39;re going to go that =\r\nfar, adding parameters to the media types for the vocabulary isn&#39;t such=\r\n a stretch.=A0&lt;/div&gt;\n&lt;blockquote class=3D&quot;gmail_quote&quot; style=3D&quot;margin:0 0 =\r\n0 .8ex;border-left:1px #ccc solid;padding-left:1ex&quot;&gt;&lt;div style=3D&quot;backgroun=\r\nd-color:#fff&quot;&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;p&gt;\nI guess it boils down to a question of wha=\r\nt kind of variations we need. Let me give some examples:&lt;br&gt;\n&lt;br&gt;\nA) Differ=\r\nent languages (english, turkish, what-ever). For this we can use the HTTP h=\r\neader Accept-Language.&lt;br&gt;\n&lt;br&gt;\nB) Different content (with or without summa=\r\nries, full address, detailed information etc.). In this case I would say we=\r\n declare them as different resources and need different URIs, for instance =\r\nwith a &quot;?format=3Dxxx&quot; parameter.&lt;br&gt;\n\n&lt;br&gt;&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;=\r\n&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;Different *content* or different *formats* for the =\r\nsame content? =A0In the former case, I&#39;d vote for different URIs. =A0In=\r\n the latter case, I wouldn&#39;t be shy about something like &quot;&lt;span st=\r\nyle=3D&quot;background-color:rgb(255,255,255)&quot;&gt;application/vnd.ms-excel+hal&quot=\r\n;? =A0Of course, this just illustrates that you&#39;re inventing a conneg p=\r\nroblem that would already be solved if you were willing to mint new media t=\r\nypes.&lt;/span&gt;=A0&lt;/div&gt;\n&lt;blockquote class=3D&quot;gmail_quote&quot; style=3D&quot;margin:0 0=\r\n 0 .8ex;border-left:1px #ccc solid;padding-left:1ex&quot;&gt;&lt;div style=3D&quot;backgrou=\r\nnd-color:#fff&quot;&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;p&gt;\nC) Different layout but with the same con=\r\ntent. For instance a new version of the spreadsheet with the same data but =\r\nin different cells. Typically we would mint a new version of the media type=\r\n - but that certainly doesn&#39;t make sense for a spreadsheet!&lt;br&gt;\n\n&lt;br&gt;&lt;/=\r\np&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;Again, why not? =A0One of the p=\r\nrinciples of REST is that a single URI represents a single resource. =A0But=\r\n if you want variations of the data being returned, that should really be e=\r\nither separate URIs (i.e. separate resources), or the same URI with connneg=\r\n. =A0I can&#39;t really see how doing conneg on things other than Content-T=\r\nype and the Accept headers is really going to increase interop at all.&lt;/div=\r\n&gt;\n&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;In the particular case of a spreadsheet, one could ce=\r\nrtainly argue that the client should be able to understand the column heade=\r\nrs that are actually included in any particular representation. =A0Indeed, =\r\nthis is the exact argument that is made for using HTML or XHTML as a syntax=\r\n -- a client can theoretically be expected to understand how to parse a &lt=\r\n;table&gt; element and its sub-elements to look for &lt;th&gt; headers and =\r\nderive the same information.&lt;/div&gt;\n&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;In my experience, ho=\r\nwever, understanding the *syntax* at this level is the 20% problem ... the =\r\n80% problem is understanding the semantics, which I have found to be pretty=\r\n much independent of the representation syntax. =A0As an example, in the Ja=\r\nva world there are many quite capable libraries that can serialize a given =\r\nJava object structure to either JSON or XML with very little effort on the =\r\npart of the server implementor, which allows the same service to serve up &=\r\nquot;application/xml&quot; or &quot;application/json&quot; representations =\r\nof the same resource quite readily. =A0But neither this, nor encapsulating =\r\na sales order in an HTML/XHTML table, communicates the business rule that t=\r\nhe line item total on an invoice row should equal the quantity times the un=\r\nit price.&lt;/div&gt;\n&lt;blockquote class=3D&quot;gmail_quote&quot; style=3D&quot;margin:0 0 0 .8e=\r\nx;border-left:1px #ccc solid;padding-left:1ex&quot;&gt;&lt;div style=3D&quot;background-col=\r\nor:#fff&quot;&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;p&gt;\n/J=F8rn&lt;br&gt;\n&lt;br&gt;&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/b=\r\nlockquote&gt;&lt;div&gt;Craig McClanahan&lt;/div&gt;&lt;div&gt;=A0&lt;/div&gt;&lt;blockquote class=3D&quot;gma=\r\nil_quote&quot; style=3D&quot;margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-lef=\r\nt:1ex&quot;&gt;&lt;div style=3D&quot;background-color:#fff&quot;&gt;\n&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;p&gt;\n&lt;/p&gt;\n\n    &lt;=\r\n/div&gt;\n     \n\n    \n    &lt;div style=3D&quot;color:#fff;min-height:0&quot;&gt;&lt;/div&gt;\n\n\n&lt;/div=\r\n&gt;\n\n\n\n  \n\n\n\n\n\n\n&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;\n\r\n--0015174be49e44495904b5226bab--\r\n\n"}}
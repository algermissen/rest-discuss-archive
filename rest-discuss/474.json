{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":23186829,"authorName":"Paul Prescod","from":"Paul Prescod &lt;paul@...&gt;","replyTo":"SENDER","senderId":"ip2p2CA5n1nKnMnLN5AunndZyyTy6Lq2lDtke0NfuYz3COsa7ephZLzKK05n4wtLTjyws9jXjBa_vxWpsfrSv0pWylbZOA","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [rest-discuss] idempotent notifications","postDate":"1012465152","msgId":474,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDNDNThGRTAwLjYxNEU0Nzk4QHByZXNjb2QubmV0Pg==","referencesHeader":"PDIwMDIwMTMwMTUyNC5LQUExMDQ3N0BtYXJrYmFrZXIuY2E+IDwzQzU4RUE2Qy42MEY3QTE4QUBwcmVzY29kLm5ldD4gPE9FNjBTMnZVU1cxMFlobXZ2eUIwMDAxMmY4NEBob3RtYWlsLmNvbT4="},"prevInTopic":471,"nextInTopic":478,"prevInTime":473,"nextInTime":475,"topicId":453,"numMessagesInTopic":36,"msgSnippet":"... Well if each notification is a diff then the requrest is to please update your local copy so you are in sync with the rest of us. My point is that a)","rawEmail":"Return-Path: &lt;paul@...&gt;\r\nX-Sender: paul@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nReceived: (EGP: mail-8_0_1_3); 31 Jan 2002 08:20:18 -0000\r\nReceived: (qmail 17166 invoked from network); 31 Jan 2002 08:20:18 -0000\r\nReceived: from unknown (216.115.97.171)\n  by m3.grp.snv.yahoo.com with QMQP; 31 Jan 2002 08:20:18 -0000\r\nReceived: from unknown (HELO smtp1.ActiveState.com) (209.17.183.249)\n  by mta3.grp.snv.yahoo.com with SMTP; 31 Jan 2002 08:20:18 -0000\r\nReceived: from smtp3.ActiveState.com (smtp3.ActiveState.com [192.168.3.19])\n\tby smtp1.ActiveState.com (8.11.6/8.11.6) with ESMTP id g0V8KFN18695\n\tfor &lt;rest-discuss@yahoogroups.com&gt;; Thu, 31 Jan 2002 00:20:15 -0800\r\nReceived: from prescod.net (ssh1.ActiveState.com [192.168.3.32])\n\tby smtp3.ActiveState.com (8.11.6/8.11.6) with ESMTP id g0V8KEe29728\n\tfor &lt;rest-discuss@yahoogroups.com&gt;; Thu, 31 Jan 2002 00:20:14 -0800\r\nMessage-ID: &lt;3C58FE00.614E4798@...&gt;\r\nDate: Thu, 31 Jan 2002 00:19:12 -0800\r\nX-Mailer: Mozilla 4.76 [en] (Windows NT 5.0; U)\r\nX-Accept-Language: en\r\nMIME-Version: 1.0\r\nTo: Rest-Discuss &lt;rest-discuss@yahoogroups.com&gt;\r\nSubject: Re: [rest-discuss] idempotent notifications\r\nReferences: &lt;200201301524.KAA10477@...&gt; &lt;3C58EA6C.60F7A18A@...&gt; &lt;OE60S2vUSW10YhmvvyB00012f84@...&gt;\r\nContent-Type: text/plain; charset=us-ascii\r\nContent-Transfer-Encoding: 7bit\r\nX-PerlMx-Spam: Gauge=, Probability=0%, Report=INTERNAL_HOST\r\nX-Filtered-By: PerlMx makes it fast and easy.  See http://www.ActiveState.com/Products/PerlMx/Header\r\nFrom: Paul Prescod &lt;paul@...&gt;\r\nX-Yahoo-Group-Post: member; u=23186829\r\n\r\n&quot;S. Mike Dierken&quot; wrote:\n&gt; \n&gt; I&#39;m not sure idempotency applies to notifications.\n&gt; I thought it only applied to request/response message exchanges.\n&gt; A notification is not a request to cause something to happen at the\n&gt; receiver. It might be an &#39;http request&#39; message format, but I&#39;m not sure its\n&gt; a &#39;conceptual&#39; request.\n\nWell if each notification is a &quot;diff&quot; then the requrest is to please\nupdate your local copy so you are in sync with the rest of us.\n\nMy point is that \n\n a) getting the same notification twice should be harmless\n\n b) it should always be possible for a client to build up the same\ninternal state by looking at the resource and its subordinates that it\nwould have gotten by collecting notifications\n\n&gt; What is the effect of more than 1 identical notification messages?\n&gt; If a receiver kept a count of messages, this count would be &#39;inaccurate&#39; -\n&gt; but that (hit counts) is not a case we consider for idempotency anyway.\n&gt; If a receiver waited for a particular event - threshold crossed, etc - and\n&gt; then deleted itself (stopped listening before/without deleting the\n&gt; subscription) the next event probably would result in a 404 or something\n&gt; (listener not found). Is this &#39;allowable&#39; if notifications are idempotent?\n&gt; (it&#39;d be like two PUTs or two GETs returned an error on the second request\n&gt; /because/ of the first request).\n\nThat&#39;s borderline. But the subscriber is acting on behalf of a Client\nand so I feel it has more leeway for funny behaviour than a Server. When\nI say that notifications are idempotent I just mean the two things I\nsaid above.\n\n&gt; Also what is sent in a notification?\n\nI claim, basically nothing. Even less than the HttpEvents spec says. I\nclaim it should contain:\n\n 1. the HTTP method (Lucas suggests PUT)\n\n 2. the subscriber URI\n\n 3. the subscription URI (in case you want to unsubscribe)\n\n 4. the URI that changed (in case you want to get into sync)\n\nAs an *optimization* it could also include information that would help\nthe client to keep up without constantly pulling extra information from\nthe server. For instance it could include a &quot;diff&quot; from a previous\nlabelled version -- but the cient could discard that if it wanted and go\n&quot;back to the source.&quot; It could also say &quot;what happened&quot; in some HTTP\nsense (PUT, GET, DELETE, POST) but again it could figure that stuff out\njust by looking at the resource.\n\nIf a resource is huge and/or composite (like a website) then for the\npurposes of notification, another resource should be generated like a\n&quot;changelog&quot;. Then you would watch just the changelog. When it changed\nyou would look at it to see what individual web page had changed.\n\n Paul Prescod\n\n"}}
{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":425722926,"authorName":"Roger Gonzalez","from":"Roger Gonzalez &lt;roger.gonzalez@...&gt;","profile":"spamspambakedbeansandspam","replyTo":"SENDER","senderId":"kFfGr5KoARo4cIFE-hSQYIQh1OmUK0z968v-v5JsKU-Yl6uX0cGtwPGFcQ6YcpQIHPYIyM7YVSHKE6hpTH75ZCVHckh98GsWH9mxgkxL5g8","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [rest-discuss] RESTful M2M Systems and Resource Typing","postDate":"1261442512","msgId":14364,"canDelete":false,"contentTrasformed":false,"systemMessage":true,"headers":{"messageIdInHeader":"PDUyM2E4MTFjMDkxMjIxMTY0MXg1NGNmMGVhOHI4NmJiMTVhNGFmMjk3Njk5QG1haWwuZ21haWwuY29tPg==","inReplyToHeader":"PDUyM2E4MTFjMDkxMjIxMTYzOXhiMzgzYzgyaTJiMWNkNGQ0Mjg4MjU5YTZAbWFpbC5nbWFpbC5jb20+","referencesHeader":"PGhnbm1nOSs4OXZzQGVHcm91cHMuY29tPgkgPEU2NTI4REE4LUVERkQtNDkxQy1CNjFELUVGNjI5NjY0RjMzRkBtYWMuY29tPgkgPGI1NDhkZjY1MDkxMjIxMDQxN282NWVlYTY2OHhjNmRmMzhjNDZlMWNjM2I2QG1haWwuZ21haWwuY29tPgkgPDRCMzAwMDlGLjEwMTAyMDhAZ21haWwuY29tPgkgPENGRTNERDBBLTM4REQtNDcxOC04QUYxLTg5MzUxMzgwRkE5NkBtYWMuY29tPgkgPDUyM2E4MTFjMDkxMjIxMTYzOXhiMzgzYzgyaTJiMWNkNGQ0Mjg4MjU5YTZAbWFpbC5nbWFpbC5jb20+"},"prevInTopic":14353,"nextInTopic":14365,"prevInTime":14363,"nextInTime":14365,"topicId":14156,"numMessagesInTopic":134,"msgSnippet":"On Mon, Dec 21, 2009 at 3:21 PM, Jan Algermissen ... the ... sufficient. ... I refer to RFC2616 Section 12: * For that reason, HTTP has provisions for several","rawEmail":"Return-Path: &lt;roger.gonzalez@...&gt;\r\nReceived: (qmail 15656 invoked from network); 23 Dec 2009 14:17:00 -0000\r\nReceived: from unknown (66.196.94.107)\n  by m1.grp.sp2.yahoo.com with QMQP; 23 Dec 2009 14:17:00 -0000\r\nReceived: from unknown (HELO n39b.bullet.mail.sp1.yahoo.com) (66.163.168.153)\n  by mta3.grp.re1.yahoo.com with SMTP; 23 Dec 2009 14:17:00 -0000\r\nDKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoogroups.com; s=lima; t=1261577600; bh=dRe0lu2Q9FcG+aJVUlS34waX+SstWnjyagTuTVj0rzo=; h=Received:Received:X-Sender:X-Apparently-To:X-Received:X-Received:X-Received:X-Received:MIME-Version:X-Received:In-Reply-To:References:Date:Message-ID:To:Content-Type:X-Originating-IP:X-eGroups-Msg-Info:From:Subject:X-Yahoo-Group-Post:X-Yahoo-Profile:X-YGroups-SubInfo:Sender:X-Yahoo-Newman-Property:X-eGroups-Approved-By:X-eGroups-Auth; b=DY7VDIjoqlNDQrO+xxjefFi5h5wyqhaLhu+f5nSEQzgpNDgxKANzV8nrUKX9OMCQeAbatTbWJbwGGeK6hTfGnw3Dc0Rk/pqFkxUg8OZ4PjUpY26Hp/o07Wnv4pjjtUMO\r\nReceived: from [69.147.65.151] by n39.bullet.mail.sp1.yahoo.com with NNFMP; 23 Dec 2009 14:13:20 -0000\r\nReceived: from [98.137.34.34] by t5.bullet.mail.sp1.yahoo.com with NNFMP; 23 Dec 2009 14:13:20 -0000\r\nX-Sender: roger.gonzalez@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 67654 invoked from network); 22 Dec 2009 00:41:53 -0000\r\nX-Received: from unknown (66.196.94.106)\n  by m12.grp.re1.yahoo.com with QMQP; 22 Dec 2009 00:41:53 -0000\r\nX-Received: from unknown (HELO mail-pw0-f43.google.com) (209.85.160.43)\n  by mta2.grp.re1.yahoo.com with SMTP; 22 Dec 2009 00:41:53 -0000\r\nX-Received: by pwj11 with SMTP id 11so3627642pwj.22\n        for &lt;rest-discuss@yahoogroups.com&gt;; Mon, 21 Dec 2009 16:41:52 -0800 (PST)\r\nMIME-Version: 1.0\r\nX-Received: by 10.141.14.19 with SMTP id r19mr110930rvi.144.1261442512386; Mon, \n\t21 Dec 2009 16:41:52 -0800 (PST)\r\nIn-Reply-To: &lt;523a811c0912211639xb383c82i2b1cd4d4288259a6@...&gt;\r\nReferences: &lt;hgnmg9+89vs@...&gt;\n\t &lt;E6528DA8-EDFD-491C-B61D-EF629664F33F@...&gt;\n\t &lt;b548df650912210417o65eea668xc6df38c46e1cc3b6@...&gt;\n\t &lt;4B30009F.1010208@...&gt;\n\t &lt;CFE3DD0A-38DD-4718-8AF1-89351380FA96@...&gt;\n\t &lt;523a811c0912211639xb383c82i2b1cd4d4288259a6@...&gt;\r\nDate: Mon, 21 Dec 2009 16:41:52 -0800\r\nMessage-ID: &lt;523a811c0912211641x54cf0ea8r86bb15a4af297699@...&gt;\r\nTo: rest-discuss@yahoogroups.com\r\nContent-Type: multipart/alternative; boundary=000e0cd10980dafc8b047b467811\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Roger Gonzalez &lt;roger.gonzalez@...&gt;\r\nSubject: Re: [rest-discuss] RESTful M2M Systems and Resource Typing\r\nX-Yahoo-Group-Post: member; u=425722926; y=0HF26DbxQwIvby6diuTi60Nx6p73pCEkwBcYd2OT-Qcd1ydbcJqcj7oO8vcE5_4_9TuxBQ\r\nX-Yahoo-Profile: spamspambakedbeansandspam\r\nX-Yahoo-Newman-Property: groups-system\r\nX-eGroups-Approved-By: gonga_thrash &lt;distobj@...&gt; via web; 23 Dec 2009 14:13:19 -0000\r\n\r\n\r\n--000e0cd10980dafc8b047b467811\r\nContent-Type: text/plain; charset=ISO-8859-1\r\n\r\nOn Mon, Dec 21, 2009 at 3:21 PM, Jan Algermissen\n&lt;algermissen1971@...&gt; wrote:\n&gt;\n&gt; On Dec 22, 2009, at 12:11 AM, Roger Gonzalez wrote:\n&gt;\n&gt;&gt; mike amundsen wrote:\n&gt;&gt;&gt;\n&gt;&gt;&gt; you build clients based on the media type.\n&gt;&gt;\n&gt;&gt; Any given resource may have multiple representations that have exactly\nthe\n&gt;&gt; same media type; for example, an image resource may have an image/png\n&gt;&gt; representing the full content as well as an image/png representing a\n&gt;&gt; thumbnail.  Content negotiation based only on media type isn&#39;t\nsufficient.\n&gt;&gt;\n&gt;\n&gt; These representations should be available at different resources because\n&gt; they are different things. I&#39;d use:\n&gt;\n&gt;\n&gt; /foo/images/6676\n&gt; /foo/images/6676?view=thumbnail\n&gt;\n&gt; Then conneg works fine on both.\n&gt;\n&gt; Jan\n&gt;\n&gt;\n&gt;&gt; -rg\n\nI refer to RFC2616 Section 12:\n\n    * For that reason, HTTP has provisions for several mechanisms for\n&quot;content negotiation&quot; -- the process of selecting the best\nrepresentation for a given response when there are multiple\nrepresentations available.\n\n     Note: This is not called &quot;format negotiation&quot; because the\n     alternate representations may be of the same media type, but use\n     different capabilities of that type, be in different languages,\n     etc.*\n\nIn other words, I don&#39;t think it should be mandatory to dictate a\ndifferent URI for each potential representation unless you&#39;re using\nagent-driven negotiation.  For server negotiation,\n\n    *an origin server [...] MAY vary the response based on any aspect\nof the request, including information outside the request-header\nfields or within extension header fields not defined by this\nspecification.*\n\nFor example,\n\nX-MyApp-View: thumbnail\nVary: &quot;X-MyApp-View&quot;\n\nThe issue to me is that a resource should be considered to have a\npotentially infinite set of potential representations that map to a\nfinite set of media types.  If you try to turn it around such that\nyou&#39;re selecting by media type, then you&#39;re forced to move the\n&quot;infinite&quot; part of the equation to the URI space, which I don&#39;t think\nis a win.\n\nExcept for the following very subtle point: I don&#39;t actually think\nthat your example points to a different resource.  RFC2396 says that a\nURI with different query string does not represent a different target\nresource, it represents the same resource, with the query interpreted\n*by* the resource.  (I reconcile this in my head as equivalent to\nsending a application/x-form-urlencoded control message to the\nresource.)\n\nSo in fact, I do it exactly as you say, except that I interpret it as\na request for the resource at /foo/images/6676 to please return a\nrepresentation based on the parameters I&#39;m sending, in this case,\nview=thumbnail.  So, I&#39;m not actually referencing a different\nresource, I&#39;m changing the message I send to the resource, which is\nfundamentally the same as my contrived &quot;X-MyApp-View&quot; header version.\nYou can layer media type negotiation on top of that, but you&#39;re not\nselecting the thumbnail representation because of the content type,\nyou&#39;re selecting it because of the control message sent.  So it&#39;s all\ngood.\n\nYeesh but that&#39;s subtle.\n\n-rg\n\r\n--000e0cd10980dafc8b047b467811\r\nContent-Type: text/html; charset=ISO-8859-1\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\nOn Mon, Dec 21, 2009 at 3:21 PM, Jan Algermissen&lt;br&gt;&lt;&lt;a href=3D&quot;mailto:a=\r\nlgermissen1971@...&quot;&gt;algermissen1971@...&lt;/a&gt;&gt; wrote:&lt;br&gt;&gt;&lt;br&gt;&=\r\ngt; On Dec 22, 2009, at 12:11 AM, Roger Gonzalez wrote:&lt;br&gt;&gt;&lt;br&gt;&gt;&gt;=\r\n mike amundsen wrote:&lt;br&gt;\n&gt;&gt;&gt;&lt;br&gt;&gt;&gt;&gt; you build clients ba=\r\nsed on the media type.&lt;br&gt;&gt;&gt;&lt;br&gt;&gt;&gt; Any given resource may have =\r\nmultiple representations that have exactly the&lt;br&gt;&gt;&gt; same media type;=\r\n for example, an image resource may have an image/png&lt;br&gt;\n&gt;&gt; represen=\r\nting the full content as well as an image/png representing a&lt;br&gt;&gt;&gt; th=\r\numbnail. =A0Content negotiation based only on media type isn&#39;t sufficie=\r\nnt.&lt;br&gt;&gt;&gt;&lt;br&gt;&gt;&lt;br&gt;&gt; These representations should be available a=\r\nt different resources because&lt;br&gt;\n&gt; they are different things. I&#39;d u=\r\nse:&lt;br&gt;&gt;&lt;br&gt;&gt;&lt;br&gt;&gt; /foo/images/6676&lt;br&gt;&gt; /foo/images/6676?view=\r\n=3Dthumbnail&lt;br&gt;&gt;&lt;br&gt;&gt; Then conneg works fine on both.&lt;br&gt;&gt;&lt;br&gt;&gt=\r\n; Jan&lt;br&gt;&gt;&lt;br&gt;&gt;&lt;br&gt;&gt;&gt; -rg&lt;br&gt;\n&lt;br&gt;I refer to RFC2616 Section 12=\r\n:&lt;br&gt;&lt;br&gt;=A0 =A0 &lt;i&gt;=A0For that reason, HTTP has provisions for several mec=\r\nhanisms for&lt;br&gt;&quot;content negotiation&quot; -- the process of selecting =\r\nthe best&lt;br&gt;representation for a given response when there are multiple&lt;br&gt;=\r\n\nrepresentations available.&lt;br&gt;&lt;br&gt;=A0 =A0 =A0Note: This is not called &quo=\r\nt;format negotiation&quot; because the&lt;br&gt;=A0 =A0 =A0alternate representati=\r\nons may be of the same media type, but use&lt;br&gt;=A0 =A0 =A0different capabili=\r\nties of that type, be in different languages,&lt;br&gt;\n=A0 =A0 =A0etc.&lt;/i&gt;&lt;br&gt;&lt;b=\r\nr&gt;In other words, I don&#39;t think it should be mandatory to dictate a&lt;br&gt;=\r\ndifferent URI for each potential representation unless you&#39;re using&lt;br&gt;=\r\nagent-driven negotiation. =A0For server negotiation,&lt;br&gt;\n&lt;br&gt;=A0 =A0 &lt;i&gt;an =\r\norigin server [...] MAY vary the response based on any aspect&lt;br&gt;of the req=\r\nuest, including information outside the request-header&lt;br&gt;fields or within =\r\nextension header fields not defined by this&lt;br&gt;specification.&lt;/i&gt;&lt;br&gt;\n&lt;br&gt;F=\r\nor example,&lt;br&gt;&lt;br&gt;X-MyApp-View: thumbnail&lt;br&gt;Vary: &quot;X-MyApp-View&quot=\r\n;&lt;br&gt;&lt;br&gt;The issue to me is that a resource should be considered to have a&lt;=\r\nbr&gt;potentially infinite set of potential representations that map to a&lt;br&gt;\n=\r\nfinite set of media types. =A0If you try to turn it around such that&lt;br&gt;you=\r\n&#39;re selecting by media type, then you&#39;re forced to move the&lt;br&gt;&quo=\r\nt;infinite&quot; part of the equation to the URI space, which I don&#39;t t=\r\nhink&lt;br&gt;\nis a win.&lt;br&gt;&lt;br&gt;Except for the following very subtle point: I don=\r\n&#39;t actually think&lt;br&gt;that your example points to a different resource. =\r\n=A0RFC2396 says that a&lt;br&gt;URI with different query string does not represen=\r\nt a different target&lt;br&gt;\nresource, it represents the same resource, with th=\r\ne query interpreted&lt;br&gt;*by* the resource. =A0(I reconcile this in my head a=\r\ns equivalent to&lt;br&gt;sending a application/x-form-urlencoded control message =\r\nto the&lt;br&gt;resource.)&lt;br&gt;\n&lt;br&gt;So in fact, I do it exactly as you say, except=\r\n that I interpret it as&lt;br&gt;a request for the resource at /foo/images/6676 t=\r\no please return a&lt;br&gt;representation based on the parameters I&#39;m sending=\r\n, in this case,&lt;br&gt;view=3Dthumbnail. =A0So, I&#39;m not actually referencin=\r\ng a different&lt;br&gt;\nresource, I&#39;m changing the message I send to the reso=\r\nurce, which is&lt;br&gt;fundamentally the same as my contrived &quot;X-MyApp-View=\r\n&quot; header version.&lt;br&gt;You can layer media type negotiation on top of th=\r\nat, but you&#39;re not&lt;br&gt;\nselecting the thumbnail representation because o=\r\nf the content type,&lt;br&gt;you&#39;re selecting it because of the control messa=\r\nge sent. =A0So it&#39;s all&lt;br&gt;good.&lt;br&gt;&lt;br&gt;Yeesh but that&#39;s subtle.&lt;br=\r\n&gt;&lt;br&gt;-rg&lt;br&gt;&lt;br&gt;\n\r\n--000e0cd10980dafc8b047b467811--\r\n\n"}}
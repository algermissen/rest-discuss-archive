{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":498432483,"authorName":"Jan Algermissen","from":"Jan Algermissen &lt;jan.algermissen@...&gt;","profile":"algermissen1971","replyTo":"SENDER","senderId":"aRUrNFd8Z8OhidxXnzUqKl1i4IUvf75HIHg6j3Df31cRm1Y9sJU0zTLdlCvaLqGBOLzw02IzQTQBQyyBrCb2XnmvO_inPfZc5axtEOH9JVNJBZs","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [rest-discuss] Different vocabularies, same media type","postDate":"1324986593","msgId":18161,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PEUxNjA5RTlGLTZGQTItNDRFRS05NDE0LTg5MTBFRUU5QkVGMkBub3Jkc2MuY29tPg==","inReplyToHeader":"PGpkYzNxYyttN3BnQGVHcm91cHMuY29tPg==","referencesHeader":"PGpkYzNxYyttN3BnQGVHcm91cHMuY29tPg=="},"prevInTopic":18160,"nextInTopic":18162,"prevInTime":18160,"nextInTime":18162,"topicId":18158,"numMessagesInTopic":32,"msgSnippet":"... Why don t you leverage an existing format, UBL in this case? UBL has no associated media type (yet) but that should not stop you from going ahead an","rawEmail":"Return-Path: &lt;jan.algermissen@...&gt;\r\nX-Sender: jan.algermissen@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 41055 invoked from network); 27 Dec 2011 11:50:01 -0000\r\nX-Received: from unknown (98.137.35.160)\n  by m9.grp.sp2.yahoo.com with QMQP; 27 Dec 2011 11:50:01 -0000\r\nX-Received: from unknown (HELO moutng.kundenserver.de) (212.227.126.186)\n  by mta4.grp.sp2.yahoo.com with SMTP; 27 Dec 2011 11:50:00 -0000\r\nX-Received: from [192.168.2.107] (p548FA1B4.dip.t-dialin.net [84.143.161.180])\n\tby mrelayeu.kundenserver.de (node=mrbap2) with ESMTP (Nemesis)\n\tid 0MYLUv-1RAS7p27Yf-00V8U5; Tue, 27 Dec 2011 12:49:57 +0100\r\nMime-Version: 1.0 (Apple Message framework v1084)\r\nContent-Type: text/plain; charset=windows-1252\r\nIn-Reply-To: &lt;jdc3qc+m7pg@...&gt;\r\nDate: Tue, 27 Dec 2011 12:49:53 +0100\r\nCc: rest-discuss@yahoogroups.com\r\nContent-Transfer-Encoding: quoted-printable\r\nMessage-Id: &lt;E1609E9F-6FA2-44EE-9414-8910EEE9BEF2@...&gt;\r\nReferences: &lt;jdc3qc+m7pg@...&gt;\r\nTo: Jorn Wildt &lt;jw@...&gt;\r\nX-Mailer: Apple Mail (2.1084)\r\nX-Provags-ID: V02:K0:HMgxTdGhqTV0X/TjVhRQDzoVAt7InBer5aukMIzq49B\n PAV5yAf9fL8JSWoxrAWKWSgGeEtKcuwk/cJEqHM3aET2C0ZF0p\n b14oiBUwaET1EW58mmoxMDCOTVlOsU8U/triH0eipRMq/Vjjpm\n oQh9NRwE4FeLYFkGBPzTgYEtN3FaRUkaBsvrLe8HURT5nUoHNQ\n IMobhozF0mZOMUwHnG6QDsWSdf5IXKnNARDFszVt/Doa6ZChRm\n PvjcNHKKCMsWGiYoFNn0px6xI7cSdkL1dr16AuFH2KbiQYtGsI\n hEcf2IqcNTOQfLbo2zLEcF1yBUFaGG+189abXBOUWajTn93Pwu\n Lh2L5nynYL51O6s1zFOHN6zG4yF2bGTJcOOkiCJEMAhq/V7jgn\n OuPN12CRQIXHw==\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Jan Algermissen &lt;jan.algermissen@...&gt;\r\nSubject: Re: [rest-discuss] Different vocabularies, same media type\r\nX-Yahoo-Group-Post: member; u=498432483; y=Lj7rsk4Xb-U7cp9j01KMIgDR1cw1SXvBflkK-F_Z3-qBPI350rHKiniP\r\nX-Yahoo-Profile: algermissen1971\r\n\r\n\nOn Dec 27, 2011, at 10:40 AM, Jorn Wildt wrote:\n\n&gt; Assume we have a resour=\r\nce with a sales order. Such a sales order can be represented for an end-use=\r\nr as either HTML or a spreadsheet. With content negotiation thats easily do=\r\nne with accept headers for text/html or application/vnd.ms-excel (or simila=\r\nr). But browsers don&#39;t let the end-user switch accept headers, so instead w=\r\ne define HTML as the default type, and add a link to where the spreadsheet =\r\ncan be downloaded.\n&gt; \n&gt; Now we add M2M support and decide to represent the =\r\nsales order in HAL or maybe even in HTML using RDFa or some microformat. Bu=\r\nt we must support two different ways of embedding domain specific data - ei=\r\nther the (fictional) Scandinavian Sales Order Vocabulary or the (also ficti=\r\nonal) US Sales Order Vocabulary. How should we approach that problem?\n\nWhy =\r\ndon&#39;t you leverage an existing format, UBL in this case? UBL has no associa=\r\nted media type (yet) but that should not stop you from going ahead an minti=\r\nng a name for your purposes.\n\n&gt; \n&gt; First of all, we cannot do content negot=\r\niation and switch on the media type because 1) we don&#39;t want to mint new do=\r\nmain specific media types,\n\nI&#39;d suggest you do. It has no significant cost =\r\nand allows you to work within the Web&#39;s architecture with easy. Why create =\r\nfixes for problems that do not exist? (Smells enterprisey :-)\n\n&gt; and 2) bec=\r\nause we want to use the same media type but with different vocabularies/sch=\r\nemas.\n\nHuh?\n\n&gt; \n&gt; Second, the prerequisites might even be wrong: is support=\r\ning multiple vocabularies the right thing to do? Lets assume it is right an=\r\nd continue on (but you are most welcome to question this!).\n\nMy personal ad=\r\nvice: Embrace the Web, do simple, straight forward stuff and defer fixing p=\r\nroblems until the exist (e.g. why do you consider media type bloat a proble=\r\nm?)\n\nApplying REST to enterprise IT problems does not mean tweaking REST, i=\r\nt means changing your view of the problem.\n\n&gt; \n&gt; I can see two different ap=\r\nproaches:\n&gt; \n&gt; 1) Switch on another HTTP header (but which one? accept-lang=\r\nuage? a custom one?)\n\nNo\n\n&gt; \n&gt; 2) Use different URIs for different vocabula=\r\nries (as with the browser solution).\n\nThat is always good design. Variants =\r\nshould be given their own URIs. Explore Content-Location header aspects for=\r\n this.\n\n&gt; \n&gt; 3) Include both vocabularies in the response.\n\nNo\n\n&gt; \n&gt; If dif=\r\nferent URIs are used then we need to be able to discover them. This could b=\r\ne done with a link header/HTML anchors + link relation types.\n\nCheck the Al=\r\nternates header\n\n&gt; The downside is (as always with different URIs) that we =\r\ndon&#39;t have one single URL that represents the sales order - unless we accep=\r\nt the overhead of always doing a two-step fetch, and store the base URI, fe=\r\ntch that, look for link-rels and fetch the required representation.\n\nNo pro=\r\nblems here - see all hints above. Conneg already handles these things well.=\r\n (Digest the all the specs before you optimize ;-)\n\n&gt; \n&gt; Personally I would=\r\n rather avoid the two-step fetch and do vocabulary negotiation using header=\r\ns - but, on the other hand, this is perfectly acceptable in a browser-based=\r\n scenario, so why not also use it in M2M scenarios (caching of the first st=\r\nep would even reduce the problem).\n\nSee above; HTTP & friends already give =\r\nyou all you need.\n\n&gt; \n&gt; Somehow it seems like HTTP is missing a way of doin=\r\ng sub-content negotiation, where the request defines the accepted media typ=\r\ne, and together with this also defines the acceptable sub-content-format/vo=\r\ncabulary.\n\nThere is AFAIK no notion of &#39;sub-content-format/vocabulary&#39;. If =\r\nyou must insist on sth like this, check specs like Accept-Features header o=\r\nr the various Profile-mechanisms. (Sorry, no time to dig up the links). \n\n&gt;=\r\n \n&gt; According to RFC 2616 (HTTP 1.1) the accept header can take a rather ge=\r\nneric extension &quot;;token =3D token&quot; (for instance &quot;;level=3D1&quot;), but the sta=\r\nndard fails to explain what it is supposed to be used for. Can it be used f=\r\nor exactly the scenario above?\n&gt; \n&gt; Comments?\n&gt; \n\nThink hard whether you ac=\r\ntually have the problems you think you have. Meanwhile, give the Enterprise=\r\nys in your team something else to chew on :-)\n\n\nJan\n\n&gt; Thanks, J=F8rn\n&gt; \n&gt; =\r\n\n\n\n"}}
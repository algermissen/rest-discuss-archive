{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":303083666,"authorName":"Benoit Fleury","from":"Benoit Fleury &lt;benoit.fleury@...&gt;","profile":"benoit_f4y","replyTo":"SENDER","senderId":"tyFGqD-Dp8n8Y6kuwkp5gUK04H3uyfIhDD9-a2bAZq9e1Zzc1aNsUaC0uRVXi5u8LWLXZfedaxg_VGRBS-1kNcNFHDyH3JIzyd40xEl0","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [rest-discuss] Re:Message queues","postDate":"1181889871","msgId":9038,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDQ2NzIzNTRGLjgwMzAxMDJAZ21haWwuY29tPg==","inReplyToHeader":"PDQ2NkZCRDQwLjg5MTEuMTI3OEU3NURAYW5kcnplai5jaGFlcm9uLmNvbT4=","referencesHeader":"PDExODE3MjYyNDkuNDgxLjczMTkxLm0zN0B5YWhvb2dyb3Vwcy5jb20+LCA8NDY2RkFCOUIuMTY1OC4xMjMzRkJCRkBhbmRyemVqLmNoYWVyb24uY29tPiwgPGFiYTNiZDBkMDcwNjEzMDYwMnczZTgyMTI4MW00NWZiYTE3YTA0NjNlMTU4QG1haWwuZ21haWwuY29tPiA8NDY2RkJENDAuODkxMS4xMjc4RTc1REBhbmRyemVqLmNoYWVyb24uY29tPg=="},"prevInTopic":9036,"nextInTopic":9039,"prevInTime":9037,"nextInTime":9039,"topicId":8955,"numMessagesInTopic":70,"msgSnippet":"Yep I was trying to resolve the concurrency problem in using a GET followed by a DELETE but the solution wasn t very good ;) After some reflexion I wonder if","rawEmail":"Return-Path: &lt;benoit.fleury@...&gt;\r\nX-Sender: benoit.fleury@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nReceived: (qmail 46127 invoked from network); 15 Jun 2007 06:47:24 -0000\r\nReceived: from unknown (66.218.66.71)\n  by m48.grp.scd.yahoo.com with QMQP; 15 Jun 2007 06:47:24 -0000\r\nReceived: from unknown (HELO smtp7-g19.free.fr) (212.27.42.64)\n  by mta13.grp.scd.yahoo.com with SMTP; 15 Jun 2007 06:47:24 -0000\r\nReceived: from [192.168.0.1] (bob75-1-81-57-229-207.fbx.proxad.net [81.57.229.207])\n\tby smtp7-g19.free.fr (Postfix) with ESMTP id 1333618291;\n\tFri, 15 Jun 2007 08:47:17 +0200 (CEST)\r\nMessage-ID: &lt;4672354F.8030102@...&gt;\r\nDate: Fri, 15 Jun 2007 08:44:31 +0200\r\nUser-Agent: Thunderbird 1.5.0.12 (Macintosh/20070509)\r\nMIME-Version: 1.0\r\nTo: rest-discuss@yahoogroups.com,  andrzej@...\r\nReferences: &lt;1181726249.481.73191.m37@yahoogroups.com&gt;, &lt;466FAB9B.1658.1233FBBF@...&gt;, &lt;aba3bd0d0706130602w3e821281m45fba17a0463e158@...&gt; &lt;466FBD40.8911.1278E75D@...&gt;\r\nIn-Reply-To: &lt;466FBD40.8911.1278E75D@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 8bit\r\nX-eGroups-Msg-Info: 1:0:0:0\r\nFrom: Benoit Fleury &lt;benoit.fleury@...&gt;\r\nSubject: Re: [rest-discuss] Re:Message queues\r\nX-Yahoo-Group-Post: member; u=303083666; y=RflOgGhF-K790ud7fcHkF-1NOZZgisK5uwqMADZMMMCSH5h96A\r\nX-Yahoo-Profile: benoit_f4y\r\n\r\nYep I was trying to resolve the concurrency problem in using a GET \nfollowed by a DELETE but the solution wasn&#39;t very good ;)\n\nAfter some reflexion I wonder if the simplest way is not to use a \nresource into models the queue of each consumer.\n\nThe POP operation will consist then to POST the next available entry of \na pubic queue in its personal processing queue.\n\nA consumer must subscribe to the queue service. The service will create \nnew resources to model this consumer :\n\n/consumer/{c_id} : the consumer\n/consumer/{c_id}/queue : queue of entries processed by the consumer\n...\n\nIf a consumer want POP the next entry of a public queue it will send a \nPOST request on its processing queue indicating the URI of the next \nentry in a public queue (/queue/{q_id}/next).\n\nI don&#39;t know what is the best way to build this HTTP request.\n\nA consumer may POP several entries before to process them.\nIt may POP entries from different public queues.\n\nInto consume its personal queue, the consumer may use GET + DELETE \nwithout worried about synchronization.\n\n-- benoit fleury\n\nAndrzej Jan Taramina a ï¿½crit :\n&gt; Benoit:\n&gt; \n&gt;&gt; Yep I forgot the idempotency requirement of PUT. You&#39;re right.\n&gt;&gt; Thanks.\n&gt;&gt;\n&gt;&gt; So use POST ? Or is this new resource a bad idea ?\n&gt; \n&gt; POST would work, since it lets you collapse the GET and DELETE into a single \n&gt; operation, but I suppose it really depends on what problem you are trying to \n&gt; solve.\n&gt; \n&gt; Sounded like you were trying to resolve the concurrency problem in using a \n&gt; GET followed by a DELETE, to pop an entry.  That is, you GET the next queue \n&gt; entry, but before you can issue a DELETE, someone else has blown it away. Is \n&gt; that correct?\n&gt; \n&gt; Concurrency collisions can be a tough problem in REST.  I&#39;m surprised that \n&gt; this hasn&#39;t been discussed on the list that much.\n&gt; \n&gt; \n&gt; Andrzej Jan Taramina\n&gt; Chaeron Corporation: Enterprise System Solutions\n&gt; http://www.chaeron.com\n&gt; \n&gt; \n\n\n"}}
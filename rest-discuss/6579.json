{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":184797058,"authorName":"Benjamin Carlyle","from":"Benjamin Carlyle &lt;benjamincarlyle@...&gt;","profile":"fuzzybsc","replyTo":"SENDER","senderId":"T6fb32BCexAbTpcbW2_KMZ58gAraAN-RyBlSr47QlJ0RyBVMp5pR1Epyn-ZI9er30WTtkQ7WeLzndmHBwNTNC-ok2PZAXo0Jz5bCr456KB3r-LofqzCGXII","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [rest-discuss] Seeking feedback on the Blinksale API","postDate":"1159599633","msgId":6579,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDExNTk1OTk2MzMuNzMwNS4zNS5jYW1lbEBsb2NhbGhvc3QubG9jYWxkb21haW4+","inReplyToHeader":"PGEzNzNkYzc0MDYwOTI4MTI0NGgxYWQzYjI3MXMyNTk5ODcxNTgyMDM0ZGJiQG1haWwuZ21haWwuY29tPg==","referencesHeader":"PGEzNzNkYzc0MDYwOTI1MjIxNXQ3ODczZjg0ZW9mMGRkZDZmYjMzNDk1OWFmQG1haWwuZ21haWwuY29tPgkgPDQ5MDIwMURDLThDRDktNDE5Mi1BNUQzLUQwNjFEOTgyQThCNUBnYml2LmNvbT4JIDxhMzczZGM3NDA2MDkyODEyNDRoMWFkM2IyNzFzMjU5OTg3MTU4MjAzNGRiYkBtYWlsLmdtYWlsLmNvbT4="},"prevInTopic":6578,"nextInTopic":6580,"prevInTime":6578,"nextInTime":6580,"topicId":6563,"numMessagesInTopic":57,"msgSnippet":"Scott, I have read through your document. I have a few comments that follow on from those already made by Roy and Mark. Additionally, I ll make a few more off","rawEmail":"Return-Path: &lt;benjamincarlyle@...&gt;\r\nX-Sender: benjamincarlyle@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nReceived: (qmail 67514 invoked from network); 30 Sep 2006 07:09:22 -0000\r\nReceived: from unknown (66.218.67.34)\n  by m40.grp.scd.yahoo.com with QMQP; 30 Sep 2006 07:09:22 -0000\r\nReceived: from unknown (HELO mail18.syd.optusnet.com.au) (211.29.132.199)\n  by mta8.grp.scd.yahoo.com with SMTP; 30 Sep 2006 07:09:18 -0000\r\nReceived: from c210-49-80-10.rochd2.qld.optusnet.com.au (c210-49-80-10.rochd2.qld.optusnet.com.au [210.49.80.10])\n\tby mail18.syd.optusnet.com.au (8.12.11/8.12.11) with ESMTP id k8U70XPB009389;\n\tSat, 30 Sep 2006 17:00:34 +1000\r\nTo: Scott Raymond &lt;sco@...&gt;\r\nCc: &quot;Roy T. Fielding&quot; &lt;fielding@...&gt;, Mark Baker &lt;distobj@...&gt;,\n        rest-discuss@yahoogroups.com\r\nIn-Reply-To: &lt;a373dc740609281244h1ad3b271s2599871582034dbb@...&gt;\r\nReferences: &lt;a373dc740609252215t7873f84eof0ddd6fb334959af@...&gt;\n\t &lt;490201DC-8CD9-4192-A5D3-D061D982A8B5@...&gt;\n\t &lt;a373dc740609281244h1ad3b271s2599871582034dbb@...&gt;\r\nContent-Type: text/plain\r\nDate: Sat, 30 Sep 2006 17:00:33 +1000\r\nMessage-Id: &lt;1159599633.7305.35.camel@...&gt;\r\nMime-Version: 1.0\r\nX-Mailer: Evolution 2.6.2 \r\nContent-Transfer-Encoding: 7bit\r\nX-eGroups-Msg-Info: 1:0:0:0\r\nFrom: Benjamin Carlyle &lt;benjamincarlyle@...&gt;\r\nSubject: Re: [rest-discuss] Seeking feedback on the Blinksale API\r\nX-Yahoo-Group-Post: member; u=184797058; y=5zBRTJk9b9mblpJuzifTo9UwTZo8s5YZezYoNPioWzUOClY\r\nX-Yahoo-Profile: fuzzybsc\r\n\r\nScott,\n\nI have read through your document. I have a few comments that follow on\nfrom those already made by Roy and Mark. Additionally, I&#39;ll make a few\nmore off the cuff.\n\nYou are using a single media type that appears to cover both invoices\nand customers. Your standardisation efforts may be rewarded by\ndecoupling these ontologies from each other. I would try to derive an\nXML version of the vcard spec to match the microformat derivation of the\nsame in order to describe a customer (or just use VCARD directly. You\nalready use its cousin iCalendar). You may need to add extra fields to\nmeet your specific requirements. I would also look towards existing\ninvoice descriptions languages for the invoicing.\n\nWhat are you intending to return from successful PUT or DELETE requests?\n204 No Content is appropriate if you are returning nothing.\n\n400 is Bad Request, not bad resource.\n\nI don&#39;t quite understand your use of the &quot;uri&quot; attribute in content. In\nmost case it looks like href is the commonly-understood term. I would be\ntempted to replace the invoices block (for example) with a series of &lt;a\nhref=&quot;...&quot; rel=&quot;invoice&quot;/&gt; elements, or separate out queries for a\ncustomer&#39;s invoices into a separate hyperlinked resource. In the root\nnode of your formats, however, uri appears to mean the same thing as\nxml:base. I would leave those uris out, myself. The client knows where\nthey retrieved the data from. They can add the attribute themselves if\nthey need to perform further processing with it.\n\nI&#39;m not a fan of namespaces in xml documents, but I&#39;ll leave that\nstatement at that.\n\nYour invoices are requiring uri construction for query. These parameters\nshould be supplied on the basis of a form document provided at a known\nlocation rather than relying on clients to understand your URI-space.\n\nI like your use of atom and icalendar for responses. Standards are\nvaluable.\n\nTo really head out of the REST sphere: Decimal currenices will work fine\nfor dollars, but you may find problems as you head outside North\nAmerica. This will also very likely have an effect on your customer\ndescription format.\n\nAdditional responses inline.\n\nBenjamin.\n\nOn Thu, 2006-09-28 at 14:44 -0500, Scott Raymond wrote:\n&gt; On 9/26/06, Roy T. Fielding &lt;fielding@...&gt; wrote:\n&gt; &gt; I am curious as to why it is using &quot;application/xml&quot; as the media\n&gt; &gt; type instead of something more standardized.\n&gt; On 9/26/06, Mark Baker &lt;distobj@...&gt; wrote:\n&gt; &gt; The other thing is the data formats and the use of application/xml.\n&gt; &gt; For content negotiation (not to mention other uses), application/xml\n&gt; &gt; is meaningless\n&gt; Thanks Roy and Mark, that&#39;s exactly the kind of feedback I was hoping\n&gt; for. I hadn&#39;t thought through the media type issue, but your arguments\n&gt; make sense. I just changed the app and spec to use\n&gt; &quot;application/vnd.blinksale+xml&quot;. I understand that new media types are\n&gt; supposed to be registered, but is there practical reason to bother,\n&gt; for me or my customers?\n\nWell, you aren&#39;t really being RESTful unless your content type is\nstandard. Not only should it be registered, but it should be standard.\nInventing your own verbs is a REST no-no, but inventing your own content\ntypes is also a no-no. If there is really no standard out there that you\ncan engage with, inventing your own is ok... so long as you start a long\nand painful standardisation process on your new format.\n\nLook at the REST triangle. The only thing you should be inventing when\nyou create a new application is a new set of urls and resources. Verbs\nand content types should not be bespoke. Remember that computer\ncommunication is primarily a human social problem. Your own content type\nlimits the network effects that REST can give you.\n\n&gt; Roy wrote:\n&gt; &gt; Was something like the\n&gt; &gt; Visa XML Invoice (or any of the other various attempts) considered?\n&gt; &gt; If considered, were they rejected due to complexity or for some\n&gt; &gt; other reason?\n&gt; Yeah, I looked at Visa XML Invoice and UBL; my reasons for not going\n&gt; that direction come down to complexity (and perhaps a pinch of NIH\n&gt; syndrome.) At least for this first step, I want something that is very\n&gt; simple and closely corresponds with the existing data model and UI.\n&gt; None of our customers have ever requested Visa or any other invoice\n&gt; format; if we targeted auto makers or something, it&#39;d be a different\n&gt; story.\n\nFair enough while you are finding your feet. You really need to engage\nwith some kind of standards process soon, though. Don&#39;t leave it too\nlong.\n\n&gt; Mark wrote:\n&gt; &gt; The first is the documentation for the URI structure, e.g.\n&gt; http://example.blinksale.com/invoices/invoice_id/deliveries/delivery_id\n&gt; &gt; Though I can&#39;t tell for sure, it appears to me as though you expect\n&gt; &gt; clients to be hardcoded to use that structure, which would break the\n&gt; &gt; &quot;hypermedia&quot; constraint. You&#39;d need to use a forms language in order\n&gt; &gt; to be able to declare that URI structure for consumption by the\n&gt; &gt; client, otherwise client and server would be more tightly coupled\n&gt; than\n&gt; &gt; is necessary and this could hurt the evolvability of your\n&gt; application.\n&gt; I&#39;m not sure that I understand all the issues behind the hypermedia\n&gt; constraint, but I think this one&#39;s okay. For example, the API never\n&gt; just provides a delivery ID number and expects the client to construct\n&gt; the URI; it uses the full URI of the delivery as the identifier. E.g.,\n&gt; the XML representation of an invoice includes something like:\n&gt; &lt;deliveries uri=&quot;http://example.blinksale.com/invoices/1/deliveries&quot;&gt;\n&gt; &lt;delivery\n&gt; uri=&quot;http://example.blinksale.com/invoices/1/deliveries/3&quot;&gt;...&lt;/delivery&gt;\n&gt; &lt;/deliveries&gt;\n&gt; Is that sufficient for the client to know that it should POST a new\n&gt; delivery to &quot;/invoices/1/deliveries&quot;, etc.?\n\nThe documentation you are currently providing should be for information\npurposes only. It may be better not to publish it at all, treating the\ninformation as an internal document. Consider publishing only a smaller\ndocument that lists generic starting points for navigation (such as the\nwww.blinksale.com main page), or suppling a small set of URLs each time\nyou engage a new customer. The rest should be discovered by hyperlinks.\n\nAlso, the information looks a little internal-centric. For your user,\nthe client_id is this: &lt;http://example.blinksale.com/clients/0001&gt;. The\ninvoice id is &lt;http://example.blinksale.com/invoices/1234&gt;. Once you get\nout on to the web, all of your identifiers are urls and vice versa.\n\nBenjamin.\n\n\n\n"}}
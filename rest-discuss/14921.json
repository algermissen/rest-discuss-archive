{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":223135631,"authorName":"Felipe Gaúcho","from":"=?ISO-8859-1?Q?Felipe_Ga=FAcho?= &lt;fgaucho@...&gt;","profile":"felipegaucho2003","replyTo":"SENDER","senderId":"1dQnIekfquGbBtU9O5Uqo4I3OQXvk_7-FTTS5oeJpfjlyum7M06oaQMkLQm-MqgqoaiSAillNIJ0f_g0M9Vvo7CYk5zz2Rfj8zrJsvEWewLJYhD30GV-IZzaGA","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [rest-discuss] Differentiating HTTP-based APIs","postDate":"1267175737","msgId":14921,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PGQxMTYwMzg2MTAwMjI2MDExNXAxNTA4NjJiM2w2OGNhMjUxZTgwMTA5YzEwQG1haWwuZ21haWwuY29tPg==","inReplyToHeader":"PGY4YjM5YWNlMTAwMjI2MDEwN2w2OTk3MzE2YXM2MjIzOWJkOWE1NGIwMTBAbWFpbC5nbWFpbC5jb20+","referencesHeader":"PGY4YjM5YWNlMTAwMjI1MTEzN3A1Mzk1NzRiMWdmMGFlZjFlNzMzMjkyMTNAbWFpbC5nbWFpbC5jb20+CSA8NTUxOTUuNzYwNjAucW1Ad2ViNTU5MDgubWFpbC5yZTMueWFob28uY29tPgkgPGQxMTYwMzg2MTAwMjI1MjIyNmo2NGI4ZDM0MmlmZmRkYTRlNmQ4NjgzMzkwQG1haWwuZ21haWwuY29tPgkgPGY4YjM5YWNlMTAwMjI1MjMzOXAzNmE5N2U4YnA2ZTRkMWYwYzc1NzcwOGM2QG1haWwuZ21haWwuY29tPgkgPGQxMTYwMzg2MTAwMjI1MjM1NWw1ZDI5YzNmOXkxNjMxNzhiOGE5MGNhOWNhQG1haWwuZ21haWwuY29tPgkgPGY4YjM5YWNlMTAwMjI2MDEwN2w2OTk3MzE2YXM2MjIzOWJkOWE1NGIwMTBAbWFpbC5nbWFpbC5jb20+"},"prevInTopic":14920,"nextInTopic":14922,"prevInTime":14920,"nextInTime":14922,"topicId":14904,"numMessagesInTopic":31,"msgSnippet":"excellent points.. I will consider that... ... -- ... Felipe Gaúcho 10+ Java Programmer CEJUG Senior Advisor","rawEmail":"Return-Path: &lt;fgaucho@...&gt;\r\nX-Sender: fgaucho@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 55180 invoked from network); 26 Feb 2010 09:15:37 -0000\r\nX-Received: from unknown (98.137.34.46)\n  by m2.grp.sp2.yahoo.com with QMQP; 26 Feb 2010 09:15:37 -0000\r\nX-Received: from unknown (HELO mail-pz0-f178.google.com) (209.85.222.178)\n  by mta3.grp.sp2.yahoo.com with SMTP; 26 Feb 2010 09:15:37 -0000\r\nX-Received: by pzk8 with SMTP id 8so321941pzk.11\n        for &lt;rest-discuss@yahoogroups.com&gt;; Fri, 26 Feb 2010 01:15:37 -0800 (PST)\r\nMIME-Version: 1.0\r\nX-Received: by 10.141.89.7 with SMTP id r7mr52376rvl.107.1267175737371; Fri, 26 \n\tFeb 2010 01:15:37 -0800 (PST)\r\nIn-Reply-To: &lt;f8b39ace1002260107l6997316as62239bd9a54b010@...&gt;\r\nReferences: &lt;f8b39ace1002251137p539574b1gf0aef1e73329213@...&gt;\n\t &lt;55195.76060.qm@...&gt;\n\t &lt;d11603861002252226j64b8d342iffdda4e6d8683390@...&gt;\n\t &lt;f8b39ace1002252339p36a97e8bp6e4d1f0c757708c6@...&gt;\n\t &lt;d11603861002252355l5d29c3f9y163178b8a90ca9ca@...&gt;\n\t &lt;f8b39ace1002260107l6997316as62239bd9a54b010@...&gt;\r\nDate: Fri, 26 Feb 2010 10:15:37 +0100\r\nMessage-ID: &lt;d11603861002260115p150862b3l68ca251e80109c10@...&gt;\r\nTo: craigmcc@...\r\nCc: Kevin Duffey &lt;andjarnic@...&gt;, REST Discuss &lt;rest-discuss@yahoogroups.com&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Transfer-Encoding: quoted-printable\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: =?ISO-8859-1?Q?Felipe_Ga=FAcho?= &lt;fgaucho@...&gt;\r\nSubject: Re: [rest-discuss] Differentiating HTTP-based APIs\r\nX-Yahoo-Group-Post: member; u=223135631; y=PqCb3IC-16SaiveZx_uIf8Ypcy-rXDcG93_u_YJdVR0v2nq2ZsBWlB2dgw\r\nX-Yahoo-Profile: felipegaucho2003\r\n\r\nexcellent points.. I will consider that...\n\n2010/2/26 Craig McClanahan &lt;cra=\r\nigmcc@...&gt;:\n&gt; 2010/2/25 Felipe Ga=FAcho &lt;fgaucho@...&gt;:\n&gt;&gt;&gt; You&#39;=\r\nre missing a key feature of what both Kevin and I said ... use\n&gt;&gt;&gt; *differe=\r\nnt* classes for the *resource* domain model and the *business*\n&gt;&gt;&gt; domain m=\r\nodel.\n&gt;&gt;\n&gt;&gt; yes, I am aware about that... but the effort to maintain the ma=\r\npping\n&gt;&gt; between those models generates an extra and unnecessary developmen=\r\nt\n&gt;&gt; effort ,.... I also noticed some people having a third model when the\n=\r\n&gt;&gt; data will be rendered in the presentation layer.. (a managedbean or\n&gt;&gt; o=\r\nther component..)... My experiment is looking to reduce the amount of\n&gt;&gt; ef=\r\nfort required to synchronize all those models, having only one\n&gt;&gt; model.. a=\r\nnd it works fine and the performance is better and\n&gt;&gt; maintenance effort mu=\r\nch less than the traditional MVC design...\n&gt;\n&gt; In your business domain obje=\r\ncts, do you store the CSS style class that\n&gt; should be used to display this=\r\n object in a browser? =A0Of course not:\n&gt;\n&gt; * The *name* of the style class=\r\n is totally up to the designer.\n&gt;\n&gt; * Do *you* know any designers that care=\r\n about backwards compatibility\n&gt; of style names? =A0I don&#39;t either ...\n&gt; =\r\n=A0but I don&#39;t care, as long as the designer updates all the\n&gt; correspondin=\r\ng HTML pages when the style name changes.\n&gt;\n&gt; * Style names can be changed =\r\nat any time (for example, when you refresh\n&gt; =A0the look and feel character=\r\nistics of your website).\n&gt;\n&gt; * And, of course, there is normally more than =\r\none webapp\n&gt; =A0that needs to be able to render this business domain object=\r\n,\n&gt; =A0so having only one style name would not be useful.\n&gt;\n&gt; The same prin=\r\nciples apply to designing resource representations -- we\n&gt; should assume th=\r\nat there will be more than one representation that\n&gt; includes this particul=\r\nar object, and more than one RESTful application\n&gt; that needs to provide ac=\r\ncess to it, so assuming any *single* approach\n&gt; is not likely to help all o=\r\nur users.\n&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;&gt; Then, each kind of class can have the annotations tha=\r\nt are relevant for that tier.\n&gt;&gt;\n&gt;&gt; Usually the classes are identical and y=\r\nou are just including a copy\n&gt;&gt; layer to transfer data between them :)\n&gt;&gt;\n&gt;=\r\n&gt;&gt; Managing workflow, like obeying the hypermedia constraint, is a view tie=\r\nr concern (from the point of view of a server side developer).\n&gt;&gt;\n&gt;&gt; May be=\r\n, may be not.. in my case the model contains the sate of the\n&gt;&gt; application=\r\n, so it is a business concern :)\n&gt;&gt;\n&gt;\n&gt; There is pretty much always more th=\r\nan one application needing your\n&gt; data, so it&#39;s more than one business conc=\r\nern :-). =A0Ideally, you can\n&gt; share the business domain objects across the=\r\nse applications, but the\n&gt; reality is you&#39;ll need multiple RESTful resource=\r\n representations that\n&gt; include data from these business domain objects, fo=\r\nr the same reason\n&gt; that you will need multiple HTML representations (even =\r\nwithin the same\n&gt; webapp, how many different pages include information from=\r\n particular\n&gt; domain objects?). =A0One size does not fit all.\n&gt;\n&gt;&gt;&gt; That&#39;s =\r\na good thing, because a REST API is typically not the only way that\n&gt;&gt;&gt; suc=\r\nh business model objects get manipulated.\n&gt;&gt;\n&gt;&gt; yes, but the effort to mana=\r\nge the hypermedia just in time makes the\n&gt;&gt; whole application much slower..=\r\n and it is a repettive task.. that is\n&gt;&gt; one of the reasons that motivated =\r\nme to push the links in the\n&gt;&gt; database....\n&gt;&gt;\n&gt;&gt;&gt; Self-test time:=A0 are y=\r\nou storing URIs in your database?\n&gt;&gt;\n&gt;&gt; yes. The sate of the application is=\r\n persistent :) and scales quite\n&gt;&gt; well since I don&#39;t need to recalculate t=\r\nhe sate on every request..\n&gt;&gt; (ok, memcache can help a bit, but anyway... t=\r\nhe hypermedia engine it\n&gt;&gt; is the heavy part of the request - eliminating t=\r\nhat I have much faster\n&gt;&gt; services)\n&gt;\n&gt; Scale for one application is nice (=\r\nalthough I&#39;m waiting for your\n&gt; benchmarks to show that the overhead of cal=\r\nculating URIs dynamically\n&gt; is crushing, given how cheap CPU time is versus=\r\n other server side\n&gt; resources). =A0How about scale for multiple applicatio=\r\nns?\n&gt;\n&gt; Oh, you only have one? =A0Good for you! =A0But that&#39;s not a particu=\r\nlarly\n&gt; common problem domain.\n&gt;\n&gt;&gt;\n&gt;&gt;&gt; a JAX-RS based server application, =\r\nthat &quot;care&quot; is expressed by @Path\n&gt;&gt;\n&gt;&gt; I am experimenting with that idea..=\r\n in order to use regular\n&gt;&gt; expressions or other DSL facilty to manipulate =\r\nthe final URI\n&gt;&gt; dinamically.. perhaps storing just the tail of the URI in =\r\nthe databse\n&gt;&gt; or other format of information that lead me a chance to prod=\r\nuce the\n&gt;&gt; external representation by demand.. this part is my current\n&gt;&gt; r=\r\nesearch...... (I prefer the &quot;experimentation&quot; word since I am not a\n&gt;&gt; form=\r\nal researcher..)\n&gt;&gt;\n&gt;\n&gt; Please think about the idea that the same business =\r\ndomain resources\n&gt; may need to be exposed by different applications, using =\r\ndifferent\n&gt; resource representations, and different URI schemes, all at the=\r\n same\n&gt; time. =A0Or, even within the same application, exposed in different=\r\n\n&gt; pages (web app) or resources (RESTful web service) at the same time.\n&gt;\n&gt;=\r\n Personal history lesson -- when I was first learning web development\n&gt; (mi=\r\nd-late 1990s), I figured &quot;why not have a toHTML() method on all my\n&gt; Java b=\r\nusiness domain model classes&quot;? =A0It quickly became clear that\n&gt; different =\r\npages within the same app, as well as different apps, needed\n&gt; different HT=\r\nML representations of the same business objects. =A0Indeed,\n&gt; this realizat=\r\nion was one of the motivating factors that led to the\n&gt; creation of Struts.=\r\n\n&gt;\n&gt; The same is true for RESTful resource representations. =A0There will b=\r\ne\n&gt; more than one representation that requires information from a\n&gt; particu=\r\nlar business domain model object, as well as more than one\n&gt; application (e=\r\nach with their own resource and representation\n&gt; requirements).\n&gt;\n&gt; In MVC =\r\nterms: =A0Model classes !=3D View classes.\n&gt;\n&gt;&gt;&gt; @Path annotations -- to ch=\r\nange the URIs included in your representations.\n&gt;&gt;\n&gt;&gt; yes, but you need to =\r\niterate over the collections and change manually\n&gt;&gt; each URI, what can lead=\r\n you to manipulate thousand of strings before\n&gt;&gt; to respond to the client..=\r\n this part scares me... (think about a\n&gt;&gt; collection with 100 elements, eac=\r\nh with 20 URIs)\n&gt;\n&gt; For amusement, you should go grab a raw Atom or RSS fee=\r\nd =A0from a busy\n&gt; feed source (I use Google Reader for my feed aggregator,=\r\n but the same\n&gt; principle applies to anyone who provides feeds) and see how=\r\n many URIs\n&gt; are included. =A0 And, funny thing, none of the apps that *cre=\r\nated* that\n&gt; content had any idea that *I* would be aggregating their feeds=\r\n, via\n&gt; Google Reader, for my own use.\n&gt;\n&gt; URIs in RESTful web services are=\r\n a view tier concern, just like CSS style names.\n&gt;\n&gt;&gt;\n&gt;&gt;&gt; In the shopping c=\r\nart use case (no, I don&#39;t care if some people don&#39;t like it\n&gt;&gt;&gt; as an examp=\r\nle :-), a well designed REST API should *not* define a URI\n&gt;&gt;&gt; template lik=\r\ne &quot;/checkout&quot; that accepts a POST with a shopping cartURI\n&gt;&gt;\n&gt;&gt; That is a b=\r\nasic REST principle .. and it is not related to the way you\n&gt;&gt; store or cal=\r\nculate the URIs...\n&gt;&gt;\n&gt;\n&gt; Unfortunately, *lots* of theoretically &quot;RESTful A=\r\nPI&quot; specifications\n&gt; include instructions on how to calculate the URI for a=\r\n particular\n&gt; operation (versus telling the client &quot;get the URI you need fr=\r\nom the\n&gt; current representation of the resource.). =A0And I&#39;m as guilty as =\r\nanyone\n&gt; else at violating the hypermedia constraint this way, in my earlie=\r\nr\n&gt; work. =A0But, my point in this particular scenario was, assuming that\n&gt;=\r\n there was a single URI for &quot;checkout&quot;, for *all* shopping carts, is\n&gt; tech=\r\nnically feasible, but not a good idea.\n&gt;\n&gt;&gt;&gt; concerned, the URI itself is a=\r\nn opaque string.\n&gt;&gt;\n&gt;&gt; yes......\n&gt;&gt;\n&gt;&gt; thanks for your feedback... interest=\r\ning.. I will keep thinking about\n&gt;&gt; your thoughts....\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; =A0Felipe Ga=\r\n=FAcho\n&gt;&gt;\n&gt;\n&gt; Craig\n&gt;\n\n\n\n-- \n------------------------------------------\n   =\r\nFelipe Ga=FAcho\n   10+ Java Programmer\n   CEJUG Senior Advisor\n\n"}}
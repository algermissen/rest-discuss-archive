{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":498432483,"authorName":"Jan Algermissen","from":"Jan Algermissen &lt;jan.algermissen@...&gt;","profile":"algermissen1971","replyTo":"SENDER","senderId":"SrOUEc7Y5sBpFXXFsh1s5g951If2hIPzy9zQycmbpN3fG1TtBcoVYCLMXhPR-UcNSsG4qKBmfnDdItf4HvEa_rLnv96RtouC7bH4_gr4f0F1E78","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [rest-discuss] Dealing with errors during asynchronous resource creation","postDate":"1315845171","msgId":17762,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDIxQUQ3MzgyLTk0QUUtNERCRC05RTQ0LTAwQzY1MjVBMzdCQUBub3Jkc2MuY29tPg==","inReplyToHeader":"PDEzMTU4Mzc2NTAuMjc5Ni4xMDQuY2FtZWxAbG9jYWxob3N0LmxvY2FsZG9tYWluPg==","referencesHeader":"PDEzMTU4MTQzNTEuMjc5Ni44Ny5jYW1lbEBsb2NhbGhvc3QubG9jYWxkb21haW4+IDxGQkUxQUM0NS1EODEzLTQ0RUItOUIyQS00ODkxQjE5QTM3OTlAbm9yZHNjLmNvbT4gPDEzMTU4Mzc2NTAuMjc5Ni4xMDQuY2FtZWxAbG9jYWxob3N0LmxvY2FsZG9tYWluPg=="},"prevInTopic":17761,"nextInTopic":0,"prevInTime":17761,"nextInTime":17763,"topicId":17758,"numMessagesInTopic":5,"msgSnippet":"... Actually, check out this: http://lists.w3.org/Archives/Public/ietf-http-wg/2011JulSep/0343.html Jan","rawEmail":"Return-Path: &lt;jan.algermissen@...&gt;\r\nX-Sender: jan.algermissen@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 7137 invoked from network); 12 Sep 2011 16:32:55 -0000\r\nX-Received: from unknown (98.137.35.161)\n  by m5.grp.sp2.yahoo.com with QMQP; 12 Sep 2011 16:32:55 -0000\r\nX-Received: from unknown (HELO moutng.kundenserver.de) (212.227.126.171)\n  by mta5.grp.sp2.yahoo.com with SMTP; 12 Sep 2011 16:32:55 -0000\r\nX-Received: from [10.221.86.89] (tmo-103-78.customers.d1-online.com [80.187.103.78])\n\tby mrelayeu.kundenserver.de (node=mreu3) with ESMTP (Nemesis)\n\tid 0MNAPk-1R5LIL1tU0-007Jze; Mon, 12 Sep 2011 18:32:54 +0200\r\nMime-Version: 1.0 (Apple Message framework v1084)\r\nContent-Type: text/plain; charset=windows-1252\r\nIn-Reply-To: &lt;1315837650.2796.104.camel@...&gt;\r\nDate: Mon, 12 Sep 2011 18:32:51 +0200\r\nCc: rest-discuss@yahoogroups.com\r\nContent-Transfer-Encoding: quoted-printable\r\nMessage-Id: &lt;21AD7382-94AE-4DBD-9E44-00C6525A37BA@...&gt;\r\nReferences: &lt;1315814351.2796.87.camel@...&gt; &lt;FBE1AC45-D813-44EB-9B2A-4891B19A3799@...&gt; &lt;1315837650.2796.104.camel@...&gt;\r\nTo: Lubomir Rintel &lt;lubo.rintel@...&gt;\r\nX-Mailer: Apple Mail (2.1084)\r\nX-Provags-ID: V02:K0:7uVAtpkyGskKqlyDsF81E3Afb5wMWHo/VdETRTGQSUX\n npUiNtZG2G/EgYOsnYOchByuHZlrMwEHfVCR2dcZYgQWgqOL22\n HxUonuigFqG9AsAoFC2KvtxF5IShzyf70AhEPn0jjeFjvKj8lk\n DNn9D1RP8N+yr7yDkTSNziIpTTE8VEA9r+2TeUmUgAy2ixDUzv\n m73yCCmYt8ZNyAkJFu0xAle2G7TPNabzGi34FGB+Q88l5qIF2x\n iAuK5792rn4b+2uOm4cxb7+xtRuTrZgS+Wm9uwXXLVNfWqyaYB\n foPcj/DLBZ092RJIuGvkPHEqkXKpspnRJtHeOboiq1Udes1yOb\n j0Z0V6OB7LWuAG0ISM8K3YxgWLDY50Zyr96IUVpimNDze90ZoS\n 4JCQcjrXUYLbA==\r\nFrom: Jan Algermissen &lt;jan.algermissen@...&gt;\r\nSubject: Re: [rest-discuss] Dealing with errors during asynchronous resource creation\r\nX-Yahoo-Group-Post: member; u=498432483; y=ZDpn1YzMvEKehhNcNtgfUhpY6W6GBNvbd7H-iUkLMicK14g0sTQgIvbn\r\nX-Yahoo-Profile: algermissen1971\r\n\r\n\nOn Sep 12, 2011, at 4:27 PM, Lubomir Rintel wrote:\n\n&gt; On Mon, 2011-09-12 a=\r\nt 15:44 +0200, Jan Algermissen wrote:\n&gt;&gt; On Sep 12, 2011, at 9:59 AM, Lubom=\r\nir Rintel wrote:\n&gt;&gt; \n&gt;&gt;&gt; [I&#39;ve been redirected here from www-talk]\n&gt;&gt;&gt; \n&gt;&gt;&gt;=\r\n Hi Everyone,\n&gt;&gt;&gt; \n&gt;&gt;&gt; I&#39;m searching for a correct solution (not violating =\r\nthe HTTP protocol\n&gt;&gt;&gt; and causing least possible confusion to client) to th=\r\nis problem:\n&gt;&gt;&gt; \n&gt;&gt;&gt; I POST a structure with task description to a resource=\r\n (say /res1) /res1\n&gt;&gt;&gt; triggers creation of a resource, which can take a lo=\r\nng time and can\n&gt;&gt;&gt; potentially fail in the end, due problems in task descr=\r\niption (user\n&gt;&gt;&gt; fault), that can not be discovered upon the initial POST. =\r\nI need a way\n&gt;&gt;&gt; to communicate this error to the user in case creation fai=\r\nls or\n&gt;&gt;&gt; resulting resource in case the execution succeeds.\n\n\nActually, ch=\r\neck out this:\nhttp://lists.w3.org/Archives/Public/ietf-http-wg/2011JulSep/0=\r\n343.html\n\nJan\n\n\n&gt;&gt;&gt; \n&gt;&gt;&gt; Would this be correct?\n&gt;&gt;&gt; \n&gt;&gt;&gt; 1.) Initial POST t=\r\no /res1 returns an URI /res2\n&gt;&gt; \n&gt;&gt; This returns 202 and a polling URI in t=\r\nhe Location header.\n&gt; \n&gt; My understanding was that rfc2616 does not define =\r\nthe semantics of\n&gt; Location header for 202 responses. Section 14.30 indicat=\r\nes that it can\n&gt; be used for 3xx or 201 responses to either redirect or ind=\r\nicate location\n&gt; of newly created resource (supposedly respectively). None =\r\nof these is\n&gt; the case for a 202 response.\n&gt; \n&gt; Also, a 202 response should=\r\n contain pointer to status or estimate, but\n&gt; there&#39;s no mention (in sectio=\r\nn 10.2.3) about where to get the actual\n&gt; resource content. Therefore I ass=\r\numed that once the request is fulfilled\n&gt; the response body should be avail=\r\nable at the same location that returned\n&gt; the 202 response before. Is this =\r\nassumption wrong?\n&gt; \n&gt;&gt;&gt; 2.) Subsequent GET or HEAD of /res2 return 202 unt=\r\nil the task\n&gt;&gt; finishes\n&gt;&gt; \n&gt;&gt; No, it returns 200 and status information in=\r\n the body (=3D=3D&gt; so you need\n&gt;&gt; to mint media type for this to express th=\r\nese semantics)\n&gt;&gt; \n&gt;&gt; Body will tell client about (maybe progress), success=\r\n or failure and\n&gt;&gt; the result URI (HTTP does not say that the 202 Location =\r\nURI is the\n&gt;&gt; created final resource. That also is in the body.\n&gt;&gt; \n&gt;&gt; (The=\r\n definition of a general media type for this pattern would be\n&gt;&gt; possible -=\r\n need not be specific to your application)\n&gt; \n&gt; Well, the original idea was=\r\n to make it possible to have a client that\n&gt; implements little beyond what&#39;=\r\ns required by HTTP that would be able to\n&gt; wait for a creation of a resourc=\r\ne (possibly providing a status monitor\n&gt; and indication of progress on the =\r\nserver, but not actually requiring the\n&gt; client to grok it). If we defined =\r\nan extra content type, it is likely\n&gt; that the client would not negotiate i=\r\nt. Wouldn&#39;t it be possible to go\n&gt; without it somehow?\n&gt;&gt; \n&gt;&gt; Jan\n&gt;&gt; \n&gt;&gt; \n&gt;=\r\n&gt; \n&gt;&gt;&gt; 3a.) In case the execution succeeds, a GET or HEAD of /res2 returns =\r\n200\n&gt;&gt;&gt; with task result as body\n&gt;&gt;&gt; 3b.) Otherwise make the /res2 go away =\r\nand start returning 410 (or 404?)\n&gt;&gt;&gt; and explaining what went wrong in the=\r\n body?\n&gt;&gt;&gt; \n&gt;&gt;&gt; Or is there a better way?\n&gt;&gt;&gt; \n&gt;&gt;&gt; Thanks,\n&gt;&gt;&gt; -- \n&gt;&gt;&gt; Lubo=\r\nmir Rintel (GoodData), phone: #7715\n&gt;&gt;&gt; \n&gt;&gt;&gt; \n&gt;&gt; \n&gt; \n&gt; -- \n&gt; Lubomir Rintel=\r\n (GoodData), phone: #7715\n&gt; \n\n\n"}}
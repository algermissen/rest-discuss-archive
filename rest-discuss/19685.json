{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":563108510,"authorName":"Simpson, Robby (GE Energy Management)","from":"&quot;Simpson, Robby (GE Energy Management)&quot; &lt;robby.simpson@...&gt;","replyTo":"SENDER","senderId":"rsZZxtOGaIzxKtjBE_urCFHenGSRJMRBlZqJzedEaffesPLE3XdhCsZYJJHQLMJy_puWHMSL3PvBSGsu75WOj7aCT-wJGKMIjc3dgLgGvy0SVhnLeicOipnBhAPm-6CEaFNJh_A","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [rest-discuss] RESTful Toggle","postDate":"1404933552","msgId":19685,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PENGRTMwQ0IwLjM3N0M0JVJvYmJ5LlNpbXBzb25AR0UuY29tPg==","inReplyToHeader":"PENBQWdWemRqVktHUystVXE4THVLQlZqc0I1a1ZEVWpEdHlOeHZXZzdIUDN3MEZuWWg2UUBtYWlsLmdtYWlsLmNvbT4=","referencesHeader":"PENGRTFEQUM5LjM3NjQ4JVJvYmJ5LlNpbXBzb25AR0UuY29tPiA8Q0EreGhBUFdRNWlUSHZaLXlrQkRZR1RoUndOVFkwSlQ1RTJOOFdNaFhyWWl0eWZmc3NRQG1haWwuZ21haWwuY29tPiA8Q0ZFMkQ1MTUuMzc3MEYlUm9iYnkuU2ltcHNvbkBHRS5jb20+IDw1M0JENjI0Qy43MDQwMzA2QGJlcmtlbGV5LmVkdT4gPENGRTJEQUYwLjM3NzM1JVJvYmJ5LlNpbXBzb25AR0UuY29tPiA8NTNCRDZGNzUuODAzMDYwOEBiZXJrZWxleS5lZHU+IDxDQUEyaURpRERkZTNBWXMza1ZYUldLM0c4TVJjU1lTb1FNMEhmUitZenJ1TGZHak1iRlFAbWFpbC5nbWFpbC5jb20+IDxDQUFnVnpkalZLR1MrLVVxOEx1S0JWanNCNWtWRFVqRHR5Tnh2V2c3SFAzdzBGblloNlFAbWFpbC5nbWFpbC5jb20+"},"prevInTopic":19684,"nextInTopic":19686,"prevInTime":19684,"nextInTime":19686,"topicId":19657,"numMessagesInTopic":36,"msgSnippet":"From a design perspective, I prefer a conditional PUT as well. Unfortunately, latency is a major issue with wireless lighting (i.e., users do not want to","rawEmail":"Return-Path: &lt;robby.simpson@...&gt;\r\nX-Sender: robby.simpson@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 34620 invoked by uid 102); 9 Jul 2014 19:19:23 -0000\r\nX-Received: from unknown (HELO mtaq6.grp.bf1.yahoo.com) (10.193.84.37)\n  by m1.grp.bf1.yahoo.com with SMTP; 9 Jul 2014 19:19:23 -0000\r\nX-Received: (qmail 6533 invoked from network); 9 Jul 2014 19:19:23 -0000\r\nX-Received: from unknown (HELO mx0a-00176a03.pphosted.com) (67.231.149.52)\n  by mtaq6.grp.bf1.yahoo.com with SMTP; 9 Jul 2014 19:19:23 -0000\r\nX-Received: from pps.filterd (m0047961.ppops.net [127.0.0.1])\n\tby m0047961.ppops.net-00176a03. (8.14.7/8.14.7) with SMTP id s69JGMic010145\n\tfor &lt;rest-discuss@yahoogroups.com&gt;; Wed, 9 Jul 2014 15:19:23 -0400\r\nX-Received: from cinmlip14.e2k.ad.ge.com (n165-156-000-000.static.ge.com [165.156.4.1] (may be forged))\n\tby m0047961.ppops.net-00176a03. with ESMTP id 1n1bqcg0mu-1\n\t(version=TLSv1/SSLv3 cipher=RC4-SHA bits=128 verify=NOT)\n\tfor &lt;rest-discuss@yahoogroups.com&gt;; Wed, 09 Jul 2014 15:19:22 -0400\r\nX-Received: from unknown (HELO CINMBHT03.e2k.ad.ge.com) ([3.159.212.196])\n  by cinmlip14.e2k.ad.ge.com with ESMTP/TLS/AES128-SHA; 09 Jul 2014 17:19:37 -0400\r\nX-Received: from CINURAPD07.e2k.ad.ge.com (3.159.212.119) by\n CINMBHT03.e2k.ad.ge.com (3.159.212.196) with Microsoft SMTP Server (TLS) id\n 14.3.174.2; Wed, 9 Jul 2014 15:19:19 -0400\r\nX-Received: from CINURCNA14.e2k.ad.ge.com ([169.254.2.171]) by\n CINURAPD07.e2k.ad.ge.com ([169.254.9.97]) with mapi id 14.03.0174.002; Wed, 9\n Jul 2014 15:19:13 -0400\r\nTo: Dong Liu &lt;edongliu@...&gt;, Will Hartung &lt;willh@...&gt;\r\nCc: Rest List &lt;rest-discuss@yahoogroups.com&gt;\r\nThread-Topic: [rest-discuss] RESTful Toggle\r\nThread-Index: AQHPmvOXHnH2/hNG00O0gdr3ISBy5puYHiEA///BOwCAAEXcAP//vukAgABQx4CAACQVAIAABuuA//+/ggA=\r\nDate: Wed, 9 Jul 2014 19:19:12 +0000\r\nMessage-ID: &lt;CFE30CB0.377C4%Robby.Simpson@...&gt;\r\nReferences: &lt;CFE1DAC9.37648%Robby.Simpson@...&gt;\n &lt;CA+xhAPWQ5iTHvZ-ykBDYGThRwNTY0JT5E2N8WMhXrYityffssQ@...&gt;\n &lt;CFE2D515.3770F%Robby.Simpson@...&gt; &lt;53BD624C.7040306@...&gt;\n &lt;CFE2DAF0.37735%Robby.Simpson@...&gt; &lt;53BD6F75.8030608@...&gt;\n &lt;CAA2iDiDDde3AYs3kVXRWK3G8MRcSYSoQM0HfR+YzruLfGjMbFQ@...&gt;\n &lt;CAAgVzdjVKGS+-Uq8LuKBVjsB5kVDUjDtyNxvWg7HP3w0FnYh6Q@...&gt;\r\nIn-Reply-To: &lt;CAAgVzdjVKGS+-Uq8LuKBVjsB5kVDUjDtyNxvWg7HP3w0FnYh6Q@...&gt;\r\nAccept-Language: en-US\r\nContent-Language: en-US\r\nX-MS-Has-Attach: \r\nX-MS-TNEF-Correlator: \r\nuser-agent: Microsoft-MacOutlook/14.4.3.140616\r\nContent-Type: text/plain; charset=&quot;Windows-1252&quot;\r\nContent-ID: &lt;575BB7EC40254D4BBB0C801A141A40D0@...&gt;\r\nContent-Transfer-Encoding: quoted-printable\r\nMIME-Version: 1.0\r\nX-Proofpoint-Virus-Version: vendor=fsecure engine=2.50.10432:5.12.52,1.0.14,0.0.0000\n definitions=2014-07-09_05:2014-07-09,2014-07-09,1970-01-01 signatures=0\r\nX-Proofpoint-Spam-Details: rule=notspam policy=default score=0 spamscore=0 suspectscore=0 phishscore=0\n adultscore=0 bulkscore=0 classifier=spam adjust=0 reason=mlx scancount=1\n engine=7.0.1-1402240000 definitions=main-1407090235\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nSubject: Re: [rest-discuss] RESTful Toggle\r\nX-Yahoo-Group-Post: member; u=563108510\r\nFrom: &quot;Simpson, Robby (GE Energy Management)&quot; &lt;robby.simpson@...&gt;\r\n\r\nFrom a design perspective, I prefer a conditional PUT as well.\n\nUnfortunate=\r\nly, latency is a major issue with wireless lighting (i.e., users do not wan=\r\nt to notice any delay) and there is a perception that having to have a GET =\r\nbefore a PUT would introduce too much latency.  Especially in scenarios whe=\r\nre there are multiple lights (multicast).\n\n- Robby\n\nFrom: &quot;Dong Liu edongli=\r\nu@...&lt;mailto:edongliu@...&gt; [rest-discuss]&quot; &lt;rest-discuss-norepl=\r\ny@yahoogroups.com&lt;mailto:rest-discuss-noreply@yahoogroups.com&gt;&gt;\nReply-To: D=\r\nong Liu &lt;edongliu@...&lt;mailto:edongliu@...&gt;&gt;\nDate: Wednesday, Ju=\r\nly 9, 2014 at 3:09 PM\nTo: Will Hartung &lt;willh@...&lt;mailto:willh@mi=\r\nrthcorp.com&gt;&gt;\nCc: Rest List &lt;rest-discuss@yahoogroups.com&lt;mailto:rest-discu=\r\nss@yahoogroups.com&gt;&gt;\nSubject: Re: [rest-discuss] RESTful Toggle\n\n\n\nFor a th=\r\nree-way or N-way switch, I prefer a conditional PUT to a POST.\n\nCheers,\n\nDo=\r\nng\n\n\nOn Wed, Jul 9, 2014 at 2:45 PM, Will Hartung willh@...&lt;mailt=\r\no:willh@...&gt; [rest-discuss] &lt;rest-discuss-noreply@yahoogroups.com=\r\n&lt;mailto:rest-discuss-noreply@yahoogroups.com&gt;&gt; wrote:\n\n\nFrom home automatio=\r\nn point of view, I can only think of one use case where &quot;toggle&quot; actually h=\r\nas any validity, and that would be in the &quot;3 way switch&quot; scenario.\n\nA 3 way=\r\n switch is exemplified by walking up to a dark hallway, turning the light o=\r\nn with a nearby swtich, walking to the end, and then turning the light off =\r\nwith a switch at the other end.\n\nThis use case is a true &quot;toggle&quot;, since th=\r\ne &quot;state&quot; is the actual light (on or off), and the switch itself does not r=\r\nepresent that state (unlike a normal, single switch). The switches can be &quot;=\r\nup&quot; or &quot;down&quot; unrelated to the light being &quot;on&quot; or &quot;off&quot;.\n\nGiven that, agai=\r\nn from a home automation point of view, I can&#39;t really ever see &quot;toggle&quot; as=\r\n a viable action. Maybe it&#39;s a primitive. But, in the end, when you walk in=\r\n to that dark hallway, what you want is the light to go on, the mechanics o=\r\nf the switches are secondary.\n\nI just mention this because at a high level,=\r\n &quot;toggle&quot; doesn&#39;t make much sense to me. The automation folks may well need=\r\n it as a primitive to control a switch. But at the &quot;application&quot; level, it =\r\ndoesn&#39;t make much sense. At an application level, you either want the &quot;Ligh=\r\nt&quot; ON or OFF.\n\nSo, with that consideration, a simple POST will do the trick=\r\n.\n\nI don&#39;t think there&#39;s any &quot;race condition&quot;, because &quot;toggle&quot; is not a st=\r\nate, it&#39;s an action. If you care about the state, then set the state you wa=\r\nnt. You should hide the &quot;toggle&quot;, and enforce the state behind the scenes (=\r\nwhere you can manage race conditions on the server). Let the server decide =\r\nthat when you change the state to ON, it can determine, internally, if the =\r\ndevice is OFF and then send a TOGGLE command to make it ON. If it&#39;s already=\r\n ON, then nothing happens.\n\nBut a &quot;toggle&quot; POST is just that, a simple comm=\r\nand.\n\nRegards,\n\nWill Hartung\n(willh@...&lt;mailto:willh@...=\r\nm&gt;)\n\n\n\n\nOn Wed, Jul 9, 2014 at 9:36 AM, Erik Wilde dret@...&lt;mailto=\r\n:dret@...&gt; [rest-discuss] &lt;rest-discuss-noreply@yahoogroups.com&lt;ma=\r\nilto:rest-discuss-noreply@yahoogroups.com&gt;&gt; wrote:\n\n\nhello robby.\n\nOn 2014-=\r\n07-09, 17:47 , &#39;Simpson, Robby (GE Energy Management)&#39;\n\nrobby.simpson@...=\r\nm&lt;mailto:robby.simpson@...&gt; [rest-discuss] wrote:\n&gt;&gt; it sounds like the =\r\nscenario we were talking about, that all you want is\n&gt;&gt; to tell the resourc=\r\ne to &quot;reverse its state&quot;. in this case, i&#39;d POST a\n&gt;&gt; body that represents =\r\nthis request, in whatever serialization you happen\n&gt;&gt; to prefer. the resour=\r\nce toggles. everybody&#39;s happy.\n&gt; OK. Still seems like a bit of a departure =\r\nfrom typical RESTful interfaces\n&gt; I&#39;ve seen and has the potential to be a c=\r\natch-all tunnel for RPC-style\n&gt; requests.\n&gt; E.g.:\n&gt; /command, where one cou=\r\nld POST all sorts of commands like &quot;toggle.&quot;\n\nthe problem is not that POST =\r\ncan mean anything (it can), but people\nPOSTing things to a &quot;do stuff&quot; resou=\r\nrce, which then isn&#39;t\nresource-oriented anymore. your RPC sensor shouldn&#39;t =\r\ngo off because of\npeople POSTing things to resources (that&#39;s fine), but bec=\r\nause of people\nPOSTing things to something other than resources (the &quot;API e=\r\nnd point&quot;,\nfor example).\n\n\n&gt;&gt; but i am confused because you wrote earlier t=\r\nhat you were concerned\n&gt;&gt; about race conditions. which seems to imply that =\r\ninstead of just\n&gt;&gt; toggling, you&#39;re also assuming that you&#39;re &quot;toggling *fr=\r\nom* some state&quot;.\n&gt;&gt; but that wouldn&#39;t be the &quot;blind toggle&quot; we discussed. c=\r\nould you clarify\n&gt;&gt; a bit how exactly the operation that you&#39;re trying to d=\r\nesign is defined?\n&gt; Apologies, a blind toggle is what is desired. As it cur=\r\nrently works, in\n&gt; the current binary protocol, a button press on a toggle =\r\nswitch simply\n&gt; sends a &quot;toggle&quot; command.\n\nthen how would a race condition =\r\nenter the picture? just because of the\ntimestamp when you last observed the=\r\n resource&#39;s state? or something\nelse? to me, toggling always is kind of a g=\r\name: if somebody toggled\nahead of you, you&#39;ll do something other than you w=\r\nanted to, but that&#39;s\nhow it is and you&#39;ll have to deal with it after toggli=\r\nng and finding out\nthat you switched the damn thing back on again...\n\n\nchee=\r\nrs,\n\ndret.\n\n--\nerik wilde | mailto:dret@...&lt;mailto:dret@berkeley.e=\r\ndu&gt; - tel:+1-510-2061079&lt;tel:%2B1-510-2061079&gt; |\n| UC Berkeley - School of =\r\nInformation (ISchool) |\n| http://dret.net/netdret http://twitter.com/dret |=\r\n\n\n\nCONFIDENTIALITY NOTICE: The information contained in this electronic tra=\r\nnsmission may be confidential. If you are not an intended recipient, be awa=\r\nre that any disclosure, copying, distribution or use of the information con=\r\ntained in this transmission is prohibited and may be unlawful. If you have =\r\nreceived this transmission in error, please notify us by email reply and th=\r\nen erase it from your computer system.\n\n\n\n\n"}}
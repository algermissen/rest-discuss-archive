{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":429395558,"authorName":"Robert Brewer","from":"&quot;Robert Brewer&quot; &lt;fumanchu@...&gt;","profile":"aminusfu","replyTo":"SENDER","senderId":"kEN7e-WgTEQa_wwIUzw8g7Rhf4WL9A3awZtt4EviVjDEBOb_sTdq_4vB7v8F9lrH6IRFrh6zKh1OTcw96BiteLEAD_e0hYlSLBDsYA","spamInfo":{"isSpam":false,"reason":"12"},"subject":"RE: [rest-discuss] Deigning representations of collections and references","postDate":"1264647115","msgId":14692,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PEYxOTYyNjQ2RDNCNjQ2NDJCN0M5QTA2MDY4RUUxRTY0MEJDN0Q0MzNAZXgxMC5ob3N0ZWRleGNoYW5nZS5sb2NhbD4=","inReplyToHeader":"PGhqcWNrNStidjc1QGVHcm91cHMuY29tPg==","referencesHeader":"PGhqcWNrNStidjc1QGVHcm91cHMuY29tPg=="},"prevInTopic":14691,"nextInTopic":14693,"prevInTime":14691,"nextInTime":14693,"topicId":14691,"numMessagesInTopic":15,"msgSnippet":"... Another issue to keep in mind is cache invalidation. When you duplicate information like Account attributes in the collection resource, you must invalidate","rawEmail":"Return-Path: &lt;fumanchu@...&gt;\r\nX-Sender: fumanchu@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 57543 invoked from network); 28 Jan 2010 02:51:10 -0000\r\nX-Received: from unknown (98.137.34.45)\n  by m3.grp.sp2.yahoo.com with QMQP; 28 Jan 2010 02:51:10 -0000\r\nX-Received: from unknown (HELO ex14.myhostedexchange.com) (69.50.2.20)\n  by mta2.grp.sp2.yahoo.com with SMTP; 28 Jan 2010 02:51:10 -0000\r\nX-Received: from ex10.myhostedexchange.com ([69.50.2.20]) by ex14.myhostedexchange.com with Microsoft SMTPSVC(6.0.3790.3959);\n\t Wed, 27 Jan 2010 18:51:09 -0800\r\nX-MimeOLE: Produced By Microsoft Exchange V6.5\r\nContent-class: urn:content-classes:message\r\nMIME-Version: 1.0\r\nContent-Type: text/plain;\n\tcharset=&quot;iso-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nDate: Wed, 27 Jan 2010 18:51:55 -0800\r\nMessage-ID: &lt;F1962646D3B64642B7C9A06068EE1E640BC7D433@...&gt;\r\nIn-Reply-To: &lt;hjqck5+bv75@...&gt;\r\nX-MS-Has-Attach: \r\nX-MS-TNEF-Correlator: \r\nThread-Topic: [rest-discuss] Deigning representations of collections and references\r\nThread-Index: AcqfvXoQaDh25zmvRwqTHFSzrwZukAABaNyg\r\nReferences: &lt;hjqck5+bv75@...&gt;\r\nTo: &quot;piers_lawson&quot; &lt;Piers@...&gt;,\n\t&lt;rest-discuss@yahoogroups.com&gt;\r\nReturn-Path: fumanchu@...\r\nX-OriginalArrivalTime: 28 Jan 2010 02:51:09.0975 (UTC) FILETIME=[BEF71270:01CA9FC4]\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: &quot;Robert Brewer&quot; &lt;fumanchu@...&gt;\r\nSubject: RE: [rest-discuss] Deigning representations of collections and references\r\nX-Yahoo-Group-Post: member; u=429395558; y=GXi6igI0CrXN2WD7bdFFjWVrY1ifLGw3dS3NIpIIzz_3dNs\r\nX-Yahoo-Profile: aminusfu\r\n\r\npiers_lawson wrote:\n&gt; Hi I&#39;ve been looking for advice on how to design the =\r\nrepresentation\n&gt; of a collection of references.\n&gt; Supposing I have Seller r=\r\nesources, a list of which can be accessed\n&gt; at /Sellers, and an individual =\r\nSeller can be accessed at Sellers/{id}.\n&gt; Also, I have Account resources. A=\r\n list of Accounts linked to a Seller\n&gt; can be accessed at /Sellers/{id}/Acc=\r\nounts. An individual account can\n&gt; be found at /Sellers/{id1}/Accounts/{id2=\r\n}\n&gt; Just for now, let&#39;s assume I want an XML representation. \n&gt; \n&gt; GET /Sel=\r\nlers/{id1}/Accounts/{id2} could return:\n&gt; &lt;Account id=3D{id2} uri=3D&quot;/Selle=\r\nrs/{id1}/Accounts/{id2}&quot; attr1=3D&quot;abc&quot;\n&gt; attr2=3D&quot;xyz&quot; /&gt;\n&gt; \n&gt; GET /Sellers=\r\n/{id1}/Accounts could return:\n&gt; &lt;Accounts uri=3D&quot;/Sellers/{id1}/Accounts&quot;&gt;\n=\r\n&gt; =A0=A0 &lt;Account id=3D{id2} uri=3D&quot;/Sellers/{id1}/Accounts/{id2}&quot;\n&gt; attr1=\r\n=3D&quot;abc&quot; attr2=3D&quot;xyz&quot; /&gt;\n&gt; =A0=A0 &lt;Account id=3D{id4} uri=3D&quot;/Sellers/{id1=\r\n}/Accounts/{id4}&quot;\n&gt; attr1=3D&quot;efg&quot; attr2=3D&quot;uvw&quot; /&gt;\n&gt; &lt;/Accounts&gt;\n\nAnother i=\r\nssue to keep in mind is cache invalidation. When you duplicate information =\r\nlike Account attributes in the collection resource, you must invalidate the=\r\n collection every time you invalidate each contained resource.\n\n&gt; And becau=\r\nse I&#39;m being pragmatic and know my clients are usually\n&gt; interested in Acco=\r\nunts when dealing with a seller... \n&gt; GET /Sellers/{id1} could return:\n&gt; &lt;S=\r\neller id=3D{id1} uri=3D&quot;/Sellers/{id1}&quot; attrA=3D&quot;mno&quot; attrB=3D&quot;pqr&quot;&gt;\n&gt; =A0=\r\n=A0 =A0&lt;Accounts uri=3D&quot;/Sellers/{id1}/Accounts&quot;&gt;\n&gt; =A0=A0 =A0=A0=A0&lt;Accoun=\r\nt id=3D{id2} uri=3D&quot;/Sellers/{id1}/Accounts/{id2}&quot;\n&gt; attr1=3D&quot;abc&quot; attr2=3D=\r\n&quot;xyz&quot; /&gt;\n&gt; =A0=A0 =A0=A0=A0&lt;Account id=3D{id4} uri=3D&quot;/Sellers/{id1}/Accoun=\r\nts/{id4}&quot;\n&gt; attr1=3D&quot;efg&quot; attr2=3D&quot;uvw&quot; /&gt;\n&gt; =A0=A0 &lt;/Accounts&gt;\n&gt; &lt;/Seller&gt;=\r\n\n\nExponentially ditto here. HTTP is optimized for large-grain resources, bu=\r\nt a large part of that depends on caching.\n\n&gt; This works fine to my mind so=\r\n long as the Account representation\n&gt; is not too complex (or more important=\r\nly, large)... but what if it\n&gt; was? What if an individual Account was so bi=\r\ng it was inefficient\n&gt; to return all its information when listing it (eithe=\r\nr as a\n&gt; standalone Accounts element from /Sellers/{id1}/Accounts\n\nThen you=\r\n should break it up into smaller resources, like /Accounts/{id2}/address/, =\r\nand include links to those sub-resources in the response to /Accounts/{id2}=\r\n/\n\n&gt; or a child element of Seller returned from /Sellers/{id1})?\n\nAnother g=\r\nood reason not to duplicate information from elements to their containers.\n=\r\n\n&gt; ...\n&gt; Also, if I wanted to write a schema describing the XML\n&gt; I could h=\r\nave different definitions for the full\n&gt; &quot;representation&quot; of an Account res=\r\nource and that of a\n&gt; reference to an Account. However, this approach makes=\r\n\n&gt; the creation of a new Account more complex, as I in\n&gt; theory should PUT =\r\nan Account somewhere (but nothing in\n&gt; the list representation tells me whe=\r\nre)...\n\nIf instead of a new &lt;AccountRef&gt; class you just included a normal o=\r\nl&#39; URI, then that would be an exact reference to the full representation. Y=\r\nou can also include a URI (or URI template) that tells you where to PUT a n=\r\new Account.\n\n\nRobert Brewer\nfumanchu@...\n\n"}}
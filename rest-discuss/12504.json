{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":148737865,"authorName":"Hugh Winkler","from":"Hugh Winkler &lt;hughw@...&gt;","profile":"hwinkler99","replyTo":"SENDER","senderId":"JOKPg-RfVgE0UaFg81gO51pOH5ckmseqHiTPbXFwnGtDzWK1IL_Pb_doo8TsmvblCdY0u5TQ-R3Bs7VvWMUtiwWtWFP2","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [rest-discuss] Virus checker API ideas","postDate":"1240789694","msgId":12504,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDkyNzQ0MWIzMDkwNDI2MTY0OGo2YjViNDEzYmdlNWQ2MzQ3MjYyMjQxYjA0QG1haWwuZ21haWwuY29tPg==","inReplyToHeader":"PGI1NDhkZjY1MDkwNDI2MTU1M21hOTVjYjkwcWRhZGY1ZjZlYTczMTYwMGNAbWFpbC5nbWFpbC5jb20+","referencesHeader":"PGdzdGhqcCtwNzA2QGVHcm91cHMuY29tPgkgPDkyNzQ0MWIzMDkwNDI2MTIwM3M2ODk4NjFkZHBhZDczNmQ1MTJmZTgyOTQwQG1haWwuZ21haWwuY29tPgkgPGI1NDhkZjY1MDkwNDI2MTU1M21hOTVjYjkwcWRhZGY1ZjZlYTczMTYwMGNAbWFpbC5nbWFpbC5jb20+"},"prevInTopic":12503,"nextInTopic":0,"prevInTime":12503,"nextInTime":12505,"topicId":12482,"numMessagesInTopic":7,"msgSnippet":"... But a browser won t follow that Location header. At a minimum you d want to return hypertext in the response with a link to that status URI. And maybe","rawEmail":"Return-Path: &lt;hwinkler@...&gt;\r\nX-Sender: hwinkler@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 27833 invoked from network); 26 Apr 2009 23:48:38 -0000\r\nX-Received: from unknown (98.137.34.44)\n  by m2.grp.sp2.yahoo.com with QMQP; 26 Apr 2009 23:48:38 -0000\r\nX-Received: from unknown (HELO an-out-0708.google.com) (209.85.132.241)\n  by mta1.grp.sp2.yahoo.com with SMTP; 26 Apr 2009 23:48:38 -0000\r\nX-Received: by an-out-0708.google.com with SMTP id c37so1220222anc.24\n        for &lt;rest-discuss@yahoogroups.com&gt;; Sun, 26 Apr 2009 16:48:15 -0700 (PDT)\r\nMIME-Version: 1.0\r\nX-Received: by 10.100.197.3 with SMTP id u3mr7600824anf.20.1240789694848; Sun, \n\t26 Apr 2009 16:48:14 -0700 (PDT)\r\nIn-Reply-To: &lt;b548df650904261553ma95cb90qdadf5f6ea731600c@...&gt;\r\nReferences: &lt;gsthjp+p706@...&gt;\n\t &lt;927441b30904261203s689861ddpad736d512fe82940@...&gt;\n\t &lt;b548df650904261553ma95cb90qdadf5f6ea731600c@...&gt;\r\nDate: Sun, 26 Apr 2009 18:48:14 -0500\r\nX-Google-Sender-Auth: 5447244381f26ce0\r\nMessage-ID: &lt;927441b30904261648j6b5b413bge5d6347262241b04@...&gt;\r\nTo: mike amundsen &lt;mamund@...&gt;\r\nCc: rest-discuss@yahoogroups.com\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Transfer-Encoding: quoted-printable\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Hugh Winkler &lt;hughw@...&gt;\r\nSubject: Re: [rest-discuss] Virus checker API ideas\r\nX-Yahoo-Group-Post: member; u=148737865; y=Fz6dmTc9XB3_KCDuGxrpHqEMN8oZ6nsU20MQonqc5Du8Zt3OAA\r\nX-Yahoo-Profile: hwinkler99\r\n\r\nOn Sun, Apr 26, 2009 at 5:53 PM, mike amundsen &lt;mamund@...&gt; wrote:\n&gt;\n=\r\n&gt;\n&gt; A common pattern is to post the file for virus check (either by passing=\r\n the\n&gt; URI of the file or by passing the file as a payload) and return 200 =\r\nw/ a\n&gt; Location that points to the resource that represents the state of th=\r\ne virus\n&gt; check for this particular file.\n&gt;\n&gt; *** request\n&gt; POST /vcheck/\n&gt;=\r\n Content-Type: multipart/form-data\n&gt; Length: XXXX\n&gt; ... binary payload here=\r\n\n&gt;\n&gt; &#39;** response\n&gt; HTTP/1.1 200 OK\n&gt; Location: /vcheck/file01\n&gt;\n\nBut a bro=\r\nwser won&#39;t follow that Location header. At a minimum you&#39;d\nwant to return h=\r\nypertext in the response with a link to that status\nURI. And maybe instead =\r\nof 200, 202 would be better, to indicate\nasynchronicity. And in that case y=\r\nou come back to the logic I outlined\n:) where I suggest 303 rather than 202=\r\n.\n\n\n&gt; The actual representation of the resource at the /vcheck/file01 URI c=\r\nan\n&gt; change over time. For example, when first visited the resource might r=\r\neturn\n&gt; a simple message: &quot;Job in queue awaiting processing.&quot; After a while=\r\n,\n&gt; (re)visiting this URI could return a progress message (&quot;50% completed&quot;)=\r\n and\n&gt; finally a detailed report on the results of the virus scan. Another =\r\noption\n&gt; would be to offer a response animated by client-side scripts that =\r\nshow a\n&gt; progress bar, dancing bears, etc.\n&gt;\n&gt; The advantage of this approa=\r\nch is that the client can submit several files\n&gt; for processing without wai=\r\nting for the results of any single file before\n&gt; submitting the next one. A=\r\nlso the results of the scan will be available\n&gt; later for clients that must=\r\n disconnect before the scan is complete or\n&gt; clients that want to re-vist t=\r\nhe history of the file scanning including\n&gt; search bots that collect the re=\r\nsults to help un-related clients view the\n&gt; virus scans of commonly used fi=\r\nles.\n\nAlso the status/result page is cacheable, whether you come to it by\nc=\r\nlicking a hyperlink or by a 303 redirect.\n\n&gt;\n&gt; mca\n&gt; http://amundsen.com/bl=\r\nog/\n&gt;\n&gt; On Sun, Apr 26, 2009 at 15:03, Hugh Winkler &lt;hughw@...&gt; wrote=\r\n:\n&gt;&gt;\n&gt;&gt; On Fri, Apr 24, 2009 at 6:22 PM, Mark Waddle &lt;mark@...&gt; =\r\nwrote:\n&gt;&gt; &gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt; Hello,\n&gt;&gt; &gt;\n&gt;&gt; &gt; I am quite new to REST, but I am ver=\r\ny intrigued by it and seriously\n&gt;&gt; &gt; considering utilizing it as architectu=\r\nral guidelines for my future\n&gt;&gt; &gt; enterprise solutions. Our current service=\r\n architecture is all SOAP. My\n&gt;&gt; &gt; peers\n&gt;&gt; &gt; posed a question about how a =\r\nSOAP API would map to REST. I believe I\n&gt;&gt; &gt; have a\n&gt;&gt; &gt; good solution for =\r\nit, but I would like your guys&#39; opinions.\n&gt;&gt; &gt;\n&gt;&gt; &gt; SOAP API:\n&gt;&gt; &gt; =A0 bool=\r\n IsVirusFree(byte[] documentBytes)\n&gt;&gt; &gt;\n&gt;&gt; &gt; =A0 Hopefully it is obvious th=\r\nat this is a method that checks the document\n&gt;&gt; &gt; for\n&gt;&gt; &gt; viruses and retu=\r\nrns true/false. I understand that the representation you\n&gt;&gt; &gt; POST/PUT shou=\r\nld be the same you GET, but obviously I don&#39;t want the\n&gt;&gt; &gt; document\n&gt;&gt; &gt; b=\r\nack, just whether or not the document is virus free or not. The\n&gt;&gt; &gt; follow=\r\ning\n&gt;&gt; &gt; is my idea on how it could be implemented using REST.\n&gt;&gt; &gt;\n&gt;&gt; &gt; RE=\r\nST conversation:\n&gt;&gt; &gt; =A0 Request:=A0=A0=A0 POST /document/\n&gt;&gt; &gt; =A0 Respon=\r\nse:=A0=A0 Status 201\n&gt;&gt; &gt; =A0=A0=A0=A0=A0=A0=A0=A0=A0=A0=A0=A0=A0 Location:=\r\n /document/[random_file_name]\n&gt;&gt; &gt; =A0 Request:=A0=A0=A0 POST /viruscheckre=\r\nquest\n&gt;&gt; &gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt; &lt;virusCheckRequest&gt;&lt;documentUri&gt;/document/[random_file=\r\n_name]&lt;/documentUri&gt;&lt;status/&gt;&lt;isVirusFree/&gt;&lt;/virusCheckRequest&gt;\n&gt;&gt; &gt; =A0 Re=\r\nsponse:=A0=A0 Status 201\n&gt;&gt; &gt; =A0=A0=A0=A0=A0=A0=A0=A0=A0=A0=A0=A0=A0 Locat=\r\nion: /viruscheckrequest/[id]\n&gt;&gt; &gt; =A0 Request:=A0=A0=A0 GET /viruscheckrequ=\r\nest/[id]\n&gt;&gt; &gt; =A0 Response:=A0=A0 Status 200\n&gt;&gt; &gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt; &lt;virusCheckRequ=\r\nest&gt;&lt;documentUri&gt;/document/[random_file_name]&lt;/documentUri&gt;&lt;status&gt;pending&lt;=\r\n/status&gt;&lt;isVirusFree&gt;unknown&lt;/isVirusFree&gt;&lt;/virusCheckRequest&gt;\n&gt;&gt; &gt; =A0 Req=\r\nuest:=A0=A0=A0 GET /viruscheckrequest/[id]\n&gt;&gt; &gt; =A0 Response:=A0=A0 Status =\r\n200\n&gt;&gt; &gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt; &lt;virusCheckRequest&gt;&lt;documentUri&gt;/document/[random_file_n=\r\name]&lt;/documentUri&gt;&lt;status&gt;complete&lt;/status&gt;&lt;isVirusFree&gt;true&lt;/isVirusFree&gt;&lt;=\r\n/virusCheckRequest&gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt; // Would it be OK if when the check completes=\r\n that it automatically\n&gt;&gt; &gt; // DELETEs the document resource? Should that b=\r\ne a boolean element in\n&gt;&gt; &gt; // the virusCheckRequest?\n&gt;&gt; &gt;\n&gt;&gt; &gt; I also thou=\r\nght about this alternative:\n&gt;&gt; &gt;\n&gt;&gt; &gt; REST conversation:\n&gt;&gt; &gt; =A0 Request:=\r\n=A0=A0=A0 POST /document/\n&gt;&gt; &gt; =A0 Response:=A0=A0 Status 201\n&gt;&gt; &gt; =A0=A0=\r\n=A0=A0=A0=A0=A0=A0=A0=A0=A0=A0=A0 Location: /document/[random_file_name]\n&gt;&gt;=\r\n &gt; =A0=A0=A0=A0=A0=A0=A0=A0=A0=A0=A0=A0=A0 &lt;link rel=3D&quot;virusCheck&quot;\n&gt;&gt; &gt; hr=\r\nef=3D&quot;/document/[random_file_name]/viruscheck&quot; /&gt;\n&gt;&gt; &gt; // Is it a rule that=\r\n POSTs must return the new resource if it returns\n&gt;&gt; &gt; // anything in the b=\r\nody? It would be good to return the virusCheck\n&gt;&gt; &gt; // link in the response=\r\n for HATEOS, but I don&#39;t want the whole\n&gt;&gt; &gt; // document back.\n&gt;&gt; &gt; =A0 Req=\r\nuest:=A0=A0=A0 GET /document/[random_file_name]/virusCheck\n&gt;&gt; &gt; =A0 Respons=\r\ne:=A0=A0 Status 200\n&gt;&gt; &gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt; &lt;virusCheck&gt;&lt;status&gt;pending&lt;/status&gt;&lt;isV=\r\nirusFree&gt;unknown&lt;/isVirusFree&gt;&lt;/virusCheck&gt;\n&gt;&gt; &gt; =A0 Request:=A0=A0=A0 GET =\r\n/document/[random_file_name]/virusCheck\n&gt;&gt; &gt; =A0 Response:=A0=A0 Status 200=\r\n\n&gt;&gt; &gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt; &lt;virusCheck&gt;&lt;status&gt;complete&lt;/status&gt;&lt;isVirusFree&gt;true&lt;/isV=\r\nirusFree&gt;&lt;/virusCheck&gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt; What I like about the first alternative is=\r\n that it allows for submitting\n&gt;&gt; &gt; any\n&gt;&gt; &gt; URI to the virus checker, assu=\r\nming it can access it. What I like about\n&gt;&gt; &gt; the\n&gt;&gt; &gt; second alternative i=\r\ns that it seems more streamlined and discoverable.\n&gt;&gt; &gt; You&#39;ll notice that =\r\nI also have a couple of questions inline. Any\n&gt;&gt; &gt; thoughts?\n&gt;&gt; &gt;\n&gt;&gt; &gt; Than=\r\nks,\n&gt;&gt; &gt; Mark\n&gt;&gt; &gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt;\n&gt;&gt;\n&gt;&gt; If you&#39;re OK with alternative 2, =A0cons=\r\nider doing it like this:\n&gt;&gt;\n&gt;&gt; http://hughw.blogspot.com/2008/06/asynchrono=\r\nus-http-post.html\n&gt;&gt;\n&gt;&gt; in which client POSTs the document, and server redi=\r\nrects to URI of the\n&gt;&gt; virus check report , which itself returns 202 in res=\r\nponse to GET until\n&gt;&gt; it is finally finished, when it finally returns 200. =\r\nThis technique is\n&gt;&gt; a little stretch on most people&#39;s interpretation of 20=\r\n2 because you\n&gt;&gt; usually see that in response to POST, not GET. =A0But it w=\r\norks great,\n&gt;&gt; because browsers just treat 202 like 200, and &quot;202 aware&quot; cl=\r\nients can\n&gt;&gt; know to &quot;try again later&quot;.\n&gt;&gt;\n&gt;&gt; Hugh\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; ---------------=\r\n---------------------\n&gt;&gt;\n&gt;&gt; Yahoo! Groups Links\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;\n&gt;\n&gt;\n&gt; \n\n"}}
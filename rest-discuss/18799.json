{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":429395558,"authorName":"Robert Brewer","from":"&quot;Robert Brewer&quot; &lt;fumanchu@...&gt;","profile":"aminusfu","replyTo":"SENDER","senderId":"eutIJ9x4e2NVI_7C8jUH6FV9HVfQU34AwtOH3nB7AEmN2HCuwvU7dcsepB0ZMYvUOxsFv6hNigkMhODAXi4bIrCZAJWTNnPpTFbQgg","spamInfo":{"isSpam":false,"reason":"12"},"subject":"RE: [rest-discuss] 409 or 412 (or something else? for optimistic locking violation)","postDate":"1334539068","msgId":18799,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PEYxOTYyNjQ2RDNCNjQ2NDJCN0M5QTA2MDY4RUUxRTY0MTUxMzRGN0FAZXgxMC5ob3N0ZWRleGNoYW5nZS5sb2NhbD4=","inReplyToHeader":"PGptZXRlZytmamVwQGVHcm91cHMuY29tPg==","referencesHeader":"PGptZXRlZytmamVwQGVHcm91cHMuY29tPg=="},"prevInTopic":18795,"nextInTopic":18802,"prevInTime":18798,"nextInTime":18800,"topicId":18795,"numMessagesInTopic":3,"msgSnippet":"... That s a good question. I think the *sense* of the spec is that, if the client sends an If-Match that doesn t match the current state of the resource, the","rawEmail":"Return-Path: &lt;fumanchu@...&gt;\r\nX-Sender: fumanchu@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 75709 invoked from network); 16 Apr 2012 01:17:47 -0000\r\nX-Received: from unknown (98.137.35.161)\n  by m9.grp.sp2.yahoo.com with QMQP; 16 Apr 2012 01:17:47 -0000\r\nX-Received: from unknown (HELO bh1.myhostedexchange.com) (69.50.2.84)\n  by mta5.grp.sp2.yahoo.com with SMTP; 16 Apr 2012 01:17:47 -0000\r\nX-Received: from ex10.myhostedexchange.com ([69.50.2.84]) by bh1.myhostedexchange.com with Microsoft SMTPSVC(6.0.3790.4675);\n\t Sun, 15 Apr 2012 18:17:46 -0700\r\nX-MimeOLE: Produced By Microsoft Exchange V6.5\r\nContent-class: urn:content-classes:message\r\nMIME-Version: 1.0\r\nContent-Type: text/plain;\n\tcharset=&quot;us-ascii&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nDate: Sun, 15 Apr 2012 18:17:48 -0700\r\nMessage-ID: &lt;F1962646D3B64642B7C9A06068EE1E6415134F7A@...&gt;\r\nIn-Reply-To: &lt;jmeteg+fjep@...&gt;\r\nX-MS-Has-Attach: \r\nX-MS-TNEF-Correlator: \r\nThread-Topic: [rest-discuss] 409 or 412 (or something else? for optimistic locking violation)\r\nThread-Index: Ac0bJe+6FGeg36kWSq2Razw8Mxey8QAROzJQ\r\nReferences: &lt;jmeteg+fjep@...&gt;\r\nTo: &quot;Dan&quot; &lt;dan@...&gt;,\n\t&lt;rest-discuss@yahoogroups.com&gt;\r\nReturn-Path: fumanchu@...\r\nX-OriginalArrivalTime: 16 Apr 2012 01:17:46.0966 (UTC) FILETIME=[BB7F7F60:01CD1B6E]\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: &quot;Robert Brewer&quot; &lt;fumanchu@...&gt;\r\nSubject: RE: [rest-discuss] 409 or 412 (or something else? for optimistic locking violation)\r\nX-Yahoo-Group-Post: member; u=429395558; y=GacoJaZhpL3yX8CqOETCNTugcnplH7rbPM64H2HrUxuDLAo\r\nX-Yahoo-Profile: aminusfu\r\n\r\nDan wrote:\n&gt; If I&#39;m using If-Match with ETag as a way of implementing optim=\r\nistic\n&gt; locking (which I guess is a pretty standard approach), then should =\r\n409\n&gt; or 412 be used to indicate that an optimistic locking problem.\n\nThat&#39;=\r\ns a good question. I think the *sense* of the spec is that, if the\nclient s=\r\nends an If-Match that doesn&#39;t match the current state of the\nresource, the =\r\nserver would always return 412. That seems to be the sense\nof\nhttp://tools.=\r\nietf.org/html/draft-ietf-httpbis-p4-conditional-19#section-\n3.1\n\nHowever, t=\r\nhe actual text states, &quot;If the request would, without the\nIf-Match header f=\r\nield, result in anything other than a 2xx or 412 status\ncode, then the If-M=\r\natch header field MUST be ignored,&quot; which would seem\nto imply from a strict=\r\n reading that if you return 409 when a client\nomits If-Match, you should al=\r\nso return 409 when a client sends it. But\nthat seems to make 412 an un-emit=\r\ntable response, so I doubt that&#39;s the\nintent. One can imagine that paragrap=\r\nh is intended more to address 3xx,\n400, 404, etc., and 409 was included by =\r\ndefault without proper\nconsideration of this corner case. Perhaps something=\r\n to take up with the\nIETF (is httpbis out of last call yet?)\n\n\nRobert Brewe=\r\nr\nfumanchu@...\n\n"}}
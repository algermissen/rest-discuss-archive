{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":331949899,"authorName":"Sebastien Lambla","from":"Sebastien Lambla &lt;seb@...&gt;","profile":"serialseb","replyTo":"SENDER","senderId":"AMWrslPiWmR3LNm_dK0mum1swkgUpPAlssxF9yW5zfaH5CbxgjqdXxBB9LIGo2CQEQ_S2d4UJMG6CdYsJDzjlGwYcGdV0wjlGMzc","spamInfo":{"isSpam":false,"reason":"3"},"subject":"Errors when generating response entity","postDate":"1300392730","msgId":17402,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDNEREQwQkU2NTU4NjlENEVBNTA2NjUyQjM4MDNBRUY2NzJEODQ2RjZAUFJJU00uY2FmZmVpbmUtaXQubmV0Pg=="},"prevInTopic":0,"nextInTopic":17403,"prevInTime":17401,"nextInTime":17403,"topicId":17402,"numMessagesInTopic":2,"msgSnippet":"Hi guys, Here s a small design issues I m not sure how to resolve. Whenever a problem happen when resolving a URI on the server, if that problem happens before","rawEmail":"Return-Path: &lt;seb@...&gt;\r\nX-Sender: seb@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 47781 invoked from network); 17 Mar 2011 20:12:14 -0000\r\nX-Received: from unknown (98.137.34.45)\n  by m4.grp.sp2.yahoo.com with QMQP; 17 Mar 2011 20:12:14 -0000\r\nX-Received: from unknown (HELO prism.caffeine-it.net) (109.169.48.57)\n  by mta2.grp.sp2.yahoo.com with SMTP; 17 Mar 2011 20:12:13 -0000\r\nX-Received: from PRISM.caffeine-it.net ([fe80::35e4:b04c:7dd0:3207]) by\n PRISM.caffeine-it.net ([fe80::35e4:b04c:7dd0:3207%15]) with mapi; Thu, 17 Mar\n 2011 20:12:12 +0000\r\nTo: &quot;rest-discuss@yahoogroups.com&quot; &lt;rest-discuss@yahoogroups.com&gt;\r\nThread-Topic: Errors when generating response entity\r\nThread-Index: Acvk30oQ5KrglyN+TeG8vhX1uujHWA==\r\nDate: Thu, 17 Mar 2011 20:12:10 +0000\r\nMessage-ID: &lt;3DDD0BE655869D4EA506652B3803AEF672D846F6@...-it.net&gt;\r\nAccept-Language: en-GB, en-US\r\nContent-Language: en-US\r\nX-MS-Has-Attach:\r\nX-MS-TNEF-Correlator:\r\nContent-Type: multipart/alternative;\n\tboundary=&quot;_000_3DDD0BE655869D4EA506652B3803AEF672D846F6PRISMcaffeineit_&quot;\r\nMIME-Version: 1.0\r\nX-eGroups-Msg-Info: 2:3:4:0:0\r\nFrom: Sebastien Lambla &lt;seb@...&gt;\r\nSubject: Errors when generating response entity\r\nX-Yahoo-Group-Post: member; u=331949899; y=vyRKif1_KRqSepDVZ09NODEynDcxRVfDl_ItGbTAJ8ei7Pae\r\nX-Yahoo-Profile: serialseb\r\n\r\n\r\n--_000_3DDD0BE655869D4EA506652B3803AEF672D846F6PRISMcaffeineit_\r\nContent-Type: text/plain; charset=&quot;us-ascii&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\nHi guys,\n\nHere&#39;s a small design issues I&#39;m not sure how to resolve. Wheneve=\r\nr a problem happen when resolving a URI on the server, if that problem happ=\r\nens before the entity body starts being written back to the client, no prob=\r\nlem, the server can generate an error in whichever way is acceptable for th=\r\ne client. In the case where an entity is already being written down, with a=\r\n 200 already sent, how do you notify the client that you had an error while=\r\n writing it?\n\nI could inject the content of the error in the body, but then=\r\n my response will be considered authoritative. Should I just close the conn=\r\nection abruptly instead? Or something I&#39;ve not thought of?\n\r\n--_000_3DDD0BE655869D4EA506652B3803AEF672D846F6PRISMcaffeineit_\r\nContent-Type: text/html; charset=&quot;us-ascii&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\n&lt;html xmlns:v=3D&quot;urn:schemas-microsoft-com:vml&quot; xmlns:o=3D&quot;urn:schemas-micr=\r\nosoft-com:office:office&quot; xmlns:w=3D&quot;urn:schemas-microsoft-com:office:word&quot; =\r\nxmlns:m=3D&quot;http://schemas.microsoft.com/office/2004/12/omml&quot; xmlns=3D&quot;http:=\r\n//www.w3.org/TR/REC-html40&quot;&gt;&lt;head&gt;&lt;META HTTP-EQUIV=3D&quot;Content-Type&quot; CONTENT=\r\n=3D&quot;text/html; charset=3Dus-ascii&quot;&gt;&lt;meta name=3DGenerator content=3D&quot;Micros=\r\noft Word 14 (filtered medium)&quot;&gt;&lt;style&gt;&lt;!--\n/* Font Definitions */\n@font-fac=\r\ne\n\t{font-family:Calibri;\n\tpanose-1:2 15 5 2 2 2 4 3 2 4;}\n/* Style Definiti=\r\nons */\np.MsoNormal, li.MsoNormal, div.MsoNormal\n\t{margin:0cm;\n\tmargin-botto=\r\nm:.0001pt;\n\tfont-size:11.0pt;\n\tfont-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;\n\tmso-far=\r\neast-language:EN-US;}\na:link, span.MsoHyperlink\n\t{mso-style-priority:99;\n\tc=\r\nolor:blue;\n\ttext-decoration:underline;}\na:visited, span.MsoHyperlinkFollowe=\r\nd\n\t{mso-style-priority:99;\n\tcolor:purple;\n\ttext-decoration:underline;}\nspan=\r\n.EmailStyle17\n\t{mso-style-type:personal-compose;\n\tfont-family:&quot;Calibri&quot;,&quot;sa=\r\nns-serif&quot;;\n\tcolor:windowtext;}\n.MsoChpDefault\n\t{mso-style-type:export-only;=\r\n\n\tfont-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;\n\tmso-fareast-language:EN-US;}\n@page W=\r\nordSection1\n\t{size:612.0pt 792.0pt;\n\tmargin:72.0pt 72.0pt 72.0pt 72.0pt;}\nd=\r\niv.WordSection1\n\t{page:WordSection1;}\n--&gt;&lt;/style&gt;&lt;!--[if gte mso 9]&gt;&lt;xml&gt;\n&lt;=\r\no:shapedefaults v:ext=3D&quot;edit&quot; spidmax=3D&quot;1026&quot; /&gt;\n&lt;/xml&gt;&lt;![endif]--&gt;&lt;!--[i=\r\nf gte mso 9]&gt;&lt;xml&gt;\n&lt;o:shapelayout v:ext=3D&quot;edit&quot;&gt;\n&lt;o:idmap v:ext=3D&quot;edit&quot; d=\r\nata=3D&quot;1&quot; /&gt;\n&lt;/o:shapelayout&gt;&lt;/xml&gt;&lt;![endif]--&gt;&lt;/head&gt;&lt;body lang=3DEN-GB li=\r\nnk=3Dblue vlink=3Dpurple&gt;&lt;div class=3DWordSection1&gt;&lt;p class=3DMsoNormal&gt;Hi =\r\nguys,&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p class=3DMsoNormal&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;&lt;p class=3DMs=\r\noNormal&gt;Here&#8217;s a small design issues I&#8217;m not sure how to resolv=\r\ne. Whenever a problem happen when resolving a URI on the server, if that pr=\r\noblem happens before the entity body starts being written back to the clien=\r\nt, no problem, the server can generate an error in whichever way is accepta=\r\nble for the client. In the case where an entity is already being written do=\r\nwn, with a 200 already sent, how do you notify the client that you had an e=\r\nrror while writing it?&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p class=3DMsoNormal&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;=\r\n&lt;/p&gt;&lt;p class=3DMsoNormal&gt;I could inject the content of the error in the bod=\r\ny, but then my response will be considered authoritative. Should I just clo=\r\nse the connection abruptly instead? Or something I&#8217;ve not thought of?=\r\n &lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;\r\n--_000_3DDD0BE655869D4EA506652B3803AEF672D846F6PRISMcaffeineit_--\r\n\n"}}
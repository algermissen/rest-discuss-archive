{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":498432483,"authorName":"Jan Algermissen","from":"Jan Algermissen &lt;jan.algermissen@...&gt;","profile":"algermissen1971","replyTo":"SENDER","senderId":"zOS8Di4bOE1soFWCpc6WEZEIogHxcrpn-CPz3e8Ce2CTtHZ4mSAShWLvlYbK2tkZHjfrWGPKMAmTIiSgCHGEQ6kYjHUN5xBA0X9Qg-zr95e3rWk","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [rest-discuss] Dealing with errors during asynchronous resource creation","postDate":"1315839731","msgId":17761,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PEIxMjdDQkVELTVGQTgtNEU3Ny1BMDcyLTJDOTQ0MDcxNkFBNEBub3Jkc2MuY29tPg==","inReplyToHeader":"PDEzMTU4Mzc2NTAuMjc5Ni4xMDQuY2FtZWxAbG9jYWxob3N0LmxvY2FsZG9tYWluPg==","referencesHeader":"PDEzMTU4MTQzNTEuMjc5Ni44Ny5jYW1lbEBsb2NhbGhvc3QubG9jYWxkb21haW4+IDxGQkUxQUM0NS1EODEzLTQ0RUItOUIyQS00ODkxQjE5QTM3OTlAbm9yZHNjLmNvbT4gPDEzMTU4Mzc2NTAuMjc5Ni4xMDQuY2FtZWxAbG9jYWxob3N0LmxvY2FsZG9tYWluPg=="},"prevInTopic":17760,"nextInTopic":17762,"prevInTime":17760,"nextInTime":17762,"topicId":17758,"numMessagesInTopic":5,"msgSnippet":"... Checked - you are right. Sorry. One day I ll have to memorize 2616 :-) So that would need to go in the body, too. Unless Location s semantics by itself can","rawEmail":"Return-Path: &lt;jan.algermissen@...&gt;\r\nX-Sender: jan.algermissen@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 69563 invoked from network); 12 Sep 2011 15:02:14 -0000\r\nX-Received: from unknown (98.137.35.161)\n  by m3.grp.sp2.yahoo.com with QMQP; 12 Sep 2011 15:02:14 -0000\r\nX-Received: from unknown (HELO moutng.kundenserver.de) (212.227.17.9)\n  by mta5.grp.sp2.yahoo.com with SMTP; 12 Sep 2011 15:02:14 -0000\r\nX-Received: from [10.90.131.32] ([213.238.45.2])\n\tby mrelayeu.kundenserver.de (node=mreu1) with ESMTP (Nemesis)\n\tid 0M05tI-1RHcVT2PIS-00upls; Mon, 12 Sep 2011 17:02:11 +0200\r\nMime-Version: 1.0 (Apple Message framework v1084)\r\nContent-Type: text/plain; charset=windows-1252\r\nIn-Reply-To: &lt;1315837650.2796.104.camel@...&gt;\r\nDate: Mon, 12 Sep 2011 17:02:11 +0200\r\nCc: rest-discuss@yahoogroups.com\r\nContent-Transfer-Encoding: quoted-printable\r\nMessage-Id: &lt;B127CBED-5FA8-4E77-A072-2C9440716AA4@...&gt;\r\nReferences: &lt;1315814351.2796.87.camel@...&gt; &lt;FBE1AC45-D813-44EB-9B2A-4891B19A3799@...&gt; &lt;1315837650.2796.104.camel@...&gt;\r\nTo: Lubomir Rintel &lt;lubo.rintel@...&gt;\r\nX-Mailer: Apple Mail (2.1084)\r\nX-Provags-ID: V02:K0:4SlIUv4qVA+F5jr1R+D8PgS14ms4sVEV1sGbImXoHLq\n KRTDZIcTPEwMGw3uLhsWMF9ne5kwUV1JhdxcnrXmiVJs8mXKd5\n eIdl3ljXMjiQ94ypli/Mu04sBTFVHCA/vLz1h3c1m0j41UjiCT\n WzK/c/EOkgFlC9DrzgIF63b6xz/BdEZH7GpniXXtcJXBah/rdw\n GaJQgggOX3cVf2G68gKp2A6SwMirz1WvBNRGpfilY8rnuaEFLo\n Ob+igH+kSG7bEArKAOCSIZPvSgP8ql2f27oBnIaIBAVi0aLAxU\n 5Q0bb8gd6zW9gxHNZzoQQXdFOqWp5Z8VPdkIaZZjSJ+VRzl+xx\n IWweHhJ8ZmaWmXv79GmNit91W014aqsMMemJjjZhpDwj6FFAc/\n nAsLuQdqEgP/A==\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Jan Algermissen &lt;jan.algermissen@...&gt;\r\nSubject: Re: [rest-discuss] Dealing with errors during asynchronous resource creation\r\nX-Yahoo-Group-Post: member; u=498432483; y=t8dZzEsLTVrNH-mSx2j55ERBkCdEDm2sagVNIjD4fYfmZp5eBMvdIjdh\r\nX-Yahoo-Profile: algermissen1971\r\n\r\n\nOn Sep 12, 2011, at 4:27 PM, Lubomir Rintel wrote:\n\n&gt; On Mon, 2011-09-12 a=\r\nt 15:44 +0200, Jan Algermissen wrote:\n&gt; &gt; On Sep 12, 2011, at 9:59 AM, Lubo=\r\nmir Rintel wrote:\n&gt; &gt; \n&gt; &gt; &gt; [I&#39;ve been redirected here from www-talk]\n&gt; &gt; =\r\n&gt; \n&gt; &gt; &gt; Hi Everyone,\n&gt; &gt; &gt; \n&gt; &gt; &gt; I&#39;m searching for a correct solution (no=\r\nt violating the HTTP protocol\n&gt; &gt; &gt; and causing least possible confusion to=\r\n client) to this problem:\n&gt; &gt; &gt; \n&gt; &gt; &gt; I POST a structure with task descrip=\r\ntion to a resource (say /res1) /res1\n&gt; &gt; &gt; triggers creation of a resource,=\r\n which can take a long time and can\n&gt; &gt; &gt; potentially fail in the end, due =\r\nproblems in task description (user\n&gt; &gt; &gt; fault), that can not be discovered=\r\n upon the initial POST. I need a way\n&gt; &gt; &gt; to communicate this error to the=\r\n user in case creation fails or\n&gt; &gt; &gt; resulting resource in case the execut=\r\nion succeeds.\n&gt; &gt; &gt; \n&gt; &gt; &gt; Would this be correct?\n&gt; &gt; &gt; \n&gt; &gt; &gt; 1.) Initial =\r\nPOST to /res1 returns an URI /res2\n&gt; &gt; \n&gt; &gt; This returns 202 and a polling =\r\nURI in the Location header.\n&gt; \n&gt; My understanding was that rfc2616 does not=\r\n define the semantics of\n&gt; Location header for 202 responses.\n\nChecked - yo=\r\nu are right. Sorry. One day I&#39;ll have to memorize 2616 :-)\n\nSo that would n=\r\need to go in the body, too. Unless Location&#39;s semantics by itself can be in=\r\nterpreted like I thought.\n\njan\n\n\n\n&gt; Section 14.30 indicates that it can\n&gt; b=\r\ne used for 3xx or 201 responses to either redirect or indicate location\n&gt; o=\r\nf newly created resource (supposedly respectively). None of these is\n&gt; the =\r\ncase for a 202 response.\n&gt; \n&gt; Also, a 202 response should contain pointer t=\r\no status or estimate, but\n&gt; there&#39;s no mention (in section 10.2.3) about wh=\r\nere to get the actual\n&gt; resource content. Therefore I assumed that once the=\r\n request is fulfilled\n&gt; the response body should be available at the same l=\r\nocation that returned\n&gt; the 202 response before. Is this assumption wrong?\n=\r\n&gt; \n&gt; &gt; &gt; 2.) Subsequent GET or HEAD of /res2 return 202 until the task\n&gt; &gt; =\r\nfinishes\n&gt; &gt; \n&gt; &gt; No, it returns 200 and status information in the body (=\r\n=3D=3D&gt; so you need\n&gt; &gt; to mint media type for this to express these semant=\r\nics)\n&gt; &gt; \n&gt; &gt; Body will tell client about (maybe progress), success or fail=\r\nure and\n&gt; &gt; the result URI (HTTP does not say that the 202 Location URI is =\r\nthe\n&gt; &gt; created final resource. That also is in the body.\n&gt; &gt; \n&gt; &gt; (The def=\r\ninition of a general media type for this pattern would be\n&gt; &gt; possible - ne=\r\ned not be specific to your application)\n&gt; \n&gt; Well, the original idea was to=\r\n make it possible to have a client that\n&gt; implements little beyond what&#39;s r=\r\nequired by HTTP that would be able to\n&gt; wait for a creation of a resource (=\r\npossibly providing a status monitor\n&gt; and indication of progress on the ser=\r\nver, but not actually requiring the\n&gt; client to grok it). If we defined an =\r\nextra content type, it is likely\n&gt; that the client would not negotiate it. =\r\nWouldn&#39;t it be possible to go\n&gt; without it somehow?\n&gt; &gt; \n&gt; &gt; Jan\n&gt; &gt; \n&gt; &gt; \n=\r\n&gt; &gt; \n&gt; &gt; &gt; 3a.) In case the execution succeeds, a GET or HEAD of /res2 retu=\r\nrns 200\n&gt; &gt; &gt; with task result as body\n&gt; &gt; &gt; 3b.) Otherwise make the /res2 =\r\ngo away and start returning 410 (or 404?)\n&gt; &gt; &gt; and explaining what went wr=\r\nong in the body?\n&gt; &gt; &gt; \n&gt; &gt; &gt; Or is there a better way?\n&gt; &gt; &gt; \n&gt; &gt; &gt; Thanks=\r\n,\n&gt; &gt; &gt; -- \n&gt; &gt; &gt; Lubomir Rintel (GoodData), phone: #7715\n&gt; &gt; &gt; \n&gt; &gt; &gt; \n&gt; &gt;=\r\n \n&gt; \n&gt; -- \n&gt; Lubomir Rintel (GoodData), phone: #7715\n&gt; \n&gt; \n\n\n"}}
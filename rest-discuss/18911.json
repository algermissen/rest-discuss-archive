{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":511039257,"authorName":"Mike Kelly","from":"Mike Kelly &lt;mikekelly321@...&gt;","profile":"mikekelly8762348","replyTo":"SENDER","senderId":"7pJiCuMiO9d3vKqtJvoeubw1aOdiUry-R_0ISdmqILMcC5rLNvCrNSU-7p5D0Vm00DrqUsmpHWXzjPg_eY4WmgzaFMnR-HTSN4A","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [rest-discuss] Modeling conditional update based on existence of a dependent resource","postDate":"1341315703","msgId":18911,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PENBTnFpWkpZRT1vMjQ9bXF3WnRiPVU4VjJWVlJNaFdRbzdxcEtraHZnUmhNU0RkQXFMQUBtYWlsLmdtYWlsLmNvbT4=","inReplyToHeader":"PENBTnFpWkpiNDBESldOWFRfY2ZGWURHbjlqQlVMZFhtK21tNC1tb1BMZGI3b01wR09KQUBtYWlsLmdtYWlsLmNvbT4=","referencesHeader":"PENBTWlWc2ZMYUZzaGNzMUJHZUVQN2lXd2ZIOUdDcDFGYnd5dGlpZF8xaHByTVVmbkYwQUBtYWlsLmdtYWlsLmNvbT4JPENBTnFpWkpiNDBESldOWFRfY2ZGWURHbjlqQlVMZFhtK21tNC1tb1BMZGI3b01wR09KQUBtYWlsLmdtYWlsLmNvbT4="},"prevInTopic":18910,"nextInTopic":18912,"prevInTime":18910,"nextInTime":18912,"topicId":18909,"numMessagesInTopic":7,"msgSnippet":"... Or if you preferred the link to be in the body you could use application/hal+json in the error response like so: { _links : { depends-on-existence : {","rawEmail":"Return-Path: &lt;mikekelly321@...&gt;\r\nX-Sender: mikekelly321@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 61141 invoked from network); 3 Jul 2012 11:41:44 -0000\r\nX-Received: from unknown (98.137.34.46)\n  by m5.grp.sp2.yahoo.com with QMQP; 3 Jul 2012 11:41:44 -0000\r\nX-Received: from unknown (HELO mail-gg0-f174.google.com) (209.85.161.174)\n  by mta3.grp.sp2.yahoo.com with SMTP; 3 Jul 2012 11:41:44 -0000\r\nX-Received: by gglu4 with SMTP id u4so5133746ggl.19\n        for &lt;rest-discuss@yahoogroups.com&gt;; Tue, 03 Jul 2012 04:41:43 -0700 (PDT)\r\nMIME-Version: 1.0\r\nX-Received: by 10.60.30.101 with SMTP id r5mr17892706oeh.68.1341315703429; Tue,\n 03 Jul 2012 04:41:43 -0700 (PDT)\r\nX-Received: by 10.60.65.234 with HTTP; Tue, 3 Jul 2012 04:41:43 -0700 (PDT)\r\nIn-Reply-To: &lt;CANqiZJb40DJWNXT_cfFYDGn9jBULdXm+mm4-moPLdb7oMpGOJA@...&gt;\r\nReferences: &lt;CAMiVsfLaFshcs1BGeEP7iWwfH9GCp1Fbwytiid_1hprMUfnF0A@...&gt;\n\t&lt;CANqiZJb40DJWNXT_cfFYDGn9jBULdXm+mm4-moPLdb7oMpGOJA@...&gt;\r\nDate: Tue, 3 Jul 2012 12:41:43 +0100\r\nMessage-ID: &lt;CANqiZJYE=o24=mqwZtb=U8V2VVRMhWQo7qpKkhvgRhMSDdAqLA@...&gt;\r\nTo: REST-Discuss Discussion Group &lt;rest-discuss@yahoogroups.com&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Transfer-Encoding: quoted-printable\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Mike Kelly &lt;mikekelly321@...&gt;\r\nSubject: Re: [rest-discuss] Modeling conditional update based on existence of\n a dependent resource\r\nX-Yahoo-Group-Post: member; u=511039257; y=EmosSq7GqIlu5n9zB7m6ymy51737r5XP1Fc3ELKpsfFctrXvel2krVqwpE9K1JktEhOHWudRzeRMa9g\r\nX-Yahoo-Profile: mikekelly8762348\r\n\r\nOn Tue, Jul 3, 2012 at 12:38 PM, Mike Kelly &lt;mikekelly321@...&gt; wrote:=\r\n\n&gt;\n&gt;\n&gt; On Tue, Jul 3, 2012 at 12:33 PM, Shaunak Kashyap &lt;ycombinator@gmail.=\r\ncom&gt;\n&gt; wrote:\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; Hi folks,\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; I am looking to model an inter=\r\naction in my REST application where the\n&gt;&gt; client should only be allowed to=\r\n modify a resource (say &quot;B&quot;) if another\n&gt;&gt; resource (say &quot;A&quot;) exists.\n&gt;&gt;\n&gt;&gt;=\r\n Using HTTP, if resource A exists, I would like PUT /uri/for/resource/B to\n=\r\n&gt;&gt; succeed. If resource B does not exist, I would like the same PUT request=\r\n to\n&gt;&gt; fail, responding with a status code that indicates to the client tha=\r\nt\n&gt;&gt; resource A does not exist. So what is a good status code to respond wi=\r\nth in\n&gt;&gt; the failure case? I considered 403 Forbidden but its semantics say=\r\n that &quot;the\n&gt;&gt; request should not be repeated&quot;. This does not quite make sen=\r\nse in my\n&gt;&gt; application since=A0resource A might come into existence in the=\r\n future, making\n&gt;&gt; it okay for the client to re-issue the same PUT request =\r\nfor resource B.\n&gt;\n&gt;\n&gt; Would 404 not suffice here?\n&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; Alternatively =\r\n(or additionally?), perhaps the client could issue a\n&gt;&gt; conditional PUT on =\r\nresource B which would only succeed if resource A\n&gt;&gt; existed. How could I e=\r\nxpress such a condition in HTTP? I considered using\n&gt;&gt; the If-Match request=\r\n header but that seems to apply to representations of\n&gt;&gt; the same resource =\r\n(in my example, B) rather than of other resources (in my\n&gt;&gt; example, A).\n&gt;\n=\r\n&gt;\n&gt; You could use a Link header in the error response that has a relation t=\r\nype\n&gt; called something like &quot;depends-on-existence&quot;, and point that link to\n=\r\n&gt; resource A.\n\nOr if you preferred the link to be in the body you could use=\r\n\napplication/hal+json in the error response like so:\n\n{\n  &quot;_links&quot;: {\n    &quot;=\r\ndepends-on-existence&quot;: { &quot;href&quot;: &quot;/uri/of/resource-A&quot; }\n  }\n}\n\nCheers,\nM\n\n"}}
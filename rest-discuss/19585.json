{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":548634940,"authorName":"Jonathan Ballard","from":"Jonathan Ballard &lt;dzonatas@...&gt;","replyTo":"SENDER","senderId":"H1qcRTUnNUuF27aXuBWGZFZlrM9NYo_QDnBNjWg5soJMNP3AHN8XZfdL6QhS_g9NMwE9MHhRUqN4AOH5soqvBc5RTzh642huckw5WA","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [rest-discuss] Media Type for resource archives","postDate":"1389540897","msgId":19585,"canDelete":false,"contentTrasformed":false,"systemMessage":true,"headers":{"messageIdInHeader":"PENBQVBBSy02eUxDN1hrcTMzaHk0VVpHN2pxK28zMXVTTWl0THBqenRiZ2VFXys5RW5tQUBtYWlsLmdtYWlsLmNvbT4=","inReplyToHeader":"PENBSkVMbkxHV3E9YzRUdUdDYmQzOTZhc1RVb05lYj1wem5fUW56blBMRG55ckdieVdxUUBtYWlsLmdtYWlsLmNvbT4=","referencesHeader":"PENDMEM1OUJGLUQ5N0QtNDA0MC04QzA4LThBNUQxMTc4NTI2OEBub3Jkc2MuY29tPgk8Q0FOZ2ttTENWd0g5S08xczN0bzN6RVVuQ2hLRVcwV1JMWW92S09PWE1TPTl0LUhTdnBBQG1haWwuZ21haWwuY29tPgk8Q0FBUEFLLTd1aEw2dz09Z2NLcGdMaDhqdXZqR2tCclIzS3NEenJVdEhaS2hrOFh0ampRQG1haWwuZ21haWwuY29tPgk8Q0FKRUxuTEdXcT1jNFR1R0NiZDM5NmFzVFVvTmViPXB6bl9RbnpuUExEbnlyR2J5V3FRQG1haWwuZ21haWwuY29tPg=="},"prevInTopic":19581,"nextInTopic":19586,"prevInTime":19584,"nextInTime":19586,"topicId":19578,"numMessagesInTopic":7,"msgSnippet":"Here is one link for experiments: http://blog.chromium.org/2013/06/experimenting-with-quic.html Since IPv6, we can use Content-Length to describe parts of the","rawEmail":"Return-Path: &lt;dzonatas@...&gt;\r\nReceived: (qmail 28094 invoked by uid 102); 13 Jan 2014 02:49:05 -0000\r\nReceived: from unknown (HELO mtaq2.grp.bf1.yahoo.com) (10.193.84.33)\n  by m15.grp.bf1.yahoo.com with SMTP; 13 Jan 2014 02:49:05 -0000\r\nReceived: (qmail 6346 invoked from network); 13 Jan 2014 02:49:05 -0000\r\nReceived: from unknown (HELO n4-vm5.bullet.mail.bf1.yahoo.com) (72.30.235.49)\n  by mtaq2.grp.bf1.yahoo.com with SMTP; 13 Jan 2014 02:49:05 -0000\r\nDKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoogroups.com; s=echoe; t=1389581345; bh=uUrDmsW4YbWd1eWpRjXom+F84KCpyOOffYtyjdM1M2o=; h=Received:Received:Received:X-Sender:X-Apparently-To:X-Received:X-Received:X-Received:X-Received:X-Received:MIME-Version:X-Received:X-Received:In-Reply-To:References:Date:Message-ID:Cc:Content-Type:X-Originating-IP:X-eGroups-Msg-Info:From:Subject:X-Yahoo-Group-Post:X-YGroups-SubInfo:To:Sender:X-Yahoo-Newman-Property:X-Yahoo-Newman-Id:X-eGroups-Approved-By:X-eGroups-Auth; b=Fo5bDxtgpuSPdvyFj2+8+EU2LQtqS/XtvkGk2oIjNlPE2DHeEpL55TKgW8paEA+ErMe9yMS+iJiZSu93iwEqRGO/14p5Q+rL6j63oftVYPMnMsLD5pqsFZDJyJBmEfcZ3E3NVBFkE6WskBxCwALBUp69RKvB/CPmmgK0f2eoIDo=\r\nReceived: from [66.196.81.176] by n4.bullet.mail.bf1.yahoo.com with NNFMP; 13 Jan 2014 02:49:05 -0000\r\nReceived: from [10.193.39.253] by t6.bullet.mail.bf1.yahoo.com with NNFMP; 13 Jan 2014 02:49:05 -0000\r\nReceived: from [127.0.0.1] by gapi17.grp.bf1.yahoo.com with NNFMP; 13 Jan 2014 02:49:05 -0000\r\nX-Sender: dzonatas@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 15767 invoked by uid 102); 12 Jan 2014 15:34:58 -0000\r\nX-Received: from unknown (HELO mtaq6.grp.bf1.yahoo.com) (10.193.84.37)\n  by m8.grp.bf1.yahoo.com with SMTP; 12 Jan 2014 15:34:58 -0000\r\nX-Received: (qmail 21882 invoked from network); 12 Jan 2014 15:34:57 -0000\r\nX-Received: from unknown (HELO mail-pa0-f43.google.com) (209.85.220.43)\n  by mtaq6.grp.bf1.yahoo.com with SMTP; 12 Jan 2014 15:34:57 -0000\r\nX-Received: by mail-pa0-f43.google.com with SMTP id bj1so2165862pad.2\n        for &lt;rest-discuss@yahoogroups.com&gt;; Sun, 12 Jan 2014 07:34:57 -0800 (PST)\r\nMIME-Version: 1.0\r\nX-Received: by 10.68.209.193 with SMTP id mo1mr24685677pbc.38.1389540897273;\n Sun, 12 Jan 2014 07:34:57 -0800 (PST)\r\nX-Received: by 10.66.25.233 with HTTP; Sun, 12 Jan 2014 07:34:57 -0800 (PST)\r\nIn-Reply-To: &lt;CAJELnLGWq=c4TuGCbd396asTUoNeb=pzn_QnznPLDnyrGbyWqQ@...&gt;\r\nReferences: &lt;CC0C59BF-D97D-4040-8C08-8A5D11785268@...&gt;\n\t&lt;CANgkmLCVwH9KO1s3to3zEUnChKEW0WRLYovKOOXMS=9t-HSvpA@...&gt;\n\t&lt;CAAPAK-7uhL6w==gcKpgLh8juvjGkBrR3KsDzrUtHZKhk8XtjjQ@...&gt;\n\t&lt;CAJELnLGWq=c4TuGCbd396asTUoNeb=pzn_QnznPLDnyrGbyWqQ@...&gt;\r\nDate: Sun, 12 Jan 2014 07:34:57 -0800\r\nMessage-ID: &lt;CAAPAK-6yLC7Xkq33hy4UZG7jq+o31uSMitLpjztbgeE_+9EnmA@...&gt;\r\nCc: Jan Algermissen &lt;jan.algermissen@...&gt;, rest-discuss &lt;rest-discuss@yahoogroups.com&gt;\r\nContent-Type: multipart/alternative; boundary=047d7b15a1e5953eed04efc7b360\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Jonathan Ballard &lt;dzonatas@...&gt;\r\nSubject: Re: [rest-discuss] Media Type for resource archives\r\nX-Yahoo-Group-Post: member; u=548634940\r\nTo: rest-discuss@yahoogroups.com\r\nX-Yahoo-Newman-Property: groups-system\r\nX-Yahoo-Newman-Id: groups-system\r\nX-eGroups-Approved-By: gonga_thrash via web; 12 Jan 2014 18:49:05 -0000\r\n\r\n\r\n--047d7b15a1e5953eed04efc7b360\r\nContent-Type: text/plain; charset=windows-1252\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\nHere is one link for experiments:\n http://blog.chromium.org/2013/06/experim=\r\nenting-with-quic.html\n\nSince IPv6, we can use Content-Length to describe pa=\r\nrts of the entire UDP\ntransfer. From that base, there are several ideas how=\r\n to describe contents\nof the parts, especially with Content-Type. QUIC adds=\r\n connection\nidentifiers.\n\nIn my previous post here, even if there is no man=\r\nifest, the connection\nidentifier could cause each &lt;script&gt; to source from t=\r\nhe same single\ntransfer.\n\nI used one similar implementation that batched 10=\r\n,000+ separate requests\ninto packets that were only split by time instead o=\r\nf size. That was before\nQUIC.\n\nNotice the trade-off to wrap up &lt;script&gt;s wi=\r\nthout jQuery overhead (or JS\nloaders).\n\n\nOn Sat, Jan 11, 2014 at 2:02 PM, M=\r\natt McClure &lt;matthewlmcclure@...&gt;wrote:\n\n&gt; Got a link describing QUIC=\r\n in more detail? My Googling failed me.\n&gt; On Jan 11, 2014 4:57 PM, &quot;Jonatha=\r\nn Ballard&quot; &lt;dzonatas@...&gt; wrote:\n&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; Look at QUIC, and conside=\r\nr this format and sequence:\n&gt;&gt;\n&gt;&gt; &lt;script src=3D... type=3D&quot;application/jso=\r\nn+quic&quot; var=3D&quot;abc&quot; index=3D&quot;123&quot;/&gt;\n&gt;&gt; &lt;script src=3D... type=3D&quot;applicatio=\r\nn/json+quic&quot; var=3D&quot;abc&quot; index=3D&quot;456&quot;/&gt;\n&gt;&gt; &lt;script src=3D... type=3D&quot;appli=\r\ncation/json+quic&quot; var=3D&quot;abc&quot; index=3D&quot;789&quot;/&gt;\n&gt;&gt;\n&gt;&gt; Let the browser recogni=\r\nze the same manifest (...), let the extra\n&gt;&gt; micro-data wrap up the stateme=\r\nnt:\n&gt;&gt;\n&gt;&gt; var abc[123] =3D ... ;\n&gt;&gt;\n&gt;&gt; Slight modification to change &quot;var&quot;+=\r\n&quot;index&quot; to &quot;part&quot; is another\n&gt;&gt; solution. I hope something like this makes =\r\nHTML6.\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; On Fri, Jan 10, 2014 at 5:59 PM, Craig McClanahan &lt;craig=\r\nmcc@...&gt;wrote:\n&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt; We (Jive) use the multipart/form-data i=\r\nn lots of use cases, such as\n&gt;&gt;&gt; uploading a document (with a well defined =\r\nJSON format) plus some associated\n&gt;&gt;&gt; attachments.  However, we don&#39;t enfor=\r\nce a requirement that the JSON data be\n&gt;&gt;&gt; the first body part -- instead, =\r\nwe search through the available body parts\n&gt;&gt;&gt; for it with some well-define=\r\nd heuristics, and treat all the other body\n&gt;&gt;&gt; parts as attachments.\n&gt;&gt;&gt;\n&gt;&gt;=\r\n&gt; Craig McClanahan\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt; On Fri, Jan 10, 2014 at 2:35 PM, Jan Algermi=\r\nssen &lt;\n&gt;&gt;&gt; jan.algermissen@...&gt; wrote:\n&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; Hi,\n&gt;&gt;&gt;&gt;\n&gt;=\r\n&gt;&gt;&gt; I am thinking about a media type for bundling together a bunch of\n&gt;&gt;&gt;&gt; =\r\nresources[1] into a single file. With these files I want to store a\n&gt;&gt;&gt;&gt; ma=\r\nnifest file.\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; One option would be to just use a zip-based format a=\r\nnd an manifest file\n&gt;&gt;&gt;&gt; with a well known name.\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; The problem with=\r\n this is that useful stream processing of such a file\n&gt;&gt;&gt;&gt; can only be done=\r\n by ensuring that the manifest is the first entry when\n&gt;&gt;&gt;&gt; unzipping. Appa=\r\nrently it requires some stunts to control the ordering of\n&gt;&gt;&gt;&gt; the zip entr=\r\nies and who knows whether the other end uses a compatible\n&gt;&gt;&gt;&gt; implementati=\r\non.\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; Solution would be to unpack to disk first and go from there. =\r\nNot nice.\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; A possible alternative would be to use a multipart form=\r\nat where I can\n&gt;&gt;&gt;&gt; simply require the manifest to be the first part. Then =\r\njust zip that file\n&gt;&gt;&gt;&gt; or rely on transfer encoding to reduce the bytes on=\r\n the wire.\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; Nice things about that:\n&gt;&gt;&gt;&gt; - Ordering is guaranteed\n=\r\n&gt;&gt;&gt;&gt; - Full support for per-part MIME headers\n&gt;&gt;&gt;&gt; - Content-Length enables=\r\n fast splitting of the parts\n&gt;&gt;&gt;&gt; - cid: URIs make for natural, standard UR=\r\nI-references inside the file\n&gt;&gt;&gt;&gt; - stream processing without temporary sto=\r\nrage\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; I am interested in reactions to the two alternatives or any =\r\nideas\n&gt;&gt;&gt;&gt; beyond that.\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; Jan\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; [1] Well, obviously their e=\r\nntities at some point in time\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;\n\r\n--047d7b15a1e5953eed04efc7b360\r\nContent-Type: text/html; charset=windows-1252\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\n&lt;div dir=3D&quot;ltr&quot;&gt;Here is one link for experiments:&lt;div&gt;=A0&lt;a href=3D&quot;http:/=\r\n/blog.chromium.org/2013/06/experimenting-with-quic.html&quot;&gt;http://blog.chromi=\r\num.org/2013/06/experimenting-with-quic.html&lt;/a&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Si=\r\nnce IPv6, we can use Content-Length to describe parts of the entire UDP tra=\r\nnsfer. From that base, there are several ideas how to describe contents of =\r\nthe parts, especially with Content-Type. QUIC adds connection identifiers.&lt;=\r\n/div&gt;\n&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;In my previous post here, even if there is no man=\r\nifest, the connection identifier could cause each &lt;script&gt; to source =\r\nfrom the same single transfer.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I used one similar =\r\nimplementation that batched 10,000+ separate requests into packets that wer=\r\ne only split by time instead of size. That was before QUIC.&lt;/div&gt;\n&lt;div&gt;&lt;br&gt;=\r\n&lt;/div&gt;&lt;div&gt;Notice the trade-off to wrap up &lt;script&gt;s without jQuery o=\r\nverhead (or JS loaders).&lt;/div&gt;&lt;/div&gt;&lt;div class=3D&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;div=\r\n class=3D&quot;gmail_quote&quot;&gt;On Sat, Jan 11, 2014 at 2:02 PM, Matt McClure &lt;span =\r\ndir=3D&quot;ltr&quot;&gt;&lt;&lt;a href=3D&quot;mailto:matthewlmcclure@...&quot; target=3D&quot;_bla=\r\nnk&quot;&gt;matthewlmcclure@...&lt;/a&gt;&gt;&lt;/span&gt; wrote:&lt;br&gt;\n&lt;blockquote class=\r\n=3D&quot;gmail_quote&quot; style=3D&quot;margin:0 0 0 .8ex;border-left:1px #ccc solid;padd=\r\ning-left:1ex&quot;&gt;&lt;p dir=3D&quot;ltr&quot;&gt;Got a link describing QUIC in more detail? My =\r\nGoogling failed me. &lt;/p&gt;\n&lt;div class=3D&quot;gmail_quote&quot;&gt;&lt;div&gt;&lt;div class=3D&quot;h5&quot;&gt;=\r\nOn Jan 11, 2014 4:57 PM, &quot;Jonathan Ballard&quot; &lt;&lt;a href=3D&quot;mailto=\r\n:dzonatas@...&quot; target=3D&quot;_blank&quot;&gt;dzonatas@...&lt;/a&gt;&gt; wrote:&lt;br=\r\n type=3D&quot;attribution&quot;&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;blockquote class=3D&quot;gmail_quote&quot; style=\r\n=3D&quot;margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex&quot;&gt;\n\n\n\n&lt;u&gt;&lt;=\r\n/u&gt;\n\n\n\n\n\n\n\n\n\n\n&lt;div&gt;\n&lt;span&gt;=A0&lt;/span&gt;\n\n\n&lt;div&gt;\n  &lt;div&gt;&lt;div&gt;&lt;div class=3D&quot;h5&quot;&gt;=\r\n\n\n\n    &lt;div&gt;\n\n\n      &lt;p&gt;&lt;/p&gt;&lt;div dir=3D&quot;ltr&quot;&gt;Look at QUIC, and consider thi=\r\ns format and sequence:&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;script src=3D... type=3D&quot=\r\n;application/json+quic&quot; var=3D&quot;abc&quot; index=3D&quot;123&quot;/=\r\n&gt;&lt;/div&gt;&lt;div&gt;&lt;script src=3D... type=3D&quot;application/json+quic&quot=\r\n; var=3D&quot;abc&quot; index=3D&quot;456&quot;/&gt;&lt;br&gt;\n\n\n&lt;/div&gt;&lt;div&gt;&lt;s=\r\ncript src=3D... type=3D&quot;application/json+quic&quot; var=3D&quot;abc&qu=\r\not; index=3D&quot;789&quot;/&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Let the brows=\r\ner recognize the same manifest (...), let the extra micro-data wrap up the =\r\nstatement:&lt;/div&gt;\n\n\n&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;var abc[123] =3D ... ;&lt;/div&gt;&lt;div&gt;&lt;br=\r\n&gt;&lt;/div&gt;&lt;div&gt;Slight modification to change &quot;var&quot;+&quot;index&quot;=\r\n to &quot;part&quot; is another solution. I hope something like this makes =\r\nHTML6.&lt;/div&gt;&lt;div&gt;\n\n\n&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=3D&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;div=\r\n class=3D&quot;gmail_quote&quot;&gt;On Fri, Jan 10, 2014 at 5:59 PM, Craig McClanahan &lt;s=\r\npan dir=3D&quot;ltr&quot;&gt;&lt;&lt;a href=3D&quot;mailto:craigmcc@...&quot; target=3D&quot;_blank&quot;=\r\n&gt;craigmcc@...&lt;/a&gt;&gt;&lt;/span&gt; wrote:&lt;br&gt;\n\n\n&lt;blockquote class=3D&quot;gmail_=\r\nquote&quot; style=3D&quot;border-left:1px #ccc solid&quot;&gt;\n\n\n&lt;u&gt;&lt;/u&gt;\n\n\n\n\n\n\n\n\n\n\n&lt;div&gt;\n&lt;spa=\r\nn&gt;=A0&lt;/span&gt;\n\n\n&lt;div&gt;\n  &lt;div&gt;\n\n\n    &lt;div&gt;\n\n\n      &lt;p&gt;&lt;/p&gt;&lt;div dir=3D&quot;ltr&quot;&gt;&lt;d=\r\niv&gt;We (Jive) use the multipart/form-data in lots of use cases, such as uplo=\r\nading a document (with a well defined JSON format) plus some associated att=\r\nachments.=A0 However, we don&#39;t enforce a requirement that the JSON data=\r\n be the first body part -- instead, we search through the available body pa=\r\nrts for it with some well-defined heuristics, and treat all the other body =\r\nparts as attachments.&lt;/div&gt;\n\n\n\n&lt;div&gt;&lt;br&gt;&lt;/div&gt;Craig McClanahan&lt;br&gt;&lt;/div&gt;&lt;di=\r\nv&gt;&lt;div class=3D&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;div class=3D&quot;gmail_quote&quot;&gt;On Fri, Jan=\r\n 10, 2014 at 2:35 PM, Jan Algermissen &lt;span dir=3D&quot;ltr&quot;&gt;&lt;&lt;a href=3D&quot;mail=\r\nto:jan.algermissen@...&quot; target=3D&quot;_blank&quot;&gt;jan.algermissen@...=\r\n&lt;/a&gt;&gt;&lt;/span&gt; wrote:&lt;br&gt;\n\n\n\n&lt;blockquote class=3D&quot;gmail_quote&quot; style=3D&quot;bo=\r\nrder-left:1px #ccc solid&quot;&gt;\n\n\n&lt;u&gt;&lt;/u&gt;\n\n\n\n\n\n\n\n\n\n\n&lt;div&gt;\n&lt;span&gt;=A0&lt;/span&gt;\n\n\n&lt;di=\r\nv&gt;\n  &lt;div&gt;\n\n\n    &lt;div&gt;\n\n\n      &lt;p&gt;Hi,&lt;br&gt;\n&lt;br&gt;\nI am thinking about a media =\r\ntype for bundling together a bunch of resources[1] into a single file. With=\r\n these files I want to store a manifest file.&lt;br&gt;\n&lt;br&gt;\nOne option would be =\r\nto just use a zip-based format and an manifest file with a well known name.=\r\n&lt;br&gt;\n&lt;br&gt;\nThe problem with this is that useful stream processing of such a =\r\nfile can only be done by ensuring that the manifest is the first entry when=\r\n unzipping. Apparently it requires some stunts to control the ordering of t=\r\nhe zip entries and who knows whether the other end uses a compatible implem=\r\nentation.&lt;br&gt;\n\n\n\n\n&lt;br&gt;\nSolution would be to unpack to disk first and go fro=\r\nm there. Not nice.&lt;br&gt;\n&lt;br&gt;\nA possible alternative would be to use a multip=\r\nart format where I can simply require the manifest to be the first part. Th=\r\nen just zip that file or rely on transfer encoding to reduce the bytes on t=\r\nhe wire.&lt;br&gt;\n&lt;br&gt;\nNice things about that:&lt;br&gt;\n- Ordering is guaranteed&lt;br&gt;\n=\r\n- Full support for per-part MIME headers&lt;br&gt;\n- Content-Length enables fast =\r\nsplitting of the parts&lt;br&gt;\n- cid: URIs make for natural, standard URI-refer=\r\nences inside the file&lt;br&gt;\n- stream processing without temporary storage&lt;br&gt;=\r\n\n&lt;br&gt;\nI am interested in reactions to the two alternatives or any ideas bey=\r\nond that.&lt;br&gt;\n&lt;br&gt;\nJan&lt;br&gt;\n&lt;br&gt;\n[1] Well, obviously their entities at some =\r\npoint in time&lt;/p&gt;\n\n    &lt;/div&gt;\n\n\n  \n    &lt;div style=3D&quot;color:#fff&quot;&gt;&lt;/div&gt;\n\n\n&lt;=\r\n/div&gt;\n\n\n\n\n\n\n\n\n\n\n&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;\n&lt;/div&gt;&lt;p&gt;&lt;/p&gt;\n\n  =\r\n  &lt;/div&gt;\n\n\n\n    &lt;div style=3D&quot;color:#fff&quot;&gt;&lt;/div&gt;\n\n\n&lt;/div&gt;\n\n\n\n\n\n\n\n\n\n\n&lt;/div&gt;&lt;=\r\n/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;\n&lt;p&gt;&lt;/p&gt;\n\n    &lt;/div&gt;\n\n\n\n    &lt;div style=3D=\r\n&quot;color:#fff;min-height:0&quot;&gt;&lt;/div&gt;\n\n\n&lt;/div&gt;\n\n\n\n\n\n\n\n\n\n\n&lt;/blockquote&gt;&lt;/div&gt;\n&lt;/b=\r\nlockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;\n\r\n--047d7b15a1e5953eed04efc7b360--\r\n\n"}}
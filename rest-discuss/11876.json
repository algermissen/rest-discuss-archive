{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":292691042,"authorName":"Steve Bjorg","from":"Steve Bjorg &lt;steveb@...&gt;","profile":"steve_bjorg","replyTo":"SENDER","senderId":"mq_YLA9-X--WOrgFAGRgFvfTiYMPopRZy72wKfe_23g6x-cnp06BoPe_jKzNwXIZ2ySvqOLCoLnnevBobp-gekOXXHv20DAaZA","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [rest-discuss] Query parameters","postDate":"1229979110","msgId":11876,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PEI1MzAzQjE3LUM2NDYtNEQ4My05ODY0LTQwQzU4QTE5OTUzOUBtaW5kdG91Y2guY29tPg==","inReplyToHeader":"PDQ5NEI4N0JGLjIwMTAwMDZAZmFiaW9tYW5jaW5lbGxpLm9yZz4=","referencesHeader":"PDQ5NEI4N0JGLjIwMTAwMDZAZmFiaW9tYW5jaW5lbGxpLm9yZz4="},"prevInTopic":11860,"nextInTopic":11877,"prevInTime":11875,"nextInTime":11877,"topicId":892,"numMessagesInTopic":31,"msgSnippet":"Hi Fabio, Your question is a common one, so I captured my response on a wiki page to make it easier for future reference.  Others on the list may further","rawEmail":"Return-Path: &lt;steveb@...&gt;\r\nX-Sender: steveb@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 72104 invoked from network); 22 Dec 2008 20:52:10 -0000\r\nX-Received: from unknown (66.218.67.97)\n  by m53.grp.scd.yahoo.com with QMQP; 22 Dec 2008 20:52:10 -0000\r\nX-Received: from unknown (HELO asav-1.01.com) (38.98.186.166)\n  by mta18.grp.scd.yahoo.com with SMTP; 22 Dec 2008 20:52:10 -0000\r\nX-Received: from asav-1.01.com (localhost.localdomain [127.0.0.1])\n\tby asav-1.01.com (8.13.1/8.13.1) with SMTP id mBMKpqQV013261;\n\tMon, 22 Dec 2008 14:51:52 -0600\r\nX-Received: from smtp-2.01.com (smtp-2.01.com [38.98.186.158])\n\tby asav-1.01.com (asav-1.01.com [10.25.1.11])\n\tid kBLEpq1480044342Ce ret-id none; Mon, 22 Dec 2008 14:51:52 -0600\r\nX-Received: from localhost (localhost.localdomain [127.0.0.1])\n\tby smtp-2.01.com (Postfix) with ESMTP id 0BC4E1AD3C4;\n\tMon, 22 Dec 2008 14:51:52 -0600 (CST)\r\nX-Received: from smtp-2.01.com ([127.0.0.1])\n\tby localhost (smtp-2.01.com [127.0.0.1]) (amavisd-new, port 10024)\n\twith ESMTP id vBxRxF9sO69f; Mon, 22 Dec 2008 14:51:51 -0600 (CST)\r\nX-Received: from [192.168.1.100] (wsip-98-173-48-39.sd.sd.cox.net [98.173.48.39])\n\tby smtp-2.01.com (Postfix) with ESMTP id 9184E1AD3BD;\n\tMon, 22 Dec 2008 14:51:51 -0600 (CST)\r\nCc: Rest Discussion Group &lt;rest-discuss@yahoogroups.com&gt;\r\nMessage-Id: &lt;B5303B17-C646-4D83-9864-40C58A199539@...&gt;\r\nTo: Fabio Mancinelli &lt;fm@...&gt;\r\nIn-Reply-To: &lt;494B87BF.2010006@...&gt;\r\nContent-Type: text/plain; charset=US-ASCII; format=flowed; delsp=yes\r\nContent-Transfer-Encoding: 7bit\r\nMime-Version: 1.0 (Apple Message framework v930.3)\r\nDate: Mon, 22 Dec 2008 12:51:50 -0800\r\nReferences: &lt;494B87BF.2010006@...&gt;\r\nX-Mailer: Apple Mail (2.930.3)\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Steve Bjorg &lt;steveb@...&gt;\r\nSubject: Re: [rest-discuss] Query parameters\r\nX-Yahoo-Group-Post: member; u=292691042; y=a1STnNpJPMAPx4ANFB04fJ3y7QyxuNjXiv985cOfbJwC8N4wpbU\r\nX-Yahoo-Profile: steve_bjorg\r\n\r\nHi Fabio,\n\nYour question is a common one, so I captured my response on a wiki  \npage to make it easier for future reference.  Others on the list may  \nfurther insight to my notes (and are welcome to do so on the wiki as  \nwell!).\n\nIn short, there is not simple, perfect answer.  That said, my first  \ninclination is to embed the knowledge for the requested translation  \ninto an Accept-Language header (see Approach #3 on the wiki page).   \nThis significantly simplifies the URI design.  Nonetheless, you&#39;ll  \nstill be in the dog house when it comes to good WOA/RESTful design.   \nThe problem is that all approaches rely on URI construction rather  \nthan discovery.  That means your user agents will need to have hard- \ncoded knowledge of your chosen URI structure.  Some of this might be  \npossible to alleviate with the Link response header, but I don&#39;t have  \nenough experience/feedback on its use to make a recommendation on it.\n\nI&#39;ve added an Addendum to the wiki page that attempts to address the  \nissue of URI discoverability.  However since that wasn&#39;t the core of  \nyour question, I kept it to a minimum just to raise the problem and  \noutline a possible solution.\n\nHope that helps!\n\n\nCheers,\n\n- Steve\n\n--------------\nSteve G. Bjorg\nhttp://mindtouch.com\nhttp://twitter.com/bjorg\nirc.freenode.net #mindtouch\n\nOn Dec 19, 2008, at 3:38 AM, Fabio Mancinelli wrote:\n\n&gt; Dear all,\n&gt;\n&gt; I have a design question and I would like to ask for a feedback from  \n&gt; the\n&gt; experts.\n&gt;\n&gt; Imagine to have a model where you have a document identified by an id\n&gt; that can have different translations (one of them being the default)  \n&gt; and\n&gt; revisions (each translation has its own independent revision history).\n&gt;\n&gt; I could model these resources in the following way:\n&gt;\n&gt; /* Default language *\n&gt; /{docId}\n&gt; /{docId}/versions\n&gt; /{docId}/versions/{version}\n&gt; /* Additional translations */\n&gt; /{docId}/translations\n&gt; /{docId}/translations/{lang}\n&gt; /{docId}/translations/{lang}/versions\n&gt; /{docId}/translations/{lang}/versions/{version}\n&gt;\n&gt; Or, with the same expressive power, I might do:\n&gt;\n&gt; /{docId}[?translation=lang&version=v]\n&gt; /{docId}/translations\n&gt; /{docId}/versions[?translation=lang]\n&gt;\n&gt; Now, from my understanding, the two designs are fine and the second  \n&gt; one\n&gt; looks to me more compact and clean. However there might be some  \n&gt; issues.\n&gt;\n&gt; 1) In the &quot;Restful WebServices&quot; book, authors suggest that query\n&gt; parameters should be used only to &quot;suggest arguments being plugged  \n&gt; into\n&gt; an algorithm&quot; (e.g., Google&#39;s .../search?q=query). This is not the  \n&gt; case\n&gt; of {docId} so maybe the second design is not following a &quot;best  \n&gt; practice&quot;.\n&gt;\n&gt; 2) Another potential issue could be related to caching. Squid, for\n&gt; example, recommends to ignore query parameters for caching in its\n&gt; default configuration. So by using query parameters maybe I might have\n&gt; cacheable resources not cached by some intermediary.\n&gt;\n&gt; 3) Other?\n&gt;\n&gt; What do you think? Why should I prefer the first design with respect  \n&gt; to\n&gt; the other or viceversa?\n&gt;\n&gt; Thank you for your help.\n&gt;\n&gt; -Fabio\n\n\n"}}
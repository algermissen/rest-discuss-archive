{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":364579677,"authorName":"Mike Kelly","from":"Mike Kelly &lt;mike@...&gt;","profile":"pleb1985","replyTo":"SENDER","senderId":"rmt_GlHvdiuy1bSea8ampTyAMNd285SfBoAShPOJJJfobadiSzxKng_HQTOLsLfEQVsvJCySOZrEttSmnIBs_pYlEBs70w","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [rest-discuss] The proper thing to do with ESI: a custom hypermedia format?","postDate":"1298386660","msgId":17367,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PEFBTkxrVGlrV1p4YXJXemI9QUVoK2pqaUd5MDRVczlaUER5TmcwNV9vM25xM0BtYWlsLmdtYWlsLmNvbT4=","inReplyToHeader":"PEFBTkxrVGltSk9nTVQwaDUyRjJvKz1aTitYUE1ZaDNqN01lRkZ6VFhiZjJOLUBtYWlsLmdtYWlsLmNvbT4=","referencesHeader":"PEFBTkxrVGk9MlRMWl9EYUtFM2oya29jT2tublpqTlItdC1KWUdaaldBNEpjdEBtYWlsLmdtYWlsLmNvbT4JPEFBTkxrVGk9c255ckx4NEcxWjFVTmg0cnpzZE1iRkh1NVdDY0d3d2ViS01nR0BtYWlsLmdtYWlsLmNvbT4JPEFBTkxrVGltSk9nTVQwaDUyRjJvKz1aTitYUE1ZaDNqN01lRkZ6VFhiZjJOLUBtYWlsLmdtYWlsLmNvbT4="},"prevInTopic":17365,"nextInTopic":17368,"prevInTime":17366,"nextInTime":17368,"topicId":17357,"numMessagesInTopic":17,"msgSnippet":"If you served application/vnd.xhesiml+xhtml to a browser then the browser won t render it and will display a download prompt instead, so the reason I used a","rawEmail":"Return-Path: &lt;mike@...&gt;\r\nX-Sender: mike@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 2215 invoked from network); 22 Feb 2011 14:57:43 -0000\r\nX-Received: from unknown (98.137.34.46)\n  by m1.grp.sp2.yahoo.com with QMQP; 22 Feb 2011 14:57:43 -0000\r\nX-Received: from unknown (HELO moutng.kundenserver.de) (212.227.17.8)\n  by mta3.grp.sp2.yahoo.com with SMTP; 22 Feb 2011 14:57:42 -0000\r\nX-Received: from mail-qy0-f181.google.com (mail-qy0-f181.google.com [209.85.216.181])\n\tby mrelayeu.kundenserver.de (node=mreu0) with ESMTP (Nemesis)\n\tid 0Ll1ub-1QRmKW3KQ1-00aj3Y; Tue, 22 Feb 2011 15:57:42 +0100\r\nX-Received: by qyg14 with SMTP id 14so1781794qyg.12\n        for &lt;rest-discuss@yahoogroups.com&gt;; Tue, 22 Feb 2011 06:57:40 -0800 (PST)\r\nMIME-Version: 1.0\r\nX-Received: by 10.229.231.21 with SMTP id jo21mr2075559qcb.119.1298386660267;\n Tue, 22 Feb 2011 06:57:40 -0800 (PST)\r\nX-Received: by 10.229.248.12 with HTTP; Tue, 22 Feb 2011 06:57:40 -0800 (PST)\r\nIn-Reply-To: &lt;AANLkTimJOgMT0h52F2o+=ZN+XPMYh3j7MeFFzTXbf2N-@...&gt;\r\nReferences: &lt;AANLkTi=2TLZ_DaKE3j2kocOknnZjNR-t-JYGZjWA4Jct@...&gt;\n\t&lt;AANLkTi=snyrLx4G1Z1UNh4rzsdMbFHu5WCcGwwebKMgG@...&gt;\n\t&lt;AANLkTimJOgMT0h52F2o+=ZN+XPMYh3j7MeFFzTXbf2N-@...&gt;\r\nDate: Tue, 22 Feb 2011 14:57:40 +0000\r\nMessage-ID: &lt;AANLkTikWZxarWzb=AEh+jjiGy04Us9ZPDyNg05_o3nq3@...&gt;\r\nTo: Alessandro Nadalin &lt;alessandro.nadalin@...&gt;\r\nCc: rest-discuss@yahoogroups.com\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Provags-ID: V02:K0:8gRWQ+FsASo8c3q7u2PFHoNhkxKWBRC6dqQIcV384IJ\n YAMbePZjf2Ss9NelKPmgw8y8vTsOI94ghMwx1fzul2njPGhRpM\n WpsZNiLPkY0Lv0aLpo8AldK4X6AcJgMCMW+CjPKmdmRj0+HWkT\n xQuL4aeoWNn2Q34jgyZcgLBsu7no3XYPCicwQk9/5oLSJDCL5W\n R/7CxwO1jykmoOcPR27PRLhz9hlDlOD/YVBV14Dekk=\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Mike Kelly &lt;mike@...&gt;\r\nSubject: Re: [rest-discuss] The proper thing to do with ESI: a custom\n hypermedia format?\r\nX-Yahoo-Group-Post: member; u=364579677; y=VTc0R3Ep9O4wQ8ejMAY6O4CzRA3QCfh-k4YniP1yEh78oNY\r\nX-Yahoo-Profile: pleb1985\r\n\r\nIf you served application/vnd.xhesiml+xhtml to a browser then the\nbrowser w=\r\non&#39;t render it and will display a download prompt instead, so\nthe reason I =\r\nused a the profile parameter for full page composites was\nbecause it means =\r\nan ESI intermediary would not have to rewrite the\nContent-Type header of th=\r\ne response. This is not an issue for\nfragments since the responses need nev=\r\ner reach the client.\n\nCheers,\nMike\n\nOn Tue, Feb 22, 2011 at 2:05 PM, Alessa=\r\nndro Nadalin\n&lt;alessandro.nadalin@...&gt; wrote:\n&gt; 2011/2/21 Mike Kelly &lt;=\r\nmike@...&gt;:\n&gt;&gt; Hi Alessandro,\n&gt;&gt;\n&gt;&gt; I think that&#39;s a decent idea, =\r\nI&#39;ve been mulling over this for a\n&gt;&gt; while.. By doing this you are increasi=\r\nng the visibility of the\n&gt;&gt; responses which will allow your ESI intermediar=\r\nies to operate more\n&gt;&gt; efficiently.\n&gt;&gt;\n&gt;&gt; I can see three distinct types wo=\r\nrth keeping visible:\n&gt;&gt;\n&gt;&gt; 1. Standard (X)HTML: which require no introspect=\r\nion as they contain no\n&gt;&gt; ESI controls, and should just pass through withou=\r\nt being processed.\n&gt;&gt; Use a &#39;normal&#39; identifier e.g. text/html etc.\n&gt;&gt;\n&gt;&gt; 2=\r\n. ESI composite: A full html document which requires introspection\n&gt;&gt; and E=\r\nSI processing. Use a specific identifier e.g.\n&gt;&gt; text/html;profile=3Desi-co=\r\nmposite\n&gt;&gt;\n&gt;&gt; 3. ESI fragment: An html fragment/partial for embedding in an=\r\nother ESI\n&gt;&gt; document - whilst not a full html document, these may also req=\r\nuire\n&gt;&gt; introspection as they can also be composites. Use a specific\n&gt;&gt; ide=\r\nntifier e.g. text/html;profile=3Desi-fragment or\n&gt;&gt; application/vnd.esi-fra=\r\ngment+html\n&gt;\n&gt; Just a question: why using a profile attribute over there? I=\r\n don&#39;t\n&gt; understand it very well. What does the profile let you do?\n&gt;\n&gt; I&#39; =\r\nformalizinf some stuff today and I was thinking I could do something like:\n=\r\n&gt; * application/vnd.xhesiml+xhtml ( for the whole page which includes ESI t=\r\nags )\n&gt; * application/vnd.xhesiml+xhtml;profile=3Dfragment ( for a page\n&gt; f=\r\nragment, which can include an ESI tag itself )\n&gt;\n&gt; But I&#39;m probably missing=\r\n something. Hints? Is it a good approach?\n&gt;\n&gt;&gt;\n&gt;&gt; These esi-specific identi=\r\nfiers may be worth standardizing publicly as\n&gt;&gt; an extension to the ESI pro=\r\ntocol.\n&gt;&gt;\n&gt;&gt; Cheers,\n&gt;&gt; Mike\n&gt;&gt;\n&gt;&gt; On Mon, Feb 21, 2011 at 8:56 AM, Alessan=\r\ndro Nadalin\n&gt;&gt; &lt;alessandro.nadalin@...&gt; wrote:\n&gt;&gt;&gt; Hi guys,\n&gt;&gt;&gt;\n&gt;&gt;&gt; I=\r\n was just wondering if something I thought was the most correct way\n&gt;&gt;&gt; to =\r\nhandle ESI in a RESTful way.\n&gt;&gt;&gt; I&#39;m just to represent some resources as we=\r\nbpages, ans some\n&gt;&gt;&gt; representations ( like an homepage ) are a simple mesh=\r\nup of various\n&gt;&gt;&gt; resources with ESI.\n&gt;&gt;&gt;\n&gt;&gt;&gt; The HTML looks like: https://=\r\ngist.github.com/836822\n&gt;&gt;&gt;\n&gt;&gt;&gt; Since the representations I want are some pi=\r\neces of (X)HTML rendered\n&gt;&gt;&gt; in a global context I would define my own hype=\r\nrmedia format, something\n&gt;&gt;&gt; like vnd.truncatedXHTML+XHTML.\n&gt;&gt;&gt; That&#39;s beca=\r\nuse I want to validate the representations included with\n&gt;&gt;&gt; ESI ( with a c=\r\nustom DTD, obviously ) without having to include N\n&gt;&gt;&gt; &lt;html&gt;&lt;head&gt;&lt;body&gt; t=\r\nags, given N as the number of resources I&#39;m\n&gt;&gt;&gt; including with ESI.\n&gt;&gt;&gt;\n&gt;&gt;&gt;=\r\n Am I missing something? Did I said some rubbish? :-)\n&gt;&gt;&gt;\n&gt;&gt;&gt; --\n&gt;&gt;&gt; Nadali=\r\nn Alessandro\n&gt;&gt;&gt; www.odino.org\n&gt;&gt;&gt; www.twitter.com/_odino_\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt; ----=\r\n--------------------------------\n&gt;&gt;&gt;\n&gt;&gt;&gt; Yahoo! Groups Links\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;=\r\n&gt;\n&gt;&gt;\n&gt;\n&gt;\n&gt;\n&gt; --\n&gt; Nadalin Alessandro\n&gt; www.odino.org\n&gt; www.twitter.com/_odi=\r\nno_\n&gt;\n\n"}}
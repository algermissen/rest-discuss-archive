{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":80827773,"authorName":"Seairth Jacobs","from":"&quot;Seairth Jacobs&quot; &lt;seairth@...&gt;","profile":"seairthjacobs","replyTo":"SENDER","senderId":"c1MRYyAUx-Q3SFMMBsthU1FddYuxfy_GqWk1boreeqqzbVbZq2nhiDqE3wpD-duls-P3rqIhl4zJwK15-KFGrhHicqgwITxRODbiTeo","spamInfo":{"isSpam":false,"reason":"0"},"subject":"more on authentication","postDate":"1030500901","msgId":2254,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDAwZWUwMWMyNGUzOCRiNzM2MjdmMCQ2NDAwYThjMEBzZWFpcnRobGFwdG9wPg=="},"prevInTopic":0,"nextInTopic":2256,"prevInTime":2253,"nextInTime":2255,"topicId":2254,"numMessagesInTopic":3,"msgSnippet":"So as the kids were running around on the playground this evening, a thought occurred to me concerning the recent discussions on state management and user","rawEmail":"Return-Path: &lt;seairth@...&gt;\r\nX-Sender: seairth@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nReceived: (EGP: mail-8_1_0_1); 28 Aug 2002 02:14:21 -0000\r\nReceived: (qmail 74219 invoked from network); 28 Aug 2002 02:14:21 -0000\r\nReceived: from unknown (66.218.66.218)\n  by m5.grp.scd.yahoo.com with QMQP; 28 Aug 2002 02:14:21 -0000\r\nReceived: from unknown (HELO mail.bbglobex.com) (208.251.163.4)\n  by mta3.grp.scd.yahoo.com with SMTP; 28 Aug 2002 02:14:21 -0000\r\nReceived: from seairthlaptop [68.10.252.58] by mail.bbglobex.com with ESMTP\n  (SMTPD32-7.12) id A10A17000D8; Tue, 27 Aug 2002 22:10:18 -0400\r\nMessage-ID: &lt;00ee01c24e38$b73627f0$6400a8c0@seairthlaptop&gt;\r\nTo: &quot;rest-discuss&quot; &lt;rest-discuss@yahoogroups.com&gt;\r\nSubject: more on authentication\r\nDate: Tue, 27 Aug 2002 22:15:01 -0400\r\nMIME-Version: 1.0\r\nContent-Type: text/plain;\n\tcharset=&quot;iso-8859-1&quot;\r\nContent-Transfer-Encoding: 7bit\r\nX-Priority: 3\r\nX-MSMail-Priority: Normal\r\nX-Mailer: Microsoft Outlook Express 6.00.2600.0000\r\nX-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000\r\nFrom: &quot;Seairth Jacobs&quot; &lt;seairth@...&gt;\r\nX-Yahoo-Group-Post: member; u=80827773\r\nX-Yahoo-Profile: seairthjacobs\r\n\r\nSo as the kids were running around on the playground this evening, a thought\noccurred to me concerning the recent discussions on state management and\nuser authentication.  To start, suppose the following URL:\n\nexample.com/doc.php/12345\n\nThis is a simple URL that returns a representation of a resource (in this\ncase a document with a public id of &quot;12345&quot;).  Now, as I have mentioned,\nthis resource can be viewed either anonymously (by anyone) or after being\nauthenticated.  When it becomes necessary to persist the authentication, we\nall agreed (I think) that http authentication was the way to go.  We also\nagree (I think) that the following method was a &quot;bad thing&quot;,\nRESTfully-speaking:\n\nexample.com/doc.php/12345?sessionid=67890\n\nHowever, it occurred to me that the problem with the above URL wasn&#39;t the\nuse of a query string, but what was *in* the query string.  Suppose instead\nthat I used the following URL once someone has been authenticated:\n\nexample.com/doc.php/12345?userid=seairth\n\nNow, the URL matches the representation of the resource being returned!  To\nme, this URL is cacheable.  I can throw this thing in my favorites.  I can\neven pass it to a friend.  Of course, when the server receives the request,\nit is going to look for authentication information a challenge it, but that\nis okay!\n\nNow, how is this different from the &quot;sessionid&quot; query string?  I can think\nof a couple of things:\n\n1) The returned representation is related to user, not the session.  The\nsession will change, but the user will not.  However, a different user will\nget back a different representation.\n\n2) With the second URL, there is now a direct corollary between the\nauthentication information and the identifier, which is not the case with a\nsessionid.  The sessionid is an added layer of indirection.\n\n\nSo, why use the &quot;userid&quot; concept?  Why not just leave it off altogether\n(i.e. just use the first URL above)?  Because you end up with a URL that\nreturns different representations based on metadata in the http header (the\nAuthorization header).  For instance, in my system, suppose you were to\ncompare an anonymous user, an authenticated user, and an authenticated user\nthat had &quot;reviewer&quot; status.  Here are the different representations\n(simplified) you would get back depending on who you were:\n\nAnonymous:\n    * You can view document.\n    * You can see current vote results, but do not what\n      your current vote is.\n    * You can see the list of subdocuments that have passed\n      peer review.\n\nAuthenticated:\n    * You can view document.\n    * You can see current vote results, as well as what your\n      current vote is (if you have voted).\n    * You can see the list of subdocuments that have passed\n      peer review.\n\nAuthenticated with &quot;reviewer&quot; status:\n    * You can view document.\n    * You can see current vote results, as well as what your\n      current vote is (if you have voted).\n    * You can see the list of subdocuments that have passed\n      peer review, as well as all subdocuments that are\n      waiting to be peer reviewed.\n\nNow, with the basic URL, you must rely on the authentication information to\ndetermine which of the above representations to return.  With the URL\ncontaining the userid, the authentication information only verifies that the\nrequest is allowed.  The URL itself actually identifies the representation\nto return.\n\nNow, that sounds RESTful to me.\n\nThoughts?\n\n---\nSeairth Jacobs\nseairth@...\n\n\n"}}
{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":69164307,"authorName":"mike amundsen","from":"&quot;mike amundsen&quot; &lt;mamund@...&gt;","profile":"mamund","replyTo":"SENDER","senderId":"GDM6RW1ej6Q56ee-xG3cO6j-__v-KghUpzE-dXtRthkp-dD1KO11QKgz1u2Cn6wtVuLDjU9RMKwUIeCVXi9pS_dqMwSb7vYOJA","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [rest-discuss] Versioning of RESTful services","postDate":"1211247242","msgId":10793,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PGI1NDhkZjY1MDgwNTE5MTgzNG0zN2NkNmQ3NmtkYjM3ZjgwMWVlMGNiODk5QG1haWwuZ21haWwuY29tPg==","inReplyToHeader":"PGI1NDhkZjY1MDgwNTE5MTgzM2s0OWQ1OWRlNnk3ZWVlNGM2OTVkMjA0NWY2QG1haWwuZ21haWwuY29tPg==","referencesHeader":"PDI4ZTI1NzExMDgwNTE5MTQ0Mmg0MmFmZWZiZWwzYjliNTNhNDQzNWJjMDI2QG1haWwuZ21haWwuY29tPgkgPEI2ODUzMTRFLUUxRTAtNEU2MC1BQ0I0LTQzNDYwMDgyRTAyNUBzdWJidS5vcmc+CSA8YjU0OGRmNjUwODA1MTkxODMzazQ5ZDU5ZGU2eTdlZWU0YzY5NWQyMDQ1ZjZAbWFpbC5nbWFpbC5jb20+"},"prevInTopic":10792,"nextInTopic":10794,"prevInTime":10792,"nextInTime":10794,"topicId":10760,"numMessagesInTopic":8,"msgSnippet":"copied to the list (sorry, bout that...) ... -- mca http://amundsen.com/blog/","rawEmail":"Return-Path: &lt;mca@...&gt;\r\nX-Sender: mca@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 2740 invoked from network); 20 May 2008 01:34:04 -0000\r\nX-Received: from unknown (66.218.67.96)\n  by m42.grp.scd.yahoo.com with QMQP; 20 May 2008 01:34:04 -0000\r\nX-Received: from unknown (HELO yw-out-1718.google.com) (74.125.46.155)\n  by mta17.grp.scd.yahoo.com with SMTP; 20 May 2008 01:34:03 -0000\r\nX-Received: by yw-out-1718.google.com with SMTP id 9so1277248ywk.64\n        for &lt;rest-discuss@yahoogroups.com&gt;; Mon, 19 May 2008 18:34:03 -0700 (PDT)\r\nX-Received: by 10.150.12.3 with SMTP id 3mr7082429ybl.18.1211247242775;\n        Mon, 19 May 2008 18:34:02 -0700 (PDT)\r\nX-Received: by 10.150.199.17 with HTTP; Mon, 19 May 2008 18:34:02 -0700 (PDT)\r\nMessage-ID: &lt;b548df650805191834m37cd6d76kdb37f801ee0cb899@...&gt;\r\nDate: Mon, 19 May 2008 21:34:02 -0400\r\nTo: rest-discuss@yahoogroups.com\r\nIn-Reply-To: &lt;b548df650805191833k49d59de6y7eee4c695d2045f6@...&gt;\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Transfer-Encoding: 7bit\r\nContent-Disposition: inline\r\nReferences: &lt;28e257110805191442h42afefbel3b9b53a4435bc026@...&gt;\n\t &lt;B685314E-E1E0-4E60-ACB4-43460082E025@...&gt;\n\t &lt;b548df650805191833k49d59de6y7eee4c695d2045f6@...&gt;\r\nX-Google-Sender-Auth: ba883b6b96163c51\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: &quot;mike amundsen&quot; &lt;mamund@...&gt;\r\nSubject: Re: [rest-discuss] Versioning of RESTful services\r\nX-Yahoo-Group-Post: member; u=69164307; y=lnqDCaTyXNI7LMrwnI4q6vV54h8_AVODQd9wNecFk3pW\r\nX-Yahoo-Profile: mamund\r\n\r\ncopied to the list (sorry, bout that...)\n\nOn Mon, May 19, 2008 at 9:33 PM, mike amundsen &lt;mca@...&gt; wrote:\n&gt; I&#39;ve thought about this one and one possible way to look at it is this:\n&gt;\n&gt; If you use a &quot;fully-hypermedia&quot; document model (i.e. you have a single\n&gt; bookmark into the application and then serve all other links via the\n&gt; response documents), then using a different media type can handle all\n&gt; the reasonable details of versioning your application.\n&gt;\n&gt; The &#39;entry URI&#39; (bookmarkable link) could determine the proper\n&gt; response based on the media type and:\n&gt; - serve up the proper document for this version (including the links\n&gt; appropriate for this version)\n&gt; - redirect (301) to an entirely new URI that contains the proper\n&gt; version of the document w/ links for the apprpriate version)\n&gt; - eventually return 415 (unsupported media type) for versions that\n&gt; have been &#39;deprecated&#39; completely.\n&gt;\n&gt; This begs the question of how to handle &#39;deep linking&#39; cases where the\n&gt; client has bookmarked other URI for your server application. Yeah, the\n&gt; messy part[grin]. As long as you are using custom media types, most of\n&gt; this will &#39;automagically&#39; work out fine:\n&gt; - links to the &#39;old version&#39; URI with the &#39;old version&#39; media type can\n&gt; behave as usual (supporting deprecated version of the app)\n&gt; - links to the &#39;old version&#39; with the &#39;old version&#39; media type can\n&gt; result in a redirect (301) (maybe to a warning page, or to workable\n&gt; data)\n&gt; - links to the &#39;old version&#39; URI with a new media type will return 415\n&gt; (mismatched media types)\n&gt; - again, eventually, links to the &#39;old&#39; URI w/ the &#39;old&#39; media-type\n&gt; can return 415 (we no longer support this version).\n&gt;\n&gt; In my mental experiments, this means that more thought must go into\n&gt; managing the URI set for a server application. Mainly, that you need\n&gt; to have some ideas for how to handle a deprecated URI (redirect is not\n&gt; safe for some workflow URI). Apps that use this model also need to be\n&gt; prepared to handle common web browsers where custom media types are\n&gt; usually not workable (expect via scripted Ajax, etc.). In that case,\n&gt; media-type resolution for &quot;text/html&quot; should result in the most recent\n&gt; version of the server application (ampping more than one media-type to\n&gt; a response document). This results in web browsers getting the latest\n&gt; version of the app as soon as it&#39;s publicly available.\n&gt;\n&gt; I&#39;d also be interested in Peter&#39;s comments on my musings. Am I coming\n&gt; close to the way you are thinking/using this pattern?\n&gt;\n&gt; MIke A\n&gt;\n&gt;\n&gt; On Mon, May 19, 2008 at 9:11 PM, Subbu Allamaraju &lt;subbu@...&gt; wrote:\n&gt;&gt; As long as the changes are compatible, the version identifier is\n&gt;&gt; redundant.\n&gt;&gt;\n&gt;&gt; But when it comes to incompatible changes, all bets are off anyway.\n&gt;&gt; Does it matter whether a the server designates a new set of URIs or\n&gt;&gt; relies on conneg as you are proposing?\n&gt;&gt;\n&gt;&gt; Subbu\n&gt;&gt;\n&gt;&gt; On May 19, 2008, at 2:42 PM, Peter Williams wrote:\n&gt;&gt;\n&gt;&gt;&gt; In rest-discuss@yahoogroups.com, &quot;Miles Crawford&quot; &lt;mcrawfor@...&gt;\n&gt;&gt;&gt; wrote:\n&gt;&gt;&gt; &gt;\n&gt;&gt;&gt; &gt; My question is about versioning RESTful resources with URIs.\n&gt;&gt;&gt; &gt; I often see as a &quot;best practice&quot; the user of a version number in\n&gt;&gt;&gt; &gt;  URIs such as:\n&gt;&gt;&gt; &gt;\n&gt;&gt;&gt; &gt; /v1/person/{username}\n&gt;&gt;&gt; &gt;\n&gt;&gt;&gt; &gt; and then, if your service changes:\n&gt;&gt;&gt; &gt;\n&gt;&gt;&gt; &gt; /v2/person/{username}\n&gt;&gt;&gt; &gt;\n&gt;&gt;&gt; &gt; So - here&#39;s my question.  Say my organization wants to create two\n&gt;&gt;&gt; &gt; services that relate to one another, a generic person service and a\n&gt;&gt;&gt; &gt; student service. How do I avoid loops that cause troubles with\n&gt;&gt;&gt; version\n&gt;&gt;&gt; &gt; numbers?\n&gt;&gt;&gt;\n&gt;&gt;&gt; Personally, I am quite uncomfortable with the idea mangling my URIs\n&gt;&gt;&gt; with a version number.  The issue you are asking about here is\n&gt;&gt;&gt; definitely one of the reasons.  Using content negotiation handle\n&gt;&gt;&gt; REST/HTTP service versioning works much better, in my experience.  I\n&gt;&gt;&gt; have written about such an approach at &lt;http://pezra.barelyenough.org/blog/2008/05/versioning-rest-web-services/\n&gt;&gt;&gt; &gt; if you are interested.\n&gt;&gt;&gt;\n&gt;&gt;&gt; --\n&gt;&gt;&gt; Peter Willams\n&gt;&gt;&gt; http://pezra.barelyenough.org\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; ------------------------------------\n&gt;&gt;\n&gt;&gt; Yahoo! Groups Links\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;\n&gt;\n&gt;\n&gt; --\n&gt; mca\n&gt; http://amundsen.com/blog/\n&gt;\n\n\n\n-- \nmca\nhttp://amundsen.com/blog/\n\n"}}
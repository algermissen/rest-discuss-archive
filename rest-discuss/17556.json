{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":364579677,"authorName":"Mike Kelly","from":"Mike Kelly &lt;mike@...&gt;","profile":"pleb1985","replyTo":"SENDER","senderId":"hurjJnV5Ew4nd0sAXT6lZr27AegPy1mBtgfJ_5rwrbDOyTq1Wdkln9VFNm7vnNiI5fEZUNx1Z4yiBbG7tXxxWmZSfCsZOw","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [rest-discuss] Stateful APIs","postDate":"1306400929","msgId":17556,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PEJBTkxrVGltRzdka1FfZl9FcnE3QjJvMEhrQXFrZDczN2lBQG1haWwuZ21haWwuY29tPg==","inReplyToHeader":"PEJBTkxrVGlrVkJkXzBoMWZvNERTdE1QVmRRM3J6UWQ9RTNnQG1haWwuZ21haWwuY29tPg==","referencesHeader":"PEJBTkxrVGltdkF2TXFXb3NPb3g2NW1na2pVKz1zZkdBYm9BQG1haWwuZ21haWwuY29tPgk8QkFOTGtUaW1WX0N2SG9Nd0xnMXN5X3N6dHJCNUorcHdUUUFAbWFpbC5nbWFpbC5jb20+CTxCQU5Ma1Rpa1ZCZF8waDFmbzREU3RNUFZkUTNyelFkPUUzZ0BtYWlsLmdtYWlsLmNvbT4="},"prevInTopic":17551,"nextInTopic":17557,"prevInTime":17555,"nextInTime":17557,"topicId":17546,"numMessagesInTopic":14,"msgSnippet":"... The Vary mechanism works against the request headers, since they are intended to help intermediaries negotiate requests on behalf of an origin server,","rawEmail":"Return-Path: &lt;mike@...&gt;\r\nX-Sender: mike@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 38645 invoked from network); 26 May 2011 09:08:53 -0000\r\nX-Received: from unknown (98.137.34.45)\n  by m7.grp.sp2.yahoo.com with QMQP; 26 May 2011 09:08:52 -0000\r\nX-Received: from unknown (HELO moutng.kundenserver.de) (212.227.126.186)\n  by mta2.grp.sp2.yahoo.com with SMTP; 26 May 2011 09:08:52 -0000\r\nX-Received: from mail-pw0-f47.google.com (mail-pw0-f47.google.com [209.85.160.47])\n\tby mrelayeu.kundenserver.de (node=mrbap0) with ESMTP (Nemesis)\n\tid 0MdEuZ-1Q7irI149D-00I8ys; Thu, 26 May 2011 11:08:51 +0200\r\nX-Received: by pwj9 with SMTP id 9so330036pwj.34\n        for &lt;rest-discuss@yahoogroups.com&gt;; Thu, 26 May 2011 02:08:49 -0700 (PDT)\r\nMIME-Version: 1.0\r\nX-Received: by 10.142.150.30 with SMTP id x30mr104704wfd.160.1306400929216; Thu,\n 26 May 2011 02:08:49 -0700 (PDT)\r\nX-Received: by 10.143.82.4 with HTTP; Thu, 26 May 2011 02:08:49 -0700 (PDT)\r\nIn-Reply-To: &lt;BANLkTikVBd_0h1fo4DStMPVdQ3rzQd=E3g@...&gt;\r\nReferences: &lt;BANLkTimvAvMqWosOox65mgkjU+=sfGAboA@...&gt;\n\t&lt;BANLkTimV_CvHoMwLg1sy_sztrB5J+pwTQA@...&gt;\n\t&lt;BANLkTikVBd_0h1fo4DStMPVdQ3rzQd=E3g@...&gt;\r\nDate: Thu, 26 May 2011 10:08:49 +0100\r\nMessage-ID: &lt;BANLkTimG7dkQ_f_Erq7B2o0HkAqkd737iA@...&gt;\r\nTo: craigmcc@...\r\nCc: Will Hartung &lt;willh@...&gt;, Sidu Ponnappa &lt;lorddaemon@...&gt;, \n\trest-discuss@yahoogroups.com\r\nContent-Type: multipart/alternative; boundary=000e0cd28d9c51f98d04a42a2b81\r\nX-Provags-ID: V02:K0:gCyqMeVCyjAOGtOyOdaNi1N7orts2U3E7KAdWjjumY+\n /Hnk4qYkrvfnRUoe/GduA2VLmBYfgeH0lPjcTbGZ0U/+ArkJha\n QQnQ34xzoVyPtGz9k7NGVeancmwxuUlxjfaeu3s5//5IwvP0uB\n PrbkEJFIuzS4fFfCbrfTtN4I1jwgLAtU6TgZCqOCv4Mm2bWg5f\n VvwsaKw8kPAcCZncS76XpLV8JG6sN8vs9gWnZx/b0o=\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Mike Kelly &lt;mike@...&gt;\r\nSubject: Re: [rest-discuss] Stateful APIs\r\nX-Yahoo-Group-Post: member; u=364579677; y=O1GuGO7liyJBGdfFMbesKFfVJogfyquT1P3G0VGNaCXovWE\r\nX-Yahoo-Profile: pleb1985\r\n\r\n\r\n--000e0cd28d9c51f98d04a42a2b81\r\nContent-Type: text/plain; charset=ISO-8859-1\r\n\r\nOn Wed, May 25, 2011 at 10:48 PM, Craig McClanahan &lt;craigmcc@...&gt;wrote:\n\n&gt;\n&gt;\n&gt; On Wed, May 25, 2011 at 2:20 PM, Will Hartung &lt;willh@...&gt; wrote:\n&gt; [snip]\n&gt;\n&gt;&gt; Having URLs return different representations based on who is logged in\n&gt;&gt; is perfectly acceptable HTTP. We see that all the time with cookies\n&gt;&gt; and what not. But it pretty much eliminates a lot of the benefits,\n&gt;&gt; such as caching. I don&#39;t know if proxies cache different the same URLs\n&gt;&gt; based on the authentication header or not. I doubt it.\n&gt;&gt;\n&gt;&gt; Depends on your cache headers (and properly implemented caches, of\n&gt; course).  If your responses include some HTTP header whose value depends on\n&gt; the authenticated user, you can include a &quot;Vary&quot; header to tell a cache to\n&gt; take the specified header into account when deciding whether an entry in the\n&gt; cache matches a subsequent request.\n&gt;\n&gt; The nitty gritty details are in Chapter 13 of the HTTP 1.1 spec &lt;\n&gt; http://www.w3.org/Protocols/rfc2616/rfc2616-sec13.html#sec13&gt;.\n&gt;\n\n\nThe Vary mechanism works against the request headers, since they are\nintended to help intermediaries negotiate requests on behalf of an origin\nserver, therefore varying against a header in the response won&#39;t work.\n\nThis type of resource variation is bad practice, and will cause you no end\nof unnecessary pain. User specific resources are distinct by definition so\ntreat them as such by giving them unique identifiers.. if doing this is a\nsignificant undertaking then your toolset is crap and needs changing.\n\nCheers,\nMike\n\r\n--000e0cd28d9c51f98d04a42a2b81\r\nContent-Type: text/html; charset=ISO-8859-1\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\n&lt;br&gt;&lt;br&gt;&lt;div class=3D&quot;gmail_quote&quot;&gt;On Wed, May 25, 2011 at 10:48 PM, Craig =\r\nMcClanahan &lt;span dir=3D&quot;ltr&quot;&gt;&lt;&lt;a href=3D&quot;mailto:craigmcc@...&quot;&gt;crai=\r\ngmcc@...&lt;/a&gt;&gt;&lt;/span&gt; wrote:&lt;br&gt;&lt;blockquote class=3D&quot;gmail_quote&quot; s=\r\ntyle=3D&quot;margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex;&quot;&gt;\n\n\n=\r\n\n\n\n\n\n        \n\n\n\n\n&lt;div&gt;\n\n\n\n\n\n&lt;br&gt;&lt;br&gt;\n\n\n\n\n&lt;div class=3D&quot;gmail_quote&quot;&gt;On Wed=\r\n, May 25, 2011 at 2:20 PM, Will Hartung &lt;span dir=3D&quot;ltr&quot;&gt;&lt;&lt;a href=3D&quot;ma=\r\nilto:willh@...&quot; target=3D&quot;_blank&quot;&gt;willh@...&lt;/a&gt;&gt;&lt;/sp=\r\nan&gt; wrote:&lt;br&gt;&lt;div&gt;[snip]&lt;/div&gt;&lt;div class=3D&quot;im&quot;&gt;\n&lt;blockquote class=3D&quot;gmai=\r\nl_quote&quot; style=3D&quot;margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left=\r\n:1ex&quot;&gt;\n&lt;div style=3D&quot;background-color:#fff&quot;&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;Having URLs retu=\r\nrn different representations based on who is logged in&lt;br&gt;\nis perfectly acc=\r\neptable HTTP. We see that all the time with cookies&lt;br&gt;\nand what not. But i=\r\nt pretty much eliminates a lot of the benefits,&lt;br&gt;\nsuch as caching. I don&=\r\n#39;t know if proxies cache different the same URLs&lt;br&gt;\nbased on the authen=\r\ntication header or not. I doubt it.&lt;br&gt;\n&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/block=\r\nquote&gt;&lt;/div&gt;&lt;div&gt;Depends on your cache headers (and properly implemented ca=\r\nches, of course). =A0If your responses include some HTTP header whose value=\r\n depends on the authenticated user, you can include a &quot;Vary&quot; head=\r\ner to tell a cache to take the specified header into account when deciding =\r\nwhether an entry in the cache matches a subsequent request.&lt;/div&gt;\n\n&lt;div&gt;&lt;br=\r\n&gt;&lt;/div&gt;&lt;div&gt;The nitty gritty details are in Chapter 13 of the HTTP 1.1 spec=\r\n &lt;&lt;a href=3D&quot;http://www.w3.org/Protocols/rfc2616/rfc2616-sec13.html#sec1=\r\n3&quot; target=3D&quot;_blank&quot;&gt;http://www.w3.org/Protocols/rfc2616/rfc2616-sec13.html=\r\n#sec13&lt;/a&gt;&gt;.&lt;/div&gt;\n&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/di=\r\nv&gt;&lt;div&gt;The Vary mechanism works against the request headers, since they are=\r\n intended to help intermediaries negotiate requests on behalf of an origin =\r\nserver, therefore varying against a header in the response won&#39;t work.&lt;=\r\n/div&gt;\n&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;This type of resource variation is bad practice, =\r\nand will cause you no end of unnecessary pain. User specific resources are =\r\ndistinct by definition so treat them as such by giving them unique identifi=\r\ners.. if doing this is a significant undertaking then your toolset is crap =\r\nand needs changing.&lt;/div&gt;\n&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Cheers,&lt;/div&gt;&lt;div&gt;Mike&lt;/div&gt;&lt;=\r\n/div&gt;\n\r\n--000e0cd28d9c51f98d04a42a2b81--\r\n\n"}}
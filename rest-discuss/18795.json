{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":22895181,"authorName":"Dan","from":"&quot;Dan&quot; &lt;dan@...&gt;","profile":"danhaywood@ymail.com","replyTo":"SENDER","senderId":"K3kafDBPX61PRViB5yZBHtasMs466oM-1y1s0qjj0pm4r_hjMCEGUw0vBXcp5yh6Qn0MBXMjBrkAgZ2XjB6gzqa536M5hYlUWPZv","spamInfo":{"isSpam":false,"reason":"3"},"subject":"409 or 412 (or something else? for optimistic locking violation)","postDate":"1334507792","msgId":18795,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PGptZXRlZytmamVwQGVHcm91cHMuY29tPg=="},"prevInTopic":0,"nextInTopic":18799,"prevInTime":18794,"nextInTime":18796,"topicId":18795,"numMessagesInTopic":3,"msgSnippet":"If I m using If-Match with ETag as a way of implementing optimistic locking (which I guess is a pretty standard approach), then should 409 or 412 be used to","rawEmail":"Return-Path: &lt;dan@...&gt;\r\nX-Sender: dan@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 43064 invoked from network); 15 Apr 2012 16:36:34 -0000\r\nX-Received: from unknown (98.137.35.160)\n  by m15.grp.sp2.yahoo.com with QMQP; 15 Apr 2012 16:36:34 -0000\r\nX-Received: from unknown (HELO ng7-ip2.bullet.mail.bf1.yahoo.com) (98.139.165.48)\n  by mta4.grp.sp2.yahoo.com with SMTP; 15 Apr 2012 16:36:34 -0000\r\nX-Received: from [98.139.164.124] by ng7.bullet.mail.bf1.yahoo.com with NNFMP; 15 Apr 2012 16:36:34 -0000\r\nX-Received: from [98.137.34.155] by tg5.bullet.mail.bf1.yahoo.com with NNFMP; 15 Apr 2012 16:36:34 -0000\r\nDate: Sun, 15 Apr 2012 16:36:32 -0000\r\nTo: rest-discuss@yahoogroups.com\r\nMessage-ID: &lt;jmeteg+fjep@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-compose\r\nX-eGroups-Msg-Info: 2:3:4:0:0\r\nFrom: &quot;Dan&quot; &lt;dan@...&gt;\r\nSubject: 409 or 412 (or something else? for optimistic locking violation)\r\nX-Yahoo-Group-Post: member; u=22895181; y=o81ni-qQ2H1qvGRtcvcpM8-iYcVwvZ-HW1QLr7Gez0gdXCp2JLmuwNhGl1OXmxA\r\nX-Yahoo-Profile: danhaywood@...\r\n\r\nIf I&#39;m using If-Match with ETag as a way of implementing optimistic locking=\r\n (which I guess is a pretty standard approach), then should 409 or 412 be u=\r\nsed to indicate that an optimistic locking problem.\n\nAccording to [1] and [=\r\n2], both seem to fit.  I presume there&#39;s a subtlety or two I&#39;m missing?\n\n\nT=\r\nhx \nDan\n\n\n[1] http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html\n[2] ht=\r\ntp://www.webdav.org/specs/rfc4918.html#rfc.section.12.1\n\n409: Conflicts are=\r\n most likely to occur in response to a PUT request. For example, if version=\r\ning were being used and the entity being PUT included changes to a resource=\r\n which conflict with those made by an earlier (third-party) request, the se=\r\nrver might use the 409 response to indicate that it can&#39;t complete the requ=\r\nest. In this case, the response entity would likely contain a list of the d=\r\nifferences between the two versions in a format defined by the response Con=\r\ntent-Type. [1]\n\n412: Any request can contain a conditional header defined i=\r\nn HTTP (If-Match, If-Modified-Since, etc.) or the &quot;If&quot; or &quot;Overwrite&quot; condi=\r\ntional headers defined in this specification. If the server evaluates a con=\r\nditional header, and if that condition fails to hold, then this error code =\r\nmust be returned. On the other hand, if the client did not include a condit=\r\nional header in the request, then the server must not use this status code.=\r\n [2]\n\n\n\n\n\n\n\n"}}
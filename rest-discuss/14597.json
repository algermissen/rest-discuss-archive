{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":274299176,"authorName":"Rickard Ã–berg","from":"=?ISO-8859-1?Q?Rickard_=D6berg?= &lt;rickardoberg@...&gt;","profile":"rickardoberg","replyTo":"SENDER","senderId":"5NWKtevB879liWAuMTrBNAUL1UNJK-dlfj3J5SYhzdOrXmaAjnY4jzHPd9ZI5Rv8RCu-QDOL3c96Gtkpx_aYvFOMoyFewJLLF2TN3f4kccYqZ8UinsY98VZGjiBXq7mx","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Data+actions in JSON?","postDate":"1263901870","msgId":14597,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDRCNTU5Q0FFLjgwODA0MDlAZ21haWwuY29tPg=="},"prevInTopic":0,"nextInTopic":14598,"prevInTime":14596,"nextInTime":14598,"topicId":14597,"numMessagesInTopic":14,"msgSnippet":"Hi, I ve been writing my app using a Java Swing client, and a server. The client asks for data in JSON-format from the server using a RESTful URL structure,","rawEmail":"Return-Path: &lt;rickardoberg@...&gt;\r\nX-Sender: rickardoberg@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 57983 invoked from network); 19 Jan 2010 11:51:35 -0000\r\nX-Received: from unknown (66.196.94.106)\n  by m5.grp.sp2.yahoo.com with QMQP; 19 Jan 2010 11:51:35 -0000\r\nX-Received: from unknown (HELO mail-ew0-f218.google.com) (209.85.219.218)\n  by mta2.grp.re1.yahoo.com with SMTP; 19 Jan 2010 11:51:35 -0000\r\nX-Received: by ewy10 with SMTP id 10so4966533ewy.35\n        for &lt;rest-discuss@yahoogroups.com&gt;; Tue, 19 Jan 2010 03:51:13 -0800 (PST)\r\nX-Received: by 10.213.39.70 with SMTP id f6mr1178432ebe.62.1263901873464;\n        Tue, 19 Jan 2010 03:51:13 -0800 (PST)\r\nReturn-Path: &lt;rickardoberg@...&gt;\r\nX-Received: from rickard-obergs-computer-2.local (ua-83-227-155-75.cust.bredbandsbolaget.se [83.227.155.75])\n        by mx.google.com with ESMTPS id 10sm9124289eyz.23.2010.01.19.03.51.11\n        (version=TLSv1/SSLv3 cipher=RC4-MD5);\n        Tue, 19 Jan 2010 03:51:12 -0800 (PST)\r\nMessage-ID: &lt;4B559CAE.8080409@...&gt;\r\nDate: Tue, 19 Jan 2010 12:51:10 +0100\r\nUser-Agent: Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10.5; en-GB; rv:1.9.1.7) Gecko/20100111 Thunderbird/3.0.1\r\nMIME-Version: 1.0\r\nTo: Rest List &lt;rest-discuss@yahoogroups.com&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: =?ISO-8859-1?Q?Rickard_=D6berg?= &lt;rickardoberg@...&gt;\r\nSubject: Data+actions in JSON?\r\nX-Yahoo-Group-Post: member; u=274299176; y=aqLKH2S9VxRN65Tw1emtabp4g0bNSN1O6cIN8hvkqQ1nnws4rUlr\r\nX-Yahoo-Profile: rickardoberg\r\n\r\nHi,\n\nI&#39;ve been writing my app using a Java Swing client, and a server. The \nclient asks for data in JSON-format from the server using a RESTful URL \nstructure, and present it in the UI. All is well.\n\nNow I&#39;m facing the problem of figuring out what the user is allowed to \ndo with the data, both based on security (=does the user have the \ncorrect role) and state (=is an action valid given the state). With an \nHTML client this would be easy, since then the HTML could change \ndepending on these things. In my situation, where the client just gets \nJSON-data, it seems to me that I have to extend my usage of JSON so that \nI can get both the data to view, and a list of what actions the client \nis allowed to perform, and then enable/disable UI elements accordingly.\n\nSomething like this would be sent from the server:\n{&quot;commands&quot;:[&quot;cmd1&quot;,&quot;cmd2],&quot;data&quot;:{&quot;foo&quot;:&quot;bar&quot;}}\n\nWith the above I can both get the data I need to show, and know what the \nuser is allowed to do with it.\n\nHas anyone done this? Or should I skip directly to XHTML instead and use \n&lt;a&gt;&#39;s to let the client know what it can do? And if so, how would the \ndata be best transferred (key/value data)?\n\nAny tips would be appreciated!\n\n/Rickard\n\n"}}
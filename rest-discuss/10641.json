{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":229827793,"authorName":"Steve Loughran","from":"&quot;Steve Loughran&quot; &lt;steve.loughran.soapbuilders@...&gt;","profile":"steve_loughran","replyTo":"SENDER","senderId":"b22rryJ7u0tx0z8PavPCzIaLKVUN-7-9ZhDksXPXQfMjRWG313_TjDOHYzPFAnKxz2H5hfEoXrrHuGQ9gELKloTrP-lV_nuqzhOW9EZnVYKoGQ9zrnLMVVHz5zMLq9o","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [rest-discuss] Amazon S3 tacks a COPY under PUT","postDate":"1208247514","msgId":10641,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDlkYzc4ZDdiMDgwNDE1MDExOGdiN2Q4YWFkcTE5ZDIyODEzNjgwYTYzMkBtYWlsLmdtYWlsLmNvbT4=","inReplyToHeader":"PDQ4MDQ1NkNDLjkwMzA4MDZAZ214LmRlPg==","referencesHeader":"PDlkYzc4ZDdiMDgwNDE0MDQwMHY0OGM0NjRkMnIzOGY4ZjJmNzYwNWMwNDFjQG1haWwuZ21haWwuY29tPgkgPDQ4MDMzRDkyLjMwNjAxMDNAZ214LmRlPgkgPGE2YTZkZjM2MDgwNDE0MDY1M3Y0ZGE3NjQ2cDI1OTJiNGM4MTAyMDY1MDlAbWFpbC5nbWFpbC5jb20+CSA8NUMzRjM2QUYtNEJEMi00OEQ4LUI5NzctRDc2NkExNjZCMUYyQGdtYWlsLmNvbT4JIDxhNmE2ZGYzNjA4MDQxNDE1MDVrMWQwNThlZTlrNjZlYmIzN2Y3NDVkZjIwY0BtYWlsLmdtYWlsLmNvbT4JIDw0ODA0NTZDQy45MDMwODA2QGdteC5kZT4="},"prevInTopic":10640,"nextInTopic":10642,"prevInTime":10640,"nextInTime":10642,"topicId":10613,"numMessagesInTopic":44,"msgSnippet":"... On a positive note, Amazon s AWS authentication protocol is also non-standard, so you need a patched client (reslet is one example) to work with it. But","rawEmail":"Return-Path: &lt;steve.loughran.soapbuilders@...&gt;\r\nX-Sender: steve.loughran.soapbuilders@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 55213 invoked from network); 15 Apr 2008 08:18:35 -0000\r\nX-Received: from unknown (66.218.67.96)\n  by m47.grp.scd.yahoo.com with QMQP; 15 Apr 2008 08:18:35 -0000\r\nX-Received: from unknown (HELO mu-out-0910.google.com) (209.85.134.188)\n  by mta17.grp.scd.yahoo.com with SMTP; 15 Apr 2008 08:18:35 -0000\r\nX-Received: by mu-out-0910.google.com with SMTP id g7so848253muf.7\n        for &lt;rest-discuss@yahoogroups.com&gt;; Tue, 15 Apr 2008 01:18:34 -0700 (PDT)\r\nX-Received: by 10.78.168.1 with SMTP id q1mr3866428hue.104.1208247514405;\n        Tue, 15 Apr 2008 01:18:34 -0700 (PDT)\r\nX-Received: by 10.78.161.3 with HTTP; Tue, 15 Apr 2008 01:18:34 -0700 (PDT)\r\nMessage-ID: &lt;9dc78d7b0804150118gb7d8aadq19d22813680a632@...&gt;\r\nDate: Tue, 15 Apr 2008 09:18:34 +0100\r\nCc: &quot;REST discuss&quot; &lt;rest-discuss@yahoogroups.com&gt;\r\nIn-Reply-To: &lt;480456CC.9030806@...&gt;\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Transfer-Encoding: 7bit\r\nContent-Disposition: inline\r\nReferences: &lt;9dc78d7b0804140400v48c464d2r38f8f2f7605c041c@...&gt;\n\t &lt;48033D92.3060103@...&gt;\n\t &lt;a6a6df360804140653v4da7646p2592b4c810206509@...&gt;\n\t &lt;5C3F36AF-4BD2-48D8-B977-D766A166B1F2@...&gt;\n\t &lt;a6a6df360804141505k1d058ee9k66ebb37f745df20c@...&gt;\n\t &lt;480456CC.9030806@...&gt;\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: &quot;Steve Loughran&quot; &lt;steve.loughran.soapbuilders@...&gt;\r\nSubject: Re: [rest-discuss] Amazon S3 tacks a COPY under PUT\r\nX-Yahoo-Group-Post: member; u=229827793; y=pS4q-EYJl26mK1_Zj12z9kwKhUp4mVqYzOACwBSKCkH4sngyhHhc7oQ\r\nX-Yahoo-Profile: steve_loughran\r\n\r\nOn Tue, Apr 15, 2008 at 8:18 AM, Julian Reschke &lt;julian.reschke@...&gt; wrote:\n&gt; Nick Gall wrote:\n&gt;\n&gt; &gt; ...\n&gt; &gt;\n&gt; &gt; I&#39;m glad to see that my question wasn&#39;t completely naive. As I understand\n&gt; the comments, the problem is not the use of PUT to make a copy per se,\n&gt; merely the use of an HTTP header to provide the URL for source of the copy\n&gt; instead of using an &quot;enclosed entity&quot; (as RFC 2616 calls it) containing the\n&gt; URL for the source of the copy.\n&gt; &gt;\n&gt; &gt; What threw me off a bit was Julian&#39;s question about why Amazon didn&#39;t use\n&gt; COPY or POST. As I understand it, simply substituting POST for PUT in the\n&gt; example I posted earlier in the thread wouldn&#39;t really solve the problem\n&gt; since POST, like PUT, requires that an enclosed entity be used -- not an\n&gt; HTTP header.\n&gt; &gt; ...\n&gt; &gt;\n&gt;\n&gt;  Well, I didn&#39;t recommend using the *same* message with POST. What I tried\n&gt; to say is that Amazon is inventing something new that will only work with\n&gt; clients written for that service, so it seems strange using PUT for it\n&gt; (which has well-defined semantics that IMHO aren&#39;t compatible with what\n&gt; they&#39;re doing).\n\n\nOn a positive note, Amazon&#39;s AWS authentication protocol is also\nnon-standard, so you need a patched client (reslet is one example) to\nwork with it. But Restlet (or Sun&#39;s JAX-RS impl) wont have S3 copy\nsupport\n&gt;\n&gt;  The right thing to do would be to use COPY which seems to do *exactly* what\n&gt; they want.\n&gt;\n\nI concur\n\nOnce you are into verb overloading based on extra headers, you are one\nstep away from\nPOST with a SOAPMethodName header.\n\n&gt; &gt; So this leads me to a follow up question: Using just GPPD (not COPY), what\n&gt; would be the most restful way of implementing a COPY operation? Would it\n&gt; simply be, as Jon Hanna suggested, to provide an app specific minimal XML\n&gt; wrapper around the source URL as the &quot;enclosed entity&quot;?\n&gt; &gt;\n&gt;\n&gt;  I don&#39;t see how COPY is not &quot;restful&quot;. Could you explain?\n&gt;\n&gt;  Yes, it doesn&#39;t use representations to transfer state, but that&#39;s mainly\n&gt; because the whole point of copying things within a server is that the client\n&gt; does not need to download and then re-upload the contents.\n\nIts a tough call this. If you are working with multi GB files and you\nhave to both wait and pay for the move/copy operations, you like to\nhave the server to do all the work themselves. But it is effectively\nan optimisation. You don&#39;t need it. I guess that&#39;s the solution: if we\ndon&#39;t like it, we ignore it.\n\noh, and speaking of aws people to complain to, Jeff Barr is another\nname I&#39;ve encountered in the distant past, but I have no email addr.\n\none thing that is clear from AWS is that there are multiple teams each\ngiven fairly free reign architecturally\n-S3: (nearly) pure REST\n-EC2: SOAP API which is probably built on apache Axis (as it works\nbest); all development going forward appears focused on the HTTP Query\nAPI which works with more clients.\n-SimpleDB: HTTP GET Queries again\nunderneath they have AWS authentication, and a standard XML format for\nerrors that includes extra diagnostics.\n\nId have hoped that there&#39;d be more RESTy stuff, but HTTP queries with\ntheir custom auth protocol (one that is brittle against client-side\nclock drift) seems to be their most common approach.\n\n-steve\n\n"}}
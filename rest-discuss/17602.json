{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":487862177,"authorName":"mark69_fnd","from":"&quot;mark69_fnd&quot; &lt;mark.kharitonov@...&gt;","profile":"mark69_fnd","replyTo":"SENDER","senderId":"O3hep-0Jtmo9vy5qJd8oNDW94XNsu2KpXvEgdMni-sdtkJS5D2YHSBQ2j1wS-zik1F8OOaKpk_FaVgxu-Bo-obWVygpxPcgx7mMI9BOKjg","spamInfo":{"isSpam":false,"reason":"6"},"subject":"Implementing implementation upgrade service RESTfully.","postDate":"1310283417","msgId":17602,"canDelete":false,"contentTrasformed":false,"systemMessage":true,"headers":{"messageIdInHeader":"PGl2YmtxcCtrcnFzQGVHcm91cHMuY29tPg=="},"prevInTopic":0,"nextInTopic":17603,"prevInTime":17601,"nextInTime":17603,"topicId":17602,"numMessagesInTopic":3,"msgSnippet":"Dear ladies and sirs. Please, forgive me for this long post, but I have to present the full context, before actually asking my question. Whoever is going to","rawEmail":"Return-Path: &lt;mark.kharitonov@...&gt;\r\nReceived: (qmail 36937 invoked from network); 11 Jul 2011 01:49:52 -0000\r\nReceived: from unknown (66.196.94.105)\n  by m14.grp.re1.yahoo.com with QMQP; 11 Jul 2011 01:49:52 -0000\r\nReceived: from unknown (HELO n37b.bullet.mail.sp1.yahoo.com) (66.163.168.151)\n  by mta1.grp.re1.yahoo.com with SMTP; 11 Jul 2011 01:49:52 -0000\r\nDKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoogroups.com; s=lima; t=1310348991; bh=jF2AYNvNBk+aVRZ/XRPmcdp1cuotXNk4iAXQ+IAvO1Y=; h=Received:Received:X-Sender:X-Apparently-To:X-Received:X-Received:X-Received:X-Received:X-Received:X-Received:Date:To:Message-ID:User-Agent:MIME-Version:Content-Type:X-Mailer:X-Yahoo-Newman-Property:X-Originating-IP:X-eGroups-Msg-Info:X-Yahoo-Post-IP:From:Subject:X-Yahoo-Group-Post:X-Yahoo-Profile:X-YGroups-SubInfo:Sender:X-eGroups-Approved-By:X-eGroups-Auth; b=cwXgrv7f6H9IVuTq6E5kpQ4cGE+zIxPTrgJ2jJ/p8w52QDn/ziS95CN8YkbvtXUXhpxaMmsVCi9Jh7VMRtxA3tsYyJakXb/xCYCm9r+ttaqenguygmDMO1I90gKLjIy+\r\nReceived: from [69.147.65.171] by n37.bullet.mail.sp1.yahoo.com with NNFMP; 11 Jul 2011 01:49:51 -0000\r\nReceived: from [98.137.34.72] by t13.bullet.mail.sp1.yahoo.com with NNFMP; 11 Jul 2011 01:49:51 -0000\r\nX-Sender: mark.kharitonov@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 23518 invoked from network); 10 Jul 2011 07:36:59 -0000\r\nX-Received: from unknown (98.137.34.44)\n  by m8.grp.sp2.yahoo.com with QMQP; 10 Jul 2011 07:36:59 -0000\r\nX-Received: from unknown (HELO ng1-ip2.bullet.mail.bf1.yahoo.com) (98.139.164.139)\n  by mta1.grp.sp2.yahoo.com with SMTP; 10 Jul 2011 07:36:58 -0000\r\nX-Received: from [98.139.164.122] by ng1.bullet.mail.bf1.yahoo.com with NNFMP; 10 Jul 2011 07:36:58 -0000\r\nX-Received: from [69.147.65.173] by tg3.bullet.mail.bf1.yahoo.com with NNFMP; 10 Jul 2011 07:36:57 -0000\r\nX-Received: from [98.137.35.12] by t15.bullet.mail.sp1.yahoo.com with NNFMP; 10 Jul 2011 07:36:57 -0000\r\nDate: Sun, 10 Jul 2011 07:36:57 -0000\r\nTo: rest-discuss@yahoogroups.com\r\nMessage-ID: &lt;ivbkqp+krqs@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: multipart/alternative; boundary=&quot;7-2885146841-4085817938=:0&quot;\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-system\r\nX-eGroups-Msg-Info: 1:6:0:0:0\r\nFrom: &quot;mark69_fnd&quot; &lt;mark.kharitonov@...&gt;\r\nSubject: Implementing implementation upgrade service RESTfully.\r\nX-Yahoo-Group-Post: member; u=487862177; y=-LZa3rmTPrhfVdZUn7uD8geO4UFJbSZyddbHCn2CQlqN9T2fiGqDzQZqBcqcsfo4kw-0tFK_Hp7xPYI\r\nX-Yahoo-Profile: mark69_fnd\r\nX-eGroups-Approved-By: gonga_thrash &lt;distobj@...&gt; via web; 11 Jul 2011 01:49:49 -0000\r\n\r\n\r\n--7-2885146841-4085817938=:0\r\nContent-Type: text/plain; charset=&quot;iso-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\nDear ladies and sirs.\n\nPlease, forgive me for this long post, but I have to=\r\n present the full\ncontext, before actually asking my question. Whoever is g=\r\noing to read\nthis post through - thank you for your patience.\n\nOur product =\r\nconsists of a server and multiple agents and we wish to\nimplement an agent =\r\nupgrade service, so that agents can upgrade their\nimplementation silently w=\r\nithout human intervention.\n\nI would also like to make the upgrade process i=\r\nn one round-trip to the\nservice, otherwise I have to deal with issues like =\r\nan agent getting\npartial implementation and I really really do not want to =\r\nallow it.\n\nMy current implementation uses overloaded POST method with the f=\r\nollowing\nsemantics:\n\n    * Agent periodically sends the server a mapping be=\r\ntween the names of\nthe files constituting the current implementation and th=\r\neir respective\nMD5 hash values. The mapping is represented in JSON.\n    * T=\r\nhe service compares the snapshot received from the agent with the\nlocal rep=\r\nository containing the most up-to-date agent implementation.\nThe service th=\r\nen composes the mapping between the names of the\nmodified/new files and the=\r\nir respective contents (zipped) and includes\nit in the response. Deleted fi=\r\nles are mapped with no content. The\nresponse is represented in JSON again.\n=\r\n\n\nFor instance, here is a sample request from an agent:\n\nPOST http://il-mar=\r\nk-lt/NC/AgentImplService/RepositoryDelta HTTP/1.1\nAccept: application/json,=\r\n application/xml, text/json, text/x-json,\ntext/javascript, text/xml, applic=\r\nation/json\nUser-Agent: RestSharp 101.3.0.0\nContent-Type: application/json\nH=\r\nost: il-mark-lt\nContent-Length: 4013\nExpect: 100-continue\nAccept-Encoding: =\r\ngzip, deflate\n\n{\n   &quot;Lib1.dll&quot;: &quot;Ud/QDKYI8CPcWTxwBhfLjQ=3D=3D&quot;,\n   &quot;Lib2.dl=\r\nl&quot;: &quot;2yjGP63c4PcdtkK+MQS+5g=3D=3D&quot;,\n   &quot;Lib3.dll&quot;: &quot;1slfkwOzqfj/RDEYSKDE/Q=\r\n=3D=3D&quot;,\n   &quot;Lib4.dll&quot;: &quot;l7Q8q4Tn2P6DSPkZS7GMQA=3D=3D&quot;,\n}\n\nIf nothing has c=\r\nhanged, then the service response would be:\n\nHTTP/1.1 200 OK\nContent-Length=\r\n: 5\nContent-Type: application/json\nServer: Microsoft-HTTPAPI/2.0\nDate: Thu,=\r\n 07 Jul 2011 13:51:50 GMT\n\n{}\n\nOtherwise, if for instance, Lib2 was changed=\r\n, Lib3 was deleted and Lib5\nwas added:\n\nHTTP/1.1 200 OK\nContent-Length: 591=\r\n\nContent-Type: application/json\nServer: Microsoft-HTTPAPI/2.0\nDate: Thu, 07=\r\n Jul 2011 13:59:16 GMT\n\n{\n   &quot;Lib2.dll&quot;: &quot;H4sIAAAA.........&quot;\n   &quot;Lib3.dll&quot;:=\r\n null\n   &quot;Lib5.dll&quot;: &quot;OPUguh89.........&quot;\n}\n\n(I have omitted the actual cont=\r\nents for the sake of clarity)\n\nThere is a mechanism on the server side that=\r\n prevents the service from\nserving requests while the local repository is b=\r\neing updated, so\neverything is fine on that end.\n\nAnother note to make is t=\r\nhat it is highly unlikely that anyone else, but\nour agents will ever use th=\r\nis service.\n\nWhat I am interested to know is whether it is feasible to impl=\r\nement it\nwith a single GET request utilizing some clever conditional and/or=\r\n\npartial GET semantics?\n\nThank you very much.\n\n\r\n--7-2885146841-4085817938=:0\r\nContent-Type: text/html; charset=&quot;iso-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\nDear ladies and sirs.&lt;br&gt;&lt;br&gt;Please, forgive me for this long post, but I h=\r\nave to present the full context, before actually asking my question. Whoeve=\r\nr is going to read this post through - thank you for your patience.&lt;br&gt;&lt;br&gt;=\r\nOur product consists of a server and multiple agents and we wish to impleme=\r\nnt an agent upgrade service, so that agents can upgrade their implementatio=\r\nn silently without human intervention.&lt;br&gt;&lt;br&gt;I would also like to make the=\r\n upgrade process in one round-trip to the service, otherwise I have to deal=\r\n with issues like an agent getting partial implementation and I really real=\r\nly do not want to allow it.&lt;br&gt;&lt;br&gt;My current implementation uses overloade=\r\nd POST method with the following semantics:&lt;br&gt;&lt;ul&gt;&lt;li&gt;Agent periodically s=\r\nends the server a mapping between the names of the files constituting the c=\r\nurrent implementation and their respective MD5 hash values. The mapping is =\r\nrepresented in JSON.&lt;/li&gt;&lt;li&gt;The service compares the snapshot received fro=\r\nm the agent with the local repository containing the most up-to-date agent =\r\nimplementation. The service then composes the mapping between the names of =\r\nthe modified/new files and their respective contents (zipped) and includes =\r\nit in the response. Deleted files are mapped with no content. The response =\r\nis represented in JSON again.&lt;br&gt;&lt;/li&gt;&lt;/ul&gt;&lt;br&gt;For instance, here is a samp=\r\nle request from an agent:&lt;br&gt;&lt;br&gt;&lt;font face=3D&quot;courier new&quot;&gt;POST http://il-=\r\nmark-lt/NC/AgentImplService/RepositoryDelta HTTP/1.1&lt;br&gt;Accept: application=\r\n/json, application/xml, text/json, text/x-json, text/javascript, text/xml, =\r\napplication/json&lt;br&gt;User-Agent: RestSharp 101.3.0.0&lt;br&gt;Content-Type: applic=\r\nation/json&lt;br&gt;Host: il-mark-lt&lt;br&gt;Content-Length: 4013&lt;br&gt;Expect: 100-conti=\r\nnue&lt;br&gt;Accept-Encoding: gzip, deflate&lt;br&gt;&lt;br&gt;{&lt;br&gt;&nbsp; &quot;Lib1.dll&quot;: &quot;Ud/QD=\r\nKYI8CPcWTxwBhfLjQ=3D=3D&quot;,&lt;br&gt;&nbsp; &quot;Lib2.dll&quot;: &quot;2yjGP63c4PcdtkK+MQS+5g=3D=\r\n=3D&quot;,&lt;br&gt;&nbsp; &quot;Lib3.dll&quot;: &quot;1slfkwOzqfj/RDEYSKDE/Q=3D=3D&quot;,&lt;br&gt;&nbsp; &quot;Lib4=\r\n.dll&quot;: &quot;l7Q8q4Tn2P6DSPkZS7GMQA=3D=3D&quot;,&lt;br&gt;}&lt;br&gt;&lt;/font&gt;&lt;br&gt;If nothing has ch=\r\nanged, then the service response would be:&lt;br&gt;&lt;br&gt;&lt;font face=3D&quot;courier new=\r\n&quot;&gt;HTTP/1.1 200 OK&lt;br&gt;Content-Length: 5&lt;br&gt;Content-Type: application/json&lt;br=\r\n&gt;Server: Microsoft-HTTPAPI/2.0&lt;br&gt;Date: Thu, 07 Jul 2011 13:51:50 GMT&lt;br&gt;&lt;b=\r\nr&gt;{}&lt;br&gt;&lt;/font&gt;&lt;br&gt;Otherwise, if for instance, Lib2 was changed, Lib3 was d=\r\neleted and Lib5 was added:&lt;br&gt;&lt;br&gt;&lt;font face=3D&quot;courier new&quot;&gt;HTTP/1.1 200 O=\r\nK&lt;br&gt;Content-Length: 591&lt;br&gt;Content-Type: application/json&lt;br&gt;Server: Micro=\r\nsoft-HTTPAPI/2.0&lt;br&gt;Date: Thu, 07 Jul 2011 13:59:16 GMT&lt;br&gt;&lt;br&gt;{&lt;br&gt;&nbsp; =\r\n&quot;Lib2.dll&quot;: &quot;H4sIAAAA.........&quot;&lt;br&gt;&nbsp; &quot;Lib3.dll&quot;: null&lt;br&gt;&nbsp; &quot;Lib5.=\r\ndll&quot;: &quot;OPUguh89.........&quot;&lt;br&gt;}&lt;br&gt;&lt;/font&gt;&lt;br&gt;(I have omitted the actual con=\r\ntents for the sake of clarity)&lt;br&gt;&lt;br&gt;There is a mechanism on the server si=\r\nde that prevents the service from serving requests while the local reposito=\r\nry is being updated, so everything is fine on that end.&lt;br&gt;&lt;br&gt;Another note=\r\n to make is that it is highly unlikely that anyone else, but our agents wil=\r\nl ever use this service.&lt;br&gt;&lt;br&gt;What I am interested to know is whether it =\r\nis feasible to implement it with a single GET request utilizing some clever=\r\n conditional and/or partial GET semantics?&lt;br&gt;&lt;br&gt;Thank you very much.&lt;br&gt;\n\r\n--7-2885146841-4085817938=:0--\r\n\n"}}
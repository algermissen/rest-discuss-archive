{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":223450640,"authorName":"Peter Lacey","from":"Peter Lacey &lt;placey@...&gt;","profile":"pete.lacey","replyTo":"SENDER","senderId":"EufaBik2pqFtkXTrLXNXirxOBdlHG4450-ppSlI83cjx5winQX-MCdIuBdjDv59j2S19LNAWfOw7T3cYL0uXzBEUu7B_VxbWaIIBOeTONA","spamInfo":{"isSpam":false,"reason":"3"},"subject":"Re: [rest-discuss] Re: POST-only resources","postDate":"1195054749","msgId":9822,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDQ3M0IxNjlELjQwMTAxMDlAd2FuZGVyaW5nYmFycXVlLmNvbT4=","inReplyToHeader":"PENFN0IyNUJBLTVDRTYtNDNDNS1BODU2LTFGM0QzQTA3RjZBMkBpbm5vcS5jb20+","referencesHeader":"PGZndmM2aCttNmhwQGVHcm91cHMuY29tPiA8RUIwNUJDNjAtMURBOC00Rjg1LUIxQTQtRDI5MTc1MEI4Njk0QGlubm9xLmNvbT4gPDIwMDcxMTA4MjEzOTEwLkdKMTY2NkBrbGFuZ3JhdW0+IDxDRTdCMjVCQS01Q0U2LTQzQzUtQTg1Ni0xRjNEM0EwN0Y2QTJAaW5ub3EuY29tPg=="},"prevInTopic":9796,"nextInTopic":9825,"prevInTime":9821,"nextInTime":9823,"topicId":9770,"numMessagesInTopic":33,"msgSnippet":"... Okay, apparently I need some more educatin . While the value of being able to dereference canceled orders and shipped orders etc. is pretty obvious, my","rawEmail":"Return-Path: &lt;placey@...&gt;\r\nX-Sender: placey@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 87638 invoked from network); 14 Nov 2007 15:39:17 -0000\r\nX-Received: from unknown (66.218.67.94)\n  by m46.grp.scd.yahoo.com with QMQP; 14 Nov 2007 15:39:16 -0000\r\nX-Received: from unknown (HELO wanderingbarque.net) (66.199.224.231)\n  by mta15.grp.scd.yahoo.com with SMTP; 14 Nov 2007 15:39:13 -0000\r\nX-Received: from [192.168.1.8] (c-71-233-236-110.hsd1.ma.comcast.net [71.233.236.110])\n\t(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))\n\t(No client certificate requested)\n\tby wanderingbarque.net (Postfix) with ESMTP\n\tid B0E0E8A19; Wed, 14 Nov 2007 10:39:12 -0500 (EST)\r\nMessage-ID: &lt;473B169D.4010109@...&gt;\r\nDate: Wed, 14 Nov 2007 07:39:09 -0800\r\nUser-Agent: Thunderbird 2.0.0.6 (Windows/20070728)\r\nMIME-Version: 1.0\r\nTo: Stefan Tilkov &lt;stefan.tilkov@...&gt;\r\nCc: REST Discuss &lt;rest-discuss@yahoogroups.com&gt;\r\nReferences: &lt;fgvc6h+m6hp@...&gt; &lt;EB05BC60-1DA8-4F85-B1A4-D291750B8694@...&gt; &lt;20071108213910.GJ1666@klangraum&gt; &lt;CE7B25BA-5CE6-43C5-A856-1F3D3A07F6A2@...&gt;\r\nIn-Reply-To: &lt;CE7B25BA-5CE6-43C5-A856-1F3D3A07F6A2@...&gt;\r\nContent-Type: text/plain; charset=windows-1252; format=flowed\r\nContent-Transfer-Encoding: 8bit\r\nX-eGroups-Msg-Info: 2:3:4:0:0\r\nFrom: Peter Lacey &lt;placey@...&gt;\r\nSubject: Re: [rest-discuss] Re: POST-only resources\r\nX-Yahoo-Group-Post: member; u=223450640; y=p11n2KpjrhmI-8aQYZ66hyH0aX2siWMDCCPf3ksJy9bbI_I7zQ\r\nX-Yahoo-Profile: pete.lacey\r\n\r\nStefan Tilkov wrote:\n&gt; On Nov 8, 2007, at 1:39 PM, A. Pagaltzis wrote:\n&gt;\n&gt;   \n&gt;&gt; * Stefan Tilkov &lt;stefan.tilkov@...&gt; [2007-11-08 17:50]:\n&gt;&gt;     \n&gt;&gt;&gt; I prefer to model something like this as two collection\n&gt;&gt;&gt; resources -- e.g. /cancelled-orders and /picked-orders --\n&gt;&gt;&gt; with the state change as a &quot;move&quot; from one to the other.\n&gt;&gt;&gt;       \n&gt;&gt; That fits nicely on the face of it� but it seems tricky to\n&gt;&gt; implement in HTTP to me. How is the move operation initiated?\n&gt;&gt; Do you adopt MOVE from WebDAV? Or do you use another verb � if\n&gt;&gt; so, to what URI and with what representation? And how is this\n&gt;&gt; communicated in hypermedia?\n&gt;&gt;\n&gt;&gt;     \n&gt;\n&gt; This was not exactly unexpected :-) I think it depends on which trade- \n&gt; off is more acceptable to me: building something that only works if  \n&gt; both /cancelled-orders and /picked-orders are held by the same server,  \n&gt; or incurring  a bit of overhead.\n&gt;\n&gt; In the first scenario, I could POST a representation containing the  \n&gt; URI to the order to be cancelled (let&#39;s say /submitted/123) to / \n&gt; cancelled. The server would internally move the resource and return  \n&gt; the location of the &quot;new&quot; (cancelled) order.\n&gt;\n&gt; In the second scenario, I&#39;d also do a POST with the URI to the  \n&gt; original to /cancelled. The server would retrieve the order  \n&gt; representation with GET, store it internally, DELETE the old one, and  \n&gt; return the location of the new one. As the original POST contains the  \n&gt; URI of the order to be moved it can be made idempotent (assuming the  \n&gt; server knows both the old and new URI).\n&gt;\n&gt;   \nOkay, apparently I need some more educatin&#39;. \n\nWhile the value of being able to dereference canceled orders and shipped \norders etc. is pretty obvious, my first instinct would be to make them \nread-only resources.  To me the fact that an order is shipped, canceled, \nand so on is a property of the order resource and not some derived \nresource.  And to change that state you would PUT a new representation \nto the existing order.  That is, /orders represents _all_ orders.  To \ncreate a new order, I POST to /orders.  The server would tell me that my \nnew order is available at /orders/123.  When I retrieve that order it \nmight look something like this (leaving out all angle-brackety looking \nthings)\n\nitem = ABC-123\nquantity = 10\nstatus = new\n\nIf I wanted to cancel the order, I would change the state to &quot;canceled&quot; \nand PUT it back.  I can even call OPTIONS on the resource first to see \nif it allows me to alter the order.  For new orders, GET and PUT can be \nreturned.  For canceled or shipped orders, just GET is returned.  And at \nany time I can GET /orders/new, /orders/canceled, /orders/shipped, etc.  \nTrying to alter any of those resources returns 405 Method Not Allowed.\n\nNow, I can see making things like /canceled etc. writable, if your \nrequirement was to treat an order cancellation as a thing unto itself \n(Wall St. probably works that way), and you wanted to allow users to \ntrack a cancellation and allow the business to report easily on \ncancellations.  But that doesn&#39;t seem to work here, where an order can \n&quot;move itself&quot; into other states, like shipped.\n\nSo, where did I go off the rails?\n\n- Pete\n\n"}}
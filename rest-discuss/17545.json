{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":471953390,"authorName":"Alistair Miles","from":"Alistair Miles &lt;alimanfoo@...&gt;","profile":"alistair.miles","replyTo":"SENDER","senderId":"1EDgLdv0PgB-LmeUsf3-7XIjdouB6NCLC5wKQSSuEWTNM59g6jXrfX35y3IYfVjOnNRqTYnhS7K0I58i7pArZT2wiTVa56k1ShJ_N35KwXU","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [rest-discuss] 401 vs. 403 with authenticated users","postDate":"1306334487","msgId":17545,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDIwMTEwNTI1MTQ0MTI3LkdEMTEzNzBAYWxpbWFuLWRlc2t0b3A+","inReplyToHeader":"PDMxRjYxQkM5LTc4RjMtNDA1OS05QUM2LTUwQTk1NkYxNzc1QkBtZS5jb20+","referencesHeader":"PDhBQUY4MTgzLTY2NzgtNDMzNC1CNzBGLTRFRDI4MkUxMDM4QkBqYXNvbmVyaWNrc29uLmNvbT4gPDMxRjYxQkM5LTc4RjMtNDA1OS05QUM2LTUwQTk1NkYxNzc1QkBtZS5jb20+"},"prevInTopic":17541,"nextInTopic":17553,"prevInTime":17544,"nextInTime":17546,"topicId":17540,"numMessagesInTopic":5,"msgSnippet":"... Hm, looking again at the HTTP spec, and in particular the definition of the 401 status code, I guess you could do it this way. But normally I do the","rawEmail":"Return-Path: &lt;alimanfoo@...&gt;\r\nX-Sender: alimanfoo@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 36759 invoked from network); 25 May 2011 14:41:31 -0000\r\nX-Received: from unknown (98.137.34.44)\n  by m6.grp.sp2.yahoo.com with QMQP; 25 May 2011 14:41:31 -0000\r\nX-Received: from unknown (HELO mail-ww0-f44.google.com) (74.125.82.44)\n  by mta1.grp.sp2.yahoo.com with SMTP; 25 May 2011 14:41:31 -0000\r\nX-Received: by wwa36 with SMTP id 36so5903387wwa.13\n        for &lt;rest-discuss@yahoogroups.com&gt;; Wed, 25 May 2011 07:41:30 -0700 (PDT)\r\nX-Received: by 10.217.7.66 with SMTP id z44mr4524297wes.100.1306334490521;\n        Wed, 25 May 2011 07:41:30 -0700 (PDT)\r\nReturn-Path: &lt;alimanfoo@...&gt;\r\nX-Received: from aliman-desktop (dhcp175.well.ox.ac.uk [129.67.45.18])\n        by mx.google.com with ESMTPS id g57sm334419wes.16.2011.05.25.07.41.29\n        (version=SSLv3 cipher=OTHER);\n        Wed, 25 May 2011 07:41:29 -0700 (PDT)\r\nDate: Wed, 25 May 2011 15:41:27 +0100\r\nTo: Jan Algermissen &lt;algermissen1971@...&gt;\r\nCc: Jason Erickson &lt;jason@...&gt;, rest-discuss@yahoogroups.com\r\nMessage-ID: &lt;20110525144127.GD11370@aliman-desktop&gt;\r\nReferences: &lt;8AAF8183-6678-4334-B70F-4ED282E1038B@...&gt;\n &lt;31F61BC9-78F3-4059-9AC6-50A956F1775B@...&gt;\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=us-ascii\r\nContent-Disposition: inline\r\nIn-Reply-To: &lt;31F61BC9-78F3-4059-9AC6-50A956F1775B@...&gt;\r\nUser-Agent: Mutt/1.5.21 (2010-09-15)\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Alistair Miles &lt;alimanfoo@...&gt;\r\nSubject: Re: [rest-discuss] 401 vs. 403 with authenticated users\r\nX-Yahoo-Group-Post: member; u=471953390; y=edPZPzZHgJWRwkIMxT39M1YevmPXJ7Tw_9m-1UlPZC8lGfw3qsPl-Bk6YCju\r\nX-Yahoo-Profile: alistair.miles\r\n\r\nOn Sat, May 21, 2011 at 07:55:05AM +0200, Jan Algermissen wrote:\n&gt; \n&gt; On May 21, 2011, at 1:12 AM, Jason Erickson wrote:\n&gt; \n&gt; &gt; \n&gt; &gt; \n&gt; &gt; This is specific to HTTP, but this seems like a good forum for it.  \n&gt; &gt; \n&gt; &gt; I have a URI that is restricted to certain authenticated users.  I an unauthenticated user attempted a GET, clearly it should respond with a 401.  However, if an authenticated user attempts to GET, but that user is not permitted to access that resource, is that a 403? The spec says that &quot;Authorization will not help and the request SHOULD NOT be repeated.&quot;  If the user is already authenticated, it is true that retrying the request will not work, however, if the user tries to re-authenticate with different credentials, he would be allowed to GET the resource.\n&gt; &gt; \n&gt; \n&gt; No, because access to the resource is forbidden.\n&gt; \n&gt; If the user is authenticated already but is not authorized to access the resource, send a 401 - which will trigger, for example a browser, to show the login dialog.\n&gt; \n&gt; After entering the right credentials for a login that is authorized for this resource, the server will respond 200.\n\nHm, looking again at the HTTP spec, and in particular the definition of the 401 \nstatus code, I guess you could do it this way. \n\nBut normally I do the following:\n\n* If a user is not yet authenticated, and attempts to access a protected \nresource, then the response is 401.\n\n* If a user attempts to authenticate, but provides bad or unrecognised \ncredentials, then the response is 401 again.\n\n* If a user is authenticated, and attempts to access a resource which they do \nnot have permission to access, send a 403 with an HTML entity explaining that \nthey don&#39;t have permission.\n\nUsually, you don&#39;t want to trigger a login dialog in a browser unless the user \ngot their username or password wrong. Triggering a login dialog as a way of \nsaying &quot;you don&#39;t have permission&quot; is potentially confusing, I would have \nthought.\n\nCheers,\n\nAlistair\n\n-- \nAlistair Miles\nHead of Epidemiological Informatics\nCentre for Genomics and Global Health &lt;http://cggh.org&gt;\nThe Wellcome Trust Centre for Human Genetics\nRoosevelt Drive\nOxford\nOX3 7BN\nUnited Kingdom\nWeb: http://purl.org/net/aliman\nEmail: alimanfoo@...\nTel: +44 (0)1865 287669\n\n"}}
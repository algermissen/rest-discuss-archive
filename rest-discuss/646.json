{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":23186829,"authorName":"Paul Prescod","from":"Paul Prescod &lt;paul@...&gt;","replyTo":"SENDER","senderId":"HXZCnQNOQrpIfXwock6jGOr_P0ujzrNEmHoP13IeCtwLuZfRzOK3BG5LM6Lew-Oy7zktnCaE8RZ4syj32HFv4F16vNgHIA","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [rest-discuss] One-shot notifications","postDate":"1012783832","msgId":646,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDNDNUREQUQ4LjcyRTY1MDU3QHByZXNjb2QubmV0Pg==","referencesHeader":"PE5FQkJKSUhNTUxLSEVPUE5PR0hER0VHTUZLQUEubHVjYXNAZ29uemUuY29tPg=="},"prevInTopic":644,"nextInTopic":649,"prevInTime":645,"nextInTime":647,"topicId":609,"numMessagesInTopic":24,"msgSnippet":"... Fine. But for performance reasons we need to leave hooks into *this* project that will allow us to inline useful information later. If the performance","rawEmail":"Return-Path: &lt;paul@...&gt;\r\nX-Sender: paul@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nReceived: (EGP: mail-8_0_1_3); 3 Feb 2002 21:52:30 -0000\r\nReceived: (qmail 7876 invoked from network); 3 Feb 2002 21:52:30 -0000\r\nReceived: from unknown (216.115.97.172)\n  by m8.grp.snv.yahoo.com with QMQP; 3 Feb 2002 21:52:30 -0000\r\nReceived: from unknown (HELO smtp1.ActiveState.com) (209.17.183.249)\n  by mta2.grp.snv.yahoo.com with SMTP; 3 Feb 2002 21:52:29 -0000\r\nReceived: from smtp3.ActiveState.com (smtp3.ActiveState.com [192.168.3.19])\n\tby smtp1.ActiveState.com (8.11.6/8.11.6) with ESMTP id g13LqRN23466\n\tfor &lt;rest-discuss@yahoogroups.com&gt;; Sun, 3 Feb 2002 13:52:27 -0800\r\nReceived: from prescod.net (ssh1.ActiveState.com [192.168.3.32])\n\tby smtp3.ActiveState.com (8.11.6/8.11.6) with ESMTP id g13LqPe06112\n\tfor &lt;rest-discuss@yahoogroups.com&gt;; Sun, 3 Feb 2002 13:52:25 -0800\r\nMessage-ID: &lt;3C5DDAD8.72E65057@...&gt;\r\nDate: Sun, 03 Feb 2002 16:50:32 -0800\r\nX-Mailer: Mozilla 4.76 [en] (Windows NT 5.0; U)\r\nX-Accept-Language: en\r\nMIME-Version: 1.0\r\nTo: rest-discuss@yahoogroups.com\r\nSubject: Re: [rest-discuss] One-shot notifications\r\nReferences: &lt;NEBBJIHMMLKHEOPNOGHDGEGMFKAA.lucas@...&gt;\r\nContent-Type: text/plain; charset=us-ascii\r\nContent-Transfer-Encoding: 7bit\r\nX-Filtered-By: PerlMx makes it fast and easy.  See http://www.ActiveState.com/Products/PerlMx/Header\r\nFrom: Paul Prescod &lt;paul@...&gt;\r\nX-Yahoo-Group-Post: member; u=23186829\r\n\r\nLucas Gonze wrote:\n&gt; \n&gt;...\n&gt; \n&gt; IMO this is a good thing, but not related to notifications.  The thing you are\n&gt; describing is updates.  I am _for_ dealing with updates, but as a separate\n&gt; project.\n\nFine. But for performance reasons we need to leave hooks into *this*\nproject that will allow us to inline useful information later. \n\nIf the performance characteristics of the protocol make it unusable for\nanything other than cache invalidation then it won&#39;t have met any of my\ngoals.\n\nIn almost every application I can think of (other than pure cache\ninvalidation), the common pattern is:\n\nGET\nNOTIFY\nGET\nNOTIFY\n\nSo you are going to trigger TCP connection/teardown twice for each\nnotification. Developers will hate that. If you know of a bunch of\napplications for a &quot;pure&quot; notification model then I&#39;d like to hear about\nthem. But almost anything that goes across organizational boundaries\nwill want a full update because you can&#39;t trust the other party to not\ndelete the data before you get to it.\n\n&gt; I don&#39;t mean fail silently.  If the re-subscribe fails, the server should say\n&gt; so.\n&gt; \n&gt; 1) A sink receives a notification that state on the server is different since\n&gt; the last time it requested a copy.\n&gt; 2) In the period between receiving the notification and requesting the new state\n&gt; subsequent notifications are meaningless, hence resubscribe is meaningless.\n\nI guess that&#39;s our problem. I&#39;m thinking ahead to inline representations\nand re-subscribe in responses. In that case, the inline representation\nis the equivalent of a GET.\n\nHere&#39;s another (somewhat less efficient) idea: the response to a NOTIFY\ncould return a Location: that says where to PUT the changed data.\nBecause all of the connections go from publisher to subscriber, the same\nTCP connection could be used.\n\nI kind of like that becuase the notification could say: &quot;the document is\n5MB. You may or may not want to fetch it unless you know you really need\nit.&quot;\n\n&gt; 3) Eventually the sink performs a request for the new state.  As part of the\n&gt; request the sink resubscribes.  (A combined operation will be hard to model in\n&gt; HTTP, but this message is not the place to articulate the problems.)\n\nWhat&#39;s wrong with the header approach from WD-NOTIFY?\n\n&gt;...\n&gt; A stock ticker isn&#39;t a usecase for idempotent notifications, FWIW.  Timing is\n&gt; everything with a ticker, so it should use an update approach. \n\nWell it is essentially impossible to guarantee latency on the public\nInternet anyhow. So I don&#39;t see a big difference between a notification\nmodel and an update model. Even without resource inlining, we&#39;re talking\nabout an extra second or two. For all you know, the message is already\nfive minutes late because of network congestion!\n\nI do think that notifications should be efficient enough for interactive\n(but not hard-realtime) use.\n\n Paul Prescod\n\n"}}
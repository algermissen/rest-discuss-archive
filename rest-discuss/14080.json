{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":242972596,"authorName":"JÃ¸rn Wildt","from":"=?iso-8859-1?Q?J=F8rn_Wildt?= &lt;jw@...&gt;","profile":"jorn_lind_nielsen","replyTo":"SENDER","senderId":"8YQjV_QWnvt25urPM9O79ldGHaElhL0JVwpKLz1gf3XAFrfN3du-WLKJpcMOgbqmfMu__Uf4QSFSmWr_lLtSc3Ya3SfUhIABQ0NhjclzAcmDeCncJviS-MI","spamInfo":{"isSpam":false,"reason":"3"},"subject":"Re: [rest-discuss] Documenting RESTful Services (part II)","postDate":"1260212389","msgId":14080,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDVDNTc2RjdCQzIyMTQwMkQ4Njk4RUEzRTMzMEVGQkVCQEpyblBDPg==","inReplyToHeader":"PGhmaThyOSsxbnFwQGVHcm91cHMuY29tPg==","referencesHeader":"PGhmaThyOSsxbnFwQGVHcm91cHMuY29tPg=="},"prevInTopic":14079,"nextInTopic":14081,"prevInTime":14079,"nextInTime":14081,"topicId":14079,"numMessagesInTopic":5,"msgSnippet":"It s amazing how easy it is to get this stuff wrong. Bugger! I was really trying hard to get it right. After reading up a few more blog post I would like to","rawEmail":"Return-Path: &lt;jw@...&gt;\r\nX-Sender: jw@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 1076 invoked from network); 7 Dec 2009 18:59:07 -0000\r\nX-Received: from unknown (98.137.34.46)\n  by m3.grp.sp2.yahoo.com with QMQP; 7 Dec 2009 18:59:07 -0000\r\nX-Received: from unknown (HELO smtp1.cybercity.dk) (212.242.43.251)\n  by mta3.grp.sp2.yahoo.com with SMTP; 7 Dec 2009 18:59:07 -0000\r\nX-Received: from uf7.cybercity.dk (uf7.cybercity.dk [212.242.42.164])\n\tby smtp1.cybercity.dk (Postfix) with ESMTP id 5EBEE586846\n\tfor &lt;rest-discuss@yahoogroups.com&gt;; Mon,  7 Dec 2009 20:02:08 +0100 (CET)\r\nX-Received: from JrnPC (port439.ds1-aroe.adsl.cybercity.dk [212.242.220.134])\n\t(Authenticated sender: dsl164923)\n\tby uf7.cybercity.dk (Postfix) with ESMTPA id 377597E80A7\n\tfor &lt;rest-discuss@yahoogroups.com&gt;; Mon,  7 Dec 2009 19:59:06 +0100 (CET)\r\nMessage-ID: &lt;5C576F7BC221402D8698EA3E330EFBEB@JrnPC&gt;\r\nTo: &lt;rest-discuss@yahoogroups.com&gt;\r\nReferences: &lt;hfi8r9+1nqp@...&gt;\r\nIn-Reply-To: &lt;hfi8r9+1nqp@...&gt;\r\nDate: Mon, 7 Dec 2009 19:59:49 +0100\r\nMIME-Version: 1.0\r\nContent-Type: multipart/alternative;\n\tboundary=&quot;----=_NextPart_000_090A_01CA7777.D528E0C0&quot;\r\nX-Priority: 3\r\nX-MSMail-Priority: Normal\r\nX-Mailer: Microsoft Windows Mail 6.0.6002.18005\r\nX-MimeOLE: Produced By Microsoft MimeOLE V6.0.6002.18005\r\nX-eGroups-Msg-Info: 2:3:4:0:0\r\nFrom: =?iso-8859-1?Q?J=F8rn_Wildt?= &lt;jw@...&gt;\r\nSubject: Re: [rest-discuss] Documenting RESTful Services (part II)\r\nX-Yahoo-Group-Post: member; u=242972596; y=xUH4pIVxIIIuO4F6_dttWtuz_ltrcPMzSFHDjB6vnZLsxV7SjY4z5hcup70\r\nX-Yahoo-Profile: jorn_lind_nielsen\r\n\r\n\r\n------=_NextPart_000_090A_01CA7777.D528E0C0\r\nContent-Type: text/plain;\n\tcharset=&quot;iso-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\nIt&#39;s amazing how easy it is to get this stuff wrong. Bugger! I was really t=\r\nrying hard to get it right. After reading up a few more blog post I would l=\r\nike to correct some issues (thanks to Duncan Cragg for his great REST dialo=\r\ngues).\n\nDescribing actions\nThe example action URLs illustrated some wrong t=\r\nhinking. The links should be to other resources, nouns, not verbs as I used=\r\n for examples. Instead of a &quot;buy&quot; and &quot;rate&quot; URL, it should be &quot;orders&quot; (to=\r\n which a new order can be posted) and &quot;ratings&quot; (to which a new rating can =\r\nbe posted). So it should be:\n\n&lt;movie&gt;\n ...\n &lt;actions&gt;\n  &lt;link href=3D&quot;http:=\r\n//movies.org/movie/1234/orders&quot; rel=3D&quot;orders&quot;/&gt;\n  &lt;link href=3D&quot;http://mov=\r\nie-rating.org/ratings/1234&quot; rel=3D&quot;ratings&quot;/&gt;\n &lt;/actions&gt;\n&lt;/move&gt;\n\n\nDescrib=\r\ning content types\nAnother thing I missed, and which I believe lots of other=\r\n people overlook when designing REST APIs, is that content type description=\r\ns describe not only the returned content type, but also what you can do wit=\r\nh it! The last was not obvious to me - and it explains why it is so hard to=\r\n grasp that content types are the only descriptions needed: if you only con=\r\nsider content types as a returned type description then you cannot see wher=\r\ne the state changes are described.\n\nIn the movies example this means the re=\r\nturned content type of the /movies collection could be application/vnd.movi=\r\nes+xml with a content type description that says &quot;you can use &#39;category&#39; as=\r\n a query parameter to filter movie collections by category&quot;. Right?\n\nThe sa=\r\nme idea goes for buying a movie: the content type of /movies/1234/orders is=\r\n application/vnd.movies.order+xml with a description that says &quot;you can buy=\r\n a movie by POSTing a new order to any movie order collection&quot;.\n\n\nOpen ques=\r\ntions ...\nI still find the XHTML forms description of a ressource as an int=\r\neresting idea. Does anyone have experience with it?\n\nConsider a movie colle=\r\nction ressource with content type application/vnd.movies+xml: I can search =\r\nthis collection by posting a search query (and get redirected to the result=\r\n) - but how do the service destinguish between posting a search query and p=\r\nosting a new movie? By simply looking at the posted data?\n\n\nThanks, J=F8rn\n\r\n------=_NextPart_000_090A_01CA7777.D528E0C0\r\nContent-Type: text/html;\n\tcharset=&quot;iso-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\n&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.0 Transitional//EN&quot;&gt;\n&lt;HTML&gt;&lt;HEAD&gt;=\r\n\n&lt;META content=3D&quot;text/html; charset=3Diso-8859-1&quot; http-equiv=3DContent-Typ=\r\ne&gt;\n&lt;META name=3DGENERATOR content=3D&quot;MSHTML 8.00.6001.18852&quot;&gt;\n&lt;STYLE&gt;&lt;/STYL=\r\nE&gt;\n&lt;/HEAD&gt;\n&lt;BODY style=3D&quot;BACKGROUND-COLOR: #fff&quot; bgColor=3D#ffffff&gt;\n&lt;DIV&gt;&lt;=\r\nFONT size=3D2 face=3DArial&gt;It&#39;s amazing how easy it is to get this stuff \nw=\r\nrong. Bugger! I was really trying hard to get it right. After reading up a =\r\nfew \nmore blog post I would like to correct some issues (thanks to Duncan C=\r\nragg for \nhis&nbsp;great REST dialogues).&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT size=3D2 =\r\nface=3DArial&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT size=3D2 face=3DArial&gt;&lt;STRONG&gt;D=\r\nescribing actions&lt;/STRONG&gt;&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT size=3D2 face=3DArial&gt;Th=\r\ne example action URLs illustrated some wrong \nthinking. The links should be=\r\n to other resources, nouns, not verbs as I used for \nexamples. Instead of a=\r\n &quot;buy&quot;&nbsp;and &quot;rate&quot; URL, it should be &quot;orders&quot; (to \nwhich a new order ca=\r\nn be posted) and &quot;ratings&quot; (to which a new rating can be \nposted). So it sh=\r\nould be:&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT size=3D2 face=3DArial&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;\n=\r\n&lt;DIV&gt;&lt;FONT size=3D2 face=3DArial&gt;&lt;FONT size=3D3&gt;&lt;FONT \nface=3D&quot;Courier New&quot;=\r\n&gt;&lt;movie&gt;&lt;BR&gt;&nbsp;...&lt;BR&gt;&nbsp;&lt;actions&gt;&lt;BR&gt;&nbsp; \n&lt;link hr=\r\nef=3D&quot;&lt;A \nhref=3D&quot;http://movies.org/movie/1234/orders&quot;&gt;http:/&lt;WBR&gt;/movies.o=\r\nrg/&lt;WBR&gt;movie/1234/&lt;WBR&gt;orders&lt;/A&gt;&quot; \nrel=3D&quot;orders&quot;&lt;WBR&gt;/&gt;&lt;BR&gt;&nbsp; &lt=\r\n;link \nhref=3D&quot;http:/&lt;WBR&gt;/movie-rating.&lt;WBR&gt;org/ratings/&lt;WBR&gt;1234&quot; \nrel=3D=\r\n&quot;ratings&quot;&lt;WBR&gt;/&gt;&lt;BR&gt;&nbsp;&lt;/actions&gt;&lt;BR&gt;&lt;/move&gt;&lt;BR&gt;&lt;BR&gt;&lt;/FON=\r\nT&gt;&lt;/FONT&gt;&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT size=3D2 face=3DArial&gt;&lt;STRONG&gt;Describing =\r\ncontent \ntypes&lt;/STRONG&gt;&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT size=3D2 face=3DArial&gt;Anoth=\r\ner thing I missed, and which I believe lots of \nother people overlook when =\r\ndesigning REST APIs, is that content type \ndescriptions describe not only t=\r\nhe returned content type, but also what you can \ndo with it! The last was n=\r\not obvious to me - and it explains why it is so hard \nto grasp that content=\r\n types are the only descriptions needed: if you only \nconsider content type=\r\ns as a returned type description then you cannot see where \nthe state chang=\r\nes are described.&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT size=3D2 face=3DArial&gt;&lt;/FONT&gt;&nbs=\r\np;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT size=3D2 face=3DArial&gt;In the movies example this means =\r\nthe returned \ncontent type of the /movies collection could be application/v=\r\nnd.movies+xml with \na content type description that says &quot;you can use &#39;cate=\r\ngory&#39; as a query \nparameter to filter movie collections by category&quot;. Right=\r\n?&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT size=3D2 face=3DArial&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;F=\r\nONT size=3D2 face=3DArial&gt;The same idea goes for buying a movie: the conten=\r\nt \ntype of /movies/1234/orders is application/vnd.movies.order+xml with a \n=\r\ndescription that says &quot;you can buy a movie by POSTing a new order to any mo=\r\nvie \norder collection&quot;.&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT size=3D2 face=3DArial&gt;&lt;/FON=\r\nT&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT size=3D2 face=3DArial&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;F=\r\nONT size=3D2 face=3DArial&gt;&lt;STRONG&gt;Open questions ...&lt;/STRONG&gt;&lt;/FONT&gt;&lt;/DIV&gt;\n=\r\n&lt;DIV&gt;&lt;FONT size=3D2 face=3DArial&gt;I still find the XHTML forms description o=\r\nf a \nressource as an interesting idea. Does anyone have experience with \nit=\r\n?&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT size=3D2 face=3DArial&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;F=\r\nONT size=3D2 face=3DArial&gt;Consider a movie collection ressource with conten=\r\nt \ntype application/vnd.movies+xml: I can search this collection by posting=\r\n a \nsearch query (and get redirected to the result) - but how do the servic=\r\ne \ndestinguish between posting a search query and posting a new movie? By s=\r\nimply \nlooking at the posted data?&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT size=3D2 face=3D=\r\nArial&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT size=3D2 face=3DArial&gt;&lt;/FONT&gt;&nbsp;&lt;/D=\r\nIV&gt;\n&lt;DIV&gt;&lt;FONT size=3D2 face=3DArial&gt;Thanks, J=F8rn&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT=\r\n size=3D2 face=3DArial&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;&lt;/BODY&gt;&lt;/HTML&gt;\n\r\n------=_NextPart_000_090A_01CA7777.D528E0C0--\r\n\n"}}
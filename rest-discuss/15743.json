{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":266460716,"authorName":"Eric J. Bowman","from":"&quot;Eric J. Bowman&quot; &lt;eric@...&gt;","replyTo":"SENDER","senderId":"AIp6FG3F6cWeONRNKFPdHqTxiZ2B4RreYK_x9q-stoz1rn8abVoGViTbCBA4EVAA42ZWAmNwvZ8xp_DdTCwsBfv15NutAd51FKjc_jENLg","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [rest-discuss] Re: Content-Location best practice? (was:  Determining which Media type for post/put)","postDate":"1277235358","msgId":15743,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDIwMTAwNjIyMTMzNTU4LjRkMmQwNjZmLmVyaWNAYmlzb25zeXN0ZW1zLm5ldD4=","inReplyToHeader":"PEFBTkxrVGluVDJBWkJfbjEzZ01TTHNXNlRwanZXSUF2b1czNVVqS1hDNzNMcUBtYWlsLmdtYWlsLmNvbT4=","referencesHeader":"PEFBTkxrVGltMVlQZXYwVENWYXdDNFlGV2hMNmJ4WGtTTGlGNV9WOUljTloyUkBtYWlsLmdtYWlsLmNvbT4JPDIwMTAwNjE4MDYyMzEwLmY5MjFiZDcxLmVyaWNAYmlzb25zeXN0ZW1zLm5ldD4JPEFBTkxrVGltaDVzb3VxOUVDeE1OUDRPOXBHN3R6X3huNEMyYXdjc1JFdkpQM0BtYWlsLmdtYWlsLmNvbT4JPDIwMTAwNjE4MDkwMDU5LjhkNmI1ZjU4LmVyaWNAYmlzb25zeXN0ZW1zLm5ldD4JPEFBTkxrVGluVDJBWkJfbjEzZ01TTHNXNlRwanZXSUF2b1czNVVqS1hDNzNMcUBtYWlsLmdtYWlsLmNvbT4="},"prevInTopic":15742,"nextInTopic":15744,"prevInTime":15742,"nextInTime":15744,"topicId":15724,"numMessagesInTopic":11,"msgSnippet":"... No, I m saying that given negotiated (except for compression) resource /R , each variant n must also be a representation of some other resource Rn.  I say","rawEmail":"Return-Path: &lt;eric@...&gt;\r\nX-Sender: eric@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 66318 invoked from network); 22 Jun 2010 19:37:17 -0000\r\nX-Received: from unknown (98.137.34.46)\n  by m12.grp.re1.yahoo.com with QMQP; 22 Jun 2010 19:37:17 -0000\r\nX-Received: from unknown (HELO mxout-08.mxes.net) (216.86.168.183)\n  by mta3.grp.sp2.yahoo.com with SMTP; 22 Jun 2010 19:37:16 -0000\r\nX-Received: from bigbison (unknown [65.117.211.162])\n\t(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))\n\t(No client certificate requested)\n\tby smtp.mxes.net (Postfix) with ESMTPSA id 67609509DB;\n\tTue, 22 Jun 2010 15:36:45 -0400 (EDT)\r\nDate: Tue, 22 Jun 2010 13:35:58 -0600\r\nTo: Peter Williams &lt;pezra@...&gt;\r\nCc: Tim Williams &lt;williamstw@...&gt;, Rest List\n &lt;rest-discuss@yahoogroups.com&gt;\r\nMessage-Id: &lt;20100622133558.4d2d066f.eric@...&gt;\r\nIn-Reply-To: &lt;AANLkTinT2AZB_n13gMSLsW6TpjvWIAvoW35UjKXC73Lq@...&gt;\r\nReferences: &lt;AANLkTim1YPev0TCVawC4YFWhL6bxXkSLiF5_V9IcNZ2R@...&gt;\n\t&lt;20100618062310.f921bd71.eric@...&gt;\n\t&lt;AANLkTimh5souq9ECxMNP4O9pG7tz_xn4C2awcsREvJP3@...&gt;\n\t&lt;20100618090059.8d6b5f58.eric@...&gt;\n\t&lt;AANLkTinT2AZB_n13gMSLsW6TpjvWIAvoW35UjKXC73Lq@...&gt;\r\nOrganization: Bison Systems Corporation\r\nX-Mailer: Sylpheed 3.0.0 (GTK+ 2.10.14; i686-pc-mingw32)\r\nMime-Version: 1.0\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Transfer-Encoding: quoted-printable\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: &quot;Eric J. Bowman&quot; &lt;eric@...&gt;\r\nSubject: Re: [rest-discuss] Re: Content-Location best practice? (was: \n Determining which Media type for post/put)\r\nX-Yahoo-Group-Post: member; u=266460716\r\n\r\nPeter Williams wrote:\n&gt;\n&gt; &gt; Which leads us back to REST. =A0The claim that =\r\na representation is a\n&gt; &gt; resource is wrong, of course. =A0The common advic=\r\ne to treat variants\n&gt; &gt; as resources in their own right, should really be &quot;=\r\ntreat variants\n&gt; &gt; also as representations of another resource&quot; but that&#39;s =\r\nmore\n&gt; &gt; confusing to say.\n&gt; \n&gt; I think what you are saying is something li=\r\nke the following.  For a\n&gt; resource R1 with more than one member there must=\r\n exist some other\n&gt; resources whose memberships are {e in R1,e acceptable t=\r\no a specific\n&gt; subset of clients} such that every member of R1 is the sole =\r\nmember of\n&gt; one of these other resources.\n&gt; \n\nNo, I&#39;m saying that given neg=\r\notiated (except for compression) resource \n/R , each variant n must also be=\r\n a representation of some other\nresource Rn.  I say nothing about not negot=\r\niating Rn, by Transfer-\nEncoding or any other selection headers.\n\nContent n=\r\negotiation allows multiple representations to share the same\nURI.  Maybe it=\r\n would help to think of this, except for compression, as\nallowing represent=\r\nations of multiple resources to share a negotiated\nURI.\n\n&gt;\n&gt; This propositi=\r\non does not follow from any of the constraints.  Nor is\n&gt; it covered explic=\r\nitly in the dissertation.  It is also not required,\n&gt; at least in principle=\r\n, to achieve any of the desired qualities of a\n&gt; REST style architecture.\n&gt;=\r\n \n\nI think a dissertation which covered all use cases would need to be\nthou=\r\nsands of pages long, at a minimum.  The desirable qualities which\nresult fr=\r\nom assigning URIs to variants, are those of the self-\ndescriptive messaging=\r\n constraint.  A failure to distinguish one variant\nfrom another (IOW, a fai=\r\nlure to apply the identification of resources\nconstraint) results in a fail=\r\nure to apply the self-descriptive messaging\nconstraint, with all the associ=\r\nated consequences.\n\nI mentioned this before, that we could talk about faili=\r\nng to assign\nURIs to variants as a violation of self-descriptive messaging,=\r\n but that\nit&#39;s really a violation of the identification of resources constr=\r\naint\nthat&#39;s prerequisite to self-descriptive messaging.\n\n&gt;\n&gt; Given a resour=\r\nce R=3D{E1,E2}, if there was no resource R2 =3D {one e in R,\n&gt; e acceptable=\r\n clients to which E1 is acceptable} no REST constraints\n&gt; are violated unle=\r\nss you have a preexisting notion that R2 must exist.\n&gt;\n\nSomewhat true, exce=\r\npt I&#39;d call it certain knowledge that R2 does indeed\nexist.\n\n&gt;\n&gt; The constr=\r\naint violation you keep bring up is dependent on the\n&gt; assertion that the r=\r\nesource in question exists.  IOW, it seems your\n&gt; argument is, the resource=\r\n R2 must exist because it does not then you\n&gt; have failed to identify the r=\r\nesource R2.\n&gt; \n\nNo.  The consequences I&#39;ve pointed out result from diminish=\r\ned\nvisibility.  This diminished visibility proves a REST mismatch.  The\ncon=\r\nsequences of the diminished visibility are solved completely by\nassigning U=\r\nRIs to variants to increase visibility.  This improved\nvisibility may be at=\r\ntributed to meeting the self-descriptive messaging\nconstraint.  But this co=\r\nnstraint was met by identifying more resources\nimportant to the system, so =\r\nthe REST mismatch must have been the\nidentification of resources constraint=\r\n.\n\nSo I&#39;m not saying that R2 must exist because it can be assigned a URI\n(a=\r\nlthough the fact that being able to assign it a URI proves that the\nresourc=\r\ne does exist).  I&#39;m saying that a failure to recognize that other\nabstracti=\r\nons are important to a conneg system, results in easily-proven\nvisibility r=\r\neductions which indicate a REST mismatch.  The fact that\nthis mismatch is c=\r\nleared by assigning URIs to variants, proves one of\ntwo things -- either HT=\r\nTP conneg is itself a REST mismatch, or that the\nmismatch was the direct re=\r\nsult of failing to apply the identification\nof resources constraint.\n\n&gt;\n&gt; T=\r\nhe above seems complicated to point of absurdity.  One the other\n&gt; hand, wh=\r\nen approaching the question of when variant should be\n&gt; resources for appli=\r\ncation stand point it becomes quite simple.  If a\n&gt; variant is individually=\r\n useful in the application or implementation\n&gt; domain, is should be modeled=\r\n as a resource in its own right.\n&gt; \n\nThe identification of resources constr=\r\naint requires that all resources\nimportant to the system be assigned some s=\r\nort of identifiers.  When a\nresource varies by media type, the media type o=\r\nf a specific response is\nimportant to the system -- so important that it re=\r\nquires its own URI.\n\nAll discussions of caching aside.  The basic tenet of =\r\nREST&#39;s late\nbinding of representation to resource, is to send the most opti=\r\nmal\nresponse *and* a list of alternate representations the user-agent may\nc=\r\nhoose from if the initial response is inadequate.\n\nHow can you present a us=\r\ner-agent with a list of alternates, if the\nalternates all have the same URI=\r\n?  What if multiple alternates have the\nsame media type, for those who answ=\r\ner that question by borking @type in\nviolation of the layered-system constr=\r\naint?  How do you construct this\nlist if all you have to distinguish one va=\r\nriant from another is Etag?\n\nReally, the only answer here is to assign URIs=\r\n to variants -- thus,\nbest practice...\n\n&gt; \n&gt; Circling back to content-locat=\r\nion in the conneg context.  I read the\n&gt; RFC as allowing variants to be ide=\r\nntified in the content-location\n&gt; header if the variants have separate loca=\r\ntions.  I do not read it to\n&gt; mean that all variants *should* have location=\r\ns.\n&gt; \n\nWe already discussed this.  That you MAY use Content-Location *if* a=\r\n\nrepresentation is available at another URI, is a separate consideration\nfr=\r\nom the conneg case, where RFC 2616 is clear that you SHOULD assign\nURIs to =\r\nvariants and use these URIs in Content-Location.  The fact that\nRFC 2616 sa=\r\nys &quot;especially&quot; if URIs for variants already exist, does not\noverride the f=\r\nact that it says they SHOULD.\n\n&gt;\n&gt; However, i think that using etags would\n=\r\n&gt; result in better cache behavior than content location for resources\n&gt; wit=\r\nh multiple representations.\n&gt;\n\nNo.  Visibility is achieved when one variant=\r\n may be assigned to\nmultiple selection-header matches.  Etag does not do th=\r\nis.  Conditional\nrequests which result in a new representation from the ori=\r\ngin server,\nare only valid for the selection-header combination of the requ=\r\nest in\nquestion, without Content-Location.  A subsequent conditional reques=\r\nt\nfor the same variant, with a different selection-header combination,\nwoul=\r\nd still require a round-trip to the origin server.\n\nThese additional round-=\r\ntrips may be avoided by using Content-Location.\nIOW this consequence of red=\r\nuced visibility, and its resolution by\nincreasing visibility by assigning U=\r\nRIs to variants, is proof positive\nthat a REST mismatch exists, and that th=\r\ne mismatch results from\nviolating of the identification of resources constr=\r\naint.\n\nUsing Content-Location (with or without Etag) is the means by which\n=\r\nHTTP allows multiple combinations of selection headers to map to the\nsame v=\r\nariant, allowing better cache behavior.  Etag is no substitute,\nas it canno=\r\nt associate multiple selection header combinations with any\nmore than one e=\r\nntity, rather than a set of entities varying by Etag.\n\n&gt;\n&gt; A cache can form=\r\n more expressive\n&gt; conditional requests using If-None-Match than it can wit=\r\nh\n&gt; If-Modified-Since when multiple representations are in play.  There\n&gt; w=\r\nould be certainly be no problem with providing both if you wanted to,\n&gt; tho=\r\nugh.\n&gt; \n\nAnd certainly, no drawback to assigning URIs to variants.  Not onl=\r\ny\nwould I not want to touch a conneg system without Content-Location with\na=\r\n ten-foot pole, but such a system cannot possibly be RESTful since\nthere is=\r\n no mechanism by which the user-agent may be informed as to the\nexistence o=\r\nf other variants -- i.e. assuming conneg to be 100% reliable,\ndespite all e=\r\nvidence to the contrary.  Without assigning URIs to\nvariants, user agents c=\r\nannot recover from conneg errors -- errors REST\npresumes will occur.\n\n-Eric=\r\n\n\n"}}
{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":44244783,"authorName":"Keyur Shah","from":"Keyur Shah &lt;keyurva@...&gt;","profile":"keyurva","replyTo":"SENDER","senderId":"WykCxV8AM8xsVRj7XetDSKx4MRtznjc-a6Mbv26V5-04bVwhKEgdGA8w7-LCW6S67_4ZB9hK04ymz_SLDhC1kq22kka3","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [rest-discuss] ETag and GZipped content","postDate":"1180208119","msgId":8608,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDcyODMzNy4xMDk3NC5xbUB3ZWIzMDcwNy5tYWlsLm11ZC55YWhvby5jb20+","inReplyToHeader":"PDQ2NTc1RDI1LjIwNDA0MDRAaGFja2NyYWZ0Lm5ldD4="},"prevInTopic":8602,"nextInTopic":8613,"prevInTime":8607,"nextInTime":8609,"topicId":8571,"numMessagesInTopic":13,"msgSnippet":"Jon, I may be mixing incongruent pieces here but here s another question - If I set the Vary header as  Vary: Accept-Encoding - is it then ok to set the same","rawEmail":"Return-Path: &lt;keyurva@...&gt;\r\nX-Sender: keyurva@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nReceived: (qmail 94142 invoked from network); 26 May 2007 19:36:30 -0000\r\nReceived: from unknown (66.218.66.72)\n  by m39.grp.scd.yahoo.com with QMQP; 26 May 2007 19:36:30 -0000\r\nReceived: from unknown (HELO web30707.mail.mud.yahoo.com) (68.142.200.140)\n  by mta14.grp.scd.yahoo.com with SMTP; 26 May 2007 19:36:30 -0000\r\nReceived: (qmail 11835 invoked by uid 60001); 26 May 2007 19:35:19 -0000\r\nX-YMail-OSG: M6Iu1VMVM1nBWJMev2OTm1GR0M9W6kidvVlz3JlboO_UOScEUP5Vq6bB5japmk8JBDJ9Ge62u0Rh0r00EIkWX400GM5WoRDVayH04iqcm9IdmDiwjbgzdrJ1EwP03g--\r\nReceived: from [76.175.13.249] by web30707.mail.mud.yahoo.com via HTTP; Sat, 26 May 2007 12:35:19 PDT\r\nDate: Sat, 26 May 2007 12:35:19 -0700 (PDT)\r\nTo: Jon Hanna &lt;jon@...&gt;, Alan Dean &lt;alan.dean@...&gt;\r\nCc: rest-discuss@yahoogroups.com\r\nIn-Reply-To: &lt;46575D25.2040404@...&gt;\r\nMIME-Version: 1.0\r\nContent-Type: multipart/alternative; boundary=&quot;0-1865400877-1180208119=:10974&quot;\r\nContent-Transfer-Encoding: 8bit\r\nMessage-ID: &lt;728337.10974.qm@...&gt;\r\nX-eGroups-Msg-Info: 1:0:0:0\r\nFrom: Keyur Shah &lt;keyurva@...&gt;\r\nSubject: Re: [rest-discuss] ETag and GZipped content\r\nX-Yahoo-Group-Post: member; u=44244783; y=JJt0TSNKKt_susMP5B2FQBk4Wwo0vp6KCevT3m4D-GfYZQ\r\nX-Yahoo-Profile: keyurva\r\n\r\n\r\n--0-1865400877-1180208119=:10974\r\nContent-Type: text/plain; charset=iso-8859-1\r\nContent-Transfer-Encoding: 8bit\r\n\r\nJon, \n\nI may be mixing incongruent pieces here but here&#39;s another question - If I set the Vary header as  &quot;Vary: Accept-Encoding&quot; - is it then ok to set the same (weak) ETag?...\n\nI need to understand transfer-encoding better... I am unfamiliar with how the semantics of transfer-encoding work. But thanks for the pointer.\n\n-Keyur\n\nJon Hanna &lt;jon@...&gt; wrote: Alan Dean wrote:\n&gt; On 5/24/07, Keyur Shah  wrote:\n&gt;&gt; Hopefully this isn&#39;t a dumb question:\n&gt;&gt;\n&gt;&gt;  Assuming that I can differentate between the two and send the\n&gt;&gt;  appropriate response to the client based on the accepted encoding(s) -\n&gt;&gt;  Is it ok to generate the same ETag for both deflated and gzipped content?\n&gt; \n&gt; The ETag should be based on the underlying resource state, unrelated\n&gt; to the specific representation MIME type or encoding.\n&gt; \n&gt; So the same resource rendered out to XML or JSON should have the same\n&gt; ETag, ditto if it is GZip or Deflate encoded (or unencoded).\n\nNo, if the difference is from content-coding, then absolutely not.\n\n&quot;Entity tags are used for comparing two or more entities from the same \nrequested resource.&quot;\n\n&quot;A &quot;strong entity tag&quot; MAY be shared by two entities of a resource only \nif they are equivalent by octet equality.&quot;\n\n&quot;A &quot;weak entity tag,&quot; indicated by the &quot;W/&quot; prefix, MAY be shared by two \nentities of a resource only if the entities are equivalent and could be \nsubstituted for each other with no significant change in semantics.&quot;\n\n&quot;An entity tag MUST be unique across all versions of all entities \nassociated with a particular resource.&quot;\n\nIt&#39;s not clear whether Keyur is talking about transfer-encoding or \ncontent-coding. In the case of content-coding (which in practice often \nproves problematic in a few other ways) then the e-tag for the gzipped \nversion, the deflated version and the uncompressed version must not be \nthe same as each other (or for that matter, the same as for any other \nversion including historical version no longer available with the caveat \nthat if they are semantically the same as a historical version - to the \npoint that that historical version could be safely used in its place - \nthen they could share a weak but not a strong e-tag).\n\nIn the case of transfer-encoding this happens at a different conceptual \nlayer to the e-tag, and so they can be shared.\n\n\n\n       \n---------------------------------\nBe a better Heartthrob. Get better relationship answers from someone who knows.\nYahoo! Answers - Check it out. \r\n--0-1865400877-1180208119=:10974\r\nContent-Type: text/html; charset=iso-8859-1\r\nContent-Transfer-Encoding: 8bit\r\n\r\nJon, &lt;br&gt;&lt;br&gt;I may be mixing incongruent pieces here but here&#39;s another question - If I set the Vary header as&nbsp; &quot;Vary: Accept-Encoding&quot; - is it then ok to set the same (weak) ETag?...&lt;br&gt;&lt;br&gt;I need to understand transfer-encoding better... I am unfamiliar with how the semantics of transfer-encoding work. But thanks for the pointer.&lt;br&gt;&lt;br&gt;-Keyur&lt;br&gt;&lt;br&gt;&lt;b&gt;&lt;i&gt;Jon Hanna &lt;jon@...&gt;&lt;/i&gt;&lt;/b&gt; wrote:&lt;blockquote class=&quot;replbq&quot; style=&quot;border-left: 2px solid rgb(16, 16, 255); margin-left: 5px; padding-left: 5px;&quot;&gt; Alan Dean wrote:&lt;br&gt;&gt; On 5/24/07, Keyur Shah &lt;keyurva@...&gt; wrote:&lt;br&gt;&gt;&gt; Hopefully this isn&#39;t a dumb question:&lt;br&gt;&gt;&gt;&lt;br&gt;&gt;&gt;  Assuming that I can differentate between the two and send the&lt;br&gt;&gt;&gt;  appropriate response to the client based on the accepted encoding(s) -&lt;br&gt;&gt;&gt;  Is it ok to generate the same ETag for both deflated and gzipped content?&lt;br&gt;&gt; &lt;br&gt;&gt; The ETag should be based on the underlying resource state,\n unrelated&lt;br&gt;&gt; to the specific representation MIME type or encoding.&lt;br&gt;&gt; &lt;br&gt;&gt; So the same resource rendered out to XML or JSON should have the same&lt;br&gt;&gt; ETag, ditto if it is GZip or Deflate encoded (or unencoded).&lt;br&gt;&lt;br&gt;No, if the difference is from content-coding, then absolutely not.&lt;br&gt;&lt;br&gt;&quot;Entity tags are used for comparing two or more entities from the same &lt;br&gt;requested resource.&quot;&lt;br&gt;&lt;br&gt;&quot;A &quot;strong entity tag&quot; MAY be shared by two entities of a resource only &lt;br&gt;if they are equivalent by octet equality.&quot;&lt;br&gt;&lt;br&gt;&quot;A &quot;weak entity tag,&quot; indicated by the &quot;W/&quot; prefix, MAY be shared by two &lt;br&gt;entities of a resource only if the entities are equivalent and could be &lt;br&gt;substituted for each other with no significant change in semantics.&quot;&lt;br&gt;&lt;br&gt;&quot;An entity tag MUST be unique across all versions of all entities &lt;br&gt;associated with a particular resource.&quot;&lt;br&gt;&lt;br&gt;It&#39;s not clear whether Keyur is talking about transfer-encoding or &lt;br&gt;content-coding. In the case of\n content-coding (which in practice often &lt;br&gt;proves problematic in a few other ways) then the e-tag for the gzipped &lt;br&gt;version, the deflated version and the uncompressed version must not be &lt;br&gt;the same as each other (or for that matter, the same as for any other &lt;br&gt;version including historical version no longer available with the caveat &lt;br&gt;that if they are semantically the same as a historical version - to the &lt;br&gt;point that that historical version could be safely used in its place - &lt;br&gt;then they could share a weak but not a strong e-tag).&lt;br&gt;&lt;br&gt;In the case of transfer-encoding this happens at a different conceptual &lt;br&gt;layer to the e-tag, and so they can be shared.&lt;br&gt;&lt;br&gt;&lt;/keyurva@...&gt;&lt;/blockquote&gt;&lt;br&gt;&lt;p&gt;&#32;\n      &lt;hr size=1&gt;Be a better Heartthrob. &lt;a href=&quot;http://us.rd.yahoo.com/evt=48255/*http://answers.yahoo.com/dir/_ylc=X3oDMTI5MGx2aThyBF9TAzIxMTU1MDAzNTIEX3MDMzk2NTQ1MTAzBHNlYwNCQUJwaWxsYXJfTklfMzYwBHNsawNQcm9kdWN0X3F1ZXN0aW9uX3BhZ2U-?link=list&sid=396545433&quot;&gt;Get better relationship answers &lt;/a&gt;from someone who knows.&lt;br&gt;Yahoo! Answers - Check it out. \n\r\n--0-1865400877-1180208119=:10974--\r\n\n"}}
{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":147780944,"authorName":"Aristotle Pagaltzis","from":"Aristotle Pagaltzis &lt;pagaltzis@...&gt;","profile":"a22pag","replyTo":"SENDER","senderId":"VIOHgLx0-maMtnihqpVl8sOVO2Ry5yTaGokb9ltU9EqcQNs6GcJpJBnalcqLVyCS0WaEfTt0meAaxueUlwkMBYc-5VkZV1sXBUQ191E","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: Idempotency of PUT when using IF-MATCH","postDate":"1198858127","msgId":10096,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDIwMDcxMjI4MTYwODQ3LkdBMTUyNTJAa2xhbmdyYXVtPg==","inReplyToHeader":"PGU1YzZlY2FiMDcxMjI3MjMyMHMzZGE1NGZwNmYwM2EwMDMwM2NiMGMxN0BtYWlsLmdtYWlsLmNvbT4=","referencesHeader":"PGU1YzZlY2FiMDcxMjI3MjMyMHMzZGE1NGZwNmYwM2EwMDMwM2NiMGMxN0BtYWlsLmdtYWlsLmNvbT4="},"prevInTopic":10095,"nextInTopic":10098,"prevInTime":10095,"nextInTime":10097,"topicId":10088,"numMessagesInTopic":12,"msgSnippet":"... I don’t understand this sequence. You say the client sends ETag XXX in step #1, but when it retries the request in step #5, it sends ETag YYY. Did you","rawEmail":"Return-Path: &lt;pagaltzis@...&gt;\r\nX-Sender: pagaltzis@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 7390 invoked from network); 28 Dec 2007 16:08:53 -0000\r\nX-Received: from unknown (66.218.67.97)\n  by m49.grp.scd.yahoo.com with QMQP; 28 Dec 2007 16:08:53 -0000\r\nX-Received: from unknown (HELO mail.gmx.net) (213.165.64.20)\n  by mta18.grp.scd.yahoo.com with SMTP; 28 Dec 2007 16:08:52 -0000\r\nX-Received: (qmail invoked by alias); 28 Dec 2007 16:08:48 -0000\r\nX-Received: from static-87-79-236-202.netcologne.de (EHLO klangraum) [87.79.236.202]\n  by mail.gmx.net (mp011) with SMTP; 28 Dec 2007 17:08:48 +0100\r\nX-Authenticated: #163624\r\nX-Provags-ID: V01U2FsdGVkX19RCcRdrzhRmdDuabUJvqByv8ZpKon0thaaUGPKbp\n\tJM+XDcaR3V3EaZ\r\nDate: Fri, 28 Dec 2007 17:08:47 +0100\r\nTo: rest-discuss@yahoogroups.com\r\nMessage-ID: &lt;20071228160847.GA15252@klangraum&gt;\r\nMail-Followup-To: rest-discuss@yahoogroups.com\r\nReferences: &lt;e5c6ecab0712272320s3da54fp6f03a00303cb0c17@...&gt;\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=utf-8\r\nContent-Disposition: inline\r\nContent-Transfer-Encoding: 8bit\r\nIn-Reply-To: &lt;e5c6ecab0712272320s3da54fp6f03a00303cb0c17@...&gt;\r\nUser-Agent: Mutt/1.5.16 (2007-06-09)\r\nX-Y-GMX-Trusted: 0\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Aristotle Pagaltzis &lt;pagaltzis@...&gt;\r\nSubject: Re: Idempotency of PUT when using IF-MATCH\r\nX-Yahoo-Group-Post: member; u=147780944; y=auV3kxwVogrzhnUBX4kmsK22IAEovGk2pK-xGkhMFNKR\r\nX-Yahoo-Profile: a22pag\r\n\r\n* Daniel Yokomizo &lt;daniel.yokomizo@...&gt; [2007-12-28 14:30]:\n&gt; 1. Client A sents PUT ... (IF-MATCH: &quot;XXX&quot;) ... FOO ...\n&gt; 2. Server process the request and sends the new ETag: YYY\n&gt; 3. Client B sents PUT ... (IF-MATCH: &quot;YYY&quot;) ... BAR\n&gt; 4. Server process the request and sends the new ETag: ZZZ\n&gt; 5. Client A retries the first PUT (network problems, double submit, it\n&gt; doesn&#39;t matter) sends ETag: YYY\n\nI don’t understand this sequence. You say the client sends ETag\nXXX in step #1, but when it retries the request in step #5, it\nsends ETag YYY. Did you make a typo somewhere or did you omit\nthings from your timeline?\n\n&gt; My application can compute the new version identifier for FOO and\n&gt; it will always be YYY, so doing a quick check it finds this version\n&gt; already persisted and it can safely assume that it&#39;s a duplicate\n&gt; submission. My question is: can it return a 200 to this duplicate\n&gt; request or it must return a 412, as per section 14.24? AFAICT\n&gt; returning 200 should be OK, but I don&#39;t want to take chances of going\n&gt; against the Internet ;) or messing with some subtle implicit rule\n&gt; about caching (e.g. some intermediate cache between both client A and\n&gt; client B overwrite B&#39;s update and become inconsistent).\n\nA resource cannot have multiple equally valid ETags at the same\ntime if intermediaries are supposed to understand its current\nstate. It can have several variants, each of which may have their\nown ETag, but then you need to include a Vary response header to\nlet intermediaries know how what to look at in client requests in\norder to find out which variant is being requested.\n\nRegards,\n-- \nAristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;\n\n"}}
{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":131511758,"authorName":"Roy T. Fielding","from":"&quot;Roy T. Fielding&quot; &lt;fielding@...&gt;","profile":"roy_fielding","replyTo":"SENDER","senderId":"eOlDFVKdOy2CIRkzg6cruQKQbp6t1pB1eAH9gtQMNcHMOnXozkjfIY0uNlpYy9MDe5dWzE2YkoIB7HSBcBIhyX3A7vCzPV-Xb0PvEbfz","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [rest-discuss] ReST and Representing Mailboxes","postDate":"1041984499","msgId":3181,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDRBQzM2QTIzLTIyOUQtMTFENy1BQjg0LTAwMDM5Mzc1MzkzNkBhcGFjaGUub3JnPg==","inReplyToHeader":"PFBpbmUuV05ULjQuNDMuMDMwMTA3MTI1ODM3MC44NjAtMTAwMDAwQGZhbmF0aWM+"},"prevInTopic":3180,"nextInTopic":3182,"prevInTime":3180,"nextInTime":3182,"topicId":3162,"numMessagesInTopic":21,"msgSnippet":"... No, the point of REST is to model a Web service.  It wouldn t be complete if it neglected to include query parameters.  However, it works best when query","rawEmail":"Return-Path: &lt;fielding@...&gt;\r\nX-Sender: fielding@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nReceived: (EGP: mail-8_2_3_0); 8 Jan 2003 00:29:29 -0000\r\nReceived: (qmail 331 invoked from network); 8 Jan 2003 00:29:23 -0000\r\nReceived: from unknown (66.218.66.217)\n  by m8.grp.scd.yahoo.com with QMQP; 8 Jan 2003 00:29:23 -0000\r\nReceived: from unknown (HELO mac.wakasoft.com) (64.60.92.50)\n  by mta2.grp.scd.yahoo.com with SMTP; 8 Jan 2003 00:29:22 -0000\r\nReceived: from apache.org (localhost [127.0.0.1])\n\tby mac.wakasoft.com (8.12.2/8.12.2) with ESMTP id h0808JgY001360;\n\tTue, 7 Jan 2003 16:08:19 -0800 (PST)\r\nDate: Tue, 7 Jan 2003 16:08:19 -0800\r\nSubject: Re: [rest-discuss] ReST and Representing Mailboxes\r\nContent-Type: text/plain; charset=US-ASCII; format=flowed\r\nMime-Version: 1.0 (Apple Message framework v551)\r\nCc: rest-discuss@yahoogroups.com\r\nTo: &quot;S. Alexander Jacobson&quot; &lt;alex@...&gt;\r\nIn-Reply-To: &lt;Pine.WNT.4.43.0301071258370.860-100000@fanatic&gt;\r\nMessage-Id: &lt;4AC36A23-229D-11D7-AB84-000393753936@...&gt;\r\nContent-Transfer-Encoding: 7bit\r\nX-Mailer: Apple Mail (2.551)\r\nFrom: &quot;Roy T. Fielding&quot; &lt;fielding@...&gt;\r\nX-Yahoo-Group-Post: member; u=131511758\r\nX-Yahoo-Profile: roy_fielding\r\n\r\nOn Tuesday, January 7, 2003, at 10:20  AM, S. Alexander Jacobson wrote:\n&gt; Isn&#39;t the whole point of REST that URIs should be\n&gt; opaque when describing a web service?\n\nNo, the point of REST is to model a Web service.  It wouldn&#39;t be \ncomplete\nif it neglected to include query parameters.  However, it works best \nwhen\nquery parameters are only used read-only and result in a list of\nmetadata and specific resource identifiers.  You can then do more \ncomplex\noperations on those identifiers.\n\n&gt; Regarding what I am trying to do, I want to expose\n&gt; a mailfolder via HTTP.  Three things may happen\n&gt; to this mailfolder:\n&gt;\n&gt; * The server may choose to move attachments to\n&gt;    external URLs\n&gt; * The server may change those external URLs\n&gt; * New messages may be added to the folder\n&gt; Note: Messages will not be deleted from the folder.\n&gt;\n&gt; I want clients:\n&gt; 1. to be able to rertrieve the entire folder\n&gt; 2. to be able to retreive only messages that have\n&gt;    been added to the folder without retrieving\n&gt;    already received messages whose representations\n&gt;    have changed\n&gt;\n&gt; I would like to have a large number of anonymous\n&gt; clients so I don&#39;t want to force the server to\n&gt; maintain a state for each client (as required by\n&gt; &#39;mark and move&#39; servers).\n\nSo, you are talking netnews, not mail.  That means the client has to\nkeep a list of read messages, not the server, and the list should be\nby ordered number (the easiest choice given what you describe and\nhow all news readers work).\n\n&gt; My proposed solution is to return\n&gt; multipart/byteranges as a response to queries with\n&gt; etags.  I suppose I could also return any diff\n&gt; format, but I&#39;m not aware of one that is\n&gt; particularly better suited to this problem than\n&gt; multipart/byteranges.\n&gt;\n&gt; Is the consensus that this is HTTP-OK, and if so\n&gt; what is the correct status code to return?\n\nNo, it is not HTTP okay because you allow the server to change the\nfile.  Neither etag nor byteranges will work.  In any case, this design\nwould tie the client implementation to the server storage \nimplementation,\nwhich is just a bad idea in general.  You should separate the two and\nthink of each message as a resource within a collection (the mailbox).\nThe client will then have to remember what has been read if they\nwish to selectively retrieve messages.\n\n....Roy\n\n\n"}}
{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":352334505,"authorName":"Craig McClanahan","from":"Craig McClanahan &lt;craigmcc@...&gt;","profile":"craig_mcclanahan","replyTo":"SENDER","senderId":"gPNTQ8AE-xv0z0GVsQ-K2YdNIvl9xRCpRbf1G62KXtweshzBzfzpSJ4S1PK_fHm1y7-TQoFir8hMNhRAyCaBVnKL3LeJLrcgre-urQ","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [rest-discuss] HTTP request and &quot;type safety&quot;","postDate":"1268178352","msgId":15021,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PGY4YjM5YWNlMTAwMzA5MTU0NWwxMTFmNjc2ZHRmODE5YzMwMzgxZmYzMjdiQG1haWwuZ21haWwuY29tPg==","inReplyToHeader":"PDc1ODc4NC41MjE0Mi5xbUB3ZWIxMTI2MDEubWFpbC5ncTEueWFob28uY29tPg==","referencesHeader":"PDc1ODc4NC41MjE0Mi5xbUB3ZWIxMTI2MDEubWFpbC5ncTEueWFob28uY29tPg=="},"prevInTopic":15020,"nextInTopic":15022,"prevInTime":15020,"nextInTime":15022,"topicId":15020,"numMessagesInTopic":18,"msgSnippet":"... generic things like application/xml or application/json , for my resources.  Then, if your folder resource accepts a media type that says here is a","rawEmail":"Return-Path: &lt;craigmcc@...&gt;\r\nX-Sender: craigmcc@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 73515 invoked from network); 9 Mar 2010 23:45:52 -0000\r\nX-Received: from unknown (98.137.34.44)\n  by m11.grp.re1.yahoo.com with QMQP; 9 Mar 2010 23:45:52 -0000\r\nX-Received: from unknown (HELO mail-iw0-f200.google.com) (209.85.223.200)\n  by mta1.grp.sp2.yahoo.com with SMTP; 9 Mar 2010 23:45:52 -0000\r\nX-Received: by iwn38 with SMTP id 38so3142945iwn.8\n        for &lt;rest-discuss@yahoogroups.com&gt;; Tue, 09 Mar 2010 15:45:52 -0800 (PST)\r\nMIME-Version: 1.0\r\nX-Received: by 10.231.174.19 with SMTP id r19mr85567ibz.15.1268178352268; Tue, \n\t09 Mar 2010 15:45:52 -0800 (PST)\r\nIn-Reply-To: &lt;758784.52142.qm@...&gt;\r\nReferences: &lt;758784.52142.qm@...&gt;\r\nDate: Tue, 9 Mar 2010 15:45:52 -0800\r\nMessage-ID: &lt;f8b39ace1003091545l111f676dtf819c30381ff327b@...&gt;\r\nTo: jumeier@...\r\nCc: rest-discuss@yahoogroups.com\r\nContent-Type: multipart/alternative; boundary=0016364eca8a32e94d048166c8ce\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Craig McClanahan &lt;craigmcc@...&gt;\r\nReply-To: craigmcc@...\r\nSubject: Re: [rest-discuss] HTTP request and &quot;type safety&quot;\r\nX-Yahoo-Group-Post: member; u=352334505; y=xOVfDwED_OeKb4fSzHeVzpWKk0foJYH16yNeukvGALTOXUiiyIjOEED1XQ\r\nX-Yahoo-Profile: craig_mcclanahan\r\n\r\n\r\n--0016364eca8a32e94d048166c8ce\r\nContent-Type: text/plain; charset=ISO-8859-1\r\n\r\nOn Tue, Mar 9, 2010 at 9:48 AM, &lt;jumeier@...&gt; wrote:\n\n&gt;\n&gt;\n&gt; Hi all,\n&gt;\n&gt; I have a customer who raised a concern about REST &quot;type safety&quot;. What he\n&gt; means may be best explained by a simple example.\n&gt;\n&gt; Assume we have a resource that represents a folder, and by issueing a POST\n&gt; request, I can attach a file. What, however, if that post request wrongly\n&gt; goes to, let&#39;s say, another document resource instead of our folder, and the\n&gt; document resource also accepts POST (for some reason)?\n&gt;\n&gt; In a RPC world, the document type would not understand an &quot;addDocument()&quot;\n&gt; call, and consequently return an exception. But what about REST? Of course,\n&gt; the POST&#39;s attributes most likely wouldn&#39;t be understood and something like\n&gt; 400 Bad Request returned. But what if they were understood?\n&gt;\n&gt; So, are there means or patterns, to achieve (some sort) of type safety?\n&gt;\n&gt; This is one of the reasons I prefer to use specific media types, instead of\ngeneric things like &quot;application/xml&quot; or &quot;application/json&quot;, for my\nresources.  Then, if your &quot;folder&quot; resource accepts a media type that says\n&quot;here is a new document resource&quot;, but your document resource doesn&#39;t (it\naccepts some other kind of POST request like &quot;here is a comment to add to\nthe discussion about this document&quot; with a different media type), then\nyou&#39;re fine ... a 4xx response would be appropriate (and, if you&#39;re using a\nframework like JAX-RS for Java, the framework will take care of this\nnegotiation for you).  An an extra for-free bonus, you can set things up so\nthat the same resource can accept different POSTs (with different media\ntypes) to trigger different state changes and server responses.  No need to\ncreate 3 &quot;artificial&quot; resource URIs to support 3 different POSTs that\ntrigger state changes.\n\nIf you use a generic media type, then your &quot;document resource&quot; will need to\nvalidate the details of the received input to make sure it obeys the rules\nfor what kind of behavior a POST should trigger on a document.  Of course,\nyou should be doing that anyway ... so it should be pretty obvious that the\nincoming data doesn&#39;t have the right set of fields.  This kind of &quot;form\nvalidation&quot; isn&#39;t really much different than what you should be doing in a\nbrowser-based webapp, where the same scenario is possible.\n\n&gt; Thanks so much,\n&gt; Juerg\n&gt;\nCraig\n\r\n--0016364eca8a32e94d048166c8ce\r\nContent-Type: text/html; charset=ISO-8859-1\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\n&lt;br&gt;&lt;br&gt;&lt;div class=3D&quot;gmail_quote&quot;&gt;On Tue, Mar 9, 2010 at 9:48 AM,  &lt;span d=\r\nir=3D&quot;ltr&quot;&gt;&lt;&lt;a href=3D&quot;mailto:jumeier@...&quot;&gt;jumeier@...&lt;/a&gt;&g=\r\nt;&lt;/span&gt; wrote:&lt;br&gt;&lt;blockquote class=3D&quot;gmail_quote&quot; style=3D&quot;border-left:=\r\n 1px solid rgb(204, 204, 204); margin: 0pt 0pt 0pt 0.8ex; padding-left: 1ex=\r\n;&quot;&gt;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n&lt;div style=3D&quot;background-color: rgb(255, 255, 255);&quot;&gt;\n&lt;sp=\r\nan&gt;=A0&lt;/span&gt;\n\n\n&lt;div&gt;\n  &lt;div&gt;\n\n\n    &lt;div&gt;\n      \n      \n      &lt;p&gt;Hi all,&lt;br=\r\n&gt;\n&lt;br&gt;\nI have a customer who raised a concern about REST &quot;type safety&=\r\nquot;. What he means may be best explained by a simple example.&lt;br&gt;\n&lt;br&gt;\nAs=\r\nsume we have a resource that represents a folder, and by issueing a POST re=\r\nquest, I can attach a file. What, however, if that post request wrongly goe=\r\ns to, let&#39;s say, another document resource instead of our folder, and t=\r\nhe document resource also accepts POST (for some reason)?&lt;br&gt;\n\n&lt;br&gt;\nIn a RP=\r\nC world, the document type would not understand an &quot;addDocument()&quot=\r\n; call, and consequently return an exception. But what about REST? Of cours=\r\ne, the POST&#39;s attributes most likely wouldn&#39;t be understood and som=\r\nething like 400 Bad Request returned. But what if they were understood?&lt;br&gt;=\r\n\n\n&lt;br&gt;\nSo, are there means or patterns, to achieve (some sort) of type safe=\r\nty?&lt;br&gt;\n&lt;br&gt;&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;This is one of th=\r\ne reasons I prefer to use specific media types, instead of generic things l=\r\nike &quot;application/xml&quot; or &quot;application/json&quot;, for my res=\r\nources.=A0 Then, if your &quot;folder&quot; resource accepts a media type t=\r\nhat says &quot;here is a new document resource&quot;, but your document res=\r\nource doesn&#39;t (it accepts some other kind of POST request like &quot;he=\r\nre is a comment to add to the discussion about this document&quot; with a d=\r\nifferent media type), then you&#39;re fine ... a 4xx response would be appr=\r\nopriate (and, if you&#39;re using a framework like JAX-RS for Java, the fra=\r\nmework will take care of this negotiation for you).=A0 An an extra for-free=\r\n bonus, you can set things up so that the same resource can accept differen=\r\nt POSTs (with different media types) to trigger different state changes and=\r\n server responses.=A0 No need to create 3 &quot;artificial&quot; resource U=\r\nRIs to support 3 different POSTs that trigger state changes.&lt;br&gt;\n&lt;br&gt;If you=\r\n use a generic media type, then your &quot;document resource&quot; will nee=\r\nd to validate the details of the received input to make sure it obeys the r=\r\nules for what kind of behavior a POST should trigger on a document.=A0 Of c=\r\nourse, you should be doing that anyway ... so it should be pretty obvious t=\r\nhat the incoming data doesn&#39;t have the right set of fields.=A0 This kin=\r\nd of &quot;form validation&quot; isn&#39;t really much different than what =\r\nyou should be doing in a browser-based webapp, where the same scenario is p=\r\nossible.&lt;br&gt;\n&lt;/div&gt;&lt;blockquote class=3D&quot;gmail_quote&quot; style=3D&quot;border-left: =\r\n1px solid rgb(204, 204, 204); margin: 0pt 0pt 0pt 0.8ex; padding-left: 1ex;=\r\n&quot;&gt;&lt;div style=3D&quot;background-color: rgb(255, 255, 255);&quot;&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;p&gt;\nT=\r\nhanks so much,&lt;br&gt;\nJuerg &lt;br&gt;&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;=\r\nCraig&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;br&gt;\n\r\n--0016364eca8a32e94d048166c8ce--\r\n\n"}}
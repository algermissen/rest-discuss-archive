{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":266460716,"authorName":"Eric J. Bowman","from":"&quot;Eric J. Bowman&quot; &lt;eric@...&gt;","replyTo":"SENDER","senderId":"xJzzg1YryM86gqiiP1qmpw7_JPniwAjKuEyPTKXDiEwBD2P33-2qBXF218zHEIi0VN9ehwc5QTUfV_DIiQwxF1r9uiMGhjdTyx1mZh-oww","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [rest-discuss] Resource Deltas","postDate":"1256594649","msgId":13946,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDIwMDkxMDI2MTUwNDA5Ljc3ZGVhNWRiLmVyaWNAYmlzb25zeXN0ZW1zLm5ldD4=","inReplyToHeader":"PGY4YjM5YWNlMDkxMDI2MTMwNnAxYjdlYWQzMGsxM2RhODFlOTNkZTc5ZTNiQG1haWwuZ21haWwuY29tPg==","referencesHeader":"PDU1OGI3M2ZiMDkxMDIxMDU0M243ZDE1YWU1NnIyMzllMGY2OTk4YTFmYjZlQG1haWwuZ21haWwuY29tPgk8MjAwOTEwMjYxMTQzMDEuMjA2ZTlkMTYuZXJpY0BiaXNvbnN5c3RlbXMubmV0Pgk8ZjhiMzlhY2UwOTEwMjYxMzA2cDFiN2VhZDMwazEzZGE4MWU5M2RlNzllM2JAbWFpbC5nbWFpbC5jb20+"},"prevInTopic":13936,"nextInTopic":13961,"prevInTime":13945,"nextInTime":13947,"topicId":13905,"numMessagesInTopic":10,"msgSnippet":"... Yes, all the usual caveats apply, I m definitely speaking theoretically here.  Walled-garden mobile networks are another real-world application. ","rawEmail":"Return-Path: &lt;eric@...&gt;\r\nX-Sender: eric@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 59914 invoked from network); 26 Oct 2009 22:04:26 -0000\r\nX-Received: from unknown (98.137.34.44)\n  by m2.grp.sp2.yahoo.com with QMQP; 26 Oct 2009 22:04:26 -0000\r\nX-Received: from unknown (HELO mxout-08.mxes.net) (216.86.168.183)\n  by mta1.grp.sp2.yahoo.com with SMTP; 26 Oct 2009 22:04:26 -0000\r\nX-Received: from bigbison (unknown [65.117.211.162])\n\t(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))\n\t(No client certificate requested)\n\tby smtp.mxes.net (Postfix) with ESMTPSA id 53779509DA;\n\tMon, 26 Oct 2009 18:04:25 -0400 (EDT)\r\nDate: Mon, 26 Oct 2009 15:04:09 -0700\r\nTo: craigmcc@...\r\nCc: Michael Crute &lt;mcrute@...&gt;, rest-discuss@yahoogroups.com\r\nMessage-Id: &lt;20091026150409.77dea5db.eric@...&gt;\r\nIn-Reply-To: &lt;f8b39ace0910261306p1b7ead30k13da81e93de79e3b@...&gt;\r\nReferences: &lt;558b73fb0910210543n7d15ae56r239e0f6998a1fb6e@...&gt;\n\t&lt;20091026114301.206e9d16.eric@...&gt;\n\t&lt;f8b39ace0910261306p1b7ead30k13da81e93de79e3b@...&gt;\r\nOrganization: Bison Systems Corporation\r\nX-Mailer: Sylpheed 2.6.0 (GTK+ 2.10.14; i686-pc-mingw32)\r\nMime-Version: 1.0\r\nContent-Type: text/plain; charset=US-ASCII\r\nContent-Transfer-Encoding: 7bit\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: &quot;Eric J. Bowman&quot; &lt;eric@...&gt;\r\nSubject: Re: [rest-discuss] Resource Deltas\r\nX-Yahoo-Group-Post: member; u=266460716\r\n\r\nCraig McClanahan wrote:\n\n&gt;\n&gt; While this (HTTP callbacks) might be practical in some use cases (like\n&gt; inside a corporate firewall), it&#39;s not going to be feasible when\n&gt; there are firewalls in the way that will block the server -&gt; client\n&gt; callback.\n&gt;\n\nYes, all the usual caveats apply, I&#39;m definitely speaking theoretically\nhere.  Walled-garden mobile networks are another real-world application.\nAlthough...\n\nhttp://tools.ietf.org/html/draft-lentczner-rhttp-00 (Reverse HTTP)\n\nI really like the novel approach of the empty Host header, and the IANA\nHTTP Upgrade Token registry (the use of which is something I never\nwould have come up with in my wildest dreams, hats off).\n\n&gt;\n&gt; You might want to think about a &quot;comet&quot; based approach,\n&gt; which is what Ajax based clients often do to exchange messages\n&gt; bidirectionally.  Basically, it involves leaving the incoming (client\n&gt; -&gt; server) HTTP connection open, and the server suspends it&#39;s\n&gt; &quot;response&quot; until it wants to actually send something.\n&gt; \n\nYes, I have been thinking about this sort of approach, particularly:\n\nhttp://xmpp.org/extensions/xep-0124.html (BOSH)\n\nHowever, I don&#39;t think this solves the original problem:  How to apply a\nserver-generated delta to a document cached on the client?  The\nsuggestion is to use a media type the client understands, but this is\ncoupling, and such use of media types is at odds with REST (sorry,\nguys).  Media types define link relations and processing rules for the\nmessage body; they do not redefine HTTP method semantics -- in this\ncase, by attempting to assign PATCH semantics to GET.\n\nThe use-case Mike C. describes is interesting.  Assuming a very large\ndocument cached on the client, the user-perceived performance will be\ngreater if the client can apply a patch, rather than re-transferring a\nnew version of the very large document.  So it&#39;s a good REST problem.\nSince the problem area is XML, as Mike A. pointed out, HTTP range\nrequests aren&#39;t all that pragmatic a solution.\n\nAnother alternative would be to have the client GET patches from the\nserver as application/xslt+xml (XSLT 2) transformations, which in\nRESTspeak translates as &quot;applying the optional code-on-demand\nconstraint.&quot; A self-applying XSLT transformation is possible, even\ncacheable.  Just not very visible.  Degree-of-difficulty-wise, it&#39;s no\nmore pragmatic than going for canonical or binary XML formats to make\nrange requests work, unfortunately.\n\nIdeally, though, the protocol request method and media-type visibly\ndescribe the semantics of the interaction.  The REST &#39;application&#39; here\nis, &quot;User requests latest diff be applied.&quot;  The HTTP PATCH method with\nan xmldiff media-type has exactly the desired interaction semantics,\nmaking it the most visible solution.  If only it could be done in\nreverse...  using RHTTP, or some method where it&#39;s assumed (in\nRESTspeak) that the requesting component has both client and server\nconnectors.\n\nTheoretically, the BOSH technique could be used to hold open an RHTTP\nconnection, such that new deltas are pushed to the client using PATCH\ninstead of using &quot;short&quot; polling, or explicit user request.  IOW, I\nthink it may be possible to build a Google Wave-like user experience\nRESTfully.  I haven&#39;t worked out the specifics, but this thread is\ndefinitely asking the right question.\n\n-Eric\n\n&gt;\n&gt; Craig McClanahan\n&gt; \n&gt; On Mon, Oct 26, 2009 at 11:43 AM, Eric J. Bowman\n&gt; wrote:\n&gt; \n&gt; &gt;\n&gt; &gt;\n&gt; &gt; Michael Crute wrote:\n&gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt; Client sends a GET request with an If-Range header that specifies\n&gt; &gt; &gt; the last download date and a Range header that specifies the\n&gt; &gt; &gt; same. The server could then send back a response of 304 &quot;Not\n&gt; &gt; &gt; Modified&quot;, 206 &quot;Partial Resource&quot; along with the deltas as the\n&gt; &gt; &gt; body or a 200 with all of the records as the body.\n&gt; &gt; &gt;\n&gt; &gt;\n&gt; &gt; Has anyone else noticed a trend towards HTTP clients that\n&gt; &gt; incorporate an httpd? The client could POST a request for updates\n&gt; &gt; to the origin server, the origin server could then send a PATCH\n&gt; &gt; request to the client- side httpd. Thoughts?\n&gt; &gt;\n&gt; &gt; -Eric\n&gt; &gt;\n\n"}}
{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":537489571,"authorName":"Keith P Hassen","from":"Keith P Hassen &lt;keith.hassen@...&gt;","profile":"erewh0n","replyTo":"SENDER","senderId":"fjH5dYfA0i8zRmqGMwUdZ0K9CveO0tRC_sFuAKXQ05xZ5u4MGLn5uYVcLzqOxeruYRuEEiOnu3ZiVD6OU_RWl_kyPCwGfaD04WZtlTnT","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [rest-discuss] RESTful Toggle","postDate":"1404911168","msgId":19660,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PENBUD00VEVpSDRvWV9IT2tHMGpGZUVIZjUyTXljUEZtNTNrWGVYUk92PXF0Um5HWGc0Z0BtYWlsLmdtYWlsLmNvbT4=","inReplyToHeader":"PENGRTFEQUM5LjM3NjQ4JVJvYmJ5LlNpbXBzb25AR0UuY29tPg==","referencesHeader":"PENGRTFEQUM5LjM3NjQ4JVJvYmJ5LlNpbXBzb25AR0UuY29tPg=="},"prevInTopic":19659,"nextInTopic":19661,"prevInTime":19659,"nextInTime":19661,"topicId":19657,"numMessagesInTopic":36,"msgSnippet":"You could implement a POST operation that simply flips the state, whatever it is.  If you implement PUT, the request should be idempotent but it s unclear if","rawEmail":"Return-Path: &lt;keith.hassen@...&gt;\r\nX-Sender: keith.hassen@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 82722 invoked by uid 102); 9 Jul 2014 13:06:08 -0000\r\nX-Received: from unknown (HELO mtaq5.grp.bf1.yahoo.com) (10.193.84.36)\n  by m17.grp.bf1.yahoo.com with SMTP; 9 Jul 2014 13:06:08 -0000\r\nX-Received: (qmail 20625 invoked from network); 9 Jul 2014 13:06:08 -0000\r\nX-Received: from unknown (HELO mail-qg0-f46.google.com) (209.85.192.46)\n  by mtaq5.grp.bf1.yahoo.com with SMTP; 9 Jul 2014 13:06:08 -0000\r\nX-Received: by mail-qg0-f46.google.com with SMTP id q107so6057349qgd.19\n        for &lt;rest-discuss@yahoogroups.com&gt;; Wed, 09 Jul 2014 06:06:08 -0700 (PDT)\r\nMIME-Version: 1.0\r\nX-Received: by 10.140.83.209 with SMTP id j75mr65799110qgd.42.1404911168079;\n Wed, 09 Jul 2014 06:06:08 -0700 (PDT)\r\nX-Received: by 10.229.169.7 with HTTP; Wed, 9 Jul 2014 06:06:08 -0700 (PDT)\r\nIn-Reply-To: &lt;CFE1DAC9.37648%Robby.Simpson@...&gt;\r\nReferences: &lt;CFE1DAC9.37648%Robby.Simpson@...&gt;\r\nDate: Wed, 9 Jul 2014 09:06:08 -0400\r\nMessage-ID: &lt;CAP=4TEiH4oY_HOkG0jFeEHf52MycPFm53kXeXROv=qtRnGXg4g@...&gt;\r\nTo: &quot;Simpson, Robby (GE Energy Management)&quot; &lt;robby.simpson@...&gt;\r\nCc: rest-discuss@yahoogroups.com\r\nContent-Type: multipart/alternative; boundary=001a11c13b601d548604fdc25f8a\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nSubject: Re: [rest-discuss] RESTful Toggle\r\nX-Yahoo-Group-Post: member; u=537489571; y=OpZeKc1RmjJRVSqA0j-A2Wor5dmcl9xErun0VnydHnBuwSjjEnA96QJMMuLskpVWZG352aMOouZYfkM\r\nX-Yahoo-Profile: erewh0n\r\nFrom: Keith P Hassen &lt;keith.hassen@...&gt;\r\n\r\n\r\n--001a11c13b601d548604fdc25f8a\r\nContent-Type: text/plain; charset=UTF-8\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\nYou could implement a POST operation that simply flips the state, whatever\n=\r\nit is.  If you implement PUT, the request should be idempotent but it&#39;s\nunc=\r\nlear if that&#39;s what you intend here.  Protecting against the kind of\nrace c=\r\nonditions you mention is usually performed with conditional requests\n(If-Ma=\r\ntch, If-None-Match, etc).\n\nK\n\n\n\nOn Tue, Jul 8, 2014 at 5:28 PM, &#39;Simpson, R=\r\nobby (GE Energy Management)&#39;\nrobby.simpson@... [rest-discuss] &lt;rest-disc=\r\nuss-noreply@yahoogroups.com&gt;\nwrote:\n\n&gt;\n&gt;\n&gt; Hi,\n&gt;\n&gt; I&#39;ve been scratching my =\r\nhead over this one for a while and am hoping I can\n&gt; get some help.\n&gt;\n&gt; Ima=\r\ngine a light switch with one simple resource: /state , where state can\n&gt; be=\r\n &quot;On&quot; or &quot;Off.&quot;\n&gt;\n&gt; One can PUT to /state , changing /state to either &quot;On&quot; =\r\nor &quot;Off.&quot;\n&gt; Similarly, a GET to /state will tell you if the light is curren=\r\ntly &quot;On&quot; or\n&gt; &quot;Off.&quot;\n&gt;\n&gt; Where I&#39;m struggling is with a safe &quot;Toggle&quot; mecha=\r\nnism. That is, if\n&gt; /state is &quot;On&quot;, change it to &quot;Off&quot; and vice versa.\n&gt;\n&gt; =\r\nI understand that one solution would be to simply perform a GET on /state\n&gt;=\r\n and then PUT the opposite. However, I am concerned with both the overhead\n=\r\n&gt; and latency this entails as well as the potential for a race condition\n&gt; =\r\n(what if /state changes between the GET and the PUT?).\n&gt;\n&gt; Any solution I&#39;v=\r\ne looked at thus far seems to violate RESTful principles,\n&gt; particularly re=\r\ngarding idempotency. In short, can one safely toggle?\n&gt;\n&gt; Any suggestions?\n=\r\n&gt;\n&gt; Thanks,\n&gt; Robby\n&gt;\n&gt;  \n&gt;\n\r\n--001a11c13b601d548604fdc25f8a\r\nContent-Type: text/html; charset=UTF-8\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\n&lt;div dir=3D&quot;ltr&quot;&gt;&lt;div class=3D&quot;gmail_default&quot; style=3D&quot;font-family:trebuche=\r\nt ms,sans-serif;font-size:small;color:rgb(51,51,51)&quot;&gt;You could implement a =\r\nPOST operation that simply flips the state, whatever it is.=C2=A0 If you im=\r\nplement PUT, the request should be idempotent but it&#39;s unclear if that&=\r\n#39;s what you intend here.=C2=A0 Protecting against the kind of race condi=\r\ntions you mention is usually performed with conditional requests (If-Match,=\r\n If-None-Match, etc).&lt;br&gt;\n&lt;br&gt;&lt;/div&gt;&lt;div class=3D&quot;gmail_default&quot; style=3D&quot;f=\r\nont-family:trebuchet ms,sans-serif;font-size:small;color:rgb(51,51,51)&quot;&gt;K&lt;b=\r\nr&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=3D&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;div class=3D&quot;gmail_qu=\r\note&quot;&gt;On Tue, Jul 8, 2014 at 5:28 PM, &#39;Simpson, Robby (GE Energy Managem=\r\nent)&#39; &lt;a href=3D&quot;mailto:robby.simpson@...&quot;&gt;robby.simpson@...&lt;/a&gt; =\r\n[rest-discuss] &lt;span dir=3D&quot;ltr&quot;&gt;&lt;&lt;a href=3D&quot;mailto:rest-discuss-noreply=\r\n@yahoogroups.com&quot; target=3D&quot;_blank&quot;&gt;rest-discuss-noreply@yahoogroups.com&lt;/a=\r\n&gt;&gt;&lt;/span&gt; wrote:&lt;br&gt;\n&lt;blockquote class=3D&quot;gmail_quote&quot; style=3D&quot;margin:0=\r\n 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex&quot;&gt;\n\n\n&lt;u&gt;&lt;/u&gt;\n\n\n\n\n\n\n\n\n\n=\r\n \n&lt;div style=3D&quot;background-color:#fff&quot;&gt;\n&lt;span&gt;=C2=A0&lt;/span&gt;\n\n\n&lt;div&gt;\n  &lt;div&gt;=\r\n\n\n\n    &lt;div&gt;\n      \n      \n      &lt;p&gt;Hi,&lt;br&gt;\n&lt;br&gt;\nI&#39;ve been scratching m=\r\ny head over this one for a while and am hoping I can&lt;br&gt;\nget some help.&lt;br&gt;=\r\n\n&lt;br&gt;\nImagine a light switch with one simple resource: /state , where state=\r\n can&lt;br&gt;\nbe &quot;On&quot; or &quot;Off.&quot;&lt;br&gt;\n&lt;br&gt;\nOne can PUT to /sta=\r\nte , changing /state to either &quot;On&quot; or &quot;Off.&quot;&lt;br&gt;\nSimil=\r\narly, a GET to /state will tell you if the light is currently &quot;On&quot=\r\n; or&lt;br&gt;\n&quot;Off.&quot;&lt;br&gt;\n&lt;br&gt;\nWhere I&#39;m struggling is with a safe =\r\n&quot;Toggle&quot; mechanism.  That is, if&lt;br&gt;\n/state is &quot;On&quot;, ch=\r\nange it to &quot;Off&quot; and vice versa.&lt;br&gt;\n&lt;br&gt;\nI understand that one s=\r\nolution would be to simply perform a GET on /state&lt;br&gt;\nand then PUT the opp=\r\nosite.  However, I am concerned with both the overhead&lt;br&gt;\nand latency this=\r\n entails as well as the potential for a race condition&lt;br&gt;\n(what if /state =\r\nchanges between the GET and the PUT?).&lt;br&gt;\n&lt;br&gt;\nAny solution I&#39;ve looke=\r\nd at thus far seems to violate RESTful principles,&lt;br&gt;\nparticularly regardi=\r\nng idempotency.  In short, can one safely toggle?&lt;br&gt;\n&lt;br&gt;\nAny suggestions?=\r\n&lt;br&gt;\n&lt;br&gt;\nThanks,&lt;br&gt;\nRobby&lt;br&gt;\n&lt;br&gt;\n&lt;/p&gt;\n\n    &lt;/div&gt;\n     \n\n    \n    &lt;div =\r\nstyle=3D&quot;color:#fff;min-height:0&quot;&gt;&lt;/div&gt;\n\n\n&lt;/div&gt;\n\n\n\n  \n\n\n\n\n\n\n&lt;/blockquote&gt;=\r\n&lt;/div&gt;&lt;br&gt;&lt;/div&gt;\n\r\n--001a11c13b601d548604fdc25f8a--\r\n\n"}}
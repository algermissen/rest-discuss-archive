{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":511039257,"authorName":"Mike Kelly","from":"Mike Kelly &lt;mikekelly321@...&gt;","profile":"mikekelly8762348","replyTo":"SENDER","senderId":"eedNYaL9Csxj5eJ8GSWVyLZ4ioBlFeumE7CrCxhqdQCvm0UfNR6QteOLYfGl140ka7spXkeZ67AQBOodpZ6sYGTwJGDoNNz5v1g","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [rest-discuss] Authorization and Statelessness","postDate":"1355226320","msgId":19227,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PENBTnFpWkpZWEVkK0p3ZE1LcDJmcDZXVzBhR04zbngybVNLbVFMa25KRWtkTFJ2YUF3Z0BtYWlsLmdtYWlsLmNvbT4=","inReplyToHeader":"PDIwMTIxMjExMDAyNDQ5LjYxODYyOGY3LmVyaWNAYmlzb25zeXN0ZW1zLm5ldD4=","referencesHeader":"PDUwQzY0NkNBLjYwNDA3MDdAc2hlYWxldnkuY29tPgk8MjAxMjEyMTEwMDI0NDkuNjE4NjI4ZjcuZXJpY0BiaXNvbnN5c3RlbXMubmV0Pg=="},"prevInTopic":19226,"nextInTopic":0,"prevInTime":19226,"nextInTime":19228,"topicId":19224,"numMessagesInTopic":4,"msgSnippet":"Eric, Please could you start adding a tl;dr summary to the top of your posts Cheers, M ... -- Mike http://twitter.com/mikekelly85 http://github.com/mikekelly ","rawEmail":"Return-Path: &lt;mikekelly321@...&gt;\r\nX-Sender: mikekelly321@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 4860 invoked from network); 11 Dec 2012 11:45:21 -0000\r\nX-Received: from unknown (98.137.35.162)\n  by m3.grp.sp2.yahoo.com with QMQP; 11 Dec 2012 11:45:21 -0000\r\nX-Received: from unknown (HELO mail-ob0-f171.google.com) (209.85.214.171)\n  by mta6.grp.sp2.yahoo.com with SMTP; 11 Dec 2012 11:45:21 -0000\r\nX-Received: by mail-ob0-f171.google.com with SMTP id dn14so3515391obc.2\n        for &lt;rest-discuss@yahoogroups.com&gt;; Tue, 11 Dec 2012 03:45:20 -0800 (PST)\r\nMIME-Version: 1.0\r\nX-Received: by 10.60.0.136 with SMTP id 8mr3878611oee.35.1355226320837; Tue, 11\n Dec 2012 03:45:20 -0800 (PST)\r\nX-Received: by 10.60.1.106 with HTTP; Tue, 11 Dec 2012 03:45:20 -0800 (PST)\r\nIn-Reply-To: &lt;20121211002449.618628f7.eric@...&gt;\r\nReferences: &lt;50C646CA.6040707@...&gt;\n\t&lt;20121211002449.618628f7.eric@...&gt;\r\nDate: Tue, 11 Dec 2012 11:45:20 +0000\r\nMessage-ID: &lt;CANqiZJYXEd+JwdMKp2fp6WW0aGN3nx2mSKmQLknJEkdLRvaAwg@...&gt;\r\nTo: &quot;Eric J. Bowman&quot; &lt;eric@...&gt;\r\nCc: Shea Levy &lt;shea@...&gt;, REST Discuss &lt;rest-discuss@yahoogroups.com&gt;\r\nContent-Type: multipart/alternative; boundary=e89a8fb1ffde719b7304d092374c\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Mike Kelly &lt;mikekelly321@...&gt;\r\nSubject: Re: [rest-discuss] Authorization and Statelessness\r\nX-Yahoo-Group-Post: member; u=511039257; y=Y4Yhj99GL_GaGm22vwEbk47bboIrES6Ei-hBloQJjKqbAz8diHl4iuZwP8q1ubWg_q8HqYfEnA7FsyM\r\nX-Yahoo-Profile: mikekelly8762348\r\n\r\n\r\n--e89a8fb1ffde719b7304d092374c\r\nContent-Type: text/plain; charset=windows-1252\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\nEric,\n\nPlease could you start adding a tl;dr summary to the top of your pos=\r\nts\n\nCheers,\nM\n\n\nOn Tue, Dec 11, 2012 at 7:24 AM, Eric J. Bowman &lt;eric@bison=\r\nsystems.net&gt;wrote:\n\n&gt; **\n&gt;\n&gt;\n&gt; Shea Levy wrote:\n&gt; &gt;\n&gt; &gt; What makes this dif=\r\nferent from, say, personalizing a response based\n&gt; &gt; on the client&#39;s userna=\r\nme?\n&gt; &gt;\n&gt;\n&gt; There&#39;s nothing inherently unRESTful about personalization. Bas=\r\ning it\n&gt; on digest auth gives us caching advantages over both cookies, and =\r\ntying\n&gt; it to /{username}/ URI allocation schemes. What we&#39;re after in REST=\r\n is\n&gt; optimizing the hell out of GET, remember...\n&gt;\n&gt; Say I have a resource=\r\n called &quot;newsletter&quot; I want all guests to be able\n&gt; to read, personalized f=\r\nor registered members using client-side XSLT to\n&gt; handle the mail-merge. Th=\r\ne HTML representation of the newsletter must\n&gt; be the same for all users so=\r\n we can set cache-control: public. It\n&gt; contains code which calls an XSLT t=\r\nransformation residing in an\n&gt; external .xsl file, whose URL must not vary =\r\nfor the sake of caching.\n&gt;\n&gt; But, that .xsl resource doesn&#39;t need to return=\r\n the same representation\n&gt; for all users. The personal.xsl resource sets Va=\r\nry: Authorization and\n&gt; has no 401 or 403 response. It has a 200 OK respons=\r\ne which sets cache-\n&gt; control: public for unauthorized users, personalizing=\r\n the newsletter for\n&gt; &quot;Guest&quot; (as opposed to, say, &quot;Dave&quot;) which functions =\r\nas a login link;\n&gt; whereas Dave would be linked to his control-panel UI. Fo=\r\nr example.\n&gt;\n&gt; Authenticated users GET a 303 redirection to the personal.xs=\r\nl file in\n&gt; their user directory, which has cache-control: private set. Not=\r\ne that\n&gt; the personal.xsl files in this example apply to all newsletters, s=\r\no\n&gt; it&#39;s useful to cache them. Note also that this is all invisible to the\n=\r\n&gt; user, dereferencing the newsletter resource results in a personalized\n&gt; n=\r\newsletter application steady-state -- which is a representation of the\n&gt; ne=\r\nwsletter resource the user dereferenced.\n&gt;\n&gt; Actually, the HTML representat=\r\nion should be personalized for Guest by\n&gt; default, with the guest personal.=\r\nxsl file containing an identity\n&gt; transform (does nothing). Also, the 303 r=\r\nedirects are cache-control:\n&gt; private.\n&gt;\n&gt; We can expand the example to onl=\r\ny work this way for user-agents which\n&gt; Accept: application/xhtml+xml (whic=\r\nh all do client-side XSLT 1 nowadays)\n&gt; while performing the XSLT transform=\r\nation server-side and sending the\n&gt; personalized 200 OK response as text/ht=\r\nml with cache-control: private\n&gt; for other user-agents (public, if not logg=\r\ned in). What this does is\n&gt; expand the set of representations such that eac=\r\nh user now has two\n&gt; possible 200 OK responses, HTML and XHTML. Don&#39;t forge=\r\nt Vary: Accept.\n&gt;\n&gt; This isn&#39;t &quot;the&quot; RESTful way to do personalization, mer=\r\nely my attempt\n&gt; at a very simple example of basic mail-merge functionality=\r\n in the REST\n&gt; idiom, to help answer your questions...\n&gt;\n&gt;\n&gt; &gt;\n&gt; &gt; Why does=\r\nn&#39;t authorization violate the statelessness constraint of\n&gt; &gt; REST?\n&gt; &gt;\n&gt;\n&gt;=\r\n I&#39;m going to turn that around on you, and ask what is it about my\n&gt; exampl=\r\ne you find stateful, specifically?\n&gt;\n&gt;\n&gt; &gt;\n&gt; &gt; It seems to reduce visibilit=\r\ny (monitoring systems need to know\n&gt; &gt; both the request datum AND the user&#39;=\r\ns access rights to understand a\n&gt; &gt; request)\n&gt; &gt;\n&gt;\n&gt; Not really; intermedia=\r\nries just need to know a user *has* access rights.\n&gt; As to visibility, if m=\r\ny example didn&#39;t have that property, it wouldn&#39;t\n&gt; have graceful degradatio=\r\nn from highly-cacheable client-side merging\n&gt; down to cache-miss server-sid=\r\ne merging.\n&gt;\n&gt;\n&gt; &gt;\n&gt; &gt; and scalability (server needs to store access-contro=\r\nl metadata across\n&gt; &gt; requests).\n&gt; &gt;\n&gt;\n&gt; Sorry, not seeing it. The access-c=\r\nontrol metadata is part of the\n&gt; request, which leads to scalability. That =\r\na cookie is being used as\n&gt; access-control metadata is not apparent from su=\r\nch a request. It seems\n&gt; to me that the worst-case scenarios in my example,=\r\n in terms of\n&gt; scalability vis-a-vis cache-hit ratio, are the best-case sce=\r\nnarios of\n&gt; non-RESTful approaches to personalization.\n&gt;\n&gt; IOW, that most r=\r\nequests cause processing on the server is what&#39;s\n&gt; expected with cookies, w=\r\nhile REST gives me the means to avoid even\n&gt; contacting the server in many =\r\nif not most cases, for the given example.\n&gt; The more millions of users, the=\r\n greater the likelihood the newsletter&#39;s\n&gt; already cached closer to the use=\r\nr than the origin server, meaning\n&gt; server resource utilization per-user de=\r\ncreases as users increase, which\n&gt; is the real payoff to REST.\n&gt;\n&gt; -Eric\n&gt;\n=\r\n&gt;  \n&gt;\n\n\n\n-- \nMike\n\nhttp://twitter.com/mikekelly85\nhttp://github.com/mikekel=\r\nly\nhttp://linkedin.com/in/mikekelly123\n\r\n--e89a8fb1ffde719b7304d092374c\r\nContent-Type: text/html; charset=windows-1252\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\nEric,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Please could you start adding a tl;dr summary to t=\r\nhe top of your posts&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Cheers,&lt;/div&gt;&lt;div&gt;M&lt;/div&gt;&lt;div=\r\n class=3D&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;div class=3D&quot;gmail_quote&quot;&gt;On Tue, Dec 11, 2=\r\n012 at 7:24 AM, Eric J. Bowman &lt;span dir=3D&quot;ltr&quot;&gt;&lt;&lt;a href=3D&quot;mailto:eric=\r\n@...&quot; target=3D&quot;_blank&quot;&gt;eric@...&lt;/a&gt;&gt;&lt;/span&gt; w=\r\nrote:&lt;br&gt;\n&lt;blockquote class=3D&quot;gmail_quote&quot; style=3D&quot;margin:0 0 0 .8ex;bord=\r\ner-left:1px #ccc solid;padding-left:1ex&quot;&gt;\n\n\n&lt;u&gt;&lt;/u&gt;\n\n\n\n\n\n\n\n\n\n\n&lt;div style&gt;\n&lt;=\r\nspan&gt;=A0&lt;/span&gt;\n\n\n&lt;div&gt;\n  &lt;div&gt;\n\n\n    &lt;div&gt;\n      \n      \n      &lt;p&gt;&lt;/p&gt;&lt;div=\r\n class=3D&quot;im&quot;&gt;Shea Levy wrote:&lt;br&gt;\n&gt; &lt;br&gt;\n&gt; What makes this different=\r\n from, say, personalizing a response based&lt;br&gt;\n&gt; on the client&#39;s use=\r\nrname?&lt;br&gt;\n&gt; &lt;br&gt;\n&lt;br&gt;&lt;/div&gt;\nThere&#39;s nothing inherently unRESTful ab=\r\nout personalization.  Basing it&lt;br&gt;\non digest auth gives us caching advanta=\r\nges over both cookies, and tying&lt;br&gt;\nit to /{username}/ URI allocation sche=\r\nmes.  What we&#39;re after in REST is&lt;br&gt;\noptimizing the hell out of GET, r=\r\nemember...&lt;br&gt;\n&lt;br&gt;\nSay I have a resource called &quot;newsletter&quot; I w=\r\nant all guests to be able&lt;br&gt;\nto read, personalized for registered members =\r\nusing client-side XSLT to&lt;br&gt;\nhandle the mail-merge. The HTML representatio=\r\nn of the newsletter must&lt;br&gt;\nbe the same for all users so we can set cache-=\r\ncontrol: public.  It&lt;br&gt;\ncontains code which calls an XSLT transformation r=\r\nesiding in an&lt;br&gt;\nexternal .xsl file, whose URL must not vary for the sake =\r\nof caching.&lt;br&gt;\n&lt;br&gt;\nBut, that .xsl resource doesn&#39;t need to return the=\r\n same representation&lt;br&gt;\nfor all users.  The personal.xsl resource sets Var=\r\ny: Authorization and&lt;br&gt;\nhas no 401 or 403 response.  It has a 200 OK respo=\r\nnse which sets cache-&lt;br&gt;\ncontrol: public for unauthorized users, personali=\r\nzing the newsletter for&lt;br&gt;\n&quot;Guest&quot; (as opposed to, say, &quot;Da=\r\nve&quot;) which functions as a login link;&lt;br&gt;\nwhereas Dave would be linked=\r\n to his control-panel UI.  For example.&lt;br&gt;\n&lt;br&gt;\nAuthenticated users GET a =\r\n303 redirection to the personal.xsl file in&lt;br&gt;\ntheir user directory, which=\r\n has cache-control: private set.  Note that&lt;br&gt;\nthe personal.xsl files in t=\r\nhis example apply to all newsletters, so&lt;br&gt;\nit&#39;s useful to cache them.=\r\n  Note also that this is all invisible to the&lt;br&gt;\nuser, dereferencing the n=\r\newsletter resource results in a personalized&lt;br&gt;\nnewsletter application ste=\r\nady-state -- which is a representation of the&lt;br&gt;\nnewsletter resource the u=\r\nser dereferenced.&lt;br&gt;\n&lt;br&gt;\nActually, the HTML representation should be pers=\r\nonalized for Guest by&lt;br&gt;\ndefault, with the guest personal.xsl file contain=\r\ning an identity&lt;br&gt;\ntransform (does nothing).  Also, the 303 redirects are =\r\ncache-control:&lt;br&gt;\nprivate.&lt;br&gt;\n&lt;br&gt;\nWe can expand the example to only work=\r\n this way for user-agents which&lt;br&gt;\nAccept: application/xhtml+xml (which al=\r\nl do client-side XSLT 1 nowadays)&lt;br&gt;\nwhile performing the XSLT transformat=\r\nion server-side and sending the&lt;br&gt;\npersonalized 200 OK response as text/ht=\r\nml with cache-control: private&lt;br&gt;\nfor other user-agents (public, if not lo=\r\ngged in).  What this does is&lt;br&gt;\nexpand the set of representations such tha=\r\nt each user now has two&lt;br&gt;\npossible 200 OK responses, HTML and XHTML.  Don=\r\n&#39;t forget Vary: Accept.&lt;br&gt;\n&lt;br&gt;\nThis isn&#39;t &quot;the&quot; RESTful=\r\n way to do personalization, merely my attempt&lt;br&gt;\nat a very simple example =\r\nof basic mail-merge functionality in the REST&lt;br&gt;\nidiom, to help answer you=\r\nr questions...&lt;div class=3D&quot;im&quot;&gt;&lt;br&gt;\n&lt;br&gt;\n&gt; &lt;br&gt;\n&gt; Why doesn&#39;t au=\r\nthorization violate the statelessness constraint of&lt;br&gt;\n&gt; REST?&lt;br&gt;\n&gt;=\r\n&lt;br&gt;\n&lt;br&gt;&lt;/div&gt;\nI&#39;m going to turn that around on you, and ask what is i=\r\nt about my&lt;br&gt;\nexample you find stateful, specifically?&lt;div class=3D&quot;im&quot;&gt;&lt;b=\r\nr&gt;\n&lt;br&gt;\n&gt;&lt;br&gt;\n&gt; It seems to reduce visibility (monitoring systems nee=\r\nd to know&lt;br&gt;\n&gt; both the request datum AND the user&#39;s access rights =\r\nto understand a&lt;br&gt;\n&gt; request)&lt;br&gt;\n&gt;&lt;br&gt;\n&lt;br&gt;&lt;/div&gt;\nNot really; inter=\r\nmediaries just need to know a user *has* access rights.&lt;br&gt;\nAs to visibilit=\r\ny, if my example didn&#39;t have that property, it wouldn&#39;t&lt;br&gt;\nhave gr=\r\naceful degradation from highly-cacheable client-side merging&lt;br&gt;\ndown to ca=\r\nche-miss server-side merging.&lt;div class=3D&quot;im&quot;&gt;&lt;br&gt;\n&lt;br&gt;\n&gt;&lt;br&gt;\n&gt; and =\r\nscalability (server needs to store access-control metadata across&lt;br&gt;\n&gt; =\r\nrequests).&lt;br&gt;\n&gt; &lt;br&gt;\n&lt;br&gt;&lt;/div&gt;\nSorry, not seeing it.  The access-contr=\r\nol metadata is part of the&lt;br&gt;\nrequest, which leads to scalability.  That a=\r\n cookie is being used as&lt;br&gt;\naccess-control metadata is not apparent from s=\r\nuch a request.  It seems&lt;br&gt;\nto me that the worst-case scenarios in my exam=\r\nple, in terms of&lt;br&gt;\nscalability vis-a-vis cache-hit ratio, are the best-ca=\r\nse scenarios of&lt;br&gt;\nnon-RESTful approaches to personalization.&lt;br&gt;\n&lt;br&gt;\nIOW=\r\n, that most requests cause processing on the server is what&#39;s&lt;br&gt;\nexpec=\r\nted with cookies, while REST gives me the means to avoid even&lt;br&gt;\ncontactin=\r\ng the server in many if not most cases, for the given example.&lt;br&gt;\nThe more=\r\n millions of users, the greater the likelihood the newsletter&#39;s&lt;br&gt;\nalr=\r\neady cached closer to the user than the origin server, meaning&lt;br&gt;\nserver r=\r\nesource utilization per-user decreases as users increase, which&lt;br&gt;\nis the =\r\nreal payoff to REST.&lt;br&gt;\n&lt;br&gt;\n-Eric&lt;br&gt;\n&lt;p&gt;&lt;/p&gt;\n\n    &lt;/div&gt;\n     \n\n    \n   =\r\n &lt;div style=3D&quot;color:#fff;min-height:0&quot;&gt;&lt;/div&gt;\n\n\n&lt;/div&gt;\n\n\n\n  \n\n\n\n\n\n\n&lt;/block=\r\nquote&gt;&lt;/div&gt;&lt;br&gt;&lt;br clear=3D&quot;all&quot;&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;-- &lt;br&gt;Mike&lt;br&gt;&lt;br&gt;&lt;a href=\r\n=3D&quot;http://twitter.com/mikekelly85&quot; target=3D&quot;_blank&quot;&gt;http://twitter.com/mi=\r\nkekelly85&lt;/a&gt;&lt;br&gt;&lt;a href=3D&quot;http://github.com/mikekelly&quot; target=3D&quot;_blank&quot;&gt;=\r\nhttp://github.com/mikekelly&lt;/a&gt;&lt;br&gt;\n&lt;a href=3D&quot;http://linkedin.com/in/mikek=\r\nelly123&quot; target=3D&quot;_blank&quot;&gt;http://linkedin.com/in/mikekelly123&lt;/a&gt;&lt;br&gt;\n&lt;/di=\r\nv&gt;\n\r\n--e89a8fb1ffde719b7304d092374c--\r\n\n"}}
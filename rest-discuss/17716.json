{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":69164307,"authorName":"mike amundsen","from":"mike amundsen &lt;mamund@...&gt;","profile":"mamund","replyTo":"SENDER","senderId":"aoqAizWkF5KQ17_tTX1HD1ckWHnJ8kZ9dVKfu9hjVuI75ZPrP7t9F3zrJN3Qyp5vu1Y_FGzKr7ZC8gJLramL9-JOQ9R3sCI","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [rest-discuss] User dependent Resources","postDate":"1315193448","msgId":17716,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PENBUFdfOG01M3pzY2dKZVZEOGt3SnF4RE56TXlTQy1hZWdSUms5eDRFbnRHMkdFRDdiUUBtYWlsLmdtYWlsLmNvbT4=","inReplyToHeader":"PEJDRjQ2NDlBLTlCQjMtNEE2Qy04QTJELTU2Qzc1RjNFNTZGM0BnbWFpbC5jb20+","referencesHeader":"PGo0MGs4bitodDNvQGVHcm91cHMuY29tPgk8Q0FQV184bTVOVjZ1QkV0VFluVWFTS1o3N1JmPTBxWE1GN19iSktlTGJQdXhXek9yMm9nQG1haWwuZ21haWwuY29tPgk8Q0FQV184bTRBWVhPRTJBNj13RG12RTBMYmNxSCtkWV8yeVBzR1NVazNwTnFaODdSaStnQG1haWwuZ21haWwuY29tPgk8QkNGNDY0OUEtOUJCMy00QTZDLThBMkQtNTZDNzVGM0U1NkYzQGdtYWlsLmNvbT4="},"prevInTopic":17715,"nextInTopic":17717,"prevInTime":17715,"nextInTime":17717,"topicId":17714,"numMessagesInTopic":12,"msgSnippet":"As I mentioned in the post, in option #3, the URI no longer accurately identifies the resource representation. The same URI now returns multiple resource","rawEmail":"Return-Path: &lt;mca@...&gt;\r\nX-Sender: mca@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 43008 invoked from network); 5 Sep 2011 03:30:51 -0000\r\nX-Received: from unknown (98.137.35.160)\n  by m4.grp.sp2.yahoo.com with QMQP; 5 Sep 2011 03:30:51 -0000\r\nX-Received: from unknown (HELO mail-ww0-f43.google.com) (74.125.82.43)\n  by mta4.grp.sp2.yahoo.com with SMTP; 5 Sep 2011 03:30:51 -0000\r\nX-Received: by wwe32 with SMTP id 32so4040525wwe.12\n        for &lt;rest-discuss@yahoogroups.com&gt;; Sun, 04 Sep 2011 20:30:50 -0700 (PDT)\r\nMIME-Version: 1.0\r\nX-Received: by 10.216.229.157 with SMTP id h29mr1971167weq.20.1315193448158;\n Sun, 04 Sep 2011 20:30:48 -0700 (PDT)\r\nX-Received: by 10.216.38.194 with HTTP; Sun, 4 Sep 2011 20:30:48 -0700 (PDT)\r\nIn-Reply-To: &lt;BCF4649A-9BB3-4A6C-8A2D-56C75F3E56F3@...&gt;\r\nReferences: &lt;j40k8n+ht3o@...&gt;\n\t&lt;CAPW_8m5NV6uBEtTYnUaSKZ77Rf=0qXMF7_bJKeLbPuxWzOr2og@...&gt;\n\t&lt;CAPW_8m4AYXOE2A6=wDmvE0LbcqH+dY_2yPsGSUk3pNqZ87Ri+g@...&gt;\n\t&lt;BCF4649A-9BB3-4A6C-8A2D-56C75F3E56F3@...&gt;\r\nDate: Sun, 4 Sep 2011 23:30:48 -0400\r\nX-Google-Sender-Auth: Ziac7U9iFq8NZRlpToWNn1b5Ys4\r\nMessage-ID: &lt;CAPW_8m53zscgJeVD8kwJqxDNzMySC-aegRRk9x4EntG2GED7bQ@...&gt;\r\nTo: Dilip Krishnan &lt;dilip.krishnan@...&gt;\r\nCc: rest-discuss &lt;rest-discuss@yahoogroups.com&gt;\r\nContent-Type: multipart/alternative; boundary=0016e6567da249d6b704ac29569f\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: mike amundsen &lt;mamund@...&gt;\r\nSubject: Re: [rest-discuss] User dependent Resources\r\nX-Yahoo-Group-Post: member; u=69164307; y=if7dEaRw9zU_Agp-nXRfzfD0vzOrAiJIS39yyzTNWhgX\r\nX-Yahoo-Profile: mamund\r\n\r\n\r\n--0016e6567da249d6b704ac29569f\r\nContent-Type: text/plain; charset=windows-1252\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\nAs I mentioned in the post, in option #3, the URI no longer accurately\niden=\r\ntifies the resource representation. The same URI now returns multiple\nresou=\r\nrce representations. This is the only example I supplied where this is\ntrue=\r\n.\n\n&quot;- to be able to protect the resources, regardless of what the user in t=\r\nhe\nuri is, you&#39;d have to have the standard authentication mechanisms cookie=\r\ns,\nheaders etc.&quot;\nWhile this is correct, there is no requirement that this s=\r\ntandard\nauthentication data MUST be used to override the URI of a request t=\r\no alter\nthe response representation. I prefer to keep authentication\ndetail=\r\ns orthogonal to the resource identifer; my use of the characters &quot;joe&quot;\nto n=\r\not at all assume that a user&#39;s log in data includes the characters &quot;joe&quot;\n(i=\r\n.e. &quot;joe&quot; need not be the username for #1 to work properly).\n\n&quot;- we&#39;d be tu=\r\nnneling authentication semantics in the uri.&quot;\nPossibly you assume that the =\r\nappearance of the three characters &quot;j-o-e&quot; mean\nthat the URI _contains_ ide=\r\nntity information. This need not be the case at\nall. The URI could contain =\r\nany set of characters and I would perfer it as\nlong as that set of chracter=\r\ns resulted in a _unique_ URI (not necessarily at\n_descriptive_ URI).\n\nDoes =\r\nthat last point make sense? IOW, perfer #1 since it results in a URI\nthat i=\r\ns unique to each resource representation. I prefer #2 since it results\nin t=\r\nwo resources, each unique to each representation.  I do not prefer #3\nbecau=\r\nse it results in a single URI that returns multiple representations;\nthe UR=\r\nI is no longer unique per representation returned.\n\n#3 is the only example =\r\nwhere the URI is re-used to return multiple\nrepresentations; it is needless=\r\n tunneling. While it is true that some of the\ncontrol data (headers) mark t=\r\nhe record as unique, this is less preferable\n(to me) as there are other opt=\r\nions that result in unique URIs for each\nrepresentation.\n\n\nmca\nhttp://amund=\r\nsen.com/blog/\nhttp://twitter.com@mamund\nhttp://mamund.com/foaf.rdf#me\n\n\n#RE=\r\nSTFest 2011 - Aug 18-20\nhttp://restfest.org\n\n\nOn Sun, Sep 4, 2011 at 22:55,=\r\n Dilip Krishnan &lt;dilip.krishnan@...&gt;wrote:\n\n&gt; Option 2 and 3 seem fai=\r\nrly similar differing only in where the logic to get\n&gt; user-specific-conten=\r\nt happens=85 Old habits die hard, but my service oriented\n&gt; brain seems to =\r\nthink of 3 as the most intuitive option that I&#39;d consider.\n&gt; Also it separa=\r\ntes the non-functional aspects of the resource=85 in this case\n&gt; authentica=\r\ntion and authorization from the functional aspect which in this\n&gt; example i=\r\ns to &quot;GET&quot; my-tasks.\n&gt;\n&gt; I see a couple of issues with having the user as p=\r\nart of the resource uri\n&gt; space\n&gt; - if the authentication/authorization res=\r\nources are different from the\n&gt; my-tasks resources, perhaps the identity pr=\r\novider is facebook or google. How\n&gt; can one model a user integral to the re=\r\nsource space when we don&#39;t know how\n&gt; they can be represented in a differen=\r\nt system.\n&gt; - to be able to protect the resources, regardless of what the u=\r\nser in the\n&gt; uri is, you&#39;d have to have the standard authentication mechani=\r\nsms cookies,\n&gt; headers etc.\n&gt; - we&#39;d be tunneling authentication semantics =\r\nin the uri.\n&gt;\n&gt; In a recent project that I worked on we did go with the thi=\r\nrd option, but\n&gt; I&#39;d be curious why you prefer 1 and 2 over 3.\n&gt;\n&gt; Regards,=\r\n\n&gt; Dilip Krishnan\n&gt; dilip.krishnan@...\n&gt;\n&gt;\n&gt;\n&gt; On Sep 4, 2011, at 4:3=\r\n3 PM, mike amundsen wrote:\n&gt;\n&gt;\n&gt;\n&gt; I&#39;ve approached this in the following wa=\r\nys:\n&gt;\n&gt; 1) use dedicated resource : /my-tasks/joe, /joe/my-tasks, etc.\n&gt;\n&gt; =\r\nAdvantage here is the exact resource is easy to find, cache, and bookmark.\n=\r\n&gt; Downside is the server must compose this and caches need to keep track of=\r\n\n&gt; minor changes (add, edit, remove, tasks) in the resource (usually via\n&gt; =\r\nETags).\n&gt;\n&gt; 2) use two resources : /my-tasks/ and include code on demand th=\r\nat uses\n&gt; transient state (i.e. cookie, authentication header, etc) to iden=\r\ntify and\n&gt; load personalization data from another URI.\n&gt;\n&gt; Advantage here i=\r\ns there is a single resource that can be shared by all\n&gt; users of /my-tasks=\r\n/ and a second (equally cache-able) resource that is\n&gt; specific to the logg=\r\ned-in user. Downside is that this is not easily\n&gt; book-markable since state=\r\n is involved in retrieving the second resource. You\n&gt; can mitigate this by =\r\nusing an extra URI as a bookmark\n&gt; (/bookmark?/my-tasks&user=3Djoe, etc.) o=\r\nr store the transient state in the URI\n&gt; using a hashtag (/my-tasks/#joe, e=\r\ntc.). Dev will need to make sure the\n&gt; code-on-demand also does the proper =\r\ncaching work (attend to hastags, track\n&gt; 304 responses, etc.)\n&gt;\n&gt; 3) have s=\r\nervers use a generic URI (/my-tasks/) plus transient data (cookie,\n&gt; author=\r\nization header, etc.) to compose the resource server-side and mark the\n&gt; re=\r\nsource w/ a &quot;Vary&quot; header that includes the transient state container to\n&gt; =\r\nmake sure caches keep the variants sorted.  Advantage is it&#39;s easy to\n&gt; boo=\r\nkmark and does not require code-on-demand. Downside is a loss of\n&gt; visbilit=\r\ny in general (the URI does not identify the resource anymore and\n&gt; possible=\r\n unexpected results when sharing the link (will be harder for userA\n&gt; to sh=\r\nare w/ userB as the server will step in and mung the resource\n&gt; representat=\r\nion).\n&gt;\n&gt; I usually use #2 unless scripting is dis-allowed/unavailable then=\r\n i use #1.\n&gt; I rarely use #3.\n&gt;\n&gt; mca\n&gt; http://amundsen.com/blog/\n&gt; http://=\r\ntwitter.com@mamund\n&gt; http://mamund.com/foaf.rdf#me\n&gt;\n&gt;\n&gt; #RESTFest 2011 - A=\r\nug 18-20\n&gt; http://restfest.org\n&gt;\n&gt;\n&gt;\n&gt; On Sun, Sep 4, 2011 at 15:41, bryan_=\r\nw_taylor &lt;bryan_w_taylor@...&gt;\n&gt; wrote:\n&gt;\n&gt;&gt; Is it reasonable for a re=\r\nsource to return representations that vary based\n&gt;&gt; on the authenticated us=\r\ner? Eg:\n&gt;&gt;\n&gt;&gt; http://example.com/my-tasks\n&gt;&gt;  vs\n&gt;&gt; http://example.com/task=\r\ns?user=3Djoe\n&gt;&gt;\n&gt;&gt; We&#39;ve consider offering both and having my-tasks redirec=\r\nt to the\n&gt;&gt; appropriate user=3D resource. This helps caching, but at the co=\r\nst of an extra\n&gt;&gt; network round trip. It also creates a potential for a dir=\r\nect object\n&gt;&gt; reference vulnerability, as I can&#39;t trust URIs that come from=\r\n joe to always\n&gt;&gt; say user=3Djoe as joe my get frisky and hand edit it to b=\r\ne user=3Djane. So I\n&gt;&gt; have to check the auth&#39;d user vs the URI parameter a=\r\nnyway. Though I might\n&gt;&gt; actually want managers to be able to use the user=\r\n=3D form on employees that\n&gt;&gt; report up to them.\n&gt;&gt;\n&gt;&gt; The my-tasks URI has=\r\n a huge advantage that it&#39;s static, so I can give it\n&gt;&gt; to users from stati=\r\nc content, or more importantly from external or\n&gt;&gt; non-authenticated conten=\r\nt where the server that delivers the URI doesn&#39;t\n&gt;&gt; know I call him joe. Th=\r\ne redirect strategy also works for this.\n&gt;&gt;\n&gt;&gt; Aside from breaking caching,=\r\n is there anything wrong with just returning\n&gt;&gt; joe&#39;s task when he hits my-=\r\ntasks ? This contemplates a resource that\n&gt;&gt; responds to GET with represent=\r\nations that depend on the session token from a\n&gt;&gt; cookie or a header. My th=\r\noughts on the redirect are that it&#39;s STILL a user\n&gt;&gt; dependent resource, an=\r\nd that unless I make the user type &quot;joe&quot; in a form,\n&gt;&gt; whatever page gives =\r\nhim the user=3Djoe link is probably also user dependent. I\n&gt;&gt; suppose I cou=\r\nld even save caching by using a rewrite rule instead of a\n&gt;&gt; redirect.\n&gt;&gt;\n&gt;=\r\n&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; ------------------------------------\n&gt;&gt;\n&gt;&gt; Yahoo! Groups Links\n&gt;=\r\n&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;\n&gt;\n&gt;\n&gt; \n&gt;\n&gt;\n&gt;\n\r\n--0016e6567da249d6b704ac29569f\r\nContent-Type: text/html; charset=windows-1252\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\nAs I mentioned in the post, in option #3, the URI no longer accurately iden=\r\ntifies the resource representation. The same URI now returns multiple resou=\r\nrce representations. This is the only example I supplied where this is true=\r\n.&lt;div&gt;\n&lt;br&gt;&lt;/div&gt;&lt;div&gt;&quot;- to be able to protect the resources, regardle=\r\nss of what the user in the uri is, you&#39;d have to have the standard auth=\r\nentication mechanisms cookies, headers etc.&quot;&lt;/div&gt;&lt;div&gt;While this is c=\r\norrect, there is no requirement that this standard authentication data MUST=\r\n be used to override the URI of a request to alter the response representat=\r\nion. I prefer to keep authentication details=A0orthogonal to the resource i=\r\ndentifer; my use of the characters &quot;joe&quot; to not at all assume tha=\r\nt a user&#39;s log in data includes the characters &quot;joe&quot; (i.e. &q=\r\nuot;joe&quot; need not be the username for #1 to work properly).&lt;/div&gt;\n&lt;div=\r\n&gt;=A0&lt;/div&gt;&lt;div&gt;&quot;- we&#39;d be tunneling authentication semantics in th=\r\ne uri.&quot;=A0&lt;/div&gt;&lt;div&gt;Possibly you assume that the appearance of the th=\r\nree characters &quot;j-o-e&quot; mean that the URI _contains_ identity info=\r\nrmation. This need not be the case at all. The URI could contain any set of=\r\n characters and I would perfer it as long as that set of chracters resulted=\r\n in a _unique_ URI (not necessarily at _descriptive_ URI). =A0&lt;/div&gt;\n&lt;div&gt;&lt;=\r\nbr&gt;&lt;/div&gt;&lt;div&gt;Does that last point make sense? IOW, perfer #1 since it resu=\r\nlts in a URI that is unique to each resource representation. I prefer #2 si=\r\nnce it results in two resources, each=A0unique=A0to each representation. =\r\n=A0I do not prefer #3 because it results in a single URI that returns multi=\r\nple representations; the URI is no longer unique per representation returne=\r\nd.&lt;/div&gt;\n&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;#3 is the only example where the URI is re-use=\r\nd to return multiple representations; it is needless tunneling. While it is=\r\n true that some of the control data (headers) mark the record as unique, th=\r\nis is less preferable (to me) as there are other options that result in uni=\r\nque URIs for each representation.&lt;/div&gt;\n&lt;div&gt;=A0=A0&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;di=\r\nv&gt;mca&lt;/div&gt;&lt;div&gt;&lt;a href=3D&quot;http://amundsen.com/blog/&quot; target=3D&quot;_blank&quot;&gt;htt=\r\np://amundsen.com/blog/&lt;/a&gt;&lt;br&gt;&lt;a href=3D&quot;http://twitter.com&quot; target=3D&quot;_bla=\r\nnk&quot;&gt;http://twitter.com&lt;/a&gt;@mamund&lt;br&gt;&lt;a href=3D&quot;http://mamund.com/foaf.rdf#=\r\nme&quot; target=3D&quot;_blank&quot;&gt;http://mamund.com/foaf.rdf#me&lt;/a&gt;&lt;br&gt;\n&lt;br&gt;&lt;br&gt;#RESTFe=\r\nst 2011 - Aug 18-20&lt;br&gt;&lt;a href=3D&quot;http://restfest.org&quot; target=3D&quot;_blank&quot;&gt;ht=\r\ntp://restfest.org&lt;/a&gt;&lt;br&gt;\n&lt;br&gt;&lt;br&gt;&lt;div class=3D&quot;gmail_quote&quot;&gt;On Sun, Sep 4,=\r\n 2011 at 22:55, Dilip Krishnan &lt;span dir=3D&quot;ltr&quot;&gt;&lt;&lt;a href=3D&quot;mailto:dili=\r\np.krishnan@...&quot;&gt;dilip.krishnan@...&lt;/a&gt;&gt;&lt;/span&gt; wrote:&lt;br&gt;&lt;bl=\r\nockquote class=3D&quot;gmail_quote&quot; style=3D&quot;margin:0 0 0 .8ex;border-left:1px #=\r\nccc solid;padding-left:1ex;&quot;&gt;\n&lt;div style=3D&quot;word-wrap:break-word&quot;&gt;Option 2 =\r\nand 3 seem fairly similar differing only in where the logic to get user-spe=\r\ncific-content happens=85 Old habits die hard, but my service oriented brain=\r\n seems to think of 3 as the most intuitive option that I&#39;d consider. Al=\r\nso it separates the non-functional aspects of the resource=85 in this case =\r\nauthentication and authorization from the functional aspect which in this e=\r\nxample is to &quot;GET&quot; my-tasks.&lt;div&gt;\n&lt;br&gt;&lt;/div&gt;&lt;div&gt;I see a couple o=\r\nf issues with having the user as part of the resource uri space&lt;/div&gt;&lt;div&gt;-=\r\n if the authentication/authorization resources are different from the my-ta=\r\nsks resources, perhaps the identity provider is facebook or google. How can=\r\n one model a user integral to the resource space when we don&#39;t know how=\r\n they can be represented in a different system.&lt;/div&gt;\n&lt;div&gt;- to be able to =\r\nprotect the resources, regardless of what the user in the uri is, you&#39;d=\r\n have to have the standard authentication mechanisms cookies, headers etc.&lt;=\r\n/div&gt;&lt;div&gt;- we&#39;d be tunneling authentication semantics in the uri.&lt;/div=\r\n&gt;\n&lt;div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;In a recent project that I worked on we did=\r\n go with the third option, but I&#39;d be curious why you prefer 1 and 2 ov=\r\ner 3.&lt;/div&gt;&lt;div&gt;&lt;div&gt;\n&lt;span style=3D&quot;border-collapse:separate;color:rgb(0, =\r\n0, 0);font-family:Helvetica;font-style:normal;font-variant:normal;font-weig=\r\nht:normal;letter-spacing:normal;line-height:normal;text-align:auto;text-ind=\r\nent:0px;text-transform:none;white-space:normal;word-spacing:0px;font-size:m=\r\nedium&quot;&gt;&lt;div&gt;\n&lt;br&gt;Regards,&lt;/div&gt;&lt;div&gt;Dilip Krishnan&lt;/div&gt;&lt;div&gt;&lt;a href=3D&quot;mai=\r\nlto:dilip.krishnan@...&quot; target=3D&quot;_blank&quot;&gt;dilip.krishnan@...&lt;/a=\r\n&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/span&gt;&lt;br&gt;\n&lt;/div&gt;\n&lt;br&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;/div&gt;&lt;div clas=\r\ns=3D&quot;h5&quot;&gt;&lt;div&gt;On Sep 4, 2011, at 4:33 PM, mike amundsen wrote:&lt;/div&gt;&lt;br&gt;&lt;/d=\r\niv&gt;&lt;/div&gt;&lt;blockquote type=3D&quot;cite&quot;&gt;&lt;span style=3D&quot;border-collapse:separate;=\r\nfont-family:Helvetica;font-style:normal;font-variant:normal;font-weight:nor=\r\nmal;letter-spacing:normal;line-height:normal;text-align:-webkit-auto;text-i=\r\nndent:0px;text-transform:none;white-space:normal;word-spacing:0px;font-size=\r\n:medium&quot;&gt;&lt;div&gt;\n&lt;div&gt;&lt;div&gt;&lt;/div&gt;&lt;div class=3D&quot;h5&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;div class=3D&quot;gmai=\r\nl_quote&quot;&gt;I&#39;ve approached this in the following ways:&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div=\r\n&gt;1) use dedicated resource : /my-tasks/joe, /joe/my-tasks, etc.&lt;/div&gt;&lt;div&gt;&lt;=\r\nbr&gt;&lt;/div&gt;&lt;div&gt;Advantage here is the exact resource is easy to find, cache, =\r\nand bookmark. Downside is the server must compose this and caches need to k=\r\neep track of minor changes (add, edit, remove, tasks) in the resource (usua=\r\nlly via ETags).&lt;/div&gt;\n&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;2) use two resources : /my-tasks/=\r\n and include code on demand that uses transient state (i.e. cookie, authent=\r\nication header, etc) to identify and load personalization data from another=\r\n URI.=A0&lt;/div&gt;&lt;div&gt;&lt;br&gt;\n&lt;/div&gt;&lt;div&gt;Advantage here is there is a single reso=\r\nurce that can be shared by all users of /my-tasks/ and a second (equally ca=\r\nche-able) resource that is specific to the logged-in user. Downside is that=\r\n this is not easily book-markable since state is involved in=A0retrieving=\r\n=A0the second resource. You can mitigate this by using an extra URI as a bo=\r\nokmark (/bookmark?/my-tasks&amp;user=3Djoe, etc.) or store the transient st=\r\nate in the URI using a hashtag (/my-tasks/#joe, etc.). Dev will need to mak=\r\ne sure the code-on-demand also does the proper caching work (attend to hast=\r\nags, track 304 responses, etc.)&lt;/div&gt;\n&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;3) have servers u=\r\nse a generic URI (/my-tasks/) plus transient data (cookie, authorization he=\r\nader, etc.) to compose the resource server-side and mark the resource w/ a =\r\n&quot;Vary&quot; header that includes the transient state container to make=\r\n sure caches keep the variants sorted. =A0Advantage is it&#39;s easy to boo=\r\nkmark and does not require code-on-demand. Downside is a loss of visbility =\r\nin general (the URI does not identify the resource anymore and possible une=\r\nxpected results when sharing the link (will be harder for userA to share w/=\r\n userB as the server will step in and mung the resource representation).&lt;/d=\r\niv&gt;\n&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I usually use #2 unless scripting is dis-allowed/un=\r\navailable then i use #1. I rarely use #3.&lt;/div&gt;&lt;div&gt;&lt;br clear=3D&quot;all&quot;&gt;mca&lt;b=\r\nr&gt;&lt;a href=3D&quot;http://amundsen.com/blog/&quot; target=3D&quot;_blank&quot;&gt;http://amundsen.c=\r\nom/blog/&lt;/a&gt;&lt;br&gt;\n&lt;a href=3D&quot;http://twitter.com&quot; target=3D&quot;_blank&quot;&gt;http://tw=\r\nitter.com&lt;/a&gt;@mamund&lt;br&gt;&lt;a href=3D&quot;http://mamund.com/foaf.rdf#me&quot; target=3D=\r\n&quot;_blank&quot;&gt;http://mamund.com/foaf.rdf#me&lt;/a&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;#RESTFest 2011 - Aug =\r\n18-20&lt;br&gt;&lt;a href=3D&quot;http://restfest.org&quot; target=3D&quot;_blank&quot;&gt;http://restfest.=\r\norg&lt;/a&gt;&lt;div&gt;\n&lt;div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;div class=3D&quot;gmail_quote&quot;&gt;On Sun,=\r\n Sep 4, 2011 at 15:41, bryan_w_taylor&lt;span&gt;=A0&lt;/span&gt;&lt;span dir=3D&quot;ltr&quot;&gt;&lt;=\r\n&lt;a href=3D&quot;mailto:bryan_w_taylor@...&quot; target=3D&quot;_blank&quot;&gt;bryan_w_taylo=\r\nr@...&lt;/a&gt;&gt;&lt;/span&gt;&lt;span&gt;=A0&lt;/span&gt;wrote:&lt;br&gt;\n&lt;blockquote class=3D&quot;g=\r\nmail_quote&quot; style=3D&quot;margin-top:0px;margin-right:0px;margin-bottom:0px;marg=\r\nin-left:0.8ex;border-left-width:1px;border-left-color:rgb(204, 204, 204);bo=\r\nrder-left-style:solid;padding-left:1ex&quot;&gt;Is it reasonable for a resource to =\r\nreturn representations that vary based on the authenticated user? Eg:&lt;br&gt;\n&lt;=\r\nbr&gt;&lt;a href=3D&quot;http://example.com/my-tasks&quot; target=3D&quot;_blank&quot;&gt;http://example=\r\n.com/my-tasks&lt;/a&gt;&lt;br&gt;=A0vs&lt;br&gt;&lt;a href=3D&quot;http://example.com/tasks?user=3Djo=\r\ne&quot; target=3D&quot;_blank&quot;&gt;http://example.com/tasks?user=3Djoe&lt;/a&gt;&lt;br&gt;&lt;br&gt;We&#39;=\r\nve consider offering both and having my-tasks redirect to the appropriate u=\r\nser=3D resource. This helps caching, but at the cost of an extra network ro=\r\nund trip. It also creates a potential for a direct object reference vulnera=\r\nbility, as I can&#39;t trust URIs that come from joe to always say user=3Dj=\r\noe as joe my get frisky and hand edit it to be user=3Djane. So I have to ch=\r\neck the auth&#39;d user vs the URI parameter anyway. Though I might actuall=\r\ny want managers to be able to use the user=3D form on employees that report=\r\n up to them.&lt;br&gt;\n&lt;br&gt;The my-tasks URI has a huge advantage that it&#39;s st=\r\natic, so I can give it to users from static content, or more importantly fr=\r\nom external or non-authenticated content where the server that delivers the=\r\n URI doesn&#39;t know I call him joe. The redirect strategy also works for =\r\nthis.&lt;br&gt;\n&lt;br&gt;Aside from breaking caching, is there anything wrong with jus=\r\nt returning joe&#39;s task when he hits my-tasks ? This contemplates a reso=\r\nurce that responds to GET with representations that depend on the session t=\r\noken from a cookie or a header. My thoughts on the redirect are that it&#39=\r\n;s STILL a user dependent resource, and that unless I make the user type &q=\r\nuot;joe&quot; in a form, whatever page gives him the user=3Djoe link is pro=\r\nbably also user dependent. I suppose I could even save caching by using a r=\r\newrite rule instead of a redirect.&lt;br&gt;\n&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;--------------------=\r\n----------------&lt;br&gt;&lt;br&gt;Yahoo! Groups Links&lt;br&gt;&lt;br&gt;&lt;*&gt; To visit your =\r\ngroup on the web, go to:&lt;br&gt;=A0 =A0&lt;a href=3D&quot;http://groups.yahoo.com/group=\r\n/rest-discuss/&quot; target=3D&quot;_blank&quot;&gt;http://groups.yahoo.com/group/rest-discus=\r\ns/&lt;/a&gt;&lt;br&gt;\n&lt;br&gt;&lt;*&gt; Your email settings:&lt;br&gt;=A0 =A0Individual Email | =\r\nTraditional&lt;br&gt;&lt;br&gt;&lt;*&gt; To change settings online go to:&lt;br&gt;=A0 =A0&lt;a =\r\nhref=3D&quot;http://groups.yahoo.com/group/rest-discuss/join&quot; target=3D&quot;_blank&quot;&gt;=\r\nhttp://groups.yahoo.com/group/rest-discuss/join&lt;/a&gt;&lt;br&gt;\n=A0 =A0(Yahoo! ID r=\r\nequired)&lt;br&gt;&lt;br&gt;&lt;*&gt; To change settings via email:&lt;br&gt;=A0 =A0&lt;a href=\r\n=3D&quot;mailto:rest-discuss-digest@yahoogroups.com&quot; target=3D&quot;_blank&quot;&gt;rest-disc=\r\nuss-digest@yahoogroups.com&lt;/a&gt;&lt;br&gt;=A0 =A0&lt;a href=3D&quot;mailto:rest-discuss-ful=\r\nlfeatured@yahoogroups.com&quot; target=3D&quot;_blank&quot;&gt;rest-discuss-fullfeatured@yaho=\r\nogroups.com&lt;/a&gt;&lt;br&gt;\n&lt;br&gt;&lt;*&gt; To unsubscribe from this group, send an e=\r\nmail to:&lt;br&gt;=A0 =A0&lt;a href=3D&quot;mailto:rest-discuss-unsubscribe@yahoogroups.c=\r\nom&quot; target=3D&quot;_blank&quot;&gt;rest-discuss-unsubscribe@yahoogroups.com&lt;/a&gt;&lt;br&gt;&lt;br&gt;&=\r\nlt;*&gt; Your use of Yahoo! Groups is subject to:&lt;br&gt;\n=A0 =A0&lt;a href=3D&quot;htt=\r\np://docs.yahoo.com/info/terms/&quot; target=3D&quot;_blank&quot;&gt;http://docs.yahoo.com/inf=\r\no/terms/&lt;/a&gt;&lt;br&gt;&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;br&gt;&lt;br&gt;=\r\n&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div width=3D&quot;1&quot; style=3D&quot;color:white;clear:both&quot;&gt;\n&lt;/div&gt;&lt;/=\r\ndiv&gt;&lt;/span&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/di=\r\nv&gt;&lt;br&gt;&lt;/div&gt;\n\r\n--0016e6567da249d6b704ac29569f--\r\n\n"}}
{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":267214845,"authorName":"noahsingleton","from":"&quot;noahsingleton&quot; &lt;noahcampbell@...&gt;","profile":"noahsingleton","replyTo":"SENDER","senderId":"iw88fz5q-BZN_x-NFVWRnqV5eG6DfbLOFVZVcOQ0Qae1FGBv8zyq_yVRlZnhV7SfzSzGPzQ3JPIu2RGbWc8zHlbkw3Gw0Yy7nBEVAbTOyA","spamInfo":{"isSpam":false,"reason":"6"},"subject":"Re: Media Type Version Negotiation","postDate":"1252703802","msgId":13238,"canDelete":false,"contentTrasformed":false,"systemMessage":true,"headers":{"messageIdInHeader":"PGg4ZWVucStuYTV1QGVHcm91cHMuY29tPg==","inReplyToHeader":"PDQ5OTg4ODQ0MDkwOTEwMjAwNHI3MDIwNjA4M3FkNzU0ODg5YWU1NzhmNDRjQG1haWwuZ21haWwuY29tPg=="},"prevInTopic":13237,"nextInTopic":13240,"prevInTime":13237,"nextInTime":13239,"topicId":13218,"numMessagesInTopic":43,"msgSnippet":"My loose analysis of the issue is that most enterprise developers are dealing with new types that flow directly from their code. Tools bang out a schema that","rawEmail":"Return-Path: &lt;noahcampbell@...&gt;\r\nReceived: (qmail 42787 invoked from network); 12 Sep 2009 04:19:15 -0000\r\nReceived: from unknown (98.137.34.44)\n  by m2.grp.re1.yahoo.com with QMQP; 12 Sep 2009 04:19:15 -0000\r\nReceived: from unknown (HELO n38b.bullet.mail.sp1.yahoo.com) (66.163.168.152)\n  by mta1.grp.sp2.yahoo.com with SMTP; 12 Sep 2009 04:19:15 -0000\r\nDKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoogroups.com; s=lima; t=1252729151; bh=a2sUx33qEa55JGcCOW2GzcZPqm4uKfCf+P+rJr4z2wU=; h=Received:Received:X-Sender:X-Apparently-To:X-Received:X-Received:X-Received:X-Received:X-Received:Date:To:Message-ID:In-Reply-To:User-Agent:MIME-Version:Content-Type:Content-Transfer-Encoding:X-Mailer:X-Yahoo-Newman-Property:X-Originating-IP:X-eGroups-Msg-Info:X-Yahoo-Post-IP:From:Subject:X-Yahoo-Group-Post:X-Yahoo-Profile:X-YGroups-SubInfo:Sender:X-eGroups-Approved-By:X-eGroups-Auth; b=WkoIqWxxczq7xJV8zsjb2AwB/vd7pv5HZDvRDYQLjAPlXy883L3sd48uapTeDtenZhO/X0S4Qxb3yDQLEPgCyKVuyAqsRN9gFLOgBVD7DwJPGD/Q7K/W55jbyeSYEhZ5\r\nReceived: from [69.147.65.150] by n38.bullet.mail.sp1.yahoo.com with NNFMP; 12 Sep 2009 04:19:11 -0000\r\nReceived: from [98.137.34.36] by t7.bullet.mail.sp1.yahoo.com with NNFMP; 12 Sep 2009 04:19:11 -0000\r\nX-Sender: noahcampbell@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 12671 invoked from network); 11 Sep 2009 21:17:33 -0000\r\nX-Received: from unknown (69.147.108.202)\n  by m2.grp.re1.yahoo.com with QMQP; 11 Sep 2009 21:17:33 -0000\r\nX-Received: from unknown (HELO n40b.bullet.mail.sp1.yahoo.com) (66.163.168.154)\n  by mta3.grp.re1.yahoo.com with SMTP; 11 Sep 2009 21:17:33 -0000\r\nX-Received: from [69.147.65.147] by n40.bullet.mail.sp1.yahoo.com with NNFMP; 11 Sep 2009 21:16:43 -0000\r\nX-Received: from [98.137.34.73] by t10.bullet.mail.sp1.yahoo.com with NNFMP; 11 Sep 2009 21:16:43 -0000\r\nDate: Fri, 11 Sep 2009 21:16:42 -0000\r\nTo: rest-discuss@yahoogroups.com\r\nMessage-ID: &lt;h8eenq+na5u@...&gt;\r\nIn-Reply-To: &lt;499888440909102004r70206083qd754889ae578f44c@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-system\r\nX-eGroups-Msg-Info: 1:6:0:0:0\r\nFrom: &quot;noahsingleton&quot; &lt;noahcampbell@...&gt;\r\nSubject: Re: Media Type Version Negotiation\r\nX-Yahoo-Group-Post: member; u=267214845; y=PGT8muWrdOgu_5JdRgIrAuVIUpqN7MIpQxwQd3VPjaHIDw_BcIffvg\r\nX-Yahoo-Profile: noahsingleton\r\nX-YGroups-SubInfo: t=0;f=400;g=zU9Q6XoxIby7Mv0y2JpvkSdL9Hp4Iy3vx5lVSQ1VnD_VB93wnAYk7vwrf27pNay28NI;\r\nX-eGroups-Approved-By: gonga_thrash &lt;distobj@...&gt; via web; 12 Sep 2009 04:19:11 -0000\r\n\r\nMy loose analysis of the issue is that most enterprise developers are deali=\r\nng with new types that flow directly from their code. Tools bang out a sche=\r\nma that looks like structured data. The class/record fidelity is very close=\r\n. Transforming from angle brackets to code, using a framework, is comfortab=\r\nle for a rank and file enterprise developer. What happens after this is whe=\r\nre trouble begins. A small change to the class results in a mismatch and th=\r\ne need to rev the version of the XML-Schema to accommodate the change, henc=\r\ne the question on this mailing list.\n\nSomeone made the assumption (correctl=\r\ny, IMO) that media types will not rev all that often in the wild because it=\r\n limits adoption. image/jpeg, text/html, application/atompub+svc, are all n=\r\nice, but life is different inside the enterprise. Often there are efforts t=\r\no canonicalise the &quot;core&quot; business objects and this helps, but as it was po=\r\ninted out earlier, these rev as business definitions change=85and they&#39;re t=\r\nypically built on XML-Schema so they&#39;re just bigger types. The vicious real=\r\nity of versioning is typically delayed, but not for long enough.\n\nExtension=\r\ns in XML-Schema provide some relief, but these black holes in a schema defi=\r\nnition force the developer into an unnatural position of having to query a =\r\ndocument for a value instead of using offsets (either numeric or via &quot;gette=\r\nrs&quot;). If you throw XML-Schema out it forces engineers to query the document=\r\n with the assumption that you&#39;re only interested in what you know, which I =\r\nbelieve is the beginning steps to HATEOAS, The catch is that by not using X=\r\nML-Schema you&#39;ll get laughed out of a design meeting in any enterprise.\n\nSo=\r\n where is the middle ground here?\n\nOne idea I&#39;ve been kicking around is to =\r\nlook at XHTML and how the XML-Schema works for creating a forward extensibl=\r\ne media-format. I can&#39;t point to successful adoption in the enterprise from=\r\n my experience, but it works (granted not perfectly) for the web. It passes=\r\n the sniff test from an enterprise point of view because the safety of XML-=\r\nSchema is there, but the structure of the resulting document is very loose =\r\nforcing the developer to query the document. Querying can be done via XQuer=\r\ny or a Dom navigation, it&#39;s still XML so not completely foreign.\n\nIn thinki=\r\nng about this, application/xhtml+xml becomes the media-type, but it begs ho=\r\nw find the &quot;entity&quot; you&#39;re searching for in this bag of angle brackets. I s=\r\nee the question gets pushed to while looking for rel tags. HTML5 has a disc=\r\nussion for proposed rel types and it seems open, so enterprises can go nuts=\r\n and add their own (versioned) type. I don&#39;t know if this is a better place=\r\n to allow type proliferation, but it keeps the discussion away from the con=\r\ntent-type http header.\n\n-Noah\n\n--- In rest-discuss@yahoogroups.com, Tim Wil=\r\nliams &lt;williamstw@...&gt; wrote:\n&gt;\n&gt; I&#39;m looking for pointers to best practice=\r\ns to versioning\n&gt; representations and support for client negotiation of spe=\r\ncific\n&gt; versions.  To provide different representations of the same resourc=\r\ne,\n&gt; the media type alone is sufficient to drive the content type\n&gt; negotia=\r\ntion.  For example, I might provide\n&gt; \n&gt; &lt;link type=3D&quot;application/atom+xml=\r\n&quot;...\n&gt; &lt;link type=3D&quot;application/rss+xml&quot;...\n&gt; \n&gt; as alternate representati=\r\nons of the same resource.  The client could\n&gt; then be expected to pick a re=\r\npresentation that it knows how to process\n&gt; and GET it.\n&gt; \n&gt; But suppose we=\r\n have a different version of the *same* media type\n&gt; &quot;myformat&quot; - v1.0 and =\r\nv2.0?  To complicate matters, let&#39;s suppose that\n&gt; [due to arrogant, insens=\r\nitive developers:)] v2.0 is not backwards\n&gt; compatible with v1.0.  Assuming=\r\n that the service is capable of serving\n&gt; representations in both v1.0 and =\r\nv2.0, the question becomes how might\n&gt; the client negotiate one version ove=\r\nr the other for the *same* media\n&gt; type?\n&gt; \n&gt; I&#39;ve attempted to think throu=\r\ngh the following:\n&gt; \n&gt; 1) (I can assume XML) XML versioning alone won&#39;t do =\r\nbecause there&#39;s no\n&gt; way to indicate in the link itself that it&#39;s one versi=\r\non of the schema\n&gt; over the other.  So even if the client retrieved a v2.0 =\r\nrepresentation\n&gt; and stopped processing it after seeing an unfamiliar names=\r\npace (for\n&gt; example), it has no way to subsequently request the older versi=\r\non.\n&gt; \n&gt; 2) My initial response was to simply add the versioning informatio=\r\nn to\n&gt; the content-type itself (e.g. application/myformat.v20 and\n&gt; applica=\r\ntion/myformat.v10).  This makes negotiation and extensibility\n&gt; clean and e=\r\nlegant, but causes me two concerns:  the\n&gt; &quot;explosion-of-media-type&quot; concer=\r\nn and the\n&gt; &quot;nobody-else-seems-to-be-doing-it-that-way&quot;(based on current IA=\r\nNA)\n&gt; concern.\n&gt; \n&gt; 3)  The next thing that comes to mind is something like=\r\n the &quot;level&quot;\n&gt; accept-extension exampled in rfc2616 (e.g. text/html;level=\r\n=3D1).  In my\n&gt; scenario, would be something like: application/myformat;ver=\r\nsion=3D2.0 I\n&gt; suppose.\n&gt; \n&gt; I&#39;m aware, btw, of the value of re-using exist=\r\ning media types, this\n&gt; may be an edge case for some but I&#39;d like to addres=\r\ns an unfortunate\n&gt; reality inside some fast moving enterprises though.\n&gt; \n&gt;=\r\n Thoughts/pointers appreciated...\n&gt; --tim\n&gt;\n\n\n\n"}}
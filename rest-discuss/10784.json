{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":302633978,"authorName":"Daniel Yokomizo","from":"&quot;Daniel Yokomizo&quot; &lt;daniel.yokomizo@...&gt;","profile":"daniel_yokomiso","replyTo":"SENDER","senderId":"3S-49t7SxFOpNpb2wL6ipfdWZzDSY_VPVFU8g4EvhRFHRBIaUwZL4zQxOy9LDynOO2BF8jiHiVKg8U_zyMod2oNfmLA-VaJni5b8TnLB7LEx4365","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [rest-discuss] character encodings and binary data and URLs","postDate":"1210861042","msgId":10784,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PGU1YzZlY2FiMDgwNTE1MDcxN3A3MGJlZjBjMWo5YmFlNjFkZTg1ZTUzZmY0QG1haWwuZ21haWwuY29tPg==","inReplyToHeader":"PEEwQTk4QkNBLUQxOTQtNDVGRC1BMUZDLTg5NUM4QzQwNDAxQ0B6b29rby5jb20+","referencesHeader":"PEEwQTk4QkNBLUQxOTQtNDVGRC1BMUZDLTg5NUM4QzQwNDAxQ0B6b29rby5jb20+"},"prevInTopic":10780,"nextInTopic":0,"prevInTime":10783,"nextInTime":10785,"topicId":10780,"numMessagesInTopic":2,"msgSnippet":"... This is a reference (together with RFC1738 and RFC3986) I use to solve URL encoding issues: http://www.blooberry.com/indexdot/html/topics/urlencoding.htm ","rawEmail":"Return-Path: &lt;daniel.yokomizo@...&gt;\r\nX-Sender: daniel.yokomizo@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 20026 invoked from network); 15 May 2008 14:17:23 -0000\r\nX-Received: from unknown (66.218.67.94)\n  by m50.grp.scd.yahoo.com with QMQP; 15 May 2008 14:17:23 -0000\r\nX-Received: from unknown (HELO fk-out-0910.google.com) (209.85.128.184)\n  by mta15.grp.scd.yahoo.com with SMTP; 15 May 2008 14:17:23 -0000\r\nX-Received: by fk-out-0910.google.com with SMTP id 26so375863fkx.4\n        for &lt;rest-discuss@yahoogroups.com&gt;; Thu, 15 May 2008 07:17:22 -0700 (PDT)\r\nX-Received: by 10.125.47.20 with SMTP id z20mr1368953mkj.142.1210861042348;\n        Thu, 15 May 2008 07:17:22 -0700 (PDT)\r\nX-Received: by 10.86.9.6 with HTTP; Thu, 15 May 2008 07:17:22 -0700 (PDT)\r\nMessage-ID: &lt;e5c6ecab0805150717p70bef0c1j9bae61de85e53ff4@...&gt;\r\nDate: Thu, 15 May 2008 11:17:22 -0300\r\nTo: zooko &lt;zooko@...&gt;\r\nCc: rest-discuss@yahoogroups.com, tahoe-dev@...\r\nIn-Reply-To: &lt;A0A98BCA-D194-45FD-A1FC-895C8C40401C@...&gt;\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Transfer-Encoding: 7bit\r\nContent-Disposition: inline\r\nReferences: &lt;A0A98BCA-D194-45FD-A1FC-895C8C40401C@...&gt;\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: &quot;Daniel Yokomizo&quot; &lt;daniel.yokomizo@...&gt;\r\nSubject: Re: [rest-discuss] character encodings and binary data and URLs\r\nX-Yahoo-Group-Post: member; u=302633978; y=3pWAL57b8uebctfSMf1UGttVUXC4h6P0KbLqREsHTMSAGQwrHUZcKeoY\r\nX-Yahoo-Profile: daniel_yokomiso\r\n\r\nOn Thu, May 15, 2008 at 10:02 AM, zooko &lt;zooko@...&gt; wrote:\n&gt; Dear people of rest-discuss:\n&gt;\n&gt; What&#39;s the right way to specify character encoding in URLs, POST\n&gt; forms, and JSON-encoded data?\n&gt;\n&gt; I work on an open source secure, decentralized filesystem -- the\n&gt; &quot;Tahoe&quot; Least-Authority Filesystem [1] -- with a RESTful API [2].\n&gt;\n&gt; We need to decide, when the user specifies a filename, either in the\n&gt; URL or in a POST form, or or when the server returns a filename to\n&gt; the user in an HTTP response, what character encoding to use.\n&gt;\n&gt; Our current rules are like this:\n&gt;\n&gt; 1.  Filenames in URLs are always utf-8 encoded.  So after splitting\n&gt; on &quot;/&quot; to get individual segments, we utf-8 decode each segment\n&gt; before doing anything else with it.\n\nThis is a reference (together with RFC1738 and RFC3986) I use to solve\nURL encoding issues:\nhttp://www.blooberry.com/indexdot/html/topics/urlencoding.htm\n\nAssuming UTF-8 is kind of tricky though, you depend on clients using\nUTF-8 which is the default for URI schemes that follow RFC3986 but\nmany common URI schemes predate the RFC. AFAIK assuming UTF-8 don&#39;t\nhurt too much.\n\n&gt; 2.  POST forms have a _charset field which specifies the encoding of\n&gt; all the values in the form, and if not present it is assumed to be\n&gt; utf-8.\n\nThe Content-Type header can have a charset parameter (see 14.17). So\nthe server can see it to check for the charset:\n\nContent-Type: text/html; charset=ISO-8859-4\n\nTo overcome browser deficiencies you may want to use a hidden field to\nindicate that it overrides the header (e.g.\nX-HTTP-Header-Override-Content-Type) and use it as a convention in the\nserver (while supporting the behavior from non browser clients).\n\n&gt; 3.  Responses are encoded in JSON, so the filenames are in unicode.\n\nResponse should also use Content-Type with charset.\n\n&gt; It seems unfortunate to constrain users of our system to unicode\n&gt; filenames, and further to constrain them to utf-8 encoding, but I\n&gt; can&#39;t think of another alternative which doesn&#39;t leave things\n&gt; underspecified.\n&gt;\n&gt; Are these type of rules for encoding fairly standard in the REST world?\n&gt;\n&gt; Thanks!\n&gt;\n&gt; Regards,\n&gt;\n&gt; Zooko\n&gt;\n&gt; [1] http://allmydata.org\n&gt; [2] http://allmydata.org/trac/tahoe/browser/docs/webapi.txt\n\nBest regards,\nDaniel Yokomizo.\n\n"}}
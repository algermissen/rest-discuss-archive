{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":198897688,"authorName":"Dong Liu","from":"Dong Liu &lt;edongliu@...&gt;","profile":"edonliu","replyTo":"SENDER","senderId":"FLOrPhxiH-UNfVwGVC8-VqGma2J2U_mlTW_7YE6fLHPalP9WehB5tak_HWDGEBtai5O0MbswDi1WmW-9qODbggQhfII","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [rest-discuss] RESTful Toggle","postDate":"1404933777","msgId":19686,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PENBQWdWemRpa3FrMHJreEo1MExqbU1EZytkZ01MNzM9MGJZVnZUdVY3ZnNTOHhnRlo2QUBtYWlsLmdtYWlsLmNvbT4=","inReplyToHeader":"PENGRTMwQ0IwLjM3N0M0JVJvYmJ5LlNpbXBzb25AR0UuY29tPg==","referencesHeader":"PENGRTFEQUM5LjM3NjQ4JVJvYmJ5LlNpbXBzb25AR0UuY29tPgk8Q0EreGhBUFdRNWlUSHZaLXlrQkRZR1RoUndOVFkwSlQ1RTJOOFdNaFhyWWl0eWZmc3NRQG1haWwuZ21haWwuY29tPgk8Q0ZFMkQ1MTUuMzc3MEYlUm9iYnkuU2ltcHNvbkBHRS5jb20+CTw1M0JENjI0Qy43MDQwMzA2QGJlcmtlbGV5LmVkdT4JPENGRTJEQUYwLjM3NzM1JVJvYmJ5LlNpbXBzb25AR0UuY29tPgk8NTNCRDZGNzUuODAzMDYwOEBiZXJrZWxleS5lZHU+CTxDQUEyaURpRERkZTNBWXMza1ZYUldLM0c4TVJjU1lTb1FNMEhmUitZenJ1TGZHak1iRlFAbWFpbC5nbWFpbC5jb20+CTxDQUFnVnpkalZLR1MrLVVxOEx1S0JWanNCNWtWRFVqRHR5Tnh2V2c3SFAzdzBGblloNlFAbWFpbC5nbWFpbC5jb20+CTxDRkUzMENCMC4zNzdDNCVSb2JieS5TaW1wc29uQEdFLmNvbT4="},"prevInTopic":19685,"nextInTopic":19687,"prevInTime":19685,"nextInTime":19687,"topicId":19657,"numMessagesInTopic":36,"msgSnippet":"In that case, I assume the use may always have the current states of the lights as far as the control interface is on. So the states can be pushed to the","rawEmail":"Return-Path: &lt;edongliu@...&gt;\r\nX-Sender: edongliu@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 18031 invoked by uid 102); 9 Jul 2014 19:22:57 -0000\r\nX-Received: from unknown (HELO mtaq2.grp.bf1.yahoo.com) (10.193.84.33)\n  by m2.grp.bf1.yahoo.com with SMTP; 9 Jul 2014 19:22:57 -0000\r\nX-Received: (qmail 2800 invoked from network); 9 Jul 2014 19:22:57 -0000\r\nX-Received: from unknown (HELO mail-ig0-f178.google.com) (209.85.213.178)\n  by mtaq2.grp.bf1.yahoo.com with SMTP; 9 Jul 2014 19:22:57 -0000\r\nX-Received: by mail-ig0-f178.google.com with SMTP id hn18so2248402igb.17\n        for &lt;rest-discuss@yahoogroups.com&gt;; Wed, 09 Jul 2014 12:22:57 -0700 (PDT)\r\nMIME-Version: 1.0\r\nX-Received: by 10.50.141.170 with SMTP id rp10mr15846011igb.6.1404933777213;\n Wed, 09 Jul 2014 12:22:57 -0700 (PDT)\r\nX-Received: by 10.64.18.196 with HTTP; Wed, 9 Jul 2014 12:22:57 -0700 (PDT)\r\nIn-Reply-To: &lt;CFE30CB0.377C4%Robby.Simpson@...&gt;\r\nReferences: &lt;CFE1DAC9.37648%Robby.Simpson@...&gt;\n\t&lt;CA+xhAPWQ5iTHvZ-ykBDYGThRwNTY0JT5E2N8WMhXrYityffssQ@...&gt;\n\t&lt;CFE2D515.3770F%Robby.Simpson@...&gt;\n\t&lt;53BD624C.7040306@...&gt;\n\t&lt;CFE2DAF0.37735%Robby.Simpson@...&gt;\n\t&lt;53BD6F75.8030608@...&gt;\n\t&lt;CAA2iDiDDde3AYs3kVXRWK3G8MRcSYSoQM0HfR+YzruLfGjMbFQ@...&gt;\n\t&lt;CAAgVzdjVKGS+-Uq8LuKBVjsB5kVDUjDtyNxvWg7HP3w0FnYh6Q@...&gt;\n\t&lt;CFE30CB0.377C4%Robby.Simpson@...&gt;\r\nDate: Wed, 9 Jul 2014 15:22:57 -0400\r\nMessage-ID: &lt;CAAgVzdikqk0rkxJ50LjmMDg+dgML73=0bYVvTuV7fsS8xgFZ6A@...&gt;\r\nTo: &quot;Simpson, Robby (GE Energy Management)&quot; &lt;robby.simpson@...&gt;\r\nCc: Rest List &lt;rest-discuss@yahoogroups.com&gt;\r\nContent-Type: text/plain; charset=UTF-8\r\nContent-Transfer-Encoding: quoted-printable\r\nSubject: Re: [rest-discuss] RESTful Toggle\r\nX-Yahoo-Group-Post: member; u=198897688; y=t_aIIcd7LIz6j0KE-CdTQUXxlFhnUWc7eJrBcWgNnp0eAQ\r\nX-Yahoo-Profile: edonliu\r\nFrom: Dong Liu &lt;edongliu@...&gt;\r\n\r\nIn that case, I assume the use may always have the current states of\nthe li=\r\nghts as far as the control interface is on. So the states can be\npushed to =\r\nthe user&#39;s interface.\n\nOn Wed, Jul 9, 2014 at 3:19 PM, Simpson, Robby (GE E=\r\nnergy Management)\n&lt;robby.simpson@...&gt; wrote:\n&gt; From a design perspective=\r\n, I prefer a conditional PUT as well.\n&gt;\n&gt; Unfortunately, latency is a major=\r\n issue with wireless lighting (i.e., users do not want to notice any delay)=\r\n and there is a perception that having to have a GET before a PUT would int=\r\nroduce too much latency.  Especially in scenarios where there are multiple =\r\nlights (multicast).\n&gt;\n&gt; - Robby\n&gt;\n&gt; From: &quot;Dong Liu edongliu@...&lt;mail=\r\nto:edongliu@...&gt; [rest-discuss]&quot; &lt;rest-discuss-noreply@...=\r\nm&lt;mailto:rest-discuss-noreply@yahoogroups.com&gt;&gt;\n&gt; Reply-To: Dong Liu &lt;edong=\r\nliu@...&lt;mailto:edongliu@...&gt;&gt;\n&gt; Date: Wednesday, July 9, 2014 a=\r\nt 3:09 PM\n&gt; To: Will Hartung &lt;willh@...&lt;mailto:willh@...=\r\nm&gt;&gt;\n&gt; Cc: Rest List &lt;rest-discuss@yahoogroups.com&lt;mailto:rest-discuss@yahoo=\r\ngroups.com&gt;&gt;\n&gt; Subject: Re: [rest-discuss] RESTful Toggle\n&gt;\n&gt;\n&gt;\n&gt; For a thr=\r\nee-way or N-way switch, I prefer a conditional PUT to a POST.\n&gt;\n&gt; Cheers,\n&gt;=\r\n\n&gt; Dong\n&gt;\n&gt;\n&gt; On Wed, Jul 9, 2014 at 2:45 PM, Will Hartung willh@mirthcorp.=\r\ncom&lt;mailto:willh@...&gt; [rest-discuss] &lt;rest-discuss-noreply@yahoog=\r\nroups.com&lt;mailto:rest-discuss-noreply@yahoogroups.com&gt;&gt; wrote:\n&gt;\n&gt;\n&gt; From h=\r\nome automation point of view, I can only think of one use case where &quot;toggl=\r\ne&quot; actually has any validity, and that would be in the &quot;3 way switch&quot; scena=\r\nrio.\n&gt;\n&gt; A 3 way switch is exemplified by walking up to a dark hallway, tur=\r\nning the light on with a nearby swtich, walking to the end, and then turnin=\r\ng the light off with a switch at the other end.\n&gt;\n&gt; This use case is a true=\r\n &quot;toggle&quot;, since the &quot;state&quot; is the actual light (on or off), and the switc=\r\nh itself does not represent that state (unlike a normal, single switch). Th=\r\ne switches can be &quot;up&quot; or &quot;down&quot; unrelated to the light being &quot;on&quot; or &quot;off&quot;=\r\n.\n&gt;\n&gt; Given that, again from a home automation point of view, I can&#39;t reall=\r\ny ever see &quot;toggle&quot; as a viable action. Maybe it&#39;s a primitive. But, in the=\r\n end, when you walk in to that dark hallway, what you want is the light to =\r\ngo on, the mechanics of the switches are secondary.\n&gt;\n&gt; I just mention this=\r\n because at a high level, &quot;toggle&quot; doesn&#39;t make much sense to me. The autom=\r\nation folks may well need it as a primitive to control a switch. But at the=\r\n &quot;application&quot; level, it doesn&#39;t make much sense. At an application level, =\r\nyou either want the &quot;Light&quot; ON or OFF.\n&gt;\n&gt; So, with that consideration, a s=\r\nimple POST will do the trick.\n&gt;\n&gt; I don&#39;t think there&#39;s any &quot;race condition=\r\n&quot;, because &quot;toggle&quot; is not a state, it&#39;s an action. If you care about the s=\r\ntate, then set the state you want. You should hide the &quot;toggle&quot;, and enforc=\r\ne the state behind the scenes (where you can manage race conditions on the =\r\nserver). Let the server decide that when you change the state to ON, it can=\r\n determine, internally, if the device is OFF and then send a TOGGLE command=\r\n to make it ON. If it&#39;s already ON, then nothing happens.\n&gt;\n&gt; But a &quot;toggle=\r\n&quot; POST is just that, a simple command.\n&gt;\n&gt; Regards,\n&gt;\n&gt; Will Hartung\n&gt; (wil=\r\nlh@...&lt;mailto:willh@...&gt;)\n&gt;\n&gt;\n&gt;\n&gt;\n&gt; On Wed, Jul 9, 2014=\r\n at 9:36 AM, Erik Wilde dret@...&lt;mailto:dret@...&gt; [rest-d=\r\niscuss] &lt;rest-discuss-noreply@yahoogroups.com&lt;mailto:rest-discuss-noreply@y=\r\nahoogroups.com&gt;&gt; wrote:\n&gt;\n&gt;\n&gt; hello robby.\n&gt;\n&gt; On 2014-07-09, 17:47 , &#39;Simp=\r\nson, Robby (GE Energy Management)&#39;\n&gt;\n&gt; robby.simpson@...&lt;mailto:robby.si=\r\nmpson@...&gt; [rest-discuss] wrote:\n&gt;&gt;&gt; it sounds like the scenario we were=\r\n talking about, that all you want is\n&gt;&gt;&gt; to tell the resource to &quot;reverse i=\r\nts state&quot;. in this case, i&#39;d POST a\n&gt;&gt;&gt; body that represents this request, =\r\nin whatever serialization you happen\n&gt;&gt;&gt; to prefer. the resource toggles. e=\r\nverybody&#39;s happy.\n&gt;&gt; OK. Still seems like a bit of a departure from typical=\r\n RESTful interfaces\n&gt;&gt; I&#39;ve seen and has the potential to be a catch-all tu=\r\nnnel for RPC-style\n&gt;&gt; requests.\n&gt;&gt; E.g.:\n&gt;&gt; /command, where one could POST =\r\nall sorts of commands like &quot;toggle.&quot;\n&gt;\n&gt; the problem is not that POST can m=\r\nean anything (it can), but people\n&gt; POSTing things to a &quot;do stuff&quot; resource=\r\n, which then isn&#39;t\n&gt; resource-oriented anymore. your RPC sensor shouldn&#39;t g=\r\no off because of\n&gt; people POSTing things to resources (that&#39;s fine), but be=\r\ncause of people\n&gt; POSTing things to something other than resources (the &quot;AP=\r\nI end point&quot;,\n&gt; for example).\n&gt;\n&gt;\n&gt;&gt;&gt; but i am confused because you wrote e=\r\narlier that you were concerned\n&gt;&gt;&gt; about race conditions. which seems to im=\r\nply that instead of just\n&gt;&gt;&gt; toggling, you&#39;re also assuming that you&#39;re &quot;to=\r\nggling *from* some state&quot;.\n&gt;&gt;&gt; but that wouldn&#39;t be the &quot;blind toggle&quot; we d=\r\niscussed. could you clarify\n&gt;&gt;&gt; a bit how exactly the operation that you&#39;re=\r\n trying to design is defined?\n&gt;&gt; Apologies, a blind toggle is what is desir=\r\ned. As it currently works, in\n&gt;&gt; the current binary protocol, a button pres=\r\ns on a toggle switch simply\n&gt;&gt; sends a &quot;toggle&quot; command.\n&gt;\n&gt; then how would=\r\n a race condition enter the picture? just because of the\n&gt; timestamp when y=\r\nou last observed the resource&#39;s state? or something\n&gt; else? to me, toggling=\r\n always is kind of a game: if somebody toggled\n&gt; ahead of you, you&#39;ll do so=\r\nmething other than you wanted to, but that&#39;s\n&gt; how it is and you&#39;ll have to=\r\n deal with it after toggling and finding out\n&gt; that you switched the damn t=\r\nhing back on again...\n&gt;\n&gt;\n&gt; cheers,\n&gt;\n&gt; dret.\n&gt;\n&gt; --\n&gt; erik wilde | mailto:=\r\ndret@...&lt;mailto:dret@...&gt; - tel:+1-510-2061079&lt;tel:%2B1-5=\r\n10-2061079&gt; |\n&gt; | UC Berkeley - School of Information (ISchool) |\n&gt; | http:=\r\n//dret.net/netdret http://twitter.com/dret |\n&gt;\n&gt;\n&gt; CONFIDENTIALITY NOTICE: =\r\nThe information contained in this electronic transmission may be confidenti=\r\nal. If you are not an intended recipient, be aware that any disclosure, cop=\r\nying, distribution or use of the information contained in this transmission=\r\n is prohibited and may be unlawful. If you have received this transmission =\r\nin error, please notify us by email reply and then erase it from your compu=\r\nter system.\n&gt;\n&gt;\n&gt; \n\n"}}
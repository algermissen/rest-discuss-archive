{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":94427848,"authorName":"Paul Winkler","from":"Paul Winkler &lt;pw_lists@...&gt;","profile":"slinkp23","replyTo":"SENDER","senderId":"l_JIvW2BjZGdX1E_PrcepHyE1SqZX6JppfUkrisXdGb2tB8Z-4SHnNTi-zTtcogFownAtxPppLzIExnvH2N9-aQ1JBtQXVIvWA","spamInfo":{"isSpam":false,"reason":"0"},"subject":"modelling transactions","postDate":"1170393364","msgId":7780,"canDelete":false,"contentTrasformed":false,"systemMessage":true,"headers":{"messageIdInHeader":"PDIwMDcwMjAyMDUxNjA0LkdBMTA0OTVAc2xpbmtwLmNvbT4="},"prevInTopic":0,"nextInTopic":7781,"prevInTime":7779,"nextInTime":7781,"topicId":7780,"numMessagesInTopic":17,"msgSnippet":"Hi, I ve never built a REST app but am thinking of going that direction with the next major version of a content repository API used by my employer.  There s a","rawEmail":"Return-Path: &lt;pw_lists@...&gt;\r\nReceived: (qmail 1241 invoked from network); 2 Feb 2007 05:58:18 -0000\r\nReceived: from unknown (66.218.66.172)\n  by m29.grp.scd.yahoo.com with QMQP; 2 Feb 2007 05:58:18 -0000\r\nReceived: from unknown (HELO n18d.bullet.scd.yahoo.com) (66.218.67.59)\n  by mta4.grp.scd.yahoo.com with SMTP; 2 Feb 2007 05:58:18 -0000\r\nReceived: from [66.218.69.5] by n18.bullet.scd.yahoo.com with NNFMP; 02 Feb 2007 05:58:18 -0000\r\nReceived: from [66.218.66.84] by t5.bullet.scd.yahoo.com with NNFMP; 02 Feb 2007 05:58:18 -0000\r\nX-Sender: pw_lists@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nReceived: (qmail 85175 invoked from network); 2 Feb 2007 05:16:58 -0000\r\nReceived: from unknown (66.218.66.172)\n  by m30.grp.scd.yahoo.com with QMQP; 2 Feb 2007 05:16:58 -0000\r\nReceived: from unknown (HELO ensim2.interlix.com) (64.22.224.130)\n  by mta4.grp.scd.yahoo.com with SMTP; 2 Feb 2007 05:16:58 -0000\r\nX-ClientAddr: 127.0.0.1\r\nReceived: from kermit.slinkp.homelinux.org (localhost [127.0.0.1])\n\tby ensim2.interlix.com (8.11.6/8.11.6) with ESMTP id l125G4G25282\n\tfor &lt;rest-discuss@yahoogroups.com&gt;; Thu, 1 Feb 2007 23:16:04 -0600\r\nReceived: by kermit.slinkp.homelinux.org (Postfix, from userid 1000)\n\tid 5E075454B84; Fri,  2 Feb 2007 00:16:04 -0500 (EST)\r\nDate: Fri, 2 Feb 2007 00:16:04 -0500\r\nTo: rest-discuss@yahoogroups.com\r\nMessage-ID: &lt;20070202051604.GA10495@...&gt;\r\nMime-Version: 1.0\r\nContent-Type: text/plain; charset=us-ascii\r\nContent-Disposition: inline\r\nUser-Agent: Mutt/1.5.11\r\nX-Interlix-MailScanner-Information: Please contact support@... for more information\r\nX-Interlix-MailScanner: Found to be clean\r\nX-Interlix-MailScanner-SpamCheck: not spam, SpamAssassin (score=-4.802,\n\trequired 5, autolearn=not spam, AWL 0.10, BAYES_00 -4.90)\r\nX-Interlix-MailScanner-From: pw_lists@...\r\nX-Interlix-MailScanner-To: rest-discuss@yahoogroups.com\r\nX-eGroups-Msg-Info: 1:0:0:0\r\nFrom: Paul Winkler &lt;pw_lists@...&gt;\r\nSubject: modelling transactions\r\nX-Yahoo-Group-Post: member; u=94427848; y=l5L4fC5Kt6oe9_r0QGRiA8vArp2iKMWZy9L0qGiwaV5jmSQ\r\nX-Yahoo-Profile: slinkp23\r\nX-Yahoo-Newman-Property: groups-system\r\nX-eGroups-Approved-By: gonga_thrash &lt;distobj@...&gt; via web; 02 Feb 2007 05:58:17 -0000\r\n\r\nHi,\n\nI&#39;ve never built a REST app but am thinking of going that direction\nwith the next major version of a content repository API used by my\nemployer.  There&#39;s a few things I&#39;m not sure how to model, the main\none being transactions. I&#39;m hoping for some guidance on my path to\ngrokking REST.\n\nAPP is looking interesting, since most of what we need maps pretty\nwell to member entries, feeds, and media resources. The introspection\nfeature might be useful too.\n\nBut what about this use case? A third party comes along and licenses\n10,000 documents to us.  There are lots of cross-links among those\ndocuments, so a requirement in the contract is that we must load the\nentire set successfully, or none at all.\n\nLeaving this up to the client is not an option. This is part of a SOA,\nand there&#39;s currently four clients.\n\nAPP doesn&#39;t seem to say anything about transactions, so I&#39;m assuming\nthat it&#39;s up to me to find a more generally REST-y solution.\n\nThe one obvious idea that occurs to me is to define two new resources,\na transaction manager and a transaction resource.  A transaction is\nreally just a collection.  To create a new transaction, POST to the\ntransaction manager with a list of the resource URIs you want to\nmodify. It initializes the transaction by copying those members, and\nreturns the URI of your new transaction.\n\nGET the transaction resource to see a list of member URIs, as usual.\nPUT or DELETE any of those members as usual.  POST to the transaction\nto add new members as usual. To abort, just DELETE the transaction.\n\nIf this all sounds familiar, maybe it&#39;s reminiscent of:\nhttp://example.com/subversion/branches\nhttp://example.com/subversion/trunk\n\nBut what does a &quot;commit&quot; look like? I don&#39;t see an appropriate verb\nother than PUT, so I see two options:\n\n1) PUT the URI of the original collection to the transaction.  This is\na nice and simple message, but means the transaction has to be a\nlittle smarter than a normal collection.\n\n2) PUT the URIs of the transaction and the original collection to the\ntransaction manager. This would be interpreted like &quot;merge the\ncontents of URI 1 into URI 2&quot;.\n\n(I first thought of POSTing a special message to the T.M. to commit,\nbut realized that would look too much like creating a transaction. It\nsmells RPC. I figure any time I can&#39;t tell what&#39;s going on by looking\nat a simple access log, it&#39;s not really REST!)\n\nEither way, we should check mod times and if a conflict is detected,\nreturn an error. 409?\n\nHow&#39;s that sound? Better ideas?\n\n\nP.S. this is my first post to the list. Hello!\n\n-- \n\nPaul Winkler\nhttp://www.slinkp.com\n\n"}}
{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":498432483,"authorName":"Jan Algermissen","from":"Jan Algermissen &lt;jan.algermissen@...&gt;","profile":"algermissen1971","replyTo":"SENDER","senderId":"uYUJDUmYFZQS0zqKKehGu54zhVq9S2mgFT7Pbhubu2bO7E4kVooUmKvkr6yPDQyj4qNmCTr0LxAIFtfmj01kmXn1g468GsEDWsl4idF8f-AzuqM","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [rest-discuss] Re: Different vocabularies, same media type","postDate":"1324989510","msgId":18164,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDZCNTVDMjNBLUM3NDAtNEQyNC1BRjJFLTBCN0VGQTg3N0I5NkBub3Jkc2MuY29tPg==","inReplyToHeader":"PGpkY2NwMCs3dGRqQGVHcm91cHMuY29tPg==","referencesHeader":"PGpkY2NwMCs3dGRqQGVHcm91cHMuY29tPg=="},"prevInTopic":18163,"nextInTopic":18165,"prevInTime":18163,"nextInTime":18165,"topicId":18158,"numMessagesInTopic":32,"msgSnippet":"... Then I maybe misread your question - I did not understand your were focussing on handing the regional variants. OTH, I d start with the assumption that two","rawEmail":"Return-Path: &lt;jan.algermissen@...&gt;\r\nX-Sender: jan.algermissen@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 79753 invoked from network); 27 Dec 2011 12:38:33 -0000\r\nX-Received: from unknown (98.137.35.162)\n  by m9.grp.sp2.yahoo.com with QMQP; 27 Dec 2011 12:38:33 -0000\r\nX-Received: from unknown (HELO moutng.kundenserver.de) (212.227.126.186)\n  by mta6.grp.sp2.yahoo.com with SMTP; 27 Dec 2011 12:38:33 -0000\r\nX-Received: from [192.168.2.107] (p548FA1B4.dip.t-dialin.net [84.143.161.180])\n\tby mrelayeu.kundenserver.de (node=mreu3) with ESMTP (Nemesis)\n\tid 0M7hzg-1QkEoq1CuO-00viDT; Tue, 27 Dec 2011 13:38:32 +0100\r\nMime-Version: 1.0 (Apple Message framework v1084)\r\nContent-Type: text/plain; charset=windows-1252\r\nIn-Reply-To: &lt;jdccp0+7tdj@...&gt;\r\nDate: Tue, 27 Dec 2011 13:38:30 +0100\r\nCc: rest-discuss@yahoogroups.com\r\nContent-Transfer-Encoding: quoted-printable\r\nMessage-Id: &lt;6B55C23A-C740-4D24-AF2E-0B7EFA877B96@...&gt;\r\nReferences: &lt;jdccp0+7tdj@...&gt;\r\nTo: Jorn Wildt &lt;jw@...&gt;\r\nX-Mailer: Apple Mail (2.1084)\r\nX-Provags-ID: V02:K0:WRk+uw4iNP0fzEgOfLUCjvJKHBehfJXVCOxHSsjISe5\n Cbqvv+AArj6+tQfaDH8CTxveZZr71tw0haPGSHaKt8xvVq3CEQ\n hqHOc9/KTr9z/hGhfsSFpADqyj6w6eYHU3IFBlvDxMsrifuX/0\n IMXjwojb59pAmZvFjRm1LK7p53xCqdQWX9fmZ50G19k8PsEQw9\n TzIIsuh9SSgv+ndZCDoMmgY/ZWH+9ZqjT0cVzcQAoyifagBQ2U\n LCMJZTiN4/GJhsuLu2TUSeKhRA1gN4MCzjpT9xDkS5sRSefdQP\n uWsfxw/pzKv2QDwn58L2++LjF7Q7YXIoZIybRJL7lsBzw6po7J\n HLUIAA+JevP1eDDiF2rUugRaEdnWMffKr32DBQ7u2FP7kVX7Ec\n dCsobsD0VE6kA==\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Jan Algermissen &lt;jan.algermissen@...&gt;\r\nSubject: Re: [rest-discuss] Re: Different vocabularies, same media type\r\nX-Yahoo-Group-Post: member; u=498432483; y=ezyVWLswlMcIzGIREtfpV33HjMt5A0Dh97YuC1s_Zd-OQsVwE65JSdQ-\r\nX-Yahoo-Profile: algermissen1971\r\n\r\n\nOn Dec 27, 2011, at 1:13 PM, Jorn Wildt wrote:\n\n&gt; &gt; Why don&#39;t you leverage=\r\n an existing format, UBL in this case?\n&gt; \n&gt; That&#39;s cheating and avoiding th=\r\ne question :-) The assumption is that we actually have two different format=\r\ns to support. According to Wikipedia that is not even so unrealistic - appa=\r\nrently there are regional variations of it (http://en.wikipedia.org/wiki/Un=\r\niversal_Business_Language).\n\nThen I maybe misread your question - I did not=\r\n understand your were focussing on handing the regional variants. OTH, I&#39;d =\r\nstart with the assumption that two variants are needed. Can&#39;t you a) contro=\r\nl the format in the first place or b) allow for the variations within the s=\r\name overall format? And let the client figure out its desired data?\n\n&gt; \n&gt; &gt;=\r\n &gt; First of all, we cannot do content negotiation and switch on the media t=\r\nype because 1) we don&#39;t want to mint new domain specific media types,\n&gt; &gt; \n=\r\n&gt; &gt; I&#39;d suggest you do. It has no significant cost and allows you to work w=\r\nithin the Web&#39;s architecture with easy.\n&gt; \n&gt; It should be obvious, from the=\r\n previous discussions in this group, that different schools exists regardin=\r\ng this issue.\n\nI don&#39;t think that there are really two schools when it come=\r\ns to embedding stuff like complete order data within e.g. HTML. Maybe post =\r\nan example how this would look?\n\n&gt; Right now I am trying to make up my own =\r\nmind whether I belong to one or the other school. This question is for the =\r\n&quot;do not mint new media types&quot;-school.\n&gt; \n&gt; &gt; (e.g. why do you consider medi=\r\na type bloat a problem?)\n&gt; \n&gt; I haven&#39;t yet decided whether it is a problem=\r\n or not :-) Right now I am exploring the consequences of the different appr=\r\noaches. One thing that bothers me though, is that media types are considere=\r\nd protocol layer information. For me that means putting domain specific kno=\r\nwledge into it is like asking the TCP/IP stack to be aware of Cats, Dogs, S=\r\nales orders and what ever else we come up with.\n\nNote that HTTP *is* the ap=\r\nplication layer. It is not transport. The need for media types is simply th=\r\ne consequence of the uniform interface. Knowing about cats is just the same=\r\n as knowing about images of style sheets in the HTML case. Its fine.\n\nJust =\r\ndon&#39;t describe functionality (what a server will actually *do) in the media=\r\n type.\n\n&gt; \n&gt; Thanks for the pointers to other headers!\n&gt; \n\nI think example =\r\nmessages would help to communicate your &#39;problem&#39;.\n\nJan\n\n&gt; /J=F8rn\n&gt; \n&gt; ---=\r\n In rest-discuss@yahoogroups.com, Jan Algermissen &lt;jan.algermissen@...&gt; wro=\r\nte:\n&gt; &gt;\n&gt; &gt; \n&gt; &gt; On Dec 27, 2011, at 10:40 AM, Jorn Wildt wrote:\n&gt; &gt; \n&gt; &gt; &gt;=\r\n Assume we have a resource with a sales order. Such a sales order can be re=\r\npresented for an end-user as either HTML or a spreadsheet. With content neg=\r\notiation thats easily done with accept headers for text/html or application=\r\n/vnd.ms-excel (or similar). But browsers don&#39;t let the end-user switch acce=\r\npt headers, so instead we define HTML as the default type, and add a link t=\r\no where the spreadsheet can be downloaded.\n&gt; &gt; &gt; \n&gt; &gt; &gt; Now we add M2M supp=\r\nort and decide to represent the sales order in HAL or maybe even in HTML us=\r\ning RDFa or some microformat. But we must support two different ways of emb=\r\nedding domain specific data - either the (fictional) Scandinavian Sales Ord=\r\ner Vocabulary or the (also fictional) US Sales Order Vocabulary. How should=\r\n we approach that problem?\n&gt; &gt; \n&gt; &gt; Why don&#39;t you leverage an existing form=\r\nat, UBL in this case? UBL has no associated media type (yet) but that shoul=\r\nd not stop you from going ahead an minting a name for your purposes.\n&gt; &gt; \n&gt;=\r\n &gt; &gt; \n&gt; &gt; &gt; First of all, we cannot do content negotiation and switch on th=\r\ne media type because 1) we don&#39;t want to mint new domain specific media typ=\r\nes,\n&gt; &gt; \n&gt; &gt; I&#39;d suggest you do. It has no significant cost and allows you =\r\nto work within the Web&#39;s architecture with easy. Why create fixes for probl=\r\nems that do not exist? (Smells enterprisey :-)\n&gt; &gt; \n&gt; &gt; &gt; and 2) because we=\r\n want to use the same media type but with different vocabularies/schemas.\n&gt;=\r\n &gt; \n&gt; &gt; Huh?\n&gt; &gt; \n&gt; &gt; &gt; \n&gt; &gt; &gt; Second, the prerequisites might even be wron=\r\ng: is supporting multiple vocabularies the right thing to do? Lets assume i=\r\nt is right and continue on (but you are most welcome to question this!).\n&gt; =\r\n&gt; \n&gt; &gt; My personal advice: Embrace the Web, do simple, straight forward stu=\r\nff and defer fixing problems until the exist (e.g. why do you consider medi=\r\na type bloat a problem?)\n&gt; &gt; \n&gt; &gt; Applying REST to enterprise IT problems d=\r\noes not mean tweaking REST, it means changing your view of the problem.\n&gt; &gt;=\r\n \n&gt; &gt; &gt; \n&gt; &gt; &gt; I can see two different approaches:\n&gt; &gt; &gt; \n&gt; &gt; &gt; 1) Switch o=\r\nn another HTTP header (but which one? accept-language? a custom one?)\n&gt; &gt; \n=\r\n&gt; &gt; No\n&gt; &gt; \n&gt; &gt; &gt; \n&gt; &gt; &gt; 2) Use different URIs for different vocabularies (=\r\nas with the browser solution).\n&gt; &gt; \n&gt; &gt; That is always good design. Variant=\r\ns should be given their own URIs. Explore Content-Location header aspects f=\r\nor this.\n&gt; &gt; \n&gt; &gt; &gt; \n&gt; &gt; &gt; 3) Include both vocabularies in the response.\n&gt; =\r\n&gt; \n&gt; &gt; No\n&gt; &gt; \n&gt; &gt; &gt; \n&gt; &gt; &gt; If different URIs are used then we need to be a=\r\nble to discover them. This could be done with a link header/HTML anchors + =\r\nlink relation types.\n&gt; &gt; \n&gt; &gt; Check the Alternates header\n&gt; &gt; \n&gt; &gt; &gt; The do=\r\nwnside is (as always with different URIs) that we don&#39;t have one single URL=\r\n that represents the sales order - unless we accept the overhead of always =\r\ndoing a two-step fetch, and store the base URI, fetch that, look for link-r=\r\nels and fetch the required representation.\n&gt; &gt; \n&gt; &gt; No problems here - see =\r\nall hints above. Conneg already handles these things well. (Digest the all =\r\nthe specs before you optimize ;-)\n&gt; &gt; \n&gt; &gt; &gt; \n&gt; &gt; &gt; Personally I would rath=\r\ner avoid the two-step fetch and do vocabulary negotiation using headers - b=\r\nut, on the other hand, this is perfectly acceptable in a browser-based scen=\r\nario, so why not also use it in M2M scenarios (caching of the first step wo=\r\nuld even reduce the problem).\n&gt; &gt; \n&gt; &gt; See above; HTTP & friends already gi=\r\nve you all you need.\n&gt; &gt; \n&gt; &gt; &gt; \n&gt; &gt; &gt; Somehow it seems like HTTP is missin=\r\ng a way of doing sub-content negotiation, where the request defines the acc=\r\nepted media type, and together with this also defines the acceptable sub-co=\r\nntent-format/vocabulary.\n&gt; &gt; \n&gt; &gt; There is AFAIK no notion of &#39;sub-content-=\r\nformat/vocabulary&#39;. If you must insist on sth like this, check specs like A=\r\nccept-Features header or the various Profile-mechanisms. (Sorry, no time to=\r\n dig up the links). \n&gt; &gt; \n&gt; &gt; &gt; \n&gt; &gt; &gt; According to RFC 2616 (HTTP 1.1) the=\r\n accept header can take a rather generic extension &quot;;token =3D token&quot; (for =\r\ninstance &quot;;level=3D1&quot;), but the standard fails to explain what it is suppos=\r\ned to be used for. Can it be used for exactly the scenario above?\n&gt; &gt; &gt; \n&gt; =\r\n&gt; &gt; Comments?\n&gt; &gt; &gt; \n&gt; &gt; \n&gt; &gt; Think hard whether you actually have the prob=\r\nlems you think you have. Meanwhile, give the Enterpriseys in your team some=\r\nthing else to chew on :-)\n&gt; &gt; \n&gt; &gt; \n&gt; &gt; Jan\n&gt; &gt; \n&gt; &gt; &gt; Thanks, J=F8rn\n&gt; &gt; &gt;=\r\n \n&gt; &gt; &gt;\n&gt; &gt;\n&gt; \n&gt; \n\n\n"}}
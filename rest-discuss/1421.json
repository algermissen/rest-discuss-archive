{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":4981751,"authorName":"Mark Nottingham","from":"&quot;Mark Nottingham&quot; &lt;mnot@...&gt;","profile":"mnotting","replyTo":"SENDER","senderId":"JuD5V85i1tlStOzGNIzA5TlcIrVzBcu9-0WFcDqBYFTFIEL7CFTh_i_hSla0fY6PgHD29enmP0sFzXWIns_PuVDl1XAwd5Tw","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: Re[2]: [rest-discuss] HTTP caching questions ?","postDate":"1023391356","msgId":1421,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDAyNWMwMWMyMGQ4ZiQ4OTJkNTg5MCRlYzAxMjAwYUBNTk9UTEFQVE9QPg==","referencesHeader":"PGFjM2N2NSs1azRhQGVHcm91cHMuY29tPiA8M0NFNkJFQUIuRkQ5QzYyMDJAcHJlc2NvZC5uZXQ+IDwxOTcxNjk3NDE3MS4yMDAyMDUxOTEzNTgzMEB6YWtzLmRlbW9uLmNvLnVrPg=="},"prevInTopic":1285,"nextInTopic":1422,"prevInTime":1420,"nextInTime":1422,"topicId":1262,"numMessagesInTopic":10,"msgSnippet":"/me catches up on this list What Web server are you using? Is the content generated, or just on disk? This problem (load balancing vs. ETag generation) was","rawEmail":"Return-Path: &lt;mnot@...&gt;\r\nX-Sender: mnot@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nReceived: (EGP: mail-8_0_3_2); 6 Jun 2002 19:20:29 -0000\r\nReceived: (qmail 94166 invoked from network); 6 Jun 2002 19:20:28 -0000\r\nReceived: from unknown (66.218.66.216)\n  by m13.grp.scd.yahoo.com with QMQP; 6 Jun 2002 19:20:28 -0000\r\nReceived: from unknown (HELO mail.mnot.net) (64.170.196.242)\n  by mta1.grp.scd.yahoo.com with SMTP; 6 Jun 2002 19:20:28 -0000\r\nReceived: from MNOTLAPTOP (ext004157bea.bea.com [65.193.195.183])\n\t(using TLSv1 with cipher RC4-MD5 (128/128 bits))\n\t(No client certificate requested)\n\tby mail.mnot.net (Postfix) with ESMTP\n\tid BC8A472BB; Thu,  6 Jun 2002 12:20:16 -0700 (PDT)\r\nMessage-ID: &lt;025c01c20d8f$892d5890$ec01200a@MNOTLAPTOP&gt;\r\nTo: &quot;Simon Fell&quot; &lt;sf@...&gt;,\n\t&lt;rest-discuss@yahoogroups.com&gt;\r\nReferences: &lt;ac3cv5+5k4a@...&gt; &lt;3CE6BEAB.FD9C6202@...&gt; &lt;19716974171.20020519135830@...&gt;\r\nSubject: Re: Re[2]: [rest-discuss] HTTP caching questions ?\r\nDate: Thu, 6 Jun 2002 12:22:36 -0700\r\nMIME-Version: 1.0\r\nContent-Type: text/plain;\n\tcharset=&quot;iso-8859-1&quot;\r\nContent-Transfer-Encoding: 7bit\r\nX-Priority: 3\r\nX-MSMail-Priority: Normal\r\nX-Mailer: Microsoft Outlook Express 6.00.2600.0000\r\nX-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000\r\nFrom: &quot;Mark Nottingham&quot; &lt;mnot@...&gt;\r\nX-Yahoo-Group-Post: member; u=4981751\r\nX-Yahoo-Profile: mnotting\r\n\r\n/me catches up on this list\n\nWhat Web server are you using? Is the content generated, or just on disk?\n\nThis problem (load balancing vs. ETag generation) was recognized a while\nback, and I know that Apache has recently put a fix in (but IIRC you have\nto explicitly configure the behaviour). Depending on your situation, there\nare a number of ways to approach the problem.\n\nCheers,\n\n\n----- Original Message -----\nFrom: &quot;Simon Fell&quot; &lt;sf@...&gt;\nTo: &lt;rest-discuss@yahoogroups.com&gt;\nSent: Sunday, May 19, 2002 1:58 PM\nSubject: Re[2]: [rest-discuss] HTTP caching questions ?\n\n\n&gt; ok, here goes.\n&gt;\n&gt; Basically i need to support efficient checks that content is upto\n&gt; date, and to also support resumable downloads [some of the content is\nlarge\n&gt; binary files accessed via a potentially un-reliable low bandwidth\n&gt; connection]. This content is potentially served by a set of web servers\n&gt; running behind a HTTP load balancer.\n&gt;\n&gt; For a single server scenario, this seems pretty straightforward, At\n&gt; the client cache I track expected size [from the content-length\n&gt; header], Etag and last-modified. for subsequent requests I populate a\n&gt; If-None-Match header from the etag, a Range & Range-If header if the\n&gt; expected size is not the same as the cached file size, and i send a\n&gt; If-Modified-Since header if i don&#39;t have a Range header [my reading of\n&gt; the use of Range & Range-If lead me to believe to not use\n&gt; If-Modified-Since if i&#39;m using ranges].\n&gt;\n&gt; My concern is when i have 2 or more web servers, all running behind a\n&gt; load balancer [local director etc], that each server will be assigning\n&gt; different etags to the same content (i don&#39;t see anything in the spec\n&gt; that lets me assume different server instances will generate the same\n&gt; etag for the same content, even for the same versions of HTTP server\n&gt; software). This is leading me to think about not using etags, and to\n&gt; just use the modified date, but then it doesn&#39;t look like you can do\n&gt; ranges with modified dates. Its also crossed my mind to use\n&gt; content-md5, but this doesn&#39;t seem very widely support [if at all].\n&gt;\n&gt; Any suggestions ?\n&gt;\n&gt; Thanks\n&gt; Simon\n&gt;\n&gt; Saturday, May 18, 2002, 1:50:51 PM, you wrote:\n&gt;\n&gt; &gt; I think it would be great if you asked the questions here. I am not\n&gt; &gt; &quot;deep&quot; in HTTP cacheing but I know that Mark Nottingham is and I\nsuspect\n&gt; &gt; Mark Baker knows quite a bit also. This list seems to be the last\nrefuge\n&gt; &gt; of people who don&#39;t think of HTTP as a dinosaur ;).\n&gt;\n&gt; &gt; simonfell99 wrote:\n&gt; &gt;&gt;\n&gt; &gt;&gt; Hi,\n&gt; &gt;&gt;\n&gt; &gt;&gt; I&#39;m in the process of prototyping a REST version of an existing RPC\n&gt; &gt;&gt; based system, a large chunk of this system revolves around\n&gt; &gt;&gt; efficiently managing updates to content at the client system. I&#39;m\n&gt; &gt;&gt; looking at using the HTTP/1.1 caching support (Etag, If-Modified-\n&gt; &gt;&gt; Since, If-None-Match and If-Range). I have some questions about how\n&gt; &gt;&gt; this works when deployed on a cluster of servers with a load\n&gt; &gt;&gt; balancer, is this a good place to ask, or can someone recommend a\n&gt; &gt;&gt; good list to discuss HTTP caching.\n&gt; &gt;&gt;\n&gt; &gt;&gt; Tx\n&gt; &gt;&gt; Simon\n&gt; &gt;&gt;\n&gt; &gt;&gt;\n&gt; &gt;&gt; To unsubscribe from this group, send an email to:\n&gt; &gt;&gt; rest-discuss-unsubscribe@yahoogroups.com\n&gt; &gt;&gt;\n&gt; &gt;&gt;\n&gt; &gt;&gt;\n&gt; &gt;&gt; Your use of Yahoo! Groups is subject to\nhttp://docs.yahoo.com/info/terms/\n&gt;\n&gt;\n&gt;\n&gt; To unsubscribe from this group, send an email to:\n&gt; rest-discuss-unsubscribe@yahoogroups.com\n&gt;\n&gt;\n&gt;\n&gt; Your use of Yahoo! Groups is subject to\nhttp://docs.yahoo.com/info/terms/\n&gt;\n&gt;\n\n\n"}}
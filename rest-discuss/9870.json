{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":147780944,"authorName":"A. Pagaltzis","from":"&quot;A. Pagaltzis&quot; &lt;pagaltzis@...&gt;","profile":"a22pag","replyTo":"SENDER","senderId":"lv_wj2cizyGr3JczqhiI3zvlqiYEYLDo6Y_I24wYGHv4GbFZtYyA-uDuZrjOpp81mMYUSau5jooMBL2twtOVyOs1eEeUiE9y","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: Just got an idea that might solve the only instance where\tcookies are useful","postDate":"1196054215","msgId":9870,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDIwMDcxMTI2MDUxNjU1LkdTMjA2NjlAa2xhbmdyYXVtPg==","inReplyToHeader":"PDdjYzdjMWNlMDcxMTI1MjA0M3Y0YTk2Y2JlYmpmYjFiNWIwNzM4NzA0MWMwQG1haWwuZ21haWwuY29tPiA8N2NjN2MxY2UwNzExMjUxNTQ4bjc4MDZiNGJkdzVkMmJkMzFiMjY2ZmY1ZmFAbWFpbC5nbWFpbC5jb20+","referencesHeader":"PDdjYzdjMWNlMDcxMTI1MTU0OG43ODA2YjRiZHc1ZDJiZDMxYjI2NmZmNWZhQG1haWwuZ21haWwuY29tPiA8ODdlamVkNHBrZC5mc2ZAZHVsbGlvLm5lZGVyd2FyZS5ubD4gPDdjYzdjMWNlMDcxMTI1MjA0M3Y0YTk2Y2JlYmpmYjFiNWIwNzM4NzA0MWMwQG1haWwuZ21haWwuY29tPiA8ODc3aWs4N2dheC5mc2ZAZHVsbGlvLm5lZGVyd2FyZS5ubD4gPDRGOTY1ODdCLTc0MjQtNEUxQy1BOUIwLTRDMUExRjcyMEUxOUBpbm5vcS5jb20+IDw4N3R6bmM1NWhsLmZzZkBkdWxsaW8ubmVkZXJ3YXJlLm5sPiA8RTU5NDMxQkMtN0ZDMi00RDVCLUFEQTgtMzdCMzhFRUM5MjlCQGlubm9xLmNvbT4gPDg3aGNqYTVoMDYuZnNmQGR1bGxpby5uZWRlcndhcmUubmw+IDwyMDA3MTEyNTE5MTgxOS5HTzIwNjY5QGtsYW5ncmF1bT4gPDdjYzdjMWNlMDcxMTI1MTU0OG43ODA2YjRiZHc1ZDJiZDMxYjI2NmZmNWZhQG1haWwuZ21haWwuY29tPg=="},"prevInTopic":9869,"nextInTopic":9871,"prevInTime":9869,"nextInTime":9871,"topicId":9848,"numMessagesInTopic":41,"msgSnippet":"... Why not? Note I am talking *only* about things like a product page with a link to the shopping cart at the top where the link target URI varies based on","rawEmail":"Return-Path: &lt;pagaltzis@...&gt;\r\nX-Sender: pagaltzis@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 19680 invoked from network); 26 Nov 2007 05:16:58 -0000\r\nX-Received: from unknown (66.218.67.94)\n  by m55.grp.scd.yahoo.com with QMQP; 26 Nov 2007 05:16:58 -0000\r\nX-Received: from unknown (HELO mail.gmx.net) (213.165.64.20)\n  by mta15.grp.scd.yahoo.com with SMTP; 26 Nov 2007 05:16:57 -0000\r\nX-Received: (qmail invoked by alias); 26 Nov 2007 05:16:56 -0000\r\nX-Received: from static-87-79-236-202.netcologne.de (EHLO klangraum) [87.79.236.202]\n  by mail.gmx.net (mp042) with SMTP; 26 Nov 2007 06:16:56 +0100\r\nX-Authenticated: #163624\r\nX-Provags-ID: V01U2FsdGVkX1/2dYB8R2P2BXU8hdPjAZ6yOx1nldOYUPB3KBsmcj\n\tek4BvQSa+Soswl\r\nDate: Mon, 26 Nov 2007 06:16:55 +0100\r\nTo: REST Discuss &lt;rest-discuss@yahoogroups.com&gt;\r\nMessage-ID: &lt;20071126051655.GS20669@klangraum&gt;\r\nMail-Followup-To: REST Discuss &lt;rest-discuss@yahoogroups.com&gt;\r\nReferences: &lt;7cc7c1ce0711251548n7806b4bdw5d2bd31b266ff5fa@...&gt; &lt;87ejed4pkd.fsf@...&gt; &lt;7cc7c1ce0711252043v4a96cbebjfb1b5b07387041c0@...&gt; &lt;877ik87gax.fsf@...&gt; &lt;4F96587B-7424-4E1C-A9B0-4C1A1F720E19@...&gt; &lt;87tznc55hl.fsf@...&gt; &lt;E59431BC-7FC2-4D5B-ADA8-37B38EEC929B@...&gt; &lt;87hcja5h06.fsf@...&gt; &lt;20071125191819.GO20669@klangraum&gt; &lt;7cc7c1ce0711251548n7806b4bdw5d2bd31b266ff5fa@...&gt;\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=utf-8\r\nContent-Disposition: inline\r\nContent-Transfer-Encoding: 8bit\r\nIn-Reply-To: &lt;7cc7c1ce0711252043v4a96cbebjfb1b5b07387041c0@...&gt; &lt;7cc7c1ce0711251548n7806b4bdw5d2bd31b266ff5fa@...&gt;\r\nUser-Agent: Mutt/1.5.16 (2007-06-09)\r\nX-Y-GMX-Trusted: 0\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: &quot;A. Pagaltzis&quot; &lt;pagaltzis@...&gt;\r\nSubject: Re: Just got an idea that might solve the only instance where\n\tcookies are useful\r\nX-Yahoo-Group-Post: member; u=147780944; y=-wS26xnmCN7XugHTUdO5jYo3C4ktjWApXGPPfkKX1KWv\r\nX-Yahoo-Profile: a22pag\r\n\r\n* Karen &lt;karen.cravens@...&gt; [2007-11-26 00:50]:\n&gt; On 11/25/07, A. Pagaltzis &lt;pagaltzis@...&gt; wrote:\n&gt; &gt; I don&#39;t see how the caching situation is any different\n&gt; &gt; between the scenarios where the response varies on the auth\n&gt; &gt; request headers or on the cookie request headers. In both\n&gt; &gt; cases you&#39;re exchanging personalised messages.\n&gt; \n&gt; Correct me if I&#39;m wrong, but *should* the response vary on the\n&gt; auth request headers?\n\nWhy not?\n\nNote I am talking *only* about things like a product page with a\nlink to the shopping cart at the top where the link target URI\nvaries based on which user is authenticated. The data about the\nproduct and other main page content is the same for all users.\n\nSo you’re not addressing a different resource, just twiddling the\nrepresentation returned. That’s perfectly RESTful. There is no\naddressing information outside the URI.\n\nWhat is lost with this design compared to an approach that puts\na per-user- or per-session token in the URI is that you cannot\nlink me to the version of the product page that shows the link\nto *your* cart at the top (rather than mine, based on the auth\nheaders I am sending). That seems like no big loss. In fact, it\nis probably none at all, because if you gave me such a link and\nI tried to follow it, chances in practice are I’d get an error\nbecause the auth credentials in my request do not match those\nimplied by the URI token.\n\n&gt; So a shopping cart, for instance, would still have to have a\n&gt; unique URL per user. [… snip …]\n\nSure – that’s how I’d do it.\n\n\n* Karen &lt;karen.cravens@...&gt; [2007-11-26 05:45]:\n&gt; On 11/25/07, Berend de Boer &lt;berend@...&gt; wrote:\n&gt; &gt; Interesting point. Not sure what the authoritative answer is,\n&gt; &gt; but it looks to me that can&#39;t be true. You would never be\n&gt; &gt; able to say &quot;Welcome Karen&quot;, based on authentication.\n&gt; \n&gt; I would say that&#39;s just window dressing, in that case. It&#39;s not\n&gt; something you&#39;d serve in the straight-up XML, or JSON, or\n&gt; whatever - it&#39;s strictly for human consumption.\n\nI subscribe to the Leonard/Ruby view: a web site is a web service\nis a web site. Regardless of whether you are designing for human\nor machine consumption, the same considerations apply.\n\n&gt; Now, if I reauthenticate with a different identity, and use my\n&gt; back button, then I should still be able to follow links and\n&gt; fill out forms on that page in my browser, and the new\n&gt; credentials should function seamlessly.\n\nThat probably won’t work. The link to the shopping cart would\ncontinue to point to the other account’s cart, which you are\nprobably no longer authorised to view. Only if you put all the\nshopping carts behind a gateway URI can that link continue to\nwork. But we already agree that this is bad and violates REST.\n\nAnd if you do not vary the page content based on authentication,\nbut rather put a user or session token in the URI, as Elliotte is\nproposing, then going back with your Back button won’t work at\nall because you will no longer be authorised to view those pages\nor the pages they link to (which also have the token in the URI,\nof course) either.\n\n&gt; I suppose it&#39;s arguable whether you should, for instance,\n&gt; pre-fill in user information in the &quot;value&quot; field of HTML\n&gt; forms, especially hidden ones. On the one hand, that&#39;s not\n&gt; going to function seamlessly in the above case without\n&gt; JavaScript to adjust at least the hidden values, but if you\n&gt; could depend on JS to do it you could have JS fill in the\n&gt; hidden forms with the at-the-moment current value just like any\n&gt; other full-featured REST client.\n\nIf you can depend on JS you can solve the personalisation issue\n*and* the caching issue by using DOM scripting and XMLHttpRequest\nto stitch *all* the personalised bits into the page, allowing you\nto serve the main content in unpersonalised representations that\nare trivially cachable.\n\nRegards,\n-- \nAristotle Pagaltzis // &lt;http://plasmasturm.org/&gt;\n\n"}}
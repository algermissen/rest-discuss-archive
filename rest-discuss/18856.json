{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":529832687,"authorName":"Fran√ßois Verry","from":"=?ISO-8859-1?Q?Fran=E7ois_Verry?= &lt;f.verry@...&gt;","profile":"francoisverry","replyTo":"SENDER","senderId":"jASVi6pBMH-5b23XuxoyaPJEfnQMZwQaf_c_3_gpt1iXmeN7WFN2Bpvsf3qlHpLSHn4fQGJd6nxNanjYLQ0Hkxh9Ui6Iy-tE_oLpFVlX2dwlMTuhwSWDtOPC3vc","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [rest-discuss] REST &quot;create if not exists&quot;","postDate":"1338782308","msgId":18856,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PENBQ1FvbmgrTz1aRzFVZkhTb0NqckdqOGg4QUR1Rm9PMG05Y0NQYXZKeWhXMUhBYkcxUUBtYWlsLmdtYWlsLmNvbT4=","inReplyToHeader":"PEUxRDI2OTU2LUE0ODEtNDFGMi1CODkxLTExNzU2M0NCNERGN0BhY20ub3JnPg==","referencesHeader":"PGpxZHFwbStnMDU4QGVHcm91cHMuY29tPgk8RTFEMjY5NTYtQTQ4MS00MUYyLUI4OTEtMTE3NTYzQ0I0REY3QGFjbS5vcmc+"},"prevInTopic":18853,"nextInTopic":18857,"prevInTime":18855,"nextInTime":18857,"topicId":18849,"numMessagesInTopic":7,"msgSnippet":"Thanks all for your answers. I have added the cookbook to my list just after posting this message, and I ll be buying it this week. As for the multiple","rawEmail":"Return-Path: &lt;f.verry@...&gt;\r\nX-Sender: f.verry@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 89671 invoked from network); 4 Jun 2012 03:58:29 -0000\r\nX-Received: from unknown (98.137.34.45)\n  by m8.grp.sp2.yahoo.com with QMQP; 4 Jun 2012 03:58:29 -0000\r\nX-Received: from unknown (HELO mail-ey0-f173.google.com) (209.85.215.173)\n  by mta2.grp.sp2.yahoo.com with SMTP; 4 Jun 2012 03:58:29 -0000\r\nX-Received: by eaak12 with SMTP id k12so1066644eaa.32\n        for &lt;rest-discuss@yahoogroups.com&gt;; Sun, 03 Jun 2012 20:58:28 -0700 (PDT)\r\nMIME-Version: 1.0\r\nX-Received: by 10.14.53.65 with SMTP id f41mr4644119eec.179.1338782308150; Sun,\n 03 Jun 2012 20:58:28 -0700 (PDT)\r\nX-Received: by 10.14.95.202 with HTTP; Sun, 3 Jun 2012 20:58:28 -0700 (PDT)\r\nIn-Reply-To: &lt;E1D26956-A481-41F2-B891-117563CB4DF7@...&gt;\r\nReferences: &lt;jqdqpm+g058@...&gt;\n\t&lt;E1D26956-A481-41F2-B891-117563CB4DF7@...&gt;\r\nDate: Mon, 4 Jun 2012 05:58:28 +0200\r\nMessage-ID: &lt;CACQonh+O=ZG1UfHSoCjrGj8h8ADuFoO0m9cCPavJyhW1HAbG1Q@...&gt;\r\nTo: rest-discuss@yahoogroups.com\r\nContent-Type: multipart/alternative; boundary=90e6ba5bb9f5e8ae7804c19d8b9d\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: =?ISO-8859-1?Q?Fran=E7ois_Verry?= &lt;f.verry@...&gt;\r\nSubject: Re: [rest-discuss] REST &quot;create if not exists&quot;\r\nX-Yahoo-Group-Post: member; u=529832687; y=-8cxE6FCvh2o5Dkp12jrj4Px7oLAMoYYJJuwWTqMA4zgaDgcBVAI-Vp0lhw3MeN7qpnXce2KCKcL3Bg\r\nX-Yahoo-Profile: francoisverry\r\n\r\n\r\n--90e6ba5bb9f5e8ae7804c19d8b9d\r\nContent-Type: text/plain; charset=windows-1252\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\nThanks all for your answers.\n\nI have added the &quot;cookbook&quot; to my list just a=\r\nfter posting this message, and\nI&#39;ll be buying it this week.\n\nAs for the mul=\r\ntiple advices here, I&#39;ll take them all. I&#39;m not sure exactly\nwhat solution =\r\nI&#39;ll finally get along with, but my question was more about\nunderstanding w=\r\nhat makes the options valid or not. I&#39;m glad you provided\nmany distincts an=\r\nswers, and maybe, depending on the cases (as it seemed\nquite a common probl=\r\nem to me) I&#39;ll be using either one solution or the\nother.\n\nTo answer the du=\r\nplication issue, it occured to me that it may not be\nnecessary. To be preci=\r\nse, the current system handles &quot;grocery lists&quot;\nduplicates :) But there are =\r\na lot of recordings, and I&#39;m wondering if\nduplication doesn&#39;t prevents us f=\r\nrom having statistics. If I treat the\nresource as &quot;descriptive data&quot;, then =\r\nI can duplicate them. But identifying\neach resource as unique would help kn=\r\nowing, for example, which filters are\nthe most common.\n\nThere is also anoth=\r\ner motivation : we have process running over those\nfilters, that create not=\r\nifications when a new result matches the filters.\nReducing the number of fi=\r\nlters will reduce the amount of time to process\nnotifications as well.\n\nThe=\r\nn, thanks to you all, it is more clear in my head now :)\n\nFran=E7ois\n\n2012/=\r\n6/3 Philippe Mougin &lt;pmougin@...&gt;\n\n&gt; Hi Fran=E7ois,\n&gt;\n&gt; I would go for =\r\n#5 if possible. If you don&#39;t need to store and/or\n&gt; manipulate filters as i=\r\nndependent resources, you&#39;ll benefit getting them\n&gt; out of your resource sp=\r\nace, as this will vastly simplify your system.\n&gt;\n&gt; Now, instead of GET  /fi=\r\nlters/{filter-id}/results you would do GET\n&gt; /results?c1=3Dfoo&c2=3Dbar&c3=\r\n=3Dbaz. If your filters needs to be more complex\n&gt; than a simple set of key=\r\n/values, you can create a little syntax to express\n&gt; them; e.g. : GET /resu=\r\nlts?filter=3Dc1%3Dfoo%20ANDc2%3Dbar%20OR%20c3%3Dbaz.\n&gt;\n&gt; If you can&#39;t do th=\r\nat (maybe your filters are too long to fit in a URL (but\n&gt; this probably is=\r\nn&#39;t the case)), and if for some reason you absolutely need\n&gt; to not have mu=\r\nltiple URLs for identical filters, you should go for your\n&gt; solution #2. Th=\r\ne problem you see about it isn&#39;t a real one. This isn&#39;t a\n&gt; fraud, as the m=\r\neaning of POST isn&#39;t necessarily to append something, but\n&gt; can be as gener=\r\nic as &quot;Providing a block of data to a data-handling process&quot;.\n&gt;\n&gt; Best,\n&gt;\n&gt;=\r\n Philippe Mougin\n&gt;\n&gt; Le 2 juin 2012 =E0 21:50, francoisverry a =E9crit :\n&gt;\n=\r\n&gt;\n&gt;\n&gt; Hello\n&gt;\n&gt; I&#39;m new to REST, and I&#39;m trying to integrate it in my compa=\r\nny. We\n&gt; currently are trying to design a multi-criteria search engine with=\r\n REST\n&gt; principles. I use as a reference the O&#39;Reilly &quot;RESTful Web Services=\r\n&quot;.\n&gt;\n&gt; I don&#39;t know if the following problem has been discussed somewhere, =\r\nbut\n&gt; I&#39;ve been unable to find anything that matches it. If you happen to k=\r\nnow\n&gt; resources that could help me, please let me know.\n&gt;\n&gt; In a multi-crit=\r\nera search engine, we have two types of resources :\n&gt; &quot;Results&quot; and &quot;Filter=\r\ns&quot;. Results are items searched for, and Filters are\n&gt; sets of criteria whic=\r\nh allows us to isolate a subset of Results.\n&gt;\n&gt; For example :\n&gt;\n&gt;     GET /=\r\nresults returns the total number of results\n&gt;     GET /results/{result-id} =\r\nreturns one specific result\n&gt;     GET /filters returns a specification on c=\r\nriteria usage (eg. an empty\n&gt; &lt;form&gt;)\n&gt;     GET /filters/{filter-id} return=\r\ns one specific filter (eg. a filled\n&gt; &lt;form&gt;)\n&gt;     GET /filters/{filter-id=\r\n}/results returns the total number of results\n&gt; matching the filter, and li=\r\nnks to the corresponding /results/{result-id}\n&gt;\n&gt; We want to allow the regi=\r\nstration of filters. Imagine a filter as the\n&gt; composition of 3 criteria, c=\r\n1, c2 and c3. My first thought was to register\n&gt; a filter through a POST re=\r\nquest.\n&gt;\n&gt;     Request :\n&gt;\n&gt;     POST /filters HTTP/1.1\n&gt;\n&gt;     c1=3Dfoo&c2=\r\n=3Dbar&c3=3Dbaz\n&gt;\n&gt;     Response :\n&gt;\n&gt;     HTTP/1.1 201 Created\n&gt;     Locat=\r\nion: /filters/123456\n&gt;\n&gt; But if I (or someone else) do it again, I&#39;ll end u=\r\np with another\n&gt; {filter-id}, e.g. 123457. Then we&#39;ll have two resources wi=\r\nth the exact same\n&gt; meaning and content.\n&gt;\n&gt; If I want to use one URI for o=\r\nne criteria set, PUT seems more appropriate.\n&gt; The thing is, the {filter-id=\r\n} is assigned &quot;randomly&quot; by the server. As a\n&gt; client, I can&#39;t guess nor fo=\r\nrce it. From there, I see the following\n&gt; solutions, neither I find satisfy=\r\ning :\n&gt;\n&gt; 1/ I try to map artificially my URIs to the criteria set. I could=\r\n use a\n&gt; hash of the representation. e.g. :\n&gt;\n&gt;     Request :\n&gt;\n&gt;     PUT /=\r\nfilters/53c11504ba50e14b60407b13a72c0e53 HTTP/1.1\n&gt;\n&gt;     c1=3Dfoo&c2=3Dbar=\r\n&c3=3Dbaz\n&gt;\n&gt;     Response :\n&gt;\n&gt;     HTTP/1.1 200 OK\n&gt;\n&gt;     &lt;form method=\r\n=3D&quot;PUT&quot; action=3D&quot;/filters/53c11504ba50e14b60407b13a72c0e53&quot;&gt;\n&gt;         &lt;i=\r\nnput name=3D&quot;c1&quot; value=3D&quot;foo&quot; /&gt;\n&gt;         &lt;input name=3D&quot;c2&quot; value=3D&quot;bar=\r\n&quot; /&gt;\n&gt;         &lt;input name=3D&quot;c3&quot; value=3D&quot;baz&quot; /&gt;\n&gt;         &lt;input type=3D=\r\n&quot;submit&quot; /&gt;\n&gt;     &lt;/form&gt;\n&gt;\n&gt; The problem is : it is artificial. If my crit=\r\neria set changes, or if its\n&gt; representation changes, I could end up with c=\r\nonflicts or doubles.\n&gt;\n&gt; 2/ I trick the client into believing it actually c=\r\nreated something new,\n&gt; whether or not it has. This means, even if /filters=\r\n/123456 already exists,\n&gt; my server will answer it to anyone POSTing the &quot;c=\r\n1=3Dfoo&c2=3Dbar&c3=3Dbaz&quot;\n&gt; content.\n&gt;\n&gt; The problem is : it&#39;s a fraud. On=\r\nly the initial POST really &quot;appends&quot;\n&gt; something.\n&gt;\n&gt; 3/ I answer the secon=\r\nd-and-further POST requests with a &quot;409 Conflict&quot;\n&gt; answer, and the correct=\r\n location.\n&gt;\n&gt; The problem is : it is not actually an error. The client doe=\r\nsn&#39;t care to\n&gt; register something, it just has no way to know wheter or not=\r\n the resource\n&gt; he is looking for already exists.\n&gt;\n&gt; 4/ I do a preliminary=\r\n check\n&gt;\n&gt;     Request :\n&gt;\n&gt;     GET /filters?c1=3Dfoo&c2=3Dbar&c3=3Dbaz HT=\r\nTP/1.1\n&gt;\n&gt;     Response :\n&gt;\n&gt;     HTTP/1.1 301 Moved Permanently\n&gt;     Loca=\r\ntion: /filters/123456\n&gt;\n&gt; The problem is : If the resource doesn&#39;t exists a=\r\nt that time, I&#39;ll be\n&gt; willing to create it. If I do, nothing ensures me th=\r\nat someone hasn&#39;t\n&gt; created it inbetween. Then, if I want to put aside a lo=\r\ncation for my\n&gt; resource, it implies my GET isn&#39;t safe anymore.\n&gt;\n&gt; 5/ The =\r\nlast option I see is that the URI should contains the whole content\n&gt; of th=\r\ne resource, as it is its &quot;natural&quot; identifier. This is especially\n&gt; difficu=\r\nlt if I have a large set of criteria, and if their values are\n&gt; complex. Th=\r\nis is why we use ids in the first place.\n&gt;\n&gt; Thanks in advance for your hel=\r\np\n&gt;\n&gt; Fran=E7ois\n&gt;\n&gt;  \n&gt;\n&gt;\n&gt;\n\r\n--90e6ba5bb9f5e8ae7804c19d8b9d\r\nContent-Type: text/html; charset=windows-1252\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\nThanks all for your answers.&lt;br&gt;&lt;br&gt;I have added the &quot;cookbook&quot; t=\r\no my list just after posting this message, and I&#39;ll be buying it this w=\r\neek.&lt;br&gt;&lt;br&gt;As for the multiple advices here, I&#39;ll take them all. I&#39=\r\n;m not sure exactly what solution I&#39;ll finally get along with, but my q=\r\nuestion was more about understanding what makes the options valid or not. I=\r\n&#39;m glad you provided many distincts answers, and maybe, depending on th=\r\ne cases (as it seemed quite a common problem to me) I&#39;ll be using eithe=\r\nr one solution or the other.&lt;br&gt;\n&lt;br&gt;To answer the duplication issue, it oc=\r\ncured to me that it may not be necessary. To be precise, the current system=\r\n handles &quot;grocery lists&quot; duplicates :) But there are a lot of rec=\r\nordings, and I&#39;m wondering if duplication doesn&#39;t prevents us from =\r\nhaving statistics. If I treat the resource as &quot;descriptive data&quot;,=\r\n then I can duplicate them. But identifying each resource as unique would h=\r\nelp knowing, for example, which filters are the most common.&lt;br&gt;\n&lt;br&gt;There =\r\nis also another motivation : we have process running over those filters, th=\r\nat create notifications when a new result matches the filters. Reducing the=\r\n number of filters will reduce the amount of time to process notifications =\r\nas well.&lt;br&gt;\n&lt;br&gt;Then, thanks to you all, it is more clear in my head now :=\r\n)&lt;br&gt;&lt;br&gt;Fran=E7ois &lt;br&gt;&lt;br&gt;&lt;div class=3D&quot;gmail_quote&quot;&gt;2012/6/3 Philippe Mo=\r\nugin &lt;span dir=3D&quot;ltr&quot;&gt;&lt;&lt;a href=3D&quot;mailto:pmougin@...&quot; target=3D&quot;_bl=\r\nank&quot;&gt;pmougin@...&lt;/a&gt;&gt;&lt;/span&gt;&lt;br&gt;\n&lt;blockquote class=3D&quot;gmail_quote&quot; s=\r\ntyle=3D&quot;margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex&quot;&gt;&lt;div=\r\n style=3D&quot;word-wrap:break-word&quot;&gt;&lt;div&gt;Hi Fran=E7ois,&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;di=\r\nv&gt;I would go for #5 if possible. If you don&#39;t need to store and/or mani=\r\npulate filters as independent resources, you&#39;ll benefit getting them ou=\r\nt of your resource space, as this will vastly simplify your system.&lt;/div&gt;\n&lt;=\r\ndiv&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Now, instead of GET =A0/filters/{filter-id}/results you =\r\nwould do GET /results?c1=3Dfoo&amp;c2=3Dbar&amp;c3=3Dbaz. If your filters n=\r\needs to be more complex than a simple set of key/values, you can create a l=\r\nittle syntax to express them; e.g. :=A0GET /results?filter=3Dc1%3Dfoo%20AND=\r\nc2%3Dbar%20OR%20c3%3Dbaz.&lt;/div&gt;\n&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;If you can&#39;t do tha=\r\nt (maybe your filters are too long to fit in a URL (but this probably isn&#=\r\n39;t the case)), and if for some reason you absolutely need to not have mul=\r\ntiple URLs for identical filters, you should go for your solution #2. The p=\r\nroblem you see about it isn&#39;t a real one. This isn&#39;t a fraud, as th=\r\ne meaning of POST isn&#39;t necessarily to append something, but can be as =\r\ngeneric as &quot;Providing a block of data=A0to a data-handling process&quo=\r\nt;.&lt;/div&gt;\n&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Best,&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Philippe Mougi=\r\nn&lt;/div&gt;&lt;div&gt;=A0&lt;/div&gt;&lt;div&gt;&lt;div&gt;Le 2 juin 2012 =E0 21:50, francoisverry a =\r\n=E9crit :&lt;/div&gt;&lt;div&gt;&lt;div class=3D&quot;h5&quot;&gt;&lt;br&gt;&lt;blockquote type=3D&quot;cite&quot;&gt;\n\n\n\n\n\n\n=\r\n\n\n\n\n\n\n\n&lt;div style&gt;\n&lt;span&gt;=A0&lt;/span&gt;\n\n\n&lt;div&gt;\n  &lt;div&gt;\n\n\n    &lt;div&gt;&lt;p&gt;Hello&lt;br&gt;=\r\n&lt;br&gt;I&#39;m new to REST, and I&#39;m trying to integrate it in my company. =\r\nWe currently are trying to design a multi-criteria search engine with REST =\r\nprinciples. I use as a reference the O&#39;Reilly &quot;RESTful Web Service=\r\ns&quot;.&lt;br&gt;\n&lt;br&gt;I don&#39;t know if the following problem has been discuss=\r\ned somewhere, but I&#39;ve been unable to find anything that matches it. If=\r\n you happen to know resources that could help me, please let me know.&lt;br&gt;&lt;b=\r\nr&gt;In a multi-critera search engine, we have two types of resources : &quot;=\r\nResults&quot; and &quot;Filters&quot;. Results are items searched for, and =\r\nFilters are sets of criteria which allows us to isolate a subset of Results=\r\n.&lt;br&gt;\n&lt;br&gt;For example :&lt;br&gt;&lt;br&gt;=A0=A0=A0 &lt;font style=3D&quot;background-color:rg=\r\nb(0,255,255)&quot; face=3D&quot;courier new&quot;&gt;GET /results&lt;/font&gt; returns the total nu=\r\nmber of results&lt;br&gt;=A0=A0=A0 &lt;span style=3D&quot;font-family:courier new;backgro=\r\nund-color:rgb(0,255,255)&quot;&gt;GET /results/{result-id}&lt;/span&gt; returns one speci=\r\nfic result&lt;br&gt;\n=A0=A0=A0 &lt;span style=3D&quot;background-color:rgb(0,255,255);fon=\r\nt-family:courier new&quot;&gt;GET /filters&lt;/span&gt; returns a specification on criter=\r\nia usage (eg. an empty &lt;form&gt;)&lt;br&gt;=A0=A0=A0 &lt;span style=3D&quot;font-famil=\r\ny:courier new;background-color:rgb(0,255,255)&quot;&gt;GET /filters/{filter-id}&lt;/sp=\r\nan&gt; returns one specific filter (eg. a filled &lt;form&gt;)&lt;br&gt;\n=A0=A0=A0 &lt;=\r\nspan style=3D&quot;font-family:courier new;background-color:rgb(0,255,255)&quot;&gt;GET =\r\n/filters/{filter-id}/results&lt;/span&gt; returns the total number of results mat=\r\nching the filter, and links to the corresponding /results/{result-id}&lt;br&gt;\n&lt;=\r\nbr&gt;We want to allow the registration of filters. Imagine a filter as the co=\r\nmposition of 3 criteria, c1, c2 and c3. My first thought was to register a =\r\nfilter through a POST request.&lt;br&gt;&lt;br&gt;=A0=A0=A0 Request :&lt;br&gt;&lt;br&gt;&lt;span styl=\r\ne=3D&quot;font-family:courier new;background-color:rgb(0,255,255)&quot;&gt;=A0=A0=A0 POS=\r\nT /filters HTTP/1.1&lt;/span&gt;&lt;br style=3D&quot;font-family:courier new;background-c=\r\nolor:rgb(0,255,255)&quot;&gt;\n&lt;br style=3D&quot;font-family:courier new;background-color=\r\n:rgb(0,255,255)&quot;&gt;&lt;span style=3D&quot;font-family:courier new;background-color:rg=\r\nb(0,255,255)&quot;&gt;=A0=A0=A0 c1=3Dfoo&amp;c2=3Dbar&amp;c3=3Dbaz&lt;/span&gt;&lt;br style=\r\n=3D&quot;font-family:courier new;background-color:rgb(0,255,255)&quot;&gt;\n&lt;br&gt;=A0=A0=A0=\r\n Response :&lt;br&gt;&lt;br&gt;&lt;span style=3D&quot;font-family:courier new;background-color:=\r\nrgb(0,255,255)&quot;&gt;=A0=A0=A0 HTTP/1.1 201 Created&lt;/span&gt;&lt;br style=3D&quot;font-fami=\r\nly:courier new;background-color:rgb(0,255,255)&quot;&gt;&lt;span style=3D&quot;font-family:=\r\ncourier new;background-color:rgb(0,255,255)&quot;&gt;=A0=A0=A0 Location: /filters/1=\r\n23456&lt;/span&gt;&lt;br style=3D&quot;font-family:courier new;background-color:rgb(0,255=\r\n,255)&quot;&gt;\n&lt;br&gt;But if I (or someone else) do it again, I&#39;ll end up with an=\r\nother {filter-id}, e.g. 123457. Then we&#39;ll have two resources with the =\r\nexact same meaning and content.&lt;br&gt;&lt;br&gt;If I want to use one URI for one cri=\r\nteria set, PUT seems more appropriate. The thing is, the {filter-id} is ass=\r\nigned &quot;randomly&quot; by the server. As a client, I can&#39;t guess no=\r\nr force it. From there, I see the following solutions, neither I find satis=\r\nfying :&lt;br&gt;\n&lt;br&gt;1/ I try to map artificially my URIs to the criteria set. I=\r\n could use a hash of the representation. e.g. :&lt;br&gt;&lt;br&gt;=A0=A0=A0 Request :&lt;=\r\nbr&gt;&lt;br&gt;&lt;span style=3D&quot;font-family:courier new;background-color:rgb(0,255,25=\r\n5)&quot;&gt;=A0=A0=A0 PUT /filters/53c11504ba50e14b60407b13a72c0e53 HTTP/1.1&lt;/span&gt;=\r\n&lt;br style=3D&quot;font-family:courier new;background-color:rgb(0,255,255)&quot;&gt;\n&lt;br =\r\nstyle=3D&quot;font-family:courier new;background-color:rgb(0,255,255)&quot;&gt;&lt;span sty=\r\nle=3D&quot;font-family:courier new;background-color:rgb(0,255,255)&quot;&gt;=A0=A0=A0 c1=\r\n=3Dfoo&amp;c2=3Dbar&amp;c3=3Dbaz&lt;/span&gt;&lt;br style=3D&quot;font-family:courier new=\r\n;background-color:rgb(0,255,255)&quot;&gt;\n&lt;br&gt;=A0=A0=A0 Response :&lt;br&gt;&lt;br&gt;&lt;span st=\r\nyle=3D&quot;background-color:rgb(0,255,255);font-family:courier new&quot;&gt;=A0=A0=A0 H=\r\nTTP/1.1 200 OK&lt;/span&gt;&lt;br style=3D&quot;background-color:rgb(0,255,255);font-fami=\r\nly:courier new&quot;&gt;&lt;br style=3D&quot;background-color:rgb(0,255,255);font-family:co=\r\nurier new&quot;&gt;\n&lt;span style=3D&quot;background-color:rgb(0,255,255);font-family:cour=\r\nier new&quot;&gt;=A0=A0=A0 &lt;form method=3D&quot;PUT&quot; action=3D&quot;/filter=\r\ns/53c11504ba50e14b60407b13a72c0e53&quot;&gt;&lt;/span&gt;&lt;br style=3D&quot;background-=\r\ncolor:rgb(0,255,255);font-family:courier new&quot;&gt;\n&lt;span style=3D&quot;background-co=\r\nlor:rgb(0,255,255);font-family:courier new&quot;&gt;=A0=A0=A0=A0=A0=A0=A0 &lt;input=\r\n name=3D&quot;c1&quot; value=3D&quot;foo&quot; /&gt;&lt;/span&gt;&lt;br style=3D&quot;bac=\r\nkground-color:rgb(0,255,255);font-family:courier new&quot;&gt;&lt;span style=3D&quot;backgr=\r\nound-color:rgb(0,255,255);font-family:courier new&quot;&gt;=A0=A0=A0=A0=A0=A0=A0 &l=\r\nt;input name=3D&quot;c2&quot; value=3D&quot;bar&quot; /&gt;&lt;/span&gt;&lt;br style=\r\n=3D&quot;background-color:rgb(0,255,255);font-family:courier new&quot;&gt;\n&lt;span style=\r\n=3D&quot;background-color:rgb(0,255,255);font-family:courier new&quot;&gt;=A0=A0=A0=A0=\r\n=A0=A0=A0 &lt;input name=3D&quot;c3&quot; value=3D&quot;baz&quot; /&gt;&lt;/sp=\r\nan&gt;&lt;br style=3D&quot;background-color:rgb(0,255,255);font-family:courier new&quot;&gt;&lt;s=\r\npan style=3D&quot;background-color:rgb(0,255,255);font-family:courier new&quot;&gt;=A0=\r\n=A0=A0=A0=A0=A0=A0 &lt;input type=3D&quot;submit&quot; /&gt;&lt;/span&gt;&lt;br styl=\r\ne=3D&quot;background-color:rgb(0,255,255);font-family:courier new&quot;&gt;\n&lt;span style=\r\n=3D&quot;background-color:rgb(0,255,255);font-family:courier new&quot;&gt;=A0=A0=A0 &lt;=\r\n/form&gt;&lt;/span&gt;&lt;br style=3D&quot;background-color:rgb(0,255,255);font-family:co=\r\nurier new&quot;&gt;&lt;br&gt;The problem is : it is artificial. If my criteria set change=\r\ns, or if its representation changes, I could end up with conflicts or doubl=\r\nes.&lt;br&gt;\n&lt;br&gt;2/ I trick the client into believing it actually created someth=\r\ning new, whether or not it has. This means, even if /filters/123456 already=\r\n exists, my server will answer it to anyone POSTing the &quot;c1=3Dfoo&amp;=\r\nc2=3Dbar&amp;c3=3Dbaz&quot; content.&lt;br&gt;\n&lt;br&gt;The problem is : it&#39;s a fr=\r\naud. Only the initial POST really &quot;appends&quot; something.&lt;br&gt;&lt;br&gt;3/ =\r\nI answer the second-and-further POST requests with a &quot;409 Conflict&quo=\r\nt; answer, and the correct location.&lt;br&gt;\n&lt;br&gt;The problem is : it is not act=\r\nually an error. The client doesn&#39;t care to register something, it just =\r\nhas no way to know wheter or not the resource he is looking for already exi=\r\nsts.&lt;br&gt;&lt;br&gt;4/ I do a preliminary check&lt;br&gt;\n&lt;br&gt;=A0=A0=A0 Request :&lt;br&gt;&lt;br&gt;=\r\n&lt;span style=3D&quot;font-family:courier new;background-color:rgb(0,255,255)&quot;&gt;=A0=\r\n=A0=A0 GET /filters?c1=3Dfoo&amp;c2=3Dbar&amp;c3=3Dbaz HTTP/1.1&lt;/span&gt;&lt;br s=\r\ntyle=3D&quot;font-family:courier new;background-color:rgb(0,255,255)&quot;&gt;\n&lt;br&gt;=A0=\r\n=A0=A0 Response :&lt;br&gt;&lt;br&gt;&lt;span style=3D&quot;font-family:courier new;background-=\r\ncolor:rgb(0,255,255)&quot;&gt;=A0=A0=A0 HTTP/1.1 301 Moved Permanently&lt;/span&gt;&lt;br st=\r\nyle=3D&quot;font-family:courier new;background-color:rgb(0,255,255)&quot;&gt;&lt;span style=\r\n=3D&quot;font-family:courier new;background-color:rgb(0,255,255)&quot;&gt;=A0=A0=A0 Loca=\r\ntion: /filters/123456&lt;/span&gt;&lt;br style=3D&quot;font-family:courier new;background=\r\n-color:rgb(0,255,255)&quot;&gt;\n&lt;br&gt;The problem is : If the resource doesn&#39;t ex=\r\nists at that time, I&#39;ll be willing to create it. If I do, nothing ensur=\r\nes me that someone hasn&#39;t created it inbetween. Then, if I want to put =\r\naside a location for my resource, it implies my GET isn&#39;t safe anymore.=\r\n&lt;br&gt;\n&lt;br&gt;5/ The last option I see is that the URI should contains the whole=\r\n content of the resource, as it is its &quot;natural&quot; identifier. This=\r\n is especially difficult if I have a large set of criteria, and if their va=\r\nlues are complex. This is why we use ids in the first place.&lt;br&gt;\n&lt;br&gt;Thanks=\r\n in advance for your help&lt;br&gt;&lt;br&gt;Fran=E7ois&lt;br&gt;&lt;br&gt;\n&lt;/p&gt;\n\n    &lt;/div&gt;\n     \n=\r\n\n    \n    &lt;div style=3D&quot;color:#fff;min-height:0&quot;&gt;&lt;/div&gt;\n\n\n&lt;/div&gt;\n\n\n\n  \n\n\n\n\n=\r\n\n\n&lt;/blockquote&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;\n\r\n--90e6ba5bb9f5e8ae7804c19d8b9d--\r\n\n"}}
{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":70120313,"authorName":"mdierken","from":"&quot;mdierken&quot; &lt;mdierken@...&gt;","profile":"mdierken","replyTo":"SENDER","senderId":"9DTTHos4dyd7obFewSo3e1aQOTtH5wwjOD3gCh5Sj-AHfe_pNCPSvzqCnWe66WN8UB_zJTb9pc5DZ2-dPYZuvI_2H8ZhnA","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: asynch","postDate":"1011254468","msgId":40,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PGEyNjBjNCsxMTE4ZUBlR3JvdXBzLmNvbT4=","inReplyToHeader":"PDIwMDIwMTE3MDI1Ni5WQUExMDIzNkBtYXJrYmFrZXIuY2E+"},"prevInTopic":38,"nextInTopic":43,"prevInTime":39,"nextInTime":41,"topicId":13,"numMessagesInTopic":36,"msgSnippet":"... ), ... POST) ... like ... Yes - this is the basic idea. They use route rather than watch . There are other magic bits in there also (like a javascript","rawEmail":"Return-Path: &lt;mdierken@...&gt;\r\nX-Sender: mdierken@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nReceived: (EGP: mail-8_0_1_3); 17 Jan 2002 08:01:13 -0000\r\nReceived: (qmail 6957 invoked from network); 17 Jan 2002 08:01:12 -0000\r\nReceived: from unknown (216.115.97.167)\n  by m9.grp.snv.yahoo.com with QMQP; 17 Jan 2002 08:01:12 -0000\r\nReceived: from unknown (HELO n4.groups.yahoo.com) (216.115.96.54)\n  by mta1.grp.snv.yahoo.com with SMTP; 17 Jan 2002 08:01:12 -0000\r\nReceived: from [216.115.96.156] by n4.groups.yahoo.com with NNFMP; 17 Jan 2002 08:01:12 -0000\r\nDate: Thu, 17 Jan 2002 08:01:08 -0000\r\nTo: rest-discuss@yahoogroups.com\r\nSubject: Re: asynch\r\nMessage-ID: &lt;a260c4+1118e@...&gt;\r\nIn-Reply-To: &lt;200201170256.VAA10236@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Length: 1840\r\nX-Mailer: Yahoo Groups Message Poster\r\nFrom: &quot;mdierken&quot; &lt;mdierken@...&gt;\r\nX-Yahoo-Group-Post: member; u=70120313\r\nX-Yahoo-Profile: mdierken\r\n\r\n&gt; So the question is (assuming we&#39;ve already decided we need asynch 8-\n),\n&gt; when do things with identity need to send event notifications?\n&gt; \n&gt; The answer that KnowNow came up with is &quot;When they change state&quot;.  I\n&gt; haven&#39;t kept up with what they&#39;ve been implementing, but I recall\n&gt; talking with Rohit about a &quot;WATCH&quot; method (Roy suggested the name).\n&gt; \n&gt; It works this way (I&#39;m not saying KnowNow does this, only this is\n&gt; how it could work - there may be better ways too, but the request\n&gt; line won&#39;t change);\n&gt; \n&gt; WATCH http://www.yahoo.com HTTP/1.1\n&gt; Reply-To: http://mysite.org/yahoo-watch\n&gt; \n&gt; This is a request to the resource to notify the Reply-To URI (via \nPOST)\n&gt; when www.yahoo.com changes state.  *What* the notification looks \nlike\n&gt; is up for grabs, there are lots of possibilities and the request can\n&gt; be configured to ask for something specific (e.g. a delta encoding,\n&gt; just the URI, a full representation, etc..).\n&gt; \n\nYes - this is the basic idea. They use &#39;route&#39; rather than &#39;watch&#39;.\nThere are other magic bits in there also (like a javascript client \nthat receives via persisitent response, kn_expires, \nkn_response_format for content negotiation (they should&#39;ve \nused &#39;accept&#39;, the weasels)).\n\nOne trick that I&#39;m not sure how to accomplish is the identification \nof what the event is &#39;about&#39; when it is a multi-hop. Is there \na &#39;topic&#39; header or something? KN uses kn_routed_from to identify \nthat latest URI the message has passed through. (and I don&#39;t want to \nhear about using an xml namespace for this... more weasels)\n\nKnowNow docs at:\nhttp://developer.knownow.com/devguide/docs/routers/knrouterapi.html\n\nSetting up a subscription:\nhttp://www.yahoo.com?do_method=route&kn_to=http://mysite.org/yahoo-\nwatch\n\nThey also use kn_id to identify an event - useful for supressing \nduplicates and correlating replies.\n\n\n\n\n"}}
{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":371338898,"authorName":"Bill Burke","from":"Bill Burke &lt;bburke@...&gt;","profile":"patriot1burke","replyTo":"SENDER","senderId":"VZxoTYq4BTAoFWrTFZ9fqU6US0zZavaZkg5PDhps0sMYAmpAbdLZhMxm6E5BqplbLmA1RvN3HcUB_6Af5A3rEysNVlSv","spamInfo":{"isSpam":false,"reason":"6"},"subject":"Re: [rest-discuss] CommandQuerySeparation and REST?","postDate":"1241537733","msgId":12573,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDRBMDA1Q0M1LjQwMDA3MDRAcmVkaGF0LmNvbT4=","inReplyToHeader":"PDRBMDA1QUFGLjIwNTAyMDVAcmVkaGF0LmNvbT4=","referencesHeader":"PDQ5RkY5NkFELjkwNjA3MDBAZ21haWwuY29tPiA8ODc3aTB3bTg2bS5mc2ZAZHVsbGlvLm5lZGVyd2FyZS5ubD4JPDQ5RkZDRjMyLjYwOTAzQGdtYWlsLmNvbT4gPDg3cHJlb2F4YzMuZnNmQGR1bGxpby5uZWRlcndhcmUubmw+CTw0OUZGRjZBRi42MDcwOTAwQGdtYWlsLmNvbT4gPDg3M2FiazB3YjkuZnNmQGR1bGxpby5uZWRlcndhcmUubmw+IDw0QTAwMDAwQS4xMDMwODAxQGdtYWlsLmNvbT4gPDRBMDA1QUFGLjIwNTAyMDVAcmVkaGF0LmNvbT4="},"prevInTopic":12572,"nextInTopic":12644,"prevInTime":12572,"nextInTime":12574,"topicId":12555,"numMessagesInTopic":39,"msgSnippet":"Another thing: Why can t the command be its own data format?  Consider a Bank Account.  When somebody goes to an ATM and withdraws money, they aren t ","rawEmail":"Return-Path: &lt;bburke@...&gt;\r\nX-Sender: bburke@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 27492 invoked from network); 5 May 2009 15:35:57 -0000\r\nX-Received: from unknown (98.137.34.45)\n  by m3.grp.sp2.yahoo.com with QMQP; 5 May 2009 15:35:57 -0000\r\nX-Received: from unknown (HELO mx2.redhat.com) (66.187.237.31)\n  by mta2.grp.sp2.yahoo.com with SMTP; 5 May 2009 15:35:57 -0000\r\nX-Received: from int-mx2.corp.redhat.com (int-mx2.corp.redhat.com [172.16.27.26])\n\tby mx2.redhat.com (8.13.8/8.13.8) with ESMTP id n45FZbsH011880;\n\tTue, 5 May 2009 11:35:37 -0400\r\nX-Received: from ns3.rdu.redhat.com (ns3.rdu.redhat.com [10.11.255.199])\n\tby int-mx2.corp.redhat.com (8.13.1/8.13.1) with ESMTP id n45FZauG004916;\n\tTue, 5 May 2009 11:35:36 -0400\r\nX-Received: from bill-burkes-computer.local (vpn-12-178.rdu.redhat.com [10.11.12.178])\n\tby ns3.rdu.redhat.com (8.13.8/8.13.8) with ESMTP id n45FZX7k030637;\n\tTue, 5 May 2009 11:35:33 -0400\r\nMessage-ID: &lt;4A005CC5.4000704@...&gt;\r\nDate: Tue, 05 May 2009 11:35:33 -0400\r\nUser-Agent: Thunderbird 2.0.0.21 (Macintosh/20090302)\r\nMIME-Version: 1.0\r\nTo: Bill Burke &lt;bburke@...&gt;\r\nCc: =?UTF-8?B?Umlja2FyZCDDlmJlcmc=?= &lt;rickardoberg@...&gt;,\n        Berend de Boer &lt;berend@...&gt;,\n        Rest List &lt;rest-discuss@yahoogroups.com&gt;\r\nReferences: &lt;49FF96AD.9060700@...&gt; &lt;877i0wm86m.fsf@...&gt;\t&lt;49FFCF32.60903@...&gt; &lt;87preoaxc3.fsf@...&gt;\t&lt;49FFF6AF.6070900@...&gt; &lt;873abk0wb9.fsf@...&gt; &lt;4A00000A.1030801@...&gt; &lt;4A005AAF.2050205@...&gt;\r\nIn-Reply-To: &lt;4A005AAF.2050205@...&gt;\r\nContent-Type: text/plain; charset=UTF-8; format=flowed\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Scanned-By: MIMEDefang 2.58 on 172.16.27.26\r\nX-eGroups-Msg-Info: 1:6:0:0:0\r\nFrom: Bill Burke &lt;bburke@...&gt;\r\nSubject: Re: [rest-discuss] CommandQuerySeparation and REST?\r\nX-Yahoo-Group-Post: member; u=371338898; y=f5McjyiC60DfeeGlSw1DhfVcKGxxgZH6TRtihu30RRgh4puVXKQT7Q\r\nX-Yahoo-Profile: patriot1burke\r\n\r\nAnother thing:\n\nWhy can&#39;t the &quot;command&quot; be its own data format?  Consider a=\r\n Bank \nAccount.  When somebody goes to an ATM and withdraws money, they are=\r\nn&#39;t \ninteracting with the account directly.  Instead they are creating debi=\r\nt \nor credit transactions and posting this data to the underlying system to=\r\n \nbe processed.\n\nSo your URI might be:\n\n/resource/{id}\n\nand you post state =\r\nchanges with:\n\n/resource/{id}/commands\n\nwhere commands is some application/=\r\nvnd.command+json or something like \nthat.  That kind of structure gives you=\r\n a lot of flexibility as you can \nhave URIs that point directly to the comm=\r\nand executed.  YOu can view \nqueued commands.  View histories, stuff like t=\r\nhat.\n\nBill Burke wrote:\n&gt; \n&gt; \n&gt; Rickard =C3=96berg wrote:\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; Beren=\r\nd de Boer wrote:\n&gt;&gt;  &gt; Clients hold the state, that&#39;s correct. Obviously yo=\r\nu can store \n&gt;&gt; state on\n&gt;&gt;  &gt; the server on behalf of the client, but the =\r\ninteraction with the \n&gt;&gt; server\n&gt;&gt;  &gt; is determined by the client which mus=\r\nt know what it is doing.\n&gt;&gt;  &gt;\n&gt;&gt;  &gt; It&#39;s the server&#39;s duty to reject inval=\r\nid commands down from invalid\n&gt;&gt;  &gt; verbs to invalid queries, state changes=\r\n, etc.\n&gt;&gt;\n&gt;&gt; But if the logic is in the client, then how could the server k=\r\nnow if a\n&gt;&gt; state change is good or not? The server wouldn&#39;t know how the c=\r\nlient\n&gt;&gt; came to its conclusion about the suggested new state, and so canno=\r\nt\n&gt;&gt; enforce validaton rules about the new state.\n&gt;&gt;\n&gt;&gt;  &gt; So I don&#39;t see t=\r\nhat &quot;maintenance and security&quot; problem. You always \n&gt;&gt; have\n&gt;&gt;  &gt; to valida=\r\nte external input, the web is no different.\n&gt;&gt;\n&gt;&gt; The maintenance issue is =\r\nthat if I put all logic in the client I *have*\n&gt;&gt; to ensure that all client=\r\ns are up-to-date, or else I will have clients\n&gt;&gt; with different versions ac=\r\ncessing the same server, creating all sorts of\n&gt;&gt; inconsistent state. With =\r\nthe security I will have trouble knowing\n&gt;&gt; whether the client sends state =\r\nchanges that are ok from a security\n&gt;&gt; perspective as I don&#39;t know *how* th=\r\ney arrived at their state changes,\n&gt;&gt; and I will also have to send more dat=\r\na to the client than I want,\n&gt;&gt; because the logic is done on the client (if=\r\n it was on the server then\n&gt;&gt; the client would only need the minimal data n=\r\needed to create the\n&gt;&gt; command, which is easier to secure).\n&gt;&gt;\n&gt; \n&gt; Doesn&#39;t=\r\n HATEOAS solve this problem to some degree?  From a versioning \n&gt; perspecti=\r\nve you can use conneg and versioned media types to know what \n&gt; types of cl=\r\nients are sending you data and what version of the format \n&gt; they are sendi=\r\nng.\n&gt; \n&gt;  From a security perspective, since the Server inserts the travers=\r\nable \n&gt; states, it is controlling what can be executed next.  Craig mention=\r\ned \n&gt; this as a key advantage to HATEOAS in the &quot;WHy HATEOAS&quot; thread a coup=\r\nle \n&gt; of weeks ago.\n&gt; \n\n-- \nBill Burke\nJBoss, a division of Red Hat\nhttp://=\r\nbill.burkecentral.com\n\n\n"}}
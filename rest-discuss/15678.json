{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":266460716,"authorName":"Eric J. Bowman","from":"&quot;Eric J. Bowman&quot; &lt;eric@...&gt;","replyTo":"SENDER","senderId":"kVTWawlsdFxAibIHJSdiIZg_ld7XIdzoNTTaDaMlSYNBpvNvQeSt8SZ7sDGpCQdMOUlZbjq24-d1bD0PUZstAqPd5h5qpVXtzif9rDzbWA","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [rest-discuss] Determining which Media type for post/put","postDate":"1276560316","msgId":15678,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDIwMTAwNjE0MTgwNTE2LjhjYTNiYzA1LmVyaWNAYmlzb25zeXN0ZW1zLm5ldD4=","inReplyToHeader":"PEYxOTYyNjQ2RDNCNjQ2NDJCN0M5QTA2MDY4RUUxRTY0MEQ2RUNENDVAZXgxMC5ob3N0ZWRleGNoYW5nZS5sb2NhbD4=","referencesHeader":"PEFBTkxrVGlsazJZWnJnY2U5M3dYcDlFSjRHZnBpckxlUVZ2bUowSnhjeFBZSEBtYWlsLmdtYWlsLmNvbT4JPEFBTkxrVGluU0plTndlckZZMTl4V1VYRFNDY0N5cG5Tdmt6WTc2LUdnVGFlNkBtYWlsLmdtYWlsLmNvbT4JPDIwMTAwNjA4MTAwMzIzLmFhNmVmOTllLmVyaWNAYmlzb25zeXN0ZW1zLm5ldD4JPEFBTkxrVGluVjh5eE4tUjRBRldBdk5hTHFwZWItdWY3Y08wV0ZtWDdEcGFSWEBtYWlsLmdtYWlsLmNvbT4JPDIwMTAwNjA5MTgwMDA1LjhhOGRhNzBiLmVyaWNAYmlzb25zeXN0ZW1zLm5ldD4JPEFBTkxrVGluVDRJdjUzRWhyaFBMR0dZYUxlMVFmaHBHVjFQTTE1NmNYQ0toWkBtYWlsLmdtYWlsLmNvbT4JPDIwMTAwNjExMDgxNDE4LjZkZGE0N2E5LmVyaWNAYmlzb25zeXN0ZW1zLm5ldD4JPEFBTkxrVGltRHFhWHVIUE52eS1RVUZaa0ZNYUhwU2NnSkNHLXNQcUtxRndzdUBtYWlsLmdtYWlsLmNvbT4JPDIwMTAwNjExMjMzMjU4LmUxYjdlNWY3LmVyaWNAYmlzb25zeXN0ZW1zLm5ldD4JPEFBTkxrVGltelViTmdyQnVuTXhHTGlLMGZvZDFSVlhxOGtXZTFkOC1LSEs2YkBtYWlsLmdtYWlsLmNvbT4JPDIwMTAwNjEyMTAzMjU1LjgwYzE1YThiLmVyaWNAYmlzb25zeXN0ZW1zLm5ldD4JPEFBTkxrVGluWUtUbk5oZmVTMl9UX1BJRklqV0p5SEtuUmJDWnFFTnM1MUhWV0BtYWlsLmdtYWlsLmNvbT4JPDIwMTAwNjE0MTAwNjU5LmVjNmU0OGU1LmVyaWNAYmlzb25zeXN0ZW1zLiBuZXQ+CTxGMTk2MjY0NkQzQjY0NjQyQjdDOUEwNjA2OEVFMUU2NDBENkVDQjc2QGV4MTAuaG9zdGVkZXhjaGFuZ2UubG9jYWw+CTwyMDEwMDYxNDE0MzAyNy40YTVlY2U5YS5lcmljQGJpc29ucyB5c3RlbXMubglldD4JPEYxOTYyNjQ2RDNCNjQ2NDJCN0M5QTA2MDY4RUUxRTY0MEQ2RUNENDVAZXgxMC5ob3N0ZWRleGNoYW5nZS5sb2NhbD4="},"prevInTopic":15674,"nextInTopic":15683,"prevInTime":15677,"nextInTime":15679,"topicId":15466,"numMessagesInTopic":82,"msgSnippet":"... I didn t realize this thread had anything to do with the Vary header. Sending Content-Location certainly isn t a substitute for Vary, nobody has advocated","rawEmail":"Return-Path: &lt;eric@...&gt;\r\nX-Sender: eric@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 45021 invoked from network); 15 Jun 2010 00:05:54 -0000\r\nX-Received: from unknown (66.196.94.105)\n  by m13.grp.re1.yahoo.com with QMQP; 15 Jun 2010 00:05:54 -0000\r\nX-Received: from unknown (HELO mxout-08.mxes.net) (216.86.168.183)\n  by mta1.grp.re1.yahoo.com with SMTP; 15 Jun 2010 00:05:54 -0000\r\nX-Received: from bigbison (unknown [65.117.211.162])\n\t(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))\n\t(No client certificate requested)\n\tby smtp.mxes.net (Postfix) with ESMTPSA id 21A88509DC;\n\tMon, 14 Jun 2010 20:05:46 -0400 (EDT)\r\nDate: Mon, 14 Jun 2010 18:05:16 -0600\r\nTo: &quot;Robert Brewer&quot; &lt;fumanchu@...&gt;\r\nCc: &quot;Peter Williams&quot; &lt;pezra@...&gt;,\n &lt;rest-discuss@yahoogroups.com&gt;\r\nMessage-Id: &lt;20100614180516.8ca3bc05.eric@...&gt;\r\nIn-Reply-To: &lt;F1962646D3B64642B7C9A06068EE1E640D6ECD45@...&gt;\r\nReferences: &lt;AANLkTilk2YZrgce93wXp9EJ4GfpirLeQVvmJ0JxcxPYH@...&gt;\n\t&lt;AANLkTinSJeNwerFY19xWUXDSCcCypnSvkzY76-GgTae6@...&gt;\n\t&lt;20100608100323.aa6ef99e.eric@...&gt;\n\t&lt;AANLkTinV8yxN-R4AFWAvNaLqpeb-uf7cO0WFmX7DpaRX@...&gt;\n\t&lt;20100609180005.8a8da70b.eric@...&gt;\n\t&lt;AANLkTinT4Iv53EhrhPLGGYaLe1QfhpGV1PM156cXCKhZ@...&gt;\n\t&lt;20100611081418.6dda47a9.eric@...&gt;\n\t&lt;AANLkTimDqaXuHPNvy-QUFZkFMaHpScgJCG-sPqKqFwsu@...&gt;\n\t&lt;20100611233258.e1b7e5f7.eric@...&gt;\n\t&lt;AANLkTimzUbNgrBunMxGLiK0fod1RVXq8kWe1d8-KHK6b@...&gt;\n\t&lt;20100612103255.80c15a8b.eric@...&gt;\n\t&lt;AANLkTinYKTnNhfeS2_T_PIFIjWJyHKnRbCZqENs51HVW@...&gt;\n\t&lt;20100614100659.ec6e48e5.eric@bisonsystems. net&gt;\n\t&lt;F1962646D3B64642B7C9A06068EE1E640D6ECB76@...&gt;\n\t&lt;20100614143027.4a5ece9a.eric@bisons\n ystems.n\n\tet&gt;\n\t&lt;F1962646D3B64642B7C9A06068EE1E640D6ECD45@...&gt;\r\nOrganization: Bison Systems Corporation\r\nX-Mailer: Sylpheed 3.0.0 (GTK+ 2.10.14; i686-pc-mingw32)\r\nMime-Version: 1.0\r\nContent-Type: text/plain; charset=US-ASCII\r\nContent-Transfer-Encoding: 7bit\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: &quot;Eric J. Bowman&quot; &lt;eric@...&gt;\r\nSubject: Re: [rest-discuss] Determining which Media type for post/put\r\nX-Yahoo-Group-Post: member; u=266460716\r\n\r\n&quot;Robert Brewer&quot; wrote:\n&gt; \n&gt; Er, I didn&#39;t say that. Assigning URI&#39;s to variants is not a mismatch.\n&gt; It can be quite useful. So can the specified use of Vary.\n&gt; \n\nI didn&#39;t realize this thread had anything to do with the Vary header.\nSending Content-Location certainly isn&#39;t a substitute for Vary, nobody\nhas advocated not using Vary to identify negotiated resources.  But\nVary is still not a caching header.  It does only what RFC 2616 says it\ndoes, distinguishes negotiated resources from non-negotiated resources.\n\n&gt;\n&gt; Cache implementations (whether in-browser or not) which do not\n&gt; implement the &quot;MUST NOT...unless&quot; [1] that Peter pointed out in\n&gt; relation to the Vary header are in violation of the HTTP spec and\n&gt; should be fixed.\n&gt; \n\nThat isn&#39;t the situation we&#39;re discussing.  We&#39;re discussing how the\ncache knows what variant to send when the headers *do* match.  Put\nsimply, how do we inform the cache which header combinations yield the\nsame variant?  Multiple combinations of selecting headers MAY yield the\nsame variant, but only if the Content-Location returned for each\nrequest is the same (and the response passes a validation check).\n\n&gt; \n&gt; But that&#39;s not the only way that conneg works\n&gt; properly.\n&gt;\n\nIt&#39;s the only way it works properly except for compression.  Any non-\ncompression scenario will do:  Accept, User-Agent, doesn&#39;t matter.\n\nIs there some real-world example where this does not hold true?\n\n&gt;\n&gt; with Vary, and B) it assumed the public Web, which currently suffers\n&gt; from some non-compliant cache implementations.\n&gt;\n\nNon-compliant implementations abound.  REST is all about leveraging\nwhat *does* work on the real-world Web.  Like Content-Location, which\nis more compatible with more caches than anything else.  So if you want\nmaximum interoperability of your conneg caching scheme, you use Content-\nLocation.  REST is all about that maximum interoperability, i.e. the\nsweet spot where the majority of implementations agree (because they&#39;re\nfollowing spec).\n\n&gt;\n&gt; You therefore seemed\n&gt; to imply that proper use of the Vary header according to the HTTP\n&gt; spec always violates REST.\n&gt;\n\nNo, all I&#39;ve said about Vary is that it isn&#39;t a caching header.  Its\nsole purpose is to indicate negotiated resources, not how to cache them.\nWithout sending Vary, the server is violating the self-descriptive\nmessaging constraint.  Vary, without Content-Location, is useless for\ncaching, unless we&#39;re talking about compression.\n\n&gt; \n&gt; Variants are resources. But the choice of whether to give them URI&#39;s\n&gt; or rely on Vary appears to have much more to do with environment and\n&gt; implementation than constraints of the REST style. Let&#39;s use each\n&gt; where appropriate.\n&gt; \n\nWhere following RFC 2616 implements a REST constraint, it needs to be\nfollowed.  But, this is not a protocol concern.  I can&#39;t imagine making\nany conneg implementation in any protocol work, without some means of\ndistinguishing one variant from another.  Given any protocol that uses\nURIs to identify negotiated resources, it only makes sense for the\nvariants to have URIs, this has everything to do with REST and nothing\nto do with HTTP.\n\nThe only means of achieving this constraint in HTTP 1.1 is Content-\nLocation.  The assertion that variants need URIs is therefore protocol-\nindependent -- Content-Location is the implementation of the constraint.\n\nYou can&#39;t implement REST&#39;s identification of resources constraint in\nHTTP 1.1, except by using Content-Location.  So in HTTP 1.1, if you\naren&#39;t using Content-Location, then you haven&#39;t assigned URIs to\nvariants, which violates the identification of resources constraint.\n\nSo I don&#39;t understand anyone&#39;s points about not recognizing the obvious\ncorrelation between Content-Location in non-compression conneg, and the\nidentification of resources constraint.  In HTTP 1.1 they&#39;re one and\nthe same.\n\nI don&#39;t understand what you mean by &quot;rely on Vary&quot; as Vary is not a\ncaching header, and except for compression (or unspecified cache\nbehavior, but following that is hardly RESTful), I&#39;ve never seen conneg\nwork without Content-Location.\n\n-Eric\n\n"}}
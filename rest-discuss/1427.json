{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":70905393,"authorName":"Simon Fell","from":"Simon Fell &lt;sf@...&gt;","profile":"simonfell99","replyTo":"SENDER","senderId":"lWNHCpMqzt9A9fyi2iwX6ptjvEUheuc2z4_0wTlilOUfpsBcZdlHvB702i6boCa1PwrUcaSKjmnDccYxkIwhHPx1WBp7Pn8","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re[6]: [rest-discuss] HTTP caching questions ?","postDate":"1023426075","msgId":1427,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDEyMTU4NTE2NTYuMjAwMjA2MDYyMjAxMTVAemFrcy5kZW1vbi5jby51az4=","inReplyToHeader":"PDAzZGIwMWMyMGRkZSRiODI3OWRhMCRlYzAxMjAwYUBNTk9UTEFQVE9QPg==","referencesHeader":"PGFjM2N2NSs1azRhQGVHcm91cHMuY29tPiA8M0NFNkJFQUIuRkQ5QzYyMDJAcHJlc2NvZC5uZXQ+IDwxOTcxNjk3NDE3MS4yMDAyMDUxOTEzNTgzMEB6YWtzLmRlbW9uLmNvLnVrPiA8MDI1YzAxYzIwZDhmJDg5MmQ1ODkwJGVjMDEyMDBhQE1OT1RMQVBUT1A+IDwxNjY1NTY0Mzc1LjIwMDIwNjA2MTkwOTUxQHpha3MuZGVtb24uY28udWs+IDwwM2RiMDFjMjBkZGUkYjgyNzlkYTAkZWMwMTIwMGFATU5PVExBUFRPUD4="},"prevInTopic":1426,"nextInTopic":1428,"prevInTime":1426,"nextInTime":1428,"topicId":1262,"numMessagesInTopic":10,"msgSnippet":"The content is generated and written to a static file as part of a separate process that happens before the HTTP requests start to occur. The resulting static","rawEmail":"Return-Path: &lt;sf@...&gt;\r\nX-Sender: sf@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nReceived: (EGP: mail-8_0_3_2); 7 Jun 2002 05:00:08 -0000\r\nReceived: (qmail 62013 invoked from network); 7 Jun 2002 05:00:07 -0000\r\nReceived: from unknown (66.218.66.216)\n  by m9.grp.scd.yahoo.com with QMQP; 7 Jun 2002 05:00:07 -0000\r\nReceived: from unknown (HELO zaks.demon.co.uk) (67.113.138.114)\n  by mta1.grp.scd.yahoo.com with SMTP; 7 Jun 2002 05:00:07 -0000\r\nReceived: from underworld.simonathome.com ([192.168.1.60]) by zaks.demon.co.uk\n          with SMTP (Mailtraq/1.1.5.1167) id ZKS79342A0FF8;\n          Thu, 06 Jun 2002 22:01:15 -0700\r\nDate: Thu, 6 Jun 2002 22:01:15 -0700\r\nX-Mailer: The Bat! (v1.52f) Personal\r\nX-Priority: 3 (Normal)\r\nMessage-ID: &lt;1215851656.20020606220115@...&gt;\r\nTo: &quot;Mark Nottingham&quot; &lt;mnot@...&gt;\r\nCc: rest-discuss@yahoogroups.com\r\nSubject: Re[6]: [rest-discuss] HTTP caching questions ?\r\nIn-Reply-To: &lt;03db01c20dde$b8279da0$ec01200a@MNOTLAPTOP&gt;\r\nReferences: &lt;ac3cv5+5k4a@...&gt; &lt;3CE6BEAB.FD9C6202@...&gt;\n &lt;19716974171.20020519135830@...&gt;\n &lt;025c01c20d8f$892d5890$ec01200a@MNOTLAPTOP&gt;\n &lt;1665564375.20020606190951@...&gt;\n &lt;03db01c20dde$b8279da0$ec01200a@MNOTLAPTOP&gt;\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=us-ascii\r\nContent-Transfer-Encoding: 7bit\r\nX-Hops: 1\r\nFrom: Simon Fell &lt;sf@...&gt;\r\nReply-To: Simon Fell &lt;sf@...&gt;\r\nX-Yahoo-Group-Post: member; u=70905393\r\nX-Yahoo-Profile: simonfell99\r\n\r\nThe content is generated and written to a static file as part of a\nseparate process that happens before the HTTP requests start to occur.\nThe resulting static files are cachable.\n\nAt some future date the plan it to ditch the separate process, and\nhave the content generated dynamically in the HTTP server itself\n[probably using servlets], the results of this are still cachable. I\nassume in this case I&#39;ll have to handle etag validation myself in the\nservlet.\n\nCheers,\nSimon                            \n\nThursday, June 06, 2002, 9:49:34 PM, you wrote:\n\n&gt; Do you mean that the content is generated and written to static files, or\n&gt; that it&#39;s served by a process that runs in response to requests (e.g.,\n&gt; CGI, PHP, etc.), but that the results are generally cacheable?\n\n\n&gt; ----- Original Message -----\n&gt; From: &quot;Simon Fell&quot; &lt;sf@...&gt;\n&gt; To: &quot;Mark Nottingham&quot; &lt;mnot@...&gt;\n&gt; Cc: &lt;rest-discuss@yahoogroups.com&gt;\n&gt; Sent: Thursday, June 06, 2002 7:09 PM\n&gt; Subject: Re[4]: [rest-discuss] HTTP caching questions ?\n\n\n&gt;&gt; Thanks Mark,\n&gt;&gt;\n&gt;&gt; I&#39;m using Apache, I found the info about the directives that control\n&gt;&gt; the etag generation, and am in the process of getting some servers\n&gt;&gt; updated so i can test this out.\n&gt;&gt;\n&gt;&gt; I was hoping to find a solution that wasn&#39;t reliant on specific\n&gt;&gt; behavior in the web server, but couldn&#39;t come up with anything.\n&gt;&gt;\n&gt;&gt; The content is generated, but due to the way the generation process\n&gt;&gt; works, its static files as far as the web server is concerned.\n&gt;&gt;\n&gt;&gt; Cheers,\n&gt;&gt; Simon\n&gt;&gt;\n&gt;&gt; Thursday, June 06, 2002, 12:22:36 PM, you wrote:\n&gt;&gt;\n&gt;&gt; &gt; /me catches up on this list\n&gt;&gt;\n&gt;&gt; &gt; What Web server are you using? Is the content generated, or just on\n&gt; disk?\n&gt;&gt;\n&gt;&gt; &gt; This problem (load balancing vs. ETag generation) was recognized a\n&gt; while\n&gt;&gt; &gt; back, and I know that Apache has recently put a fix in (but IIRC you\n&gt; have\n&gt;&gt; &gt; to explicitly configure the behaviour). Depending on your situation,\n&gt; there\n&gt;&gt; &gt; are a number of ways to approach the problem.\n&gt;&gt;\n&gt;&gt; &gt; Cheers,\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; &gt; ----- Original Message -----\n&gt;&gt; &gt; From: &quot;Simon Fell&quot; &lt;sf@...&gt;\n&gt;&gt; &gt; To: &lt;rest-discuss@yahoogroups.com&gt;\n&gt;&gt; &gt; Sent: Sunday, May 19, 2002 1:58 PM\n&gt;&gt; &gt; Subject: Re[2]: [rest-discuss] HTTP caching questions ?\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; &gt;&gt; ok, here goes.\n&gt;&gt; &gt;&gt;\n&gt;&gt; &gt;&gt; Basically i need to support efficient checks that content is upto\n&gt;&gt; &gt;&gt; date, and to also support resumable downloads [some of the content is\n&gt;&gt; &gt; large\n&gt;&gt; &gt;&gt; binary files accessed via a potentially un-reliable low bandwidth\n&gt;&gt; &gt;&gt; connection]. This content is potentially served by a set of web\n&gt; servers\n&gt;&gt; &gt;&gt; running behind a HTTP load balancer.\n&gt;&gt; &gt;&gt;\n&gt;&gt; &gt;&gt; For a single server scenario, this seems pretty straightforward, At\n&gt;&gt; &gt;&gt; the client cache I track expected size [from the content-length\n&gt;&gt; &gt;&gt; header], Etag and last-modified. for subsequent requests I populate a\n&gt;&gt; &gt;&gt; If-None-Match header from the etag, a Range & Range-If header if the\n&gt;&gt; &gt;&gt; expected size is not the same as the cached file size, and i send a\n&gt;&gt; &gt;&gt; If-Modified-Since header if i don&#39;t have a Range header [my reading\n&gt; of\n&gt;&gt; &gt;&gt; the use of Range & Range-If lead me to believe to not use\n&gt;&gt; &gt;&gt; If-Modified-Since if i&#39;m using ranges].\n&gt;&gt; &gt;&gt;\n&gt;&gt; &gt;&gt; My concern is when i have 2 or more web servers, all running behind a\n&gt;&gt; &gt;&gt; load balancer [local director etc], that each server will be\n&gt; assigning\n&gt;&gt; &gt;&gt; different etags to the same content (i don&#39;t see anything in the spec\n&gt;&gt; &gt;&gt; that lets me assume different server instances will generate the same\n&gt;&gt; &gt;&gt; etag for the same content, even for the same versions of HTTP server\n&gt;&gt; &gt;&gt; software). This is leading me to think about not using etags, and to\n&gt;&gt; &gt;&gt; just use the modified date, but then it doesn&#39;t look like you can do\n&gt;&gt; &gt;&gt; ranges with modified dates. Its also crossed my mind to use\n&gt;&gt; &gt;&gt; content-md5, but this doesn&#39;t seem very widely support [if at all].\n&gt;&gt; &gt;&gt;\n&gt;&gt; &gt;&gt; Any suggestions ?\n&gt;&gt; &gt;&gt;\n&gt;&gt; &gt;&gt; Thanks\n&gt;&gt; &gt;&gt; Simon\n&gt;&gt; &gt;&gt;\n&gt;&gt; &gt;&gt; Saturday, May 18, 2002, 1:50:51 PM, you wrote:\n&gt;&gt; &gt;&gt;\n&gt;&gt; &gt;&gt; &gt; I think it would be great if you asked the questions here. I am not\n&gt;&gt; &gt;&gt; &gt; &quot;deep&quot; in HTTP cacheing but I know that Mark Nottingham is and I\n&gt;&gt; &gt; suspect\n&gt;&gt; &gt;&gt; &gt; Mark Baker knows quite a bit also. This list seems to be the last\n&gt;&gt; &gt; refuge\n&gt;&gt; &gt;&gt; &gt; of people who don&#39;t think of HTTP as a dinosaur ;).\n&gt;&gt; &gt;&gt;\n&gt;&gt; &gt;&gt; &gt; simonfell99 wrote:\n&gt;&gt; &gt;&gt; &gt;&gt;\n&gt;&gt; &gt;&gt; &gt;&gt; Hi,\n&gt;&gt; &gt;&gt; &gt;&gt;\n&gt;&gt; &gt;&gt; &gt;&gt; I&#39;m in the process of prototyping a REST version of an existing\n&gt; RPC\n&gt;&gt; &gt;&gt; &gt;&gt; based system, a large chunk of this system revolves around\n&gt;&gt; &gt;&gt; &gt;&gt; efficiently managing updates to content at the client system. I&#39;m\n&gt;&gt; &gt;&gt; &gt;&gt; looking at using the HTTP/1.1 caching support (Etag, If-Modified-\n&gt;&gt; &gt;&gt; &gt;&gt; Since, If-None-Match and If-Range). I have some questions about\n&gt; how\n&gt;&gt; &gt;&gt; &gt;&gt; this works when deployed on a cluster of servers with a load\n&gt;&gt; &gt;&gt; &gt;&gt; balancer, is this a good place to ask, or can someone recommend a\n&gt;&gt; &gt;&gt; &gt;&gt; good list to discuss HTTP caching.\n&gt;&gt; &gt;&gt; &gt;&gt;\n&gt;&gt; &gt;&gt; &gt;&gt; Tx\n&gt;&gt; &gt;&gt; &gt;&gt; Simon\n&gt;&gt; &gt;&gt; &gt;&gt;\n&gt;&gt; &gt;&gt; &gt;&gt;\n&gt;&gt; &gt;&gt; &gt;&gt; To unsubscribe from this group, send an email to:\n&gt;&gt; &gt;&gt; &gt;&gt; rest-discuss-unsubscribe@yahoogroups.com\n&gt;&gt; &gt;&gt; &gt;&gt;\n&gt;&gt;\n\n\n"}}
{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":21819747,"authorName":"Tim Bray","from":"Tim Bray &lt;tbray@...&gt;","profile":"TimBray","replyTo":"SENDER","senderId":"XnAAyvAbGo-hxR5eCaXe7zQghhLxdY9bx9I9FtwWhfQCVhhnddpVV_YVDxW9RgKd8CrXgyeuhPJyybcncgZg3Inm-e6wwA","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [rest-discuss] RESTful Toggle","postDate":"1404933365","msgId":19684,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PENBSEJVNml1Q2RlbXNmNTFSNjltMjErc0haRUpEY3dfZFVCcHdKcDErTWVaLXJSaDJDQUBtYWlsLmdtYWlsLmNvbT4=","inReplyToHeader":"PENBQWdWemRqVktHUystVXE4THVLQlZqc0I1a1ZEVWpEdHlOeHZXZzdIUDN3MEZuWWg2UUBtYWlsLmdtYWlsLmNvbT4=","referencesHeader":"PENGRTFEQUM5LjM3NjQ4JVJvYmJ5LlNpbXBzb25AR0UuY29tPiA8Q0EreGhBUFdRNWlUSHZaLXlrQkRZR1RoUndOVFkwSlQ1RTJOOFdNaFhyWWl0eWZmc3NRQG1haWwuZ21haWwuY29tPiA8Q0ZFMkQ1MTUuMzc3MEYlUm9iYnkuU2ltcHNvbkBHRS5jb20+IDw1M0JENjI0Qy43MDQwMzA2QGJlcmtlbGV5LmVkdT4gPENGRTJEQUYwLjM3NzM1JVJvYmJ5LlNpbXBzb25AR0UuY29tPiA8NTNCRDZGNzUuODAzMDYwOEBiZXJrZWxleS5lZHU+IDxDQUEyaURpRERkZTNBWXMza1ZYUldLM0c4TVJjU1lTb1FNMEhmUitZenJ1TGZHak1iRlFAbWFpbC5nbWFpbC5jb20+IDxDQUFnVnpkalZLR1MrLVVxOEx1S0JWanNCNWtWRFVqRHR5Tnh2V2c3SFAzdzBGblloNlFAbWFpbC5nbWFpbC5jb20+"},"prevInTopic":19683,"nextInTopic":19685,"prevInTime":19683,"nextInTime":19685,"topicId":19657,"numMessagesInTopic":36,"msgSnippet":"How is that idempotent?  You absolutely can’t use PUT unless it’s idempotent. On Wed, Jul 9, 2014 at 12:09 PM, Dong Liu edongliu@gmail.com [rest-discuss] ","rawEmail":"Return-Path: &lt;tbray@...&gt;\r\nX-Sender: tbray@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 98702 invoked by uid 102); 9 Jul 2014 19:16:26 -0000\r\nX-Received: from unknown (HELO mtaq5.grp.bf1.yahoo.com) (10.193.84.36)\n  by m17.grp.bf1.yahoo.com with SMTP; 9 Jul 2014 19:16:26 -0000\r\nX-Received: (qmail 6756 invoked from network); 9 Jul 2014 19:16:26 -0000\r\nX-Received: from unknown (HELO mail-vc0-f173.google.com) (209.85.220.173)\n  by mtaq5.grp.bf1.yahoo.com with SMTP; 9 Jul 2014 19:16:26 -0000\r\nX-Received: by mail-vc0-f173.google.com with SMTP id lf12so7970259vcb.18\n        for &lt;rest-discuss@yahoogroups.com&gt;; Wed, 09 Jul 2014 12:16:26 -0700 (PDT)\r\nX-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;\n        d=1e100.net; s=20130820;\n        h=x-gm-message-state:mime-version:in-reply-to:references:from:date\n         :message-id:subject:to:cc:content-type;\n        bh=17EO0PN7WuK7gNvztEDNdaVQcTN84MPULdR7Zps4Bdg=;\n        b=Acusl4GkAT0/cjMaJrmsFl+ZvJd/RRVOEbh2uYqDXBVEwUkqFXVeBj4n+CQoDVsul4\n         Gu7Lz1Gc7ULqeuQzRSqCGqiALyjmiu9ZuCPqgbUbZBUDcHXVfP71by/kh122SIug222G\n         SyWg9hAGOi2OxSwvUTb26g5n3bkmLPLbSZoW14yH2tM5R+e3p40KqFW0SB7J4vQCX0JQ\n         yYUZ4oXDrkNGCbCbPI3srBBfJ+k4O322GIzT0WAf3P3gU86IlNcXSzMp3aSE2pfasUU7\n         JfGjvkcktjfN9EVkpOOmihguQJiGMQKJb2SMEM/OrUbOB23avY3sQrfmKclmaMYJF36+\n         P7Aw==\r\nX-Gm-Message-State: ALoCoQmy4iWa92pgCwIcRdPGcVQq3NfEHG0zk51adpDZYPNaUleVc/vTfbd2vGHEfMYRYq6U1Zb4\r\nX-Received: by 10.221.26.71 with SMTP id rl7mr560887vcb.69.1404933385542; Wed,\n 09 Jul 2014 12:16:25 -0700 (PDT)\r\nMIME-Version: 1.0\r\nX-Received: by 10.221.49.199 with HTTP; Wed, 9 Jul 2014 12:16:05 -0700 (PDT)\r\nIn-Reply-To: &lt;CAAgVzdjVKGS+-Uq8LuKBVjsB5kVDUjDtyNxvWg7HP3w0FnYh6Q@...&gt;\r\nReferences: &lt;CFE1DAC9.37648%Robby.Simpson@...&gt; &lt;CA+xhAPWQ5iTHvZ-ykBDYGThRwNTY0JT5E2N8WMhXrYityffssQ@...&gt;\n &lt;CFE2D515.3770F%Robby.Simpson@...&gt; &lt;53BD624C.7040306@...&gt;\n &lt;CFE2DAF0.37735%Robby.Simpson@...&gt; &lt;53BD6F75.8030608@...&gt;\n &lt;CAA2iDiDDde3AYs3kVXRWK3G8MRcSYSoQM0HfR+YzruLfGjMbFQ@...&gt; &lt;CAAgVzdjVKGS+-Uq8LuKBVjsB5kVDUjDtyNxvWg7HP3w0FnYh6Q@...&gt;\r\nDate: Wed, 9 Jul 2014 12:16:05 -0700\r\nMessage-ID: &lt;CAHBU6iuCdemsf51R69m21+sHZEJDcw_dUBpwJp1+MeZ-rRh2CA@...&gt;\r\nTo: Dong Liu &lt;edongliu@...&gt;\r\nCc: Will Hartung &lt;willh@...&gt;, Rest List &lt;rest-discuss@yahoogroups.com&gt;\r\nContent-Type: multipart/alternative; boundary=001a113393a260f37e04fdc78b00\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nSubject: Re: [rest-discuss] RESTful Toggle\r\nX-Yahoo-Group-Post: member; u=21819747; y=Owa1pRMTCwz96cdyx8IstbO0ssV7dVOCSzlWX2KKRw3RlQ\r\nX-Yahoo-Profile: TimBray\r\nFrom: Tim Bray &lt;tbray@...&gt;\r\n\r\n\r\n--001a113393a260f37e04fdc78b00\r\nContent-Type: text/plain; charset=UTF-8\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\nHow is that idempotent?  You absolutely can=E2=80=99t use PUT unless it=E2=\r\n=80=99s\nidempotent.\n\n\n\nOn Wed, Jul 9, 2014 at 12:09 PM, Dong Liu edongliu@g=\r\nmail.com [rest-discuss]\n&lt;rest-discuss-noreply@yahoogroups.com&gt; wrote:\n\n&gt;\n&gt;\n=\r\n&gt; For a three-way or N-way switch, I prefer a conditional PUT to a POST.\n&gt;\n=\r\n&gt; Cheers,\n&gt;\n&gt; Dong\n&gt;\n&gt;\n&gt; On Wed, Jul 9, 2014 at 2:45 PM, Will Hartung willh=\r\n@...\n&gt; [rest-discuss] &lt;rest-discuss-noreply@yahoogroups.com&gt; wrot=\r\ne:\n&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; From home automation point of view, I can only think of one u=\r\nse case\n&gt;&gt; where &quot;toggle&quot; actually has any validity, and that would be in t=\r\nhe &quot;3 way\n&gt;&gt; switch&quot; scenario.\n&gt;&gt;\n&gt;&gt; A 3 way switch is exemplified by walki=\r\nng up to a dark hallway, turning\n&gt;&gt; the light on with a nearby swtich, walk=\r\ning to the end, and then turning the\n&gt;&gt; light off with a switch at the othe=\r\nr end.\n&gt;&gt;\n&gt;&gt; This use case is a true &quot;toggle&quot;, since the &quot;state&quot; is the act=\r\nual light\n&gt;&gt; (on or off), and the switch itself does not represent that sta=\r\nte (unlike a\n&gt;&gt; normal, single switch). The switches can be &quot;up&quot; or &quot;down&quot; =\r\nunrelated to the\n&gt;&gt; light being &quot;on&quot; or &quot;off&quot;.\n&gt;&gt;\n&gt;&gt; Given that, again from=\r\n a home automation point of view, I can&#39;t really\n&gt;&gt; ever see &quot;toggle&quot; as a =\r\nviable action. Maybe it&#39;s a primitive. But, in the\n&gt;&gt; end, when you walk in=\r\n to that dark hallway, what you want is the light to\n&gt;&gt; go on, the mechanic=\r\ns of the switches are secondary.\n&gt;&gt;\n&gt;&gt; I just mention this because at a hig=\r\nh level, &quot;toggle&quot; doesn&#39;t make much\n&gt;&gt; sense to me. The automation folks ma=\r\ny well need it as a primitive to\n&gt;&gt; control a switch. But at the &quot;applicati=\r\non&quot; level, it doesn&#39;t make much\n&gt;&gt; sense. At an application level, you eith=\r\ner want the &quot;Light&quot; ON or OFF.\n&gt;&gt;\n&gt;&gt; So, with that consideration, a simple =\r\nPOST will do the trick.\n&gt;&gt;\n&gt;&gt; I don&#39;t think there&#39;s any &quot;race condition&quot;, b=\r\necause &quot;toggle&quot; is not a\n&gt;&gt; state, it&#39;s an action. If you care about the st=\r\nate, then set the state you\n&gt;&gt; want. You should hide the &quot;toggle&quot;, and enfo=\r\nrce the state behind the scenes\n&gt;&gt; (where you can manage race conditions on=\r\n the server). Let the server decide\n&gt;&gt; that when you change the state to ON=\r\n, it can determine, internally, if the\n&gt;&gt; device is OFF and then send a TOG=\r\nGLE command to make it ON. If it&#39;s already\n&gt;&gt; ON, then nothing happens.\n&gt;&gt;\n=\r\n&gt;&gt; But a &quot;toggle&quot; POST is just that, a simple command.\n&gt;&gt;\n&gt;&gt; Regards,\n&gt;&gt;\n&gt;&gt;=\r\n Will Hartung\n&gt;&gt; (willh@...)\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; On Wed, Jul 9, 2014 a=\r\nt 9:36 AM, Erik Wilde dret@...\n&gt;&gt; [rest-discuss] &lt;rest-discuss-nor=\r\neply@yahoogroups.com&gt; wrote:\n&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt; hello robby.\n&gt;&gt;&gt;\n&gt;&gt;&gt; On 2014-07=\r\n-09, 17:47 , &#39;Simpson, Robby (GE Energy Management)&#39;\n&gt;&gt;&gt; robby.simpson@ge.c=\r\nom [rest-discuss] wrote:\n&gt;&gt;&gt; &gt;&gt; it sounds like the scenario we were talking=\r\n about, that all you want\n&gt;&gt;&gt; is\n&gt;&gt;&gt; &gt;&gt; to tell the resource to &quot;reverse it=\r\ns state&quot;. in this case, i&#39;d POST a\n&gt;&gt;&gt; &gt;&gt; body that represents this request=\r\n, in whatever serialization you\n&gt;&gt;&gt; happen\n&gt;&gt;&gt; &gt;&gt; to prefer. the resource t=\r\noggles. everybody&#39;s happy.\n&gt;&gt;&gt; &gt; OK. Still seems like a bit of a departure =\r\nfrom typical RESTful\n&gt;&gt;&gt; interfaces\n&gt;&gt;&gt; &gt; I&#39;ve seen and has the potential t=\r\no be a catch-all tunnel for RPC-style\n&gt;&gt;&gt; &gt; requests.\n&gt;&gt;&gt; &gt; E.g.:\n&gt;&gt;&gt; &gt; /co=\r\nmmand, where one could POST all sorts of commands like &quot;toggle.&quot;\n&gt;&gt;&gt;\n&gt;&gt;&gt; th=\r\ne problem is not that POST can mean anything (it can), but people\n&gt;&gt;&gt; POSTi=\r\nng things to a &quot;do stuff&quot; resource, which then isn&#39;t\n&gt;&gt;&gt; resource-oriented =\r\nanymore. your RPC sensor shouldn&#39;t go off because of\n&gt;&gt;&gt; people POSTing thi=\r\nngs to resources (that&#39;s fine), but because of people\n&gt;&gt;&gt; POSTing things to=\r\n something other than resources (the &quot;API end point&quot;,\n&gt;&gt;&gt; for example).\n&gt;&gt;&gt;=\r\n\n&gt;&gt;&gt;\n&gt;&gt;&gt; &gt;&gt; but i am confused because you wrote earlier that you were conce=\r\nrned\n&gt;&gt;&gt; &gt;&gt; about race conditions. which seems to imply that instead of jus=\r\nt\n&gt;&gt;&gt; &gt;&gt; toggling, you&#39;re also assuming that you&#39;re &quot;toggling *from* some\n&gt;=\r\n&gt;&gt; state&quot;.\n&gt;&gt;&gt; &gt;&gt; but that wouldn&#39;t be the &quot;blind toggle&quot; we discussed. cou=\r\nld you\n&gt;&gt;&gt; clarify\n&gt;&gt;&gt; &gt;&gt; a bit how exactly the operation that you&#39;re tryin=\r\ng to design is\n&gt;&gt;&gt; defined?\n&gt;&gt;&gt; &gt; Apologies, a blind toggle is what is desi=\r\nred. As it currently works, in\n&gt;&gt;&gt; &gt; the current binary protocol, a button =\r\npress on a toggle switch simply\n&gt;&gt;&gt; &gt; sends a &quot;toggle&quot; command.\n&gt;&gt;&gt;\n&gt;&gt;&gt; the=\r\nn how would a race condition enter the picture? just because of the\n&gt;&gt;&gt; tim=\r\nestamp when you last observed the resource&#39;s state? or something\n&gt;&gt;&gt; else? =\r\nto me, toggling always is kind of a game: if somebody toggled\n&gt;&gt;&gt; ahead of =\r\nyou, you&#39;ll do something other than you wanted to, but that&#39;s\n&gt;&gt;&gt; how it is=\r\n and you&#39;ll have to deal with it after toggling and finding out\n&gt;&gt;&gt; that yo=\r\nu switched the damn thing back on again...\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt; cheers,\n&gt;&gt;&gt;\n&gt;&gt;&gt; dret=\r\n.\n&gt;&gt;&gt;\n&gt;&gt;&gt; --\n&gt;&gt;&gt; erik wilde | mailto:dret@... - tel:+1-510-2061079=\r\n |\n&gt;&gt;&gt; | UC Berkeley - School of Information (ISchool) |\n&gt;&gt;&gt; | http://dret.=\r\nnet/netdret http://twitter.com/dret |\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;\n&gt;&gt; CONFIDENTIALITY NOTICE:=\r\n The information contained in this electronic\n&gt;&gt; transmission may be confid=\r\nential. If you are not an intended recipient, be\n&gt;&gt; aware that any disclosu=\r\nre, copying, distribution or use of the information\n&gt;&gt; contained in this tr=\r\nansmission is prohibited and may be unlawful. If you\n&gt;&gt; have received this =\r\ntransmission in error, please notify us by email reply\n&gt;&gt; and then erase it=\r\n from your computer system.\n&gt;&gt;\n&gt;&gt;\n&gt;\n&gt;\n&gt; \n&gt;\n\n\n\n-- \n- Tim Bray (If you=E2=80=\r\n=99d like to send me a private message, see\nhttps://keybase.io/timbray)\n\r\n--001a113393a260f37e04fdc78b00\r\nContent-Type: text/html; charset=UTF-8\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\n&lt;div dir=3D&quot;ltr&quot;&gt;&lt;div class=3D&quot;gmail_default&quot; style=3D&quot;font-size:small&quot;&gt;How=\r\n is that idempotent? =C2=A0You absolutely can=E2=80=99t use PUT unless it=\r\n=E2=80=99s idempotent.&lt;/div&gt;&lt;div class=3D&quot;gmail_default&quot; style=3D&quot;font-size=\r\n:small&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=3D&quot;gmail_extra&quot;&gt;\n\n&lt;br&gt;&lt;br&gt;&lt;div class=3D&quot;=\r\ngmail_quote&quot;&gt;On Wed, Jul 9, 2014 at 12:09 PM, Dong Liu &lt;a href=3D&quot;mailto:ed=\r\nongliu@...&quot;&gt;edongliu@...&lt;/a&gt; [rest-discuss] &lt;span dir=3D&quot;ltr&quot;&gt;&=\r\nlt;&lt;a href=3D&quot;mailto:rest-discuss-noreply@yahoogroups.com&quot; target=3D&quot;_blank=\r\n&quot;&gt;rest-discuss-noreply@yahoogroups.com&lt;/a&gt;&gt;&lt;/span&gt; wrote:&lt;br&gt;\n\n&lt;blockquo=\r\nte class=3D&quot;gmail_quote&quot; style=3D&quot;margin:0 0 0 .8ex;border-left:1px #ccc so=\r\nlid;padding-left:1ex&quot;&gt;\n\n\n\n\n\n\n        \n\n\n\n\n&lt;div&gt;\n\n\n\n\n\n&lt;br&gt;&lt;br&gt;\n\n\n\n\n&lt;div dir=\r\n=3D&quot;ltr&quot;&gt;For a three-way or N-way switch, I prefer a conditional PUT to a P=\r\nOST.=C2=A0&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Cheers,&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Dong&lt;/div&gt;&lt;/=\r\ndiv&gt;&lt;div class=3D&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;div class=3D&quot;gmail_quote&quot;&gt;On Wed, J=\r\nul 9, 2014 at 2:45 PM, Will Hartung &lt;a href=3D&quot;mailto:willh@...&quot; =\r\ntarget=3D&quot;_blank&quot;&gt;willh@...&lt;/a&gt; [rest-discuss] &lt;span dir=3D&quot;ltr&quot;&gt;=\r\n&lt;&lt;a href=3D&quot;mailto:rest-discuss-noreply@yahoogroups.com&quot; target=3D&quot;_blan=\r\nk&quot;&gt;rest-discuss-noreply@yahoogroups.com&lt;/a&gt;&gt;&lt;/span&gt; wrote:&lt;br&gt;\n\n\n&lt;blockq=\r\nuote class=3D&quot;gmail_quote&quot; style=3D&quot;margin:0 0 0 .8ex;border-left:1px #ccc =\r\nsolid;padding-left:1ex&quot;&gt;\n\n\n&lt;u&gt;&lt;/u&gt;\n\n\n\n\n\n\n\n\n\n \n&lt;div style=3D&quot;background-colo=\r\nr:#fff&quot;&gt;\n&lt;span&gt;=C2=A0&lt;/span&gt;\n\n\n&lt;div&gt;\n  &lt;div&gt;\n\n\n    &lt;div&gt;\n      \n      \n    =\r\n  &lt;p&gt;&lt;/p&gt;&lt;div dir=3D&quot;ltr&quot;&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;From home auto=\r\nmation point of view, I can only think of one use case where &quot;toggle&q=\r\nuot; actually has any validity, and that would be in the &quot;3 way switch=\r\n&quot; scenario.&lt;br&gt;\n\n\n\n&lt;br&gt;&lt;/div&gt;\nA 3 way switch is exemplified by walking=\r\n up to a dark hallway, turning the light on with a nearby swtich, walking t=\r\no the end, and then turning the light off with a switch at the other end.&lt;b=\r\nr&gt;&lt;br&gt;&lt;/div&gt;This use case is a true &quot;toggle&quot;, since the &quot;sta=\r\nte&quot; is the actual light (on or off), and the switch itself does not re=\r\npresent that state (unlike a normal, single switch). The switches can be &q=\r\nuot;up&quot; or &quot;down&quot; unrelated to the light being &quot;on&quot=\r\n; or &quot;off&quot;.&lt;br&gt;\n\n\n\n\n&lt;br&gt;&lt;/div&gt;Given that, again from a home autom=\r\nation point of view, I can&#39;t really ever see &quot;toggle&quot; as a vi=\r\nable action. Maybe it&#39;s a primitive. But, in the end, when you walk in =\r\nto that dark hallway, what you want is the light to go on, the mechanics of=\r\n the switches are secondary.&lt;br&gt;\n\n\n\n\n&lt;br&gt;&lt;/div&gt;I just mention this because =\r\nat a high level, &quot;toggle&quot; doesn&#39;t make much sense to me. The =\r\nautomation folks may well need it as a primitive to control a switch. But a=\r\nt the &quot;application&quot; level, it doesn&#39;t make much sense. At an =\r\napplication level, you either want the &quot;Light&quot; ON or OFF.&lt;br&gt;\n\n\n\n=\r\n&lt;br&gt;&lt;/div&gt;So, with that consideration, a simple POST will do the trick.&lt;br&gt;=\r\n&lt;br&gt;&lt;/div&gt;I don&#39;t think there&#39;s any &quot;race condition&quot;, bec=\r\nause &quot;toggle&quot; is not a state, it&#39;s an action. If you care abo=\r\nut the state, then set the state you want. You should hide the &quot;toggle=\r\n&quot;, and enforce the state behind the scenes (where you can manage race =\r\nconditions on the server). Let the server decide that when you change the s=\r\ntate to ON, it can determine, internally, if the device is OFF and then sen=\r\nd a TOGGLE command to make it ON. If it&#39;s already ON, then nothing happ=\r\nens.&lt;br&gt;\n\n\n\n&lt;br&gt;&lt;/div&gt;But a &quot;toggle&quot; POST is just that, a simple =\r\ncommand.&lt;br&gt;&lt;br&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;Regards,&lt;br&gt;&lt;br&gt;Will Hartung&lt;=\r\nbr&gt;(&lt;a href=3D&quot;mailto:willh@...&quot; target=3D&quot;_blank&quot;&gt;willh@mirthcor=\r\np.com&lt;/a&gt;)&lt;br&gt;\n\n\n&lt;/div&gt;&lt;div&gt;&lt;br&gt;\n&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/d=\r\niv&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;div class=3D&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;div class=3D&quot;g=\r\nmail_quote&quot;&gt;On Wed, Jul 9, 2014 at 9:36 AM, Erik Wilde &lt;a href=3D&quot;mailto:dr=\r\net@...&quot; target=3D&quot;_blank&quot;&gt;dret@...&lt;/a&gt; [rest-discuss] &lt;sp=\r\nan dir=3D&quot;ltr&quot;&gt;&lt;&lt;a href=3D&quot;mailto:rest-discuss-noreply@yahoogroups.com&quot; =\r\ntarget=3D&quot;_blank&quot;&gt;rest-discuss-noreply@yahoogroups.com&lt;/a&gt;&gt;&lt;/span&gt; wrote=\r\n:&lt;br&gt;\n\n\n\n&lt;blockquote class=3D&quot;gmail_quote&quot; style=3D&quot;border-left:1px #ccc so=\r\nlid&quot;&gt;\n\n\n&lt;u&gt;&lt;/u&gt;\n\n\n\n\n\n\n\n\n\n \n&lt;div style=3D&quot;background-color:#fff&quot;&gt;\n&lt;span&gt;=C2=\r\n=A0&lt;/span&gt;\n\n\n&lt;div&gt;\n  &lt;div&gt;\n\n\n    &lt;div&gt;\n      \n      \n      &lt;p&gt;hello robby.&lt;=\r\nbr&gt;\n&lt;br&gt;\nOn 2014-07-09, 17:47 , &#39;Simpson, Robby (GE Energy Management)&=\r\n#39; &lt;br&gt;&lt;/p&gt;&lt;div&gt;\n&lt;a href=3D&quot;mailto:robby.simpson@...&quot; target=3D&quot;_blank=\r\n&quot;&gt;robby.simpson@...&lt;/a&gt; [rest-discuss] wrote:&lt;br&gt;\n&gt;&gt; it sounds lik=\r\ne the scenario we were talking about, that all you want is&lt;br&gt;\n&gt;&gt; to =\r\ntell the resource to &quot;reverse its state&quot;. in this case, i&#39;d P=\r\nOST a&lt;br&gt;\n&gt;&gt; body that represents this request, in whatever serializa=\r\ntion you happen&lt;br&gt;\n&gt;&gt; to prefer. the resource toggles. everybody&#39=\r\n;s happy.&lt;br&gt;\n&gt; OK.  Still seems like a bit of a departure from typical =\r\nRESTful interfaces&lt;br&gt;\n&gt; I&#39;ve seen and has the potential to be a cat=\r\nch-all tunnel for RPC-style&lt;br&gt;\n&gt; requests.&lt;br&gt;\n&gt; E.g.:&lt;br&gt;\n&gt; /com=\r\nmand, where one could POST all sorts of commands like &quot;toggle.&quot;&lt;b=\r\nr&gt;\n&lt;br&gt;&lt;/div&gt;\nthe problem is not that POST can mean anything (it can), but =\r\npeople &lt;br&gt;\nPOSTing things to a &quot;do stuff&quot; resource, which then i=\r\nsn&#39;t &lt;br&gt;\nresource-oriented anymore. your RPC sensor shouldn&#39;t go o=\r\nff because of &lt;br&gt;\npeople POSTing things to resources (that&#39;s fine), bu=\r\nt because of people &lt;br&gt;\nPOSTing things to something other than resources (=\r\nthe &quot;API end point&quot;, &lt;br&gt;\nfor example).&lt;div&gt;&lt;br&gt;\n&lt;br&gt;\n&gt;&gt; bu=\r\nt i am confused because you wrote earlier that you were concerned&lt;br&gt;\n&gt;&=\r\ngt; about race conditions. which seems to imply that instead of just&lt;br&gt;\n&g=\r\nt;&gt; toggling, you&#39;re also assuming that you&#39;re &quot;toggling *f=\r\nrom* some state&quot;.&lt;br&gt;\n&gt;&gt; but that wouldn&#39;t be the &quot;blin=\r\nd toggle&quot; we discussed. could you clarify&lt;br&gt;\n&gt;&gt; a bit how exact=\r\nly the operation that you&#39;re trying to design is defined?&lt;br&gt;\n&gt; Apol=\r\nogies, a blind toggle is what is desired.  As it currently works, in&lt;br&gt;\n&g=\r\nt; the current binary protocol, a button press on a toggle switch simply&lt;br=\r\n&gt;\n&gt; sends a &quot;toggle&quot; command.&lt;br&gt;\n&lt;br&gt;&lt;/div&gt;\nthen how would a =\r\nrace condition enter the picture? just because of the &lt;br&gt;\ntimestamp when y=\r\nou last observed the resource&#39;s state? or something &lt;br&gt;\nelse? to me, t=\r\noggling always is kind of a game: if somebody toggled &lt;br&gt;\nahead of you, yo=\r\nu&#39;ll do something other than you wanted to, but that&#39;s &lt;br&gt;\nhow it =\r\nis and you&#39;ll have to deal with it after toggling and finding out &lt;br&gt;\n=\r\nthat you switched the damn thing back on again...&lt;div&gt;&lt;br&gt;\n&lt;br&gt;\ncheers,&lt;br&gt;=\r\n\n&lt;br&gt;\ndret.&lt;br&gt;\n&lt;br&gt;\n-- &lt;br&gt;\nerik wilde | mailto:&lt;a href=3D&quot;mailto:dret@ber=\r\nkeley.edu&quot; target=3D&quot;_blank&quot;&gt;dret@...&lt;/a&gt;  -  tel:&lt;a href=3D&quot;tel:%=\r\n2B1-510-2061079&quot; value=3D&quot;+15102061079&quot; target=3D&quot;_blank&quot;&gt;+1-510-2061079&lt;/a=\r\n&gt; |&lt;br&gt;\n            | UC Berkeley  -  School of Information (ISchool) |&lt;br&gt;=\r\n\n            | &lt;a href=3D&quot;http://dret.net/netdret&quot; target=3D&quot;_blank&quot;&gt;http:/=\r\n/dret.net/netdret&lt;/a&gt; &lt;a href=3D&quot;http://twitter.com/dret&quot; target=3D&quot;_blank&quot;=\r\n&gt;http://twitter.com/dret&lt;/a&gt; |&lt;br&gt;\n&lt;/div&gt;&lt;p&gt;&lt;/p&gt;\n\n    &lt;/div&gt;\n     \n\n    \n  =\r\n  &lt;div style=3D&quot;color:#fff;min-height:0&quot;&gt;&lt;/div&gt;\n\n\n&lt;/div&gt;\n\n\n\n  \n\n\n\n\n\n\n&lt;/div&gt;=\r\n&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;\n\n&lt;br&gt;\n&lt;/div&gt;&lt;/div&gt;&lt;span&gt;&lt;font face=3D&quot;A=\r\nrial&quot; size=3D&quot;1&quot;&gt;CONFIDENTIALITY NOTICE: The information contained in this =\r\nelectronic transmission may be confidential. If you are not an intended rec=\r\nipient, be aware that any disclosure, copying, distribution or use of the i=\r\nnformation contained in this transmission is prohibited and may be unlawful=\r\n. If you have received this transmission in error, please notify us by emai=\r\nl reply and then erase it from your computer system.&lt;/font&gt;&lt;/span&gt;&lt;p&gt;\n\n\n&lt;/p=\r\n&gt;\n\n    &lt;/div&gt;\n     \n\n    \n    &lt;div style=3D&quot;color:#fff;min-height:0&quot;&gt;&lt;/div&gt;=\r\n\n\n\n&lt;/div&gt;\n\n\n\n  \n\n\n\n\n\n\n&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;\n\n\n\n\n\n\n&lt;br&gt;\n=\r\n\n\n&lt;br&gt;\n\n\n\n\n&lt;div width=3D&quot;1&quot; style=3D&quot;color:white;clear:both&quot;&gt;&lt;/div&gt;\n\n\n\n&lt;/bl=\r\nockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;br clear=3D&quot;all&quot;&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;-- &lt;br&gt;&lt;div dir=3D&quot;ltr&quot;=\r\n&gt;&lt;div&gt;- Tim Bray (If you=E2=80=99d like to send me a private message, see &lt;=\r\na href=3D&quot;https://keybase.io/timbray&quot; target=3D&quot;_blank&quot;&gt;https://keybase.io/=\r\ntimbray&lt;/a&gt;)&lt;/div&gt;\n\n&lt;/div&gt;\n&lt;/div&gt;\n\r\n--001a113393a260f37e04fdc78b00--\r\n\n"}}
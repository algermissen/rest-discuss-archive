{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":548634940,"authorName":"Jonathan Ballard","from":"Jonathan Ballard &lt;dzonatas@...&gt;","replyTo":"SENDER","senderId":"girUfrTI9CLkQjHYfL5iXHpPMz8cJEBAHRwMqioDPHPA7gZsc059NPR8t_T2jga75_4uwvxTSFe9TbgAX1uLL5IiItwHt1Vjqgz0Zw","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [rest-discuss] Media Type for resource archives","postDate":"1389455321","msgId":19580,"canDelete":false,"contentTrasformed":false,"systemMessage":true,"headers":{"messageIdInHeader":"PENBQVBBSy03dWhMNnc9PWdjS3BnTGg4anV2akdrQnJSM0tzRHpyVXRIWktoazhYdGpqUUBtYWlsLmdtYWlsLmNvbT4=","inReplyToHeader":"PENBTmdrbUxDVndIOUtPMXMzdG8zekVVbkNoS0VXMFdSTFlvdktPT1hNUz05dC1IU3ZwQUBtYWlsLmdtYWlsLmNvbT4=","referencesHeader":"PENDMEM1OUJGLUQ5N0QtNDA0MC04QzA4LThBNUQxMTc4NTI2OEBub3Jkc2MuY29tPgk8Q0FOZ2ttTENWd0g5S08xczN0bzN6RVVuQ2hLRVcwV1JMWW92S09PWE1TPTl0LUhTdnBBQG1haWwuZ21haWwuY29tPg=="},"prevInTopic":19579,"nextInTopic":19581,"prevInTime":19579,"nextInTime":19581,"topicId":19578,"numMessagesInTopic":7,"msgSnippet":"Look at QUIC, and consider this format and sequence:  ","rawEmail":"Return-Path: &lt;dzonatas@...&gt;\r\nReceived: (qmail 16874 invoked by uid 102); 11 Jan 2014 21:57:08 -0000\r\nReceived: from unknown (HELO mtaq4.grp.bf1.yahoo.com) (10.193.84.143)\n  by m2.grp.bf1.yahoo.com with SMTP; 11 Jan 2014 21:57:08 -0000\r\nReceived: (qmail 30829 invoked from network); 11 Jan 2014 21:57:08 -0000\r\nReceived: from unknown (HELO n2-vm2.bullet.mail.bf1.yahoo.com) (72.30.235.210)\n  by mtaq4.grp.bf1.yahoo.com with SMTP; 11 Jan 2014 21:57:08 -0000\r\nDKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoogroups.com; s=echoe; t=1389477428; bh=ASjO7E4HDagPuU/ZK5Fg77DCHnZpxZxbJjpmuopDK1c=; h=Received:Received:Received:X-Sender:X-Apparently-To:X-Received:X-Received:X-Received:X-Received:X-Received:MIME-Version:X-Received:X-Received:In-Reply-To:References:Date:Message-ID:Cc:Content-Type:X-Originating-IP:X-eGroups-Msg-Info:From:Subject:X-Yahoo-Group-Post:X-YGroups-SubInfo:To:Sender:X-Yahoo-Newman-Property:X-Yahoo-Newman-Id:X-eGroups-Approved-By:X-eGroups-Auth; b=seqcdtFh9mLXr1nD8aJI8FLqLKT+I9sXbT00a3WpaFxDNlQZE0MOyuG9sfRFvjemM1xGAD6a4YA8Ve1SZ/GodzEmcEzZubFRjV2yuwhJNNBz7dODVdAe09LI6eMtIjQz+4elsjxJNPNJx8syQt3MsNh191OElYI/cCDHlXtZamI=\r\nReceived: from [72.30.235.65] by n2.bullet.mail.bf1.yahoo.com with NNFMP; 11 Jan 2014 21:57:08 -0000\r\nReceived: from [10.193.75.124] by t2.bullet.mail.bf1.yahoo.com with NNFMP; 11 Jan 2014 21:57:08 -0000\r\nReceived: from [127.0.0.1] by gapi6.grp.bf1.yahoo.com with NNFMP; 11 Jan 2014 21:57:08 -0000\r\nX-Sender: dzonatas@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 14194 invoked by uid 102); 11 Jan 2014 15:48:42 -0000\r\nX-Received: from unknown (HELO mtaq6.grp.bf1.yahoo.com) (10.193.84.37)\n  by m2.grp.bf1.yahoo.com with SMTP; 11 Jan 2014 15:48:42 -0000\r\nX-Received: (qmail 20380 invoked from network); 11 Jan 2014 15:48:42 -0000\r\nX-Received: from unknown (HELO mail-pa0-f47.google.com) (209.85.220.47)\n  by mtaq6.grp.bf1.yahoo.com with SMTP; 11 Jan 2014 15:48:42 -0000\r\nX-Received: by mail-pa0-f47.google.com with SMTP id kq14so5961893pab.20\n        for &lt;rest-discuss@yahoogroups.com&gt;; Sat, 11 Jan 2014 07:48:41 -0800 (PST)\r\nMIME-Version: 1.0\r\nX-Received: by 10.68.226.70 with SMTP id rq6mr19001029pbc.107.1389455321779;\n Sat, 11 Jan 2014 07:48:41 -0800 (PST)\r\nX-Received: by 10.66.25.233 with HTTP; Sat, 11 Jan 2014 07:48:41 -0800 (PST)\r\nIn-Reply-To: &lt;CANgkmLCVwH9KO1s3to3zEUnChKEW0WRLYovKOOXMS=9t-HSvpA@...&gt;\r\nReferences: &lt;CC0C59BF-D97D-4040-8C08-8A5D11785268@...&gt;\n\t&lt;CANgkmLCVwH9KO1s3to3zEUnChKEW0WRLYovKOOXMS=9t-HSvpA@...&gt;\r\nDate: Sat, 11 Jan 2014 07:48:41 -0800\r\nMessage-ID: &lt;CAAPAK-7uhL6w==gcKpgLh8juvjGkBrR3KsDzrUtHZKhk8XtjjQ@...&gt;\r\nCc: Jan Algermissen &lt;jan.algermissen@...&gt;, \n\t&quot;rest-discuss@yahoogroups.com List&quot; &lt;rest-discuss@yahoogroups.com&gt;\r\nContent-Type: multipart/alternative; boundary=e89a8ff24355e2d50704efb3c6db\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Jonathan Ballard &lt;dzonatas@...&gt;\r\nSubject: Re: [rest-discuss] Media Type for resource archives\r\nX-Yahoo-Group-Post: member; u=548634940\r\nTo: rest-discuss@yahoogroups.com\r\nX-Yahoo-Newman-Property: groups-system\r\nX-Yahoo-Newman-Id: groups-system\r\nX-eGroups-Approved-By: gonga_thrash via web; 11 Jan 2014 13:57:08 -0000\r\n\r\n\r\n--e89a8ff24355e2d50704efb3c6db\r\nContent-Type: text/plain; charset=windows-1252\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\nLook at QUIC, and consider this format and sequence:\n\n&lt;script src=3D... typ=\r\ne=3D&quot;application/json+quic&quot; var=3D&quot;abc&quot; index=3D&quot;123&quot;/&gt;\n&lt;script src=3D... t=\r\nype=3D&quot;application/json+quic&quot; var=3D&quot;abc&quot; index=3D&quot;456&quot;/&gt;\n&lt;script src=3D...=\r\n type=3D&quot;application/json+quic&quot; var=3D&quot;abc&quot; index=3D&quot;789&quot;/&gt;\n\nLet the browse=\r\nr recognize the same manifest (...), let the extra micro-data\nwrap up the s=\r\ntatement:\n\nvar abc[123] =3D ... ;\n\nSlight modification to change &quot;var&quot;+&quot;ind=\r\nex&quot; to &quot;part&quot; is another solution.\nI hope something like this makes HTML6.\n=\r\n\n\n\nOn Fri, Jan 10, 2014 at 5:59 PM, Craig McClanahan &lt;craigmcc@...&gt;wr=\r\note:\n\n&gt;\n&gt;\n&gt; We (Jive) use the multipart/form-data in lots of use cases, suc=\r\nh as\n&gt; uploading a document (with a well defined JSON format) plus some ass=\r\nociated\n&gt; attachments.  However, we don&#39;t enforce a requirement that the JS=\r\nON data be\n&gt; the first body part -- instead, we search through the availabl=\r\ne body parts\n&gt; for it with some well-defined heuristics, and treat all the =\r\nother body\n&gt; parts as attachments.\n&gt;\n&gt; Craig McClanahan\n&gt;\n&gt;\n&gt; On Fri, Jan 1=\r\n0, 2014 at 2:35 PM, Jan Algermissen &lt;\n&gt; jan.algermissen@...&gt; wrote:\n=\r\n&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; Hi,\n&gt;&gt;\n&gt;&gt; I am thinking about a media type for bundling together=\r\n a bunch of\n&gt;&gt; resources[1] into a single file. With these files I want to =\r\nstore a\n&gt;&gt; manifest file.\n&gt;&gt;\n&gt;&gt; One option would be to just use a zip-based=\r\n format and an manifest file\n&gt;&gt; with a well known name.\n&gt;&gt;\n&gt;&gt; The problem w=\r\nith this is that useful stream processing of such a file can\n&gt;&gt; only be don=\r\ne by ensuring that the manifest is the first entry when\n&gt;&gt; unzipping. Appar=\r\nently it requires some stunts to control the ordering of\n&gt;&gt; the zip entries=\r\n and who knows whether the other end uses a compatible\n&gt;&gt; implementation.\n&gt;=\r\n&gt;\n&gt;&gt; Solution would be to unpack to disk first and go from there. Not nice.=\r\n\n&gt;&gt;\n&gt;&gt; A possible alternative would be to use a multipart format where I ca=\r\nn\n&gt;&gt; simply require the manifest to be the first part. Then just zip that f=\r\nile\n&gt;&gt; or rely on transfer encoding to reduce the bytes on the wire.\n&gt;&gt;\n&gt;&gt; =\r\nNice things about that:\n&gt;&gt; - Ordering is guaranteed\n&gt;&gt; - Full support for p=\r\ner-part MIME headers\n&gt;&gt; - Content-Length enables fast splitting of the part=\r\ns\n&gt;&gt; - cid: URIs make for natural, standard URI-references inside the file\n=\r\n&gt;&gt; - stream processing without temporary storage\n&gt;&gt;\n&gt;&gt; I am interested in r=\r\neactions to the two alternatives or any ideas beyond\n&gt;&gt; that.\n&gt;&gt;\n&gt;&gt; Jan\n&gt;&gt;\n=\r\n&gt;&gt; [1] Well, obviously their entities at some point in time\n&gt;&gt;\n&gt;\n&gt;\n&gt;\n\r\n--e89a8ff24355e2d50704efb3c6db\r\nContent-Type: text/html; charset=windows-1252\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\n&lt;div dir=3D&quot;ltr&quot;&gt;Look at QUIC, and consider this format and sequence:&lt;div&gt;&lt;=\r\nbr&gt;&lt;/div&gt;&lt;div&gt;&lt;script src=3D... type=3D&quot;application/json+quic&quot;=\r\n var=3D&quot;abc&quot; index=3D&quot;123&quot;/&gt;&lt;/div&gt;&lt;div&gt;&lt;script sr=\r\nc=3D... type=3D&quot;application/json+quic&quot; var=3D&quot;abc&quot; inde=\r\nx=3D&quot;456&quot;/&gt;&lt;br&gt;\n&lt;/div&gt;&lt;div&gt;&lt;script src=3D... type=3D&quot;a=\r\npplication/json+quic&quot; var=3D&quot;abc&quot; index=3D&quot;789&quot;/&g=\r\nt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Let the browser recognize the same manifest=\r\n (...), let the extra micro-data wrap up the statement:&lt;/div&gt;\n&lt;div&gt;&lt;br&gt;&lt;/di=\r\nv&gt;&lt;div&gt;var abc[123] =3D ... ;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Slight modification =\r\nto change &quot;var&quot;+&quot;index&quot; to &quot;part&quot; is another =\r\nsolution. I hope something like this makes HTML6.&lt;/div&gt;&lt;div&gt;\n&lt;br&gt;&lt;/div&gt;&lt;/di=\r\nv&gt;&lt;div class=3D&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;div class=3D&quot;gmail_quote&quot;&gt;On Fri, Jan=\r\n 10, 2014 at 5:59 PM, Craig McClanahan &lt;span dir=3D&quot;ltr&quot;&gt;&lt;&lt;a href=3D&quot;mai=\r\nlto:craigmcc@...&quot; target=3D&quot;_blank&quot;&gt;craigmcc@...&lt;/a&gt;&gt;&lt;/span&gt;=\r\n wrote:&lt;br&gt;\n&lt;blockquote class=3D&quot;gmail_quote&quot; style=3D&quot;margin:0 0 0 .8ex;bo=\r\nrder-left:1px #ccc solid;padding-left:1ex&quot;&gt;\n\n\n&lt;u&gt;&lt;/u&gt;\n\n\n\n\n\n\n\n\n\n\n&lt;div style&gt;=\r\n\n&lt;span&gt;=A0&lt;/span&gt;\n\n\n&lt;div&gt;\n  &lt;div&gt;\n\n\n    &lt;div&gt;\n\n\n      &lt;p&gt;&lt;/p&gt;&lt;div dir=3D&quot;lt=\r\nr&quot;&gt;&lt;div&gt;We (Jive) use the multipart/form-data in lots of use cases, such as=\r\n uploading a document (with a well defined JSON format) plus some associate=\r\nd attachments.=A0 However, we don&#39;t enforce a requirement that the JSON=\r\n data be the first body part -- instead, we search through the available bo=\r\ndy parts for it with some well-defined heuristics, and treat all the other =\r\nbody parts as attachments.&lt;/div&gt;\n\n&lt;div&gt;&lt;br&gt;&lt;/div&gt;Craig McClanahan&lt;br&gt;&lt;/div&gt;=\r\n&lt;div class=3D&quot;im&quot;&gt;&lt;div class=3D&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;div class=3D&quot;gmail_qu=\r\note&quot;&gt;On Fri, Jan 10, 2014 at 2:35 PM, Jan Algermissen &lt;span dir=3D&quot;ltr&quot;&gt;&lt=\r\n;&lt;a href=3D&quot;mailto:jan.algermissen@...&quot; target=3D&quot;_blank&quot;&gt;jan.algerm=\r\nissen@...&lt;/a&gt;&gt;&lt;/span&gt; wrote:&lt;br&gt;\n\n&lt;blockquote class=3D&quot;gmail_quot=\r\ne&quot; style=3D&quot;border-left:1px #ccc solid&quot;&gt;\n\n\n&lt;u&gt;&lt;/u&gt;\n\n\n\n\n\n\n\n\n\n\n&lt;div&gt;\n&lt;span&gt;=\r\n=A0&lt;/span&gt;\n\n\n&lt;div&gt;\n  &lt;div&gt;\n\n\n    &lt;div&gt;\n\n\n      &lt;p&gt;Hi,&lt;br&gt;\n&lt;br&gt;\nI am thinkin=\r\ng about a media type for bundling together a bunch of resources[1] into a s=\r\ningle file. With these files I want to store a manifest file.&lt;br&gt;\n&lt;br&gt;\nOne =\r\noption would be to just use a zip-based format and an manifest file with a =\r\nwell known name.&lt;br&gt;\n&lt;br&gt;\nThe problem with this is that useful stream proce=\r\nssing of such a file can only be done by ensuring that the manifest is the =\r\nfirst entry when unzipping. Apparently it requires some stunts to control t=\r\nhe ordering of the zip entries and who knows whether the other end uses a c=\r\nompatible implementation.&lt;br&gt;\n\n\n&lt;br&gt;\nSolution would be to unpack to disk fi=\r\nrst and go from there. Not nice.&lt;br&gt;\n&lt;br&gt;\nA possible alternative would be t=\r\no use a multipart format where I can simply require the manifest to be the =\r\nfirst part. Then just zip that file or rely on transfer encoding to reduce =\r\nthe bytes on the wire.&lt;br&gt;\n&lt;br&gt;\nNice things about that:&lt;br&gt;\n- Ordering is g=\r\nuaranteed&lt;br&gt;\n- Full support for per-part MIME headers&lt;br&gt;\n- Content-Length=\r\n enables fast splitting of the parts&lt;br&gt;\n- cid: URIs make for natural, stan=\r\ndard URI-references inside the file&lt;br&gt;\n- stream processing without tempora=\r\nry storage&lt;br&gt;\n&lt;br&gt;\nI am interested in reactions to the two alternatives or=\r\n any ideas beyond that.&lt;br&gt;\n&lt;br&gt;\nJan&lt;br&gt;\n&lt;br&gt;\n[1] Well, obviously their ent=\r\nities at some point in time&lt;/p&gt;\n\n    &lt;/div&gt;\n\n\n\n    &lt;div style=3D&quot;color:#fff=\r\n&quot;&gt;&lt;/div&gt;\n\n\n&lt;/div&gt;\n\n\n\n\n\n\n\n\n\n\n&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;\n&lt;/div=\r\n&gt;&lt;p&gt;&lt;/p&gt;\n\n    &lt;/div&gt;\n\n\n\n    &lt;div style=3D&quot;color:#fff;min-height:0&quot;&gt;&lt;/div&gt;\n\n=\r\n\n&lt;/div&gt;\n\n\n\n\n\n\n\n\n\n\n&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;\n\r\n--e89a8ff24355e2d50704efb3c6db--\r\n\n"}}
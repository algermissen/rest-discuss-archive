{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":289191104,"authorName":"Jan Algermissen","from":"Jan Algermissen &lt;algermissen1971@...&gt;","profile":"algermissen1971","replyTo":"SENDER","senderId":"Xqpy8RGO5GyYsGH8_jWfQ4iKAy2953fHoxyb02URC8LTViPAMX6rCNQR3HLbPsM2mWWr2sA16HuVmKKnEWvkp5Ss3PJMqOq_2ZmxzooZqW0","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [rest-discuss] Deigning representations of collections and references","postDate":"1264662768","msgId":14694,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PEQ5QUU1QzgxLTM3QjEtNEM1OC05N0ZGLTZFNzdBRjBBQjNCREBtYWMuY29tPg==","inReplyToHeader":"PEYxOTYyNjQ2RDNCNjQ2NDJCN0M5QTA2MDY4RUUxRTY0MEJDN0Q0MzNAZXgxMC5ob3N0ZWRleGNoYW5nZS5sb2NhbD4=","referencesHeader":"PGhqcWNrNStidjc1QGVHcm91cHMuY29tPiA8RjE5NjI2NDZEM0I2NDY0MkI3QzlBMDYwNjhFRTFFNjQwQkM3RDQzM0BleDEwLmhvc3RlZGV4Y2hhbmdlLmxvY2FsPg=="},"prevInTopic":14693,"nextInTopic":14695,"prevInTime":14693,"nextInTime":14695,"topicId":14691,"numMessagesInTopic":15,"msgSnippet":"... Yes, good point (and often not discussed). Sometimes, you might hapen to know that the referenced resources are immutable (e.g. event history). Then the","rawEmail":"Return-Path: &lt;algermissen1971@...&gt;\r\nX-Sender: algermissen1971@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 88058 invoked from network); 28 Jan 2010 07:13:00 -0000\r\nX-Received: from unknown (66.196.94.106)\n  by m4.grp.sp2.yahoo.com with QMQP; 28 Jan 2010 07:13:00 -0000\r\nX-Received: from unknown (HELO asmtpout012.mac.com) (17.148.16.87)\n  by mta2.grp.re1.yahoo.com with SMTP; 28 Jan 2010 07:13:00 -0000\r\nMIME-version: 1.0\r\nContent-transfer-encoding: 7BIT\r\nContent-type: text/plain; charset=US-ASCII; format=flowed; delsp=yes\r\nX-Received: from [192.168.2.102] ([84.144.113.250])\n by asmtp012.mac.com (Sun Java(tm) System Messaging Server 6.3-8.01 (built Dec\n 16 2008; 32bit)) with ESMTPSA id &lt;0KWY00DV841D4G70@...&gt; for\n rest-discuss@yahoogroups.com; Wed, 27 Jan 2010 23:12:56 -0800 (PST)\r\nX-Proofpoint-Spam-Details: rule=notspam policy=default score=0 spamscore=0\n ipscore=0 phishscore=0 bulkscore=0 adultscore=0 classifier=spam adjust=0\n reason=mlx engine=5.0.0-0908210000 definitions=main-1001270303\r\nCc: piers_lawson &lt;Piers@...&gt;, rest-discuss@yahoogroups.com\r\nMessage-id: &lt;D9AE5C81-37B1-4C58-97FF-6E77AF0AB3BD@...&gt;\r\nTo: Robert Brewer &lt;fumanchu@...&gt;\r\nIn-reply-to:\n &lt;F1962646D3B64642B7C9A06068EE1E640BC7D433@...&gt;\r\nDate: Thu, 28 Jan 2010 08:12:48 +0100\r\nReferences: &lt;hjqck5+bv75@...&gt;\n &lt;F1962646D3B64642B7C9A06068EE1E640BC7D433@...&gt;\r\nX-Mailer: Apple Mail (2.936)\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Jan Algermissen &lt;algermissen1971@...&gt;\r\nSubject: Re: [rest-discuss] Deigning representations of collections and\n references\r\nX-Yahoo-Group-Post: member; u=289191104; y=siay-UJWnUQeNgNTRKz-g1dFpJqKQbip7N2jtrgX4Uxyv1u5HLp8iqaz\r\nX-Yahoo-Profile: algermissen1971\r\n\r\n\nOn Jan 28, 2010, at 3:51 AM, Robert Brewer wrote:\n\n&gt; piers_lawson wrote:\n&gt;&gt; Hi I&#39;ve been looking for advice on how to design the representation\n&gt;&gt; of a collection of references.\n&gt;&gt; Supposing I have Seller resources, a list of which can be accessed\n&gt;&gt; at /Sellers, and an individual Seller can be accessed at Sellers/ \n&gt;&gt; {id}.\n&gt;&gt; Also, I have Account resources. A list of Accounts linked to a Seller\n&gt;&gt; can be accessed at /Sellers/{id}/Accounts. An individual account can\n&gt;&gt; be found at /Sellers/{id1}/Accounts/{id2}\n&gt;&gt; Just for now, let&#39;s assume I want an XML representation.\n&gt;&gt;\n&gt;&gt; GET /Sellers/{id1}/Accounts/{id2} could return:\n&gt;&gt; &lt;Account id={id2} uri=&quot;/Sellers/{id1}/Accounts/{id2}&quot; attr1=&quot;abc&quot;\n&gt;&gt; attr2=&quot;xyz&quot; /&gt;\n&gt;&gt;\n&gt;&gt; GET /Sellers/{id1}/Accounts could return:\n&gt;&gt; &lt;Accounts uri=&quot;/Sellers/{id1}/Accounts&quot;&gt;\n&gt;&gt;    &lt;Account id={id2} uri=&quot;/Sellers/{id1}/Accounts/{id2}&quot;\n&gt;&gt; attr1=&quot;abc&quot; attr2=&quot;xyz&quot; /&gt;\n&gt;&gt;    &lt;Account id={id4} uri=&quot;/Sellers/{id1}/Accounts/{id4}&quot;\n&gt;&gt; attr1=&quot;efg&quot; attr2=&quot;uvw&quot; /&gt;\n&gt;&gt; &lt;/Accounts&gt;\n&gt;\n&gt; Another issue to keep in mind is cache invalidation. When you  \n&gt; duplicate information like Account attributes in the collection  \n&gt; resource, you must invalidate the collection every time you  \n&gt; invalidate each contained resource.\n&gt;\n\nYes, good point (and often not discussed). Sometimes, you might hapen  \nto know that the referenced resources are immutable (e.g. event  \nhistory). Then the situation is different.\n\n&gt;&gt; And because I&#39;m being pragmatic and know my clients are usually\n&gt;&gt; interested in Accounts when dealing with a seller...\n&gt;&gt; GET /Sellers/{id1} could return:\n&gt;&gt; &lt;Seller id={id1} uri=&quot;/Sellers/{id1}&quot; attrA=&quot;mno&quot; attrB=&quot;pqr&quot;&gt;\n&gt;&gt;     &lt;Accounts uri=&quot;/Sellers/{id1}/Accounts&quot;&gt;\n&gt;&gt;       &lt;Account id={id2} uri=&quot;/Sellers/{id1}/Accounts/{id2}&quot;\n&gt;&gt; attr1=&quot;abc&quot; attr2=&quot;xyz&quot; /&gt;\n&gt;&gt;       &lt;Account id={id4} uri=&quot;/Sellers/{id1}/Accounts/{id4}&quot;\n&gt;&gt; attr1=&quot;efg&quot; attr2=&quot;uvw&quot; /&gt;\n&gt;&gt;    &lt;/Accounts&gt;\n&gt;&gt; &lt;/Seller&gt;\n&gt;\n&gt; Exponentially ditto here. HTTP is optimized for large-grain  \n&gt; resources, but a large part of that depends on caching.\n\nYes. And instead of fearing to-be-dereferenced references (&lt;http://www.nordsc.com/blog/?p=152 \n &gt; )  we should make use caching and conditional requests where it  \nmakes sense.\n\n\n&gt;\n&gt;&gt; This works fine to my mind so long as the Account representation\n&gt;&gt; is not too complex (or more importantly, large)... but what if it\n&gt;&gt; was? What if an individual Account was so big it was inefficient\n&gt;&gt; to return all its information when listing it (either as a\n&gt;&gt; standalone Accounts element from /Sellers/{id1}/Accounts\n&gt;\n&gt; Then you should break it up into smaller resources, like /Accounts/ \n&gt; {id2}/address/, and include links to those sub-resources in the  \n&gt; response to /Accounts/{id2}/\n&gt;\n&gt;&gt; or a child element of Seller returned from /Sellers/{id1})?\n&gt;\n&gt; Another good reason not to duplicate information from elements to  \n&gt; their containers.\n\nI&#39;d generally put minimal information into the container to enable  \ndisplay. For example like Atom does with titles on links and with the  \nsummary element. If the content of both sticks to describing the  \nnature of the target (which should not really change) you should not  \nhave any freshness problems.\n\n\n&gt;\n&gt;&gt; ...\n&gt;&gt; Also, if I wanted to write a schema describing the XML\n&gt;&gt; I could have different definitions for the full\n&gt;&gt; &quot;representation&quot; of an Account resource and that of a\n&gt;&gt; reference to an Account. However, this approach makes\n&gt;&gt; the creation of a new Account more complex, as I in\n&gt;&gt; theory should PUT an Account somewhere (but nothing in\n&gt;&gt; the list representation tells me where)...\n&gt;\n&gt; If instead of a new &lt;AccountRef&gt; class you just included a normal  \n&gt; ol&#39; URI, then that would be an exact reference to the full  \n&gt; representation. You can also include a URI (or URI template) that  \n&gt; tells you where to PUT a new Account.\n\nYes.\n\nJan\n\n\n\n&gt;\n&gt;\n&gt; Robert Brewer\n&gt; fumanchu@...\n&gt;\n&gt;\n&gt; ------------------------------------\n&gt;\n&gt; Yahoo! Groups Links\n&gt;\n&gt;\n&gt;\n\n-----------------------------------\n  Jan Algermissen, Consultant\n\n  Mail: algermissen@...\n  Blog: http://www.nordsc.com/blog/\n  Work: http://www.nordsc.com/\n-----------------------------------\n\n\n\n\n"}}
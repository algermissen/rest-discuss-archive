{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":355965900,"authorName":"Dilip Krishnan","from":"Dilip Krishnan &lt;dilip.krishnan@...&gt;","profile":"dilipkrish_subscriptions","replyTo":"SENDER","senderId":"pNPQ-LyrMs0npZPEuvvYBv_6yUoYaLbn1b5wNaHya3V8c4bKQVs5NV3xe_KOZHAeiPaU4JaDQg0HJjDk3wNjdlYf0ozXulM1NVC0z1imsCs","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [rest-discuss] Conneg based on User-Agent","postDate":"1316142005","msgId":17777,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDQzODM1RTdFLTEwNTgtNEY1OC1CMzY5LTA5QTlEOUE3OUUxMEBnbWFpbC5jb20+","inReplyToHeader":"PDBCODQwNkYxLURFNzUtNDhDOC1CMzlBLUU0NzVBMkIxMDBERkBub3Jkc2MuY29tPg==","referencesHeader":"PDNBRDk1QjVGLTdBNTgtNDMxMC05OTM0LTNFNkUwOTIzMjQzMUBub3Jkc2MuY29tPiA8Q0FEYkdaalpTak5vLUQ0Ym1ONU9zVEgrcmUrZ3AxMWtWeVQwLXprblRCTkVWdVZrY1RBQG1haWwuZ21haWwuY29tPiA8MEI4NDA2RjEtREU3NS00OEM4LUIzOUEtRTQ3NUEyQjEwMERGQG5vcmRzYy5jb20+"},"prevInTopic":17776,"nextInTopic":17778,"prevInTime":17776,"nextInTime":17778,"topicId":17770,"numMessagesInTopic":13,"msgSnippet":"Seems like soap -creep to me ... a la WS-addressing :) One thing that doesn t feel right to me is the fact that the client is driving control flow. Also","rawEmail":"Return-Path: &lt;dilip.krishnan@...&gt;\r\nX-Sender: dilip.krishnan@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 77881 invoked from network); 16 Sep 2011 03:00:07 -0000\r\nX-Received: from unknown (98.137.35.160)\n  by m6.grp.sp2.yahoo.com with QMQP; 16 Sep 2011 03:00:07 -0000\r\nX-Received: from unknown (HELO mail-yi0-f54.google.com) (209.85.218.54)\n  by mta4.grp.sp2.yahoo.com with SMTP; 16 Sep 2011 03:00:07 -0000\r\nX-Received: by yia13 with SMTP id 13so1267256yia.13\n        for &lt;rest-discuss@yahoogroups.com&gt;; Thu, 15 Sep 2011 20:00:07 -0700 (PDT)\r\nX-Received: by 10.101.132.29 with SMTP id j29mr1781438ann.92.1316142007158;\n        Thu, 15 Sep 2011 20:00:07 -0700 (PDT)\r\nReturn-Path: &lt;dilip.krishnan@...&gt;\r\nX-Received: from [192.168.0.107] (pool-71-252-175-208.dllstx.fios.verizon.net [71.252.175.208])\n        by mx.google.com with ESMTPS id m4sm20008095ang.4.2011.09.15.20.00.05\n        (version=TLSv1/SSLv3 cipher=OTHER);\n        Thu, 15 Sep 2011 20:00:06 -0700 (PDT)\r\nMime-Version: 1.0 (Apple Message framework v1244.3)\r\nContent-Type: multipart/alternative; boundary=&quot;Apple-Mail=_3CE7B690-6798-4F85-9773-11EEF8E4C4E4&quot;\r\nIn-Reply-To: &lt;0B8406F1-DE75-48C8-B39A-E475A2B100DF@...&gt;\r\nDate: Thu, 15 Sep 2011 22:00:05 -0500\r\nCc: Erik Mogensen &lt;erik@...&gt;,\n REST Discuss &lt;rest-discuss@yahoogroups.com&gt;\r\nMessage-Id: &lt;43835E7E-1058-4F58-B369-09A9D9A79E10@...&gt;\r\nReferences: &lt;3AD95B5F-7A58-4310-9934-3E6E09232431@...&gt; &lt;CADbGZjZSjNo-D4bmN5OsTH+re+gp11kVyT0-zknTBNEVuVkcTA@...&gt; &lt;0B8406F1-DE75-48C8-B39A-E475A2B100DF@...&gt;\r\nTo: Jan Algermissen &lt;jan.algermissen@...&gt;\r\nX-Mailer: Apple Mail (2.1244.3)\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Dilip Krishnan &lt;dilip.krishnan@...&gt;\r\nSubject: Re: [rest-discuss] Conneg based on User-Agent\r\nX-Yahoo-Group-Post: member; u=355965900; y=UdL-sRshydmZawJQTNVr5hBynv00c4CgNwpOps26HHLUr4kG0tqcX77UeKCzpXgdkx5X\r\nX-Yahoo-Profile: dilipkrish_subscriptions\r\n\r\n\r\n--Apple-Mail=_3CE7B690-6798-4F85-9773-11EEF8E4C4E4\r\nContent-Transfer-Encoding: quoted-printable\r\nContent-Type: text/plain;\n\tcharset=us-ascii\r\n\r\nSeems like &quot;soap&quot;-creep to me ... a la WS-addressing :)\n\nOne thing that doe=\r\nsn&#39;t feel right to me is the fact that the client is driving control flow. =\r\nAlso reminds of a Subbu&#39;s post on Media Types, Plumbing and Democracy, in t=\r\nhe issues that it brings up. I do like the parametrized media types but its=\r\n not widely supported; (atleast the last time I checked)\n\nRegards,\nDilip Kr=\r\nishnan\ndilip.krishnan@...\n\n\n\nOn Sep 15, 2011, at 5:46 PM, Jan Algermi=\r\nssen wrote:\n\n&gt; \n&gt; On Sep 16, 2011, at 12:20 AM, Erik Mogensen wrote:\n&gt; \n&gt;&gt; =\r\nOn Thu, Sep 15, 2011 at 7:54 PM, Jan Algermissen &lt;jan.algermissen@...=\r\nm&gt; wrote:\n&gt;&gt; I think using the UserAgent header to negotiate representation=\r\n features is a nice solution for non-human targeted situations, too. Essent=\r\nially this means to negotiate incompatible media types based on Accept and =\r\nthe compatible variations in a given media type based on UserAgent. This mi=\r\nght include the addition of certain Link headers.\n&gt;&gt; \n&gt;&gt; I agree with the &quot;=\r\nAvoid avoid&quot; here.  It sounds a lot like out-of-band knowledge, and in the =\r\nopposite direction than is usual.  &quot;I know that V3.1.3 of FooClient doesn&#39;t=\r\n use the xyzzy link relation, so I&#39;ll just save bandwidth by not sending it=\r\n&quot;.  The server could end up with a large amount of knowledge.  See wurfl fo=\r\nr an example of this going bad.\n&gt;&gt; \n&gt;&gt; Why not stick to Accept (which is th=\r\nat it&#39;s for) and use media type parameters?\n&gt;&gt; \n&gt;&gt; Accept: application/proc=\r\nurement;hypermediacontrols=3Dnew;q=3D1, application/procurement;hypermediac=\r\nontrols=3Dold;q=3D0.3\n&gt; \n&gt; Been there, done that :-) Too enteprisey for my =\r\ntaste. Leads to packaging up feature sets into version numbers. I&#39;d always =\r\nlet the Accept express the general capability of the client. (Which I read =\r\nas: &quot;If you hand me application/atom I am pretty sure I can fulfill my user=\r\n&#39;s intent from there&quot;) Versioning makes the whole elegance go away :-)\n&gt; \n&gt;=\r\n I was thinking more in terms of &#39;hints&#39; or &#39;best effort&#39;. Sending mobile d=\r\nevices different content (incl. bu way of a redirect) seems ok. So why not =\r\n&quot;direct that old legacy product we sold 5 years ago to that old (set of) se=\r\nrvers we keep around for these cases&quot;?\n&gt; \n&gt; My original issue, BTW, was rou=\r\nting requests in a load balancer to direct clients that need a new feature =\r\nto those services that have the new feature installed and are already up an=\r\nd running. In general: situations where you have scaled to N services behin=\r\nd one IP that run different versions of a service (e.g. because they are be=\r\ning upgraded one by one while keeping the site in operation).\n&gt; \n&gt; Jan\n&gt; \n&gt;=\r\n&gt; \n&gt;&gt; &quot;new&quot; and &quot;old&quot; are obviously bad choices, but you get the idea.  Tha=\r\nt way the media type can express the different &quot;variants&quot; within compatibil=\r\nity, and clients can express their capabilities in a header designed for co=\r\nnneg.  Evolvability FTW!\n&gt; \n&gt; \n&gt; \n&gt;&gt; -- \n&gt;&gt; -mogsie-\n&gt; \n&gt; \n&gt; \n&gt; -----------=\r\n-------------------------\n&gt; \n&gt; Yahoo! Groups Links\n&gt; \n&gt; \n&gt; \n\n\r\n--Apple-Mail=_3CE7B690-6798-4F85-9773-11EEF8E4C4E4\r\nContent-Transfer-Encoding: quoted-printable\r\nContent-Type: text/html;\n\tcharset=us-ascii\r\n\r\n&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body style=3D&quot;word-wrap: break-word; -webkit-nbsp-mode:=\r\n space; -webkit-line-break: after-white-space; &quot;&gt;Seems like &quot;soap&quot;-creep to=\r\n me ... a la WS-addressing :)&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;\n&lt;span class=3D&quot;Apple=\r\n-style-span&quot; style=3D&quot;border-collapse: separate; color: rgb(0, 0, 0); font-=\r\nfamily: Helvetica; font-style: normal; font-variant: normal; font-weight: n=\r\normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align:=\r\n auto; text-indent: 0px; text-transform: none; white-space: normal; widows:=\r\n 2; word-spacing: 0px; -webkit-border-horizontal-spacing: 0px; -webkit-bord=\r\ner-vertical-spacing: 0px; -webkit-text-decorations-in-effect: none; -webkit=\r\n-text-size-adjust: auto; -webkit-text-stroke-width: 0px; font-size: medium;=\r\n &quot;&gt;&lt;div&gt;One thing that doesn&#39;t feel right to me is the fact that the client=\r\n is driving control flow. Also reminds of a Subbu&#39;s post on&nbsp;&lt;a href=3D=\r\n&quot;http://www.subbu.org/blog/2009/12/media-types-and-plumbing&quot;&gt;Media Types, P=\r\nlumbing and Democracy&lt;/a&gt;, in the issues that it brings up. I do like the p=\r\narametrized media types but its not widely supported; (atleast the last tim=\r\ne I checked)&lt;/div&gt;&lt;div&gt;&lt;br class=3D&quot;Apple-interchange-newline&quot;&gt;Regards,&lt;/di=\r\nv&gt;&lt;div&gt;Dilip Krishnan&lt;/div&gt;&lt;div&gt;&lt;a href=3D&quot;mailto:dilip.krishnan@...&quot;=\r\n&gt;dilip.krishnan@...&lt;/a&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/span&gt;&lt;br class=3D&quot;Apple=\r\n-interchange-newline&quot;&gt;\n&lt;/div&gt;\n&lt;br&gt;&lt;div&gt;&lt;div&gt;On Sep 15, 2011, at 5:46 PM, Ja=\r\nn Algermissen wrote:&lt;/div&gt;&lt;br class=3D&quot;Apple-interchange-newline&quot;&gt;&lt;blockquo=\r\nte type=3D&quot;cite&quot;&gt;&lt;div&gt;&lt;br&gt;On Sep 16, 2011, at 12:20 AM, Erik Mogensen wrote=\r\n:&lt;br&gt;&lt;br&gt;&lt;blockquote type=3D&quot;cite&quot;&gt;On Thu, Sep 15, 2011 at 7:54 PM, Jan Alg=\r\nermissen &lt;&lt;a href=3D&quot;mailto:jan.algermissen@...&quot;&gt;jan.algermissen@=\r\nnordsc.com&lt;/a&gt;&gt; wrote:&lt;br&gt;&lt;/blockquote&gt;&lt;blockquote type=3D&quot;cite&quot;&gt;I think=\r\n using the UserAgent header to negotiate representation features is a nice =\r\nsolution for non-human targeted situations, too. Essentially this means to =\r\nnegotiate incompatible media types based on Accept and the compatible varia=\r\ntions in a given media type based on UserAgent. This might include the addi=\r\ntion of certain Link headers.&lt;br&gt;&lt;/blockquote&gt;&lt;blockquote type=3D&quot;cite&quot;&gt;&lt;br=\r\n&gt;&lt;/blockquote&gt;&lt;blockquote type=3D&quot;cite&quot;&gt;I agree with the &quot;Avoid avoid&quot; here=\r\n. &nbsp;It sounds a lot like out-of-band knowledge, and in the opposite dir=\r\nection than is usual. &nbsp;&quot;I know that V3.1.3 of FooClient doesn&#39;t use th=\r\ne xyzzy link relation, so I&#39;ll just save bandwidth by not sending it&quot;. &nbs=\r\np;The server could end up with a large amount of knowledge. &nbsp;See wurfl=\r\n for an example of this going bad.&lt;br&gt;&lt;/blockquote&gt;&lt;blockquote type=3D&quot;cite=\r\n&quot;&gt;&lt;br&gt;&lt;/blockquote&gt;&lt;blockquote type=3D&quot;cite&quot;&gt;Why not stick to Accept (which=\r\n is that it&#39;s for) and use media type parameters?&lt;br&gt;&lt;/blockquote&gt;&lt;blockquo=\r\nte type=3D&quot;cite&quot;&gt;&lt;br&gt;&lt;/blockquote&gt;&lt;blockquote type=3D&quot;cite&quot;&gt;Accept: applica=\r\ntion/procurement;hypermediacontrols=3Dnew;q=3D1, application/procurement;hy=\r\npermediacontrols=3Dold;q=3D0.3&lt;br&gt;&lt;/blockquote&gt;&lt;br&gt;Been there, done that :-=\r\n) Too enteprisey for my taste. Leads to packaging up feature sets into vers=\r\nion numbers. I&#39;d always let the Accept express the general capability of th=\r\ne client. (Which I read as: &quot;If you hand me application/atom I am pretty su=\r\nre I can fulfill my user&#39;s intent from there&quot;) Versioning makes the whole e=\r\nlegance go away :-)&lt;br&gt;&lt;br&gt;I was thinking more in terms of &#39;hints&#39; or &#39;best=\r\n effort&#39;. Sending mobile devices different content (incl. bu way of a redir=\r\nect) seems ok. So why not &quot;direct that old legacy product we sold 5 years a=\r\ngo to that old (set of) servers we keep around for these cases&quot;?&lt;br&gt;&lt;br&gt;My =\r\noriginal issue, BTW, was routing requests in a load balancer to direct clie=\r\nnts that need a new feature to those services that have the new feature ins=\r\ntalled and are already up and running. In general: situations where you hav=\r\ne scaled to N services behind one IP that run different versions of a servi=\r\nce (e.g. because they are being upgraded one by one while keeping the site =\r\nin operation).&lt;br&gt;&lt;br&gt;Jan&lt;br&gt;&lt;br&gt;&lt;blockquote type=3D&quot;cite&quot;&gt;&lt;br&gt;&lt;/blockquote=\r\n&gt;&lt;blockquote type=3D&quot;cite&quot;&gt;&quot;new&quot; and &quot;old&quot; are obviously bad choices, but y=\r\nou get the idea. &nbsp;That way the media type can express the different &quot;v=\r\nariants&quot; within compatibility, and clients can express their capabilities i=\r\nn a header designed for conneg. &nbsp;Evolvability FTW!&lt;br&gt;&lt;/blockquote&gt;&lt;br=\r\n&gt;&lt;br&gt;&lt;br&gt;&lt;blockquote type=3D&quot;cite&quot;&gt;-- &lt;br&gt;&lt;/blockquote&gt;&lt;blockquote type=3D&quot;=\r\ncite&quot;&gt;-mogsie-&lt;br&gt;&lt;/blockquote&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;--------------------------------=\r\n----&lt;br&gt;&lt;br&gt;Yahoo! Groups Links&lt;br&gt;&lt;br&gt;&lt;*&gt; To visit your group on the=\r\n web, go to:&lt;br&gt; &nbsp;&nbsp;&nbsp;&lt;a href=3D&quot;http://groups.yahoo.com/group=\r\n/rest-discuss/&quot;&gt;http://groups.yahoo.com/group/rest-discuss/&lt;/a&gt;&lt;br&gt;&lt;br&gt;&lt;=\r\n*&gt; Your email settings:&lt;br&gt; &nbsp;&nbsp;&nbsp;Individual Email | Traditi=\r\nonal&lt;br&gt;&lt;br&gt;&lt;*&gt; To change settings online go to:&lt;br&gt; &nbsp;&nbsp;&nbs=\r\np;&lt;a href=3D&quot;http://groups.yahoo.com/group/rest-discuss/join&quot;&gt;http://groups=\r\n.yahoo.com/group/rest-discuss/join&lt;/a&gt;&lt;br&gt; &nbsp;&nbsp;&nbsp;(Yahoo! ID req=\r\nuired)&lt;br&gt;&lt;br&gt;&lt;*&gt; To change settings via email:&lt;br&gt; &nbsp;&nbsp;&nbsp=\r\n;&lt;a href=3D&quot;mailto:rest-discuss-digest@yahoogroups.com&quot;&gt;rest-discuss-digest=\r\n@yahoogroups.com&lt;/a&gt; &lt;br&gt; &nbsp;&nbsp;&nbsp;&lt;a href=3D&quot;mailto:rest-discuss-=\r\nfullfeatured@yahoogroups.com&quot;&gt;rest-discuss-fullfeatured@yahoogroups.com&lt;/a&gt;=\r\n&lt;br&gt;&lt;br&gt;&lt;*&gt; To unsubscribe from this group, send an email to:&lt;br&gt; &nb=\r\nsp;&nbsp;&nbsp;&lt;a href=3D&quot;mailto:rest-discuss-unsubscribe@yahoogroups.com&quot;&gt;=\r\nrest-discuss-unsubscribe@yahoogroups.com&lt;/a&gt;&lt;br&gt;&lt;br&gt;&lt;*&gt; Your use of Y=\r\nahoo! Groups is subject to:&lt;br&gt; &nbsp;&nbsp;&nbsp;&lt;a href=3D&quot;http://docs.ya=\r\nhoo.com/info/terms/&quot;&gt;http://docs.yahoo.com/info/terms/&lt;/a&gt;&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;/b=\r\nlockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;\r\n--Apple-Mail=_3CE7B690-6798-4F85-9773-11EEF8E4C4E4--\r\n\n"}}
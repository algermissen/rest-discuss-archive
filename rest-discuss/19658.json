{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":498432483,"authorName":"Jan Algermissen","from":"Jan Algermissen &lt;jan.algermissen@...&gt;","profile":"algermissen1971","replyTo":"SENDER","senderId":"BHRfNaVgjJOhy2bxiEgTg4UU6Ki2piReZbliXcw6FivKnbvbyyWiHGi0gVZQvUwOEAE6WBe3DD8RyLzpnknLZTBWwQ9f0OPzaffeqEydOd7ubE0","spamInfo":{"isSpam":false,"reason":"3"},"subject":"Re: [rest-discuss] RESTful Toggle","postDate":"1404910045","msgId":19658,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDEzODcwODcxLTE4REYtNEVGQi05RjlBLTU2OUU3MTI1QTYyMUBub3Jkc2MuY29tPg==","inReplyToHeader":"PENGRTFEQUM5LjM3NjQ4JVJvYmJ5LlNpbXBzb25AR0UuY29tPg==","referencesHeader":"PENGRTFEQUM5LjM3NjQ4JVJvYmJ5LlNpbXBzb25AR0UuY29tPg=="},"prevInTopic":19657,"nextInTopic":19659,"prevInTime":19657,"nextInTime":19659,"topicId":19657,"numMessagesInTopic":36,"msgSnippet":"Hi Robby, ... Mint a resource that represents the æonÆ state (e.g. an on-flag) PUT (create) and DELETE the flag using conditional requests: ","rawEmail":"Return-Path: &lt;jan.algermissen@...&gt;\r\nX-Sender: jan.algermissen@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 29818 invoked by uid 102); 9 Jul 2014 12:47:28 -0000\r\nX-Received: from unknown (HELO mtaq1.grp.bf1.yahoo.com) (10.193.84.32)\n  by m4.grp.bf1.yahoo.com with SMTP; 9 Jul 2014 12:47:28 -0000\r\nX-Received: (qmail 12809 invoked from network); 9 Jul 2014 12:47:28 -0000\r\nX-Received: from unknown (HELO mout.kundenserver.de) (212.227.17.13)\n  by mtaq1.grp.bf1.yahoo.com with SMTP; 9 Jul 2014 12:47:28 -0000\r\nX-Received: from [10.20.84.23] (firewall01.talentformation.kunden.net-lab.net [80.69.33.177])\n\tby mrelayeu.kundenserver.de (node=mreue105) with ESMTP (Nemesis)\n\tid 0MbxnK-1XLyxM2KKk-00JM4y; Wed, 09 Jul 2014 14:47:26 +0200\r\nContent-Type: text/plain; charset=windows-1252\r\nMime-Version: 1.0 (Mac OS X Mail 7.3 &#92;(1878.2&#92;))\r\nIn-Reply-To: &lt;CFE1DAC9.37648%Robby.Simpson@...&gt;\r\nDate: Wed, 9 Jul 2014 14:47:25 +0200\r\nCc: rest-discuss@yahoogroups.com\r\nContent-Transfer-Encoding: quoted-printable\r\nMessage-Id: &lt;13870871-18DF-4EFB-9F9A-569E7125A621@...&gt;\r\nReferences: &lt;CFE1DAC9.37648%Robby.Simpson@...&gt;\r\nTo: &quot;Simpson, Robby (GE Energy Management)&quot; &lt;robby.simpson@...&gt;\r\nX-Mailer: Apple Mail (2.1878.2)\r\nX-Provags-ID: V02:K0:/Fh2+ac1Wp89UMtuRP6feEExUtD3v1EeRBZbTXWnFHY\n m0DaTDX38tJOZScUWwtrLVyr5RRHk09sKmhsAeYnnohQ8v98qM\n Vh322iimxoPvlJX3xhVcnE6p9PNwhPOCJvgtVdGnAITXsGHO1m\n N5cgpAj3NxIbrbNeKG0z/XhI55mpF2KZ/umVBVxUvX1072soFM\n UNWrMed3AtS/WNpEJ4Pqvv2ZBO/OAd5axch5yUH1SVnn7179sF\n hu5IKgCXzafesf/5lqhRGc07IzUmGwxkGsWyXw3qqPLHWmD5Hq\n FG0tFxoLXZ+j0NC7N3hD0R/Jok/cFxTd2R/TVHe+jTFIChDbAG\n 7W7/akr/D1TxewOfT8sNsTFNE/BXNk8pRxdu9pnNYvdPRm2Kyz\n YGnfH3aTw7F+A==\r\nX-eGroups-Msg-Info: 2:3:4:0:0\r\nSubject: Re: [rest-discuss] RESTful Toggle\r\nX-Yahoo-Group-Post: member; u=498432483; y=WXnu3EWYlTiqTPaZ-1zjj46PHvINf1WsMagI9zsW54THi4VPVuTvxj2m\r\nX-Yahoo-Profile: algermissen1971\r\nFrom: Jan Algermissen &lt;jan.algermissen@...&gt;\r\n\r\nHi Robby,\n\nOn 08 Jul 2014, at 23:28, &#39;Simpson, Robby (GE Energy Management)=\r\n&#39; robby.simpson@... [rest-discuss] &lt;rest-discuss-noreply@yahoogroups.com=\r\n&gt; wrote:\n\n&gt; Hi,\n&gt; \n&gt; I&#39;ve been scratching my head over this one for a while=\r\n and am hoping I can\n&gt; get some help.\n&gt; \n&gt; Imagine a light switch with one =\r\nsimple resource: /state , where state can\n&gt; be &quot;On&quot; or &quot;Off.&quot;\n&gt; \n&gt; One can =\r\nPUT to /state , changing /state to either &quot;On&quot; or &quot;Off.&quot;\n&gt; Similarly, a GET=\r\n to /state will tell you if the light is currently &quot;On&quot; or\n&gt; &quot;Off.&quot;\n&gt; \n&gt; Wh=\r\nere I&#39;m struggling is with a safe &quot;Toggle&quot; mechanism. That is, if\n&gt; /state =\r\nis &quot;On&quot;, change it to &quot;Off&quot; and vice versa.\n\nMint a resource that represent=\r\ns the =91on=92 state (e.g. an on-flag)\n\nPUT (create) and DELETE the flag us=\r\ning conditional requests:\n\nCreate-if-not-exists\n\nPUT /toggles/42?on-flag\nIf=\r\n-None-Match: *\n\ndelete if exists:\nDELETE /toggles/42?on-flag\nIf-Match: *\n\nH=\r\nTH,\n\nJan\n\n\n\n\n\n\n\n&gt; \n&gt; I understand that one solution would be to simply perf=\r\norm a GET on /state\n&gt; and then PUT the opposite. However, I am concerned wi=\r\nth both the overhead\n&gt; and latency this entails as well as the potential fo=\r\nr a race condition\n&gt; (what if /state changes between the GET and the PUT?).=\r\n\n&gt; \n&gt; Any solution I&#39;ve looked at thus far seems to violate RESTful princip=\r\nles,\n&gt; particularly regarding idempotency. In short, can one safely toggle?=\r\n\n&gt; \n&gt; Any suggestions?\n&gt; \n&gt; Thanks,\n&gt; Robby\n&gt; \n&gt; \n&gt; \n\n\n"}}
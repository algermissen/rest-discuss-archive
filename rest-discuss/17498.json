{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":69164307,"authorName":"mike amundsen","from":"mike amundsen &lt;mamund@...&gt;","profile":"mamund","replyTo":"SENDER","senderId":"YKH3jv96ydI9SvfHKSAVNVi7GQfNecQo-wT8oDUWYzJPn5xw8ZdsTNZZJ5ScxGSm9ce21ibeAtMkjbOKWPKqOvenDB4zOUk","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [rest-discuss] Browser don&#39;t send the Etag on a POST","postDate":"1303676439","msgId":17498,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PEJBTkxrVGlrX0YzZnA1cVdnb0V1QkU0SFlYNlE2dV8tQkRnQG1haWwuZ21haWwuY29tPg==","inReplyToHeader":"PEJBTkxrVGlueDIzSjk0Zl9rZ2M3VEZlNTZ1djZSMGhEczhBQG1haWwuZ21haWwuY29tPg==","referencesHeader":"PEJBTkxrVGlueDIzSjk0Zl9rZ2M3VEZlNTZ1djZSMGhEczhBQG1haWwuZ21haWwuY29tPg=="},"prevInTopic":17497,"nextInTopic":17499,"prevInTime":17497,"nextInTime":17499,"topicId":17497,"numMessagesInTopic":5,"msgSnippet":"This is expected behavior for common Web browsers; they do not return the ETag on POST. I think the W3C Amaya browser is an exception to this rule, but it s","rawEmail":"Return-Path: &lt;mca@...&gt;\r\nX-Sender: mca@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 60570 invoked from network); 24 Apr 2011 20:20:40 -0000\r\nX-Received: from unknown (98.137.34.45)\n  by m6.grp.sp2.yahoo.com with QMQP; 24 Apr 2011 20:20:40 -0000\r\nX-Received: from unknown (HELO mail-fx0-f52.google.com) (209.85.161.52)\n  by mta2.grp.sp2.yahoo.com with SMTP; 24 Apr 2011 20:20:40 -0000\r\nX-Received: by fxm6 with SMTP id 6so1783644fxm.11\n        for &lt;rest-discuss@yahoogroups.com&gt;; Sun, 24 Apr 2011 13:20:39 -0700 (PDT)\r\nMIME-Version: 1.0\r\nX-Received: by 10.223.17.141 with SMTP id s13mr3627562faa.23.1303676439032; Sun,\n 24 Apr 2011 13:20:39 -0700 (PDT)\r\nX-Received: by 10.223.58.208 with HTTP; Sun, 24 Apr 2011 13:20:39 -0700 (PDT)\r\nIn-Reply-To: &lt;BANLkTinx23J94f_kgc7TFe56uv6R0hDs8A@...&gt;\r\nReferences: &lt;BANLkTinx23J94f_kgc7TFe56uv6R0hDs8A@...&gt;\r\nDate: Sun, 24 Apr 2011 16:20:39 -0400\r\nX-Google-Sender-Auth: N_iJh5l3_9nu32VwHCuhFQ6oBq8\r\nMessage-ID: &lt;BANLkTik_F3fp5qWgoEuBE4HYX6Q6u_-BDg@...&gt;\r\nTo: Alessandro Nadalin &lt;alessandro.nadalin@...&gt;\r\nCc: rest-discuss@yahoogroups.com\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Transfer-Encoding: quoted-printable\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: mike amundsen &lt;mamund@...&gt;\r\nSubject: Re: [rest-discuss] Browser don&#39;t send the Etag on a POST\r\nX-Yahoo-Group-Post: member; u=69164307; y=Mj1UTSwM_9cpkf99BUKcS25_WKcncecj8Do2vXqd7kSo\r\nX-Yahoo-Profile: mamund\r\n\r\nThis is expected behavior for common Web browsers; they do not return\nthe E=\r\nTag on POST. I think the W3C Amaya browser is an exception to\nthis rule, bu=\r\nt it&#39;s been a while since I worked with that one.\n\nI&#39;ve used two ways to re=\r\nsolve this &quot;missing ETag&quot; problem when sending\ndata to servers.\n\nThe easies=\r\nt approach is to include the ETag as an argument on the URI\nsupplied in the=\r\n POST form and have the server use that argument to do\nthe concurrency chec=\r\nk:\n&lt;form method=3D&quot;post&quot; action=3D&quot;/resource?etag=3Dq1w2e3r4t5&quot;&gt;\n...\n&lt;/form=\r\n&gt;\n\nAn alternate POST FORM solution could be to use a hidden field in the\nFO=\r\nRM to hold the concurrency value:\n&lt;form method=3D&quot;post&quot; action=3D&quot;/resource=\r\n&quot;&gt;\n...&lt;input type=3D&quot;hidden&quot; name=3D&quot;etag&quot; value=3D&quot;q1w2e3r4t5&quot; /&gt;\n&lt;/form&gt;\n=\r\n\nAnother option is to abandon the Web browser&#39;s POST form pattern and\nuse X=\r\nmlHttpRequest via Javascript to capture the Etag and execute the\nmethod dir=\r\nectly.  By using Javascript you can also use the PUT or\nPATCH methods if th=\r\nat is more appropriate (semantically) for the\noperatoin you wish to perform=\r\n.\n\nI use the first option when I am in an environment where javascript is\nn=\r\not allowed or undesirable. I use the second option when &quot;Ajax&quot; style\nintera=\r\nctions with the server are expected.\n\nmca\nhttp://amundsen.com/blog/\nhttp://=\r\ntwitter.com@mamund\nhttp://mamund.com/foaf.rdf#me\n\n\n#RESTFest 2010\nhttp://re=\r\nst-fest.googlecode.com\n\n\n\n\nOn Sun, Apr 24, 2011 at 15:55, Alessandro Nadali=\r\nn\n&lt;alessandro.nadalin@...&gt; wrote:\n&gt; Hi guys,\n&gt;\n&gt; I&#39;m testing some bro=\r\nwser&#39;s behaviour with preconditions.\n&gt;\n&gt; I&#39;m GETting /foo, which is a webpa=\r\nge in text/html with an Etag (1234)\n&gt; in the HTTP headers, with a form whic=\r\nh has an action pointing to the\n&gt; same URL.\n&gt; So I would expect the browser=\r\n to send the If-Match header when I\n&gt; submit the form, but that doesn&#39;t hap=\r\npens ( I can&#39;t use PUT for\n&gt; obvious reasons, hope HTML5 will integrate it =\r\n[ thanks mike ] ).\n&gt;\n&gt; Is this the expected behavior? How can I fix the &quot;lo=\r\nst update&quot;\n&gt; problem, in a web application, at the protocol level?\n&gt;\n&gt;\n&gt; --=\r\n\n&gt; Nadalin Alessandro\n&gt; www.odino.org\n&gt; www.twitter.com/_odino_\n&gt;\n&gt;\n&gt; -----=\r\n-------------------------------\n&gt;\n&gt; Yahoo! Groups Links\n&gt;\n&gt;\n&gt;\n&gt;\n\n"}}
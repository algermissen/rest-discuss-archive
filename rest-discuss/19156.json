{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":527514227,"authorName":"Paul Moore","from":"Paul Moore &lt;paul.k.moore@...&gt;","profile":"paul_k_moore","replyTo":"SENDER","senderId":"2vFWRZVEpUn4s3_iDhXkagDGgC_RO4bpcAPeWtuJ6t8dfV3kdSNLtulKxBltT6IssMJvOHllH2au7Zm_vh9ZRy4aS-o-huJAkyBGQw","spamInfo":{"isSpam":false,"reason":"12"},"subject":"How to identify existing resource in a POST(a) request","postDate":"1351269000","msgId":19156,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDJBMzdCNkIwLTgzMzUtNDQzRS1BM0ZFLTU4ODBGNDU4NkYzN0BsaW5lb25lLm5ldD4="},"prevInTopic":0,"nextInTopic":19157,"prevInTime":19155,"nextInTime":19157,"topicId":19156,"numMessagesInTopic":10,"msgSnippet":"Hi all, I m currently wrangling with a problem about identification of existing resources within the representation of a POST request. To make this more","rawEmail":"Return-Path: &lt;paulkmoore@...&gt;\r\nX-Sender: paulkmoore@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 87360 invoked from network); 26 Oct 2012 16:30:05 -0000\r\nX-Received: from unknown (98.137.34.44)\n  by m4.grp.sp2.yahoo.com with QMQP; 26 Oct 2012 16:30:05 -0000\r\nX-Received: from unknown (HELO mail-we0-f174.google.com) (74.125.82.174)\n  by mta1.grp.sp2.yahoo.com with SMTP; 26 Oct 2012 16:30:05 -0000\r\nX-Received: by mail-we0-f174.google.com with SMTP id t9so1483072wey.19\n        for &lt;rest-discuss@yahoogroups.com&gt;; Fri, 26 Oct 2012 09:30:04 -0700 (PDT)\r\nX-Received: by 10.216.199.166 with SMTP id x38mr14423218wen.75.1351269004224;\n        Fri, 26 Oct 2012 09:30:04 -0700 (PDT)\r\nReturn-Path: &lt;paulkmoore@...&gt;\r\nX-Received: from [10.0.2.197] (host109-156-68-113.range109-156.btcentralplus.com. [109.156.68.113])\n        by mx.google.com with ESMTPS id eq2sm324wib.1.2012.10.26.09.30.02\n        (version=TLSv1/SSLv3 cipher=OTHER);\n        Fri, 26 Oct 2012 09:30:03 -0700 (PDT)\r\nContent-Type: multipart/alternative; boundary=Apple-Mail-4--700353839\r\nDate: Fri, 26 Oct 2012 17:30:00 +0100\r\nMessage-Id: &lt;2A37B6B0-8335-443E-A3FE-5880F4586F37@...&gt;\r\nTo: rest-discuss@yahoogroups.com\r\nMime-Version: 1.0 (Apple Message framework v1084)\r\nX-Mailer: Apple Mail (2.1084)\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Paul Moore &lt;paul.k.moore@...&gt;\r\nSubject: How to identify existing resource in a POST(a) request\r\nX-Yahoo-Group-Post: member; u=527514227; y=ArGFx0hZamtLMjo45e4GuWaLFZD9tp5j9d0M31tKnhljxupcdQTgqGw197K5x5_ytx9RGVGjoRi-L3g\r\nX-Yahoo-Profile: paul_k_moore\r\n\r\n\r\n--Apple-Mail-4--700353839\r\nContent-Transfer-Encoding: quoted-printable\r\nContent-Type: text/plain;\n\tcharset=windows-1252\r\n\r\nHi all,\n\nI&#39;m currently wrangling with a problem about identification of exi=\r\nsting resources within the representation of a POST request.\n\nTo make this =\r\nmore tangible, lets consider that:\n\n(i) there are resources at the followin=\r\ng URI&#39;s that represent person-like things\n\n\texample.com/persons/1\n\texample.=\r\ncom/persons/2\n\tgraph.facebook.com/2\n\n(ii) and that my user-agent has cached=\r\n them, \n(iii) and that I am authoritative for example.com:\n\nLet&#39;s also add =\r\nthat there is a collection at &quot;example.com/friends&quot; which with a GET reques=\r\nt returns a list of (links to) persons that have been classified as friends=\r\n.\n\nThe /friends collection resource accepts POST, and interprets the repres=\r\nentation as &#39;someone to add to my friends&#39; i.e. a reasonably standard imple=\r\nmentation of POST(a) for a collection.\n\nOption 1:  Use a domain specific id=\r\nentifier\n\nIf I consider only the local domain (ignoring the externals for a=\r\n moment) then using an attribute such as &#39;id&#39; (or similar) seems reasonable=\r\n for identification of the resource.  For example, the representation indic=\r\nates an &#39;id&#39; of 2, then I could *infer* that the intent is to add &quot;example.=\r\ncom/persons/2&quot; as a friend.  The issues here are that either:\n\ni) only a su=\r\nbset of resources must be POSTed to the /friends collection (i.e. person li=\r\nke things), or\nii) a non-overlapping identifier has to be used (i.e. nothin=\r\ng else in the domain can have an &#39;id&#39; of 2.  \n\nWhilst implementation of UUI=\r\nDs (or similar) would work around the uniqueness of identifier point (ii), =\r\nit cannot be guaranteed that only a subset of (person like) resources will =\r\nbe sent to the server (always the client&#39;s intent).\n\nFurther, when we intro=\r\nduce external domains, even the UUID solution is inadequate (i.e. is it an =\r\nexample.com identifier or a facebook.com identifier?) as the domain is not =\r\nknown.\n\nSo, I think this slightly clumsy derivation concludes with the answ=\r\ner, use the URI - it is after all the global identifier.\n\nNote: whilst this=\r\n appears obvious, compare with *all* the &#39;id&#39; based solutions in the wild -=\r\n I suspect that &#39;id&#39; based solutions will remain limited to local domain so=\r\nlutions rather than embracing the distributed aspects of REST.\n\nOption 2: U=\r\nse the URI in the representation\n\nThe typical / established approach for re=\r\npresentations to identify their resource is through a &quot;self link&quot;.  This is=\r\n variability encoded as a link with a &quot;rel&quot; of &quot;self&quot; (IANA link relation),=\r\n or just as a property of a attribute e.g. link =3D&gt; uri... or self =3D&gt; ur=\r\ni...  Irrespective of the encoding, what we are mandating here is that the =\r\nrepresentation has a &quot;self&quot; identifier in it, and that identifier is a URI.=\r\n\n\nOption 3: Use the URI in the Request headers...\n\nMandating that such a se=\r\nlf link is encoded in the representation seems somewhat onerous on media ty=\r\npe designers, and ripe for disagreement.  I was therefore wondering if any =\r\nstandardised HTTP Request headers could help here?\n\nThe &#39;Referer&#39; header ap=\r\npears to offer hope:\n\n&quot;The Referer[sic] request-header field allows the cli=\r\nent to specify, for the server=92s benefit, the address (URI) of the resour=\r\nce from which the Request-URI was obtained allows the client to specify, fo=\r\nr the server=92s benefit, the address (URI) of the resource from which the =\r\nRequest-URI was obtained&quot; [RFC2616]\n\nHowever, I&#39;ve not seen or heard about =\r\nthis header being used in this manner.  Does anybody know of any research i=\r\nn this space?\n\nAny thoughts on Options 2 or 3?\n\nThanks in advance\n\nPaul\n\n\n\n=\r\n\n\n\n\n\r\n--Apple-Mail-4--700353839\r\nContent-Transfer-Encoding: quoted-printable\r\nContent-Type: text/html;\n\tcharset=windows-1252\r\n\r\n&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body style=3D&quot;word-wrap: break-word; -webkit-nbsp-mode:=\r\n space; -webkit-line-break: after-white-space; &quot;&gt;&lt;div&gt;Hi all,&lt;/div&gt;&lt;div&gt;&lt;br=\r\n&gt;&lt;/div&gt;I&#39;m currently wrangling with a problem about identification of exist=\r\ning resources within the representation of a POST request.&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;d=\r\niv&gt;To make this more tangible, lets consider that:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;blo=\r\nckquote class=3D&quot;webkit-indent-blockquote&quot; style=3D&quot;margin: 0 0 0 40px; bor=\r\nder: none; padding: 0px;&quot;&gt;&lt;div&gt;(i) there are resources at the following URI=\r\n&#39;s that represent person-like things&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span class=\r\n=3D&quot;Apple-tab-span&quot; style=3D&quot;white-space:pre&quot;&gt;\t&lt;/span&gt;&lt;a href=3D&quot;http://exa=\r\nmple.com/persons/1&quot;&gt;example.com/persons/1&lt;/a&gt;&lt;/div&gt;&lt;div&gt;&lt;span class=3D&quot;Appl=\r\ne-tab-span&quot; style=3D&quot;white-space:pre&quot;&gt;\t&lt;/span&gt;&lt;a href=3D&quot;http://example.com=\r\n/persons/2&quot;&gt;example.com/persons/2&lt;/a&gt;&lt;/div&gt;&lt;div&gt;&lt;span class=3D&quot;Apple-tab-sp=\r\nan&quot; style=3D&quot;white-space:pre&quot;&gt;\t&lt;/span&gt;&lt;a href=3D&quot;http://graph.facebook.com/=\r\n2&quot;&gt;graph.facebook.com/2&lt;/a&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;(ii) and&nbsp;that my =\r\nuser-agent has cached them,&nbsp;&lt;/div&gt;&lt;div&gt;(iii) and that I am authoritati=\r\nve for &lt;a href=3D&quot;http://example.com&quot;&gt;example.com&lt;/a&gt;:&lt;/div&gt;&lt;/blockquote&gt;&lt;d=\r\niv&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Let&#39;s also add that there is a collection at &quot;&lt;a href=3D&quot;=\r\nhttp://example.com/friends&quot;&gt;example.com/friends&lt;/a&gt;&quot; which with a GET reque=\r\nst returns a list of (links to) persons that have been classified as friend=\r\ns.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The /friends collection resource accepts POST, =\r\nand interprets the representation as &#39;someone to add to my friends&#39; i.e. a =\r\nreasonably standard implementation of POST(a) for a collection.&lt;/div&gt;&lt;div&gt;&lt;=\r\nbr&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;Option 1: &nbsp;Use a domain specific identifier&lt;/b&gt;&lt;/div&gt;=\r\n&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;If I consider only the local domain (ignoring the exter=\r\nnals for a moment) then using an attribute such as &#39;id&#39; (or similar) seems =\r\nreasonable for identification of the resource. &nbsp;For example, the repre=\r\nsentation indicates an &#39;id&#39; of 2, then I could *infer* that the intent is t=\r\no add &quot;&lt;a href=3D&quot;http://example.com/persons/2&quot;&gt;example.com/persons/2&lt;/a&gt;&quot; =\r\nas a friend. &nbsp;The issues here are that either:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;bl=\r\nockquote class=3D&quot;webkit-indent-blockquote&quot; style=3D&quot;margin: 0 0 0 40px; bo=\r\nrder: none; padding: 0px;&quot;&gt;&lt;div&gt;i) only a subset of resources must be POSTe=\r\nd to the /friends collection (i.e. person like things),&nbsp;or&lt;/div&gt;&lt;div&gt;i=\r\ni) a non-overlapping identifier has to be used (i.e. nothing else in the do=\r\nmain can have an &#39;id&#39; of 2. &nbsp;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Wh=\r\nilst implementation of UUIDs (or similar) would work around the uniqueness =\r\nof identifier point (ii), it cannot be guaranteed that only a subset of (pe=\r\nrson like) resources will be sent to the server (always the client&#39;s intent=\r\n).&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Further, when we&nbsp;introduce external domain=\r\ns, even the UUID solution is inadequate (i.e. is it an &lt;a href=3D&quot;http://ex=\r\nample.com&quot;&gt;example.com&lt;/a&gt; identifier or a &lt;a href=3D&quot;http://facebook.com&quot;&gt;=\r\nfacebook.com&lt;/a&gt; identifier?) as the domain is not known.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/d=\r\niv&gt;&lt;div&gt;So, I think this slightly clumsy derivation concludes with the answ=\r\ner, use the URI - it is after all the global identifier.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/di=\r\nv&gt;&lt;div&gt;Note: whilst this appears obvious, compare with *all* the &#39;id&#39; based=\r\n solutions in the wild - I suspect that &#39;id&#39; based solutions will remain li=\r\nmited to local domain solutions rather than embracing the distributed aspec=\r\nts of REST.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;Option 2: Use the URI in the repres=\r\nentation&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;The typical / established appr=\r\noach for representations to identify their resource is through a &quot;self link=\r\n&quot;. &nbsp;This is variability encoded as a link with a &quot;rel&quot; of &quot;self&quot; (IANA=\r\n link relation), or just as a property of a attribute e.g. link =3D&gt; uri=\r\n... or self =3D&gt; uri... &nbsp;Irrespective of the encoding, what we are =\r\nmandating here is that the representation has a &quot;self&quot; identifier in it, an=\r\nd that identifier is a URI.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;Option 3: Use the U=\r\nRI in the Request headers...&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;Mandating =\r\nthat such a self link is encoded in the representation seems somewhat onero=\r\nus on media type designers, and ripe for disagreement. &nbsp;I was therefor=\r\ne wondering if any standardised HTTP Request headers could help here?&lt;/div&gt;=\r\n&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The &#39;Referer&#39; header appears to offer hope:&lt;/div&gt;&lt;div&gt;&lt;=\r\nbr&gt;&lt;/div&gt;&lt;blockquote class=3D&quot;webkit-indent-blockquote&quot; style=3D&quot;margin: 0 =\r\n0 0 40px; border: none; padding: 0px;&quot;&gt;&lt;div&gt;&lt;i&gt;&quot;The&nbsp;Referer[sic] reque=\r\nst-header field&nbsp;allows the client to specify, for the server=92s benef=\r\nit, the address (URI) of the resource from which the&nbsp;Request-URI&nbsp;=\r\nwas obtained&nbsp;allows the client to specify, for the server=92s benefit,=\r\n the address (URI) of the resource from which the&nbsp;Request-URI&nbsp;was=\r\n obtained&quot; [RFC2616]&lt;/i&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;i&gt;&lt;br&gt;&lt;/i&gt;&lt;/div&gt;&lt;div&gt;Howev=\r\ner, I&#39;ve not seen or heard about this header being used in this manner. &nb=\r\nsp;Does anybody know of any research in this space?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;di=\r\nv&gt;Any thoughts on Options 2 or 3?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks in advanc=\r\ne&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Paul&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br=\r\n&gt;&lt;/div&gt;&lt;div&gt;&lt;div style=3D&quot;margin-top: 0px; margin-right: 0px; margin-bottom=\r\n: 0px; margin-left: 0px; font: normal normal normal 10px/normal Times; &quot;&gt;&lt;b=\r\nr&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div style=3D&quot;margin-top: 0px; m=\r\nargin-right: 0px; margin-bottom: 0px; margin-left: 0px; font: normal normal=\r\n normal 10px/normal Times; &quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;\r\n--Apple-Mail-4--700353839--\r\n\n"}}
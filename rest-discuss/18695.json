{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":511039257,"authorName":"Mike Kelly","from":"Mike Kelly &lt;mikekelly321@...&gt;","profile":"mikekelly8762348","replyTo":"SENDER","senderId":"eG5FF_3wq4qhahKepglierPMSRo5_DXBEgLh1hA5D2pvQTddAbDWjcS1FSG_AKSE2iPofn2rwwwBhKlcoMvcfprQrK0OvmK_lqU","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [rest-discuss] Building a web app/api","postDate":"1333399586","msgId":18695,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PENBTnFpWkpZcjByc1MtdW44aXQ1QlpOVG5mdktLZDYwQk5SWmZ1RDJqOTNWeWowYXpqZ0BtYWlsLmdtYWlsLmNvbT4=","inReplyToHeader":"PENBUFNDcXQ1U1U9VXY3ZjlnT3ZoVzJVeDRzNmFKT2E9ZHl2bnluVnhDVlREUnFWVGpId0BtYWlsLmdtYWlsLmNvbT4=","referencesHeader":"PENBUFNDcXQ1U1U9VXY3ZjlnT3ZoVzJVeDRzNmFKT2E9ZHl2bnluVnhDVlREUnFWVGpId0BtYWlsLmdtYWlsLmNvbT4="},"prevInTopic":18694,"nextInTopic":18714,"prevInTime":18694,"nextInTime":18696,"topicId":18694,"numMessagesInTopic":3,"msgSnippet":"Ruby on rails has decent conventions for dealing with this stuff, probably worth checking it out","rawEmail":"Return-Path: &lt;mikekelly321@...&gt;\r\nX-Sender: mikekelly321@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 4889 invoked from network); 2 Apr 2012 20:46:27 -0000\r\nX-Received: from unknown (98.137.34.45)\n  by m16.grp.sp2.yahoo.com with QMQP; 2 Apr 2012 20:46:27 -0000\r\nX-Received: from unknown (HELO mail-yw0-f44.google.com) (209.85.213.44)\n  by mta2.grp.sp2.yahoo.com with SMTP; 2 Apr 2012 20:46:27 -0000\r\nX-Received: by yhkk25 with SMTP id k25so1849189yhk.17\n        for &lt;rest-discuss@yahoogroups.com&gt;; Mon, 02 Apr 2012 13:46:27 -0700 (PDT)\r\nMIME-Version: 1.0\r\nX-Received: by 10.60.0.196 with SMTP id 4mr14687999oeg.0.1333399586977; Mon, 02\n Apr 2012 13:46:26 -0700 (PDT)\r\nX-Received: by 10.60.121.34 with HTTP; Mon, 2 Apr 2012 13:46:26 -0700 (PDT)\r\nIn-Reply-To: &lt;CAPSCqt5SU=Uv7f9gOvhW2Ux4s6aJOa=dyvnynVxCVTDRqVTjHw@...&gt;\r\nReferences: &lt;CAPSCqt5SU=Uv7f9gOvhW2Ux4s6aJOa=dyvnynVxCVTDRqVTjHw@...&gt;\r\nDate: Mon, 2 Apr 2012 21:46:26 +0100\r\nMessage-ID: &lt;CANqiZJYr0rsS-un8it5BZNTnfvKKd60BNRZfuD2j93Vyj0azjg@...&gt;\r\nTo: Vitaly Stakhov &lt;vitaly.st@...&gt;\r\nCc: rest-discuss@yahoogroups.com\r\nContent-Type: multipart/alternative; boundary=e89a8fb1edeab9b70504bcb848c4\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Mike Kelly &lt;mikekelly321@...&gt;\r\nSubject: Re: [rest-discuss] Building a web app/api\r\nX-Yahoo-Group-Post: member; u=511039257; y=4OWZVDFUIH1VT2tB6HoK_dzyxlJ20AMzugJSMmq5tXur1tqDBxoeM4jBQyQFumrcA9cFNQ40hqTpsTU\r\nX-Yahoo-Profile: mikekelly8762348\r\n\r\n\r\n--e89a8fb1edeab9b70504bcb848c4\r\nContent-Type: text/plain; charset=windows-1252\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\nRuby on rails has decent conventions for dealing with this stuff, probably\n=\r\nworth checking it out\n\nOn Mon, Apr 2, 2012 at 8:07 PM, Vitaly Stakhov &lt;vita=\r\nly.st@...&gt; wrote:\n\n&gt; **\n&gt;\n&gt;\n&gt; I&#39;m about to build a web app that shoul=\r\nd expose its functionality via API\n&gt; and I&#39;m trying to find the most effect=\r\nive way to do that and would like to\n&gt; hear your thoughts on the topic.\n&gt; T=\r\nhe functionality of the &#39;website&#39; and the API intersect, with API having\n&gt; =\r\nadditional features that should not be available from the website (from\n&gt; b=\r\nrowser). A traditional approach to building such systems seems to be\n&gt; buil=\r\nding a website and an API as two separate projects, probably even using\n&gt; d=\r\nifferent technologies. That seems ineffective as there are 2 places\n&gt; (webs=\r\nite and api) which have to invoke the same business logic with all the\n&gt; jo=\r\nys as a result. For example, adding a feature that should be exposed in\n&gt; b=\r\noth requires adding it to 2 places. Basically you should always think\n&gt; abo=\r\nut keeping your website and API in sync. Not fun.\n&gt;\n&gt; And I don&#39;t want to h=\r\nave browsers and machine clients to work with the\n&gt; same html as it can eas=\r\nily become too verbose.\n&gt;\n&gt; Another way is to have the same set of resource=\r\ns that a browser and\n&gt; programmatic clients communicate with and use conten=\r\nt negotiation to either\n&gt; return text/html (for browser) or application/vnd=\r\n.whatever+json (for\n&gt; programmatic clients). With this approach only the co=\r\nde that converts\n&gt; resource objects to representations have to differ. I ha=\r\nve a couple of\n&gt; concerns with this approach as well:\n&gt;\n&gt;    1. There are f=\r\neatures that should be available via api only, meaning\n&gt;    html representa=\r\ntions may not have the same links available in json for the\n&gt;    specific r=\r\nesource. I&#39;m not sure this is correct as depending on which media\n&gt;    type=\r\n the client asks it may get completely different features. Feels kinda\n&gt;   =\r\n wrong, but is it?\n&gt;    2. Earlier or later the two media types will start =\r\nto diverge,\n&gt;    specifically when we have to take care about evolvability =\r\nof the &#39;machine&#39;\n&gt;    media type, while that is not a concern for &#39;humans&#39; =\r\nhtml. And here we go\n&gt;    again  having to have different links between htm=\r\nl and json representations.\n&gt;    3. Browsers do only GET and POST. But that=\r\n can be pretty easily\n&gt;    overridden by X-HTTP-Method-Override to do PUT a=\r\nnd DELETE.\n&gt;\n&gt; What are your overall thoughts and experience on the topic?\n=\r\n&gt;\n&gt; Thanks,\n&gt; Vitaly\n&gt;\n&gt;  \n&gt;\n\r\n--e89a8fb1edeab9b70504bcb848c4\r\nContent-Type: text/html; charset=windows-1252\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\nRuby on rails has decent conventions for dealing with this stuff, probably =\r\nworth checking it out=A0&lt;br&gt;&lt;br&gt;&lt;div class=3D&quot;gmail_quote&quot;&gt;On Mon, Apr 2, 2=\r\n012 at 8:07 PM, Vitaly Stakhov &lt;span dir=3D&quot;ltr&quot;&gt;&lt;&lt;a href=3D&quot;mailto:vita=\r\nly.st@...&quot;&gt;vitaly.st@...&lt;/a&gt;&gt;&lt;/span&gt; wrote:&lt;br&gt;\n&lt;blockquote =\r\nclass=3D&quot;gmail_quote&quot; style=3D&quot;margin:0 0 0 .8ex;border-left:1px #ccc solid=\r\n;padding-left:1ex&quot;&gt;\n\n\n&lt;u&gt;&lt;/u&gt;\n\n\n\n\n\n\n\n\n\n\n&lt;div style&gt;\n&lt;span&gt;=A0&lt;/span&gt;\n\n\n&lt;div=\r\n&gt;\n  &lt;div&gt;\n\n\n    &lt;div&gt;\n      \n      \n      &lt;p&gt;&lt;/p&gt;&lt;div style=3D&quot;text-align:l=\r\neft&quot;&gt;I&#39;m about to build a web app that should expose its functionality =\r\nvia API and I&#39;m trying to find the most effective way to do that and wo=\r\nuld like to hear your thoughts on the topic.&lt;/div&gt;\n\n&lt;div style=3D&quot;text-alig=\r\nn:left&quot;&gt;The functionality of the &#39;website&#39; and the API intersect, w=\r\nith API having additional features that should not be available from the we=\r\nbsite (from browser). A traditional approach to building such systems seems=\r\n to be building a website and an API as two separate projects, probably eve=\r\nn using different technologies. That seems ineffective as there are 2 place=\r\ns (website and api) which have to invoke the same business logic with all t=\r\nhe joys as a result. For example, adding a feature that should be exposed i=\r\nn both requires adding it to 2 places. Basically you should always think ab=\r\nout keeping your website and API in sync. Not fun.&lt;/div&gt;\n\n&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;d=\r\niv&gt;&lt;div&gt;And I don&#39;t want to have browsers and machine clients to work w=\r\nith the same html as it can easily become too verbose.&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;=\r\n&lt;/div&gt;&lt;div&gt;Another way is to have the same set of resources that a browser =\r\nand programmatic clients communicate with and use content negotiation to ei=\r\nther return text/html (for browser) or application/vnd.whatever+json (for p=\r\nrogrammatic clients). With this approach only the code that converts resour=\r\nce objects to representations have to differ. I have a couple of concerns w=\r\nith this approach as well:&lt;/div&gt;\n\n&lt;div&gt;&lt;ol&gt;&lt;li&gt;There are features that shou=\r\nld be available via api only, meaning html representations may not have the=\r\n same links available in json for the specific resource. I&#39;m not sure t=\r\nhis is correct as depending on which media type the client asks it may get =\r\ncompletely different features. Feels kinda wrong, but is it?&lt;/li&gt;\n\n&lt;li&gt;Earl=\r\nier or later the two media types will start to diverge, specifically when w=\r\ne have to take care about evolvability of the &#39;machine&#39; media type,=\r\n while that is not a concern for &#39;humans&#39; html. And here we go agai=\r\nn =A0having to have different links between html and json representations.&lt;=\r\n/li&gt;\n\n&lt;li&gt;Browsers do only GET and POST. But that can be pretty easily over=\r\nridden by X-HTTP-Method-Override to do PUT and DELETE.&lt;/li&gt;&lt;/ol&gt;&lt;div&gt;What a=\r\nre your overall thoughts and experience on the topic?&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;=\r\n/div&gt;\n\n&lt;div&gt;Thanks,&lt;/div&gt;&lt;div&gt;Vitaly&lt;/div&gt;\n&lt;p&gt;&lt;/p&gt;\n\n    &lt;/div&gt;\n     \n\n    \n=\r\n    &lt;div style=3D&quot;color:#fff;min-height:0&quot;&gt;&lt;/div&gt;\n\n\n&lt;/div&gt;\n\n\n\n  \n\n\n\n\n\n\n&lt;/bl=\r\nockquote&gt;&lt;/div&gt;&lt;br&gt;\n\r\n--e89a8fb1edeab9b70504bcb848c4--\r\n\n"}}
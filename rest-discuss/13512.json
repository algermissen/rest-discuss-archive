{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":364579677,"authorName":"Mike Kelly","from":"Mike Kelly &lt;mike@...&gt;","profile":"pleb1985","replyTo":"SENDER","senderId":"GFcJ1VlC1jEXetdC25MSgExD_F8jyOMUfj27MVi4le2v5VF-RMeq_Cx1yq3O-7ayXFRXpx-6uJlu0E-MRopK90UyFzNYmg","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [rest-discuss] Content negotiation and hypermedia","postDate":"1253698688","msgId":13512,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDRBQjlFQzgwLjkwMTA5MDlAbXlrYW5qby5jby51az4=","inReplyToHeader":"PDY1NDhGMTcwNTk5MDVCNDhCMkE2RjI4Q0UzNjkyQkFBMDRDNkNCQ0FAT0FFWENINFNFUlZFUi5vYS5vY2xjLm9yZz4=","referencesHeader":"PDRBQjhEMEE3LjYwMTA4QG15a2Fuam8uY28udWs+IDxCTFUxMDItRFM2OEVGMThFNzIyREExREZCRDVBRTNCNURDMEBwaHguZ2JsPiA8NEFCOTIyQTUuMTA1MDcwNUBteWthbmpvLmNvLnVrPiA8QkxVMTAyLVcxNTVERkFBN0MwOTRBRUYzQTMxMEE1QjVEQzBAcGh4LmdibD4gPDRBQjkyQzNGLjkwMzAxMDFAbXlrYW5qby5jby51az4gPDY1NDhGMTcwNTk5MDVCNDhCMkE2RjI4Q0UzNjkyQkFBMDRDNkNCQ0FAT0FFWENINFNFUlZFUi5vYS5vY2xjLm9yZz4="},"prevInTopic":13511,"nextInTopic":13513,"prevInTime":13511,"nextInTime":13513,"topicId":13498,"numMessagesInTopic":11,"msgSnippet":"... Inconsistent because if the accept header already lists understandable media types, and representations of a resource provided by the server are entirely","rawEmail":"Return-Path: &lt;mike@...&gt;\r\nX-Sender: mike@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 3028 invoked from network); 23 Sep 2009 09:38:23 -0000\r\nX-Received: from unknown (69.147.108.200)\n  by m3.grp.re1.yahoo.com with QMQP; 23 Sep 2009 09:38:23 -0000\r\nX-Received: from unknown (HELO moutng.kundenserver.de) (212.227.126.177)\n  by mta1.grp.re1.yahoo.com with SMTP; 23 Sep 2009 09:38:23 -0000\r\nX-Received: from [192.168.255.126] (nsbbjx215_122.xband.newtelsolutions.net [213.133.215.122])\n\tby mrelayeu.kundenserver.de (node=mreu1) with ESMTP (Nemesis)\n\tid 0MKv1o-1MqOIa3so1-0001ep; Wed, 23 Sep 2009 11:38:09 +0200\r\nMessage-ID: &lt;4AB9EC80.9010909@...&gt;\r\nDate: Wed, 23 Sep 2009 10:38:08 +0100\r\nUser-Agent: Thunderbird 2.0.0.23 (X11/20090817)\r\nMIME-Version: 1.0\r\nTo: &quot;Houghton,Andrew&quot; &lt;houghtoa@...&gt;, \n Rest List &lt;rest-discuss@yahoogroups.com&gt;\r\nReferences: &lt;4AB8D0A7.60108@...&gt; &lt;BLU102-DS68EF18E722DA1DFBD5AE3B5DC0@...&gt; &lt;4AB922A5.1050705@...&gt; &lt;BLU102-W155DFAA7C094AEF3A310A5B5DC0@...&gt; &lt;4AB92C3F.9030101@...&gt; &lt;6548F17059905B48B2A6F28CE3692BAA04C6CBCA@...&gt;\r\nIn-Reply-To: &lt;6548F17059905B48B2A6F28CE3692BAA04C6CBCA@...&gt;\r\nContent-Type: text/plain; charset=windows-1252; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-Provags-ID: V01U2FsdGVkX1+vlzH+UKU9NL+pWJxnFUo6o20SdAaA+mvTM4f\n uAI4m8xdaH3VRX+ZkwvTWAAS9eZqzJ3JrzAsDTAQd8rAKGJGcL\n DndO87jMMO/p9vFBeqXXum5I/zr19pw\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Mike Kelly &lt;mike@...&gt;\r\nSubject: Re: [rest-discuss] Content negotiation and hypermedia\r\nX-Yahoo-Group-Post: member; u=364579677; y=Sa5Qadhnu3533jD1Mh5lkE4nBNWMmrZNarFdkQ1F0Il9Zb8\r\nX-Yahoo-Profile: pleb1985\r\n\r\nHoughton,Andrew wrote:\n&gt;&gt; From: rest-discuss@yahoogroups.com [mailto:rest-\n&gt;&gt; discuss@yahoogroups.com] On Behalf Of Mike Kelly\n&gt;&gt; Sent: Tuesday, September 22, 2009 03:58 PM\n&gt;&gt; To: Sebastien Lambla\n&gt;&gt; Cc: rest-discuss@yahoogroups.com\n&gt;&gt; Subject: Re: [rest-discuss] Content negotiation and hypermedia\n&gt;&gt;\n&gt;&gt; OK, but then you go on to say:\n&gt;&gt;\n&gt;&gt;     \n&gt;&gt;&gt;&gt; Without specifying the appropriate Accept header for each request,\n&gt;&gt;&gt;&gt;         \n&gt;&gt; the\n&gt;&gt;     \n&gt;&gt;&gt;&gt; same representation will be returned.\n&gt;&gt;&gt;&gt;         \n&gt;&gt;&gt; If the client understands both and advertises both in the Accept\n&gt;&gt;&gt; header, and if the server considers the two representations equal,\n&gt;&gt;&gt; then it doesn&#39;t matter at all.\n&gt;&gt;&gt;\n&gt;&gt;&gt;       \n&gt;&gt; .. which is completely inconsistent. Why would there be a mechanism to\n&gt;&gt; limit understood formats if &quot;the server considers to formats equal&quot; and\n&gt;&gt; &quot;it doesn&#39;t matter at all&quot; ?\n&gt;&gt;     \n&gt;\n&gt; No it is not inconsistent.\n\nInconsistent because if the accept header already lists understandable \nmedia types, and representations of a resource provided by the server \nare entirely interchangeable - why would any UA ever want to specify \naway from their default? There should be no need.\n\n&gt; Let&#39;s say a UA sends the Accept header:\n&gt;\n&gt; Accept: image/gif, image/jpg\n&gt;\n&gt; The HTTP protocol returns a\n&gt; single entity and the Accept header tells the server which media types \n&gt; the UA understands.\n\nThe Accept header tells the server which media types are appropriate for \na response to *a request*, not a UA. That is all that the spec says! :)\n\n&gt; When the UA says it understands multiple media\n&gt; types, the server gets to choose based on the Q values.  It doesn&#39;t \n&gt; matter which media type is returned because the UA explicitly said \n&gt; that it could handle *either* media type.\n\nBut it might matter in the context of a particular application, yet in \nterms of the entire system the only distinction between the two is the \nserialization of the *same* concept/resource.\n\n&gt; Think of the Accept header \n&gt; as a contract between the UA and the server.  The UA sets the terms in \n&gt; the Accept header and the server fulfills the requirements, if it can. \n&gt; When the UA wants to limit what media type comes back to a single media \n&gt; type, then the UA should specify only that media type in the Accept\n&gt; header and the server will return it, if it can, or the server will \n&gt; respond with 406 Not Acceptable status if it cannot.\n&gt;   \n\nI agree with that. My question is whether hypermedia formats should be \nable to encourage a UA to be specific in certain contexts.\n\n&gt;&gt; So you are implying that multiple representations of a resource should\n&gt;&gt; not be distinct from one-another? That doesn&#39;t make sense.\n&gt;&gt;\n&gt;&gt; Resources are distinguished by URIs, representations are distinguished\n&gt;&gt; by control data.\n&gt;&gt;     \n&gt;\n&gt; Representations are not distinguished by control data, that is a service\n&gt; oriented perspective.\n\nThe Vary mechanism in HTTP operates on this principal:\n\nhttp://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.44\n\n&quot;The Vary field value indicates the set of request-header fields that \nfully determines, while the response is fresh, whether a cache is \npermitted to use the response to reply to a subsequent request without \nrevalidation. For uncacheable or stale responses, *the Vary field value \nadvises the user agent about the criteria that were used to select the \nrepresentation* &quot;\n\n&gt; All resources have\n&gt; identity which is represented by a URI (RFC 3986).  All representations\n&gt; have a URI because they are resources unto themselves.\n&gt;   \n\nIf a thing is a resources unto itself, it isn&#39;t a representation.\n\n&gt; The linked data specification makes a distinction between resource types.\n&gt; There are Real-World Objects (RWO), Generic Documents (GD) and Web \n&gt; Documents (WD).  RWO objects are resources.  I might have a RWO URI \n&gt; which identifies me.  I might also have a GD URI where a UA can content \n&gt; negotiate something *about* me.  Lastly, I probably will have zero or\n&gt; more WD that are *about* me in a specific representation (format).  \n&gt; Understanding these aspects are important.\n&gt;   \n\nImportant to what..? Maybe to Linked Data, but this discussion is about \nRESTful HTTP\n\n&gt; RWO &lt;http://example.org/smith&gt; \n&gt; GD  &lt;http://example.org/smith/&gt; \n&gt; GD  &lt;http://example.org/smith/picture&gt; \n&gt; WD  &lt;http://example.org/smith/picture.gif&gt; \n&gt; WD  &lt;http://example.org/smith/picture.jpg&gt; \n&gt; WD  &lt;http://example.org/smith/about.html&gt;\n&gt; GD  &lt;http://example.org/smith/publications&gt;  \n&gt; WD  &lt;http://example.org/smith/publications.html&gt; \n&gt; WD  &lt;http://example.org/smith/publications.xml&gt; \n&gt;\n&gt;\n&gt; It is possible that WD resources could be content negotiated by using \n&gt; the GD URI.  In this case the representations delivered through content \n&gt; negotiation are still resources, but they do not have any public identity,\n&gt; e.g., URIs, however they still have some sort of identity otherwise you\n&gt; couldn&#39;t find them during content negotiation.\n&gt;   \n\nOf course you could find them - that is the purpose of conneg! The Vary \nmechanism is designed so that the server can explain to the client (and \nintermediaries) what criteria from the request were essential to a given \nrepresentations negotiation.\n\n&gt; In the above example, I gave, having non-public identity for WD resources\n&gt; is not desirable since there are multiple HTML representations.  When a UA \n&gt; says Accept: text/html which resource will be returned?  Information about \n&gt; me, about.html, or information about my publications, publications.html? \n&gt;   \n\nThis is why resource identification is important to REST. Your &#39;about&#39; \nresource and &#39;publications&#39; resource are not the same resource, so they \nare not  equivalent representations; therefore they cannot be cannot \nconneg&#39;d and should indeed have separate URIs.\n\nAs a different example: publications.html and publications.xml do not \nrequire separate URIs - and can be effectively negotiated via the Accept \nheader and treated appropriately as one resource with one /publications \nURI. Whether the the representation is html or xml, the response \ncontains a representation of a resource which lists your publications.\n\nIn certain contexts of an application it may be necessary to specify \nwhat the media type preference for a hyperlink should be;\n\n&lt;a type=&#39;text/html&#39; href=&#39;/smith/publications&#39;&gt;html page listing my \npublications&lt;/a&gt;\n&lt;a type=&#39;application//atom/+xml&#39; href=&#39;/smith/publications&#39;&gt;atom feed of \nmy publications&lt;/a&gt;\n\nThose 2 representations are both generated by the same mechanism, and \nfrom the same datastore - they are representations of the same resource.\n\nThank you for your detailed response, the linked data specification \nseems interesting.\n\nCheers,\nMike\n\n"}}
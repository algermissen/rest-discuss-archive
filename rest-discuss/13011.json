{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":371338898,"authorName":"Bill Burke","from":"Bill Burke &lt;bburke@...&gt;","profile":"patriot1burke","replyTo":"SENDER","senderId":"ityIo8xBtVdngstK7E8pPbAB8CK4myivy6Wi1gC_ELJa1fi67LZSkErrT_rMwCGuQ226kIQw8LUMjwh7Ypzw9ANmuQnI","spamInfo":{"isSpam":false,"reason":"6"},"subject":"conditional gets returning different data","postDate":"1246043354","msgId":13011,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDRBNDUxQ0RBLjQwMDA0MDVAcmVkaGF0LmNvbT4="},"prevInTopic":0,"nextInTopic":13016,"prevInTime":13010,"nextInTime":13012,"topicId":13011,"numMessagesInTopic":3,"msgSnippet":"I was thinking about implementing a RESTful topic (as opposed to queue). In Java JMS land a subscriber can make himself persistent with a topic.  This means","rawEmail":"Return-Path: &lt;bburke@...&gt;\r\nX-Sender: bburke@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 91590 invoked from network); 26 Jun 2009 19:10:01 -0000\r\nX-Received: from unknown (98.137.34.46)\n  by m3.grp.sp2.yahoo.com with QMQP; 26 Jun 2009 19:10:01 -0000\r\nX-Received: from unknown (HELO mx2.redhat.com) (66.187.237.31)\n  by mta3.grp.sp2.yahoo.com with SMTP; 26 Jun 2009 19:10:01 -0000\r\nX-Received: from int-mx2.corp.redhat.com (int-mx2.corp.redhat.com [172.16.27.26])\n\tby mx2.redhat.com (8.13.8/8.13.8) with ESMTP id n5QJ9Ggo023575\n\tfor &lt;rest-discuss@yahoogroups.com&gt;; Fri, 26 Jun 2009 15:09:16 -0400\r\nX-Received: from ns3.rdu.redhat.com (ns3.rdu.redhat.com [10.11.255.199])\n\tby int-mx2.corp.redhat.com (8.13.1/8.13.1) with ESMTP id n5QJ9F07006363\n\tfor &lt;rest-discuss@yahoogroups.com&gt;; Fri, 26 Jun 2009 15:09:15 -0400\r\nX-Received: from bill-burkes-computer.local (vpn-13-144.rdu.redhat.com [10.11.13.144])\n\tby ns3.rdu.redhat.com (8.13.8/8.13.8) with ESMTP id n5QJ9EDE031876\n\tfor &lt;rest-discuss@yahoogroups.com&gt;; Fri, 26 Jun 2009 15:09:14 -0400\r\nMessage-ID: &lt;4A451CDA.4000405@...&gt;\r\nDate: Fri, 26 Jun 2009 15:09:14 -0400\r\nUser-Agent: Thunderbird 2.0.0.22 (Macintosh/20090605)\r\nMIME-Version: 1.0\r\nTo: REST-Discuss Discussion Group &lt;rest-discuss@yahoogroups.com&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-Scanned-By: MIMEDefang 2.58 on 172.16.27.26\r\nX-eGroups-Msg-Info: 1:6:0:0:0\r\nFrom: Bill Burke &lt;bburke@...&gt;\r\nSubject: conditional gets returning different data\r\nX-Yahoo-Group-Post: member; u=371338898; y=O-6ZwVuu09sSm1GrjTd4Gzw_nYktSlM9Bh5bhq7lcOKJz0a8KCgD3A\r\nX-Yahoo-Profile: patriot1burke\r\n\r\nI was thinking about implementing a RESTful topic (as opposed to queue). \n    In Java JMS land a subscriber can make himself persistent with a \ntopic.  This means that the topic keeps a placeholder for the subscriber \nso that when the subscriber asks for a message, it gets the next message \nafter the last one it read.  The problem with this of course is that the \nserver must maintain a session for each subscriber.\n\nSo, to flip the problem around, how about a subscriber doing the \nbook-keeping itself?  The topic would remember all of its messages and \nthe order in which they were published.  The subscriber would just tell \nthe topic the index it wants.\n\nWhich brings me to my thought.  What about using conditional gets to \nimplement this?\n\nGET /topic would return one posted message:\n\n200\nContent-Type: ...\nETag: 34234234\nLast-Modified: /6/26/2009 ...\n\n&lt;message-body&gt;\n\n\nThe ETag and/or Last-Modified header would be the index into the topic. \n    A non-conditional GET would return the latest posted message.  A \nconditional GET would return a message that was posted *right after* the \nETAG/Last-Modified combo.  If there are no new messages in the topic, \nthe conditional GET would return 304, NOT MODIFIED.\n\nAn interesting side effect of this is that a Cache-Control could \ncontrol(suggest) how often the subscribers should poll for new messages. \n  Like if somebody conditionally gets an older index, the server would \nreturn no-cache as there are newer messages in the topic.  A server \ncould keep an average rate of publishing and use that average time in a \nmax-age value.\n\n\n-- \nBill Burke\nJBoss, a division of Red Hat\nhttp://bill.burkecentral.com\n\n"}}
{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":116925303,"authorName":"Lee Fife","from":"&quot;Lee Fife&quot; &lt;lee@...&gt;","profile":"leefife5","replyTo":"SENDER","senderId":"djWtvkxUkYknYIplslJ5v86c_v5QNbnpHRlpYBlZrUWF8_D1hJNZAHOoPUhfaiUuuzQL3xRibnS2pon5jfY0rx-9Fw","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [rest-discuss] Security and REST","postDate":"1036703300","msgId":2805,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDA4MDEwMWMyODZhMSRkMzI4ZDM4MCRkOTAwYThjMEBtYW1ibz4=","referencesHeader":"PDEzNzNENjM0MkZBMUQ0MTE5QTUxMDBFMDI5NDM3RjY0MDQ1RUVFNEZAY2xpZmZvcmQuZGV2by5pbHguY29tPiA8M0RDOUUxQTkuNzA1MDQwOUBwcmVzY29kLm5ldD4="},"prevInTopic":2801,"nextInTopic":2806,"prevInTime":2804,"nextInTime":2806,"topicId":2787,"numMessagesInTopic":23,"msgSnippet":"This seems exactly like content or language negotiation. So, it seems like the right thing is to have /Subscriptions return different content (representations)","rawEmail":"Return-Path: &lt;lee.fife@...&gt;\r\nX-Sender: lee.fife@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nReceived: (EGP: mail-8_2_3_0); 7 Nov 2002 21:08:49 -0000\r\nReceived: (qmail 37398 invoked from network); 7 Nov 2002 21:08:48 -0000\r\nReceived: from unknown (66.218.66.218)\n  by m6.grp.scd.yahoo.com with QMQP; 7 Nov 2002 21:08:48 -0000\r\nReceived: from unknown (HELO mail.arczip.com) (216.126.227.134)\n  by mta3.grp.scd.yahoo.com with SMTP; 7 Nov 2002 21:08:48 -0000\r\nReceived: from mambo [148.63.129.119] by mail.arczip.com with ESMTP\n  (SMTPD32-7.12) id A6523C6F00F6; Thu, 07 Nov 2002 14:08:34 -0700\r\nMessage-ID: &lt;080101c286a1$d328d380$d900a8c0@mambo&gt;\r\nTo: &quot;Mathews, Walden&quot; &lt;walden.mathews@...&gt;,\n\t&quot;Paul Prescod&quot; &lt;paul@...&gt;\r\nCc: &lt;rest-discuss@yahoogroups.com&gt;\r\nReferences: &lt;1373D6342FA1D4119A5100E029437F64045EEE4F@...&gt; &lt;3DC9E1A9.7050409@...&gt;\r\nSubject: Re: [rest-discuss] Security and REST\r\nDate: Thu, 7 Nov 2002 14:08:20 -0700\r\nMIME-Version: 1.0\r\nContent-Type: multipart/alternative;\n\tboundary=&quot;----=_NextPart_000_07FE_01C28667.20B65950&quot;\r\nX-Priority: 3\r\nX-MSMail-Priority: Normal\r\nX-Mailer: Microsoft Outlook Express 6.00.2800.1106\r\nX-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106\r\nX-eGroups-From: &quot;Lee Fife&quot; &lt;lee.fife@...&gt;\r\nFrom: &quot;Lee Fife&quot; &lt;lee@...&gt;\r\nX-Yahoo-Group-Post: member; u=116925303\r\nX-Yahoo-Profile: leefife5\r\n\r\n\r\n------=_NextPart_000_07FE_01C28667.20B65950\r\nContent-Type: text/plain;\n\tcharset=&quot;iso-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\nThis seems exactly like content or language negotiation. So, it seems like =\r\nthe right thing is to have /Subscriptions return different content (represe=\r\nntations) depending on user.\n\nOr at least as long as the user credentials a=\r\nre explicitly contained in the request. Right? Don&#39;t play magic games with =\r\ncookies containing session ids. Which, I think, for HTTP says that you have=\r\n to use the Authorization header in the request, and the response would hav=\r\ne a Vary: Authorization header.\n\nLooks like HTTP restricts Vary to using th=\r\ne set of defined request headers, so you can&#39;t add your own extension heade=\r\nr and have the response Vary on it. That seems a little strange -- I don&#39;t =\r\nsee why it would be hard for caches to understand any set of request header=\r\ns that the particular returned representation depended on. After all, if yo=\r\nu used an extension header to carry auth credentials, no client that doesn&#39;=\r\nt understand the header will generate it. And so, there doesn&#39;t seem to be =\r\nany danger of the cache returning the wrong rep. At worst, the cache doesn&#39;=\r\nt cache as much as it could.\n\nWhich makes me think ... Can someone run the =\r\nargument for why cookies are evil by me again, please? How does the client =\r\nend up holding more state in a cookie than it does to fill in an Authorizat=\r\nion header? In either case, you need more than the URI to get a useful repr=\r\nesentation of the resource back.\n\nI accept that having some of the resource=\r\n identification stored in the URI and some stored in a cookie is a bad thin=\r\ng.  I also accept that using a &quot;session&quot; id that refers to a hidden resourc=\r\ne on the server and identifying that hidden resource in a cookie using a pr=\r\noprietary addressing scheme, rather than mentioning the session resource di=\r\nrectly via its URI, is a bad thing.\n\nOf course, there&#39;s judgement involved =\r\nin deciding what&#39;s the resource (identified by URI) and what&#39;s a representa=\r\ntion (varying on request headers or cookie values). But in Walden&#39;s example=\r\n, the URI identifies the resource (/Subscriptions) and you need extra info =\r\nbeyond the URI to carry authentication info. In either case (request header=\r\n or cookie) the extra info is in the message.\n\nMaybe the distinction is tha=\r\nt intermediaries like caches can know the fixed set of request headers, can=\r\n know that server-driven negotiation uses those headers and that the header=\r\ns of interest will be returned in a Vary response header, and can then serv=\r\ne appropriate cached content using efficient means. \n\nBut, is there some ha=\r\nrd technical reason that makes limiting the range of Vary a requirement? I.=\r\ne., if you allowed Vary response to indicate any header in the request (ext=\r\nension headers as well as request headers) or to name a cookie, then caches=\r\n would have a real hard time dealing with server-driven negotiation? It wou=\r\nld be so expensive to support that caches would just pass the request thru?=\r\n Or else, they&#39;d do the wrong thing?\n\n-Lee\n  ----- Original Message ----- \n=\r\n  From: Paul Prescod \n  To: Mathews, Walden \n  Cc: &#39;rest-discuss@yahoogroup=\r\ns.com&#39; \n  Sent: Wednesday, November 06, 2002 8:44 PM\n  Subject: Re: [rest-d=\r\niscuss] Security and REST\n\n\n  Mathews, Walden wrote:\n  &gt; Hi,\n  &gt; \n  &gt; I&#39;m j=\r\nust wondering about the interplay of authorization with\n  &gt; resource space =\r\nwhen developing web applications.  Is there anything\n  &gt; un-RESTful about c=\r\nonstraining resources implicitly based on the\n  &gt; user&#39;s authenticated iden=\r\ntity?  It makes me uneasy, but I&#39;m not sure\n  &gt; why.\n\n  You are varying the=\r\n view based on something explicitly in the message \n  *and* defined by HTTP=\r\n. I think that&#39;s okay. It is not that different \n  than content-negotiation=\r\n or language-negotiation.\n\n  &gt; ... In that case, two different users\n  &gt; ac=\r\ncessing /Subscriptions via GET will see disjoint subsets of the\n  &gt; resourc=\r\ne.  By extension, an entire resource schema (application) may\n  &gt; be implic=\r\nitly constrained by the security properties of the access.\n  &gt; \n  &gt; What do=\r\nes REST have to say about this, if anything?\n\n  It is implicit in that ther=\r\ne is no flag saying: &quot;This representation is \n  specific to you&quot; but it is =\r\ntriggered by something in the request message \n  and in that sense it is ex=\r\nplicit.\n\n    Paul Prescod\r\n------=_NextPart_000_07FE_01C28667.20B65950\r\nContent-Type: text/html;\n\tcharset=&quot;iso-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\n&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.0 Transitional//EN&quot;&gt;\n&lt;HTML&gt;&lt;HEAD&gt;=\r\n\n&lt;META http-equiv=3DContent-Type content=3D&quot;text/html; charset=3Diso-8859-1=\r\n&quot;&gt;\n&lt;META content=3D&quot;MSHTML 6.00.2800.1106&quot; name=3DGENERATOR&gt;\n&lt;STYLE&gt;&lt;/STYLE=\r\n&gt;\n&lt;/HEAD&gt;\n&lt;BODY bgColor=3D#ffffff&gt;\n&lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;This se=\r\nems exactly like content or language \nnegotiation. So, it seems like the ri=\r\nght thing is to have /Subscriptions return \ndifferent content (representati=\r\nons) depending on user.&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;&lt;/FON=\r\nT&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;Or at least as long as the =\r\nuser credentials are \nexplicitly contained in the request. Right? Don&#39;t pla=\r\ny magic games with cookies \ncontaining session ids. Which, I think, for HTT=\r\nP says that you have to use the \nAuthorization header in the request, and t=\r\nhe response would have a Vary: \nAuthorization header.&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FO=\r\nNT face=3DArial size=3D2&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3DArial size=\r\n=3D2&gt;Looks like HTTP restricts Vary to using the set of \ndefined request he=\r\naders, so you can&#39;t add your own extension header and have the \nresponse Va=\r\nry on it. That seems a little strange -- I don&#39;t see why it would be \nhard =\r\nfor caches to understand any set of request headers that the particular \nre=\r\nturned representation depended on. After all, if you used an extension head=\r\ner \nto carry auth credentials, no client that doesn&#39;t understand the header=\r\n will \ngenerate it. And so, there doesn&#39;t seem to be any danger of the cach=\r\ne returning \nthe wrong rep. At worst, the cache doesn&#39;t cache as much as it=\r\n \ncould.&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;\n=\r\n&lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;Which makes me think ... Can someone run t=\r\nhe \nargument for why cookies are evil by me again, please? How does the cli=\r\nent end \nup holding more state in a cookie than it does to fill in an Autho=\r\nrization \nheader? In either case, you need more than the URI to get a usefu=\r\nl \nrepresentation of the resource back.&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3DAria=\r\nl size=3D2&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;I accept th=\r\nat having some of the resource \nidentification stored in the URI and some s=\r\ntored in a cookie is a bad \nthing.&nbsp; I also accept that using a &quot;sessio=\r\nn&quot;&nbsp;id that refers to a \nhidden resource on the server and identifying =\r\nthat hidden resource in a cookie \nusing a proprietary addressing scheme, ra=\r\nther than mentioning the session \nresource directly via its URI, is a bad t=\r\nhing.&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;\n&lt;DI=\r\nV&gt;&lt;FONT face=3DArial size=3D2&gt;Of course, there&#39;s judgement involved in deci=\r\nding \nwhat&#39;s the resource (identified by URI) and what&#39;s a representation (=\r\nvarying on \nrequest headers or cookie values). But in Walden&#39;s example, the=\r\n URI identifies \nthe resource (/Subscriptions) and you need extra info beyo=\r\nnd the URI to carry \nauthentication info. In either case (request header or=\r\n cookie) the extra info is \nin the message.&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3D=\r\nArial size=3D2&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;Maybe t=\r\nhe distinction is that intermediaries like \ncaches can know the fixed set o=\r\nf request headers, can know that server-driven \nnegotiation uses those head=\r\ners and that the headers of interest will be returned \nin a Vary response h=\r\neader, and can then serve appropriate cached content using \nefficient means=\r\n. &lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;=\r\nFONT face=3DArial size=3D2&gt;But, is there some hard technical reason that ma=\r\nkes \nlimiting the range of Vary a requirement? I.e., if you&nbsp;allowed&nb=\r\nsp;Vary \nresponse to indicate any header in the request (extension headers =\r\nas well as \nrequest headers) or to name a cookie, then caches would have a =\r\nreal hard time \ndealing with server-driven negotiation? It would be so expe=\r\nnsive to support that \ncaches would just pass the request thru? Or else, th=\r\ney&#39;d do the wrong \nthing?&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;&lt;/F=\r\nONT&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;-Lee&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;BLOCKQ=\r\nUOTE \nstyle=3D&quot;PADDING-RIGHT: 0px; PADDING-LEFT: 5px; MARGIN-LEFT: 5px; BOR=\r\nDER-LEFT: #000000 2px solid; MARGIN-RIGHT: 0px&quot;&gt;\n  &lt;DIV style=3D&quot;FONT: 10pt=\r\n arial&quot;&gt;----- Original Message ----- &lt;/DIV&gt;\n  &lt;DIV \n  style=3D&quot;BACKGROUND: =\r\n#e4e4e4; FONT: 10pt arial; font-color: black&quot;&gt;&lt;B&gt;From:&lt;/B&gt; \n  &lt;A title=3Dpa=\r\nul@... href=3D&quot;mailto:paul@...&quot;&gt;Paul Prescod&lt;/A&gt; \n  &lt;/DIV&gt;\n=\r\n  &lt;DIV style=3D&quot;FONT: 10pt arial&quot;&gt;&lt;B&gt;To:&lt;/B&gt; &lt;A title=3Dwalden.mathews@tfn.=\r\ncom \n  href=3D&quot;mailto:walden.mathews@...&quot;&gt;Mathews, Walden&lt;/A&gt; &lt;/DIV&gt;\n  =\r\n&lt;DIV style=3D&quot;FONT: 10pt arial&quot;&gt;&lt;B&gt;Cc:&lt;/B&gt; &lt;A title=3Drest-discuss@yahoogro=\r\nups.com \n  href=3D&quot;mailto:&#39;rest-discuss@yahoogroups.com&#39;&quot;&gt;&#39;rest-discuss@yah=\r\noogroups.com&#39;&lt;/A&gt; \n  &lt;/DIV&gt;\n  &lt;DIV style=3D&quot;FONT: 10pt arial&quot;&gt;&lt;B&gt;Sent:&lt;/B&gt; =\r\nWednesday, November 06, 2002 8:44 \n  PM&lt;/DIV&gt;\n  &lt;DIV style=3D&quot;FONT: 10pt ar=\r\nial&quot;&gt;&lt;B&gt;Subject:&lt;/B&gt; Re: [rest-discuss] Security and \n  REST&lt;/DIV&gt;\n  &lt;DIV&gt;&lt;=\r\nBR&gt;&lt;/DIV&gt;&lt;TT&gt;Mathews, Walden wrote:&lt;BR&gt;&gt; Hi,&lt;BR&gt;&gt; &lt;BR&gt;&gt; I&#39;m \n  jus=\r\nt wondering about the interplay of authorization with&lt;BR&gt;&gt; resource \n  s=\r\npace when developing web applications.&nbsp; Is there anything&lt;BR&gt;&gt; \n  u=\r\nn-RESTful about constraining resources implicitly based on the&lt;BR&gt;&gt; user=\r\n&#39;s \n  authenticated identity?&nbsp; It makes me uneasy, but I&#39;m not sure&lt;BR=\r\n&gt;&gt; \n  why.&lt;BR&gt;&lt;BR&gt;You are varying the view based on something explicitly=\r\n in the \n  message &lt;BR&gt;*and* defined by HTTP. I think that&#39;s okay. It is no=\r\nt that \n  different &lt;BR&gt;than content-negotiation or language-negotiation.&lt;B=\r\nR&gt;&lt;BR&gt;&gt; \n  ... In that case, two different users&lt;BR&gt;&gt; accessing /Subs=\r\ncriptions via GET \n  will see disjoint subsets of the&lt;BR&gt;&gt; resource.&nbs=\r\np; By extension, an \n  entire resource schema (application) may&lt;BR&gt;&gt; be =\r\nimplicitly constrained by \n  the security properties of the access.&lt;BR&gt;&gt;=\r\n &lt;BR&gt;&gt; What does REST have to \n  say about this, if anything?&lt;BR&gt;&lt;BR&gt;It =\r\nis implicit in that there is no flag \n  saying: &quot;This representation is &lt;BR=\r\n&gt;specific to you&quot; but it is triggered by \n  something in the request messag=\r\ne &lt;BR&gt;and in that sense it is \n  explicit.&lt;BR&gt;&lt;BR&gt;&nbsp; Paul Prescod&lt;/TT&gt;&lt;=\r\n/BLOCKQUOTE&gt;&lt;/BODY&gt;&lt;/HTML&gt;\n\r\n------=_NextPart_000_07FE_01C28667.20B65950--\r\n\n"}}
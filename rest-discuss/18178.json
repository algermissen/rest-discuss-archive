{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":352334505,"authorName":"Craig McClanahan","from":"Craig McClanahan &lt;craigmcc@...&gt;","profile":"craig_mcclanahan","replyTo":"SENDER","senderId":"RTBPUDngNvVWM5TQb0LzdQmm4KHZmm8CuLsNSa3SPT7Yg7lNtj7H3YUZB5XiCngF--YPwYoToo_iNMSbHYjO-1duRYCwM2zN3zyIWg","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [rest-discuss] Re: Different vocabularies, same media type","postDate":"1325059428","msgId":18178,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PENBTmdrbUxDZThlUWN2dHQ9V1JBUERnODZWLWNrXzhZMVoyVVA3YVlyQkUtdkh5UnBSZ0BtYWlsLmdtYWlsLmNvbT4=","inReplyToHeader":"PENBTmdrbUxDUVNnQm9ndXNveFNreDZDRStXVT1SczF2TlpFY0hVY19zVzAzcjltKzdyZ0BtYWlsLmdtYWlsLmNvbT4=","referencesHeader":"PGpkZWYyOCt0OGZuQGVHcm91cHMuY29tPgk8amRlZ2VhKzVydmdAZUdyb3Vwcy5jb20+CTxDQU5na21MQ1FTZ0JvZ3Vzb3hTa3g2Q0UrV1U9UnMxdk5aRWNIVWNfc1cwM3I5bSs3cmdAbWFpbC5nbWFpbC5jb20+"},"prevInTopic":18177,"nextInTopic":18179,"prevInTime":18177,"nextInTime":18179,"topicId":18158,"numMessagesInTopic":32,"msgSnippet":"... Sorry, in this context that should actually be application/vnd.ms-excel;vocabulary=hal . Craig ... On Wed, Dec 28, 2011 at 12:02 AM, Craig McClanahan ","rawEmail":"Return-Path: &lt;craigmcc@...&gt;\r\nX-Sender: craigmcc@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 29251 invoked from network); 28 Dec 2011 08:03:49 -0000\r\nX-Received: from unknown (98.137.34.45)\n  by m8.grp.sp2.yahoo.com with QMQP; 28 Dec 2011 08:03:49 -0000\r\nX-Received: from unknown (HELO mail-we0-f174.google.com) (74.125.82.174)\n  by mta2.grp.sp2.yahoo.com with SMTP; 28 Dec 2011 08:03:49 -0000\r\nX-Received: by werm1 with SMTP id m1so7498388wer.5\n        for &lt;rest-discuss@yahoogroups.com&gt;; Wed, 28 Dec 2011 00:03:48 -0800 (PST)\r\nMIME-Version: 1.0\r\nX-Received: by 10.216.134.232 with SMTP id s82mr22844718wei.19.1325059428155;\n Wed, 28 Dec 2011 00:03:48 -0800 (PST)\r\nX-Received: by 10.180.95.162 with HTTP; Wed, 28 Dec 2011 00:03:48 -0800 (PST)\r\nIn-Reply-To: &lt;CANgkmLCQSgBogusoxSkx6CE+WU=Rs1vNZEcHUc_sW03r9m+7rg@...&gt;\r\nReferences: &lt;jdef28+t8fn@...&gt;\n\t&lt;jdegea+5rvg@...&gt;\n\t&lt;CANgkmLCQSgBogusoxSkx6CE+WU=Rs1vNZEcHUc_sW03r9m+7rg@...&gt;\r\nDate: Wed, 28 Dec 2011 00:03:48 -0800\r\nMessage-ID: &lt;CANgkmLCe8eQcvtt=WRAPDg86V-ck_8Y1Z2UP7aYrBE-vHyRpRg@...&gt;\r\nTo: Jorn Wildt &lt;jw@...&gt;\r\nCc: rest-discuss@yahoogroups.com\r\nContent-Type: multipart/alternative; boundary=0016e6dd97a5857fe604b5227047\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Craig McClanahan &lt;craigmcc@...&gt;\r\nReply-To: craigmcc@...\r\nSubject: Re: [rest-discuss] Re: Different vocabularies, same media type\r\nX-Yahoo-Group-Post: member; u=352334505; y=-sZLfV6iRM7rd3tLxT-N4Oj9o-LNWHjPMbpQGvF1fdcGI55_LGXfQ6IwMw\r\nX-Yahoo-Profile: craig_mcclanahan\r\n\r\n\r\n--0016e6dd97a5857fe604b5227047\r\nContent-Type: text/plain; charset=windows-1252\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\nOn Wed, Dec 28, 2011 at 12:02 AM, Craig McClanahan &lt;craigmcc@...&gt;wrot=\r\ne:\n\n&gt;\n&gt;\n&gt; On Tue, Dec 27, 2011 at 11:28 PM, Jorn Wildt &lt;jw@...&gt;=\r\n wrote:\n&gt;\n&gt;&gt; **\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; Let me just give another example to show that this=\r\n is not about XML\n&gt;&gt; alone:\n&gt;&gt;\n&gt;&gt; 1) Assume we have a resource with a sales=\r\n order.\n&gt;&gt;\n&gt;&gt; 2) The client wants the sales order as a spreadsheet so it GE=\r\nTs it with\n&gt;&gt; accept header &quot;application/vnd.ms-excel&quot;.\n&gt;&gt;\n&gt;&gt; 3) But we hav=\r\ne many different variations of the spreadsheet, so how does\n&gt;&gt; the client i=\r\nnform the server of what variation it wants? The media type\n&gt;&gt; will always =\r\nbe &quot;application/vnd.ms-excel&quot; no matter what, so we cannot\n&gt;&gt; change/switch=\r\n on that.\n&gt;&gt;\n&gt;&gt; Why not?  Even if you buy into the &quot;new media types are evi=\r\nl&quot; meme (which\n&gt; I don&#39;t), what&#39;s wrong with a content type of\n&gt; &quot;applicati=\r\non/vnd.ms-excel;vocabulary+hal&quot;?\n&gt;\nSorry, in this context that should actua=\r\nlly be\n&quot;application/vnd.ms-excel;vocabulary=3Dhal&quot;.\n\nCraig\n\n&gt;\n&gt; If you don&#39;=\r\nt like that, and are still stuck on a single unchangeable\n&gt; content type, t=\r\nhen it seems like a different URI per vocabulary would be\n&gt; the right answe=\r\nr (maybe appending &quot;.hal&quot; as an extension or something like\n&gt; that).\n&gt;\n&gt;\n&gt;&gt;=\r\n 4) Exactly the same argument goes for representing the sales order in\n&gt;&gt; H=\r\nTML, HAL, and, well, even as a PDF or an image!\n&gt;&gt;\n&gt;&gt; If you&#39;re going to of=\r\nfer the same data as either a spreadsheet or a PDF,\n&gt; that seems like an ob=\r\nvious case where you&#39;ll want to use the media type as\n&gt; the basis for conne=\r\ng.  If you&#39;re going to go that far, adding parameters to\n&gt; the media types =\r\nfor the vocabulary isn&#39;t such a stretch.\n&gt;\n&gt;&gt; I guess it boils down to a qu=\r\nestion of what kind of variations we need.\n&gt;&gt; Let me give some examples:\n&gt;&gt;=\r\n\n&gt;&gt; A) Different languages (english, turkish, what-ever). For this we can u=\r\nse\n&gt;&gt; the HTTP header Accept-Language.\n&gt;&gt;\n&gt;&gt; B) Different content (with or =\r\nwithout summaries, full address, detailed\n&gt;&gt; information etc.). In this cas=\r\ne I would say we declare them as different\n&gt;&gt; resources and need different =\r\nURIs, for instance with a &quot;?format=3Dxxx&quot;\n&gt;&gt; parameter.\n&gt;&gt;\n&gt;&gt; Different *co=\r\nntent* or different *formats* for the same content?  In the\n&gt; former case, =\r\nI&#39;d vote for different URIs.  In the latter case, I wouldn&#39;t\n&gt; be shy about=\r\n something like &quot;application/vnd.ms-excel+hal&quot;?  Of course,\n&gt; this just ill=\r\nustrates that you&#39;re inventing a conneg problem that would\n&gt; already be sol=\r\nved if you were willing to mint new media types.\n&gt;\n&gt;&gt; C) Different layout b=\r\nut with the same content. For instance a new version\n&gt;&gt; of the spreadsheet =\r\nwith the same data but in different cells. Typically we\n&gt;&gt; would mint a new=\r\n version of the media type - but that certainly doesn&#39;t\n&gt;&gt; make sense for a=\r\n spreadsheet!\n&gt;&gt;\n&gt;&gt; Again, why not?  One of the principles of REST is that =\r\na single URI\n&gt; represents a single resource.  But if you want variations of=\r\n the data being\n&gt; returned, that should really be either separate URIs (i.e=\r\n. separate\n&gt; resources), or the same URI with connneg.  I can&#39;t really see =\r\nhow doing\n&gt; conneg on things other than Content-Type and the Accept headers=\r\n is really\n&gt; going to increase interop at all.\n&gt;\n&gt; In the particular case o=\r\nf a spreadsheet, one could certainly argue that\n&gt; the client should be able=\r\n to understand the column headers that are\n&gt; actually included in any parti=\r\ncular representation.  Indeed, this is the\n&gt; exact argument that is made fo=\r\nr using HTML or XHTML as a syntax -- a client\n&gt; can theoretically be expect=\r\ned to understand how to parse a &lt;table&gt; element\n&gt; and its sub-elements to l=\r\nook for &lt;th&gt; headers and derive the same\n&gt; information.\n&gt;\n&gt; In my experienc=\r\ne, however, understanding the *syntax* at this level is the\n&gt; 20% problem .=\r\n.. the 80% problem is understanding the semantics, which I\n&gt; have found to =\r\nbe pretty much independent of the representation syntax.  As\n&gt; an example, =\r\nin the Java world there are many quite capable libraries that\n&gt; can seriali=\r\nze a given Java object structure to either JSON or XML with very\n&gt; little e=\r\nffort on the part of the server implementor, which allows the same\n&gt; servic=\r\ne to serve up &quot;application/xml&quot; or &quot;application/json&quot; representations\n&gt; of =\r\nthe same resource quite readily.  But neither this, nor encapsulating a\n&gt; s=\r\nales order in an HTML/XHTML table, communicates the business rule that the\n=\r\n&gt; line item total on an invoice row should equal the quantity times the uni=\r\nt\n&gt; price.\n&gt;\n&gt;&gt; /J=F8rn\n&gt;&gt;\n&gt;&gt; Craig McClanahan\n&gt;\n&gt;\n&gt;&gt;   \n&gt;&gt;\n&gt;\n&gt;\n\r\n--0016e6dd97a5857fe604b5227047\r\nContent-Type: text/html; charset=windows-1252\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\n&lt;br&gt;&lt;br&gt;&lt;div class=3D&quot;gmail_quote&quot;&gt;On Wed, Dec 28, 2011 at 12:02 AM, Craig =\r\nMcClanahan &lt;span dir=3D&quot;ltr&quot;&gt;&lt;&lt;a href=3D&quot;mailto:craigmcc@...&quot;&gt;crai=\r\ngmcc@...&lt;/a&gt;&gt;&lt;/span&gt; wrote:&lt;br&gt;&lt;blockquote class=3D&quot;gmail_quote&quot; s=\r\ntyle=3D&quot;margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex&quot;&gt;\n&lt;br=\r\n&gt;&lt;br&gt;&lt;div class=3D&quot;gmail_quote&quot;&gt;&lt;div class=3D&quot;im&quot;&gt;On Tue, Dec 27, 2011 at 1=\r\n1:28 PM, Jorn Wildt &lt;span dir=3D&quot;ltr&quot;&gt;&lt;&lt;a href=3D&quot;mailto:jw@fjeldgruppen=\r\n.dk&quot; target=3D&quot;_blank&quot;&gt;jw@...&lt;/a&gt;&gt;&lt;/span&gt; wrote:&lt;br&gt;&lt;blockqu=\r\note class=3D&quot;gmail_quote&quot; style=3D&quot;margin:0 0 0 .8ex;border-left:1px #ccc s=\r\nolid;padding-left:1ex&quot;&gt;\n\n\n\n\n&lt;u&gt;&lt;/u&gt;\n\n\n\n\n\n\n\n\n\n\n&lt;div style=3D&quot;background-colo=\r\nr:#fff&quot;&gt;\n&lt;span&gt;=A0&lt;/span&gt;\n\n\n&lt;div&gt;\n  &lt;div&gt;\n\n\n    &lt;div&gt;\n      \n      \n      &lt;=\r\np&gt;Let me just give another example to show that this is not about XML alone=\r\n: &lt;br&gt;\n&lt;br&gt;\n1) Assume we have a resource with a sales order. &lt;br&gt;\n&lt;br&gt;\n2) T=\r\nhe client wants the sales order as a spreadsheet so it GETs it with accept =\r\nheader &quot;application/vnd.ms-excel&quot;.&lt;br&gt;\n&lt;br&gt;\n3) But we have many d=\r\nifferent variations of the spreadsheet, so how does the client inform the s=\r\nerver of what variation it wants? The media type will always be &quot;appli=\r\ncation/vnd.ms-excel&quot; no matter what, so we cannot change/switch on tha=\r\nt.&lt;br&gt;\n\n\n&lt;br&gt;&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;div&gt;Why not? =\r\n=A0Even if you buy into the &quot;new media types are evil&quot; meme (whic=\r\nh I don&#39;t), what&#39;s wrong with a content type of &quot;application/v=\r\nnd.ms-excel;vocabulary+hal&quot;?&lt;/div&gt;\n&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;Sorry, in t=\r\nhis context that should actually be &quot;application/vnd.ms-excel;vocabula=\r\nry=3Dhal&quot;.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Craig=A0&lt;/div&gt;&lt;blockquote class=3D=\r\n&quot;gmail_quote&quot; style=3D&quot;margin:0 0 0 .8ex;border-left:1px #ccc solid;padding=\r\n-left:1ex&quot;&gt;\n&lt;div class=3D&quot;gmail_quote&quot;&gt;\n&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;If you don&#39;=\r\nt like that, and are still stuck on a single unchangeable content type, the=\r\nn it seems like a different URI per vocabulary would be the right answer (m=\r\naybe appending &quot;.hal&quot; as an extension or something like that).&lt;/d=\r\niv&gt;\n&lt;div class=3D&quot;im&quot;&gt;\n&lt;div&gt;=A0&lt;/div&gt;&lt;blockquote class=3D&quot;gmail_quote&quot; styl=\r\ne=3D&quot;margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex&quot;&gt;&lt;div st=\r\nyle=3D&quot;background-color:#fff&quot;&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;p&gt;\n4) Exactly the same argume=\r\nnt goes for representing the sales order in HTML, HAL, and, well, even as a=\r\n PDF or an image!&lt;br&gt;\n&lt;br&gt;&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;d=\r\niv&gt;If you&#39;re going to offer the same data as either a spreadsheet or a =\r\nPDF, that seems like an obvious case where you&#39;ll want to use the media=\r\n type as the basis for conneg. =A0If you&#39;re going to go that far, addin=\r\ng parameters to the media types for the vocabulary isn&#39;t such a stretch=\r\n.=A0&lt;/div&gt;\n&lt;div class=3D&quot;im&quot;&gt;\n&lt;blockquote class=3D&quot;gmail_quote&quot; style=3D&quot;ma=\r\nrgin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex&quot;&gt;&lt;div style=3D&quot;=\r\nbackground-color:#fff&quot;&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;p&gt;\nI guess it boils down to a questi=\r\non of what kind of variations we need. Let me give some examples:&lt;br&gt;\n&lt;br&gt;\n=\r\nA) Different languages (english, turkish, what-ever). For this we can use t=\r\nhe HTTP header Accept-Language.&lt;br&gt;\n&lt;br&gt;\nB) Different content (with or with=\r\nout summaries, full address, detailed information etc.). In this case I wou=\r\nld say we declare them as different resources and need different URIs, for =\r\ninstance with a &quot;?format=3Dxxx&quot; parameter.&lt;br&gt;\n\n\n&lt;br&gt;&lt;/p&gt;&lt;/div&gt;&lt;/=\r\ndiv&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;div&gt;Different *content* or different *f=\r\normats* for the same content? =A0In the former case, I&#39;d vote for diffe=\r\nrent URIs. =A0In the latter case, I wouldn&#39;t be shy about something lik=\r\ne &quot;&lt;span style=3D&quot;background-color:rgb(255,255,255)&quot;&gt;application/vnd.m=\r\ns-excel+hal&quot;? =A0Of course, this just illustrates that you&#39;re inve=\r\nnting a conneg problem that would already be solved if you were willing to =\r\nmint new media types.&lt;/span&gt;=A0&lt;/div&gt;\n&lt;div class=3D&quot;im&quot;&gt;\n&lt;blockquote class=\r\n=3D&quot;gmail_quote&quot; style=3D&quot;margin:0 0 0 .8ex;border-left:1px #ccc solid;padd=\r\ning-left:1ex&quot;&gt;&lt;div style=3D&quot;background-color:#fff&quot;&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;p&gt;\nC) Di=\r\nfferent layout but with the same content. For instance a new version of the=\r\n spreadsheet with the same data but in different cells. Typically we would =\r\nmint a new version of the media type - but that certainly doesn&#39;t make =\r\nsense for a spreadsheet!&lt;br&gt;\n\n\n&lt;br&gt;&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote=\r\n&gt;&lt;/div&gt;&lt;div&gt;Again, why not? =A0One of the principles of REST is that a sing=\r\nle URI represents a single resource. =A0But if you want variations of the d=\r\nata being returned, that should really be either separate URIs (i.e. separa=\r\nte resources), or the same URI with connneg. =A0I can&#39;t really see how =\r\ndoing conneg on things other than Content-Type and the Accept headers is re=\r\nally going to increase interop at all.&lt;/div&gt;\n\n&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;In the pa=\r\nrticular case of a spreadsheet, one could certainly argue that the client s=\r\nhould be able to understand the column headers that are actually included i=\r\nn any particular representation. =A0Indeed, this is the exact argument that=\r\n is made for using HTML or XHTML as a syntax -- a client can theoretically =\r\nbe expected to understand how to parse a &lt;table&gt; element and its sub-=\r\nelements to look for &lt;th&gt; headers and derive the same information.&lt;/d=\r\niv&gt;\n\n&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;In my experience, however, understanding the *synt=\r\nax* at this level is the 20% problem ... the 80% problem is understanding t=\r\nhe semantics, which I have found to be pretty much independent of the repre=\r\nsentation syntax. =A0As an example, in the Java world there are many quite =\r\ncapable libraries that can serialize a given Java object structure to eithe=\r\nr JSON or XML with very little effort on the part of the server implementor=\r\n, which allows the same service to serve up &quot;application/xml&quot; or =\r\n&quot;application/json&quot; representations of the same resource quite rea=\r\ndily. =A0But neither this, nor encapsulating a sales order in an HTML/XHTML=\r\n table, communicates the business rule that the line item total on an invoi=\r\nce row should equal the quantity times the unit price.&lt;/div&gt;\n\n&lt;blockquote c=\r\nlass=3D&quot;gmail_quote&quot; style=3D&quot;margin:0 0 0 .8ex;border-left:1px #ccc solid;=\r\npadding-left:1ex&quot;&gt;&lt;div style=3D&quot;background-color:#fff&quot;&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;p&gt;\n/=\r\nJ=F8rn&lt;br&gt;\n&lt;br&gt;&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;span class=3D&quot;HOEn=\r\nZb&quot;&gt;&lt;font color=3D&quot;#888888&quot;&gt;&lt;div&gt;Craig McClanahan&lt;/div&gt;&lt;/font&gt;&lt;/span&gt;&lt;div c=\r\nlass=3D&quot;im&quot;&gt;&lt;div&gt;=A0&lt;/div&gt;&lt;blockquote class=3D&quot;gmail_quote&quot; style=3D&quot;margin=\r\n:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex&quot;&gt;\n&lt;div style=3D&quot;bac=\r\nkground-color:#fff&quot;&gt;\n&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;p&gt;\n&lt;/p&gt;\n\n    &lt;/div&gt;\n     \n\n    \n    &lt;d=\r\niv style=3D&quot;color:#fff;min-height:0&quot;&gt;&lt;/div&gt;\n\n\n&lt;/div&gt;\n\n\n\n  \n\n\n\n\n\n\n&lt;/blockquo=\r\nte&gt;&lt;/div&gt;&lt;/div&gt;&lt;br&gt;\n&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;\n\r\n--0016e6dd97a5857fe604b5227047--\r\n\n"}}
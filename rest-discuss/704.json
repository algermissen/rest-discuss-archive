{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":63473576,"authorName":"Lucas Gonze","from":"&quot;Lucas Gonze&quot; &lt;lucas@...&gt;","profile":"lucas_gonze","replyTo":"SENDER","senderId":"3-ZsWv0XyE9aoHr144s-CsUv5lz4RmtGKBjM1GL8Lo1OpvYE44nyIGmYcNZouzzuE9NyTXNlLIhpWtK5rzva_PEDo3VMfQ","spamInfo":{"isSpam":false,"reason":"0"},"subject":"required headers in the notification message","postDate":"1013362574","msgId":704,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PE5FQkJKSUhNTUxLSEVPUE5PR0hEQ0VMSUZLQUEubHVjYXNAZ29uemUuY29tPg==","inReplyToHeader":"PE5FQkJKSUhNTUxLSEVPUE5PR0hEQUVLTEZLQUEubHVjYXNAZ29uemUuY29tPg=="},"prevInTopic":699,"nextInTopic":714,"prevInTime":703,"nextInTime":705,"topicId":674,"numMessagesInTopic":33,"msgSnippet":"About the notification message definition: A notification message must have the following headers: Watched-URI: (URI of the watched resource) ","rawEmail":"Return-Path: &lt;lucas@...&gt;\r\nX-Sender: lucas@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nReceived: (EGP: mail-8_0_2); 10 Feb 2002 17:42:15 -0000\r\nReceived: (qmail 28800 invoked from network); 10 Feb 2002 17:42:15 -0000\r\nReceived: from unknown (216.115.97.171)\n  by m12.grp.snv.yahoo.com with QMQP; 10 Feb 2002 17:42:15 -0000\r\nReceived: from unknown (HELO mail3.panix.com) (166.84.0.167)\n  by mta3.grp.snv.yahoo.com with SMTP; 10 Feb 2002 17:42:15 -0000\r\nReceived: from mailspool1.panix.com (mailspool1.panix.com [166.84.0.210])\n\tby mail3.panix.com (Postfix) with ESMTP id 8C1D4981FC\n\tfor &lt;rest-discuss@yahoogroups.com&gt;; Sun, 10 Feb 2002 12:42:14 -0500 (EST)\r\nReceived: from lucas (159-98.nyc.dsl.access.net [166.84.159.98])\n\tby mailspool1.panix.com (Postfix) with SMTP id ADA7F12E41\n\tfor &lt;rest-discuss@yahoogroups.com&gt;; Sun, 10 Feb 2002 12:42:14 -0500 (EST)\r\nTo: &lt;rest-discuss@yahoogroups.com&gt;\r\nSubject: required headers in the notification message\r\nDate: Sun, 10 Feb 2002 12:36:14 -0500\r\nMessage-ID: &lt;NEBBJIHMMLKHEOPNOGHDCELIFKAA.lucas@...&gt;\r\nMIME-Version: 1.0\r\nContent-Type: text/plain;\n\tcharset=&quot;iso-8859-1&quot;\r\nContent-Transfer-Encoding: 7bit\r\nX-Priority: 3 (Normal)\r\nX-MSMail-Priority: Normal\r\nX-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)\r\nX-MimeOLE: Produced By Microsoft MimeOLE V5.00.2919.6600\r\nImportance: Normal\r\nIn-Reply-To: &lt;NEBBJIHMMLKHEOPNOGHDAEKLFKAA.lucas@...&gt;\r\nFrom: &quot;Lucas Gonze&quot; &lt;lucas@...&gt;\r\nX-Yahoo-Group-Post: member; u=63473576\r\nX-Yahoo-Profile: lucas_gonze\r\n\r\nAbout the notification message definition:\n&quot;A notification message must have the following headers:\nWatched-URI: (URI of the watched resource)\nSubscription-URI: URI of the subscription object&quot;\n\nI believe that the Watched-URI and Subscription-URI are not properly a required\npart of the notification message.  In the idempotent notification model the\nSubscriber URI contains the entire content of the callback.  There are several\nreasons.\n\n1) It is not properly a subscriber URI but a notification URI.  This follows\nfrom the fact that the sink receives notifications via PUT.  If you PUT multiple\nnotifications to the same URI, and they contain data related to different\nsubscriptions, they will wipe one another out.\n\n2) If the subscription URI in the notification is used as the callback address\nfor renewing/deleting/pending the subscription, or if the Watched-URI is used as\nthe callback address for picking up further events, then an attacker can rewrite\nthese headers to contain the target URI of a distributed denial of service\nattack.  To prevent rewriting, the notification message would have to be either\nsigned or encrypted, and if the sink has to handle signed or encrypted messages,\nit can&#39;t be a plain vanilla HTTP server.  So the sink MUST NOT use either the\nWatched-URI or Subscription-URI as the callback address for\nrenewing/deleting/pending the subscription.\n\n3) If the Watched-URI and Subscription-URI in a notification message are used by\nthe sink to identify the resource in question, an attacker can eavesdrop to\ndiscover any meaningful data within those URIs.  For example the\nSubscription-URI may hold enough information to modify a subscription.  If the\nSubscription-URI had been obtained within the context of an HTTPS connection,\nincluding it within an uncrypted notification message would disclose a secret.\n\nAs a general comment on security of the design, the meaning of a notification\nURI is a secret shared only by the sink and source.  That meaning is\npre-arranged during requests to the subscription URI.  If that rule is\nconsistently followed then only one resource -- the subscription URI -- needs to\nbe HTTPS.\n\nI don&#39;t mean to block off whatever the utility of the notification headers is,\nthough.  Explanations of the intended use of those headers would help in finding\nan alternative way to meet the need...\n\n- Lucas\n\n\n"}}
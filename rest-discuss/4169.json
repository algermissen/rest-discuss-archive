{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":4849001,"authorName":"S. Alexander Jacobson","from":"&quot;S. Alexander Jacobson&quot; &lt;alex@...&gt;","profile":"shop2it","replyTo":"SENDER","senderId":"T50BhG2exX86vknEYLJC503fyNYIYRZLu3TtB4YekUJCWEdHDujQ-bro6ESDXoPxjQwNGCylg4TcswgTul_TEf75u9mU0nIwiVoj5Q","spamInfo":{"isSpam":false,"reason":"0"},"subject":"RE: [rest-discuss] REST Transaction Process","postDate":"1076601485","msgId":4169,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PFBpbmUuV05ULjQuNTMuMDQwMjEyMTAzNjQ4MC4zNzZAcGhpbG8+","inReplyToHeader":"PDNCQjNGOTNDODBCOTA1NEQ4NTM2RDUxQTNENzEzMDEzMEVBMzI0QG1haWwtMDEuc3Bva2Vzb2Z0d2FyZS5jb20+","referencesHeader":"PDNCQjNGOTNDODBCOTA1NEQ4NTM2RDUxQTNENzEzMDEzMEVBMzI0QG1haWwtMDEuc3Bva2Vzb2Z0d2FyZS5jb20+"},"prevInTopic":4168,"nextInTopic":4170,"prevInTime":4168,"nextInTime":4170,"topicId":4141,"numMessagesInTopic":67,"msgSnippet":"Yes.  All HTTP requests within a transaction have to be POSTed to transaction resource itself because otherwise you end up with secret headers and pull","rawEmail":"Return-Path: &lt;alex@...&gt;\r\nX-Sender: alex@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nReceived: (qmail 29983 invoked from network); 12 Feb 2004 15:58:08 -0000\r\nReceived: from unknown (66.218.66.216)\n  by m1.grp.scd.yahoo.com with QMQP; 12 Feb 2004 15:58:08 -0000\r\nReceived: from unknown (HELO mailgate.vo.com) (67.100.176.227)\n  by mta1.grp.scd.yahoo.com with SMTP; 12 Feb 2004 15:58:06 -0000\r\nReceived: from philo (66-108-95-131.nyc.rr.com [66.108.95.131])\n\t(using TLSv1 with cipher RC4-MD5 (128/128 bits))\n\t(No client certificate requested)\n\tby mailgate.vo.com (Postfix) with ESMTP\n\tid 6F26D8F4DA; Thu, 12 Feb 2004 10:58:01 -0500 (EST)\r\nDate: Thu, 12 Feb 2004 10:58:05 -0500 (Eastern Standard Time)\r\nTo: Justin Sampson &lt;justin.sampson@...&gt;\r\nCc: Jeff Bone &lt;jbone@...&gt;, Vincent D Murphy &lt;vdm@...&gt;,\n\tSeairth Jacobs &lt;seairth@...&gt;, rest-discuss@yahoogroups.com\r\nIn-Reply-To: &lt;3BB3F93C80B9054D8536D51A3D7130130EA324@...&gt;\r\nMessage-ID: &lt;Pine.WNT.4.53.0402121036480.376@philo&gt;\r\nReferences: &lt;3BB3F93C80B9054D8536D51A3D7130130EA324@...&gt;\r\nX-X-Sender: alex@...\r\nMIME-Version: 1.0\r\nContent-Type: TEXT/PLAIN; charset=US-ASCII\r\nX-eGroups-Remote-IP: 67.100.176.227\r\nX-eGroups-From: &quot;S. Alexander Jacobson&quot; &lt;alex@...&gt;\r\nFrom: &quot;S. Alexander Jacobson&quot; &lt;alex@...&gt;\r\nSubject: RE: [rest-discuss] REST Transaction Process\r\nX-Yahoo-Group-Post: member; u=4849001\r\nX-Yahoo-Profile: shop2it\r\n\r\nYes.  All HTTP requests within a transaction have\nto be POSTed to transaction resource itself\nbecause otherwise you end up with secret headers\nand pull resources out of URI space.  Moreover\nGETs are NOT idempotent in transaction space\nbecause they have the side effect of making the\ntransaction dependent on whether the GET resource\nchanged (Isolation).  The process should look\nsomething like this:\n\n C: POST /transactions\n C: &lt;transaction/&gt;\n\n S: 201 CREATED\n S: Location: /transactions/123\n\n C: POST /transactions/123\n C: &lt;GET path=&quot;http://someURL&quot; reqID=&quot;abc123&quot;/&gt;\n\n S: 200 OK\n S: ...[result of GET in transaction context]\n\n C: POST /transactions/123\n C: &lt;POST path=&quot;http://someURL2&quot; content-type=&quot;text/plain&quot; reqID=&quot;def456&quot;&gt;\n C: body of POST\n C: &lt;/POST&gt;\n\n S: 200 OK\n S: ...[result of POST]...\n\n C: POST /transactions/123\n C: PREPARE\n\n S: 200 OK\n\n C: POST /transactions/123\n C: COMMIT\n\n S: 200 OK\n\nThe transaction manager can give an error if it\ncan&#39;t guarantee ACID for a resource involved with\nthe transaction.  There are no non-URI accesible\nresources.  Note, I don&#39;t know how you implement\nPREPARE over the internet as it requires servers\nto allow long running locks, so perhaps you allow\nonly COMMIT (and assume optimistic concurrency).\n\n-Alex-\n\n_________________________________________________________________\nS. Alexander Jacobson                  mailto:me@...\ntel:917-770-6565                       http://alexjacobson.com\n\n\n\n\nOn Wed, 11 Feb 2004, Justin Sampson wrote:\n&gt; Yeah -- a transaction is inherently stateful, so it&#39;s gotta be\n&gt; managed as a distinct resource space. Any GET on a resource\n&gt; within the context of the transaction must identify the\n&gt; transaction in the URI. Any GET on the original URI must be\n&gt; treated as outside of any transaction.\n&gt;\n&gt; Initiating a transaction really creates a new view of the entire\n&gt; resource space, so it makes sense that any resources accessed\n&gt; within the transaction would be accessed at URIs hierarchically\n&gt; subordinate to the URI of the transaction itself. However,\n&gt; munging the existing URIs on the client is undesirable. Also, any\n&gt; relative URIs inside the representations of those various\n&gt; resources may be thrown off; the server would have to introspect\n&gt; the representations it&#39;s returning and munge any URIs therein\n&gt; itself, and the client would have to be disciplined about only\n&gt; following URIs returned from the server (or built according to\n&gt; rules returned from the server, as for an HTML form submission),\n&gt; and emphatically not constructing URIs itself -- but then that&#39;s\n&gt; just good REST sense, anyway.\n&gt;\n&gt; Justin\n&gt;\n&gt; &gt; -----Original Message-----\n&gt; &gt; From: Jeff Bone [mailto:jbone@...]\n&gt; &gt; Sent: Wednesday, February 11, 2004 7:16 AM\n&gt; &gt; To: Vincent D Murphy\n&gt; &gt; Cc: Seairth Jacobs; rest-discuss@yahoogroups.com\n&gt; &gt; Subject: Re: [rest-discuss] REST Transaction Process\n&gt; &gt;\n&gt; &gt; IMHO, the transaction is an object (resource) in itself. This\n&gt; &gt; is a standard pattern in transaction managers, cf. Java&#39;s\n&gt; &gt; transaction facility, OODBs that support long-running\n&gt; &gt; transactions, etc. Given this, it&#39;s appropriate for it to have\n&gt; &gt; a URI. I&#39;m not sure munging the original resource onto the\n&gt; &gt; transaction URI is a great solution, but it&#39;s better than\n&gt; &gt; burying things in the headers.\n&gt; &gt;\n&gt; &gt; Reifying the transaction is a good thing!\n&gt; &gt;\n&gt; &gt; jb\n&gt; &gt;\n&gt; &gt; On Feb 11, 2004, at 3:03 AM, Vincent D Murphy wrote:\n&gt; &gt;\n&gt; &gt; &gt; On 11 Feb 2004, at 05:45, Seairth Jacobs wrote:\n&gt; &gt; &gt;\n&gt; &gt; &gt; &gt; Check out http://www.seairth.com/web/resttp.html and tell\n&gt; &gt; &gt; &gt; me what you think.\n&gt; &gt; &gt;\n&gt; &gt; &gt; I like your idea, but I wonder if it may be possible to\n&gt; &gt; &gt; simplify.\n&gt; &gt; &gt;\n&gt; &gt; &gt; Instead of prefixing the URIs of requests in the transaction,\n&gt; &gt; &gt; could the transaction not be referred to by a request header?\n&gt; &gt; &gt;\n&gt; &gt; &gt; So instead of translating (e.g.)\n&gt; &gt; &gt;\n&gt; &gt; &gt; PUT /path/resource1\n&gt; &gt; &gt; to\n&gt; &gt; &gt; PUT /t/123/path/resource1\n&gt; &gt; &gt; why not have\n&gt; &gt; &gt;\n&gt; &gt; &gt; PUT /path/resource1\n&gt; &gt; &gt; Transaction: /t/123\n&gt; &gt; &gt;\n&gt; &gt; &gt; or similar.  The trade-off, as I see it, is that it would be\n&gt; &gt; &gt; easier to write a client that includes an extra header than\n&gt; &gt; &gt; one that munges the request URI; that smells like a kludge to\n&gt; &gt; &gt; me.\n&gt; &gt; &gt;\n&gt; &gt; &gt; What do you think?\n&gt;\n&gt;\n&gt;\n&gt; Yahoo! Groups Links\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n\n\n"}}
{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":274299176,"authorName":"Rickard Öberg","from":"=?UTF-8?B?Umlja2FyZCDDlmJlcmc=?= &lt;rickardoberg@...&gt;","profile":"rickardoberg","replyTo":"SENDER","senderId":"hO0LWteYYntb1XRe1KJlqGXaE-R8GI3LifHqZoMu7Z5TD-7OPQk-mbCJYTVVDHKHC2GurhRQojI_8IVJeb8li9GES74lgNgenLSLXvji6LyYjFJp1FX2kBlrMSdnATNN","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [rest-discuss] CommandQuerySeparation and REST?","postDate":"1241511599","msgId":12559,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDQ5RkZGNkFGLjYwNzA5MDBAZ21haWwuY29tPg==","inReplyToHeader":"PDg3cHJlb2F4YzMuZnNmQGR1bGxpby5uZWRlcndhcmUubmw+","referencesHeader":"PDQ5RkY5NkFELjkwNjA3MDBAZ21haWwuY29tPiA8ODc3aTB3bTg2bS5mc2ZAZHVsbGlvLm5lZGVyd2FyZS5ubD4JPDQ5RkZDRjMyLjYwOTAzQGdtYWlsLmNvbT4gPDg3cHJlb2F4YzMuZnNmQGR1bGxpby5uZWRlcndhcmUubmw+"},"prevInTopic":12558,"nextInTopic":12560,"prevInTime":12558,"nextInTime":12560,"topicId":12555,"numMessagesInTopic":39,"msgSnippet":"... But with CQS I don t have cases like that. I only have commands that do stuff and queries that gets stuff. No combos. If I want a combo I ll just make a","rawEmail":"Return-Path: &lt;rickardoberg@...&gt;\r\nX-Sender: rickardoberg@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 68550 invoked from network); 5 May 2009 08:21:09 -0000\r\nX-Received: from unknown (69.147.108.200)\n  by m4.grp.re1.yahoo.com with QMQP; 5 May 2009 08:21:09 -0000\r\nX-Received: from unknown (HELO rv-out-0506.google.com) (209.85.198.226)\n  by mta1.grp.re1.yahoo.com with SMTP; 5 May 2009 08:21:08 -0000\r\nX-Received: by rv-out-0506.google.com with SMTP id f6so3430278rvb.39\n        for &lt;rest-discuss@yahoogroups.com&gt;; Tue, 05 May 2009 01:20:08 -0700 (PDT)\r\nX-Received: by 10.141.142.1 with SMTP id u1mr2423687rvn.18.1241511608333;\n        Tue, 05 May 2009 01:20:08 -0700 (PDT)\r\nReturn-Path: &lt;rickardoberg@...&gt;\r\nX-Received: from rickard-obergs-computer.local ([115.133.248.130])\n        by mx.google.com with ESMTPS id g22sm17654680rvb.6.2009.05.05.01.20.04\n        (version=TLSv1/SSLv3 cipher=RC4-MD5);\n        Tue, 05 May 2009 01:20:06 -0700 (PDT)\r\nMessage-ID: &lt;49FFF6AF.6070900@...&gt;\r\nDate: Tue, 05 May 2009 16:19:59 +0800\r\nUser-Agent: Thunderbird 2.0.0.21 (Macintosh/20090302)\r\nMIME-Version: 1.0\r\nTo: Berend de Boer &lt;berend@...&gt;\r\nCc: Rest List &lt;rest-discuss@yahoogroups.com&gt;\r\nReferences: &lt;49FF96AD.9060700@...&gt; &lt;877i0wm86m.fsf@...&gt;\t&lt;49FFCF32.60903@...&gt; &lt;87preoaxc3.fsf@...&gt;\r\nIn-Reply-To: &lt;87preoaxc3.fsf@...&gt;\r\nContent-Type: text/plain; charset=UTF-8; format=flowed\r\nContent-Transfer-Encoding: 8bit\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: =?UTF-8?B?Umlja2FyZCDDlmJlcmc=?= &lt;rickardoberg@...&gt;\r\nSubject: Re: [rest-discuss] CommandQuerySeparation and REST?\r\nX-Yahoo-Group-Post: member; u=274299176; y=uL-CEYxqPNUI69VRulzqM2aX68zq0Eblyzm0aii4vAsy4gcqFxpL\r\nX-Yahoo-Profile: rickardoberg\r\n\r\nBerend de Boer wrote:\n&gt;&gt;&gt;&gt;&gt;&gt; &quot;Rickard&quot; == Rickard Öberg &lt;rickardoberg@...&gt; writes:\n&gt; \n&gt;     &gt;&gt; CommandQuery doesn&#39;t work for distributed systems. As Eiffel\n&gt;     &gt;&gt; programmer I use it all the time, but it doesn&#39;t fit\n&gt;     &gt;&gt; distributed systems. The overhead is already twice the pure\n&gt;     &gt;&gt; REST model.\n&gt; \n&gt;     Rickard&gt; What creates this overhead?\n&gt; \n&gt; You need two calls: one for the action, one to retrieve the result.\n\nBut with CQS I don&#39;t have cases like that. I only have commands that do \nstuff and queries that gets stuff. No combos. If I want a combo I&#39;ll \njust make a redirect from the command to the query, and the client is \nfree to choose whether to follow or not.\n\n&gt; For distributed systems you simply want one call with all results\n&gt; returned.\n&gt; \n&gt; And if you need to read stuff in a transaction it becomes even more\n&gt; complicated, especially since HTTP is meant to be stateless.\n&gt; \n&gt; \n&gt; Simple example: getting a new invoice number. If you break this up in\n&gt; a POST to make the new invoice number available and a GET to retrieve\n&gt; it, you need twice the overhead. And some significant programming\n&gt; effort to get this right.\n&gt; \n&gt; You&#39;re far better of to POST the details and get back the invoice number.\n\nBut this seems to imply that the client is supposed to be doing stuff. \nWhy would a dumb client want an invoice number? If you have a process to \ncreate a new invoice, which needs it, then that should be on the server, \nnot the client. So, in the CQS setup the client only assembles the data \nneeded to perform the command, and the work is then done on the server.\n\n&gt;     Rickard&gt; For example, if I have one command create a thousand\n&gt;     Rickard&gt; objects, wouldn&#39;t that have to be replaced with a\n&gt;     Rickard&gt; thousand PUT&#39;s if I didn&#39;t use commands? Or what kind of\n&gt;     Rickard&gt; overhead are we talking about?\n&gt; \n&gt; Why? You just POST your 1000 objects.\n\nRight. So how is 1000 calls more efficient than 1?\n\n&gt;     Rickard&gt; I am using CQS specifically because of its supposed\n&gt;     Rickard&gt; virtues in distributed programming. See:\n&gt;     Rickard&gt; http://www.udidahan.com/2008/08/11/command-query-separation-and-soa/\n&gt; \n&gt; I see. I can only suggest that not everything on the Internet is\n&gt; helpful. And this example is clearly about RPC:\n&gt; \n&gt;   NServiceBus is not designed to be used for any and all types of\n&gt;   communication in a given architecture. In the examples above,\n&gt;   nServiceBus handles the publish/subscribe but leaves the synchronous\n&gt;   RPC to existing solutions like WCF. Not only that, but synchronous\n&gt;   RPC does have its place in architecture, just not across service\n&gt;   boundaries. In all cases, data is served to users from a store\n&gt;   different from that which transaction processing logic uses.\n&gt; \n&gt; Which, whatever it merits, is frankly freaking complex.\n\nThe above doesn&#39;t really have anything to do with CQS and REST, so not \nrelevant.\n\n&gt;     Rickard&gt; Also, if I didn&#39;t encapsulate the domain logic to be\n&gt;     Rickard&gt; executed in the command on the server, wouldn&#39;t it have\n&gt;     Rickard&gt; to be duplicated in the client? And if so, doesn&#39;t that\n&gt;     Rickard&gt; pose a maintenance and security problem?\n&gt; \n&gt; No, that&#39;s fine. But you need to use HTTP as it is meant to be,\n&gt; i.e. use REST.\n\nRight. So again, doesn&#39;t that then presume that all domain logic is in \nthe client? I.e. the clients only get/put/post state, not commands? And \nif so, won&#39;t that have maintenance and security problems (e.g. malicious \nclients posting states that are invalid from a domain point of view)?\n\n/Rickard\n\n\n"}}
{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":87113616,"authorName":"S. Mike Dierken","from":"&quot;S. Mike Dierken&quot; &lt;mdierken@...&gt;","profile":"mdierken","replyTo":"SENDER","senderId":"PZPtgXbV5dYQnqBeaQnrERh1AmtRF8r8n9Th7zf9KPxcuLdwU5UIAVuE0lNvGDHTNi66xeLeYx8zwx7ddf8MLO9KJQbh_6004gHbGRUBFQ","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [rest-discuss] Why is HTTP hard to design with?","postDate":"1011989856","msgId":435,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PE9FMTZjRGpvWUFQTlhSUG1jYXIwMDAwMzZkMUBob3RtYWlsLmNvbT4=","referencesHeader":"PFBpbmUuV05ULjQuNDMuMDIwMTI1MTQwMjI1MC4xNDAwLTEwMDAwMEBnYW5kb2xwaC5BU0dBUkQuam1zPg=="},"prevInTopic":379,"nextInTopic":0,"prevInTime":434,"nextInTime":436,"topicId":209,"numMessagesInTopic":77,"msgSnippet":"... From: S. Alexander Jacobson  ... re-open ... are ... They don t repeatedly ask the server any messages... Heres what happens: 1) The","rawEmail":"Return-Path: &lt;mdierken@...&gt;\r\nX-Sender: mdierken@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nReceived: (EGP: mail-8_0_1_3); 29 Jan 2002 14:18:56 -0000\r\nReceived: (qmail 96987 invoked from network); 29 Jan 2002 14:18:55 -0000\r\nReceived: from unknown (216.115.97.172)\n  by m9.grp.snv.yahoo.com with QMQP; 29 Jan 2002 14:18:55 -0000\r\nReceived: from unknown (HELO hotmail.com) (64.4.16.120)\n  by mta2.grp.snv.yahoo.com with SMTP; 29 Jan 2002 14:18:55 -0000\r\nReceived: from mail pickup service by hotmail.com with Microsoft SMTPSVC;\n\t Fri, 25 Jan 2002 12:17:37 -0800\r\nTo: &quot;S. Alexander Jacobson&quot; &lt;alex@...&gt;\r\nCc: &lt;rest-discuss@yahoogroups.com&gt;\r\nReferences: &lt;Pine.WNT.4.43.0201251402250.1400-100000@...&gt;\r\nSubject: Re: [rest-discuss] Why is HTTP hard to design with?\r\nDate: Fri, 25 Jan 2002 12:17:36 -0800\r\nMIME-Version: 1.0\r\nContent-Type: text/plain;\tcharset=&quot;iso-8859-1&quot;\r\nContent-Transfer-Encoding: 7bit\r\nX-Priority: 3\r\nX-MSMail-Priority: Normal\r\nX-Mailer: Microsoft Outlook Express 5.50.4807.1700\r\nX-MimeOLE: Produced By Microsoft MimeOLE V5.50.4807.1700\r\nMessage-ID: &lt;OE16cDjoYAPNXRPmcar000036d1@...&gt;\r\nX-OriginalArrivalTime: 25 Jan 2002 20:17:37.0416 (UTC) FILETIME=[54EB8080:01C1A5DD]\r\nFrom: &quot;S. Mike Dierken&quot; &lt;mdierken@...&gt;\r\nX-Yahoo-Group-Post: member; u=87113616\r\nX-Yahoo-Profile: mdierken\r\n\r\n\n----- Original Message -----\nFrom: &quot;S. Alexander Jacobson&quot; &lt;alex@...&gt;\n\n\n&gt; On Fri, 25 Jan 2002, S. Mike Dierken wrote:\n&gt; &gt; &gt; I just took a look at the two knownow demos...\n&gt; &gt; &gt; If you are talking about the knownow web clients,\n&gt; &gt; &gt; they don&#39;t open a peristent GET, they just make\n&gt; &gt; &gt; repeated requests, (polling the server).\n&gt; &gt; They use a persistent response. If the connection is closed, they\nre-open\n&gt; &gt; it. That might be where the &#39;repeated requests&#39; are coming from. Those\nare\n&gt; &gt; very infrequent.\n&gt;\n&gt; What is a persisent response?  I think they may do\n&gt; keep-alive my repeatedly asking the server &quot;any\n&gt; messages, any messages,....&quot;, but that is still\n&gt; polling and it is still ugly (a waste of resources\n&gt; and bandwidth).\n&gt;\nThey don&#39;t repeatedly ask the server &quot;any messages...&quot;\nHeres what happens:\n1) The client does a GET.\n2) The server responds with content that is a series of messages.\n3) The response stays open.\n4) As new message arrive at the server, they slide down the connection to\nthe client.\n5) If the connection is dropped, the client re-establishes the connection.\n\nThat&#39;s what I meant by &#39;persistent response&#39;. It isn&#39;t keep-alive (multiple\nrequest/response with one tcp/ip connection), it is a long-lived response,\nit looks like a really big document.\nThe browser parses this in a streaming fashion and calls back into\njavascript as it encounters it in the stream.\n\n\n&gt; &gt; &gt;\n&gt; &gt; &gt; If you are talking about the knownow event\n&gt; &gt; &gt; routers, it sounds like they are implementing\n&gt; &gt; &gt; listservs.  If they are sending out 10k concurrent\n&gt; &gt; &gt; email messages, that is very nice.  If they are\n&gt; &gt; &gt; sending out only 100-1000 concurrent messages and\n&gt; &gt; &gt; just claim a max of 10k listeners, that is\n&gt; &gt; &gt; incredibly unimpressive.\n&gt; &gt; Oh. Remember, I don&#39;t have real numbers as I do not work there\n&gt;\n&gt; If you don&#39;t have real numbers then lets drop\n&gt; knownow.\nOk. If it makes you uncomfortable.\n\n&gt;\n&gt; &gt; &gt; Either way, this has little to do with persistent\n&gt; &gt; &gt; GET and the merits of HTTP for presence\n&gt; &gt; &gt; applications.  The main point is that HTTP is\n&gt; &gt; &gt; suboptimal for this application (but you may need\n&gt; &gt; &gt; it if the client is a web browser).\n&gt; &gt; If the client were another server, would http be sufficient?\n&gt;\n&gt; Not if you only want to send messages when the\n&gt; client is &quot;available.&quot;\n&gt;\n&gt; &gt; &gt; Yeah. Me too.  How many chat clients can your web server support?\n&gt; &gt; 10,000. Like I said, the KN server can handle 10k concurrent browser\nclients\n&gt; &gt; per cluster node.\n&gt;\n&gt; Ok.  Great.  What is the polling frequency?\nThere isn&#39;t any polling. Just like a TCP/IP connection, you re-open it if\nthe connection is dropped. Not on an interval basis.\n\n&gt; My point is that whatever the number, a server\n&gt; that allows clients to hold open connections for\n&gt; long periods of time will perform orders of\n&gt; magnitude better.\nThat is true. That is why that company has a server that allows clients to\nhold open connections for long periods of time.\n\n&gt;\n&gt; You could implement with HTTP if the server chunk\n&gt; encoded delivery of messages and the client held\n&gt; the connection open long enough, but as you noted\n&gt; this is a serious abuse of HTTP and as I noted,\n&gt; most servers and intermediaries aren&#39;t happy to\n&gt; let an HTTP connection stay silent for too long.\n&gt;\n\n&gt; &gt; &gt; Even if your server could handle higher capacity\n&gt; &gt; &gt; the bandwidth of handling large numbers of pings\n&gt; &gt; &gt; will also eventually overwhelm you.\n&gt; &gt; &gt;\n&gt; &gt; &gt; Alternatively, you could also document a\n&gt; &gt; &gt; more scalable protocol like Jabber, IRC, or Kazaa,\n&gt; &gt; &gt; give away the source, get the same hackers to\n&gt; &gt; &gt; work on it, and perhaps get bought by AOL!\n&gt; &gt; Or examine your assumptions.\n&gt; &gt;\n&gt; &gt; Nobody here is suggesting polling is the preferred way to go. A server\nthat\n&gt; &gt; transparently handled polling for backward compatibility would help in\nmany\n&gt; &gt; situations, as long as the scalability/traffic problems don&#39;t surface.\n&gt;\n&gt; The issue is that HTTP requires polling to\n&gt; establish presence.\nI don&#39;t understand what you mean.\n\n&gt;\n&gt; Let me ask it all another way, do you want to use\n&gt; HTTP instead of telnet/ssh (to interact with the\n&gt; shell)?\nYes.\n\n\n\n"}}
{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":201150942,"authorName":"Greg Young","from":"Greg Young &lt;gregoryyoung1@...&gt;","profile":"gumboismadeoffish","replyTo":"SENDER","senderId":"mwtKuppN-tFWu8SeohvSZI5l0UPHXoz60Hn5YyqkDGlWiYlll3OK3AerzAsUThX10LCMBBRfYGBCKbr4kvPEzO-aUlEZZyeJ2A7C","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [rest-discuss] Atom and prev links","postDate":"1372436090","msgId":19503,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PENBQzlSUXRpUWpic0JnRTQ5cTBqc0VzMUZ3MXdlQTJRUGFtOUF1ekpTYVRCOTRqby16Z0BtYWlsLmdtYWlsLmNvbT4=","inReplyToHeader":"PENBRGJHWmpZd0hKR0tocDZGMWpiWmloVXRadTlhdFVTdWRraGNTMVQ3d3Qzc0FzdlpmQUBtYWlsLmdtYWlsLmNvbT4=","referencesHeader":"PENBQzlSUXRqK1IzVHZ1TjdSVGpFT0dNWFR1NmlZMU1NdEZtdmp2YnJTK3NpRHZmVEtvUUBtYWlsLmdtYWlsLmNvbT4JPENBRGJHWmpZd0hKR0tocDZGMWpiWmloVXRadTlhdFVTdWRraGNTMVQ3d3Qzc0FzdlpmQUBtYWlsLmdtYWlsLmNvbT4="},"prevInTopic":19502,"nextInTopic":19504,"prevInTime":19502,"nextInTime":19504,"topicId":19487,"numMessagesInTopic":23,"msgSnippet":"We have considered this empty feed page as well! We were thinking its slightly more efficient (and understandable) to have a status code but maybe not","rawEmail":"Return-Path: &lt;gregoryyoung1@...&gt;\r\nX-Sender: gregoryyoung1@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 42177 invoked from network); 28 Jun 2013 16:14:50 -0000\r\nX-Received: from unknown (98.137.63.205)\n  by m15.grp.sp2.yahoo.com with QMQP; 28 Jun 2013 16:14:50 -0000\r\nX-Received: from unknown (HELO mail-pa0-f53.google.com) (209.85.220.53)\n  by mtaq6.grp.sp2.yahoo.com with SMTP; 28 Jun 2013 16:14:50 -0000\r\nX-Received: by mail-pa0-f53.google.com with SMTP id tj12so2607651pac.26\n        for &lt;rest-discuss@yahoogroups.com&gt;; Fri, 28 Jun 2013 09:14:50 -0700 (PDT)\r\nMIME-Version: 1.0\r\nX-Received: by 10.66.159.66 with SMTP id xa2mr11968568pab.36.1372436090159;\n Fri, 28 Jun 2013 09:14:50 -0700 (PDT)\r\nX-Received: by 10.68.138.170 with HTTP; Fri, 28 Jun 2013 09:14:50 -0700 (PDT)\r\nIn-Reply-To: &lt;CADbGZjYwHJGKhp6F1jbZihUtZu9atUSudkhcS1T7wt3sAsvZfA@...&gt;\r\nReferences: &lt;CAC9RQtj+R3TvuN7RTjEOGMXTu6iY1MMtFmvjvbrS+siDvfTKoQ@...&gt;\n\t&lt;CADbGZjYwHJGKhp6F1jbZihUtZu9atUSudkhcS1T7wt3sAsvZfA@...&gt;\r\nDate: Fri, 28 Jun 2013 19:14:50 +0300\r\nMessage-ID: &lt;CAC9RQtiQjbsBgE49q0jsEs1Fw1weA2QPam9AuzJSaTB94jo-zg@...&gt;\r\nTo: Erik Mogensen &lt;erik@...&gt;\r\nCc: Rest List &lt;rest-discuss@yahoogroups.com&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Transfer-Encoding: quoted-printable\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Greg Young &lt;gregoryyoung1@...&gt;\r\nSubject: Re: [rest-discuss] Atom and prev links\r\nX-Yahoo-Group-Post: member; u=201150942; y=7OLdQ7wYHkJ56bR-mauLF9sSGC0Ia9bb5n-I59FhxdLecxKmDl04JgwbyGo\r\nX-Yahoo-Profile: gumboismadeoffish\r\n\r\nWe have considered this empty feed page as well! We were thinking its\nsligh=\r\ntly more efficient (and understandable) to have a status code but\nmaybe not=\r\n (thinking client logic).\n\nIf I were to do this again, I might consider usi=\r\nng 302 some other\ntemporary redirect, instead of the 404 or the empty feed;=\r\n redirect\nback to the current (infinitely cacheable) first page.  When a ne=\r\nw\nitem appears, the 302 would turn into the &quot;new&quot; first page&quot; a 200 with\nne=\r\nw next/prev links,\n\nI am curious why not a 204. It would seem to be a reaso=\r\nnable fit here\n&quot;keep your doc, retry after ...&quot;\n\nCheers,\n\nGreg\n\nOn Fri, Jun=\r\n 28, 2013 at 7:09 PM, Erik Mogensen &lt;erik@...&gt; wrote:\n&gt;\n&gt; On Fri,=\r\n Jun 28, 2013 at 12:16 PM, Greg Young &lt;gregoryyoung1@...&gt;\n&gt; wrote:\n&gt;&gt;=\r\n\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; We have a mature atom implementation for distribution of event st=\r\nreams\n&gt;&gt; and as always the devil is in the details...\n&gt;&gt;\n&gt;&gt; The issue revol=\r\nves around prev links. At some point on an atom feed\n&gt;&gt; you will hit the cu=\r\nrrent item, prev will point to the next item that\n&gt;&gt; does not yet exist. Mo=\r\nst implementations I can find 404 this uri and\n&gt;&gt; the client has the logic =\r\nto keep polling the 404. This seems off to\n&gt;&gt; me, I would expect this to be=\r\n a 204. Then if I change my uri structure\n&gt;&gt; it becomes a 404, otherwise it=\r\n would seem that if I change my uri\n&gt;&gt; structure all prev uris would need t=\r\no redirect to the new ones (which\n&gt;&gt; would be a rather large undertaking).\n=\r\n&gt;&gt;\n&gt;&gt; I couldn&#39;t find any details on this in relevant specs, has anyone see=\r\nn\n&gt;&gt; this?\n&gt;&gt;\n&gt; Greg, I&#39;d just like to explain how we do more or less the s=\r\name thing.  We\n&gt; also use the prev link of the &quot;first page&quot; of a feed to li=\r\nnk to the page\n&gt; containing the items that &quot;will be&quot;.  We find that it&#39;s an=\r\n extremely\n&gt; resilient way of dissipating information about things that fit=\r\n in atom\n&gt; feeds, and a relatively efficient system too.\n&gt;\n&gt; Infinitely cac=\r\nheable resources are nice, but instead of 404, or 204 and so\n&gt; on, we expos=\r\ne an empty feed document, with a next link but no prev link.\n&gt; When things =\r\nhappen, the page (when refreshed) contains one or more entries,\n&gt; and becom=\r\nes cacheable.\n&gt;\n&gt; Our &quot;head&quot; document is very small; contains no real data =\r\nso it&#39;s easy to\n&gt; generate; supports cache validation, and if it&#39;s incorrec=\r\ntly cached as fresh\n&gt; by an intermediary or a caching client, it only imped=\r\nes the ability of\n&gt; clients to advance to the &quot;newer&quot; entries.  Eventually,=\r\n they will advance to\n&gt; the next state.\n&gt;\n&gt; If I were to do this again, I m=\r\night consider using 302 some other temporary\n&gt; redirect, instead of the 404=\r\n or the empty feed; redirect back to the current\n&gt; (infinitely cacheable) f=\r\nirst page.  When a new item appears, the 302 would\n&gt; turn into the &quot;new&quot; fi=\r\nrst page&quot; a 200 with new next/prev links,\n&gt;\n&gt; I wonder if &quot;Cache-Control&quot; o=\r\nr &quot;Retry-After&quot; would be useful for 302\n&gt; responses, to ask clients to back=\r\n off under heavy load.\n&gt; --\n&gt; -mogsie-\n\n\n\n-- \nLe doute n&#39;est pas une condit=\r\nion agr=E9able, mais la certitude est absurde.\n\n"}}
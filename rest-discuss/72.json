{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":63473576,"authorName":"Lucas Gonze","from":"&quot;Lucas Gonze&quot; &lt;lucas@...&gt;","profile":"lucas_gonze","replyTo":"SENDER","senderId":"aA4tyQZEcg9LxPDGC5_zKBEETXSZiNBzM5jHRvaGNyGXeXljwvCQ5VNMZjDo-5bGwfo7R5KkUY3EHdRrldwa0JKkwHOSzg","spamInfo":{"isSpam":false,"reason":"0"},"subject":"drafting an asynch http","postDate":"1011554656","msgId":72,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PE5FQkJKSUhNTUxLSEVPUE5PR0hETUVHQUZJQUEubHVjYXNAZ29uemUuY29tPg=="},"prevInTopic":0,"nextInTopic":73,"prevInTime":71,"nextInTime":73,"topicId":72,"numMessagesInTopic":54,"msgSnippet":"Ok, I have my smtp transport for asynch messaging running, next thing to do is the http layer.  The purpose of this is to be a testbed for ideas about how ","rawEmail":"Return-Path: &lt;lucas@...&gt;\r\nX-Sender: lucas@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nReceived: (EGP: mail-8_0_1_3); 20 Jan 2002 19:25:11 -0000\r\nReceived: (qmail 13539 invoked from network); 20 Jan 2002 19:25:10 -0000\r\nReceived: from unknown (216.115.97.167)\n  by m9.grp.snv.yahoo.com with QMQP; 20 Jan 2002 19:25:10 -0000\r\nReceived: from unknown (HELO mail3.panix.com) (166.84.0.167)\n  by mta1.grp.snv.yahoo.com with SMTP; 20 Jan 2002 19:25:10 -0000\r\nReceived: from lucas (159-98.nyc.dsl.access.net [166.84.159.98])\n\tby mail3.panix.com (Postfix) with SMTP id C0B9098413\n\tfor &lt;rest-discuss@yahoogroups.com&gt;; Sun, 20 Jan 2002 14:25:09 -0500 (EST)\r\nTo: &quot;Rest-Discuss&quot; &lt;rest-discuss@yahoogroups.com&gt;\r\nSubject: drafting an asynch http\r\nDate: Sun, 20 Jan 2002 14:24:16 -0500\r\nMessage-ID: &lt;NEBBJIHMMLKHEOPNOGHDMEGAFIAA.lucas@...&gt;\r\nMIME-Version: 1.0\r\nContent-Type: text/plain;\n\tcharset=&quot;iso-8859-1&quot;\r\nContent-Transfer-Encoding: 7bit\r\nX-Priority: 3 (Normal)\r\nX-MSMail-Priority: Normal\r\nX-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)\r\nImportance: Normal\r\nX-MimeOLE: Produced By Microsoft MimeOLE V5.00.2919.6600\r\nFrom: &quot;Lucas Gonze&quot; &lt;lucas@...&gt;\r\nX-Yahoo-Group-Post: member; u=63473576\r\nX-Yahoo-Profile: lucas_gonze\r\n\r\nOk, I have my smtp transport for asynch messaging running, next thing to do is\nthe http layer.  The purpose of this is to be a testbed for ideas about how\nasynch http would work.  Also, this message is quite disorderly, since I&#39;m\nfocused on running code today rather than clear exposition.  There is nothing\nspecial about SMTP -- UDP should be supported by the design just as well -- it\njust happens to be a convenient transport.  I am thinking in Java today, so\nthat&#39;s what the examples are.\n\nHow to set up the layering between transport and HTTP?  My instinct is to create\na sort of simulated request/response, but with the asynch guts still exposed for\nthose who want to see them.  It is assumed that any asynch scheme must be\nbackwards compatible with synch mode; I do this by considering synch to be a\nspecial case where there is always exactly one response.\n\nA client program in need of HTTP obtains a connection object that wrappers the\nasynch details.\nThe client program retrieves and manipulates the connection object as always,\nexcept that it must actively indicate that an asynch connection is OK.\nThe connection object is a derived subclass of HttpURLConnection.  It is willing\nto do anything synchronous HTTP does, but it never lies about the asynch nature\nof things.  An example of not lying is that working via a hacked proxy as\nFreenet does is not acceptable unless the client indicates that this is OK.\n\nWhen A calls conn.getContent() a message is emitted and a callback is stored.  A\n_new_ response code is emitted to indicate _asynch_ communications: eg 900\n&quot;Emission pended&quot; or 901 &quot;Emission sent and accepted&quot;.  The outer caller, the\none that wants synchronicity does _not_ get a lie; no &quot;200 OK&quot; that doesn&#39;t come\nfrom the real destination.  However, there may be proxy status codes that are\nsuitable, in particular 407 and 408, I don&#39;t know.  The outer caller may be\ndropped into a pending state (e.g. via wait()) in anticipation of a true HTTP\nresponse.  When a response message is received it is mapped via a thread-id or\nrequest-id to a callback.\n\nA big question is what URI scheme to use?  This is _not_ HTTP, because there is\nno domain name and because -- and worse! -- the dest address should be\nexpressable as a URI.  EG: &quot;http:/(URI)/etc&quot; is not legal.   How to pack a URI\nin there?  The protocol identifier HTTP is inappropriate, because it doesn&#39;t\nflag that the target host is a URI.  An HTTP URL would be unparseable if the\ntarget host were a URI.  EG,\nasynch-http://http://bloe.com/targetContent/\n\nIs &quot;/targetContent&quot;          ^\npart of the http URI or part of the asynch-http URI?\n\nPractical comments would be appreciated, as I hope to have running code shortly.\n\n\n"}}
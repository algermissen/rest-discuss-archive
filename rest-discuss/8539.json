{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":130641183,"authorName":"Peters, Daniel R","from":"&quot;Peters, Daniel R&quot; &lt;daniel.r.peters@...&gt;","profile":"sternobumx","replyTo":"SENDER","senderId":"0-8qhEdPS58m-FiVCp6JHtCeyVn3g6qf_Ctn_mpTSbvUnkn4zHRyO-7d9ivdnHkK69Dd01FkasPHo02S-Wo9YggALng_CIYdxcL1Ql3UdGzpC5MMSQ","spamInfo":{"isSpam":false,"reason":"0"},"subject":"RE: [rest-discuss] REST and encapsulation","postDate":"1179876884","msgId":8539,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDMxMTY2MzhFQjZENUY3NERCQjlFMDMwOUZCQkNCMTQ0MDM2Mjg2QkFAYXpzbXN4NDExLmFtci5jb3JwLmludGVsLmNvbT4=","inReplyToHeader":"PE9GRjRFNTdFREYuNjU4OEY4N0QtT044NjI1NzJFMy4wMDc4ODJGRC04NjI1NzJFMy4wMDdCRjE4M0BtY2sudXMucmF5LmNvbT4="},"prevInTopic":8538,"nextInTopic":8540,"prevInTime":8538,"nextInTime":8540,"topicId":8521,"numMessagesInTopic":21,"msgSnippet":"Thanks Kevin, Sounds like perhaps my OO training is creeping into my understanding of resources - I seem to be trying to view a Resource as a special kind of ","rawEmail":"Return-Path: &lt;daniel.r.peters@...&gt;\r\nX-Sender: daniel.r.peters@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nReceived: (qmail 12659 invoked from network); 22 May 2007 23:35:00 -0000\r\nReceived: from unknown (66.218.66.68)\n  by m49.grp.scd.yahoo.com with QMQP; 22 May 2007 23:35:00 -0000\r\nReceived: from unknown (HELO mga03.intel.com) (143.182.124.21)\n  by mta11.grp.scd.yahoo.com with SMTP; 22 May 2007 23:35:00 -0000\r\nReceived: from azsmga001.ch.intel.com ([10.2.17.19])\n  by azsmga101.ch.intel.com with ESMTP; 22 May 2007 16:34:48 -0700\r\nX-ExtLoop1: 1\r\nX-IronPort-AV: E=Sophos;i=&quot;4.14,567,1170662400&quot;; \n   d=&quot;scan&#39;208,217&quot;;a=&quot;231014456&quot;\r\nReceived: from azsmsx334.amr.corp.intel.com ([10.2.121.57])\n  by azsmga001.ch.intel.com with ESMTP; 22 May 2007 16:34:46 -0700\r\nReceived: from azsmsx411.amr.corp.intel.com ([10.2.121.78]) by azsmsx334.amr.corp.intel.com with Microsoft SMTPSVC(6.0.3790.1830);\n\t Tue, 22 May 2007 16:34:46 -0700\r\nX-MIMEOLE: Produced By Microsoft Exchange V6.5\r\nContent-class: urn:content-classes:message\r\nMIME-Version: 1.0\r\nContent-Type: multipart/alternative;\n\tboundary=&quot;----_=_NextPart_001_01C79CC9.C7F173C5&quot;\r\nDate: Tue, 22 May 2007 16:34:44 -0700\r\nMessage-ID: &lt;3116638EB6D5F74DBB9E0309FBBCB144036286BA@...&gt;\r\nIn-reply-to: &lt;OFF4E57EDF.6588F87D-ON862572E3.007882FD-862572E3.007BF183@...&gt;\r\nX-MS-Has-Attach: \r\nX-MS-TNEF-Correlator: \r\nThread-Topic: [rest-discuss] REST and encapsulation\r\nThread-index: AcecwUsbXJ1HD/ruRiW79hb6xmZdlwAArL7Q\r\nTo: &quot;Rest List&quot; &lt;rest-discuss@yahoogroups.com&gt;\r\nReturn-Path: daniel.r.peters@...\r\nX-OriginalArrivalTime: 22 May 2007 23:34:46.0253 (UTC) FILETIME=[C81509D0:01C79CC9]\r\nX-eGroups-Msg-Info: 1:0:0:0\r\nFrom: &quot;Peters, Daniel R&quot; &lt;daniel.r.peters@...&gt;\r\nSubject: RE: [rest-discuss] REST and encapsulation\r\nX-Yahoo-Group-Post: member; u=130641183; y=xsDUo1ZkKd8K1cvzNVINgm-entLLBGHuojD0O7ChkQGgd9MtTg\r\nX-Yahoo-Profile: sternobumx\r\n\r\n\r\n------_=_NextPart_001_01C79CC9.C7F173C5\r\nContent-Type: text/plain;\n\tcharset=&quot;us-ascii&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\nThanks Kevin,\n \nSounds like perhaps my OO training is creeping into my unde=\r\nrstanding of\nresources - I seem to be trying to view a Resource as a specia=\r\nl kind of\nweb-accessible object.  I think your explanation adds some clarit=\r\ny that\nI was missing before.  Thank you.\n \nGenerally in OO practice, encaps=\r\nulation is a way to control the state\ntransitions that an object makes, as =\r\nyou noted.  It is also used to\ndecouple clients of an object&#39;s behavior fro=\r\nm the object&#39;s\nimplementation of that behavior (&quot;program to an interface,&quot; =\r\n&quot;send\nmessages, implement method,&quot; etc.) So, I think I need to mull over th=\r\ne\nkinds of assumptions a client of a resource (correct terminology?\nconsume=\r\nr of resource?) might make about the resource, and which ones are\nreasonabl=\r\ne, and which are not.\n \nYou mention below that, &quot;In REST, state transitions=\r\n are accomplished by\ntraversing links (hypertext as the engine of applicati=\r\non state).&quot;  I&#39;ve\ncertainly come across this notion in my studies, but some=\r\ntimes it gets\nfuzzy, design-wise, as to which link should be traversed in o=\r\nrder to\nchange which kind of state.\n \nFor instance, if I had a resource wit=\r\nh a &quot;Name&quot; element, and I wanted to\nchange the state of that resource so th=\r\nat the value of that name element\nwas something different, I&#39;d traverse the=\r\n Link/Url associated with the\nresource itself and execute a PUT with a repr=\r\nesentation that contains\nthe new value for Name.  The semantics would be th=\r\nat upon completion of\nthis traversal, The state of the resource would conta=\r\nin a new Name. This\nseems like the only really reasonable path forward for =\r\na state change\nlike this.\n \nOn the other hand, given the example we&#39;ve been=\r\n talking about, in order\nto change the state of the resource, I have to tra=\r\nverse a different sort\nof link.  This link isn&#39;t a link to the resource I&#39;m=\r\n interested in, it&#39;s\na link to a different resource - the &quot;complete&quot; collec=\r\ntion.\n \nSo, I guess there&#39;s another design question involved here: what\ncon=\r\nditions favor using the link of a given resource to change the state\nof the=\r\n resource and when would you use a different link to cause the\nchange. Assu=\r\nming encapsulation is meaningful and important (in some\nsense), for resourc=\r\nes, that&#39;s one thing to consider. Certainly, the\noverall utility of exposin=\r\ng something like the &quot;complete&quot; collection as\na resource would be a conside=\r\nration.  Are there other important factors\nto consider?\n \n\n________________=\r\n________________\n\nFrom: Kevin Christen [mailto:Kevin_Christen@...]=\r\n \nSent: Tuesday, May 22, 2007 3:34 PM\nTo: Peters, Daniel R\nCc: Rest List\nSu=\r\nbject: Re: [rest-discuss] REST and encapsulation\n\n\n\nEncapsulation in OO-lan=\r\nd is used to prevent transitions to invalid\nstates.  In REST, state transit=\r\nions are accomplished by traversing links\n(hypertext as the engine of appli=\r\ncation state).  To add the flavor of an\ninvalid state transition to your ex=\r\nample let&#39;s say that once completed,\na resource can&#39;t be made incomplete ag=\r\nain.  Then I think something like\nyour last approach works best: \n\n&lt;object&gt;=\r\n \n    &lt;IsComplete/&gt; \n    .... \n&lt;/object&gt; \n\nfor complete resources, and \n\n&lt;o=\r\nbject&gt; \n    &lt;IsIncomplete/&gt; \n    .... \n    &lt;MarkComplete href=3D&#39;..../lists=\r\n/completeItems&#39;/&gt; \n&lt;/object&gt; \n\nfor incomplete resources. \n\nBut if you want =\r\nto get by without hypertext in this example, the server\nwould reject the PO=\r\nST of a representation like this \n\n&lt;object&gt; \n    &lt;completeState&gt;INCOMPLETE&lt;=\r\n/completeState&gt; \n&lt;/object&gt; \n\nto an already complete resource, probably with=\r\n a 409 CONFLICT (The\nrequest could not be completed due to a conflict with =\r\nthe current state\nof the resource). \n\nIn either approach, encapsulation is =\r\nbeing provided by the server&#39;s\nbusiness logic.  In the first approach, the =\r\nserver doesn&#39;t hand out URLs\nthat would allow invalid state transitions.  I=\r\nn the second approach the\nserver rejects representations that would cause i=\r\nnvalid state\ntransitions.  But it&#39;s not really in the representation that t=\r\nhat&#39;s\naccomplished, it&#39;s in the server logic. \n\nRegards, \nKevin Christen \n\r\n------_=_NextPart_001_01C79CC9.C7F173C5\r\nContent-Type: text/html;\n\tcharset=&quot;us-ascii&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\n&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.0 Transitional//EN&quot;&gt;\n&lt;HTML&gt;&lt;HEAD&gt;=\r\n\n&lt;META http-equiv=3DContent-Type content=3D&quot;text/html; charset=3Dus-ascii&quot;&gt;=\r\n\n&lt;META content=3D&quot;MSHTML 6.00.2900.3059&quot; name=3DGENERATOR&gt;&lt;/HEAD&gt;\n&lt;BODY&gt;\n&lt;D=\r\nIV dir=3Dltr align=3Dleft&gt;&lt;FONT face=3DArial color=3D#0000ff size=3D2&gt;&lt;SPAN=\r\n \nclass=3D910195322-22052007&gt;Thanks Kevin,&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV dir=3Dl=\r\ntr align=3Dleft&gt;&lt;FONT face=3DArial color=3D#0000ff size=3D2&gt;&lt;SPAN \nclass=3D=\r\n910195322-22052007&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV dir=3Dltr align=3Dleft&gt;&lt;=\r\nFONT face=3DArial color=3D#0000ff size=3D2&gt;&lt;SPAN \nclass=3D910195322-2205200=\r\n7&gt;Sounds like perhaps my OO training is creeping into my \nunderstanding of =\r\nresources - I seem to be trying to view a Resource as a special \nkind of we=\r\nb-accessible object.&nbsp; I think your explanation adds some clarity \nthat=\r\n I was missing before.&nbsp; Thank you.&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV dir=3Dltr =\r\nalign=3Dleft&gt;&lt;FONT face=3DArial color=3D#0000ff size=3D2&gt;&lt;SPAN \nclass=3D910=\r\n195322-22052007&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV dir=3Dltr align=3Dleft&gt;&lt;FON=\r\nT face=3DArial color=3D#0000ff size=3D2&gt;&lt;SPAN \nclass=3D910195322-22052007&gt;G=\r\nenerally in OO practice, encapsulation is a way to \ncontrol the state trans=\r\nitions that an object makes, as you noted.&nbsp; It is \nalso used to decoup=\r\nle clients of an object&#39;s behavior from the object&#39;s \nimplementation of tha=\r\nt behavior (&quot;program to an interface,&quot; &quot;send messages, \nimplement method,&quot; =\r\netc.) So, I think I need to mull over the kinds of \nassumptions a client of=\r\n a resource (correct terminology? consumer of resource?) \nmight make about =\r\nthe resource, and which ones are reasonable, and which are \nnot.&lt;/SPAN&gt;&lt;/FO=\r\nNT&gt;&lt;/DIV&gt;\n&lt;DIV dir=3Dltr align=3Dleft&gt;&lt;FONT face=3DArial color=3D#0000ff si=\r\nze=3D2&gt;&lt;SPAN \nclass=3D910195322-22052007&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV di=\r\nr=3Dltr align=3Dleft&gt;&lt;FONT face=3DArial color=3D#0000ff size=3D2&gt;&lt;SPAN \ncla=\r\nss=3D910195322-22052007&gt;You mention below that, &quot;&lt;EM&gt;In REST, state transit=\r\nions \nare accomplished by traversing links (hypertext as the engine of appl=\r\nication \nstate).&lt;/EM&gt;&quot;&nbsp; I&#39;ve certainly come across this notion in my s=\r\ntudies, but \nsometimes it gets fuzzy, design-wise,&nbsp;as to which link sh=\r\nould be traversed \nin order to change which kind of state.&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/D=\r\nIV&gt;\n&lt;DIV dir=3Dltr align=3Dleft&gt;&lt;FONT face=3DArial color=3D#0000ff size=3D2=\r\n&gt;&lt;SPAN \nclass=3D910195322-22052007&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV dir=3Dlt=\r\nr align=3Dleft&gt;&lt;FONT face=3DArial color=3D#0000ff size=3D2&gt;&lt;SPAN \nclass=3D9=\r\n10195322-22052007&gt;For instance, if I had a resource with a &quot;Name&quot; \nelement,=\r\n and I wanted to change the state of that resource so that the value of \nth=\r\nat name element was something different, I&#39;d traverse the Link/Url associat=\r\ned \nwith the resource itself and execute a PUT with a representation that c=\r\nontains \nthe new value for Name.&nbsp; The semantics would be that upon com=\r\npletion of \nthis traversal, The state of the resource would contain a new N=\r\name. This seems \nlike the only really reasonable path forward for a state c=\r\nhange like \nthis.&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV dir=3Dltr align=3Dleft&gt;&lt;FONT fac=\r\ne=3DArial color=3D#0000ff size=3D2&gt;&lt;SPAN \nclass=3D910195322-22052007&gt;&lt;/SPAN=\r\n&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV dir=3Dltr align=3Dleft&gt;&lt;FONT face=3DArial color=\r\n=3D#0000ff size=3D2&gt;&lt;SPAN \nclass=3D910195322-22052007&gt;On the other hand, gi=\r\nven the example we&#39;ve been talking \nabout, in order to change the state of =\r\nthe resource, I have to traverse a \ndifferent sort of link.&nbsp; This link=\r\n isn&#39;t a link to the resource I&#39;m \ninterested in, it&#39;s a link to a differen=\r\nt resource - the &quot;complete&quot; \ncollection.&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV dir=3Dltr=\r\n align=3Dleft&gt;&lt;FONT face=3DArial color=3D#0000ff size=3D2&gt;&lt;SPAN \nclass=3D91=\r\n0195322-22052007&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV dir=3Dltr align=3Dleft&gt;&lt;FO=\r\nNT face=3DArial color=3D#0000ff size=3D2&gt;&lt;SPAN \nclass=3D910195322-22052007&gt;=\r\nSo, I guess there&#39;s another design question involved \nhere: what conditions=\r\n favor using the link of a given resource to change the \nstate of the resou=\r\nrce and when would you use a different link to cause the \nchange. Assuming =\r\nencapsulation is meaningful and important (in some sense), for \nresources, =\r\nthat&#39;s one thing to consider. Certainly, the overall utility of \nexposing s=\r\nomething like the &quot;complete&quot; collection as a resource would be a \nconsidera=\r\ntion.&nbsp; Are there other important factors to \nconsider?&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/=\r\nDIV&gt;\n&lt;DIV dir=3Dltr align=3Dleft&gt;&lt;FONT face=3DArial color=3D#0000ff size=3D=\r\n2&gt;&lt;SPAN \nclass=3D910195322-22052007&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;&lt;BR&gt;\n&lt;DIV cla=\r\nss=3DOutlookMessageHeader lang=3Den-us dir=3Dltr align=3Dleft&gt;\n&lt;HR tabIndex=\r\n=3D-1&gt;\n&lt;FONT face=3DTahoma size=3D2&gt;&lt;B&gt;From:&lt;/B&gt; Kevin Christen \n[mailto:Ke=\r\nvin_Christen@...] &lt;BR&gt;&lt;B&gt;Sent:&lt;/B&gt; Tuesday, May 22, 2007 3:34 \nPM&lt;=\r\nBR&gt;&lt;B&gt;To:&lt;/B&gt; Peters, Daniel R&lt;BR&gt;&lt;B&gt;Cc:&lt;/B&gt; Rest List&lt;BR&gt;&lt;B&gt;Subject:&lt;/B&gt; R=\r\ne: \n[rest-discuss] REST and encapsulation&lt;BR&gt;&lt;/FONT&gt;&lt;BR&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;/DIV&gt;&lt;=\r\nBR&gt;&lt;FONT face=3Dsans-serif size=3D2&gt;Encapsulation in OO-land is used to \npr=\r\nevent transitions to invalid states. &nbsp;In REST, state transitions are \n=\r\naccomplished by traversing links (hypertext as the engine of application st=\r\nate). \n&nbsp;To add the flavor of an invalid state transition to your examp=\r\nle let&#39;s say \nthat once completed, &nbsp;a resource can&#39;t be made incomplet=\r\ne again. &nbsp;Then \nI think something like your last approach works best:&lt;=\r\n/FONT&gt; &lt;BR&gt;&lt;BR&gt;&lt;FONT \nsize=3D2&gt;&lt;TT&gt;&lt;object&gt;&lt;/TT&gt;&lt;/FONT&gt; &lt;BR&gt;&lt;FONT siz=\r\ne=3D2&gt;&lt;TT&gt;&nbsp; &nbsp; \n&lt;IsComplete/&gt; &lt;/TT&gt;&lt;/FONT&gt;&lt;BR&gt;&lt;FONT size=3D2=\r\n&gt;&lt;TT&gt;&nbsp; &nbsp; \n....&lt;/TT&gt;&lt;/FONT&gt; &lt;BR&gt;&lt;FONT size=3D2&gt;&lt;TT&gt;&lt;/object&gt;=\r\n&lt;/TT&gt;&lt;/FONT&gt; &lt;BR&gt;&lt;BR&gt;&lt;FONT \nface=3Dsans-serif size=3D2&gt;for complete resourc=\r\nes, and&lt;/FONT&gt; &lt;BR&gt;&lt;BR&gt;&lt;FONT \nsize=3D2&gt;&lt;TT&gt;&lt;object&gt;&lt;/TT&gt;&lt;/FONT&gt; &lt;BR&gt;&lt;=\r\nFONT size=3D2&gt;&lt;TT&gt;&nbsp; &nbsp; \n&lt;IsIncomplete/&gt; &lt;/TT&gt;&lt;/FONT&gt;&lt;BR&gt;&lt;FON=\r\nT size=3D2&gt;&lt;TT&gt;&nbsp; &nbsp; \n....&lt;/TT&gt;&lt;/FONT&gt; &lt;BR&gt;&lt;FONT size=3D2&gt;&lt;TT&gt;&nbsp=\r\n; &nbsp; &lt;MarkComplete \nhref=3D&#39;..../lists/completeItems&#39;/&gt;&lt;/TT&gt;&lt;/FON=\r\nT&gt; &lt;BR&gt;&lt;FONT \nsize=3D2&gt;&lt;TT&gt;&lt;/object&gt;&lt;/TT&gt;&lt;/FONT&gt; &lt;BR&gt;&lt;BR&gt;&lt;FONT face=\r\n=3Dsans-serif size=3D2&gt;for \nincomplete resources.&lt;/FONT&gt; &lt;BR&gt;&lt;BR&gt;&lt;FONT face=\r\n=3Dsans-serif size=3D2&gt;But if you \nwant to get by without hypertext in this=\r\n example, the server would reject the \nPOST of a representation like this&lt;/=\r\nFONT&gt; &lt;BR&gt;&lt;BR&gt;&lt;FONT \nsize=3D2&gt;&lt;TT&gt;&lt;object&gt;&lt;/TT&gt;&lt;/FONT&gt; &lt;BR&gt;&lt;FONT size=\r\n=3D2&gt;&lt;TT&gt;&nbsp; &nbsp; \n&lt;completeState&gt;INCOMPLETE&lt;/completeState&g=\r\nt;&lt;/TT&gt;&lt;/FONT&gt; &lt;BR&gt;&lt;FONT \nsize=3D2&gt;&lt;TT&gt;&lt;/object&gt;&lt;/TT&gt;&lt;/FONT&gt; &lt;BR&gt;&lt;BR&gt;=\r\n&lt;FONT face=3Dsans-serif size=3D2&gt;to \nan already complete resource, probably=\r\n with a 409 CONFLICT (The request could \nnot be completed due to a conflict=\r\n with the current state of the \nresource).&lt;/FONT&gt; &lt;BR&gt;&lt;BR&gt;&lt;FONT face=3Dsans=\r\n-serif size=3D2&gt;In either approach, \nencapsulation is being provided by the=\r\n server&#39;s business logic. &nbsp;In the \nfirst approach, the server doesn&#39;t =\r\nhand out URLs that would allow invalid state \ntransitions. &nbsp;In the sec=\r\nond approach the server rejects representations \nthat would cause invalid s=\r\ntate transitions. &nbsp;But it&#39;s not really in the \nrepresentation that tha=\r\nt&#39;s accomplished, it&#39;s in the server logic.&lt;/FONT&gt; \n&lt;BR&gt;&lt;BR&gt;&lt;FONT face=3Dsa=\r\nns-serif size=3D2&gt;Regards,&lt;/FONT&gt; &lt;BR&gt;&lt;FONT face=3Dsans-serif \nsize=3D2&gt;Kev=\r\nin Christen&lt;/FONT&gt; &lt;/BODY&gt;&lt;/HTML&gt;\n\r\n------_=_NextPart_001_01C79CC9.C7F173C5--\r\n\n"}}
{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":289191104,"authorName":"Jan Algermissen","from":"Jan Algermissen &lt;algermissen1971@...&gt;","profile":"algermissen1971","replyTo":"SENDER","senderId":"dfVEQ6xm2DJc0XGJc_N4XDUix9qTiWrPk7Xf_aQjuACFZ_wbXULegGc8yK_mX_KF3Jinoh10Mm-8GXCJKHcRuSJ45LVn0rj_PXaBpeDtYgk","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [rest-discuss] Media Type Version Negotiation","postDate":"1252664141","msgId":13225,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDQ3NTg1MzIwLTQ3OEUtNEI5RS04N0FBLTdBMjA2MTUwMEVGQkBtYWMuY29tPg==","inReplyToHeader":"PEJMVTEwMi1EUzFGRTU4MjQ5M0MyRjFGNUE1M0ExREI1RTcwQHBoeC5nYmw+","referencesHeader":"PDQ5OTg4ODQ0MDkwOTEwMjAwNHI3MDIwNjA4M3FkNzU0ODg5YWU1NzhmNDRjQG1haWwuZ21haWwuY29tPiA8N0UyMzRFNDYtNTdCNC00MTMzLUJFNDgtMTZERDQ1MEU5N0QyQG1hYy5jb20+IDxCTFUxMDItRFMxRkU1ODI0OTNDMkYxRjVBNTNBMURCNUU3MEBwaHguZ2JsPg=="},"prevInTopic":13224,"nextInTopic":13226,"prevInTime":13224,"nextInTime":13226,"topicId":13218,"numMessagesInTopic":43,"msgSnippet":"... Hmm.... but extensible formats do not save you from forward incompatible changes. Yes they help, but if you by all means need to create something forward","rawEmail":"Return-Path: &lt;algermissen1971@...&gt;\r\nX-Sender: algermissen1971@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 80020 invoked from network); 11 Sep 2009 10:19:32 -0000\r\nX-Received: from unknown (69.147.108.202)\n  by m7.grp.re1.yahoo.com with QMQP; 11 Sep 2009 10:19:32 -0000\r\nX-Received: from unknown (HELO asmtpout022.mac.com) (17.148.16.97)\n  by mta3.grp.re1.yahoo.com with SMTP; 11 Sep 2009 10:19:32 -0000\r\nMIME-version: 1.0\r\nContent-transfer-encoding: 7BIT\r\nContent-type: text/plain; charset=US-ASCII; format=flowed; delsp=yes\r\nX-Received: from [10.0.1.6] (p549072E5.dip.t-dialin.net [84.144.114.229])\n by asmtp022.mac.com\n (Sun Java(tm) System Messaging Server 6.3-8.01 (built Dec 16 2008; 32bit))\n with ESMTPSA id &lt;0KPS00001XU6GM30@...&gt; for\n rest-discuss@yahoogroups.com; Fri, 11 Sep 2009 03:15:46 -0700 (PDT)\r\nCc: &#39;Tim Williams&#39; &lt;williamstw@...&gt;, rest-discuss@yahoogroups.com\r\nMessage-id: &lt;47585320-478E-4B9E-87AA-7A2061500EFB@...&gt;\r\nTo: Sebastien Lambla &lt;seb@...&gt;\r\nIn-reply-to: &lt;BLU102-DS1FE582493C2F1F5A53A1DB5E70@...&gt;\r\nDate: Fri, 11 Sep 2009 12:15:41 +0200\r\nReferences: &lt;499888440909102004r70206083qd754889ae578f44c@...&gt;\n &lt;7E234E46-57B4-4133-BE48-16DD450E97D2@...&gt;\n &lt;BLU102-DS1FE582493C2F1F5A53A1DB5E70@...&gt;\r\nX-Mailer: Apple Mail (2.936)\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Jan Algermissen &lt;algermissen1971@...&gt;\r\nSubject: Re: [rest-discuss] Media Type Version Negotiation\r\nX-Yahoo-Group-Post: member; u=289191104; y=ip2ylvXCIgi_3vkBWHdj1QzTtzoiXUpFuNP05oK2G9AuBTo_FQY1J4s9\r\nX-Yahoo-Profile: algermissen1971\r\n\r\n\nOn Sep 11, 2009, at 11:51 AM, Sebastien Lambla wrote:\n\n&gt; My custom solution is and has always been to provide for backward  \n&gt; and foward\n&gt; compat by using extensible serialization, not rely on a version to  \n&gt; consider\n&gt; a document valid, and decide on the server side what resulting  \n&gt; information\n&gt; is enough to process the request or not.\n&gt;\n&gt; I wonder, why is it that it seems so out of fashion for people to  \n&gt; support\n&gt; extensible formats that have been well crafted for this, and why  \n&gt; versioning\n&gt; creeps back in every couple of hundred messages.\n\nHmm.... but extensible formats do not save you from forward incompatible\nchanges. Yes they help, but if you by all means need to create something\nforward incompatible, you need to change the media type to not\nscrew up the processor by dispatching to the new one.\n\n\n&gt;\n&gt; I&#39;ll attempt what I think may be the root of the problem: object\n&gt; serialization in xml.\n&gt;\n&gt; As long as we design architectures to accommodate restrictive tools,  \n&gt; we&#39;re\n&gt; going to have a rough time.\n&gt;\n&gt; Oh, and type/subtype;param=value is *not* the same as type/subtype,  \n&gt; under\n&gt; any circumstance.\n\nWhat do you mean?\n\nIf type/subtype is being dispatched to some processor A then type/ \nsubtype;foo=bar\nshould as well be or the dispatcher does a bad job.\n\nThere isn&#39;t much value in parameters as part of a Content-Type header  \nanyhow, because\nyou just cannot predict if there is an intermediary that strips the  \nparams off.\n\nI view them mostly as valuable in content type hints in hyperlink  \nelements such as Atom&#39;s &lt;link&gt; element:\n\n     &lt;link rel=&quot;alternate&quot; href=&quot;...&quot; type=&quot;application/ \nvnd.foo.report; version=1.5&quot;/&gt;\n     &lt;link rel=&quot;alternate&quot; href=&quot;...&quot; type=&quot;application/ \nvnd.foo.report; version=1.7&quot;/&gt;\n\nThe above make good sense, but\n\n     Content-Type: application/vnd.foo.report; version=1.5\n\ndoes not, because only application/vnd.foo.report is important for the  \ndispatcher.\n\n\nJan\n\n\n\n&gt; If rails does things differently, then rails can&#39;t process\n&gt; mediatypes by the spec, which is a bug you should go and fill with  \n&gt; them.\n&gt;\n&gt; Seb\n&gt;\n&gt; -----Original Message-----\n&gt; From: rest-discuss@yahoogroups.com [mailto:rest-discuss@yahoogroups.com \n&gt; ] On\n&gt; Behalf Of Jan Algermissen\n&gt; Sent: 11 September 2009 06:47\n&gt; To: Tim Williams\n&gt; Cc: rest-discuss@yahoogroups.com\n&gt; Subject: Re: [rest-discuss] Media Type Version Negotiation\n&gt;\n&gt; Tim,\n&gt;\n&gt; On Sep 11, 2009, at 5:04 AM, Tim Williams wrote:\n&gt;\n&gt;&gt; I&#39;m looking for pointers to best practices to versioning\n&gt;&gt; representations and support for client negotiation of specific\n&gt;&gt; versions.  To provide different representations of the same resource,\n&gt;&gt; the media type alone is sufficient to drive the content type\n&gt;&gt; negotiation.  For example, I might provide\n&gt;&gt;\n&gt;&gt; &lt;link type=&quot;application/atom+xml&quot;...\n&gt;&gt; &lt;link type=&quot;application/rss+xml&quot;...\n&gt;&gt;\n&gt;&gt; as alternate representations of the same resource.  The client could\n&gt;&gt; then be expected to pick a representation that it knows how to  \n&gt;&gt; process\n&gt;&gt; and GET it.\n&gt;&gt;\n&gt;&gt; But suppose we have a different version of the *same* media type\n&gt;&gt; &quot;myformat&quot; - v1.0 and v2.0?  To complicate matters, let&#39;s suppose  \n&gt;&gt; that\n&gt;&gt; [due to arrogant, insensitive developers:)] v2.0 is not backwards\n&gt;&gt; compatible with v1.0.  Assuming that the service is capable of  \n&gt;&gt; serving\n&gt;&gt; representations in both v1.0 and v2.0, the question becomes how might\n&gt;&gt; the client negotiate one version over the other for the *same* media\n&gt;&gt; type?\n&gt;&gt;\n&gt;&gt; I&#39;ve attempted to think through the following:\n&gt;&gt;\n&gt;&gt; 1) (I can assume XML) XML versioning alone won&#39;t do because there&#39;s  \n&gt;&gt; no\n&gt;&gt; way to indicate in the link itself that it&#39;s one version of the  \n&gt;&gt; schema\n&gt;&gt; over the other.  So even if the client retrieved a v2.0  \n&gt;&gt; representation\n&gt;&gt; and stopped processing it after seeing an unfamiliar namespace (for\n&gt;&gt; example), it has no way to subsequently request the older version.\n&gt;&gt;\n&gt;&gt; 2) My initial response was to simply add the versioning information  \n&gt;&gt; to\n&gt;&gt; the content-type itself (e.g. application/myformat.v20 and\n&gt;&gt; application/myformat.v10).  This makes negotiation and extensibility\n&gt;&gt; clean and elegant, but causes me two concerns:  the\n&gt;&gt; &quot;explosion-of-media-type&quot; concern and the\n&gt;&gt; &quot;nobody-else-seems-to-be-doing-it-that-way&quot;(based on current IANA)\n&gt;&gt; concern.\n&gt;\n&gt; This is my preferred solution - with two caveats:\n&gt;\n&gt; 1. Only put the major version number (indicating forward incompatible\n&gt; change) in the media type name. IOW, do not change the media type\n&gt; name unless the change breaks older clients.\n&gt;\n&gt; 2. Make forward incompatible changes a very rare thing (you should\n&gt; anyhow)\n&gt; to avoid media type explosion\n&gt;\n&gt;&gt;\n&gt;&gt; 3)  The next thing that comes to mind is something like the &quot;level&quot;\n&gt;&gt; accept-extension exampled in rfc2616 (e.g. text/html;level=1).  In my\n&gt;&gt; scenario, would be something like: application/myformat;version=2.0 I\n&gt;&gt; suppose.\n&gt;\n&gt; I use this for indicating the minor version number so clients can pick\n&gt; a certain minor version if they wish.\n&gt;\n&gt;&gt;\n&gt;&gt; I&#39;m aware, btw, of the value of re-using existing media types, this\n&gt;&gt; may be an edge case\n&gt;\n&gt; I think that it is an edge case on the open Web, but not inside an\n&gt; enterprise\n&gt; where evolution is faster (e.g. due to new product requirements).\n&gt;\n&gt;\n&gt;&gt; for some but I&#39;d like to address an unfortunate\n&gt;&gt; reality inside some fast moving enterprises though.\n&gt;\n&gt; Oh - yes, that&#39;s what I mean :-)\n&gt;\n&gt; Jan\n&gt;\n&gt;&gt;\n&gt;&gt; Thoughts/pointers appreciated...\n&gt;&gt; --tim\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; ------------------------------------\n&gt;&gt;\n&gt;&gt; Yahoo! Groups Links\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;\n&gt;\n&gt;\n&gt; ------------------------------------\n&gt;\n&gt; Yahoo! Groups Links\n&gt;\n&gt;\n&gt;\n&gt;\n\n\n"}}
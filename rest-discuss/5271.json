{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":203744831,"authorName":"Justin T. Sampson","from":"&quot;Justin T. Sampson&quot; &lt;justin@...&gt;","profile":"justin_t_sampson","replyTo":"SENDER","senderId":"V3o4gOUF9lxn7u2uj912cviy0-D9XcPQ1DYaHS53WlqeuAaPz3EC8d4nMfam-HQK85TGzwunALD6Wwl6x4xLxF_-zXKyMPTmJSN_2dLFXg","spamInfo":{"isSpam":false,"reason":"12"},"subject":"RE: [rest-discuss] /foo vs. /foo/","postDate":"1128805076","msgId":5271,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PEUxRU9MbFUtMDAwNHJILUZLQGdpZ2FzMi5wYW5kb3JhaG9zdC5jb20+"},"prevInTopic":5270,"nextInTopic":5272,"prevInTime":5270,"nextInTime":5272,"topicId":5270,"numMessagesInTopic":7,"msgSnippet":"... I usually leave it as a single string, which makes it really easy to do pattern matching: /foo/ I just wrote some code using your #1 (parsing","rawEmail":"Return-Path: &lt;justin@...&gt;\r\nX-Sender: justin@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nReceived: (qmail 19651 invoked from network); 8 Oct 2005 20:58:42 -0000\r\nReceived: from unknown (66.218.66.218)\n  by m27.grp.scd.yahoo.com with QMQP; 8 Oct 2005 20:58:42 -0000\r\nReceived: from unknown (HELO gigas2.pandorahost.com) (216.32.68.114)\n  by mta3.grp.scd.yahoo.com with SMTP; 8 Oct 2005 20:58:41 -0000\r\nReceived: from krasamac by gigas2.pandorahost.com with local (Exim 4.52)\n\tid 1EOLlU-0004rH-FK\n\tfor rest-discuss@yahoogroups.com; Sat, 08 Oct 2005 15:57:56 -0500\r\nTo: REST Discuss &lt;rest-discuss@yahoogroups.com&gt;\r\nX-Mailer: NeoMail 1.27\r\nX-IPAddress: 127.0.0.1\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=iso-8859-1\r\nMessage-Id: &lt;E1EOLlU-0004rH-FK@...&gt;\r\nDate: Sat, 08 Oct 2005 15:57:56 -0500\r\nX-AntiAbuse: This header was added to track abuse, please include it with any abuse report\r\nX-AntiAbuse: Primary Hostname - gigas2.pandorahost.com\r\nX-AntiAbuse: Original Domain - yahoogroups.com\r\nX-AntiAbuse: Originator/Caller UID/GID - [32188 690] / [47 12]\r\nX-AntiAbuse: Sender Address Domain - krasama.com\r\nX-Source: \r\nX-Source-Args: \r\nX-Source-Dir: \r\nX-eGroups-Msg-Info: 1:12:0:0\r\nFrom: &quot;Justin T. Sampson&quot; &lt;justin@...&gt;\r\nSubject: RE: [rest-discuss] /foo vs. /foo/\r\nX-Yahoo-Group-Post: member; u=203744831; y=0xhH3lbaSvAdOdN-qr9xQEiFzZgfMGPxDKN_xMjCmKZw3jby5t-QKc-sjw\r\nX-Yahoo-Profile: justin_t_sampson\r\n\r\nMark Nottingham wrote:\n\n&gt; One of the problems that I keep on bumping up against is &quot;what&#39;s a  \n&gt; good data model for a URI?&quot; In particular, how do you represent the  \n&gt; path?\n\nI usually leave it as a single string, which makes it really easy to\ndo pattern matching: &lt;path&gt;/foo/&lt;/path&gt;\n\nI just wrote some code using your #1 (parsing into a List&lt;String&gt; in\nJava); I decided to not worry about the distinction between /foo\nand /foo/ for the moment. (This is just for parsing the path for the\npurpose of servicing a request; my preference is for /foo to redirect\nto /foo/, but I didn&#39;t bother with that this time.)\n\nAnother option would be closer to the grammar:\n&lt;path&gt;\n    &lt;separator /&gt;\n    &lt;segment&gt;foo&lt;/segment&gt;\n    &lt;separator /&gt;\n&lt;/path&gt;\n\nBesides that my favorite aesthetically is your #3, which is also close\nto the grammar. But of course it all depends on what you&#39;re doing with\nit...\n\nCheers,\nJustin\n\n\n&gt; (For the purposes of discussion, restrict this to HTTP URIs)\n&gt; \n&gt; The appropriate BNF from 3986 is:\n&gt; \n&gt;    path-absolute = &quot;/&quot; [ segment-nz *( &quot;/&quot; segment ) ]\n&gt;    segment       = *pchar\n&gt;    segment-nz    = 1*pchar\n&gt;    pchar         = unreserved / pct-encoded / sub-delims / &quot;:&quot; / &quot;@&quot;\n&gt; \n&gt; The tricky part for me is the possibility of an empty last segment;  \n&gt; e.g., &quot;/foo&quot; vs. &quot;/foo/&quot; (The BNF allows empty segments elsewhere as  \n&gt; well, but that&#39;s less common).\n&gt; \n&gt; So, how do you model this in, for example, XML*? The intuitive\n&gt; \n&gt; 1.)\n&gt; &lt;path&gt;\n&gt;    &lt;segment&gt;foo&lt;/segment&gt;\n&gt; &lt;path&gt;\n&gt; \n&gt; doesn&#39;t distinguish between these cases. The alternative is to allow  \n&gt; an empty segment;\n&gt; \n&gt; 2.)\n&gt; &lt;path&gt;  &lt;!-- /foo/ --&gt;\n&gt;    &lt;segment&gt;foo&lt;/segment&gt;\n&gt;    &lt;segment/&gt;\n&gt; &lt;/path&gt;\n&gt; \n&gt; Meaning that (1) would be interpreted as &quot;/foo&quot;.\n&gt; \n&gt; An alternative is to put the slash in the segment, which isn&#39;t as  \n&gt; close to the BNF, but maybe a bit more intuitive; e.g.,\n&gt; \n&gt; 3.)\n&gt; &lt;path&gt; &lt;!-- /foo/ --&gt;\n&gt;     &lt;segment&gt;/foo&lt;/segment&gt;\n&gt;     &lt;segment&gt;/&lt;/segment&gt;\n&gt; &lt;/path&gt;\n&gt; \n&gt; A variant is to glob the *trailing* slash on each segment if present;\n&gt; \n&gt; 4.)\n&gt; &lt;path&gt; &lt;!--- /foo/ --&gt;\n&gt;    &lt;segment&gt;foo/&lt;/segment&gt;\n&gt; &lt;/path&gt;\n&gt; \n&gt; What are people&#39;s preferences? I like #2 best, but the empty segment  \n&gt; is a bit of a special case, and not quite so obvious, I fear.\n&gt; \n&gt; * There are certainly better ways to model data, but XML is probably  \n&gt; the most intuitive for humans to read these days.\n&gt; \n&gt; --\n&gt; Mark Nottingham     http://www.mnot.net/\n\n\n"}}
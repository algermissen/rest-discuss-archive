{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":304236879,"authorName":"Peter Williams","from":"Peter Williams &lt;pezra@...&gt;","profile":"peter_e_williams","replyTo":"SENDER","senderId":"Ddoe6xn-n-evrRZsZUT2T9J5lmta7-Gg_JVimPX5sx17uEKXJucicq93H839e3qSEL97S2Eo1gvnPD16sVGJm7JKfDS998SnbtWr-TwV","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [rest-discuss] Determining which Media type for post/put","postDate":"1276543221","msgId":15667,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PEFBTkxrVGlrWVhOd3FDZktUZTRXVUdxc3BwMGwzQUhvakp6ZzUzZjVKem5PRkBtYWlsLmdtYWlsLmNvbT4=","inReplyToHeader":"PEFBTkxrVGltajVkRXdDdTVIekV3ZWRtZWtJYkFuQjNTbUh4elU0N2xCN01JeUBtYWlsLmdtYWlsLmNvbT4=","referencesHeader":"PEFBTkxrVGlsazJZWnJnY2U5M3dYcDlFSjRHZnBpckxlUVZ2bUowSnhjeFBZSEBtYWlsLmdtYWlsLmNvbT4JPDIwMTAwNjA0MDc0OTU2LmM5ZTNjMWM1LmVyaWNAYmlzb25zeXN0ZW1zLm5ldD4JPEFBTkxrVGltWFdjaHU5dHY0dmFFeWlGQjh6TFptME0yRjRpNlJjcU55QUZzU0BtYWlsLmdtYWlsLmNvbT4JPDIwMTAwNjA0MDkzOTEzLmVmNmNlYzE5LmVyaWNAYmlzb25zeXN0ZW1zLm5ldD4JPEFBTkxrVGlrSHZsZmJ2dkxQUUc2UmM5WjZMcjE5aFNheS1zT3VYSGJ5cXk0Q0BtYWlsLmdtYWlsLmNvbT4JPDIwMTAwNjA0MTQwOTE2LjNmZmQ3NTNjLmVyaWNAYmlzb25zeXN0ZW1zLm5ldD4JPEFBTkxrVGluU0plTndlckZZMTl4V1VYRFNDY0N5cG5Tdmt6WTc2LUdnVGFlNkBtYWlsLmdtYWlsLmNvbT4JPDIwMTAwNjA4MTAwMzIzLmFhNmVmOTllLmVyaWNAYmlzb25zeXN0ZW1zLm5ldD4JPEFBTkxrVGluVjh5eE4tUjRBRldBdk5hTHFwZWItdWY3Y08wV0ZtWDdEcGFSWEBtYWlsLmdtYWlsLmNvbT4JPDIwMTAwNjA5MTgwMDA1LjhhOGRhNzBiLmVyaWNAYmlzb25zeXN0ZW1zLm5ldD4JPEFBTkxrVGluVDRJdjUzRWhyaFBMR0dZYUxlMVFmaHBHVjFQTTE1NmNYQ0toWkBtYWlsLmdtYWlsLmNvbT4JPDIwMTAwNjExMDgxNDE4LjZkZGE0N2E5LmVyaWNAYmlzb25zeXN0ZW1zLm5ldD4JPEFBTkxrVGltRHFhWHVIUE52eS1RVUZaa0ZNYUhwU2NnSkNHLXNQcUtxRndzdUBtYWlsLmdtYWlsLmNvbT4JPDIwMTAwNjExMjMzMjU4LmUxYjdlNWY3LmVyaWNAYmlzb25zeXN0ZW1zLm5ldD4JPEFBTkxrVGltelViTmdyQnVuTXhHTGlLMGZvZDFSVlhxOGtXZTFkOC1LSEs2YkBtYWlsLmdtYWlsLmNvbT4JPDIwMTAwNjEyMTAzMjU1LjgwYzE1YThiLmVyaWNAYmlzb25zeXN0ZW1zLm5ldD4JPEFBTkxrVGluWUtUbk5oZmVTMl9UX1BJRklqV0p5SEtuUmJDWnFFTnM1MUhWV0BtYWlsLmdtYWlsLmNvbT4JPDIwMTAwNjE0MTAwNjU5LmVjNmU0OGU1LmVyaWNAYmlzb25zeXN0ZW1zLm5ldD4JPEFBTkxrVGltajVkRXdDdTVIekV3ZWRtZWtJYkFuQjNTbUh4elU0N2xCN01JeUBtYWlsLmdtYWlsLmNvbT4="},"prevInTopic":15666,"nextInTopic":15668,"prevInTime":15666,"nextInTime":15668,"topicId":15466,"numMessagesInTopic":82,"msgSnippet":"... Any cache that works as described above is broken, assuming all the components are behaving properly (ie, setting requests and responses header fields","rawEmail":"Return-Path: &lt;pezra@...&gt;\r\nX-Sender: pezra@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 51247 invoked from network); 14 Jun 2010 19:20:23 -0000\r\nX-Received: from unknown (98.137.34.44)\n  by m1.grp.sp2.yahoo.com with QMQP; 14 Jun 2010 19:20:23 -0000\r\nX-Received: from unknown (HELO mail-ww0-f48.google.com) (74.125.82.48)\n  by mta1.grp.sp2.yahoo.com with SMTP; 14 Jun 2010 19:20:23 -0000\r\nX-Received: by wwf26 with SMTP id 26so730612wwf.7\n        for &lt;rest-discuss@yahoogroups.com&gt;; Mon, 14 Jun 2010 12:20:22 -0700 (PDT)\r\nMIME-Version: 1.0\r\nX-Received: by 10.216.90.13 with SMTP id d13mr2812885wef.18.1276543222104; Mon, \n\t14 Jun 2010 12:20:22 -0700 (PDT)\r\nX-Received: by 10.216.13.206 with HTTP; Mon, 14 Jun 2010 12:20:21 -0700 (PDT)\r\nIn-Reply-To: &lt;AANLkTimj5dEwCu5HzEwedmekIbAnB3SmHxzU47lB7MIy@...&gt;\r\nReferences: &lt;AANLkTilk2YZrgce93wXp9EJ4GfpirLeQVvmJ0JxcxPYH@...&gt;\n\t&lt;20100604074956.c9e3c1c5.eric@...&gt;\n\t&lt;AANLkTimXWchu9tv4vaEyiFB8zLZm0M2F4i6RcqNyAFsS@...&gt;\n\t&lt;20100604093913.ef6cec19.eric@...&gt;\n\t&lt;AANLkTikHvlfbvvLPQG6Rc9Z6Lr19hSay-sOuXHbyqy4C@...&gt;\n\t&lt;20100604140916.3ffd753c.eric@...&gt;\n\t&lt;AANLkTinSJeNwerFY19xWUXDSCcCypnSvkzY76-GgTae6@...&gt;\n\t&lt;20100608100323.aa6ef99e.eric@...&gt;\n\t&lt;AANLkTinV8yxN-R4AFWAvNaLqpeb-uf7cO0WFmX7DpaRX@...&gt;\n\t&lt;20100609180005.8a8da70b.eric@...&gt;\n\t&lt;AANLkTinT4Iv53EhrhPLGGYaLe1QfhpGV1PM156cXCKhZ@...&gt;\n\t&lt;20100611081418.6dda47a9.eric@...&gt;\n\t&lt;AANLkTimDqaXuHPNvy-QUFZkFMaHpScgJCG-sPqKqFwsu@...&gt;\n\t&lt;20100611233258.e1b7e5f7.eric@...&gt;\n\t&lt;AANLkTimzUbNgrBunMxGLiK0fod1RVXq8kWe1d8-KHK6b@...&gt;\n\t&lt;20100612103255.80c15a8b.eric@...&gt;\n\t&lt;AANLkTinYKTnNhfeS2_T_PIFIjWJyHKnRbCZqENs51HVW@...&gt;\n\t&lt;20100614100659.ec6e48e5.eric@...&gt;\n\t&lt;AANLkTimj5dEwCu5HzEwedmekIbAnB3SmHxzU47lB7MIy@...&gt;\r\nDate: Mon, 14 Jun 2010 13:20:21 -0600\r\nMessage-ID: &lt;AANLkTikYXNwqCfKTe4WUGqspp0l3AHojJzg53f5JznOF@...&gt;\r\nTo: &quot;Eric J. Bowman&quot; &lt;eric@...&gt;, Rest List &lt;rest-discuss@yahoogroups.com&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Transfer-Encoding: quoted-printable\r\nFrom: Peter Williams &lt;pezra@...&gt;\r\nSubject: Re: [rest-discuss] Determining which Media type for post/put\r\nX-Yahoo-Group-Post: member; u=304236879; y=2AG4x--52ZkZkfv61rn4MCTaxdc8xFqSBK_4zIjYYNDvUYNMpMBLsmsKkg\r\nX-Yahoo-Profile: peter_e_williams\r\n\r\nOn Mon, Jun 14, 2010 at 10:06 AM, Eric J. Bowman &lt;eric@...&gt; wr=\r\note:\n&gt;\n&gt; No, compressed/not-compressed variants are not resources, so to as=\r\nsign\n&gt; them URIs and treat them as such would not be correct.\n&gt;\n&gt; Assuming =\r\nno Content-Location:\n&gt;\n&gt; Say I have a negotiated resource which returns bot=\r\nh application/xhtml\n&gt; +xml and text/html variants. =A0We send text/html to =\r\nIE and application/\n&gt; xhtml+xml to Ffx. =A0Let&#39;s say the first time a cache=\r\n encounters this\n&gt; resource, the user agent is IE. =A0The cache stores the =\r\ntext/html variant.\n&gt;\n&gt; Let&#39;s say the next request the cache encounters for =\r\nthe resource is\n&gt; from another IE. =A0Cache responds with cached text/html =\r\nvariant. =A0Next,\n&gt; the cache gets the same request from Ffx. =A0Vary: User=\r\n-Agent tells the\n&gt; cache to check the origin server. =A0Origin responds wit=\r\nh application/\n&gt; xhtml+xml variant, cache stores that variant, overwriting =\r\nthe text/\n&gt; html variant, because that&#39;s what the cache is being told to do=\r\n.\n&gt;\n&gt; Now, another request for the resource comes to the cache from IE. =A0=\r\nThe\n&gt; cache only has an application/xhtml+xml variant. =A0Vary: User-Agent\n=\r\n&gt; tells the cache to check the origin server. =A0Origin server responds\n&gt; w=\r\nith text/html variant, which the cache stores, overwriting the\n&gt; applicatio=\r\nn/xhtml+xml variant.\n&gt;\n&gt; This undesirable behavior results from not followi=\r\nng the SHOULD. =A0By\n&gt; including a URI in Content-Location, the cache has t=\r\nhe additional\n&gt; information it needs to tag-and-bag variants. =A0The cache =\r\ncan now\n&gt; associate URI A with text/html, and URI B with application/xhtml+=\r\nxml,\n&gt; such that a series of IE-Ffx-IE requests will return the proper\n&gt; va=\r\nriant, instead of only caching the most-recent variant.\n&gt;\n&gt; If the only way=\r\n that conneg works properly (except compression) is by\n&gt; treating those var=\r\niants as resources in their own right, it tells us\n&gt; one of two things. =A0=\r\nEither those variants really *are* resources, or\n&gt; there&#39;s a REST mismatch =\r\nin HTTP that&#39;s escaped Roy&#39;s notice.\n\nAny cache that works as described abo=\r\nve is broken, assuming all the\ncomponents are behaving properly (ie, settin=\r\ng requests and responses\nheader fields appropriately). =A0In the scenario a=\r\nbove even compressed\nvariants suffer from pollution issues. =A0For example,=\r\n a user agent that\nsupports `gzip` content encoding (for example, a browser=\r\n) would\npollute the cache for any user agents that do not (for example, the=\r\n\nquick ruby script i wrote that only supports identity encoding).\n\nThe cach=\r\ne key for a response is the union of the URI and the values of\nthe request =\r\nheader fields listed the Vary field of the response. =A0If\nthe server says =\r\n`Vary: User-Agent` caching intermediates had better\ncache responses for dif=\r\nferent user agents separately, or not at all.\n\nRegardless, the caching argu=\r\nment is an implementation argument.\nBasically, HTTP needs you to individual=\r\nly name every entity\ntransferred over it.\n\nDo you assert that the REST arch=\r\nitectural style itself demands\n(perhaps with a compression exception) that =\r\nevery variant of every\nresource be named as a resource in its own right?\n\nP=\r\neter Williams\nhttp://barelyenough.org\n\n"}}
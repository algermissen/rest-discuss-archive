{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":343254917,"authorName":"Sean Kennedy","from":"Sean Kennedy &lt;seandkennedy@...&gt;","profile":"seandkennedy","replyTo":"SENDER","senderId":"Dm3qqmP30WTVIQ3m84SP50AjSFwLGXGsQQx_KgAMZLg1sb302Rz04Ffj0E-yappboDf-PI-hd8Z-Q9EAXOWW6d1WraXX78Zy21BiaO27","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Fw: Re: HTTP reliability - in order msg delivery?","postDate":"1279703163","msgId":15918,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDUxODM3Mi41NzUzMC5xbUB3ZWIyODMwMi5tYWlsLnVrbC55YWhvby5jb20+"},"prevInTopic":0,"nextInTopic":15922,"prevInTime":15917,"nextInTime":15919,"topicId":15918,"numMessagesInTopic":4,"msgSnippet":"Hi Bill,      Thanks for the reply. I agree: I think both Jim s and Jan s ideas on this have been very helpful. I believe it come down to a central thought","rawEmail":"Return-Path: &lt;seandkennedy@...&gt;\r\nX-Sender: seandkennedy@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 8887 invoked from network); 21 Jul 2010 09:16:48 -0000\r\nX-Received: from unknown (66.196.94.107)\n  by m2.grp.sp2.yahoo.com with QMQP; 21 Jul 2010 09:16:48 -0000\r\nX-Received: from unknown (HELO web28302.mail.ukl.yahoo.com) (87.248.110.121)\n  by mta3.grp.re1.yahoo.com with SMTP; 21 Jul 2010 09:16:48 -0000\r\nX-Received: (qmail 58249 invoked by uid 60001); 21 Jul 2010 09:06:03 -0000\r\nMessage-ID: &lt;518372.57530.qm@...&gt;\r\nX-YMail-OSG: V35sSwEVM1kbMidbC1BJw6l5SZo_nC4WPl6pMphcpWmLUcf\n YkotSff3R7ib37jN7KgM_aU.78spJxFpsFxob2m1AdBJz8GpBqNFObCUEh93\n vz5tTSufjUQSZEHmGJJYqY1_08eeFaqYST4EbMVD5722ypmpsK_ALL8EtvGj\n BCFnyQy7rU.9ENLa1mMHQPifoKURZSc35wyv9GcazRgt.Na1WB.0wQqhxTCq\n 9FxyOPogwT.TZwtPA9H38BXyWNf0KyKLB\r\nX-Received: from [178.167.209.80] by web28302.mail.ukl.yahoo.com via HTTP; Wed, 21 Jul 2010 09:06:03 GMT\r\nX-Mailer: YahooMailClassic/11.2.4 YahooMailWebService/0.8.105.277674\r\nDate: Wed, 21 Jul 2010 09:06:03 +0000 (GMT)\r\nTo: Rest Discussion Group &lt;rest-discuss@yahoogroups.com&gt;\r\nMIME-Version: 1.0\r\nContent-Type: multipart/alternative; boundary=&quot;0-850459120-1279703163=:57530&quot;\r\nFrom: Sean Kennedy &lt;seandkennedy@...&gt;\r\nSubject: Fw: Re: HTTP reliability - in order msg delivery?\r\nX-Yahoo-Group-Post: member; u=343254917; y=0wDXwJ-t0uzZchu0k3cFh1ZZYyaBC23jcdvngjMC5DSYsEpA8zYy\r\nX-Yahoo-Profile: seandkennedy\r\n\r\n\r\n--0-850459120-1279703163=:57530\r\nContent-Type: text/plain; charset=iso-8859-1\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\nHi Bill,\n=A0=A0=A0=A0 Thanks for the reply. I agree: I think both Jim&#39;s and=\r\n Jan&#39;s ideas on this have been very helpful. I believe it come down to a ce=\r\nntral thought process - the server knows when it gets a msg out of order an=\r\nd by using the correct response code (409) and links, can inform the client=\r\n how to get back in sync.\n\nSean.\n\n\n--- On Wed, 21/7/10, bdehora &lt;bill@dehor=\r\na.net&gt; wrote:\n\nFrom: bdehora &lt;bill@...&gt;\nSubject: Re: HTTP reliabilit=\r\ny - in order msg delivery?\nTo: &quot;Sean Kennedy&quot; &lt;seandkennedy@...&gt;\nDa=\r\nte: Wednesday, 21 July, 2010, 0:02\n\n\nHi Sean,\n\nI pretty much agree with Jim=\r\n about putting links for state transitions into the representation from the=\r\n server helps greatly. It makes partial ordering, as in ordering transition=\r\ns over a single resource, possible, which is an option for modeling in-orde=\r\nr message delivery. Global ordering or coordinating over multiple resources=\r\n is much harder ;)\n\nBtw=A0 - when I wrote httplr, I did think a format was =\r\nneeded to solve its problems but was kind of fumbling around with the idea.=\r\n I&#39;ve learned via since then that doing any kind collection structuring ove=\r\nr HTTP indeed requires a format (eg AtomPub). It was mainly an attempt to s=\r\nhow that queues/message passing was doable with HTTP (debated at the time).=\r\n I would just take it a design reference whose main idea is that defining a=\r\n resource to identify the state of a message transfer independent of the me=\r\nssage itself is a viable tactic. I suspect if you are working with resource=\r\ns directly and not emulating queues, then Jim&#39;s approach will get you a bet=\r\nter result.\n\nBill\n\n--- In rest-discuss@yahoogroups.com, Sean Kennedy &lt;seand=\r\nkennedy@...&gt; wrote:\n&gt;\n&gt; Hi Jan,\n&gt; =C2=A0=C2=A0=C2=A0=C2=A0 Apologies for th=\r\ne confusion. Hopefully this is clearer. Firstly, to confirm I am on firm gr=\r\nound: this situation only appears to arise when the client is unaware of th=\r\ne resource URI and therefore has to use POST instead of idempotent PUT - ba=\r\nsed on Roy&#39;s post that you kindly included, where he refers to a series of =\r\nindividual POST requests.\n&gt; =C2=A0=C2=A0 Secondly, I was looking at Bill de=\r\n hOra&#39;s HTTPLR [1] last night and figured that his use of stateful URI&#39;s co=\r\nuld be used to keep the client and server in sync i.e. no need for expensiv=\r\ne ETag-type values.. Given that methodology, here is an example:\n&gt;\n&gt; Client=\r\n=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=\r\n=A0 =C2=A0 =C2=A0\n&gt;=A0 =C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 Server\n&gt;\n&gt; POST=\r\n /someURI =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=\r\n=C2=A0 update resource state;\n&gt; &lt;details&gt;=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=\r\n=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=\r\n=C2=A0=C2=A0=C2=A0 /someUri goes to &quot;.../ready&quot; state\n&gt; =C2=A0...=C2=A0=C2=\r\n=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=\r\n=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=\r\n=A0=C2=A0=C2=A0=C2=A0=C2=A0\n&gt; =C2=A0&lt;clientViewOfState&gt;\n&gt; =C2=A0 =C2=A0 &quot;ht=\r\ntp://.../initial&quot;=C2=A0 --&gt;=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0\n&gt; =C2=\r\n=A0&lt;/clientViewOfState&gt;\n&gt;\n&gt; &lt;/details&gt;\n&gt; =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0=\r\n =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=\r\n=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0=C2=A0\n&gt; =C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=\r\n=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=\r\n=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 &lt;--=C2=A0 200 OK gets lost =C2=\r\n=A0 =C2=A0 =C2=A0 =C2=A0\n&gt;\n&gt; client re-sends:\n&gt; POST /someURI =C2=A0 =C2=A0=\r\n =C2=A0 =C2=A0 =C2=A0 =C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=\r\n=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0\n&gt; &lt;details&gt;=C2=A0=C2=A0=C2=A0=\r\n=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=\r\n=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 server\n&gt;=A0 detects conflict;\n&gt;\n&gt; =C2=A0 =\r\n...=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=\r\n=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=\r\n=A0 informs client of what its view is\n&gt;\n&gt; =C2=A0 &lt;clientViewOfState&gt;\n&gt;\n&gt; =\r\n=C2=A0=C2=A0=C2=A0=C2=A0 &quot;http://.../initial&quot; --&gt;=C2=A0=C2=A0=C2=A0=C2=A0=\r\n=C2=A0=C2=A0=C2=A0\n&gt;\n&gt; =C2=A0 &lt;/clientViewOfState&gt;\n&gt; &lt;/details&gt;\n&gt;\n&gt; =C2=A0 =\r\n=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=\r\n=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0=C2=A0\n&gt;\n&gt; =C2=\r\n=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=\r\n=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 &lt;-=\r\n-=C2=A0 409 Conflict\n&gt; =C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=\r\n=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=\r\n=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 &lt;serverStateView&gt;\n&gt; =\r\n=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=\r\n=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=\r\n=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 &quot;.../ready&quot;\n&gt; =C2=A0=\r\n=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=\r\n=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=\r\n=C2=A0=C2=A0=C2=A0=C2=A0 &lt;/serverStateView&gt;\n&gt;\n&gt;\n&gt; =C2=A0=C2=A0 =C2=A0 =C2=\r\n=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0=C2=A0 =C2=A0 =C2=A0 =C2=A0=C2=A0 =C2=A0=C2=\r\n=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0\n&gt; Thus, the client and server are keeping=\r\n in synch via the use of the stateful URI&#39;s. This means that the server is =\r\nmaintaining some application state i.e. breaking REST&#39;s statelessness const=\r\nraint. However, if I am correct, constraints can be relaxed as and when the=\r\n situation arises?\n&gt;\n&gt; Does this seem reasonable...\n&gt;\n&gt; Regards,\n&gt; Sean.\n&gt;\n=\r\n&gt; [1] http://dehora.net/doc/httplr/draft-httplr-01.html\n&gt;\n&gt; --- On Wed, 14/=\r\n7/10, Jan Algermissen &lt;algermissen1971@...&gt; wrote:\n&gt;\n&gt; From: Jan Algermisse=\r\nn\n&gt;=A0 &lt;algermissen1971@...&gt;\n&gt; Subject: Re: [rest-discuss] HTTP reliability=\r\n - in order msg delivery?\n&gt; To: &quot;Sean Kennedy&quot; &lt;seandkennedy@...&gt;\n&gt; Cc: &quot;Ji=\r\nm Webber&quot; &lt;jim@...&gt;, &quot;Rest Discussion Group&quot; &lt;rest-discuss@yahoogroups.com&gt;=\r\n\n&gt; Date: Wednesday, 14 July, 2010, 7:41\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt; =C2=A0\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n=\r\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt; On Jul 13, 2010, at 2:15 PM, Sean Kennedy wrote:\n&gt;\n&gt;\n&gt;\n&gt; &gt;\n&gt;\n&gt; =\r\n&gt; How does this look...\n&gt;\n&gt; &gt;\n&gt;\n&gt;\n&gt;\n&gt; Sean,\n&gt;\n&gt;\n&gt;\n&gt; I am having trouble to =\r\nsee what you are asking. Can you replace the formal expressions with HTTP r=\r\nequest/ response examples?\n&gt;\n&gt;\n&gt;\n&gt; Jan\n&gt;\n&gt;\n&gt;\n&gt; &gt; Sean.\n&gt;\n&gt; &gt;\n&gt;\n&gt; &gt; --- On T=\r\nue, 13/7/10, Jan Algermissen &lt;algermissen1971@...&gt; wrote:\n&gt;\n&gt; &gt;\n&gt;\n&gt; &gt; From:=\r\n Jan Algermissen &lt;algermissen1971@...&gt;\n&gt;\n&gt; &gt; Subject: Re: [rest-discuss] HT=\r\nTP reliability - in order msg delivery?\n&gt;\n&gt; &gt; To: &quot;Sean Kennedy&quot; &lt;seandkenn=\r\nedy@...&gt;\n&gt;\n&gt; &gt; Cc: &quot;REST Discuss&quot; &lt;rest-discuss@yahoogroups.com&gt;\n&gt;\n&gt; &gt; Date=\r\n: Tuesday, 13 July, 2010, 9:50\n&gt;\n&gt; &gt;\n&gt;\n&gt; &gt;\n&gt;\n&gt; &gt; On Jul 13, 2010, at 10:51 =\r\nAM, Sean Kennedy wrote:\n&gt;\n&gt; &gt;\n&gt;\n&gt; &gt; &gt; What if you needed in-order message d=\r\nelivery? I imagine for a banking application, the order of transactions on =\r\nan account would be important...\n&gt;\n&gt; &gt;\n&gt;\n&gt; &gt; You can do this by including i=\r\nn the client&#39;s message a token that expresses the client&#39;s assumptions abou=\r\nt the state of the resource. The server can use that token to verify that t=\r\nhe client&#39;s expectation and the actual resource state match. If they do not=\r\n match, the server instructs the client what to do next.\n&gt;\n&gt; &gt;\n&gt;\n&gt; &gt; Roy so=\r\nmewhat explains this in [1]:\n&gt;\n&gt; &gt;\n&gt;\n&gt; &gt; &quot;Think of it instead as a series o=\r\nf individual POST requests that are\n&gt;\n&gt; &gt; building up a combined resource t=\r\nhat will eventually be a savings\n&gt;\n&gt; &gt; account when finished. Each of those=\r\n requests can include parameters\n&gt;\n&gt; &gt; that perform the same role as an ETa=\r\ng -- basically, identifying the\n&gt;\n&gt; &gt; client&#39;s view of the current state of=\r\n the resource. Then, when a\n&gt;\n&gt; &gt; request is repeated or a state-change los=\r\nt, the server would see\n&gt;\n&gt; &gt; that in the next request and tell the client =\r\nto refresh its view\n&gt;\n&gt; &gt; of the form before continuing to the next step.&quot;\n=\r\n&gt;\n&gt; &gt;\n&gt;\n&gt; &gt; [1] http://tech.groups.yahoo.com/group/rest-discuss/message/980=\r\n5\n&gt;\n&gt; &gt;\n&gt;\n&gt; &gt;\n&gt;\n&gt; &gt; -----------------------------------\n&gt;\n&gt; &gt; Jan Algermiss=\r\nen, Consultant\n&gt;\n&gt; &gt; NORD Software Consulting\n&gt;\n&gt; &gt;\n&gt;\n&gt; &gt; Mail: algermissen=\r\n@...\n&gt;\n&gt; &gt; Blog: http://www.nordsc.com/blog/\n&gt;\n&gt; &gt; Work: http://www.nordsc.=\r\ncom/\n&gt;\n&gt; &gt; -----------------------------------\n&gt;\n&gt; &gt;\n&gt;\n&gt; &gt;\n&gt;\n&gt; &gt;\n&gt;\n&gt; &gt;\n&gt;\n&gt; =\r\n&gt;\n&gt;\n&gt; &gt;\n&gt;\n&gt; &gt;\n&gt;\n&gt; &gt;\n&gt;\n&gt;\n&gt;\n&gt; -----------------------------------\n&gt;\n&gt;=A0 Jan =\r\nAlgermissen, Consultant\n&gt;\n&gt;=A0 NORD Software Consulting\n&gt;\n&gt;\n&gt;\n&gt; Mail: alger=\r\nmissen@...\n&gt;\n&gt;=A0 Blog: http://www.nordsc.com/blog/\n&gt;\n&gt;=A0 Work: http://www=\r\n.nordsc.com/\n&gt;\n&gt; -----------------------------------\n&gt;\n\n\n\n\n\n      \r\n--0-850459120-1279703163=:57530\r\nContent-Type: text/html; charset=iso-8859-1\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\n&lt;table cellspacing=3D&quot;0&quot; cellpadding=3D&quot;0&quot; border=3D&quot;0&quot; &gt;&lt;tr&gt;&lt;td valign=3D&quot;=\r\ntop&quot; style=3D&quot;font: inherit;&quot;&gt;Hi Bill,&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp; Thanks f=\r\nor the reply. I agree: I think both Jim&#39;s and Jan&#39;s ideas on this have been=\r\n very helpful. I believe it come down to a central thought process - the se=\r\nrver knows when it gets a msg out of order and by using the correct respons=\r\ne code (409) and links, can inform the client how to get back in sync.&lt;br&gt;&lt;=\r\nbr&gt;Sean.&lt;br&gt;&lt;br&gt;&lt;br&gt;--- On &lt;b&gt;Wed, 21/7/10, bdehora &lt;i&gt;&lt;bill@...&=\r\ngt;&lt;/i&gt;&lt;/b&gt; wrote:&lt;br&gt;&lt;blockquote style=3D&quot;border-left: 2px solid rgb(16, 1=\r\n6, 255); margin-left: 5px; padding-left: 5px;&quot;&gt;&lt;br&gt;From: bdehora &lt;bill@d=\r\nehora.net&gt;&lt;br&gt;Subject: Re: HTTP reliability - in order msg delivery?&lt;br&gt;=\r\nTo: &quot;Sean Kennedy&quot; &lt;seandkennedy@...&gt;&lt;br&gt;Date: Wednesday, 21 =\r\nJuly, 2010, 0:02&lt;br&gt;&lt;br&gt;&lt;div class=3D&quot;plainMail&quot;&gt;&lt;br&gt;Hi Sean,&lt;br&gt;&lt;br&gt;I pret=\r\nty much agree with Jim about putting links for state transitions into the\n =\r\nrepresentation from the server helps greatly. It makes partial ordering, as=\r\n in ordering transitions over a single resource, possible, which is an opti=\r\non for modeling in-order message delivery. Global ordering or coordinating =\r\nover multiple resources is much harder ;)&lt;br&gt;&lt;br&gt;Btw&nbsp; - when I wrote h=\r\nttplr, I did think a format was needed to solve its problems but was kind o=\r\nf fumbling around with the idea. I&#39;ve learned via since then that doing any=\r\n kind collection structuring over HTTP indeed requires a format (eg AtomPub=\r\n). It was mainly an attempt to show that queues/message passing was doable =\r\nwith HTTP (debated at the time). I would just take it a design reference wh=\r\nose main idea is that defining a resource to identify the state of a messag=\r\ne transfer independent of the message itself is a viable tactic. I suspect =\r\nif you are working with resources directly and not emulating queues, then J=\r\nim&#39;s approach will get you a better result.&lt;br&gt;&lt;br&gt;Bill&lt;br&gt;&lt;br&gt;---\n In &lt;a y=\r\nmailto=3D&quot;mailto:rest-discuss@yahoogroups.com&quot; href=3D&quot;/mc/compose?to=3Dres=\r\nt-discuss@yahoogroups.com&quot;&gt;rest-discuss@yahoogroups.com&lt;/a&gt;, Sean Kennedy &=\r\nlt;seandkennedy@...&gt; wrote:&lt;br&gt;&gt;&lt;br&gt;&gt; Hi Jan,&lt;br&gt;&gt; =C2&nbsp;=C2=\r\n&nbsp;=C2&nbsp;=C2&nbsp; Apologies for the confusion. Hopefully this is cle=\r\narer. Firstly, to confirm I am on firm ground: this situation only appears =\r\nto arise when the client is unaware of the resource URI and therefore has t=\r\no use POST instead of idempotent PUT - based on Roy&#39;s post that you kindly =\r\nincluded, where he refers to a series of individual POST requests.&lt;br&gt;&gt; =\r\n=C2&nbsp;=C2&nbsp; Secondly, I was looking at Bill de hOra&#39;s HTTPLR [1] las=\r\nt night and figured that his use of stateful URI&#39;s could be used to keep th=\r\ne client and server in sync i.e. no need for expensive ETag-type values.. G=\r\niven that methodology, here is an example:&lt;br&gt;&gt;&lt;br&gt;&gt; Client=C2&nbsp;=\r\n=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp; =C2&nbsp; =C2&nbsp;\n=\r\n =C2&nbsp; =C2&nbsp; =C2&nbsp; =C2&nbsp; =C2&nbsp;&lt;br&gt;&gt;&nbsp; =C2&nbsp;=\r\n=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp; Server&lt;br&gt;&gt;&lt;br&gt;&gt; POST /=\r\nsomeURI =C2&nbsp; =C2&nbsp; =C2&nbsp; =C2&nbsp; =C2&nbsp; =C2&nbsp;=C2&nbsp=\r\n;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp; update resource state;&lt;br&gt;&gt; &lt;de=\r\ntails&gt;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2=\r\n&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nb=\r\nsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp; /someUri goes to &quot;.../read=\r\ny&quot; state&lt;br&gt;&gt; =C2&nbsp;...=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=\r\n=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2=\r\n&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nb=\r\nsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=\r\n=C2&nbsp;&lt;br&gt;&gt; =C2&nbsp;&lt;clientViewOfState&gt;&lt;br&gt;&gt; =C2&nbsp; =C2&=\r\nnbsp; &quot;&lt;a href=3D&quot;http://.../initial&quot; target=3D&quot;_blank&quot;&gt;http://.../initial&lt;=\r\n/a&gt;&quot;=C2&nbsp;\n --&gt;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=\r\n=C2&nbsp;&lt;br&gt;&gt; =C2&nbsp;&lt;/clientViewOfState&gt;&lt;br&gt;&gt;&lt;br&gt;&gt; &lt;/=\r\ndetails&gt;&lt;br&gt;&gt; =C2&nbsp; =C2&nbsp; =C2&nbsp; =C2&nbsp; =C2&nbsp; =C2&n=\r\nbsp; =C2&nbsp; =C2&nbsp; =C2&nbsp; =C2&nbsp; =C2&nbsp; =C2&nbsp; =C2&nbsp; =\r\n=C2&nbsp; =C2&nbsp; =C2&nbsp; =C2&nbsp; =C2&nbsp; =C2&nbsp; =C2&nbsp;=C2&nb=\r\nsp;&lt;br&gt;&gt; =C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=\r\n=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2=\r\n&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nb=\r\nsp;=C2&nbsp; &lt;--=C2&nbsp; 200 OK gets lost =C2&nbsp; =C2&nbsp; =C2&nbsp;=\r\n =C2&nbsp;&lt;br&gt;&gt;&lt;br&gt;&gt; client re-sends:&lt;br&gt;&gt; POST /someURI =C2&nbsp;=\r\n =C2&nbsp; =C2&nbsp; =C2&nbsp; =C2&nbsp; =C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbs=\r\np;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=\r\n=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;&lt;br&gt;&gt;\n &lt;details&gt;=C2&nbsp;=C2&n=\r\nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp=\r\n;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=\r\n=C2&nbsp;=C2&nbsp;=C2&nbsp; server&lt;br&gt;&gt;&nbsp; detects conflict;&lt;br&gt;&gt;&lt;=\r\nbr&gt;&gt; =C2&nbsp; ...=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=\r\n=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2=\r\n&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nb=\r\nsp;=C2&nbsp;=C2&nbsp; informs client of what its view is&lt;br&gt;&gt;&lt;br&gt;&gt; =\r\n=C2&nbsp; &lt;clientViewOfState&gt;&lt;br&gt;&gt;&lt;br&gt;&gt; =C2&nbsp;=C2&nbsp;=C2&n=\r\nbsp;=C2&nbsp; &quot;&lt;a href=3D&quot;http://.../initial&quot; target=3D&quot;_blank&quot;&gt;http://.../=\r\ninitial&lt;/a&gt;&quot; --&gt;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=\r\n=C2&nbsp;&lt;br&gt;&gt;&lt;br&gt;&gt; =C2&nbsp; &lt;/clientViewOfState&gt;&lt;br&gt;&gt; &lt;=\r\n/details&gt;&lt;br&gt;&gt;&lt;br&gt;&gt; =C2&nbsp; =C2&nbsp; =C2&nbsp; =C2&nbsp; =C2&nb=\r\nsp; =C2&nbsp; =C2&nbsp; =C2&nbsp; =C2&nbsp; =C2&nbsp; =C2&nbsp; =C2&nbsp; =\r\n=C2&nbsp; =C2&nbsp; =C2&nbsp; =C2&nbsp; =C2&nbsp;\n =C2&nbsp; =C2&nbsp; =C2&=\r\nnbsp;=C2&nbsp;&lt;br&gt;&gt;&lt;br&gt;&gt; =C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp=\r\n;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=\r\n=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2=\r\n&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp; &lt;--=C2&nbsp; 409 Conflict&lt;br&gt;&gt; =C2&=\r\nnbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbs=\r\np;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=\r\n=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2=\r\n&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp; &lt;serverStateView&gt;&lt;br&gt;&gt; =\r\n=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2=\r\n&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nb=\r\nsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=\r\n=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2=\r\n&nbsp; &quot;.../ready&quot;&lt;br&gt;&gt;\n =C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=\r\n=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2=\r\n&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nb=\r\nsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=\r\n &lt;/serverStateView&gt;&lt;br&gt;&gt;&lt;br&gt;&gt;&lt;br&gt;&gt; =C2&nbsp;=C2&nbsp; =C2&nb=\r\nsp; =C2&nbsp; =C2&nbsp; =C2&nbsp; =C2&nbsp; =C2&nbsp;=C2&nbsp; =C2&nbsp; =\r\n=C2&nbsp; =C2&nbsp;=C2&nbsp; =C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=C2&nbsp;=\r\n=C2&nbsp;=C2&nbsp;&lt;br&gt;&gt; Thus, the client and server are keeping in synch=\r\n via the use of the stateful URI&#39;s. This means that the server is maintaini=\r\nng some application state i.e. breaking REST&#39;s statelessness constraint. Ho=\r\nwever, if I am correct, constraints can be relaxed as and when the situatio=\r\nn arises?&lt;br&gt;&gt;&lt;br&gt;&gt; Does this seem reasonable...&lt;br&gt;&gt;&lt;br&gt;&gt; Rega=\r\nrds,&lt;br&gt;&gt; Sean.&lt;br&gt;&gt;&lt;br&gt;&gt; [1] &lt;a href=3D&quot;http://dehora.net/doc/htt=\r\nplr/draft-httplr-01.html&quot;\n target=3D&quot;_blank&quot;&gt;http://dehora.net/doc/httplr/d=\r\nraft-httplr-01.html&lt;/a&gt;&lt;br&gt;&gt;&lt;br&gt;&gt; --- On Wed, 14/7/10, Jan Algermisse=\r\nn &lt;algermissen1971@...&gt; wrote:&lt;br&gt;&gt;&lt;br&gt;&gt; From: Jan Algermissen&lt;=\r\nbr&gt;&gt;&nbsp; &lt;algermissen1971@...&gt;&lt;br&gt;&gt; Subject: Re: [rest-discus=\r\ns] HTTP reliability - in order msg delivery?&lt;br&gt;&gt; To: &quot;Sean Kennedy&quot; &lt=\r\n;seandkennedy@...&gt;&lt;br&gt;&gt; Cc: &quot;Jim Webber&quot; &lt;jim@...&gt;, &quot;Rest Discu=\r\nssion Group&quot; &lt;&lt;a ymailto=3D&quot;mailto:rest-discuss@yahoogroups.com&quot; href=3D=\r\n&quot;/mc/compose?to=3Drest-discuss@yahoogroups.com&quot;&gt;rest-discuss@...=\r\nm&lt;/a&gt;&gt;&lt;br&gt;&gt; Date: Wednesday, 14 July, 2010, 7:41&lt;br&gt;&gt;&lt;br&gt;&gt;&lt;br&gt;&=\r\ngt;&lt;br&gt;&gt;&lt;br&gt;&gt;&lt;br&gt;&gt;&lt;br&gt;&gt;&lt;br&gt;&gt; =C2&nbsp;&lt;br&gt;&gt;&lt;br&gt;&gt;&lt;br&gt;&g=\r\nt;&lt;br&gt;&gt;&lt;br&gt;&gt;&lt;br&gt;&gt;&lt;br&gt;&gt;&lt;br&gt;&gt;&lt;br&gt;&gt;&lt;br&gt;&gt;&lt;br&gt;&gt;&lt;br&gt;&gt; =\r\nOn Jul 13, 2010, at 2:15 PM, Sean Kennedy wrote:&lt;br&gt;&gt;&lt;br&gt;&gt;&lt;br&gt;&gt;&lt;br=\r\n&gt;&gt; &gt;&lt;br&gt;&gt;&lt;br&gt;&gt; &gt; How does this look...&lt;br&gt;&gt;&lt;br&gt;&gt;\n &gt;=\r\n&lt;br&gt;&gt;&lt;br&gt;&gt;&lt;br&gt;&gt;&lt;br&gt;&gt; Sean,&lt;br&gt;&gt;&lt;br&gt;&gt;&lt;br&gt;&gt;&lt;br&gt;&gt; I am=\r\n having trouble to see what you are asking. Can you replace the formal expr=\r\nessions with HTTP request/ response examples?&lt;br&gt;&gt;&lt;br&gt;&gt;&lt;br&gt;&gt;&lt;br&gt;&g=\r\nt; Jan&lt;br&gt;&gt;&lt;br&gt;&gt;&lt;br&gt;&gt;&lt;br&gt;&gt; &gt; Sean.&lt;br&gt;&gt;&lt;br&gt;&gt; &gt;&lt;br&gt;&=\r\ngt;&lt;br&gt;&gt; &gt; --- On Tue, 13/7/10, Jan Algermissen &lt;algermissen1971@.=\r\n..&gt; wrote:&lt;br&gt;&gt;&lt;br&gt;&gt; &gt;&lt;br&gt;&gt;&lt;br&gt;&gt; &gt; From: Jan Algermiss=\r\nen &lt;algermissen1971@...&gt;&lt;br&gt;&gt;&lt;br&gt;&gt; &gt; Subject: Re: [rest-disc=\r\nuss] HTTP reliability - in order msg delivery?&lt;br&gt;&gt;&lt;br&gt;&gt; &gt; To: &quot;Se=\r\nan Kennedy&quot; &lt;seandkennedy@...&gt;&lt;br&gt;&gt;&lt;br&gt;&gt; &gt; Cc: &quot;REST Discuss=\r\n&quot; &lt;&lt;a ymailto=3D&quot;mailto:rest-discuss@yahoogroups.com&quot; href=3D&quot;/mc/compos=\r\ne?to=3Drest-discuss@yahoogroups.com&quot;&gt;rest-discuss@yahoogroups.com&lt;/a&gt;&gt;&lt;b=\r\nr&gt;&gt;&lt;br&gt;&gt; &gt; Date: Tuesday, 13 July, 2010, 9:50&lt;br&gt;&gt;&lt;br&gt;&gt; &gt;=\r\n&lt;br&gt;&gt;&lt;br&gt;&gt; &gt;&lt;br&gt;&gt;&lt;br&gt;&gt; &gt; On Jul 13, 2010, at 10:51\n AM, S=\r\nean Kennedy wrote:&lt;br&gt;&gt;&lt;br&gt;&gt; &gt;&lt;br&gt;&gt;&lt;br&gt;&gt; &gt; &gt; What if y=\r\nou needed in-order message delivery? I imagine for a banking application, t=\r\nhe order of transactions on an account would be important...&lt;br&gt;&gt;&lt;br&gt;&gt=\r\n; &gt;&lt;br&gt;&gt;&lt;br&gt;&gt; &gt; You can do this by including in the client&#39;s me=\r\nssage a token that expresses the client&#39;s assumptions about the state of th=\r\ne resource. The server can use that token to verify that the client&#39;s expec=\r\ntation and the actual resource state match. If they do not match, the serve=\r\nr instructs the client what to do next.&lt;br&gt;&gt;&lt;br&gt;&gt; &gt;&lt;br&gt;&gt;&lt;br&gt;&gt=\r\n; &gt; Roy somewhat explains this in [1]:&lt;br&gt;&gt;&lt;br&gt;&gt; &gt;&lt;br&gt;&gt;&lt;br&gt;&=\r\ngt; &gt; &quot;Think of it instead as a series of individual POST requests that =\r\nare&lt;br&gt;&gt;&lt;br&gt;&gt; &gt; building up a combined resource that will eventual=\r\nly be a savings&lt;br&gt;&gt;&lt;br&gt;&gt; &gt; account when finished. Each of those r=\r\nequests can include parameters&lt;br&gt;&gt;&lt;br&gt;&gt; &gt; that\n perform the same =\r\nrole as an ETag -- basically, identifying the&lt;br&gt;&gt;&lt;br&gt;&gt; &gt; client&#39;s=\r\n view of the current state of the resource. Then, when a&lt;br&gt;&gt;&lt;br&gt;&gt; &g=\r\nt; request is repeated or a state-change lost, the server would see&lt;br&gt;&gt;=\r\n&lt;br&gt;&gt; &gt; that in the next request and tell the client to refresh its v=\r\niew&lt;br&gt;&gt;&lt;br&gt;&gt; &gt; of the form before continuing to the next step.&quot;&lt;b=\r\nr&gt;&gt;&lt;br&gt;&gt; &gt;&lt;br&gt;&gt;&lt;br&gt;&gt; &gt; [1] &lt;a href=3D&quot;http://tech.groups.=\r\nyahoo.com/group/rest-discuss/message/9805&quot; target=3D&quot;_blank&quot;&gt;http://tech.gr=\r\noups.yahoo.com/group/rest-discuss/message/9805&lt;/a&gt;&lt;br&gt;&gt;&lt;br&gt;&gt; &gt;&lt;br&gt;=\r\n&gt;&lt;br&gt;&gt; &gt;&lt;br&gt;&gt;&lt;br&gt;&gt; &gt; -----------------------------------&lt;=\r\nbr&gt;&gt;&lt;br&gt;&gt; &gt; Jan Algermissen, Consultant&lt;br&gt;&gt;&lt;br&gt;&gt; &gt; NORD =\r\nSoftware Consulting&lt;br&gt;&gt;&lt;br&gt;&gt; &gt;&lt;br&gt;&gt;&lt;br&gt;&gt; &gt; Mail: algermi=\r\nssen@...&lt;br&gt;&gt;&lt;br&gt;&gt; &gt; Blog: &lt;a href=3D&quot;http://www.nordsc.com/blog/&quot;=\r\n\n target=3D&quot;_blank&quot;&gt;http://www.nordsc.com/blog/&lt;/a&gt;&lt;br&gt;&gt;&lt;br&gt;&gt; &gt; Wo=\r\nrk: &lt;a href=3D&quot;http://www.nordsc.com/&quot; target=3D&quot;_blank&quot;&gt;http://www.nordsc.=\r\ncom/&lt;/a&gt;&lt;br&gt;&gt;&lt;br&gt;&gt; &gt; -----------------------------------&lt;br&gt;&gt;&lt;b=\r\nr&gt;&gt; &gt;&lt;br&gt;&gt;&lt;br&gt;&gt; &gt;&lt;br&gt;&gt;&lt;br&gt;&gt; &gt;&lt;br&gt;&gt;&lt;br&gt;&gt; &gt;&lt;=\r\nbr&gt;&gt;&lt;br&gt;&gt; &gt;&lt;br&gt;&gt;&lt;br&gt;&gt; &gt;&lt;br&gt;&gt;&lt;br&gt;&gt; &gt;&lt;br&gt;&gt;&lt;br&gt;&=\r\ngt; &gt;&lt;br&gt;&gt;&lt;br&gt;&gt;&lt;br&gt;&gt;&lt;br&gt;&gt; ----------------------------------=\r\n-&lt;br&gt;&gt;&lt;br&gt;&gt;&nbsp; Jan Algermissen, Consultant&lt;br&gt;&gt;&lt;br&gt;&gt;&nbsp; N=\r\nORD Software Consulting&lt;br&gt;&gt;&lt;br&gt;&gt;&lt;br&gt;&gt;&lt;br&gt;&gt; Mail: algermissen@.=\r\n..&lt;br&gt;&gt;&lt;br&gt;&gt;&nbsp; Blog: &lt;a href=3D&quot;http://www.nordsc.com/blog/&quot; targ=\r\net=3D&quot;_blank&quot;&gt;http://www.nordsc.com/blog/&lt;/a&gt;&lt;br&gt;&gt;&lt;br&gt;&gt;&nbsp; Work: &lt;=\r\na href=3D&quot;http://www.nordsc.com/&quot; target=3D&quot;_blank&quot;&gt;http://www.nordsc.com/&lt;=\r\n/a&gt;&lt;br&gt;&gt;&lt;br&gt;&gt; -----------------------------------&lt;br&gt;&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;=\r\n&lt;/div&gt;&lt;/blockquote&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;br&gt;\n\n\n\n      \r\n--0-850459120-1279703163=:57530--\r\n\n"}}
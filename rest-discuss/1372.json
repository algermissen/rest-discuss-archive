{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":87113616,"authorName":"S. Mike Dierken","from":"&quot;S. Mike Dierken&quot; &lt;mdierken@...&gt;","profile":"mdierken","replyTo":"SENDER","senderId":"y8v7dXVjm8P7D8bFhcMYIdR6W1yh5h2egzC6N7YaX-3IGl0-GHNOFrjp8iPNEQs1PEK695yVTFmSNcmO9wJHbfs83RKCa3b_-mdgl_fBDw","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [rest-discuss] REST and travel agents revisited","postDate":"1022918733","msgId":1372,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PE9FMzU4dFA5RExmNGJnNVhtbGwwMDAwYjRlZkBob3RtYWlsLmNvbT4=","referencesHeader":"PDNDQzYzODI5LkE5MkNDOTg5QHByZXNjb2QubmV0PiA8NS4xLjAuMTQuMC4yMDAyMDQxOTIxNTgyNS4wMWM2MzAwOEAxOTIuMTY4LjAuNT4gPDUuMS4wLjE0LjAuMjAwMjA0MjAwODM0NDAuMDFhZTJhMzBAMTkyLjE2OC4wLjU+IDw1LjEuMC4xNC4wLjIwMDIwNDIxMDc1MjU2LjAxYzc5ZWMwQDE5Mi4xNjguMC41PiA8M0NDNjM4MjkuQTkyQ0M5ODlAcHJlc2NvZC5uZXQ+IDw1LjEuMC4xNC4wLjIwMDIwNTI5MjA1NjU4LjAxYzBiM2MwQDE5Mi4xNjguMC41PiA8T0U1NDljRmZUdVB6VTlkWmQwRjAwMDBiMzM1QGhvdG1haWwuY29tPg=="},"prevInTopic":1371,"nextInTopic":1373,"prevInTime":1371,"nextInTime":1373,"topicId":1078,"numMessagesInTopic":37,"msgSnippet":"I ve posted it to the Wiki as well: http://internet.conveyor.com/RESTwiki/moin.cgi/RestGoesToMaui (say g night gracie...) ... From: S. Mike Dierken","rawEmail":"Return-Path: &lt;mdierken@...&gt;\r\nX-Sender: mdierken@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nReceived: (EGP: mail-8_0_3_2); 1 Jun 2002 08:01:39 -0000\r\nReceived: (qmail 76071 invoked from network); 1 Jun 2002 08:01:39 -0000\r\nReceived: from unknown (66.218.66.218)\n  by m9.grp.scd.yahoo.com with QMQP; 1 Jun 2002 08:01:39 -0000\r\nReceived: from unknown (HELO hotmail.com) (64.4.16.92)\n  by mta3.grp.scd.yahoo.com with SMTP; 1 Jun 2002 08:01:39 -0000\r\nReceived: from mail pickup service by hotmail.com with Microsoft SMTPSVC;\n\t Sat, 1 Jun 2002 01:01:39 -0700\r\nTo: &lt;rest-discuss@yahoogroups.com&gt;\r\nReferences: &lt;3CC63829.A92CC989@...&gt; &lt;5.1.0.14.0.20020419215825.01c63008@192.168.0.5&gt; &lt;5.1.0.14.0.20020420083440.01ae2a30@192.168.0.5&gt; &lt;5.1.0.14.0.20020421075256.01c79ec0@192.168.0.5&gt; &lt;3CC63829.A92CC989@...&gt; &lt;5.1.0.14.0.20020529205658.01c0b3c0@192.168.0.5&gt; &lt;OE549cFfTuPzU9dZd0F0000b335@...&gt;\r\nSubject: Re: [rest-discuss] REST and travel agents revisited\r\nDate: Sat, 1 Jun 2002 01:05:33 -0700\r\nMIME-Version: 1.0\r\nContent-Type: text/plain;\n\tcharset=&quot;iso-8859-1&quot;\r\nContent-Transfer-Encoding: 7bit\r\nX-Priority: 3\r\nX-MSMail-Priority: Normal\r\nX-Mailer: Microsoft Outlook Express 5.50.4133.2400\r\nX-MimeOLE: Produced By Microsoft MimeOLE V5.50.4133.2400\r\nMessage-ID: &lt;OE358tP9DLf4bg5Xmll0000b4ef@...&gt;\r\nX-OriginalArrivalTime: 01 Jun 2002 08:01:39.0799 (UTC) FILETIME=[8F641E70:01C20942]\r\nFrom: &quot;S. Mike Dierken&quot; &lt;mdierken@...&gt;\r\nX-Yahoo-Group-Post: member; u=87113616\r\nX-Yahoo-Profile: mdierken\r\n\r\nI&#39;ve posted it to the Wiki as well:\n\nhttp://internet.conveyor.com/RESTwiki/moin.cgi/RestGoesToMaui\n\n(say g&#39;night gracie...)\n\n----- Original Message -----\nFrom: &quot;S. Mike Dierken&quot; &lt;mdierken@...&gt;\nTo: &lt;rest-discuss@yahoogroups.com&gt;; &quot;Robert Leftwich&quot; &lt;robert@...&gt;\nSent: Saturday, June 01, 2002 12:45 AM\nSubject: Re: [rest-discuss] REST and travel agents revisited\n\n\n&gt;\n&gt; ----- Original Message -----\n&gt; From: &quot;Robert Leftwich&quot; &lt;robert@...&gt;\n&gt;\n&gt;\n&gt; &gt; Bob&#39;s adding of the travel agent scenario to the &#39;State machine as\n&gt; hypertext&#39; wiki page along with the comment &#39;No attempts to RESTify this\n&gt; example have been reported&#39; prompted me to try out my REST skills - be\n&gt; warned, the training wheels are still on:-)\n&gt; &gt;\n&gt; &gt; The resources modelled are similar to those identified in the original\n&gt; document:\n&gt; &gt;\n&gt; &gt; TripIdentifier\n&gt; &gt;     Participants\n&gt; &gt;         Participant1\n&gt; &gt;         Participant2\n&gt; &gt;         ....\n&gt; &gt;         ParticipantN\n&gt; &gt;     Journey\n&gt; &gt;         Stage1\n&gt; &gt;         Stage2\n&gt; &gt;         ....\n&gt; &gt;         StageN\n&gt; &gt;\n&gt; If I&#39;m reading this right, it sounds like you are making each item a full\n&gt; resource.\n&gt; To me, the data called out in the original document (appended at the end\nof\n&gt; the message) don&#39;t necessarily need to be full URI resources.\n&gt; I don&#39;t see the URIs, their structure or nesting as all that important.\n&gt; In the nested text shown above, the Participant1 could be an independent\n&gt; entity that is merely referenced by the trip, rather than being\n&gt; &#39;subordinate&#39; to the trip resource.\n&gt;\n&gt; Here&#39;s how I would do it:\n&gt; The information types seem to be &#39;traveler&#39;, &#39;trip&#39;, &#39;stage&#39;,\n&#39;participant&#39;,\n&gt; etc.\n&gt; I&#39;d start with a coarse-grained resource like &#39;trip&#39; and expand out into\n&gt; &#39;traveler&#39; or &#39;participant&#39; if necessary.\n&gt; Within, I&#39;d have an XML blob with details and any useful links.\n&gt;\n&gt; The resources I generated in walking through this are:\n&gt; -- submit a new trip --\n&gt; http://services.travelagents.com/trips/\n&gt; -- new trip that was created --\n&gt; http://services.travelagents.com/trips/0173/\n&gt; -- callbacks for airline to confirm reservations --\n&gt; http://services.travelagents.com/trips/0173/airline/ack/\n&gt; http://services.travelagents.com/trips/0173/airline/status/\n&gt; -- submit new reservations --\n&gt; http://services.airliner.com/reservations/\n&gt; -- new reservation that was created --\n&gt; http://reservations.airliner.com/agents/travelagents.com/res-0029/\n&gt;\n&gt; Note - the URIs do /not/ have to be related textually - the URI of the new\n&gt; reservation at the airline is even on a different host for example. The\n&gt; connection between all these is through HTTP headers, or they could also\nbe\n&gt; done via href&#39;s inside some XML.\n&gt;\n&gt;\n&gt; -- step one --\n&gt; The overall flow of this example is as follows: A traveler will plan her\n&gt; trip\n&gt; by specifying the various stages of his overall journey and all of its\n&gt; participants. For each of the stages, the traveler specifies the location\n&gt; that\n&gt; she wants to visit as well as the date when she wants to begin and the\ndate\n&gt; when she wants to end the particular stay. When the traveler is finished\n&gt; with\n&gt; this, she sends this information together with the list of all\nparticipants\n&gt; of\n&gt; the trip as well as the information about the credit card to be charged\nfor\n&gt; the\n&gt; ordered tickets to the travel agent.\n&gt;\n&gt; == Create a new trip ===\n&gt; POST http://services.travelagents.com/trips/ HTTP/1.1\n&gt; Content-Type: text/xml\n&gt; Content-Model: TripSpecification\n&gt;\n&gt; &lt;trip&gt;\n&gt; &lt;stage&gt;\n&gt;  &lt;location&gt;maui&lt;/location&gt;\n&gt;  &lt;start&gt;immediately&lt;/start&gt;\n&gt;  &lt;finish&gt;never&lt;/finish&gt;\n&gt; &lt;/stage&gt;\n&gt; &lt;participant&gt;\n&gt;  &lt;name&gt;Mike&lt;/name&gt;\n&gt; &lt;/participant&gt;\n&gt; &lt;payment&gt;VISA&lt;/payment&gt;\n&gt; &lt;recipient&gt;mdierken@...&lt;/recipient&gt;\n&gt; &lt;/trip&gt;\n&gt;\n&gt; == Acknowledgement of submission (with location of trip) ==\n&gt; HTTP/1.1 202 Accepted\n&gt; Location: http://services.travelagents.com/trips/0173/\n&gt;\n&gt;\n&gt; -- step two --\n&gt; The credit card information has been passed when the business process was\n&gt; instantiated.\n&gt; Next, the traveler will await the submission of the electronic tickets as\n&gt; well as the final itinerary\n&gt; for the trip.\n&gt;\n&gt; -- step three --\n&gt; When the agent receives the traveler&#39;s trip order, he will\n&gt; determine the legs for each of the stages, which includes an initial seat\n&gt; reservation for each of the participants as well as the rate chosen.\n&gt; To actually make the corresponding ticket orders the agent submits these\n&gt; legs together with the information about the credit card to be charged to\n&gt; the\n&gt; airline company.\n&gt;\n&gt; == Create new reservations at airline ===\n&gt; POST http://services.airliner.com/reservations/ HTTP/1.1\n&gt; Reply-To: http://services.travelagents.com/trips/0173/airline/ack/\n&gt; Status-To: http://services.travelagents.com/trips/0173/airline/status/\n&gt; Content-Type: text/xml\n&gt; Content-Model: ReservationRequest\n&gt; Authenticiation: Basic [travelagents:password]\n&gt;\n&gt; &lt;reservation&gt;\n&gt;  &lt;!-- URI of secure payment verification callback - the airlines have to\n&gt; auth to get in --&gt;\n&gt;\n&gt;\n&lt;payment&gt;http://services.travelagents.com/payment/verification/xyz/&lt;/payment\n&gt; &gt;\n&gt;  &lt;recipient&gt;mdierken@...&lt;/recipient&gt;\n&gt; &lt;leg&gt;\n&gt;  &lt;flight&gt;UA-1024&lt;/flight&gt;\n&gt;  &lt;seat&gt;33A&lt;/seat&gt;\n&gt;  &lt;rate&gt;$12.00&lt;/rate&gt;\n&gt; &lt;/leg&gt;\n&gt; &lt;leg&gt;\n&gt;  &lt;flight&gt;NW-832&lt;/flight&gt;\n&gt;  &lt;seat&gt;22B&lt;/seat&gt;\n&gt;  &lt;rate&gt;$12.00&lt;/rate&gt;\n&gt; &lt;/leg&gt;\n&gt; &lt;/reservation&gt;\n&gt;\n&gt; == Acknowledgement of submission (with location of reservation) ==\n&gt; HTTP/1.1 202 Accepted\n&gt; Location:\nhttp://reservations.airliner.com/agents/travelagents.com/res-0029/\n&gt;\n&gt; -- step four --\n&gt; When the airline receives the ticket order submitted by the agent, the\n&gt; requested seats will be checked and if available assigned to the\n&gt; corresponding\n&gt; participants. After that, the credit card will be charged, and the updated\n&gt; leg\n&gt; information is sent back to the agent as confirmation of the flights.\n&gt;\n&gt; -- step five --\n&gt; After that, the airline sends the electronic tickets by e-mail to the\n&gt; traveler.\n&gt; Information about the recipient of the tickets has been specified by the\n&gt; traveler when instantiating the trip order process and this information is\n&gt; passed to the agent as well as to the airline.\n&gt;\n&gt; -- step six --\n&gt; Then, the agent will wait for the confirmation of the flights, which\n&gt; especially includes the actual seats reserved for each of the\nparticipants.\n&gt; This information is completed into an itinerary, which is then sent to the\n&gt; traveler.\n&gt;\n&gt; == Acknowledge new reservation at airline ===\n&gt; POST http://services.travelagents.com/trips/0173/airline/ack/ HTTP/1.1\n&gt; Content-Type: text/xml\n&gt; Content-Model: ReservationConfirmation\n&gt; Authenticiation: Basic [airliner:password]\n&gt;\n&gt; &lt;reservation&gt;\n&gt; &lt;leg&gt;\n&gt;  &lt;flight&gt;UA-1024&lt;/flight&gt;\n&gt;  &lt;seat&gt;33A&lt;/seat&gt;\n&gt;  &lt;rate&gt;$923.00&lt;/rate&gt;\n&gt; &lt;/leg&gt;\n&gt; &lt;leg&gt;\n&gt;  &lt;flight&gt;NW-832&lt;/flight&gt;\n&gt;  &lt;seat&gt;22B&lt;/seat&gt;\n&gt;  &lt;rate&gt;$923.00&lt;/rate&gt;\n&gt; &lt;/leg&gt;\n&gt; &lt;/reservation&gt;\n&gt;\n&gt; == Confirm receipt of reservation info ==\n&gt; HTTP/1.1 200 OK\n&gt;\n&gt;\n&gt; --- scenario from IBM&#39;s WS Flow Language document ---\n&gt; &quot;The overall flow of this example is as follows: A traveler will plan her\n&gt; trip\n&gt; by specifying the various stages of his overall journey and all of its\n&gt; participants. For each of the stages, the traveler specifies the location\n&gt; that\n&gt; she wants to visit as well as the date when she wants to begin and the\ndate\n&gt; when she wants to end the particular stay. When the traveler is finished\n&gt; with\n&gt; this, she sends this information together with the list of all\nparticipants\n&gt; of\n&gt; the trip as well as the information about the credit card to be charged\nfor\n&gt; the\n&gt; ordered tickets to the travel agent. The credit card information has been\n&gt; passed when the business process was instantiated. Next, the traveler will\n&gt; await the submission of the electronic tickets as well as the final\n&gt; itinerary\n&gt; for the trip. When the agent receives the traveler&#39;s trip order, he will\n&gt; determine the legs for each of the stages, which includes an initial seat\n&gt; reservation for each of the participants as well as the rate chosen. To\n&gt; actuall\n&gt; y make the corresponding ticket orders the agent submits these legs\ntogether\n&gt; with the information about the credit card to be charged to the airline\n&gt; company. Then, the agent will wait for the confirmation of the flights,\n&gt; which\n&gt; especially includes the actual seats reserved for each of the\nparticipants.\n&gt; This information is completed into an itinerary, which is then sent to the\n&gt; traveler.\n&gt;\n&gt; When the airline receives the ticket order submitted by the agent, the\n&gt; requested seats will be checked and if available assigned to the\n&gt; corresponding\n&gt; participants. After that, the credit card will be charged, and the updated\n&gt; leg\n&gt; information is sent back to the agent as confirmation of the flights.\nAfter\n&gt; that, the airline sends the electronic tickets by e-mail to the traveler.\n&gt; Information about the recipient of the tickets has been specified by the\n&gt; traveler when instantiating the trip order process and this information is\n&gt; passed to the agent as well as to the airline.&quot;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt; To unsubscribe from this group, send an email to:\n&gt; rest-discuss-unsubscribe@yahoogroups.com\n&gt;\n&gt;\n&gt;\n&gt; Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/\n&gt;\n&gt;\n&gt;\n\n"}}
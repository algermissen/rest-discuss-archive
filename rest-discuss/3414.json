{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":137909573,"authorName":"Richard Padley","from":"Richard Padley &lt;rest-discuss@...&gt;","profile":"sem_antico","replyTo":"SENDER","senderId":"YU3qz6xo8bTuG5r5184QnSJIj5x7YY6smq_fBFWPC9prPOduInzjo4VgNaDioH9PQtZKI4gJJhD-IhDfaowQBv_KTVgjGxpwHoiTOa8w3jb7IfsqtrJaJkuZxA","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Containers and nested representations","postDate":"1046279221","msgId":3414,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PGIzaXM3ZiRyMTgkMUBwYXByaWthLnJwLmxhbj4="},"prevInTopic":0,"nextInTopic":3418,"prevInTime":3413,"nextInTime":3415,"topicId":3414,"numMessagesInTopic":7,"msgSnippet":"I ve been working through a few issues related to how a container resource behaves, and I m not sure if I m bumping into some limitations of REST or HTTP. ","rawEmail":"Return-Path: &lt;news@...&gt;\r\nX-Sender: news@...\r\nX-Apparently-To: rest-discuss@...\r\nReceived: (EGP: mail-8_2_3_4); 26 Feb 2003 17:07:07 -0000\r\nReceived: (qmail 11791 invoked from network); 26 Feb 2003 17:07:06 -0000\r\nReceived: from unknown (66.218.66.217)\n  by m4.grp.scd.yahoo.com with QMQP; 26 Feb 2003 17:07:06 -0000\r\nReceived: from unknown (HELO semantico.com) (212.74.15.98)\n  by mta2.grp.scd.yahoo.com with SMTP; 26 Feb 2003 17:07:05 -0000\r\nReceived: by semantico.com (Postfix, from userid 99)\n\tid 0563D32001A; Wed, 26 Feb 2003 17:06:56 +0000 (GMT)\r\nDelivered-To: news-outgoing@...\r\nReceived: by semantico.com (Postfix, from userid 9)\n\tid 644D232001A; Wed, 26 Feb 2003 17:06:55 +0000 (GMT)\r\nTo: rest-discuss@...\r\nPath: not-for-mail\r\nSubject: Containers and nested representations\r\nDate: Wed, 26 Feb 2003 17:07:01 +0000\r\nOrganization: http://www.semantico.com/\r\nLines: 71\r\nMessage-ID: &lt;b3is7f$r18$1@...&gt;\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=us-ascii; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-Trace: paprika.rp.lan 1046279215 27688 192.168.1.4 (26 Feb 2003 17:06:55 GMT)\r\nX-Complaints-To: news@...\r\nNNTP-Posting-Date: Wed, 26 Feb 2003 17:06:55 +0000 (UTC)\r\nUser-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.2) Gecko/20021126\r\nX-Accept-Language: en, en-us\r\nSender: nobody@...\r\nX-Original-Return-Path: &lt;news@...&gt;\r\nX-Original-To: news-outgoing@...\r\nX-eGroups-From: Richard Padley &lt;richardp@...&gt;\r\nFrom: Richard Padley &lt;rest-discuss@...&gt;\r\nX-Yahoo-Group-Post: member; u=137909573\r\nX-Yahoo-Profile: sem_antico\r\n\r\nI&#39;ve been working through a few issues related to how a container \nresource behaves, and I&#39;m not sure if I&#39;m bumping into some limitations \nof REST or HTTP.\n\nImagine I have two kinds of resource, boxes and widgets. All wigets are \ncontained in boxes. So, to examine a given box I can\n\nGET /box/100 HTTP/1.1\n\nand the response is\n\nHTTP/1.1 200 OK\nContent-Type: text/xml\n\n&lt;box x:href=&quot;/box/100&quot;&gt;\n   &lt;box-id&gt;100&lt;/box-id&gt;\n   &lt;colour&gt;Blue&lt;/colour&gt;\n   &lt;widget x:href=&quot;/widget/33&quot;&gt;\n     &lt;widget_id&gt;33&lt;widget_id&gt;\n     &lt;colour&gt;Green&lt;/colour&gt;\n     &lt;size&gt;9&lt;/size&gt;\n   &lt;/widget&gt;\n   &lt;widget x:href=&quot;/widget/34&quot;&gt;\n     &lt;widget_id&gt;34&lt;widget_id&gt;\n     &lt;colour&gt;Black&lt;/colour&gt;\n     &lt;size&gt;10&lt;/size&gt;\n   &lt;/widget&gt;\n&lt;/box&gt;\n\nThe idea here is that the contained resources are serialised in the \nrepresentation. I&#39;m assuming that this is OK from a REST perspective.\n\nNow I want to modify a box. I&#39;m going to use PUT to replace the whole \nbox. In doing this I&#39;ll naturally be replacing the contained widgets as \nwell.\n\nPUT /box/100 HTTP/1.1\nContent-Type: text/xml\n\n&lt;box&gt;\n   &lt;box-id&gt;100&lt;/box-id&gt;\n   &lt;colour&gt;Green&lt;/colour&gt;\n   &lt;widget&gt;\n     &lt;widget_id&gt;33&lt;widget_id&gt;\n     &lt;colour&gt;Blue&lt;/colour&gt;\n     &lt;size&gt;9&lt;/size&gt;\n   &lt;/widget&gt;\n   &lt;widget&gt;\n     &lt;widget_id&gt;35&lt;widget_id&gt;\n     &lt;colour&gt;Black&lt;/colour&gt;\n     &lt;size&gt;9&lt;/size&gt;\n   &lt;/widget&gt;\n&lt;/box&gt;\n\nThe response is\n\nHTTP/1.1 204 No Content\n\nNow, I&#39;ve changed the colour of this box, and I&#39;ve both changed the \ncolour of widget 33, and added a new widget 35 to the container. Also I \nhave deleted widget 34, since it now had no container, and this is not \nallowed (in this particular application).\n\nMy question is, have I done too much at once here? I&#39;d like to be able \nto indicate the newly created widget 35 with a 201 Created response, but \nthe response I must return relates to the container, not its contents. \nAlso I&#39;m not too happy with the indirect addressing that seems to be \nhappening here - I have the URI for the box as part of the request, but \nthis request affects other resources, which I can only address inside \nthe message-body itsself, which just seems wrong.\n\n"}}
{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":409447813,"authorName":"Keyur Shah","from":"Keyur Shah &lt;keyurva@...&gt;","profile":"keyurva","replyTo":"SENDER","senderId":"36VpenuH6oIwa5qUMgWMSBCcSkFOZsww1e5gIXklV_BJjJ3S1_3jojl_54R0ZULHUQVOalhoKPsM9xuCbFsxT4CCCz9D","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [rest-discuss] Re: Trailer header and tomcat","postDate":"1249575420","msgId":13171,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDRlYjgzYTE4MDkwODA2MDkxNm8xMWZiMzE3MHBjMzMxZGUzMzM5YTdjMjExQG1haWwuZ21haWwuY29tPg==","inReplyToHeader":"PDA3NDIwNUJGLTM3MEEtNEMwQi1BQzA0LTJCREUwQzA4MzI0MUBzcGVjaWFsYnVzc2VydmljZS5jb20+","referencesHeader":"PGg1Y3ZnMytzbHI2QGVHcm91cHMuY29tPgkgPDAwQUEzRDkyLTY3MDgtNEUzRi1BQjYwLTEyQTY1NzZFOUQ4M0BzdWJidS5vcmc+CSA8NEE3QUE5RUIuOTAwMDMwN0BoYWNrY3JhZnQubmV0PgkgPDA3NDIwNUJGLTM3MEEtNEMwQi1BQzA0LTJCREUwQzA4MzI0MUBzcGVjaWFsYnVzc2VydmljZS5jb20+"},"prevInTopic":13170,"nextInTopic":13172,"prevInTime":13170,"nextInTime":13172,"topicId":13162,"numMessagesInTopic":11,"msgSnippet":"Yes. I agree with all of you. I pre-compute the ETag wherever possible: file name + last modified, a version-like column in the db, even cached object hash","rawEmail":"Return-Path: &lt;keyurva@...&gt;\r\nX-Sender: keyurva@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 19550 invoked from network); 6 Aug 2009 16:17:02 -0000\r\nX-Received: from unknown (69.147.108.200)\n  by m1.grp.re1.yahoo.com with QMQP; 6 Aug 2009 16:17:02 -0000\r\nX-Received: from unknown (HELO qw-out-2122.google.com) (74.125.92.27)\n  by mta1.grp.re1.yahoo.com with SMTP; 6 Aug 2009 16:17:02 -0000\r\nX-Received: by qw-out-2122.google.com with SMTP id 8so395534qwh.53\n        for &lt;rest-discuss@yahoogroups.com&gt;; Thu, 06 Aug 2009 09:17:02 -0700 (PDT)\r\nMIME-Version: 1.0\r\nX-Received: by 10.229.85.21 with SMTP id m21mr116828qcl.9.1249575421783; Thu, 06 \n\tAug 2009 09:17:01 -0700 (PDT)\r\nIn-Reply-To: &lt;074205BF-370A-4C0B-AC04-2BDE0C083241@...&gt;\r\nReferences: &lt;h5cvg3+slr6@...&gt;\n\t &lt;00AA3D92-6708-4E3F-AB60-12A6576E9D83@...&gt;\n\t &lt;4A7AA9EB.9000307@...&gt;\n\t &lt;074205BF-370A-4C0B-AC04-2BDE0C083241@...&gt;\r\nDate: Thu, 6 Aug 2009 09:17:00 -0700\r\nMessage-ID: &lt;4eb83a180908060916o11fb3170pc331de3339a7c211@...&gt;\r\nTo: Justin Cormack &lt;justin@...&gt;\r\nCc: Jon Hanna &lt;jon@...&gt;, Subbu Allamaraju &lt;subbu@...&gt;, rest-discuss@yahoogroups.com\r\nContent-Type: multipart/alternative; boundary=00163630f70722f6da04707b73c9\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Keyur Shah &lt;keyurva@...&gt;\r\nSubject: Re: [rest-discuss] Re: Trailer header and tomcat\r\nX-Yahoo-Group-Post: member; u=409447813; y=jIgczE06emzPpIIv41lkWHRoX_tDQ2B1yTzFF-O2bpHvnA\r\nX-Yahoo-Profile: keyurva\r\n\r\n\r\n--00163630f70722f6da04707b73c9\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Transfer-Encoding: 7bit\r\n\r\nYes. I agree with all of you. I pre-compute the ETag wherever possible: file\nname + last modified, a version-like column in the db, even cached object\nhash codes.\n\nHere I&#39;m only looking to generate ETags for resources where it&#39;s not\npossible for me to compute the etag in advance. Yes, it does not save me any\ncomputation time. But if it can save me bandwidth it&#39;s still a good thing.\n\nBut... as I think more about it, generating a trailer ETag does not even\nsave me any bandwidth. So my basic premise itself was flawed. Thanks for\nsetting me straight.\n\n--Keyur\n\nOn Thu, Aug 6, 2009 at 6:07 AM, Justin Cormack &lt;justin@...\n&gt; wrote:\n\n&gt;\n&gt; On 6 Aug 2009, at 11:01, Jon Hanna wrote:\n&gt;\n&gt;  Subbu Allamaraju wrote:\n&gt;&gt; &gt; This may very well be a bug/limitation in Tomcat. By the way, have you\n&gt;&gt; &gt; considered using some other application hash for the Etag. Computing\n&gt;&gt; &gt; ETag based on the byte stream is not always the most efficient.\n&gt;&gt;\n&gt;&gt; It also defeats some uses. In particular it&#39;s not possible to\n&gt;&gt; conditionally change processing due to If-Match or If-None-Match as you\n&gt;&gt; don&#39;t know if the E-Tags match until it&#39;s too late.\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt; Yes agree here. If you cant work out the etag without generating the\n&gt; resource\n&gt; representation you may as well not support HEAD requests! The whole point\n&gt; is to be able to\n&gt; compute etags without doing all the work of sending the resource. Otherwise\n&gt; you are just saving a little bandwidth.\n&gt;\n&gt; Justin\n&gt;\n&gt;\n\r\n--00163630f70722f6da04707b73c9\r\nContent-Type: text/html; charset=ISO-8859-1\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\nYes. I agree with all of you. I pre-compute the ETag wherever possible: fil=\r\ne name + last modified, a version-like column in the db, even cached object=\r\n hash codes.&lt;br&gt;&lt;br&gt;Here I&#39;m only looking to generate ETags for resourc=\r\nes where it&#39;s not possible for me to compute the etag in advance. Yes, =\r\nit does not save me any computation time. But if it can save me bandwidth i=\r\nt&#39;s still a good thing.&lt;br&gt;\n&lt;br&gt;But... as I think more about it, genera=\r\nting a trailer ETag does not even save me any bandwidth. So my basic premis=\r\ne itself was flawed. Thanks for setting me straight.&lt;br&gt;&lt;br&gt;--Keyur&lt;br&gt;&lt;br&gt;=\r\n&lt;div class=3D&quot;gmail_quote&quot;&gt;On Thu, Aug 6, 2009 at 6:07 AM, Justin Cormack &lt;=\r\nspan dir=3D&quot;ltr&quot;&gt;&lt;&lt;a href=3D&quot;mailto:justin@...&quot;&gt;justin=\r\n@...&lt;/a&gt;&gt;&lt;/span&gt; wrote:&lt;br&gt;\n&lt;blockquote class=3D&quot;gmail=\r\n_quote&quot; style=3D&quot;border-left: 1px solid rgb(204, 204, 204); margin: 0pt 0pt=\r\n 0pt 0.8ex; padding-left: 1ex;&quot;&gt;&lt;div&gt;&lt;div&gt;&lt;/div&gt;&lt;div class=3D&quot;h5&quot;&gt;&lt;br&gt;\nOn 6=\r\n Aug 2009, at 11:01, Jon Hanna wrote:&lt;br&gt;\n&lt;br&gt;\n&lt;blockquote class=3D&quot;gmail_q=\r\nuote&quot; style=3D&quot;border-left: 1px solid rgb(204, 204, 204); margin: 0pt 0pt 0=\r\npt 0.8ex; padding-left: 1ex;&quot;&gt;\nSubbu Allamaraju wrote:&lt;br&gt;\n&gt; This may ve=\r\nry well be a bug/limitation in Tomcat. By the way, have you&lt;br&gt;\n&gt; consid=\r\nered using some other application hash for the Etag. Computing&lt;br&gt;\n&gt; ETa=\r\ng based on the byte stream is not always the most efficient.&lt;br&gt;\n&lt;br&gt;\nIt al=\r\nso defeats some uses. In particular it&#39;s not possible to&lt;br&gt;\nconditiona=\r\nlly change processing due to If-Match or If-None-Match as you&lt;br&gt;\ndon&#39;t=\r\n know if the E-Tags match until it&#39;s too late.&lt;br&gt;\n&lt;br&gt;\n&lt;br&gt;\n&lt;/blockquo=\r\nte&gt;\n&lt;br&gt;&lt;/div&gt;&lt;/div&gt;\nYes agree here. If you cant work out the etag without =\r\ngenerating the resource&lt;br&gt;\nrepresentation you may as well not support HEAD=\r\n requests! The whole point is to be able to&lt;br&gt;\ncompute etags without doing=\r\n all the work of sending the resource. Otherwise&lt;br&gt;\nyou are just saving a =\r\nlittle bandwidth.&lt;br&gt;&lt;font color=3D&quot;#888888&quot;&gt;\n&lt;br&gt;\nJustin&lt;br&gt;\n&lt;br&gt;\n&lt;/font&gt;&lt;=\r\n/blockquote&gt;&lt;/div&gt;&lt;br&gt;\n\r\n--00163630f70722f6da04707b73c9--\r\n\n"}}
{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":63473576,"authorName":"Lucas Gonze","from":"Lucas Gonze &lt;lucas@...&gt;","profile":"lucas_gonze","replyTo":"SENDER","senderId":"I33ngye_C_Zh_SOYcICcR-tLxmmHgHNtGOEAMU7ElrPXRMBZC6180T9PPYuds0MWUcl2tQhxEh7OlKLTeD-3Z9he_R4","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [rest-discuss] socket-level mods","postDate":"1026417412","msgId":1807,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PFBpbmUuTE5YLjQuNDQuMDIwNzExMTU0ODI3MC40NjYtMTAwMDAwQGxvY2FsaG9zdC5sb2NhbGRvbWFpbj4=","inReplyToHeader":"PE9FMjdMV3dVbmVLbWdDOTBCMjIwMDAwOWNlMUBob3RtYWlsLmNvbT4="},"prevInTopic":1806,"nextInTopic":1808,"prevInTime":1806,"nextInTime":1808,"topicId":1733,"numMessagesInTopic":74,"msgSnippet":"before going into detail on responses, let me state the problem: I want to be able to do anything that Gnutella can do in a RESTy way.  If there is a reason","rawEmail":"Return-Path: &lt;lgonze@...&gt;\r\nX-Sender: lgonze@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nReceived: (EGP: mail-8_0_7_4); 11 Jul 2002 20:01:12 -0000\r\nReceived: (qmail 11892 invoked from network); 11 Jul 2002 20:01:11 -0000\r\nReceived: from unknown (66.218.66.218)\n  by m5.grp.scd.yahoo.com with QMQP; 11 Jul 2002 20:01:11 -0000\r\nReceived: from unknown (HELO mail2.panix.com) (166.84.1.73)\n  by mta3.grp.scd.yahoo.com with SMTP; 11 Jul 2002 20:01:11 -0000\r\nReceived: from 159-98.nyc.dsl.access.net (159-98.nyc.dsl.access.net [166.84.159.98])\n\tby mail2.panix.com (Postfix) with ESMTP\n\tid E7EC78FC9; Thu, 11 Jul 2002 16:01:10 -0400 (EDT)\r\nDate: Thu, 11 Jul 2002 15:56:52 -0400 (EDT)\r\nX-X-Sender: lgonze@...\r\nTo: &quot;S. Mike Dierken&quot; &lt;mdierken@...&gt;\r\nCc: rest-discuss@yahoogroups.com\r\nSubject: Re: [rest-discuss] socket-level mods\r\nIn-Reply-To: &lt;OE27LWwUneKmgC90B2200009ce1@...&gt;\r\nMessage-ID: &lt;Pine.LNX.4.44.0207111548270.466-100000@...&gt;\r\nMIME-Version: 1.0\r\nContent-Type: TEXT/PLAIN; charset=US-ASCII\r\nX-eGroups-From: Lucas Gonze &lt;lgonze@...&gt;\r\nFrom: Lucas Gonze &lt;lucas@...&gt;\r\nX-Yahoo-Group-Post: member; u=63473576\r\nX-Yahoo-Profile: lucas_gonze\r\n\r\n\nbefore going into detail on responses, let me state the problem: I want \nto be able to do anything that Gnutella can do in a RESTy way.  If there \nis a reason why this is a bad idea, I want to hear it.\n\nOn Thu, 11 Jul 2002, S. Mike Dierken wrote:\n&gt; &gt; * efficiency.  Using two sockets instead of one, plus the cost of\n&gt; &gt; maintaining open connections, is a brutual efficiency hit.\n&gt; I&#39;m not so sure about this - what types/roles are the machines & what\n&gt; numbers of sockets are you thinking of?\n&gt; Good sized servers should be able to have 10K open connections without a\n&gt; problem.\n\nmaybe I&#39;m plain wrong.  I&#39;ll hold off on declaring this a showstopper. ;)\n\n&gt; &gt; * event mechanisms.  given a single unidirectional connection there is no\n&gt; &gt; way for a server to initiate an event, short of the knownow hack of\n&gt; &gt; running events along the backstream to the client.\n&gt; Hey.. it&#39;s not a hack, its &#39;elegant&#39;...\n\nhold the fort til you code it.  man what a hairy mess.  plus, requests \nreceived over a response channel are http tunnelled through http, which is \na bad idea.\n\n&gt; \n&gt; &gt;\n&gt; &gt; * coordinating related events on the two streams.  It is much easier to do\n&gt; &gt; this with a single connection than with two.  (Years ago I actually did\n&gt; &gt; write a coordinator for two connections, and it was a bear to get the\n&gt; &gt; details right.)\n&gt; &gt;\n&gt; &gt; I&#39;ve done enough preliminary hacking in Tomcat to know that I can munge\n&gt; &gt; the socket layer -- exclusively stuff below HTTP -- to support long\n&gt; &gt; lasting connections where both parties can act as a client, server or\n&gt; &gt; both.  But I am queasy about how this interacts with REST design.\n&gt; \n&gt; This is an area I would love to work on - a networking layer that did a\n&gt; persistent, client-initiated connection and then consumed incoming messages\n&gt; and delivered them to a regular HTTP server (possibly via jserv sockets to\n&gt; tomcat or something) as an unsolicited incoming request.\n\nIt&#39;s very doable.  There are a lot of assumptions in the \ntomcat code that you won&#39;t do it, but I haven&#39;t hit any hard blocks so \nfar.  (Can&#39;t say the same for Jetty etc.  It&#39;s a credit to tomcat&#39;s clean \ndesign that this is doable.).\n\n&gt; \n&gt; &gt;\n&gt; &gt; The new design would still work by resource modelling.  However it would\n&gt; &gt; not be oriented towards hypertext, so stuff related to connection keep\n&gt; &gt; alive would be hairy.  It would not work with existing proxies, but that&#39;s\n&gt; &gt; not a REST issue IMO.\n&gt; I don&#39;t think keep-alive is related to hypertext. I don&#39;t know why you see\n&gt; it as different than a persistent connection?\n&gt; The handshaking is still request/response (except for\n&gt; chunked-transfer-encoding, but I wouldn&#39;t mess with that).\n\nI&#39;m thinking of Roy&#39;s dissertation, where he is very clear that there was \nan expected granularity of content, which is the granularity of hypertext.\n\n&gt; \n&gt; &gt;\n&gt; &gt; On the other hand, the new design would be HTTP to the letter, because\n&gt; &gt; HTTP doesn&#39;t say anyting about the socket layer.\n&gt; &gt;\n&gt; &gt; ...thoughts?\n&gt; This is what I was talking about a while ago with the asynch-http &\n&gt; http+events discussion. Can&#39;t find the links right now...\n\nNice.  It&#39;s what I was thinking about too.  The purpose of that whole\nthing for me was to understand what (if anything) had to be done.\n\n\n\n"}}
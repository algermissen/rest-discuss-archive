{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":237604743,"authorName":"Bill de hOra","from":"Bill de hOra &lt;bill@...&gt;","profile":"bdehora","replyTo":"SENDER","senderId":"AaSDawPsOQOcFIAMMpRzYACruT-QpTaSQDBP8a-9tf7r4aOWG_zA0yTdFPv9-znRa9oWckUjnzF0TGG4g_xG2HA3OYOn","spamInfo":{"isSpam":false,"reason":"12"},"subject":"AtomPub copy/move extension: [was Amazon S3 tacks a COPY under PUT]","postDate":"1215186263","msgId":10973,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDQ4NkU0NTU3LjkwMjAwMDRAZGVob3JhLm5ldD4=","inReplyToHeader":"PDQ4MDY2QTdDLjEwMjAxMDlAZGVob3JhLm5ldD4=","referencesHeader":"PDlkYzc4ZDdiMDgwNDE0MDQwMHY0OGM0NjRkMnIzOGY4ZjJmNzYwNWMwNDFjQG1haWwuZ21haWwuY29tPgkgPDQ4MDMzRDkyLjMwNjAxMDNAZ214LmRlPgkgPGE2YTZkZjM2MDgwNDE0MDY1M3Y0ZGE3NjQ2cDI1OTJiNGM4MTAyMDY1MDlAbWFpbC5nbWFpbC5jb20+CSA8NUMzRjM2QUYtNEJEMi00OEQ4LUI5NzctRDc2NkExNjZCMUYyQGdtYWlsLmNvbT4JIDxhNmE2ZGYzNjA4MDQxNDE1MDVrMWQwNThlZTlrNjZlYmIzN2Y3NDVkZjIwY0BtYWlsLmdtYWlsLmNvbT4JIDw0ODA0NTZDQy45MDMwODA2QGdteC5kZT4gPDlkYzc4ZDdiMDgwNDE1MDExOGdiN2Q4YWFkcTE5ZDIyODEzNjgwYTYzMkBtYWlsLmdtYWlsLmNvbT4gPDQ4MDY2QTdDLjEwMjAxMDlAZGVob3JhLm5ldD4="},"prevInTopic":10652,"nextInTopic":10974,"prevInTime":10972,"nextInTime":10974,"topicId":10613,"numMessagesInTopic":44,"msgSnippet":"More seriously this time: [[[ POST /collection Host: www.example.org X-Http-Method-Override: X-CLONE Content-Location:","rawEmail":"Return-Path: &lt;bill@...&gt;\r\nX-Sender: bill@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 66973 invoked from network); 4 Jul 2008 15:44:28 -0000\r\nX-Received: from unknown (66.218.67.97)\n  by m46.grp.scd.yahoo.com with QMQP; 4 Jul 2008 15:44:28 -0000\r\nX-Received: from unknown (HELO chilco.textdrive.com) (207.7.108.242)\n  by mta18.grp.scd.yahoo.com with SMTP; 4 Jul 2008 15:44:28 -0000\r\nX-Received: from [192.168.2.147] (87-198-172-217.ptr.magnet.ie [87.198.172.217])\n\tby chilco.textdrive.com (Postfix) with ESMTP id E41A5DCD72\n\tfor &lt;rest-discuss@yahoogroups.com&gt;; Fri,  4 Jul 2008 15:44:27 +0000 (UTC)\r\nMessage-ID: &lt;486E4557.9020004@...&gt;\r\nDate: Fri, 04 Jul 2008 16:44:23 +0100\r\nUser-Agent: Thunderbird 2.0.0.14 (X11/20080505)\r\nMIME-Version: 1.0\r\nTo: REST discuss &lt;rest-discuss@yahoogroups.com&gt;\r\nReferences: &lt;9dc78d7b0804140400v48c464d2r38f8f2f7605c041c@...&gt;\t &lt;48033D92.3060103@...&gt;\t &lt;a6a6df360804140653v4da7646p2592b4c810206509@...&gt;\t &lt;5C3F36AF-4BD2-48D8-B977-D766A166B1F2@...&gt;\t &lt;a6a6df360804141505k1d058ee9k66ebb37f745df20c@...&gt;\t &lt;480456CC.9030806@...&gt; &lt;9dc78d7b0804150118gb7d8aadq19d22813680a632@...&gt; &lt;48066A7C.1020109@...&gt;\r\nIn-Reply-To: &lt;48066A7C.1020109@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Bill de hOra &lt;bill@...&gt;\r\nSubject: AtomPub copy/move extension: [was Amazon S3 tacks a COPY under PUT]\r\nX-Yahoo-Group-Post: member; u=237604743; y=k6veGe1EahkUsW6II_nFc92TGArN0K6C-HtI_OYUy20wTA\r\nX-Yahoo-Profile: bdehora\r\n\r\nMore seriously this time:\n\n[[[\nPOST /collection\nHost: www.example.org\nX-Http-Method-Override: X-CLONE\nContent-Location: http://example.org/data/bob/entry/aefeeibc\nContent-Length: 0\n]]]\n\nmeans: take the representation @ Content-Location and figure out how to \nPOST it to the collection as if it were an AtomPub create operation.\n\nThe client doesn&#39;t have to GET and POST which is the problem AWS are \ntrying to solve. If the origin server happens to have the copy \ninternally it can do something clever, but the interface doesn&#39;t assume \nthe data is local to that server.\n\nThe client also doesn&#39;t tell the server what the destination URI is, \nwhich is a problem with WebDAV COPY as far as AtomPub goes. Hence the \noverride method is X-CLONE not COPY. X-RELOCATE would be the option to \nhave the old URI removed as well.\n\nThe responses would be 201 Created + Location as per AtomPub; ie the \ncollection should issue a URL immediately so the client is released. But \nmaybe 202 accepted + Location would be more explicit.\n\nIf the copy operation is ongoing in the the background, GETs to the URL \ncan return 503 Service Unavailable and a Retry-After. If for some reason \nthe op failed, 410 Gone can be returned.\n\nOne issue is that the client didn&#39;t sent any authorization to the \ncollection that allows it to fetch the resource.\n\nWhat do you think?\n\nBill\n\n\nBill de hOra wrote:\n&gt; \n&gt; \n&gt; Steve Loughran wrote:\n&gt; \n&gt;  &gt; Its a tough call this. If you are working with multi GB files and you\n&gt;  &gt; have to both wait and pay for the move/copy operations, you like to\n&gt;  &gt; have the server to do all the work themselves. But it is effectively\n&gt;  &gt; an optimisation. You don&#39;t need it. I guess that&#39;s the solution: if we\n&gt;  &gt; don&#39;t like it, we ignore it.\n&gt; \n&gt; TESLABEAM /overthere/kirk HTTP/1.1\n&gt; Host: planetzorg.s3.amazonaws.com\n&gt; x-amz-transporter: http://enterprise.s3.amazonaws.com/fromhere/kirk \n&gt; &lt;http://enterprise.s3.amazonaws.com/fromhere/kirk&gt;\n&gt; Authorization: AWS PR1M3D1R3CT1V3\n&gt; Date: Wed, 20 Feb 2330 22:12:21 +0000\n&gt; \n&gt; it would need some some work to be robust to clockdrift.\n&gt; \n&gt; Bill\n&gt; \n&gt; \n\n\n"}}
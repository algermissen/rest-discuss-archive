{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":248248154,"authorName":"Bruno Harbulot","from":"Bruno Harbulot &lt;Bruno.Harbulot@...&gt;","profile":"bruno_harbulot","replyTo":"SENDER","senderId":"mqGGaQqK_-6os5EDPAtrKtceC5SmuBl-I2r5YkxQd0dXO_6HILvQxRzL6KL7d7iVR6TPLtZi_qaiy46Exzk6VJ0BD3oxa_Txgd-RnBz9jHVuCcA4ik-u","spamInfo":{"isSpam":false,"reason":"6"},"subject":"Re: [rest-discuss] Changing State on two resources at once","postDate":"1186495934","msgId":9573,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDQ2Qjg3REJFLjIwOTA1MDlAbWFuY2hlc3Rlci5hYy51az4=","inReplyToHeader":"PGY5N2M0ZitjNGFvQGVHcm91cHMuY29tPg==","referencesHeader":"PGY5N2M0ZitjNGFvQGVHcm91cHMuY29tPg=="},"prevInTopic":9572,"nextInTopic":9574,"prevInTime":9572,"nextInTime":9574,"topicId":9562,"numMessagesInTopic":16,"msgSnippet":"Hello, ... I think it depends on whether-or-not resources A and B share state with another resource -- such as a database that supports transactions -- and on","rawEmail":"Return-Path: &lt;Bruno.Harbulot@...&gt;\r\nX-Sender: Bruno.Harbulot@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nReceived: (qmail 79220 invoked from network); 7 Aug 2007 14:12:21 -0000\r\nReceived: from unknown (66.218.66.72)\n  by m53.grp.scd.yahoo.com with QMQP; 7 Aug 2007 14:12:21 -0000\r\nReceived: from unknown (HELO serenity.mcc.ac.uk) (130.88.200.93)\n  by mta14.grp.scd.yahoo.com with SMTP; 7 Aug 2007 14:12:21 -0000\r\nReceived: from gerhayn.mcc.ac.uk ([10.2.18.1])\n\tby serenity.mcc.ac.uk with esmtps (TLSv1:AES256-SHA:256)\n\t(Exim 4.63 (FreeBSD))\n\t(envelope-from &lt;Bruno.Harbulot@...&gt;)\n\tid 1IIPnF-0001jh-AV; Tue, 07 Aug 2007 15:12:17 +0100\r\nReceived: from cspool30.cs.man.ac.uk ([130.88.195.130]:52025 helo=mirabelle.chermonsieur.org)\n\tby gerhayn.mcc.ac.uk with esmtpsa (TLSv1:AES256-SHA:256)\n\t(Exim 4.67 (FreeBSD))\n\t(envelope-from &lt;Bruno.Harbulot@...&gt;)\n\tid 1IIPnF-0009kL-7k; Tue, 07 Aug 2007 15:12:17 +0100\r\nMessage-ID: &lt;46B87DBE.2090509@...&gt;\r\nDate: Tue, 07 Aug 2007 15:12:14 +0100\r\nUser-Agent: Thunderbird 2.0.0.6 (Macintosh/20070728)\r\nMIME-Version: 1.0\r\nTo: rest-discuss@yahoogroups.com\r\nCc: k_mccarthy &lt;k_mccarthy@...&gt;\r\nReferences: &lt;f97c4f+c4ao@...&gt;\r\nIn-Reply-To: &lt;f97c4f+c4ao@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-Authenticated-Sender: Bruno Harbulot from cspool30.cs.man.ac.uk (mirabelle.chermonsieur.org) [130.88.195.130]:52025\r\nX-Authenticated-From: Bruno.Harbulot@...\r\nX-UoM: Scanned by the University Mail System. See http://www.itservices.manchester.ac.uk/email/filtering/information/ for details.\r\nX-eGroups-Msg-Info: 1:6:0:0\r\nFrom: Bruno Harbulot &lt;Bruno.Harbulot@...&gt;\r\nSubject: Re: [rest-discuss] Changing State on two resources at once\r\nX-Yahoo-Group-Post: member; u=248248154; y=2x8GPn3ADskkfFTrydLGgwH7DdzCHdPwdj6bdJGHaB82JT33AC6jSq8\r\nX-Yahoo-Profile: bruno_harbulot\r\n\r\nHello,\n\nk_mccarthy wrote:\n&gt; \n&gt; \n&gt; Most(all?) of the REST theory I&#39;ve read, and maybe all the examples,\n&gt; discusses altering the state of one resource when hitting a URL. But I\n&gt; keep bumping into cases where it looks like I need to alter the state\n&gt; on more than one resource in one hit.\n&gt; \n&gt; Here is a simplified example:\n&gt; Suppose there are resources where a particular attribute must be\n&gt; unique across the set of all those resources. If A has color red, then\n&gt; B cannot have color red. Now imagine it needs to be possible to swap\n&gt; the state of two resources with respect to this attribute. If I start\n&gt; with\n&gt; \n&gt; A.color=red and B.color=green\n&gt; \n&gt; I need to end up with\n&gt; \n&gt; A.color=green and B.color=red\n&gt; \n&gt; In order to preserve the requirement of uniqueness, I want to do this\n&gt; in a single hit.\n&gt; \n&gt; To me this looks like I have a single URL, which I pass state for both\n&gt; A and B to, and it changes the state of both.\n&gt; \n&gt; This doesn&#39;t match the way I read the REST theory, but I can&#39;t come up\n&gt; with a way does. Any thoughts on how to make this closer to theory? Or\n&gt; is this one of those areas where you just have to bend the rules?\n\nI think it depends on whether-or-not resources A and B share state with \nanother resource -- such as a database that supports transactions -- and \non whether you want to show or hide that fact.\n\nWithout building upon the rules (I&#39;m not sure I&#39;d call it &quot;bending the \nrules&quot;), you can&#39;t know. As you say, if you build a 3rd resource that is \nable to alter the state of A and B at once, you essentially create \nanother view of the database resource that shares A and B colour states.\nThis is not too difficult to implement if A, B and A-and-B are \npractically on the same server, sharing the same database (or similar \nrepository).\n\nIf you can&#39;t make this assumption (A and B sharing their state with a \nresource that supports transactions), the problem becomes more difficult \nand requires a consensus algorithm. This document is probably relevant \nin this case (Mark posted it on this list a few weeks ago):\nhttp://betathoughts.blogspot.com/2007/06/brief-history-of-consensus-2pc-and.html\n\n\nBest wishes,\n\nBruno.\n\n"}}
{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":87113616,"authorName":"S. Mike Dierken","from":"&quot;S. Mike Dierken&quot; &lt;mdierken@...&gt;","profile":"mdierken","replyTo":"SENDER","senderId":"3dwM_CjfqaBEBkBqdnC2vnsTDcktiZbF6-HbL7XedrThQMW0k93KFa8qn6bAkXpRYjgfg5nHpUG-JL_lifXkLNAn2b7KUXZ_fAdj_pJpfQ","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [rest-discuss] REST and travel agents revisited","postDate":"1022917532","msgId":1371,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PE9FNTQ5Y0ZmVHVQelU5ZFpkMEYwMDAwYjMzNUBob3RtYWlsLmNvbT4=","referencesHeader":"PDNDQzYzODI5LkE5MkNDOTg5QHByZXNjb2QubmV0PiA8NS4xLjAuMTQuMC4yMDAyMDQxOTIxNTgyNS4wMWM2MzAwOEAxOTIuMTY4LjAuNT4gPDUuMS4wLjE0LjAuMjAwMjA0MjAwODM0NDAuMDFhZTJhMzBAMTkyLjE2OC4wLjU+IDw1LjEuMC4xNC4wLjIwMDIwNDIxMDc1MjU2LjAxYzc5ZWMwQDE5Mi4xNjguMC41PiA8M0NDNjM4MjkuQTkyQ0M5ODlAcHJlc2NvZC5uZXQ+IDw1LjEuMC4xNC4wLjIwMDIwNTI5MjA1NjU4LjAxYzBiM2MwQDE5Mi4xNjguMC41Pg=="},"prevInTopic":1370,"nextInTopic":1372,"prevInTime":1370,"nextInTime":1372,"topicId":1078,"numMessagesInTopic":37,"msgSnippet":"... From: Robert Leftwich  ... hypertext wiki page along with the comment No attempts to RESTify this example have been reported","rawEmail":"Return-Path: &lt;mdierken@...&gt;\r\nX-Sender: mdierken@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nReceived: (EGP: mail-8_0_3_2); 1 Jun 2002 07:41:42 -0000\r\nReceived: (qmail 55407 invoked from network); 1 Jun 2002 07:41:42 -0000\r\nReceived: from unknown (66.218.66.217)\n  by m15.grp.scd.yahoo.com with QMQP; 1 Jun 2002 07:41:42 -0000\r\nReceived: from unknown (HELO hotmail.com) (64.4.16.47)\n  by mta2.grp.scd.yahoo.com with SMTP; 1 Jun 2002 07:41:42 -0000\r\nReceived: from mail pickup service by hotmail.com with Microsoft SMTPSVC;\n\t Sat, 1 Jun 2002 00:41:41 -0700\r\nTo: &lt;rest-discuss@yahoogroups.com&gt;,\n\t&quot;Robert Leftwich&quot; &lt;robert@...&gt;\r\nReferences: &lt;3CC63829.A92CC989@...&gt; &lt;5.1.0.14.0.20020419215825.01c63008@192.168.0.5&gt; &lt;5.1.0.14.0.20020420083440.01ae2a30@192.168.0.5&gt; &lt;5.1.0.14.0.20020421075256.01c79ec0@192.168.0.5&gt; &lt;3CC63829.A92CC989@...&gt; &lt;5.1.0.14.0.20020529205658.01c0b3c0@192.168.0.5&gt;\r\nSubject: Re: [rest-discuss] REST and travel agents revisited\r\nDate: Sat, 1 Jun 2002 00:45:32 -0700\r\nMIME-Version: 1.0\r\nContent-Type: text/plain;\n\tcharset=&quot;iso-8859-1&quot;\r\nContent-Transfer-Encoding: 7bit\r\nX-Priority: 3\r\nX-MSMail-Priority: Normal\r\nX-Mailer: Microsoft Outlook Express 5.50.4133.2400\r\nX-MimeOLE: Produced By Microsoft MimeOLE V5.50.4133.2400\r\nMessage-ID: &lt;OE549cFfTuPzU9dZd0F0000b335@...&gt;\r\nX-OriginalArrivalTime: 01 Jun 2002 07:41:41.0892 (UTC) FILETIME=[C5620440:01C2093F]\r\nFrom: &quot;S. Mike Dierken&quot; &lt;mdierken@...&gt;\r\nX-Yahoo-Group-Post: member; u=87113616\r\nX-Yahoo-Profile: mdierken\r\n\r\n\n----- Original Message -----\nFrom: &quot;Robert Leftwich&quot; &lt;robert@...&gt;\n\n\n&gt; Bob&#39;s adding of the travel agent scenario to the &#39;State machine as\nhypertext&#39; wiki page along with the comment &#39;No attempts to RESTify this\nexample have been reported&#39; prompted me to try out my REST skills - be\nwarned, the training wheels are still on:-)\n&gt;\n&gt; The resources modelled are similar to those identified in the original\ndocument:\n&gt;\n&gt; TripIdentifier\n&gt;     Participants\n&gt;         Participant1\n&gt;         Participant2\n&gt;         ....\n&gt;         ParticipantN\n&gt;     Journey\n&gt;         Stage1\n&gt;         Stage2\n&gt;         ....\n&gt;         StageN\n&gt;\nIf I&#39;m reading this right, it sounds like you are making each item a full\nresource.\nTo me, the data called out in the original document (appended at the end of\nthe message) don&#39;t necessarily need to be full URI resources.\nI don&#39;t see the URIs, their structure or nesting as all that important.\nIn the nested text shown above, the Participant1 could be an independent\nentity that is merely referenced by the trip, rather than being\n&#39;subordinate&#39; to the trip resource.\n\nHere&#39;s how I would do it:\nThe information types seem to be &#39;traveler&#39;, &#39;trip&#39;, &#39;stage&#39;, &#39;participant&#39;,\netc.\nI&#39;d start with a coarse-grained resource like &#39;trip&#39; and expand out into\n&#39;traveler&#39; or &#39;participant&#39; if necessary.\nWithin, I&#39;d have an XML blob with details and any useful links.\n\nThe resources I generated in walking through this are:\n-- submit a new trip --\nhttp://services.travelagents.com/trips/\n-- new trip that was created --\nhttp://services.travelagents.com/trips/0173/\n-- callbacks for airline to confirm reservations --\nhttp://services.travelagents.com/trips/0173/airline/ack/\nhttp://services.travelagents.com/trips/0173/airline/status/\n-- submit new reservations --\nhttp://services.airliner.com/reservations/\n-- new reservation that was created --\nhttp://reservations.airliner.com/agents/travelagents.com/res-0029/\n\nNote - the URIs do /not/ have to be related textually - the URI of the new\nreservation at the airline is even on a different host for example. The\nconnection between all these is through HTTP headers, or they could also be\ndone via href&#39;s inside some XML.\n\n\n-- step one --\nThe overall flow of this example is as follows: A traveler will plan her\ntrip\nby specifying the various stages of his overall journey and all of its\nparticipants. For each of the stages, the traveler specifies the location\nthat\nshe wants to visit as well as the date when she wants to begin and the date\nwhen she wants to end the particular stay. When the traveler is finished\nwith\nthis, she sends this information together with the list of all participants\nof\nthe trip as well as the information about the credit card to be charged for\nthe\nordered tickets to the travel agent.\n\n== Create a new trip ===\nPOST http://services.travelagents.com/trips/ HTTP/1.1\nContent-Type: text/xml\nContent-Model: TripSpecification\n\n&lt;trip&gt;\n&lt;stage&gt;\n &lt;location&gt;maui&lt;/location&gt;\n &lt;start&gt;immediately&lt;/start&gt;\n &lt;finish&gt;never&lt;/finish&gt;\n&lt;/stage&gt;\n&lt;participant&gt;\n &lt;name&gt;Mike&lt;/name&gt;\n&lt;/participant&gt;\n&lt;payment&gt;VISA&lt;/payment&gt;\n&lt;recipient&gt;mdierken@...&lt;/recipient&gt;\n&lt;/trip&gt;\n\n== Acknowledgement of submission (with location of trip) ==\nHTTP/1.1 202 Accepted\nLocation: http://services.travelagents.com/trips/0173/\n\n\n-- step two --\nThe credit card information has been passed when the business process was\ninstantiated.\nNext, the traveler will await the submission of the electronic tickets as\nwell as the final itinerary\nfor the trip.\n\n-- step three --\nWhen the agent receives the traveler&#39;s trip order, he will\ndetermine the legs for each of the stages, which includes an initial seat\nreservation for each of the participants as well as the rate chosen.\nTo actually make the corresponding ticket orders the agent submits these\nlegs together with the information about the credit card to be charged to\nthe\nairline company.\n\n== Create new reservations at airline ===\nPOST http://services.airliner.com/reservations/ HTTP/1.1\nReply-To: http://services.travelagents.com/trips/0173/airline/ack/\nStatus-To: http://services.travelagents.com/trips/0173/airline/status/\nContent-Type: text/xml\nContent-Model: ReservationRequest\nAuthenticiation: Basic [travelagents:password]\n\n&lt;reservation&gt;\n &lt;!-- URI of secure payment verification callback - the airlines have to\nauth to get in --&gt;\n\n&lt;payment&gt;http://services.travelagents.com/payment/verification/xyz/&lt;/payment\n&gt;\n &lt;recipient&gt;mdierken@...&lt;/recipient&gt;\n&lt;leg&gt;\n &lt;flight&gt;UA-1024&lt;/flight&gt;\n &lt;seat&gt;33A&lt;/seat&gt;\n &lt;rate&gt;$12.00&lt;/rate&gt;\n&lt;/leg&gt;\n&lt;leg&gt;\n &lt;flight&gt;NW-832&lt;/flight&gt;\n &lt;seat&gt;22B&lt;/seat&gt;\n &lt;rate&gt;$12.00&lt;/rate&gt;\n&lt;/leg&gt;\n&lt;/reservation&gt;\n\n== Acknowledgement of submission (with location of reservation) ==\nHTTP/1.1 202 Accepted\nLocation: http://reservations.airliner.com/agents/travelagents.com/res-0029/\n\n-- step four --\nWhen the airline receives the ticket order submitted by the agent, the\nrequested seats will be checked and if available assigned to the\ncorresponding\nparticipants. After that, the credit card will be charged, and the updated\nleg\ninformation is sent back to the agent as confirmation of the flights.\n\n-- step five --\nAfter that, the airline sends the electronic tickets by e-mail to the\ntraveler.\nInformation about the recipient of the tickets has been specified by the\ntraveler when instantiating the trip order process and this information is\npassed to the agent as well as to the airline.\n\n-- step six --\nThen, the agent will wait for the confirmation of the flights, which\nespecially includes the actual seats reserved for each of the participants.\nThis information is completed into an itinerary, which is then sent to the\ntraveler.\n\n== Acknowledge new reservation at airline ===\nPOST http://services.travelagents.com/trips/0173/airline/ack/ HTTP/1.1\nContent-Type: text/xml\nContent-Model: ReservationConfirmation\nAuthenticiation: Basic [airliner:password]\n\n&lt;reservation&gt;\n&lt;leg&gt;\n &lt;flight&gt;UA-1024&lt;/flight&gt;\n &lt;seat&gt;33A&lt;/seat&gt;\n &lt;rate&gt;$923.00&lt;/rate&gt;\n&lt;/leg&gt;\n&lt;leg&gt;\n &lt;flight&gt;NW-832&lt;/flight&gt;\n &lt;seat&gt;22B&lt;/seat&gt;\n &lt;rate&gt;$923.00&lt;/rate&gt;\n&lt;/leg&gt;\n&lt;/reservation&gt;\n\n== Confirm receipt of reservation info ==\nHTTP/1.1 200 OK\n\n\n--- scenario from IBM&#39;s WS Flow Language document ---\n&quot;The overall flow of this example is as follows: A traveler will plan her\ntrip\nby specifying the various stages of his overall journey and all of its\nparticipants. For each of the stages, the traveler specifies the location\nthat\nshe wants to visit as well as the date when she wants to begin and the date\nwhen she wants to end the particular stay. When the traveler is finished\nwith\nthis, she sends this information together with the list of all participants\nof\nthe trip as well as the information about the credit card to be charged for\nthe\nordered tickets to the travel agent. The credit card information has been\npassed when the business process was instantiated. Next, the traveler will\nawait the submission of the electronic tickets as well as the final\nitinerary\nfor the trip. When the agent receives the traveler&#39;s trip order, he will\ndetermine the legs for each of the stages, which includes an initial seat\nreservation for each of the participants as well as the rate chosen. To\nactuall\ny make the corresponding ticket orders the agent submits these legs together\nwith the information about the credit card to be charged to the airline\ncompany. Then, the agent will wait for the confirmation of the flights,\nwhich\nespecially includes the actual seats reserved for each of the participants.\nThis information is completed into an itinerary, which is then sent to the\ntraveler.\n\nWhen the airline receives the ticket order submitted by the agent, the\nrequested seats will be checked and if available assigned to the\ncorresponding\nparticipants. After that, the credit card will be charged, and the updated\nleg\ninformation is sent back to the agent as confirmation of the flights. After\nthat, the airline sends the electronic tickets by e-mail to the traveler.\nInformation about the recipient of the tickets has been specified by the\ntraveler when instantiating the trip order process and this information is\npassed to the agent as well as to the airline.&quot;\n\n\n\n"}}
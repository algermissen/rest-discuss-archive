{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":343278744,"authorName":"Subbu Allamaraju","from":"Subbu Allamaraju &lt;subbu@...&gt;","profile":"sallamar","replyTo":"SENDER","senderId":"fBd2-v09dXQwcRZYlzPfCxhZiOEU-4lg5bIuzaw1KXzGetjWQguSCSZZwu3lSQNNxkUy6WPC3Nn2S-tZBJQuRVr2BxGbKqETyw","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [rest-discuss] Errors when generating response entity","postDate":"1300394583","msgId":17403,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDZGMEZDN0Y2LTQ5MzItNDkzNy1BRjcyLTg1NTg5MEQwNkI0NEBzdWJidS5vcmc+","inReplyToHeader":"PDNEREQwQkU2NTU4NjlENEVBNTA2NjUyQjM4MDNBRUY2NzJEODQ2RjZAUFJJU00uY2FmZmVpbmUtaXQubmV0Pg==","referencesHeader":"PDNEREQwQkU2NTU4NjlENEVBNTA2NjUyQjM4MDNBRUY2NzJEODQ2RjZAUFJJU00uY2FmZmVpbmUtaXQubmV0Pg=="},"prevInTopic":17402,"nextInTopic":0,"prevInTime":17402,"nextInTime":17404,"topicId":17402,"numMessagesInTopic":2,"msgSnippet":"There is not anything that the server can do since the response line is already on the wire. Client has to be smart enough to  detect the failure while it is","rawEmail":"Return-Path: &lt;subbu@...&gt;\r\nX-Sender: subbu@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 76944 invoked from network); 17 Mar 2011 20:43:17 -0000\r\nX-Received: from unknown (66.196.94.106)\n  by m17.grp.re1.yahoo.com with QMQP; 17 Mar 2011 20:43:17 -0000\r\nX-Received: from unknown (HELO mail-vx0-f179.google.com) (209.85.220.179)\n  by mta2.grp.re1.yahoo.com with SMTP; 17 Mar 2011 20:43:17 -0000\r\nX-Received: by vxi40 with SMTP id 40so2976858vxi.38\n        for &lt;rest-discuss@yahoogroups.com&gt;; Thu, 17 Mar 2011 13:43:17 -0700 (PDT)\r\nX-Received: by 10.52.0.98 with SMTP id 2mr336478vdd.214.1300394597398;\n        Thu, 17 Mar 2011 13:43:17 -0700 (PDT)\r\nReturn-Path: &lt;subbu@...&gt;\r\nX-Received: from [172.19.131.148] ([12.130.124.19])\n        by mx.google.com with ESMTPS id h18sm1555855vbr.14.2011.03.17.13.43.11\n        (version=SSLv3 cipher=OTHER);\n        Thu, 17 Mar 2011 13:43:16 -0700 (PDT)\r\nMime-Version: 1.0 (Apple Message framework v1082)\r\nContent-Type: text/plain; charset=windows-1252\r\nIn-Reply-To: &lt;3DDD0BE655869D4EA506652B3803AEF672D846F6@...-it.net&gt;\r\nDate: Thu, 17 Mar 2011 13:43:03 -0700\r\nCc: &quot;rest-discuss@yahoogroups.com&quot; &lt;rest-discuss@yahoogroups.com&gt;\r\nContent-Transfer-Encoding: quoted-printable\r\nMessage-Id: &lt;6F0FC7F6-4932-4937-AF72-855890D06B44@...&gt;\r\nReferences: &lt;3DDD0BE655869D4EA506652B3803AEF672D846F6@...-it.net&gt;\r\nTo: Sebastien Lambla &lt;seb@...&gt;\r\nX-Mailer: Apple Mail (2.1082)\r\nFrom: Subbu Allamaraju &lt;subbu@...&gt;\r\nSubject: Re: [rest-discuss] Errors when generating response entity\r\nX-Yahoo-Group-Post: member; u=343278744; y=rqH-UgnlfKe8apu0Xww3047clv7ddW-j5H43RFH77i3o44w\r\nX-Yahoo-Profile: sallamar\r\n\r\nThere is not anything that the server can do since the response line is alr=\r\neady on the wire. Client has to be smart enough to  detect the failure whil=\r\ne it is parsing the body. For instance, a DOM based parser for an XML repre=\r\nsentation might fail where as a stream based parser may be able to make sen=\r\nse partly. Think of other cases when a server said it is going to send &#39;n&#39; =\r\nbytes for the body, but could only send &#39;n-x&#39;, or the application code fail=\r\ned to trigger an end for the response which may lead to the last chunk (the=\r\n zero sized chunk) missing from the response.\n\nIn these cases, in stead of =\r\ntrying to put some error indicator in the body (may not be possible in some=\r\n media types), it is better to trigger a connection:close and drop the conn=\r\nection on the server side so that the client can retry on a fresh connectio=\r\nn - provided the method is idempotent.\n\nSubbu\n\nOn Mar 17, 2011, at 1:12 PM,=\r\n Sebastien Lambla wrote:\n\n&gt; \n&gt; \n&gt; Hi guys,\n&gt;  \n&gt; Here=92s a small design is=\r\nsues I=92m not sure how to resolve. Whenever a problem happen when resolvin=\r\ng a URI on the server, if that problem happens before the entity body start=\r\ns being written back to the client, no problem, the server can generate an =\r\nerror in whichever way is acceptable for the client. In the case where an e=\r\nntity is already being written down, with a 200 already sent, how do you no=\r\ntify the client that you had an error while writing it?\n&gt;  \n&gt; I could injec=\r\nt the content of the error in the body, but then my response will be consid=\r\nered authoritative. Should I just close the connection abruptly instead? Or=\r\n something I=92ve not thought of?\n&gt; \n&gt; \n&gt; \n\n\n"}}
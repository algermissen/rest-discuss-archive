{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":80827773,"authorName":"Seairth Jacobs","from":"&quot;Seairth Jacobs&quot; &lt;seairth@...&gt;","profile":"seairthjacobs","replyTo":"SENDER","senderId":"VicCYZcwpFcr7VYHJ3LiaBadtDU_2_j-WhvlrS_tUGI0avlRnKTMMkxlcSVzfltUw7nKEMMlI3JHRuBvltztfk9_5wk_HC-x151WnF4","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [rest-discuss] ReST and Representing Mailboxes","postDate":"1041883882","msgId":3168,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDAwNjAwMWMyYjViZiRkMzk5MTA4MCRhODAwYThjMEBTZWFpcnRoQTMxPg==","referencesHeader":"PFBpbmUuV05ULjQuNDMuMDMwMTA2MTQzMjMzMC4xMDcyLTEwMDAwMEBmYW5hdGljPg=="},"prevInTopic":3167,"nextInTopic":3169,"prevInTime":3167,"nextInTime":3169,"topicId":3162,"numMessagesInTopic":21,"msgSnippet":"From: S. Alexander Jacobson  ... server ... will ... any ... could ... You would only need to use the redirection if you do not have direct","rawEmail":"Return-Path: &lt;seairth@...&gt;\r\nX-Sender: seairth@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nReceived: (EGP: mail-8_2_3_0); 6 Jan 2003 20:11:45 -0000\r\nReceived: (qmail 3977 invoked from network); 6 Jan 2003 20:11:45 -0000\r\nReceived: from unknown (66.218.66.218)\n  by m5.grp.scd.yahoo.com with QMQP; 6 Jan 2003 20:11:45 -0000\r\nReceived: from unknown (HELO lakemtao01.cox.net) (68.1.17.244)\n  by mta3.grp.scd.yahoo.com with SMTP; 6 Jan 2003 20:11:45 -0000\r\nReceived: from SeairthA31 ([68.96.198.43]) by lakemtao01.cox.net\n          (InterMail vM.5.01.04.05 201-253-122-122-105-20011231) with SMTP\n          id &lt;20030106201145.UIOW4411.lakemtao01.cox.net@SeairthA31&gt;\n          for &lt;rest-discuss@yahoogroups.com&gt;;\n          Mon, 6 Jan 2003 15:11:45 -0500\r\nMessage-ID: &lt;006001c2b5bf$d3991080$a800a8c0@SeairthA31&gt;\r\nTo: &quot;rest-discuss&quot; &lt;rest-discuss@yahoogroups.com&gt;\r\nReferences: &lt;Pine.WNT.4.43.0301061432330.1072-100000@fanatic&gt;\r\nSubject: Re: [rest-discuss] ReST and Representing Mailboxes\r\nDate: Mon, 6 Jan 2003 15:11:22 -0500\r\nMIME-Version: 1.0\r\nContent-Type: text/plain;\n\tcharset=&quot;iso-8859-1&quot;\r\nContent-Transfer-Encoding: 7bit\r\nX-Priority: 3\r\nX-MSMail-Priority: Normal\r\nX-Mailer: Microsoft Outlook Express 6.00.2800.1106\r\nX-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106\r\nFrom: &quot;Seairth Jacobs&quot; &lt;seairth@...&gt;\r\nX-Yahoo-Group-Post: member; u=80827773\r\nX-Yahoo-Profile: seairthjacobs\r\n\r\nFrom: &quot;S. Alexander Jacobson&quot; &lt;alex@...&gt;\n&gt;\n&gt; On Mon, 6 Jan 2003, Seairth Jacobs wrote:\n&gt; &gt; 2) There is nothing in REST that says the URI must identify a specific\n&gt; &gt; directory location.  As a result, you could create the necessary URIs up\n&gt; &gt; front and just keep an internal map to the actual location.  If the\nserver\n&gt; &gt; wants to move an attachment, it just needs to update the map.  The URI\nwill\n&gt; &gt; still &quot;point to&quot;  the attachment (i.e. the resource/representation isn&#39;t\nany\n&gt; &gt; different).  If you are doing this across multiple web servers, you\ncould\n&gt; &gt; also use the map table to instead return an appropriate HTTP 301 &quot;Moved\n&gt; &gt; Permanently&quot; or 302 &quot;Found&quot; to redirect the client to the actual URI.\n&gt;\n&gt; I&#39;m not sure I understand what you mean.  I\n&gt; suppose I could commit to a metadata format that\n&gt; does not actually include the actual URL but\n&gt; intead includes the URL of a redirect to the\n&gt; actual URL, but that doubles server round trips\n&gt; and I would like to avoid that as well.\n\nYou would only need to use the redirection if you do not have direct access\nto the attachment location.  However, if you do, then imagine the following:\n\nA message is posted with one attachment.  The URI created for that one\nattachment is:\n\n    http://www.sample.invalid/mail/attachments/1032\n\nNow, conventional &quot;static&quot; servers would have the particular path mapped to\na folder such as:\n\nc:&#92;inetput&#92;wwwroot&#92;mail&#92;attachments&#92;1032\n\nHowever, the above path could also just be treated as a key into a map/table\nthat pointed to the actual directory location:\n\nkey        path\n1030      d:&#92;extraspace&#92;1030&#92;\n1031      d:&#92;extraspace&#92;1031&#92;\n1032      &#92;&#92;remoteserver&#92;data&#92;attachments&#92;45&#92;\n1033      &#92;&#92;removeserver&#92;data&#92;attachments&#92;72&#92;\n\nNow, when someone does a GET on the above URI, you see where the server has\nmapped the path to (in this case &quot;&#92;&#92;remoteserver&#92;data&#92;attachments&#92;45&#92;&quot;) and\nreturn the file(s) from there.  No redirections needed.  As Roy mentioned in\nhis reply, there is nothing in HTTP or REST that requires URI paths to match\ndirectory paths.  That&#39;s an implementation feature of most web servers, but\njust because it&#39;s a convenience for handling static resources.  Nothing in\nthe books says this is required...\n\n---\nSeairth Jacobs\nseairth@...\n\n\n\n\n&gt; &gt; 3) I am uneasy about the range feature of HTTP.  It doesn&#39;t feel very\n&gt; &gt; extensible to me (e.g. if you message format changed, range calculations\n&gt; &gt; would have to change as well).\n&gt;\n&gt; Yes, that is exactly why range headers don&#39;t\n&gt; appear to be an answer to the question I am\n&gt; asking.\n&gt;\n&gt; &gt; 4) (this is more of a question to the whole list) Would it be RESTful to\n&gt; &gt; maintain a resource whose response to a GET only contained the new\nitems?\n&gt; &gt; For instance, suppose after each successful GET of a mail message, the\n&gt; &gt; client were to POST the URI to this resource.  On a GET of this\nresource,\n&gt; &gt; the server would return all message URIs for which it had not been\nnotified\n&gt; &gt; of by the POST(s).  This technique would also obviate the need for the\nHTTP\n&gt; &gt; range technique.\n&gt;\n&gt; Hmm, this looks interesting.  A variant of this\n&gt; proposal would be for the server to return the URL\n&gt; at which it will serve the next set of messages\n&gt; even if those messages don&#39;t yet exist... I&#39;m not\n&gt; sure how RESTful that would be either.\n&gt;\n&gt; -Alex-\n&gt;\n&gt; ___________________________________________________________________\n&gt; S. Alexander Jacobson                   i2x Media\n&gt; 1-212-787-1914 voice                    1-603-288-1280 fax\n&gt;\n&gt;\n&gt;\n&gt;\n&gt; &gt;\n&gt; &gt; ----- Original Message -----\n&gt; &gt; From: &quot;S. Alexander Jacobson&quot; &lt;alex@...&gt;\n&gt; &gt; To: &quot;S. Mike Dierken&quot; &lt;mdierken@...&gt;\n&gt; &gt; Cc: &lt;rest-discuss@yahoogroups.com&gt;\n&gt; &gt; Sent: Monday, January 06, 2003 12:41 PM\n&gt; &gt; Subject: Re: [rest-discuss] ReST and Representing Mailboxes\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; &gt; Perhaps I wasn&#39;t clear.  There may be a large\n&gt; &gt; &gt; number of messages and, ideally, I only want the\n&gt; &gt; &gt; client to retrieve new messages.\n&gt; &gt; &gt;\n&gt; &gt; &gt; Again, my initial instinct here was that I could\n&gt; &gt; &gt; use range-headers (because the mailbox only\n&gt; &gt; &gt; grows), but, even if I just return metadata, I\n&gt; &gt; &gt; want to give the server the option of moving the\n&gt; &gt; &gt; actual messages to different URLs.\n&gt; &gt; &gt;\n&gt; &gt; &gt; Unfortunately, there is no guarantee that the new\n&gt; &gt; &gt; URL will have the same length as the old.  So\n&gt; &gt; &gt; changing all the URLs in the folder could\n&gt; &gt; &gt; radically change its length, thereby precluding\n&gt; &gt; &gt; use of range headers to get new messages.\n&gt; &gt; &gt;\n&gt; &gt; &gt; Does this make sense now?\n&gt; &gt; &gt;\n&gt; &gt; &gt; -Alex-\n&gt; &gt; &gt;\n&gt; &gt; &gt; PS I really want the server to be able to choose\n&gt; &gt; &gt; on a per-message basis whether to return the\n&gt; &gt; &gt; whole message or simply a URL but URL changes\n&gt; &gt; &gt; illustrate my pount sufficiently well.\n&gt; &gt; &gt;\n&gt; &gt; &gt; ___________________________________________________________________\n&gt; &gt; &gt; S. Alexander Jacobson                   i2x Media\n&gt; &gt; &gt; 1-212-787-1914 voice                    1-603-288-1280 fax\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt; On Sun, 5 Jan 2003, S. Mike Dierken wrote:\n&gt; &gt; &gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; ----- Original Message -----\n&gt; &gt; &gt; &gt; From: &quot;S. Alexander Jacobson&quot; &lt;alex@...&gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; I am trying to figure out how to create a ReST\n&gt; &gt; &gt; &gt; &gt; interface to a mailfolder.\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; Initially, I figured I could simply POST messages\n&gt; &gt; &gt; &gt; &gt; and have them appended to the mailfolder and then\n&gt; &gt; &gt; &gt; &gt; GET with range-headers to see if anyone has added\n&gt; &gt; &gt; &gt; &gt; anything new since the last time I checked the\n&gt; &gt; &gt; &gt; &gt; folder.\n&gt; &gt; &gt; &gt; When you GET, is the response a list of current messages or the\nactual\n&gt; &gt; &gt; &gt; content of the messages?\n&gt; &gt; &gt; &gt; I&#39;d go with a list of messages & use\nlast-modified/if-modified-since,\n&gt; &gt; etc.\n&gt; &gt; &gt; &gt; to check for new messages.\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; Any thoughts on how to solve this without forcing\n&gt; &gt; &gt; &gt; &gt; the client to GET the entire folder each time?\n&gt; &gt; &gt; &gt; Get a collection of references to messages, each with a little\nmetadata.\n&gt; &gt; &gt; &gt; Retrieve content with later requests.\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; -- ask for snapshot of inbox, providing username/password --\n&gt; &gt; &gt; &gt; GET /pop/user-99/inbox/ HTTP/1.1\n&gt; &gt; &gt; &gt; Authentication: Basic WZYSHS=\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; -- snapshot of inbox --\n&gt; &gt; &gt; &gt; Content-Type: text/xml\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &lt;folder&gt;\n&gt; &gt; &gt; &gt;  &lt;item href=&#39;/pop/user-99/msgs/msg1024&#39; from=&#39;joe@...&#39; /&gt;\n&gt; &gt; &gt; &gt; &lt;/folder&gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt;\n&gt;\n&gt;\n\n\n"}}
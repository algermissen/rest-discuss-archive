{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":270091071,"authorName":"Chris Burdess","from":"Chris Burdess &lt;dog@...&gt;","replyTo":"SENDER","senderId":"VnkCsFp4L-Z_grXoAgKyYs_IVVhdbo1S5oyuEBNS7L-tGXdhXfVuN8rHPw1DpWRwCFCt9euaqquNbcFEOCjlqCVPpfxdjw","spamInfo":{"isSpam":false,"reason":"3"},"subject":"Re: [rest-discuss] Message queues","postDate":"1181758498","msgId":8999,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDIwMDcwNjEzMTgxNDU2LkdBMjU2QGdyZXlob3VuZC5sb2NhbD4=","inReplyToHeader":"PDg3NHBsYjk2ZHIuZnNmQG1pY3JvamV0LmF0aC5jeD4=","referencesHeader":"PDIwMDcwNjEyMjAwODIwLkdEOTgwN0BzbGlua3AuY29tPiA8ODc4eGFvNTJ1Ni5mc2ZAa2FuZ2EudGFwc2VsbGZlcnJpZXIuY28udWs+IDw4N2Q0eno5YWtwLmZzZkBtaWNyb2pldC5hdGguY3g+IDwyMDA3MDYxMzE1NDczMS5HQTI0OTQ3QGJsdWV6b28ub3JnPiA8ODc0cGxiOTZkci5mc2ZAbWljcm9qZXQuYXRoLmN4Pg=="},"prevInTopic":8998,"nextInTopic":9000,"prevInTime":8998,"nextInTime":9000,"topicId":8955,"numMessagesInTopic":70,"msgSnippet":"... No. Another DELETE will return 404 because the message has been deleted. Note, we don t DELETE the queue URL, we DELETE the message URL. Idempotence","rawEmail":"Return-Path: &lt;dog@...&gt;\r\nX-Sender: dog@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nReceived: (qmail 46719 invoked from network); 13 Jun 2007 18:15:47 -0000\r\nReceived: from unknown (66.218.66.166)\n  by m41.grp.scd.yahoo.com with QMQP; 13 Jun 2007 18:15:47 -0000\r\nReceived: from unknown (HELO greyhound.local) (82.69.92.124)\n  by mta5.grp.scd.yahoo.com with SMTP; 13 Jun 2007 18:15:47 -0000\r\nReceived: by greyhound.local (Postfix, from userid 501)\n\tid 5E6741A712B; Wed, 13 Jun 2007 19:14:59 +0100 (BST)\r\nDate: Wed, 13 Jun 2007 19:14:58 +0100\r\nTo: Yohanes Santoso &lt;yahoo-rest-discuss@...&gt;\r\nCc: rest-discuss@yahoogroups.com\r\nMessage-ID: &lt;20070613181456.GA256@...&gt;\r\nReferences: &lt;20070612200820.GD9807@...&gt; &lt;878xao52u6.fsf@...&gt; &lt;87d4zz9akp.fsf@...&gt; &lt;20070613154731.GA24947@...&gt; &lt;874plb96dr.fsf@...&gt;\r\nMime-Version: 1.0\r\nContent-Type: text/plain; charset=us-ascii\r\nContent-Disposition: inline\r\nContent-Transfer-Encoding: quoted-printable\r\nIn-Reply-To: &lt;874plb96dr.fsf@...&gt;\r\nUser-Agent: Mutt/1.4.2.2i\r\nOrganization: the mireval massive\r\nX-eGroups-Msg-Info: 2:3:4:0\r\nFrom: Chris Burdess &lt;dog@...&gt;\r\nSubject: Re: [rest-discuss] Message queues\r\nX-Yahoo-Group-Post: member; u=270091071\r\n\r\nYohanes Santoso wrote:\n&gt; Chris Burdess &lt;dog@...&gt; writes:\n&gt; &gt; I&#39;m st=\r\nill unclear why the queue cannot be implemented using DELETE to\n&gt; &gt; pop the=\r\n queue entry. \n&gt; \n&gt; Because that would have been too easy, right? :)\n&gt; \n&gt; D=\r\nELETE has to be idempotent. If it returns you message A the first\n&gt; time, t=\r\nhen if there is nothing else happening afterwards, another\n&gt; DELETE should =\r\nreturn message A again too.\n\nNo. Another DELETE will return 404 because the=\r\n message has been deleted.\nNote, we don&#39;t DELETE the queue URL, we DELETE t=\r\nhe message URL.\n\nIdempotence doesn&#39;t mean that the DELETE will always retur=\r\nn the same status\ncode and/or entity on successive requests. It means that =\r\nthe state of the\nserver will be the same whether you have 1 DELETE or more =\r\nthan 1 DELETE\nof the same URL.\n\n&gt; So, how do you advance to\n&gt; the next mess=\r\nage? You would have to do something so that the next\n&gt; DELETE returns a dif=\r\nferent message, but that means DELETE alone is not\n&gt; doing the popping.\n\nAs=\r\n I said the queue provides a list of the message URLs.\n\n&gt; Furthermore, even=\r\n if DELETE does the popping, the network is not\n&gt; reliable. There will be c=\r\nases where you need to retry that\n&gt; operation. How do you do that if the po=\r\npping is not retryable?\n\nFair point.\n-- \nChris Burdess\n\n"}}
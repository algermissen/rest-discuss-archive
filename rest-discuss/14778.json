{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":266460716,"authorName":"Eric J. Bowman","from":"&quot;Eric J. Bowman&quot; &lt;eric@...&gt;","replyTo":"SENDER","senderId":"7hrNooCbDW4AazomyKutPEP9_FMyFhPICWlu6o33vztWVT2EwZLqPcWUxC_Nhiu64-p_j-J6OxJLD81ISYAS9VQnVM307zHRficlK2AJJg","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [rest-discuss] Content Negotiation","postDate":"1266457904","msgId":14778,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDIwMTAwMjE3MTg1MTQ0LmMzM2M3YjJjLmVyaWNAYmlzb25zeXN0ZW1zLm5ldD4=","inReplyToHeader":"PDU4MWJmNjE2MTAwMjE3MTQyMmhlNDJiNWNpOGMxODJhOWQ2YTE0YzA2N0BtYWlsLmdtYWlsLmNvbT4=","referencesHeader":"PGhsYmdjNStrcm5oQGVHcm91cHMuY29tPgk8MjAxMDAyMTUyMzI0NTcuYTdiYzI5YWUuZXJpY0BiaXNvbnN5c3RlbXMubmV0Pgk8MjhGNTE4MTUtMEI4RC00ODczLUJDRjQtODI3QTlDN0QyRDZEQGlubm9xLmNvbT4JPDIwMTAwMjE3MTMzNDEwLjM0YjFhOTUyLmVyaWNAYmlzb25zeXN0ZW1zLm5ldD4JPDdCNDQ4NTVCLTVBQ0EtNEM3MC05OThBLUEyRjU4Q0FBQ0NGM0Bpbm5vcS5jb20+CTw1ODFiZjYxNjEwMDIxNzE0MjJoZTQyYjVjaThjMTgyYTlkNmExNGMwNjdAbWFpbC5nbWFpbC5jb20+"},"prevInTopic":14777,"nextInTopic":14779,"prevInTime":14777,"nextInTime":14779,"topicId":14753,"numMessagesInTopic":21,"msgSnippet":"Let s put this much more simply.  Say we have: /resource?format=pdf /resource?format=html What happens if I curl each one in succession?  Well, curl will save ","rawEmail":"Return-Path: &lt;eric@...&gt;\r\nX-Sender: eric@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 12065 invoked from network); 18 Feb 2010 01:52:05 -0000\r\nX-Received: from unknown (98.137.34.46)\n  by m3.grp.sp2.yahoo.com with QMQP; 18 Feb 2010 01:52:05 -0000\r\nX-Received: from unknown (HELO mxout-08.mxes.net) (216.86.168.183)\n  by mta3.grp.sp2.yahoo.com with SMTP; 18 Feb 2010 01:52:05 -0000\r\nX-Received: from bigbison (unknown [65.117.211.162])\n\t(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))\n\t(No client certificate requested)\n\tby smtp.mxes.net (Postfix) with ESMTPSA id EC0B6509B4;\n\tWed, 17 Feb 2010 20:52:00 -0500 (EST)\r\nDate: Wed, 17 Feb 2010 18:51:44 -0700\r\nTo: Guilherme Silveira &lt;guilherme.silveira@...&gt;\r\nCc: Stefan Tilkov &lt;stefan.tilkov@...&gt;, javier &lt;vrhj2000@...&gt;,\n rest-discuss@yahoogroups.com\r\nMessage-Id: &lt;20100217185144.c33c7b2c.eric@...&gt;\r\nIn-Reply-To: &lt;581bf6161002171422he42b5ci8c182a9d6a14c067@...&gt;\r\nReferences: &lt;hlbgc5+krnh@...&gt;\n\t&lt;20100215232457.a7bc29ae.eric@...&gt;\n\t&lt;28F51815-0B8D-4873-BCF4-827A9C7D2D6D@...&gt;\n\t&lt;20100217133410.34b1a952.eric@...&gt;\n\t&lt;7B44855B-5ACA-4C70-998A-A2F58CAACCF3@...&gt;\n\t&lt;581bf6161002171422he42b5ci8c182a9d6a14c067@...&gt;\r\nOrganization: Bison Systems Corporation\r\nX-Mailer: Sylpheed 2.6.0 (GTK+ 2.10.14; i686-pc-mingw32)\r\nMime-Version: 1.0\r\nContent-Type: text/plain; charset=US-ASCII\r\nContent-Transfer-Encoding: 7bit\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: &quot;Eric J. Bowman&quot; &lt;eric@...&gt;\r\nSubject: Re: [rest-discuss] Content Negotiation\r\nX-Yahoo-Group-Post: member; u=266460716\r\n\r\nLet&#39;s put this much more simply.  Say we have:\n\n/resource?format=pdf\n/resource?format=html\n\nWhat happens if I curl each one in succession?  Well, curl will save\nthe first as &#39;resource&#39; and the second as &#39;resource.1&#39;.  If conneg is\nenabled at /resource, and we use curl to send appropriate Accept\nheaders, it will still save the files as &#39;resource&#39; and &#39;resource.1&#39;\nbecause curl ignores the query -- whether it&#39;s part of the requested\nURL or sent in a Content-Location response header.\n\nQuestion:  Is curl broken, or is the server getting RFC 3986 wrong,\nthereby violating REST&#39;s Identification of Resources constraint, which\nrequires us (for all intents and purposes) to obey RFC 3986?\n\n&quot;\nAll URI references are parsed by generic syntax parsers when used.(...)\nURI scheme specifications can define opaque identifiers by disallowing\nuse of slash characters, question mark characters, and the URIs\n&quot;scheme:.&quot; and &quot;scheme:..&quot;.\n&quot;\n\nThe HTTP scheme is *not* opaque, because it allows &#39;/&#39;, &#39;.&#39;, &#39;..&#39; and\n&#39;?&#39;.  I don&#39;t care if the generic-syntax URI parser is in curl or in an\nintermediary&#39;s client connector or in the origin&#39;s server connector.  It\nmust handle the request in a non-generic fashion (i.e. by using\nmod_rewrite) to correlate a query with a file format, whereas using a\nfilename extension is an unambiguous method of solving this problem,\nwhich has the benefit of &quot;flowing naturally, in harmony with the\nsystem&quot;.\n\nTo the extent that curl will know to save resource.pdf and resource.html\nto disk, as will anything based on generic URI parsing.  The saved PDF\nrepresentation may be opened in the proper application automatically.\nThe common understanding encapsulated in RFC 3986 is that, &quot;The query\ncomponent contains non-hierarchical data...&quot;.  I contend that the format\nof a representation is part of a system&#39;s hierarchical data.  The proof\nis right there in curl, which sees no hierarchy when it&#39;s saving\n&#39;resource&#39; and &#39;resource.1&#39; to disk, while obviously recognizing .pdf\nand .html as part of a hierarchy of representations, whether by direct\ndereferencing or by presence in a Content-Location response header.\n\nThe demo I recently posted shows exactly what is meant by URI opacity\nin REST.  The client-side XSLT code (which describes the API) could\ncare less about the URI allocation scheme, aside from sometimes checking\nfor the presence of a fragment (like &#39;/&#39; and &#39;?&#39;, the octothorpe is a\nreserved character in URIs), or generating relative URLs based on the\nhierarchy of my allocation scheme.\n\nBut it&#39;s still treating URIs opaquely -- links are derived from the\nlink relations in the source documents, which are read from @href&#39;s.\nThere is no analysis of those @href contents by keyword or filename\nextension to determine &quot;resource type&quot;.  Clients aren&#39;t required to know\nany specifics of a URI&#39;s pattern.  That would be coupling, which is\ndiametrically opposed to the notion of URI opacity in REST.\n\nDon&#39;t get carried away by saying that my treating URIs as hierarchical\nor testing whether they have fragments or not, amounts to a failure to\ntreat URIs as opaque.  Can you point to some constraint in REST that\nI&#39;m breaking?  Can you find any support from Roy to back up this notion\nthat URI opacity means that query and filename extension are the same?\nAre there any generic URI parsers you can point me to, which treat\nquery strings opaquely?  Or do they all consider &#39;?&#39; to be a reserved\ncharacter?\n\nI simply find no support in REST for this extreme notion that URIs\ncan&#39;t be treated as hierarchical, or that it&#39;s an error to consider a\nquery string any differently than a filename extension.  In fact, the\nonly reference I can find in REST to anything being &quot;opaque&quot; is cookies.\nSo the onus is not on me to prove that Roy isn&#39;t being clear as daylight\nwhen he says that &quot;query is not a substitute for identification of\nresources&quot;, but on you who think it could possibly mean any different\nto support *your* arguments.  :-)\n\n-Eric\n\n"}}
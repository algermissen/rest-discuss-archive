{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":322284523,"authorName":"aakash dharmadhikari","from":"aakash dharmadhikari &lt;aakashd@...&gt;","profile":"aakashdharma","replyTo":"SENDER","senderId":"qxE0meVPmtAxL4ncgTALheHxE2OQH7pvst6jyg_rTx_MTEh_IDUVigbvMST-N0rWor03u-bfYixHph-jA5Eyy9ia1vdwHW5rOnCRMjBWtQ","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [rest-discuss] Should GET be used if request has unintended side effects","postDate":"1305691251","msgId":17534,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDRERDM0NDczLjgwMTA2MDVAZ21haWwuY29tPg==","inReplyToHeader":"PEJBTkxrVGluVllOTEJ6TkNGQTFLTDZVZ2JQS1NHR1ZOMjhnQG1haWwuZ21haWwuY29tPg==","referencesHeader":"PDRERDE2ODU1LjgwNzA5MDRAZ21haWwuY29tPgk8NjBFNzIwRDctOUYxNy00NzcxLThDNTQtMkQ0NkM4NjQyM0QzQGFzdHJvLmdsYS5hYy51az4JPDRERDJCRTg0LjkwMjA4MDhAZ21haWwuY29tPgk8QkFOTGtUaWtKK2dCbi1oYjZ0UjAzdStSN1ZvPWN4REFheXdAbWFpbC5nbWFpbC5jb20+CTw0REQyQzE4Qy45MDMwMDAxQGdtYWlsLmNvbT4gPEJBTkxrVGluVllOTEJ6TkNGQTFLTDZVZ2JQS1NHR1ZOMjhnQG1haWwuZ21haWwuY29tPg=="},"prevInTopic":17533,"nextInTopic":17535,"prevInTime":17533,"nextInTime":17535,"topicId":17527,"numMessagesInTopic":11,"msgSnippet":"I think in my failed attempt to address two issues, I created more confusion that clarity. 1. Unfortunately, due to clients NDA, I can t explain complete work","rawEmail":"Return-Path: &lt;aakashd@...&gt;\r\nX-Sender: aakashd@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 83754 invoked from network); 18 May 2011 04:00:57 -0000\r\nX-Received: from unknown (98.137.34.46)\n  by m6.grp.sp2.yahoo.com with QMQP; 18 May 2011 04:00:57 -0000\r\nX-Received: from unknown (HELO mail-pz0-f41.google.com) (209.85.210.41)\n  by mta3.grp.sp2.yahoo.com with SMTP; 18 May 2011 04:00:57 -0000\r\nX-Received: by pzk4 with SMTP id 4so740449pzk.0\n        for &lt;rest-discuss@yahoogroups.com&gt;; Tue, 17 May 2011 21:00:56 -0700 (PDT)\r\nX-Received: by 10.142.242.16 with SMTP id p16mr822474wfh.424.1305691256389;\n        Tue, 17 May 2011 21:00:56 -0700 (PDT)\r\nReturn-Path: &lt;aakashd@...&gt;\r\nX-Received: from Precious.local ([122.179.35.151])\n        by mx.google.com with ESMTPS id k7sm1044868wfa.2.2011.05.17.21.00.53\n        (version=SSLv3 cipher=OTHER);\n        Tue, 17 May 2011 21:00:55 -0700 (PDT)\r\nMessage-ID: &lt;4DD34473.8010605@...&gt;\r\nDate: Wed, 18 May 2011 09:30:51 +0530\r\nOrganization: C42 Engineering\r\nUser-Agent: Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10.6; en-US; rv:1.9.2.17) Gecko/20110414 Lightning/1.0b2 Thunderbird/3.1.10\r\nMIME-Version: 1.0\r\nTo: mike amundsen &lt;mamund@...&gt;\r\nCc: Norman Gray &lt;norman@...&gt;, rest-discuss@yahoogroups.com\r\nReferences: &lt;4DD16855.8070904@...&gt;\t&lt;60E720D7-9F17-4771-8C54-2D46C86423D3@...&gt;\t&lt;4DD2BE84.9020808@...&gt;\t&lt;BANLkTikJ+gBn-hb6tR03u+R7Vo=cxDAayw@...&gt;\t&lt;4DD2C18C.9030001@...&gt; &lt;BANLkTinVYNLBzNCFA1KL6UgbPKSGGVN28g@...&gt;\r\nIn-Reply-To: &lt;BANLkTinVYNLBzNCFA1KL6UgbPKSGGVN28g@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: aakash dharmadhikari &lt;aakashd@...&gt;\r\nSubject: Re: [rest-discuss] Should GET be used if request has unintended side\n effects\r\nX-Yahoo-Group-Post: member; u=322284523; y=fnLimN7nQ05M-ursPkUnBCIVEZH_5ztUUqKfbcU8mRsm-m5IG_2oVvo_dZSFe4qtiHWVCgt1T6DlAzc\r\nX-Yahoo-Profile: aakashdharma\r\n\r\nI think in my failed attempt to address two issues, I created more \nconfusion that clarity.\n\n1. Unfortunately, due to clients NDA, I can&#39;t explain complete work flow \nwhich caused the misunderstanding. From overall mails I saw people \ndigressing from core problem due to the &quot;email sharing&quot;  assumption. In \norder to get an unbiased opinion I wanted to pose a different use case. \nThat&#39;s where the &quot;non scary&quot; part come in.\n\n2. I have gone through the RFC2616 & some resources for REST; just to \nfind that HTTP talks about user&#39;s intention & REST talks about server \nstate. When we use both of them together, there is a lot of confusion \nabout which prevails over the other.\n\n3. About the last hypothetical scenario of search, should a fetch \nrequest with an unintentional side effect be treated as PUT or POST or \nPARTIAL?\n\nRegards,\nAakash Dharmadhikari\n\n\nOn 18/05/11 12:23 AM, mike amundsen wrote:\n&gt; Aakash:\n&gt;\n&gt; I&#39;m not clear on what you are asking here.\n&gt;\n&gt; The only point I was making was to give you a &quot;mental exercise&quot; for\n&gt; making your own decision on what you want your implementation to do. I\n&gt; think you can use the example I gave to view your implementation from\n&gt; both the &quot;user&quot; and &quot;server implementor&quot; point of view. That, I think\n&gt; is the approach you should take.\n&gt;\n&gt; As for your example here, I can&#39;t really comment on what is &quot;scary&quot; or\n&gt; &quot;expected&quot; from the users of your implementation. I suspect we all\n&gt; have our own opinions of your description, but I doubt many of us have\n&gt; a proper &quot;context&quot; with which to provide you helpful advice on this\n&gt; particular example.\n&gt;\n&gt;  From the transfer protocol point of view, users are not &quot;responsible&quot;\n&gt; for any side effects occurring from a GET as the protocol clearly\n&gt; states that GET should be treated as safe and idempotent. How you\n&gt; choose to implement your server is up to you. As long as it honors\n&gt; this small set of semantic expectations, you&#39;ll have met your\n&gt; responsibilities as a server implementer.\n&gt;\n&gt; If it turns out most of your users are unhappy with the side effects\n&gt; of using GET on a particular page, they may come to decide your\n&gt; implementation is undesirable. But those users&#39; opinions of your work\n&gt; will not be due to any prose they find in RFC2616&lt;g&gt;.\n&gt;\n&gt; mca\n&gt; http://amundsen.com/blog/\n&gt; http://twitter.com@mamund\n&gt; http://mamund.com/foaf.rdf#me\n&gt;\n&gt;\n&gt; #RESTFest 2010\n&gt; http://rest-fest.googlecode.com\n&gt;\n&gt;\n&gt;\n&gt;\n&gt; On Tue, May 17, 2011 at 14:42, aakash dharmadhikari&lt;aakashd@...&gt;  wrote:\n&gt;&gt; Just twisting the scenario a little bit.\n&gt;&gt;\n&gt;&gt; As a user I make a search request, which results in vendors knowing what I\n&gt;&gt; am interested in&  they respond with quotes for the same. I see those quotes\n&gt;&gt; on my screen as a small window, which updates itself every 15 seconds&  I\n&gt;&gt; can decide which vendor I want to talk to.\n&gt;&gt;\n&gt;&gt; I hope this sounds less scary that all vendors getting my email address. But\n&gt;&gt; coming back to the point, is any side effect is GET request?\n&gt;&gt;\n&gt;&gt; What about a scenario, where system learns from my interactions with the\n&gt;&gt; application&  because of which it changes its response to suite my needs. So\n&gt;&gt; any two consecutive requests, though identical, won&#39;t be idempotent. Should\n&gt;&gt; such request be GET or POST or PUT?\n&gt;&gt;\n&gt;&gt; Regards,\n&gt;&gt; Aakash Dharmadhikari\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; On 18/05/11 12:04 AM, mike amundsen wrote:\n&gt;&gt;&gt; FWIW, a good &quot;rule of thumb&quot; for determining if GET is an appropriate\n&gt;&gt;&gt; method is to imagine the results of a search bot (e.g. google, yahoo,\n&gt;&gt;&gt; bing, etc.) making a request to that link.\n&gt;&gt;&gt;\n&gt;&gt;&gt; for example, a list of links on a page that look like this:\n&gt;&gt;&gt; GET /my-profile/?action=send-my-email-address-to-everyone\n&gt;&gt;&gt; is something I would *not* want to allow the google-bot to execute\n&gt;&gt;&gt;\n&gt;&gt;&gt; This is true even if the link looked like this:\n&gt;&gt;&gt; GET /my-profile/\n&gt;&gt;&gt; and the backend process resulted in sending my email address to everyone.\n&gt;&gt;&gt;\n&gt;&gt;&gt; mca\n&gt;&gt;&gt; http://amundsen.com/blog/\n&gt;&gt;&gt; http://twitter.com@mamund\n&gt;&gt;&gt; http://mamund.com/foaf.rdf#me\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt; #RESTFest 2010\n&gt;&gt;&gt; http://rest-fest.googlecode.com\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt; On Tue, May 17, 2011 at 14:29, aakash dharmadhikari&lt;aakashd@...&gt;\n&gt;&gt;&gt;   wrote:\n&gt;&gt;&gt;&gt; Point taken Norman. The confusion about the GET&    POST was caused\n&gt;&gt;&gt;&gt; because of the RFC itself.\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; Broaching a bigger problem, I see that HTTP verbs give more importance\n&gt;&gt;&gt;&gt; to the users intentions&    REST talks continuously about server state.\n&gt;&gt;&gt;&gt; But when I use HTTP as a carrier for REST requests, I see these\n&gt;&gt;&gt;&gt; conflicts all the time.\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; Is there a rule of thumb, as to REST always overrides HTTP or the other\n&gt;&gt;&gt;&gt; way around?\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; About the business scene, user is aware of the sites functioning&\n&gt;&gt;&gt;&gt; vendor contacting him is a desired&    explicitly communicated effect of\n&gt;&gt;&gt;&gt; the search.\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; Regards,\n&gt;&gt;&gt;&gt; Aakash Dharmadhikari\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; On 17/05/11 7:16 PM, Norman Gray wrote:\n&gt;&gt;&gt;&gt;&gt; Aakash, hello.\n&gt;&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;&gt; On 2011 May 16, at 20:09, aakash dharmadhikari wrote:\n&gt;&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;&gt;&gt;           1. GET or POST\n&gt;&gt;&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;&gt;&gt; User searches for vendors (plumbers) in a given area&      sees list of\n&gt;&gt;&gt;&gt;&gt;&gt; vendors on page. As a requirement, vendors get notified that a user has\n&gt;&gt;&gt;&gt;&gt;&gt; found him for the search term, so that he can contact the customer.\n&gt;&gt;&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;&gt;&gt; The intention of the API user will be to get vendors, so it seems to be\n&gt;&gt;&gt;&gt;&gt;&gt; a pure GET contender; but the unintended side effect is creation of these\n&gt;&gt;&gt;&gt;&gt;&gt; notifications. As per the specification, HTTP verb should indicate the\n&gt;&gt;&gt;&gt;&gt;&gt; intent of the user, but in this case there is a pure object creation. What\n&gt;&gt;&gt;&gt;&gt;&gt; should we use, POST or GET?\n&gt;&gt;&gt;&gt;&gt; That sounds like you should GET.\n&gt;&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;&gt; RFC 2616 section 9.1.1 says of &#39;idempotent&#39; methods such as GET:\n&gt;&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;&gt;&gt; The important\n&gt;&gt;&gt;&gt;&gt;&gt;      distinction here is that the user did not request the side-effects,\n&gt;&gt;&gt;&gt;&gt;&gt;      so therefore cannot be held accountable for them.\n&gt;&gt;&gt;&gt;&gt; In other words, if your service has server-side side-effects, the HTTP\n&gt;&gt;&gt;&gt;&gt; spec says that&#39;s your problem, not the user&#39;s.\n&gt;&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;&gt; Just by the way, if I as a customer were contacted by a merchant when\n&gt;&gt;&gt;&gt;&gt; all I&#39;d done was look at their address, I think I&#39;d react poorly.  At\n&gt;&gt;&gt;&gt;&gt; length, and with gestures.  But I presume you know your users.\n&gt;&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;&gt; Best wishes,\n&gt;&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;&gt; Norman\n&gt;&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; ------------------------------------\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; Yahoo! Groups Links\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n\n"}}
{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":279478415,"authorName":"Ant√≥nio Mota","from":"=?ISO-8859-1?Q?Ant=F3nio_Mota?= &lt;amsmota@...&gt;","profile":"amsmota","replyTo":"SENDER","senderId":"hhAVcOGurrnnWlHOrjizQcmD7d0zvW3VNocVidJyIJKDmVfh9k4rxgSqHZmQtKXCb5u-cE1XLTfAhEXY-bEMtJnJ9KWqEPS5-pYKKT1NOP1MbdblQ3HW4Z30","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [rest-discuss] HTTP reliability - in order msg delivery?","postDate":"1279552951","msgId":15858,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PEFBTkxrVGlsQkpxT1YyT1JBT2ktTHNabGhBVGlGZlo2aGhVU1FpODBxUTVjd0BtYWlsLmdtYWlsLmNvbT4=","inReplyToHeader":"PDJDODcxMDhCLTZGNkEtNDc4OS1CQjhCLUYxQzk5NDhCNUVEM0BtYWMuY29tPg==","referencesHeader":"PDg2NzA0MC44NzU2MC5xbUB3ZWIyODMwOS5tYWlsLnVrbC55YWhvby5jb20+IDwyQzg3MTA4Qi02RjZBLTQ3ODktQkI4Qi1GMUM5OTQ4QjVFRDNAbWFjLmNvbT4="},"prevInTopic":15851,"nextInTopic":15878,"prevInTime":15857,"nextInTime":15859,"topicId":15828,"numMessagesInTopic":32,"msgSnippet":"I m thinking about this also, and wondering, what is wrong with a simple approach like: PUT /messages/1 -- 202 Then the client repeats GET /messages/1 -- 404 ","rawEmail":"Return-Path: &lt;amsmota@...&gt;\r\nX-Sender: amsmota@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 60278 invoked from network); 19 Jul 2010 15:22:55 -0000\r\nX-Received: from unknown (98.137.34.44)\n  by m2.grp.sp2.yahoo.com with QMQP; 19 Jul 2010 15:22:53 -0000\r\nX-Received: from unknown (HELO mail-vw0-f54.google.com) (209.85.212.54)\n  by mta1.grp.sp2.yahoo.com with SMTP; 19 Jul 2010 15:22:52 -0000\r\nX-Received: by vws19 with SMTP id 19so6359152vws.27\n        for &lt;rest-discuss@yahoogroups.com&gt;; Mon, 19 Jul 2010 08:22:51 -0700 (PDT)\r\nX-Received: by 10.220.58.138 with SMTP id g10mr2528381vch.130.1279552971672; \n\tMon, 19 Jul 2010 08:22:51 -0700 (PDT)\r\nMIME-Version: 1.0\r\nX-Received: by 10.220.96.18 with HTTP; Mon, 19 Jul 2010 08:22:31 -0700 (PDT)\r\nIn-Reply-To: &lt;2C87108B-6F6A-4789-BB8B-F1C9948B5ED3@...&gt;\r\nReferences: &lt;867040.87560.qm@...&gt; &lt;2C87108B-6F6A-4789-BB8B-F1C9948B5ED3@...&gt;\r\nDate: Mon, 19 Jul 2010 16:22:31 +0100\r\nMessage-ID: &lt;AANLkTilBJqOV2ORAOi-LsZlhATiFfZ6hhUSQi80qQ5cw@...&gt;\r\nTo: Jan Algermissen &lt;algermissen1971@...&gt;\r\nCc: Sean Kennedy &lt;seandkennedy@...&gt;, \n\tRest Discussion Group &lt;rest-discuss@yahoogroups.com&gt;\r\nContent-Type: multipart/alternative; boundary=002354447603590c72048bbf2408\r\nFrom: =?ISO-8859-1?Q?Ant=F3nio_Mota?= &lt;amsmota@...&gt;\r\nSubject: Re: [rest-discuss] HTTP reliability - in order msg delivery?\r\nX-Yahoo-Group-Post: member; u=279478415; y=pQOEm8GqRXm8O8yduA-I6b7tEKJqrrGZiDAKLAXKBHG6Ug\r\nX-Yahoo-Profile: amsmota\r\n\r\n\r\n--002354447603590c72048bbf2408\r\nContent-Type: text/plain; charset=windows-1252\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\nI&#39;m thinking about this also, and wondering, what is wrong with a simple\nap=\r\nproach like:\n\nPUT /messages/1\n--&gt;202\n\nThen the client repeats\nGET /messages=\r\n/1\n--&gt;404\nuntil\nGET /messages/1\n--&gt;200\n\nand then just proceed with\n\nPUT /me=\r\nssages/2\n--&gt;202\n\nand so on...\n\n\n\n\n\n\nOn 16 July 2010 17:56, Jan Algermissen =\r\n&lt;algermissen1971@...&gt; wrote:\n\n&gt;\n&gt;\n&gt;\n&gt; On Jul 15, 2010, at 10:28 AM, Sea=\r\nn Kennedy wrote:\n&gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; On Jul 14, 2010, at 10:4=\r\n5 AM, Sean Kennedy wrote:\n&gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt; Hi Jan,\n&gt; &gt; &gt; Apologies for=\r\n the confusion. Hopefully this is clearer. Firstly, to\n&gt; confirm I am on fi=\r\nrm ground: this situation only appears to arise when the\n&gt; client is unawar=\r\ne of the resource URI and therefore has to use POST instead\n&gt; of idempotent=\r\n PUT - based on Roy&#39;s post that you kindly included, where he\n&gt; refers to a=\r\n series of individual POST requests.\n&gt; &gt; &gt; Secondly, I was looking at Bill =\r\nde hOra&#39;s HTTPLR [1] last night and\n&gt; figured that his use of stateful URI&#39;=\r\ns could be used to keep the client and\n&gt; server in sync i.e. no need for ex=\r\npensive ETag-type values.. Given that\n&gt; methodology, here is an example:\n&gt; =\r\n&gt; &gt;\n&gt; &gt; &gt; Client Server\n&gt; &gt; &gt;\n&gt; &gt; &gt; POST /someURI update resource state;\n&gt; =\r\n&gt; &gt; &lt;details&gt; /someUri goes to &quot;.../ready&quot; state\n&gt; &gt; &gt; ...\n&gt; &gt; &gt; &lt;clientVie=\r\nwOfState&gt;\n&gt; &gt; &gt; &quot;http://.../initial&quot; --&gt;\n&gt; &gt; &gt; &lt;/clientViewOfState&gt;\n&gt; &gt; &gt; &lt;=\r\n/details&gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt; &lt;-- 200 OK gets lost\n&gt; &gt; &gt;\n&gt; &gt; &gt; client re-sends:\n&gt; &gt;=\r\n &gt; POST /someURI\n&gt; &gt; &gt; &lt;details&gt; server detects conflict;\n&gt; &gt; &gt; ... informs=\r\n client of what its view is\n&gt; &gt; &gt; &lt;clientViewOfState&gt;\n&gt; &gt; &gt; &quot;http://.../ini=\r\ntial&quot; --&gt;\n&gt; &gt; &gt; &lt;/clientViewOfState&gt;\n&gt; &gt; &gt; &lt;/details&gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt; &lt;-- 409 C=\r\nonflict\n&gt; &gt; &gt; &lt;serverStateView&gt;\n&gt; &gt; &gt; &quot;.../ready&quot;\n&gt; &gt; &gt; &lt;/serverStateView&gt;\n=\r\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt;\n&gt; &gt; I am not sure what you are getting at with the URIs her=\r\ne but I see your\n&gt; point. Why not have the client do a GET on the resource =\r\nit wants to update?\n&gt; &gt;\n&gt; &gt; -- This comes back to the original q: how does =\r\nHTTP implement in-order\n&gt; message delivery? I was following the link to Roy=\r\n&#39;s reply that you sent me\n&gt; i.e. multiple POSTs. Are you saying that a clie=\r\nnt could GET a repn which\n&gt; would contain the URI&#39;s to PUT in the correct s=\r\nequence (where the client\n&gt; does not proceed until it gets a 200 OK from ea=\r\nch individual PUT) ?\n&gt;\n&gt; Hmm, not really. The idea is that the client inclu=\r\ndes a token in the POST\n&gt; that reflects its own understanding what state th=\r\ne resource has. The server\n&gt; can then check whether that is true or not (an=\r\nd in the latter case send the\n&gt; current state).\n&gt;\n&gt;\n&gt; &gt; Seems a neat soluti=\r\non...but there would be no need for the client to send\n&gt; up a token to indi=\r\ncate it&#39;s view of the resource state to the server (as I\n&gt; don&#39;t think it c=\r\nan get out of synch with PUTs)...\n&gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt; Thus, the client and serv=\r\ner are keeping in synch via the use of the\n&gt; stateful URI&#39;s.\n&gt; &gt;\n&gt; &gt; Hmm - =\r\nwhat is a &#39;stateful URI&#39;?\n&gt; &gt;\n&gt; &gt; -- for me, that is a string that looks li=\r\nke a URI that informs the\n&gt; client/server where it is in the application. I=\r\ns this correct/incorrect?\n&gt;\n&gt; Hmm - I guess any token would be fine. No nee=\r\nd for a URI.\n&gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; &gt; This means that the server is maintaining some=\r\n application state i.e.\n&gt; breaking REST&#39;s statelessness constraint.\n&gt; &gt;\n&gt; &gt;=\r\n How so? The application state is where the client is in the overall\n&gt; appl=\r\nication. How is the server maintaining that information in your example?\n&gt; =\r\n&gt;\n&gt; &gt; -- the URI string represents the current state of the application. I\n=\r\n&gt; suppose if the server sticks it into a db then it becomes resource state =\r\nand\n&gt; the issue is solved...\n&gt;\n&gt; I think you are thinking too complicated a=\r\nbout the solution.\n&gt;\n&gt; POST\n&gt;\n&gt; &lt;details expectedState=3D&quot;1&quot;&gt;\n&gt; &lt;address&gt;Fo=\r\no&lt;/address&gt;\n&gt; &lt;/details&gt;\n&gt;\n&gt; would do it.\n&gt;\n&gt; (Or we are talking past each =\r\nother, maybe..?)\n&gt;\n&gt; Jan\n&gt;\n&gt;\n&gt; &gt;\n&gt; &gt; Sean.\n&gt; &gt;\n&gt; &gt; &gt; [1] http://dehora.net/=\r\ndoc/httplr/draft-httplr-01.html\n&gt; &gt; &gt;\n&gt; &gt; &gt; --- On Wed, 14/7/10, Jan Algerm=\r\nissen &lt;algermissen1971@...&lt;algermissen1971%40mac.com&gt;&gt;\n&gt; wrote:\n&gt; &gt; &gt;\n&gt;=\r\n &gt; &gt; From: Jan Algermissen &lt;algermissen1971@...&lt;algermissen1971%40mac.c=\r\nom&gt;\n&gt; &gt;\n&gt; &gt; &gt; Subject: Re: [rest-discuss] HTTP reliability - in order msg d=\r\nelivery?\n&gt; &gt; &gt; To: &quot;Sean Kennedy&quot; &lt;seandkennedy@...&lt;seandkennedy%40=\r\nyahoo.co.uk&gt;\n&gt; &gt;\n&gt; &gt; &gt; Cc: &quot;Jim Webber&quot; &lt;jim@... &lt;jim%40webber.name=\r\n&gt;&gt;, &quot;Rest\n&gt; Discussion Group&quot; &lt;rest-discuss@yahoogroups.com&lt;rest-discuss%40=\r\nyahoogroups.com&gt;\n&gt; &gt;\n&gt; &gt; &gt; Date: Wednesday, 14 July, 2010, 7:41\n&gt; &gt; &gt;\n&gt; &gt; &gt;=\r\n\n&gt; &gt; &gt; On Jul 13, 2010, at 2:15 PM, Sean Kennedy wrote:\n&gt; &gt; &gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt;=\r\n &gt; How does this look...\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt; Sean,\n&gt; &gt; &gt;\n&gt; &gt; &gt; I am having =\r\ntrouble to see what you are asking. Can you replace the\n&gt; formal expression=\r\ns with HTTP request/ response examples?\n&gt; &gt; &gt;\n&gt; &gt; &gt; Jan\n&gt; &gt; &gt;\n&gt; &gt; &gt; &gt; Sean.=\r\n\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; --- On Tue, 13/7/10, Jan Algermissen &lt;algermissen1971@mac.=\r\ncom&lt;algermissen1971%40mac.com&gt;&gt;\n&gt; wrote:\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; From: Jan Algermis=\r\nsen &lt;algermissen1971@...&lt;algermissen1971%40mac.com&gt;\n&gt; &gt;\n&gt; &gt; &gt; &gt; Subject=\r\n: Re: [rest-discuss] HTTP reliability - in order msg delivery?\n&gt; &gt; &gt; &gt; To: =\r\n&quot;Sean Kennedy&quot; &lt;seandkennedy@...&lt;seandkennedy%40yahoo.co.uk&gt;\n&gt; &gt;\n&gt; =\r\n&gt; &gt; &gt; Cc: &quot;REST Discuss&quot; &lt;rest-discuss@yahoogroups.com&lt;rest-discuss%40yahoo=\r\ngroups.com&gt;\n&gt; &gt;\n&gt; &gt; &gt; &gt; Date: Tuesday, 13 July, 2010, 9:50\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;\n=\r\n&gt; &gt; &gt; &gt; On Jul 13, 2010, at 10:51 AM, Sean Kennedy wrote:\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt;=\r\n What if you needed in-order message delivery? I imagine for a\n&gt; banking ap=\r\nplication, the order of transactions on an account would be\n&gt; important...\n=\r\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; You can do this by including in the client&#39;s message a toke=\r\nn that\n&gt; expresses the client&#39;s assumptions about the state of the resource=\r\n. The\n&gt; server can use that token to verify that the client&#39;s expectation a=\r\nnd the\n&gt; actual resource state match. If they do not match, the server inst=\r\nructs the\n&gt; client what to do next.\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; Roy somewhat explains t=\r\nhis in [1]:\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &quot;Think of it instead as a series of individual =\r\nPOST requests that are\n&gt; &gt; &gt; &gt; building up a combined resource that will ev=\r\nentually be a savings\n&gt; &gt; &gt; &gt; account when finished. Each of those requests=\r\n can include parameters\n&gt; &gt; &gt; &gt; that perform the same role as an ETag -- ba=\r\nsically, identifying the\n&gt; &gt; &gt; &gt; client&#39;s view of the current state of the =\r\nresource. Then, when a\n&gt; &gt; &gt; &gt; request is repeated or a state-change lost, =\r\nthe server would see\n&gt; &gt; &gt; &gt; that in the next request and tell the client t=\r\no refresh its view\n&gt; &gt; &gt; &gt; of the form before continuing to the next step.&quot;=\r\n\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; [1] http://tech.groups.yahoo.com/group/rest-discuss/messag=\r\ne/9805\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; -----------------------------------\n&gt; &gt; &gt; &gt; =\r\nJan Algermissen, Consultant\n&gt; &gt; &gt; &gt; NORD Software Consulting\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; =\r\n&gt; Mail: algermissen@... &lt;algermissen%40acm.org&gt;\n&gt; &gt; &gt; &gt; Blog: http://ww=\r\nw.nordsc.com/blog/\n&gt; &gt; &gt; &gt; Work: http://www.nordsc.com/\n&gt; &gt; &gt; &gt; -----------=\r\n------------------------\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;\n&gt; =\r\n&gt; &gt; &gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt; -----------------------------------\n&gt; &gt; &gt; Jan Alg=\r\nermissen, Consultant\n&gt; &gt; &gt; NORD Software Consulting\n&gt; &gt; &gt;\n&gt; &gt; &gt; Mail: alger=\r\nmissen@... &lt;algermissen%40acm.org&gt;\n&gt; &gt; &gt; Blog: http://www.nordsc.com/bl=\r\nog/\n&gt; &gt; &gt; Work: http://www.nordsc.com/\n&gt; &gt; &gt; ------------------------------=\r\n-----\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt;\n&gt; &gt; -------------------------=\r\n----------\n&gt; &gt; Jan Algermissen, Consultant\n&gt; &gt; NORD Software Consulting\n&gt; &gt;=\r\n\n&gt; &gt; Mail: algermissen@... &lt;algermissen%40acm.org&gt;\n&gt; &gt; Blog: http://www=\r\n.nordsc.com/blog/\n&gt; &gt; Work: http://www.nordsc.com/\n&gt; &gt; --------------------=\r\n---------------\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt;\n&gt; -------------------------------=\r\n----\n&gt; Jan Algermissen, Consultant\n&gt; NORD Software Consulting\n&gt;\n&gt; Mail: alg=\r\nermissen@... &lt;algermissen%40acm.org&gt;\n&gt; Blog: http://www.nordsc.com/blog=\r\n/\n&gt; Work: http://www.nordsc.com/\n&gt; -----------------------------------\n&gt;\n&gt; =\r\n \n&gt;\n\r\n--002354447603590c72048bbf2408\r\nContent-Type: text/html; charset=windows-1252\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\nI&#39;m thinking about this also, and wondering, what is wrong with a simpl=\r\ne approach like:&lt;br&gt;&lt;br&gt;PUT /messages/1&lt;br&gt;--&gt;202 &lt;br&gt;&lt;br&gt;Then the clien=\r\nt repeats&lt;br&gt;GET /messages/1&lt;br&gt;--&gt;404&lt;br&gt;until&lt;br&gt;GET /messages/1&lt;br&gt;\n\n=\r\n--&gt;200&lt;br&gt;&lt;br&gt;and then just proceed with &lt;br&gt;&lt;br&gt;PUT /messages/2&lt;br&gt;\n--&=\r\ngt;202 &lt;br&gt;&lt;br&gt;and so on...&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;div class=3D&quot;gmail_=\r\nquote&quot;&gt;On 16 July 2010 17:56, Jan Algermissen &lt;span dir=3D&quot;ltr&quot;&gt;&lt;&lt;a href=\r\n=3D&quot;mailto:algermissen1971@...&quot;&gt;algermissen1971@...&lt;/a&gt;&gt;&lt;/span&gt; =\r\nwrote:&lt;br&gt;\n\n&lt;blockquote class=3D&quot;gmail_quote&quot; style=3D&quot;border-left: 1px sol=\r\nid rgb(204, 204, 204); margin: 0pt 0pt 0pt 0.8ex; padding-left: 1ex;&quot;&gt;\n\n\n\n\n=\r\n\n\n\n\n\n\n\n\n\n&lt;div style=3D&quot;background-color: rgb(255, 255, 255);&quot;&gt;\n&lt;span&gt;=A0&lt;/s=\r\npan&gt;\n\n\n&lt;div&gt;\n  &lt;div&gt;\n\n\n    &lt;div&gt;\n      \n      \n      &lt;p&gt;&lt;/p&gt;&lt;div&gt;&lt;div&gt;&lt;/div=\r\n&gt;&lt;div class=3D&quot;h5&quot;&gt;&lt;br&gt;\nOn Jul 15, 2010, at 10:28 AM, Sean Kennedy wrote:&lt;b=\r\nr&gt;\n&lt;br&gt;\n&gt; &lt;br&gt;\n&gt; &lt;br&gt;\n&gt; &lt;br&gt;\n&gt; &lt;br&gt;\n&gt; &lt;br&gt;\n&gt; &lt;br&gt;\n&gt; &lt;b=\r\nr&gt;\n&gt; On Jul 14, 2010, at 10:45 AM, Sean Kennedy wrote:&lt;br&gt;\n&gt; &lt;br&gt;\n&gt=\r\n; &gt; &lt;br&gt;\n&gt; &gt; &lt;br&gt;\n&gt; &gt; Hi Jan,&lt;br&gt;\n&gt; &gt; Apologies for th=\r\ne confusion. Hopefully this is clearer. Firstly, to confirm I am on firm gr=\r\nound: this situation only appears to arise when the client is unaware of th=\r\ne resource URI and therefore has to use POST instead of idempotent PUT - ba=\r\nsed on Roy&#39;s post that you kindly included, where he refers to a series=\r\n of individual POST requests.&lt;br&gt;\n\n\n&gt; &gt; Secondly, I was looking at Bi=\r\nll de hOra&#39;s HTTPLR [1] last night and figured that his use of stateful=\r\n URI&#39;s could be used to keep the client and server in sync i.e. no need=\r\n for expensive ETag-type values.. Given that methodology, here is an exampl=\r\ne:&lt;br&gt;\n\n\n&gt; &gt; &lt;br&gt;\n&gt; &gt; Client Server&lt;br&gt;\n&gt; &gt; &lt;br&gt;\n&gt; &gt=\r\n; POST /someURI update resource state;&lt;br&gt;\n&gt; &gt; &lt;details&gt; /someU=\r\nri goes to &quot;.../ready&quot; state&lt;br&gt;\n&gt; &gt; ... &lt;br&gt;\n&gt; &gt; &lt=\r\n;clientViewOfState&gt;&lt;br&gt;\n&gt; &gt; &quot;&lt;a href=3D&quot;http://.../initial&quot; t=\r\narget=3D&quot;_blank&quot;&gt;http://.../initial&lt;/a&gt;&quot; --&gt; &lt;br&gt;\n&gt; &gt; &lt;/cl=\r\nientViewOfState&gt;&lt;br&gt;\n&gt; &gt; &lt;/details&gt;&lt;br&gt;\n&gt; &gt; &lt;br&gt;\n&gt; =\r\n&gt; &lt;-- 200 OK gets lost &lt;br&gt;\n&gt; &gt; &lt;br&gt;\n&gt; &gt; client re-sends:=\r\n&lt;br&gt;\n&gt; &gt; POST /someURI &lt;br&gt;\n&gt; &gt; &lt;details&gt; server detects =\r\nconflict;&lt;br&gt;\n&gt; &gt; ... informs client of what its view is&lt;br&gt;\n&gt; &gt=\r\n; &lt;clientViewOfState&gt;&lt;br&gt;\n&gt; &gt; &quot;&lt;a href=3D&quot;http://.../initi=\r\nal&quot; target=3D&quot;_blank&quot;&gt;http://.../initial&lt;/a&gt;&quot; --&gt; &lt;br&gt;\n&gt; &gt; &l=\r\nt;/clientViewOfState&gt;&lt;br&gt;\n&gt; &gt; &lt;/details&gt;&lt;br&gt;\n&gt; &gt; &lt;br&gt;\n=\r\n&gt; &gt; &lt;-- 409 Conflict&lt;br&gt;\n&gt; &gt; &lt;serverStateView&gt;&lt;br&gt;\n&gt=\r\n; &gt; &quot;.../ready&quot;&lt;br&gt;\n&gt; &gt; &lt;/serverStateView&gt;&lt;br&gt;\n&gt=\r\n; &gt; &lt;br&gt;\n&gt; &gt; &lt;br&gt;\n&gt; &lt;br&gt;\n&gt; I am not sure what you are gettin=\r\ng at with the URIs here but I see your point. Why not have the client do a =\r\nGET on the resource it wants to update?&lt;br&gt;\n&gt; &lt;br&gt;\n&gt; -- This comes ba=\r\nck to the original q: how does HTTP implement in-order message delivery? I =\r\nwas following the link to Roy&#39;s reply that you sent me i.e. multiple PO=\r\nSTs. Are you saying that a client could GET a repn which would contain the =\r\nURI&#39;s to PUT in the correct sequence (where the client does not proceed=\r\n until it gets a 200 OK from each individual PUT) ?&lt;br&gt;\n\n\n&lt;br&gt;&lt;/div&gt;&lt;/div&gt;\n=\r\nHmm, not really. The idea is that the client includes a token in the POST t=\r\nhat reflects its own understanding what state the resource has. The server =\r\ncan then check whether that is true or not (and in the latter case send the=\r\n current state).&lt;div class=3D&quot;im&quot;&gt;\n\n&lt;br&gt;\n&lt;br&gt;\n&gt; Seems a neat solution...=\r\nbut there would be no need for the client to send up a token to indicate it=\r\n&#39;s view of the resource state to the server (as I don&#39;t think it ca=\r\nn get out of synch with PUTs)...&lt;br&gt;\n&gt; &lt;br&gt;\n&gt; &gt; &lt;br&gt;\n&gt; &gt; Thu=\r\ns, the client and server are keeping in synch via the use of the stateful U=\r\nRI&#39;s.&lt;br&gt;\n&gt; &lt;br&gt;\n&gt; Hmm - what is a &#39;stateful URI&#39;?&lt;br&gt;\n&g=\r\nt; &lt;br&gt;\n&gt; -- for me, that is a string that looks like a URI that informs=\r\n the client/server where it is in the application. Is this correct/incorrec=\r\nt?&lt;br&gt;\n&lt;br&gt;&lt;/div&gt;\nHmm - I guess any token would be fine. No need for a URI.=\r\n&lt;div class=3D&quot;im&quot;&gt;&lt;br&gt;\n&gt; &lt;br&gt;\n&gt; &lt;br&gt;\n&gt; &gt; This means that the se=\r\nrver is maintaining some application state i.e. breaking REST&#39;s statele=\r\nssness constraint.&lt;br&gt;\n&gt; &lt;br&gt;\n&gt; How so? The application state is wher=\r\ne the client is in the overall application. How is the server maintaining t=\r\nhat information in your example?&lt;br&gt;\n&gt; &lt;br&gt;\n&gt; -- the URI string repre=\r\nsents the current state of the application. I suppose if the server sticks =\r\nit into a db then it becomes resource state and the issue is solved... &lt;br&gt;=\r\n\n&lt;br&gt;&lt;/div&gt;\nI think you are thinking too complicated about the solution.&lt;br=\r\n&gt;\n&lt;br&gt;\nPOST&lt;br&gt;\n&lt;br&gt;\n&lt;details expectedState=3D&quot;1&quot;&gt;&lt;br&gt;\n  &l=\r\nt;address&gt;Foo&lt;/address&gt;&lt;br&gt;\n&lt;/details&gt;&lt;br&gt;\n&lt;br&gt;\nwould do it.=\r\n&lt;br&gt;\n&lt;br&gt;\n(Or we are talking past each other, maybe..?)&lt;br&gt;\n&lt;br&gt;\nJan&lt;div&gt;&lt;d=\r\niv&gt;&lt;/div&gt;&lt;div class=3D&quot;h5&quot;&gt;&lt;br&gt;\n&lt;br&gt;\n&gt; &lt;br&gt;\n&gt; Sean.&lt;br&gt;\n&gt; &lt;br&gt;\n&gt=\r\n; &gt; [1] &lt;a href=3D&quot;http://dehora.net/doc/httplr/draft-httplr-01.html&quot; ta=\r\nrget=3D&quot;_blank&quot;&gt;http://dehora.net/doc/httplr/draft-httplr-01.html&lt;/a&gt;&lt;br&gt;\n&=\r\ngt; &gt; &lt;br&gt;\n&gt; &gt; --- On Wed, 14/7/10, Jan Algermissen &lt;&lt;a href=3D=\r\n&quot;mailto:algermissen1971%40mac.com&quot; target=3D&quot;_blank&quot;&gt;algermissen1971@...=\r\nm&lt;/a&gt;&gt; wrote:&lt;br&gt;\n&gt; &gt; &lt;br&gt;\n&gt; &gt; From: Jan Algermissen &lt;&lt;a =\r\nhref=3D&quot;mailto:algermissen1971%40mac.com&quot; target=3D&quot;_blank&quot;&gt;algermissen1971=\r\n@...&lt;/a&gt;&gt;&lt;br&gt;\n&gt; &gt; Subject: Re: [rest-discuss] HTTP reliability=\r\n - in order msg delivery?&lt;br&gt;\n&gt; &gt; To: &quot;Sean Kennedy&quot; &lt;&lt;a=\r\n href=3D&quot;mailto:seandkennedy%40yahoo.co.uk&quot; target=3D&quot;_blank&quot;&gt;seandkennedy@=\r\nyahoo.co.uk&lt;/a&gt;&gt;&lt;br&gt;\n&gt; &gt; Cc: &quot;Jim Webber&quot; &lt;&lt;a href=3D=\r\n&quot;mailto:jim%40webber.name&quot; target=3D&quot;_blank&quot;&gt;jim@...&lt;/a&gt;&gt;, &quot=\r\n;Rest Discussion Group&quot; &lt;&lt;a href=3D&quot;mailto:rest-discuss%40yahoogrou=\r\nps.com&quot; target=3D&quot;_blank&quot;&gt;rest-discuss@yahoogroups.com&lt;/a&gt;&gt;&lt;br&gt;\n\n\n&gt; &=\r\ngt; Date: Wednesday, 14 July, 2010, 7:41&lt;br&gt;\n&gt; &gt; &lt;br&gt;\n&gt; &gt; &lt;br&gt;\n=\r\n&gt; &gt; On Jul 13, 2010, at 2:15 PM, Sean Kennedy wrote:&lt;br&gt;\n&gt; &gt; &lt;b=\r\nr&gt;\n&gt; &gt; &gt; &lt;br&gt;\n&gt; &gt; &gt; How does this look...&lt;br&gt;\n&gt; &gt; &=\r\ngt; &lt;br&gt;\n&gt; &gt; &lt;br&gt;\n&gt; &gt; Sean,&lt;br&gt;\n&gt; &gt; &lt;br&gt;\n&gt; &gt; I am h=\r\naving trouble to see what you are asking. Can you replace the formal expres=\r\nsions with HTTP request/ response examples?&lt;br&gt;\n&gt; &gt; &lt;br&gt;\n&gt; &gt; Ja=\r\nn&lt;br&gt;\n&gt; &gt; &lt;br&gt;\n&gt; &gt; &gt; Sean.&lt;br&gt;\n&gt; &gt; &gt; &lt;br&gt;\n&gt; &gt;=\r\n &gt; --- On Tue, 13/7/10, Jan Algermissen &lt;&lt;a href=3D&quot;mailto:algermisse=\r\nn1971%40mac.com&quot; target=3D&quot;_blank&quot;&gt;algermissen1971@...&lt;/a&gt;&gt; wrote:&lt;b=\r\nr&gt;\n&gt; &gt; &gt; &lt;br&gt;\n&gt; &gt; &gt; From: Jan Algermissen &lt;&lt;a href=3D&quot;=\r\nmailto:algermissen1971%40mac.com&quot; target=3D&quot;_blank&quot;&gt;algermissen1971@...=\r\n&lt;/a&gt;&gt;&lt;br&gt;\n&gt; &gt; &gt; Subject: Re: [rest-discuss] HTTP reliability - =\r\nin order msg delivery?&lt;br&gt;\n&gt; &gt; &gt; To: &quot;Sean Kennedy&quot; &lt;=\r\n&lt;a href=3D&quot;mailto:seandkennedy%40yahoo.co.uk&quot; target=3D&quot;_blank&quot;&gt;seandkenned=\r\ny@...&lt;/a&gt;&gt;&lt;br&gt;\n&gt; &gt; &gt; Cc: &quot;REST Discuss&quot; &lt;&lt;=\r\na href=3D&quot;mailto:rest-discuss%40yahoogroups.com&quot; target=3D&quot;_blank&quot;&gt;rest-dis=\r\ncuss@yahoogroups.com&lt;/a&gt;&gt;&lt;br&gt;\n&gt; &gt; &gt; Date: Tuesday, 13 July, 201=\r\n0, 9:50&lt;br&gt;\n&gt; &gt; &gt; &lt;br&gt;\n&gt; &gt; &gt; &lt;br&gt;\n&gt; &gt; &gt; On Jul 1=\r\n3, 2010, at 10:51 AM, Sean Kennedy wrote:&lt;br&gt;\n&gt; &gt; &gt; &lt;br&gt;\n&gt; &gt;=\r\n &gt; &gt; What if you needed in-order message delivery? I imagine for a ba=\r\nnking application, the order of transactions on an account would be importa=\r\nnt...&lt;br&gt;\n&gt; &gt; &gt; &lt;br&gt;\n&gt; &gt; &gt; You can do this by including i=\r\nn the client&#39;s message a token that expresses the client&#39;s assumpti=\r\nons about the state of the resource. The server can use that token to verif=\r\ny that the client&#39;s expectation and the actual resource state match. If=\r\n they do not match, the server instructs the client what to do next.&lt;br&gt;\n\n\n=\r\n&gt; &gt; &gt; &lt;br&gt;\n&gt; &gt; &gt; Roy somewhat explains this in [1]:&lt;br&gt;\n&=\r\ngt; &gt; &gt; &lt;br&gt;\n&gt; &gt; &gt; &quot;Think of it instead as a series of =\r\nindividual POST requests that are&lt;br&gt;\n&gt; &gt; &gt; building up a combined=\r\n resource that will eventually be a savings&lt;br&gt;\n&gt; &gt; &gt; account when=\r\n finished. Each of those requests can include parameters&lt;br&gt;\n&gt; &gt; &gt;=\r\n that perform the same role as an ETag -- basically, identifying the&lt;br&gt;\n&g=\r\nt; &gt; &gt; client&#39;s view of the current state of the resource. Then, =\r\nwhen a&lt;br&gt;\n&gt; &gt; &gt; request is repeated or a state-change lost, the s=\r\nerver would see&lt;br&gt;\n&gt; &gt; &gt; that in the next request and tell the cl=\r\nient to refresh its view&lt;br&gt;\n&gt; &gt; &gt; of the form before continuing t=\r\no the next step.&quot;&lt;br&gt;\n&gt; &gt; &gt; &lt;br&gt;\n&gt; &gt; &gt; [1] &lt;a href=\r\n=3D&quot;http://tech.groups.yahoo.com/group/rest-discuss/message/9805&quot; target=3D=\r\n&quot;_blank&quot;&gt;http://tech.groups.yahoo.com/group/rest-discuss/message/9805&lt;/a&gt;&lt;b=\r\nr&gt;\n&gt; &gt; &gt; &lt;br&gt;\n&gt; &gt; &gt; &lt;br&gt;\n&gt; &gt; &gt; -----------------=\r\n------------------&lt;br&gt;\n&gt; &gt; &gt; Jan Algermissen, Consultant&lt;br&gt;\n&gt; =\r\n&gt; &gt; NORD Software Consulting&lt;br&gt;\n&gt; &gt; &gt; &lt;br&gt;\n&gt; &gt; &gt; M=\r\nail: &lt;a href=3D&quot;mailto:algermissen%40acm.org&quot; target=3D&quot;_blank&quot;&gt;algermissen=\r\n@...&lt;/a&gt;&lt;br&gt;\n&gt; &gt; &gt; Blog: &lt;a href=3D&quot;http://www.nordsc.com/blog=\r\n/&quot; target=3D&quot;_blank&quot;&gt;http://www.nordsc.com/blog/&lt;/a&gt;&lt;br&gt;\n&gt; &gt; &gt; Wor=\r\nk: &lt;a href=3D&quot;http://www.nordsc.com/&quot; target=3D&quot;_blank&quot;&gt;http://www.nordsc.c=\r\nom/&lt;/a&gt;&lt;br&gt;\n&gt; &gt; &gt; -----------------------------------&lt;br&gt;\n&gt; &gt=\r\n; &gt; &lt;br&gt;\n&gt; &gt; &gt; &lt;br&gt;\n&gt; &gt; &gt; &lt;br&gt;\n&gt; &gt; &gt; &lt;br&gt;\n&gt=\r\n; &gt; &gt; &lt;br&gt;\n&gt; &gt; &gt; &lt;br&gt;\n&gt; &gt; &gt; &lt;br&gt;\n&gt; &gt; &gt; &lt;br=\r\n&gt;\n&gt; &gt; &lt;br&gt;\n&gt; &gt; -----------------------------------&lt;br&gt;\n&gt; &gt=\r\n; Jan Algermissen, Consultant&lt;br&gt;\n&gt; &gt; NORD Software Consulting&lt;br&gt;\n&g=\r\nt; &gt; &lt;br&gt;\n&gt; &gt; Mail: &lt;a href=3D&quot;mailto:algermissen%40acm.org&quot; targe=\r\nt=3D&quot;_blank&quot;&gt;algermissen@...&lt;/a&gt;&lt;br&gt;\n&gt; &gt; Blog: &lt;a href=3D&quot;http://=\r\nwww.nordsc.com/blog/&quot; target=3D&quot;_blank&quot;&gt;http://www.nordsc.com/blog/&lt;/a&gt;&lt;br&gt;=\r\n\n&gt; &gt; Work: &lt;a href=3D&quot;http://www.nordsc.com/&quot; target=3D&quot;_blank&quot;&gt;http:=\r\n//www.nordsc.com/&lt;/a&gt;&lt;br&gt;\n&gt; &gt; -----------------------------------&lt;br&gt;=\r\n\n&gt; &gt; &lt;br&gt;\n&gt; &gt; &lt;br&gt;\n&gt; &gt; &lt;br&gt;\n&gt; &gt; &lt;br&gt;\n&gt; &gt; &lt;br&gt;=\r\n\n&gt; &gt; &lt;br&gt;\n&gt; &lt;br&gt;\n&gt; -----------------------------------&lt;br&gt;\n&gt;=\r\n Jan Algermissen, Consultant&lt;br&gt;\n&gt; NORD Software Consulting&lt;br&gt;\n&gt; &lt;br=\r\n&gt;\n&gt; Mail: &lt;a href=3D&quot;mailto:algermissen%40acm.org&quot; target=3D&quot;_blank&quot;&gt;alg=\r\nermissen@...&lt;/a&gt;&lt;br&gt;\n&gt; Blog: &lt;a href=3D&quot;http://www.nordsc.com/blog/&quot;=\r\n target=3D&quot;_blank&quot;&gt;http://www.nordsc.com/blog/&lt;/a&gt;&lt;br&gt;\n&gt; Work: &lt;a href=\r\n=3D&quot;http://www.nordsc.com/&quot; target=3D&quot;_blank&quot;&gt;http://www.nordsc.com/&lt;/a&gt;&lt;br=\r\n&gt;\n&gt; -----------------------------------&lt;br&gt;\n&gt; &lt;br&gt;\n&gt; &lt;br&gt;\n&gt; &lt;br=\r\n&gt;\n&gt; &lt;br&gt;\n&gt; &lt;br&gt;\n&gt; &lt;br&gt;\n&lt;br&gt;\n-----------------------------------&lt;br=\r\n&gt;\n Jan Algermissen, Consultant&lt;br&gt;\n NORD Software Consulting&lt;br&gt;\n&lt;br&gt;\nMail:=\r\n &lt;a href=3D&quot;mailto:algermissen%40acm.org&quot; target=3D&quot;_blank&quot;&gt;algermissen@acm=\r\n.org&lt;/a&gt;&lt;br&gt;\n Blog: &lt;a href=3D&quot;http://www.nordsc.com/blog/&quot; target=3D&quot;_blan=\r\nk&quot;&gt;http://www.nordsc.com/blog/&lt;/a&gt;&lt;br&gt;\n Work: &lt;a href=3D&quot;http://www.nordsc.=\r\ncom/&quot; target=3D&quot;_blank&quot;&gt;http://www.nordsc.com/&lt;/a&gt;&lt;br&gt;\n--------------------=\r\n---------------&lt;br&gt;\n&lt;br&gt;\n&lt;/div&gt;&lt;/div&gt;\n\n    &lt;/div&gt;\n     \n\n    \n    &lt;div styl=\r\ne=3D&quot;color: rgb(255, 255, 255); min-height: 0pt;&quot;&gt;&lt;/div&gt;\n\n\n&lt;/div&gt;\n\n\n\n  \n\n\n\n=\r\n\n\n\n&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;\n\r\n--002354447603590c72048bbf2408--\r\n\n"}}
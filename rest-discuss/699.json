{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":63473576,"authorName":"Lucas Gonze","from":"&quot;Lucas Gonze&quot; &lt;lucas@...&gt;","profile":"lucas_gonze","replyTo":"SENDER","senderId":"hhmK0DUpbQMvDWCSmAdVE9HjGQeGW5umn_v4uX91Y5EvK0b0S7-xY-hMhPF8hEiGDAKRN_o-E_SsQEFZLzE8R9AlyVCwuw","spamInfo":{"isSpam":false,"reason":"0"},"subject":"RE: [rest-discuss] Model-2req design","postDate":"1013174475","msgId":699,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PE5FQkJKSUhNTUxLSEVPUE5PR0hERUVLUEZLQUEubHVjYXNAZ29uemUuY29tPg==","inReplyToHeader":"PDNDNjNBQjQxLjg5Nzk3NkBwcmVzY29kLm5ldD4="},"prevInTopic":698,"nextInTopic":704,"prevInTime":698,"nextInTime":700,"topicId":674,"numMessagesInTopic":33,"msgSnippet":"... Ok. The POST to the subscription resource has to have a base state to measure against.  The base state is the last known state which should not cause a ","rawEmail":"Return-Path: &lt;lucas@...&gt;\r\nX-Sender: lucas@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nReceived: (EGP: mail-8_0_2); 8 Feb 2002 13:22:45 -0000\r\nReceived: (qmail 23450 invoked from network); 8 Feb 2002 13:22:31 -0000\r\nReceived: from unknown (216.115.97.167)\n  by m4.grp.snv.yahoo.com with QMQP; 8 Feb 2002 13:22:31 -0000\r\nReceived: from unknown (HELO mail1.panix.com) (166.84.0.212)\n  by mta1.grp.snv.yahoo.com with SMTP; 8 Feb 2002 13:22:31 -0000\r\nReceived: from mailspool1.panix.com (mailspool1.panix.com [166.84.0.210])\n\tby mail1.panix.com (Postfix) with ESMTP id 0D80A487F9\n\tfor &lt;rest-discuss@yahoogroups.com&gt;; Fri,  8 Feb 2002 08:22:31 -0500 (EST)\r\nReceived: from lucas (159-98.nyc.dsl.access.net [166.84.159.98])\n\tby mailspool1.panix.com (Postfix) with SMTP id CA69112E41\n\tfor &lt;rest-discuss@yahoogroups.com&gt;; Fri,  8 Feb 2002 08:22:30 -0500 (EST)\r\nTo: &lt;rest-discuss@yahoogroups.com&gt;\r\nSubject: RE: [rest-discuss] Model-2req design\r\nDate: Fri, 8 Feb 2002 08:21:15 -0500\r\nMessage-ID: &lt;NEBBJIHMMLKHEOPNOGHDEEKPFKAA.lucas@...&gt;\r\nMIME-Version: 1.0\r\nContent-Type: text/plain;\n\tcharset=&quot;iso-8859-1&quot;\r\nContent-Transfer-Encoding: 7bit\r\nX-Priority: 3 (Normal)\r\nX-MSMail-Priority: Normal\r\nX-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)\r\nImportance: Normal\r\nX-MimeOLE: Produced By Microsoft MimeOLE V5.00.2919.6600\r\nIn-Reply-To: &lt;3C63AB41.897976@...&gt;\r\nFrom: &quot;Lucas Gonze&quot; &lt;lucas@...&gt;\r\nX-Yahoo-Group-Post: member; u=63473576\r\nX-Yahoo-Profile: lucas_gonze\r\n\r\nme:\n&gt; &gt; &quot;Model-2req&quot; (coinage here for reasons of convenience) is the one\n&gt; where there\n&gt; &gt; are two requests, a POST to a subscription resource and a GET to a watched\n&gt; &gt; resource.  The problem with this is that it implies a transaction.\n&gt;\nPaul:\n&gt; I don&#39;t think I&#39;ll be able to understand the rest until I understand\n&gt; this sentence. Could you elaborate?\n\nOk.\n\nThe POST to the subscription resource has to have a base state to measure\nagainst.  The base state is the last known state which should not cause a\nnotification to be fired.  It might be a version number, a date, a byte count,\nan SHA-1 hash, whatever.  It might not even be an explicit state -- the base\nstate for a database trigger is just whatever the current state is.\n\nIn my post yesterday,\nhttp://groups.yahoo.com/group/rest-discuss/message/691\nI proposed that the notification resource should find out the base state on its\nown, as part of handling the request for notifications.\n\nIn my previous post,\nhttp://groups.yahoo.com/group/rest-discuss/message/640\nI proposed that the base state be the one that the GET returned.  In that case\nthe GET and POST were a logical unit operating on the same base state.  On that\nlevel they had to be in synch, and so could be considered a transaction.\n\n&gt; &gt; ...  In my former\n&gt; &gt; proposal on the subject I suggested that there be a GET, the GET\n&gt; results would\n&gt; &gt; be hashed by the client in some well known way, and the hash would be\n&gt; &gt; transmitted with the followup POST as a &quot;baseline state.&quot;\n&gt;\n&gt; Remind me of why this is necessary? Also, is there a motivation for not\n&gt; using etags or timestamps or did you just not think of that?\n\nPer etags and timestamps -- they fall into the general category of hash\nfunctions that identify states.  I didn&#39;t really talk about which hash function\nwas optimal.  Since the whole idea of hashing may now be gone, this doesn&#39;t\nmatter.  The important thing is that the server needs to compute the hash,\nbecause the client only has access to a representation.  For example the\ntimestamp that matters is the one the server returns.\n\n&gt;\n&gt; &gt; .... The subscription\n&gt; &gt; resource would decide when to fire a notification by computing its\n&gt; own hash of\n&gt; &gt; the watched resource and compare it to the hash sent by the client.\n&gt;\n&gt; That&#39;s not how I see it. The subscription resource knows when the\n&gt; resource changes. By definition all clients are out of date. Why keep a\n&gt; per-client hash?\n\nNot!  :)\n\nI argued for a per-client hash before, and in this rev argued against it.  We\nare in synch on that.\n\n&gt; Anyhow, the terminology that we&#39;ve been using is representation (for\n&gt; your &quot;view&quot;) versus resource (for your &quot;object&quot;).\n\nthx.\n\n\n&gt; I don&#39;t understand how any of this is necessary yet, though....\n\nIt&#39;s just an attempt at modeling the source interactions in detail.\n...pseudo-coding them to figure out what works and what doesn&#39;t.\n\n- Lucas\n\n\n"}}
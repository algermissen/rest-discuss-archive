{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":0,"authorName":"S. Alexander Jacobson","from":"&quot;S. Alexander Jacobson&quot; &lt;alex@...&gt;","replyTo":"SENDER","senderId":"QR8d_MdevP_bG831a8TEf-2GI8LUMGW1nS8d5Pe2wO35EzD4itgA9tMQMvGo9wYr2yNQCs2x6gW6aGf0vce7uHthi-30TIAMpfzIOg","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [rest-discuss] idempotent notifications","postDate":"1012505196","msgId":485,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PFBpbmUuV05ULjQuNDMuMDIwMTMxMTQwNTIyMC4xNDAwLTEwMDAwMEBnYW5kb2xwaC5BU0dBUkQuam1zPg==","inReplyToHeader":"PDNDNTk4QzIyLjRCRTAyNzI5QHByZXNjb2QubmV0Pg=="},"prevInTopic":484,"nextInTopic":486,"prevInTime":484,"nextInTime":486,"topicId":453,"numMessagesInTopic":36,"msgSnippet":"... The client has to do some form of state management anyway.  If the client needs the URI, it can encode that in the notification URL. The problem for the","rawEmail":"Return-Path: &lt;alex@...&gt;\r\nX-Sender: alex@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nReceived: (EGP: mail-8_0_1_3); 31 Jan 2002 19:26:22 -0000\r\nReceived: (qmail 45276 invoked from network); 31 Jan 2002 19:26:21 -0000\r\nReceived: from unknown (216.115.97.171)\n  by m8.grp.snv.yahoo.com with QMQP; 31 Jan 2002 19:26:21 -0000\r\nReceived: from unknown (HELO mail.vo.com) (208.36.81.99)\n  by mta3.grp.snv.yahoo.com with SMTP; 31 Jan 2002 19:26:20 -0000\r\nReceived: from gandolph.ASGARD.jms (alexhome2 [66.108.152.69])\n\tby mail.vo.com (8.12.1/8.12.1) with ESMTP id g0VJPhFv003025\n\t(version=TLSv1/SSLv3 cipher=RC4-MD5 bits=128 verify=NO);\n\tThu, 31 Jan 2002 14:25:46 -0500\r\nDate: Thu, 31 Jan 2002 14:26:36 -0500 (Eastern Standard Time)\r\nTo: Paul Prescod &lt;paul@...&gt;\r\nCc: Rest-Discuss &lt;rest-discuss@yahoogroups.com&gt;\r\nSubject: Re: [rest-discuss] idempotent notifications\r\nIn-Reply-To: &lt;3C598C22.4BE02729@...&gt;\r\nMessage-ID: &lt;Pine.WNT.4.43.0201311405220.1400-100000@...&gt;\r\nX-X-Sender: alex@...\r\nMIME-Version: 1.0\r\nContent-Type: TEXT/PLAIN; charset=US-ASCII\r\nFrom: &quot;S. Alexander Jacobson&quot; &lt;alex@...&gt;\r\nX-Yahoo-Group-Post: public\r\n\r\nOn Thu, 31 Jan 2002, Paul Prescod wrote:\n&gt; &gt; The agent requesting notification supplied a\n&gt; &gt; notification URI.  It is the responsibility of\n&gt; &gt; the subscriber to know to what resources that\n&gt; &gt; notification URI corresponds.\n&gt;\n&gt; Orthogonal issue. There is very little no cost in having a header with\n&gt; the notification URI and it might be useful for simplifying client-side\n&gt; state management.\n\nThe client has to do some form of state management\nanyway.  If the client needs the URI, it can\nencode that in the notification URL.\n\nThe problem for the server is that multiple URIs\nmay map to the same resource.  Those different\nURIs may be used by different clients for various\npurposes.  If the server has to send a URI, it\nalso has to know which URI the client used to\nrequest notification about the Resource.\nThat is really ugly.\n\n&gt; &gt; Unless we are prepared to specify a subsciption\n&gt; &gt; management protocol, there is no need to require\n&gt; &gt; that the subsciption resource be in the\n&gt; &gt; notification.\n&gt;\n&gt; We are doing somewhat of a subscription management protocol. The latest\n&gt; spec (from yesterday) incorporates Jeff Bone&#39;s ideas about:\n\nThe subscription URL should be delivered in the\nresponse to notification.  It is a huge waste to\ndeliver it with each notification.\n\nAgain, if the client really want it, the client\ncould encode it in the notification URL.\n\n&gt;  1. Expiry\n&gt;  2. Acknowledgment from the client that it really wants to be subscribed\n&gt;\n&gt; Plus we have always said that a client may unsubscribe by DELETEing a\n&gt; subscription resource.\n\nThe client should be able to do subscription\nmodifications in reply to a notification request.\n\nIn particular, some set of 40x responses to a\nnotification should be the equivalent of\nunsubscription. e.g. if the response to a\nnotification is 403 FORBIDDEN, that is a strong\nhint that you don&#39;t want the subscription anymore.\n\n&gt; &gt; I don&#39;t think any of the existing HTTP methods\n&gt; &gt; communicate what notifcation communicates.  I\n&gt; &gt; think there are basically 3 messages, all of which\n&gt; &gt; have NO message bodies.\n&gt;\n&gt; The message body is an important and useful *optimization*. Sending\n&gt; diffs is really important for performance. They just have to be set up\n&gt; so that even if one is &quot;dropped&quot; you can resync easily by going back to\n&gt; the subscription resource.\n\nSo the notion is that the notification message may\noptionally include a last update.  If the content\nis optional, I don&#39;t think you should really be\nusing PUT.  Because a series of empty PUT bodies\ndoesn&#39;t mean that nothing has changed, only that\nthe server decided not to send it.\n\n&gt; &gt; CREATED /notification/path HTTP/1.1\n&gt; &gt; (allowing the ability to watch for the creation of\n&gt; &gt; certain types of resources)\n&gt; &gt;\n&gt; &gt; CHANGED /notification/path HTTP/1.1\n&gt; &gt;\n&gt; &gt; DELETED /notifiation/path HTTP/1.1\n&gt; &gt; when there will be no more changes\n&gt; &gt; and there is now no accessible info about the\n&gt; &gt; resource.\n&gt;\n&gt; I no longer think it is important to say which of these things happened.\n&gt; You notify the resource of the change. Maybe you have a body that says\n&gt; what changed. Maybe you don&#39;t. If you don&#39;t, or it is useless because of\n&gt; some message that was lost earlier, then you re-sync from the data\n&gt; source.\n\nI think there is a difference between having an\nempty body and having a NULL body.\n\n&gt; You say CREATED is important because if allows you the ability to watch\n&gt; for the creation of certain types of resources. But you could also model\n&gt; this as a WATCH on a query. &quot;The list of all stock symbols.&quot;\n\nNo because then you can&#39;t watch a particular\nresource.\n\nSuppose that you are modeling the set of seats in\na theater.  Suppose you want to watch the seat\nnext to yours:\n\nCREATED: someone sat down in the seat (you can&#39;t\n         invite a friend to sit next to you)\nCHANGED: the person took off her coat\nCHANGED: the person she took off her shoes\nDELETED: she got up and left and the seat is\n \t now available again\n\n(This example does not include the possibility\nthat the person could have no mass (be an empty\nbody), but other applications have that\npossibility)\n\n&gt; I think that a subscription could outlive a DELETEion. If the resource\n&gt; goes away and them comes back and then goes away, why not keep\n&gt; delivering notifications?\n\nok.  but I think you still want deletion.\n\n-Alex-\n\n___________________________________________________________________\nS. Alexander Jacobson                   i2x Media\n1-212-787-1914 voice                    1-603-288-1280 fax\n\n\n\n"}}
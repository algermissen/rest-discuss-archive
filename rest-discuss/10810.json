{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":331949899,"authorName":"Sebastien Lambla","from":"&quot;Sebastien Lambla&quot; &lt;seb@...&gt;","profile":"serialseb","replyTo":"SENDER","senderId":"UA835DrnN8CZTSFY9R33w03LGG4Eo1pH0-P74pMjktDdEH5bLf3khxADjidoPNUCV64o8zwdaYvhSlaH6yGHB7pZQDz2UbT6s58QI2M","spamInfo":{"isSpam":false,"reason":"12"},"subject":"RE: [rest-discuss] Re: Stack operations using Rest","postDate":"1211447008","msgId":10810,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PEJMVTEwMi1EUzYxQTdCNjA3NEQ0RTAzRUY3QjQzMUI1QzYwQHBoeC5nYmw+","inReplyToHeader":"PGcxMnFiZithc3VuQGVHcm91cHMuY29tPg==","referencesHeader":"PGVjZjM1YTFiMDgwNTIxMTkxNmo1Yjg3NDRmNHZlNWRkZmIxZGIyZDUzNjk0QG1haWwuZ21haWwuY29tPiA8ZzEycWJmK2FzdW5AZUdyb3Vwcy5jb20+"},"prevInTopic":10807,"nextInTopic":10813,"prevInTime":10809,"nextInTime":10811,"topicId":10795,"numMessagesInTopic":17,"msgSnippet":"Shouldn t the /stack/top simply do a 303 SEE OTHER to Location: stack/item21 on which you can then do your delete? That makes the DELETE idempotent, as you d","rawEmail":"Return-Path: &lt;seb@...&gt;\r\nX-Sender: seb@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 51207 invoked from network); 22 May 2008 09:04:19 -0000\r\nX-Received: from unknown (66.218.66.72)\n  by m45.grp.scd.yahoo.com with QMQP; 22 May 2008 09:04:19 -0000\r\nX-Received: from unknown (HELO blu0-omc3-s21.blu0.hotmail.com) (65.55.116.96)\n  by mta14.grp.scd.yahoo.com with SMTP; 22 May 2008 09:04:19 -0000\r\nX-Received: from BLU102-DS6 ([65.55.116.73]) by blu0-omc3-s21.blu0.hotmail.com with Microsoft SMTPSVC(6.0.3790.3959);\n\t Thu, 22 May 2008 02:04:18 -0700\r\nX-Originating-Email: [seb@...]\r\nMessage-ID: &lt;BLU102-DS61A7B6074D4E03EF7B431B5C60@...&gt;\r\nReturn-Path: seb@...\r\nTo: &quot;&#39;wahbedahbe&#39;&quot; &lt;andrew.wahbe@...&gt;,\n\t&lt;rest-discuss@yahoogroups.com&gt;\r\nReferences: &lt;ecf35a1b0805211916j5b8744f4ve5ddfb1db2d53694@...&gt; &lt;g12qbf+asun@...&gt;\r\nIn-Reply-To: &lt;g12qbf+asun@...&gt;\r\nDate: Thu, 22 May 2008 10:03:28 +0100\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;US-ASCII&quot;\r\nContent-Transfer-Encoding: 7bit\r\nX-Mailer: Microsoft Office Outlook 12.0\r\nThread-Index: Aci7vnythnkrT64jQBSbM+vlSmHyMwAK4H3w\r\nContent-Language: en-gb\r\nX-OriginalArrivalTime: 22 May 2008 09:04:18.0522 (UTC) FILETIME=[D11E3BA0:01C8BBEA]\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: &quot;Sebastien Lambla&quot; &lt;seb@...&gt;\r\nSubject: RE: [rest-discuss] Re: Stack operations using Rest\r\nX-Yahoo-Group-Post: member; u=331949899; y=fgByRbggn9QTbKTll4lxJ9NZ8-QvjVFxLcuWQ-rriv0EQuEl\r\nX-Yahoo-Profile: serialseb\r\n\r\nShouldn&#39;t the /stack/top simply do a 303 SEE OTHER to Location: stack/item21\non which you can then do your delete?\n\nThat makes the DELETE idempotent, as you&#39;d only ever be able to DELETE on\nthe returned resource. Of course earch resource need to check if it&#39;s on the\ntop of the queue before accepting a delete request, but as your resource is\nstack specific, and may in fact simply be a pointer to the resource that has\nbeen queued.\n\nSeb\n\n-----Original Message-----\nFrom: rest-discuss@yahoogroups.com [mailto:rest-discuss@yahoogroups.com] On\nBehalf Of wahbedahbe\nSent: 22 May 2008 04:47\nTo: rest-discuss@yahoogroups.com\nSubject: [rest-discuss] Re: Stack operations using Rest\n\nThe problem with using DELETE on /queue/top to implement pop is that\nit&#39;s not an idempotent operation.\n\n--- In rest-discuss@yahoogroups.com, dev &lt;dev.akhawe@...&gt; wrote:\n&gt;\n&gt; &gt; The /queue/top resource should act as a reference to the actual top\n&gt; &gt; element, i.e. you should not DELETE it, as it should still exist while\n&gt; &gt; there are items left on the stack.\n&gt; &gt;\n&gt; \n&gt; I disagree. The HTTP RFC says that DELETE is to delete the resource at\n&gt; the URI said. Popping is deleting the topmost uri. Allowing Deletes\n&gt; directly on elements would be wrong as that would allow you to delete\n&gt; any element( unless you hack through a solution in which every\n&gt; resource checks whether it is the topmost resource before getting\n&gt; deleted).\n&gt; \n&gt; Delete the TOP just does that .. delete the current top. How does it\n&gt; matter if after that another element becomes the top?\n&gt; \n&gt; Again, there might be arguments against what I just said , but the\n&gt; increase in coupling caused by any other solution imho makes for an\n&gt; overwhelming choice for this option.\n&gt; \n&gt; In short, I like the OPs solution.\n&gt; \n&gt; Regards\n&gt; Devdatta\n&gt;\n\n\n\n------------------------------------\n\nYahoo! Groups Links\n\n\n\n\n\n"}}
{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":242972596,"authorName":"Jorn Wildt","from":"&quot;Jorn Wildt&quot; &lt;jw@...&gt;","profile":"jorn_lind_nielsen","replyTo":"SENDER","senderId":"X0dKBKJiwBcvGnYIx8LFMlj76jQdf_FsI7Bl3qnMOCXjBoUDfzS99NbTRjVzDtdUtjcVPPlqJWaOckF-i30wpicMXxUjkb__","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: Different vocabularies, same media type","postDate":"1324988000","msgId":18162,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PGpkY2NwMCs3dGRqQGVHcm91cHMuY29tPg==","inReplyToHeader":"PEUxNjA5RTlGLTZGQTItNDRFRS05NDE0LTg5MTBFRUU5QkVGMkBub3Jkc2MuY29tPg=="},"prevInTopic":18161,"nextInTopic":18163,"prevInTime":18161,"nextInTime":18163,"topicId":18158,"numMessagesInTopic":32,"msgSnippet":"... That s cheating and avoiding the question :-) The assumption is that we actually have two different formats to support. According to Wikipedia that is not","rawEmail":"Return-Path: &lt;jw@...&gt;\r\nX-Sender: jw@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 47110 invoked from network); 27 Dec 2011 12:13:23 -0000\r\nX-Received: from unknown (98.137.34.44)\n  by m5.grp.sp2.yahoo.com with QMQP; 27 Dec 2011 12:13:23 -0000\r\nX-Received: from unknown (HELO n41b.bullet.mail.sp1.yahoo.com) (66.163.168.155)\n  by mta1.grp.sp2.yahoo.com with SMTP; 27 Dec 2011 12:13:23 -0000\r\nX-Received: from [69.147.65.148] by n41.bullet.mail.sp1.yahoo.com with NNFMP; 27 Dec 2011 12:13:22 -0000\r\nX-Received: from [98.137.34.72] by t11.bullet.mail.sp1.yahoo.com with NNFMP; 27 Dec 2011 12:13:22 -0000\r\nDate: Tue, 27 Dec 2011 12:13:20 -0000\r\nTo: rest-discuss@yahoogroups.com\r\nMessage-ID: &lt;jdccp0+7tdj@...&gt;\r\nIn-Reply-To: &lt;E1609E9F-6FA2-44EE-9414-8910EEE9BEF2@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-compose\r\nFrom: &quot;Jorn Wildt&quot; &lt;jw@...&gt;\r\nSubject: Re: Different vocabularies, same media type\r\nX-Yahoo-Group-Post: member; u=242972596; y=IC9RkPr2Kr7iPUzxsvAaKf7XSe7vjJiF7-y3hBt5_0Wdu6Pq8xS3_fw_BNA\r\nX-Yahoo-Profile: jorn_lind_nielsen\r\n\r\n&gt; Why don&#39;t you leverage an existing format, UBL in this case?\n\nThat&#39;s chea=\r\nting and avoiding the question :-) The assumption is that we actually have =\r\ntwo different formats to support. According to Wikipedia that is not even s=\r\no unrealistic - apparently there are regional variations of it (http://en.w=\r\nikipedia.org/wiki/Universal_Business_Language).\n\n&gt; &gt; First of all, we canno=\r\nt do content negotiation and switch on the media type because 1) we don&#39;t w=\r\nant to mint new domain specific media types,\n&gt; \n&gt; I&#39;d suggest you do. It ha=\r\ns no significant cost and allows you to work within the Web&#39;s architecture =\r\nwith easy.\n\nIt should be obvious, from the previous discussions in this gro=\r\nup, that different schools exists regarding this issue. Right now I am tryi=\r\nng to make up my own mind whether I belong to one or the other school. This=\r\n question is for the &quot;do not mint new media types&quot;-school.\n\n&gt; (e.g. why do =\r\nyou consider media type bloat a problem?)\n\nI haven&#39;t yet decided whether it=\r\n is a problem or not :-) Right now I am exploring the consequences of the d=\r\nifferent approaches. One thing that bothers me though, is that media types =\r\nare considered protocol layer information. For me that means putting domain=\r\n specific knowledge into it is like asking the TCP/IP stack to be aware of =\r\nCats, Dogs, Sales orders and what ever else we come up with.\n\nThanks for th=\r\ne pointers to other headers!\n\n/J=F8rn\n\n--- In rest-discuss@yahoogroups.com,=\r\n Jan Algermissen &lt;jan.algermissen@...&gt; wrote:\n&gt;\n&gt; \n&gt; On Dec 27, 2011, at 10=\r\n:40 AM, Jorn Wildt wrote:\n&gt; \n&gt; &gt; Assume we have a resource with a sales ord=\r\ner. Such a sales order can be represented for an end-user as either HTML or=\r\n a spreadsheet. With content negotiation thats easily done with accept head=\r\ners for text/html or application/vnd.ms-excel (or similar). But browsers do=\r\nn&#39;t let the end-user switch accept headers, so instead we define HTML as th=\r\ne default type, and add a link to where the spreadsheet can be downloaded.\n=\r\n&gt; &gt; \n&gt; &gt; Now we add M2M support and decide to represent the sales order in =\r\nHAL or maybe even in HTML using RDFa or some microformat. But we must suppo=\r\nrt two different ways of embedding domain specific data - either the (ficti=\r\nonal) Scandinavian Sales Order Vocabulary or the (also fictional) US Sales =\r\nOrder Vocabulary. How should we approach that problem?\n&gt; \n&gt; Why don&#39;t you l=\r\neverage an existing format, UBL in this case? UBL has no associated media t=\r\nype (yet) but that should not stop you from going ahead an minting a name f=\r\nor your purposes.\n&gt; \n&gt; &gt; \n&gt; &gt; First of all, we cannot do content negotiatio=\r\nn and switch on the media type because 1) we don&#39;t want to mint new domain =\r\nspecific media types,\n&gt; \n&gt; I&#39;d suggest you do. It has no significant cost a=\r\nnd allows you to work within the Web&#39;s architecture with easy. Why create f=\r\nixes for problems that do not exist? (Smells enterprisey :-)\n&gt; \n&gt; &gt; and 2) =\r\nbecause we want to use the same media type but with different vocabularies/=\r\nschemas.\n&gt; \n&gt; Huh?\n&gt; \n&gt; &gt; \n&gt; &gt; Second, the prerequisites might even be wron=\r\ng: is supporting multiple vocabularies the right thing to do? Lets assume i=\r\nt is right and continue on (but you are most welcome to question this!).\n&gt; =\r\n\n&gt; My personal advice: Embrace the Web, do simple, straight forward stuff a=\r\nnd defer fixing problems until the exist (e.g. why do you consider media ty=\r\npe bloat a problem?)\n&gt; \n&gt; Applying REST to enterprise IT problems does not =\r\nmean tweaking REST, it means changing your view of the problem.\n&gt; \n&gt; &gt; \n&gt; &gt;=\r\n I can see two different approaches:\n&gt; &gt; \n&gt; &gt; 1) Switch on another HTTP hea=\r\nder (but which one? accept-language? a custom one?)\n&gt; \n&gt; No\n&gt; \n&gt; &gt; \n&gt; &gt; 2) =\r\nUse different URIs for different vocabularies (as with the browser solution=\r\n).\n&gt; \n&gt; That is always good design. Variants should be given their own URIs=\r\n. Explore Content-Location header aspects for this.\n&gt; \n&gt; &gt; \n&gt; &gt; 3) Include =\r\nboth vocabularies in the response.\n&gt; \n&gt; No\n&gt; \n&gt; &gt; \n&gt; &gt; If different URIs ar=\r\ne used then we need to be able to discover them. This could be done with a =\r\nlink header/HTML anchors + link relation types.\n&gt; \n&gt; Check the Alternates h=\r\neader\n&gt; \n&gt; &gt; The downside is (as always with different URIs) that we don&#39;t =\r\nhave one single URL that represents the sales order - unless we accept the =\r\noverhead of always doing a two-step fetch, and store the base URI, fetch th=\r\nat, look for link-rels and fetch the required representation.\n&gt; \n&gt; No probl=\r\nems here - see all hints above. Conneg already handles these things well. (=\r\nDigest the all the specs before you optimize ;-)\n&gt; \n&gt; &gt; \n&gt; &gt; Personally I w=\r\nould rather avoid the two-step fetch and do vocabulary negotiation using he=\r\naders - but, on the other hand, this is perfectly acceptable in a browser-b=\r\nased scenario, so why not also use it in M2M scenarios (caching of the firs=\r\nt step would even reduce the problem).\n&gt; \n&gt; See above; HTTP & friends alrea=\r\ndy give you all you need.\n&gt; \n&gt; &gt; \n&gt; &gt; Somehow it seems like HTTP is missing=\r\n a way of doing sub-content negotiation, where the request defines the acce=\r\npted media type, and together with this also defines the acceptable sub-con=\r\ntent-format/vocabulary.\n&gt; \n&gt; There is AFAIK no notion of &#39;sub-content-forma=\r\nt/vocabulary&#39;. If you must insist on sth like this, check specs like Accept=\r\n-Features header or the various Profile-mechanisms. (Sorry, no time to dig =\r\nup the links). \n&gt; \n&gt; &gt; \n&gt; &gt; According to RFC 2616 (HTTP 1.1) the accept hea=\r\nder can take a rather generic extension &quot;;token =3D token&quot; (for instance &quot;;=\r\nlevel=3D1&quot;), but the standard fails to explain what it is supposed to be us=\r\ned for. Can it be used for exactly the scenario above?\n&gt; &gt; \n&gt; &gt; Comments?\n&gt;=\r\n &gt; \n&gt; \n&gt; Think hard whether you actually have the problems you think you ha=\r\nve. Meanwhile, give the Enterpriseys in your team something else to chew on=\r\n :-)\n&gt; \n&gt; \n&gt; Jan\n&gt; \n&gt; &gt; Thanks, J=F8rn\n&gt; &gt; \n&gt; &gt;\n&gt;\n\n\n\n"}}
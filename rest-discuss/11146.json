{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":266460716,"authorName":"Eric J. Bowman","from":"&quot;Eric J. Bowman&quot; &lt;eric@...&gt;","replyTo":"SENDER","senderId":"dpa-wDmueaNRiLJevZN993Xbm0uFDSXsTLpjVK1bol_iGxbNNT1boWOOK74wBIWQmxvqdK-mh-vGoZnamWeAlXq3i0gNKHaw2pAEbWWwug","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [rest-discuss] Different resource &#39;views&#39;","postDate":"1218014285","msgId":11146,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDIwMDgwODA2MDMxODA1LjQ2NmMwMjliLmVyaWNAYmlzb25zeXN0ZW1zLm5ldD4=","inReplyToHeader":"PEMwRTY2NTJDLTNBMDMtNDE1RC1BNTNGLUZBODdBODM5RUM1OEBnbWFpbC5jb20+","referencesHeader":"PEMwRTY2NTJDLTNBMDMtNDE1RC1BNTNGLUZBODdBODM5RUM1OEBnbWFpbC5jb20+"},"prevInTopic":11132,"nextInTopic":11147,"prevInTime":11145,"nextInTime":11147,"topicId":11119,"numMessagesInTopic":23,"msgSnippet":"I agree with the others, that you use content negotiation but allow URI parameters to override it, directly returning the desired variant. This works really","rawEmail":"Return-Path: &lt;eric@...&gt;\r\nX-Sender: eric@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 46675 invoked from network); 6 Aug 2008 09:17:51 -0000\r\nX-Received: from unknown (66.218.67.94)\n  by m45.grp.scd.yahoo.com with QMQP; 6 Aug 2008 09:17:51 -0000\r\nX-Received: from unknown (HELO mxout-03.mxes.net) (216.86.168.178)\n  by mta15.grp.scd.yahoo.com with SMTP; 6 Aug 2008 09:17:50 -0000\r\nX-Received: from BigBison (unknown [65.117.211.162])\n\t(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))\n\t(No client certificate requested)\n\tby smtp.mxes.net (Postfix) with ESMTP id 0C1AD23E49E;\n\tWed,  6 Aug 2008 05:17:49 -0400 (EDT)\r\nDate: Wed, 6 Aug 2008 03:18:05 -0600\r\nTo: Griffin Caprio &lt;griffin.caprio@...&gt;\r\nCc: rest-discuss@yahoogroups.com\r\nMessage-Id: &lt;20080806031805.466c029b.eric@...&gt;\r\nIn-Reply-To: &lt;C0E6652C-3A03-415D-A53F-FA87A839EC58@...&gt;\r\nReferences: &lt;C0E6652C-3A03-415D-A53F-FA87A839EC58@...&gt;\r\nOrganization: Bison Systems Corporation\r\nX-Mailer: Sylpheed 2.4.5 (GTK+ 2.10.14; i686-pc-mingw32)\r\nMime-Version: 1.0\r\nContent-Type: text/plain; charset=US-ASCII\r\nContent-Transfer-Encoding: 7bit\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: &quot;Eric J. Bowman&quot; &lt;eric@...&gt;\r\nSubject: Re: [rest-discuss] Different resource &#39;views&#39;\r\nX-Yahoo-Group-Post: member; u=266460716\r\n\r\nI agree with the others, that you use content negotiation but allow URI\nparameters to override it, directly returning the desired variant. This\nworks really well to test the output of conneg systems, without having\nto muck about with browser settings or use curl.  I say parameter, not\nquery, because your URIs don&#39;t represent queries -- the output format\nhas always seemed a parameter to me:\n\n/team/cubs;view=csv\n/team/cubs;view=json\n\nNote that this gives clean separation between a choice of output\nformat, and any actual query, say the team&#39;s current win/loss record:\n\n/team/cubs;view=csv?query=record\n/team/cubs;view=json?query=record\n\nIn this situation, we don&#39;t have to worry about cache aliasing (my term\nfor what&#39;s been discussed in this thread re: order of name/value pairs)\nbecause RFC 3986 tells us that queries follow parameters.  But, if you\nuse more than one parameter or name/value pair in the query, you&#39;re into\n&quot;matrix URI&quot; territory.  My solution is to use 301 redirects to re-order\nrequests into their &#39;proper&#39; form as I define it, because URIs are\nopaque -- each unique one will create its own cache alias for the same\ndata.  Note that some servers will recognize ?view=csv even if you only\nintend ;view=csv, instead of returning a 404 as appropriate, because\nanything after the &#39;;&#39; is considered a query string, I forget why...\n\nThe icing on the cake, if your source data is accessible as XML, is\nbeing able to generate any desired output format/media type combination\nusing XSLT&#39;s &lt;output/&gt; element.  We&#39;ve implemented a system where\n;view= URI parameters may be added at any time, by PUTting a new XSLT\nfile on the server.  For example, if I wanted JSON output, I&#39;d PUT an\nXSLT file named json.xsl on the server.  If that file is present, then\nany request specifying ;view=json would cause the XSLT processor on the\nserver to transform the XML source data using json.xsl to generate JSON\noutput, and parse &lt;output media-type=&#39;application/json&#39;/&gt; to set the\nHTTP header.  IOW, this is the sort of thing XSLT is ideal for.\n\n-Eric\n\nGriffin Caprio wrote:\n\n&gt; Hi all,\n&gt; \n&gt; I&#39;m curious to know what are doing to allow clients to request  \n&gt; different views of a resource?  For example, say I had this resource:\n&gt; \n&gt; /team/cubs\n&gt; \n&gt; I&#39;d like to represent the resulting resource as HTML, JSON, CSV,  \n&gt; etc....  The easiest way would be to append a &quot;view&quot; query string\n&gt; value:\n&gt; \n&gt; /team/cubs?view=csv\n&gt; /team/cubs?view=json\n&gt; ....\n&gt; \n&gt; Another option would be to rely on the request HTTP headers sent\n&gt; from the client.  I like this approach from an athestic pov, since\n&gt; it doesn&#39;t muck up the URLs.  But it places a big dependency on the  \n&gt; clients being able to correctly set the right headers.  Also, some  \n&gt; headers could have more than one value, so you get into situations  \n&gt; where ordering must be figured out.  So it seems like the query\n&gt; string approach is the most deterministic and also the least complex.\n&gt; \n&gt; Anybody else have other options?\n&gt; \n&gt; Thanks,\n&gt; Griffin Caprio\n&gt; http://blog.1530technologies.com\n&gt; http://www.oreillynet.com/xml/blog/\n&gt; \n\n"}}
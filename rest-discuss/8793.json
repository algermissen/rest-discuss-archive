{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":221647988,"authorName":"Bob Haugen","from":"&quot;Bob Haugen&quot; &lt;bob.haugen@...&gt;","replyTo":"SENDER","senderId":"4qbRA3im1IfBFwA0aPEhv3VgNNQ0VDOUdgiXnV8VTw_9ej7mHgMA5cjygEy3A2_vOH67GziUNXJHxI0m-aLt9PJ-BCe0QLGhf94","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [rest-discuss] Re: RESTful CRUD Module?","postDate":"1180981964","msgId":8793,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDM0M2VjYjNlMDcwNjA0MTEzMnY0MmUxMjU0Y3lkYzg5MzkxNThjYjE2ODZjQG1haWwuZ21haWwuY29tPg==","inReplyToHeader":"PGY0MWg0aytoaHFvQGVHcm91cHMuY29tPg==","referencesHeader":"PDAwMjAwMWM3YTY3MCRiZjBmN2UwMCQwNzAyYThjMEBHdWlkZXMubG9jYWw+CSA8ZjQxaDRrK2hocW9AZUdyb3Vwcy5jb20+"},"prevInTopic":8791,"nextInTopic":8800,"prevInTime":8792,"nextInTime":8794,"topicId":8772,"numMessagesInTopic":23,"msgSnippet":"Comment below. ... I have not read the book, and so am not sure I understand correctly. But the book method appears to support a provisional-final transaction ","rawEmail":"Return-Path: &lt;bob.haugen@...&gt;\r\nX-Sender: bob.haugen@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nReceived: (qmail 15706 invoked from network); 4 Jun 2007 19:21:30 -0000\r\nReceived: from unknown (66.218.66.167)\n  by m46.grp.scd.yahoo.com with QMQP; 4 Jun 2007 19:21:30 -0000\r\nReceived: from unknown (HELO ug-out-1314.google.com) (66.249.92.172)\n  by mta6.grp.scd.yahoo.com with SMTP; 4 Jun 2007 19:21:30 -0000\r\nReceived: by ug-out-1314.google.com with SMTP id m3so915675ugc\n        for &lt;rest-discuss@yahoogroups.com&gt;; Mon, 04 Jun 2007 12:17:25 -0700 (PDT)\r\nDKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;\n        d=gmail.com; s=beta;\n        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;\n        b=CXWEMFCUNYUJuiFL8JLE7Gpw1KJ7VrzokqrNY1BKHTSX7c72WOQG4Cn6gqndHCHbfGMKMev2XuaG1qNSj9PZlowmGNaHUWpnXNw6gMr314h4AIhcEgCthCMTRLbVZlgn8TFu+eIlN8l1E/RzbxMDMCsLYlwi81ZkbZeetNTiCzs=\r\nReceived: by 10.78.37.7 with SMTP id k7mr2121842huk.1180981964527;\n        Mon, 04 Jun 2007 11:32:44 -0700 (PDT)\r\nReceived: by 10.78.25.6 with HTTP; Mon, 4 Jun 2007 11:32:44 -0700 (PDT)\r\nMessage-ID: &lt;343ecb3e0706041132v42e1254cydc8939158cb1686c@...&gt;\r\nDate: Mon, 4 Jun 2007 13:32:44 -0500\r\nTo: rest-discuss@yahoogroups.com\r\nIn-Reply-To: &lt;f41h4k+hhqo@...&gt;\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nContent-Disposition: inline\r\nReferences: &lt;002001c7a670$bf0f7e00$0702a8c0@...&gt;\n\t &lt;f41h4k+hhqo@...&gt;\r\nX-eGroups-Msg-Info: 1:0:0:0\r\nFrom: &quot;Bob Haugen&quot; &lt;bob.haugen@...&gt;\r\nSubject: Re: [rest-discuss] Re: RESTful CRUD Module?\r\nX-Yahoo-Group-Post: member; u=221647988\r\n\r\nComment below.\n\nOn 6/4/07, eoinprout &lt;eoin@...&gt; wrote:\n&gt;\n&gt; The example given in the book uses a banking case of transfer money\n&gt;  from a Chequing account ID 11 to a savings account ID 55 and goes like\n&gt;  this.\n&gt;\n&gt;  1) Create a transaction resource for an account transfer.\n&gt;  POST /transaction/account-transfer\n&gt;  The response gives the URI for the transaction\n&gt;  /transaction/account-transfer/11a5\n&gt;\n&gt;  2) reduce the amount in the Chequing account 11 from 200 to 150\n&gt;  PUT /transaction/account-transfer/11a5/chequing/11\n&gt;  balance=150\n&gt;\n&gt;  3) increase the amount in the savings account 55 from 200 to 250\n&gt;  PUT /transaction/account-transfer/11a5/chequing/11\n&gt;  balance=250\n&gt;\n&gt;  4) To rollback the transaction\n&gt;  DELETE /transaction/account-transfer/11a5\n&gt;\n&gt;  5) To Commit the transaction\n&gt;  PUT /transaction/account-transfer/11a5\n&gt;  committed=true\n&gt;\n&gt;  the books uses the &quot;checking&quot; spelling , but this is confusing so I&#39;m\n&gt;  using the &quot;Chequing&quot; spelling.\n&gt;\n&gt;  I suggest another way could be\n&gt;  1) Create the transaction as before.\n&gt;  2) reduce the amount in the chequing account 11 from 200 to 150\n&gt;  PUT /chequing/11\n&gt;  transaction=/transaction/account-transfer/11a5\n&gt;  balance=150\n&gt;  3) increase the amount in the savings account 55 from 200 to 250\n&gt;  PUT /chequing/11\n&gt;  transaction=/transaction/account-transfer/11a5\n&gt;  balance=250\n&gt;  4) Rollback transaction as before\n&gt;  5) Commit transaction as before\n&gt;\n&gt;  Anyone want to point out the pros/cons of either method ?\n\nI have not read the book, and so am not sure I understand correctly.\n\nBut the book method appears to support a provisional-final transaction\npattern, where the PUTs before commit update provisional resources,\nand the real accounts are only updated upon commit.  If I understand\nyour proposal correctly, you are updating the real accounts before\ncommitting, and then reversing the updates upon rollback.\n\nIf you update the real accounts before commit, what if somebody\nwithdraws the money from account 55 before rollback (between steps 3\nand 4)?\n\n(One example of the many potential problems with &quot;compensation&quot; or\n&quot;undo&quot; rollbacks.)\n\nMaybe an interim withdrawal is unlikely in a quick account transfer\nscenario, but how about an order offer-acceptance transaction?  If the\nreal order is created before acceptance without any sign of\nprovisionality, it will look to the fulfillment systems like an\naccepted order, and the fulfillment system may trigger pick, pack and\nship.\n\n"}}
{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":128052681,"authorName":"Donald Ball","from":"&quot;Donald Ball&quot; &lt;dball@...&gt;","profile":"donald_the_rhobot","replyTo":"SENDER","senderId":"POLt8oAA_3Be65uZr7wtVJlSSZ5y10TIsJMFdesYJqledeWF1rOReZgPLDlF_acl09Lbpy_9yPBy_mxtrzjS1zdLcwSpCNaN1A","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [rest-discuss] How to handle in a RESTful fashion?","postDate":"1035831137","msgId":2779,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDIwMDIxMDI4MTM1MjE3MDk4OC4wMEQxRTgzNkBtYWlsLnJob3dvcmxkLmNvbT4=","inReplyToHeader":"PE9FNTFzdm1pdTYyejl5cmRCVG8wMDAwOTJjY0Bob3RtYWlsLmNvbT4=","referencesHeader":"PDIwMDIxMDIzMTYyNjUwMDUwNy4wMTQwQjYzQ0BtYWlsLnJob3dvcmxkLmNvbT4gPE9FMjh0RGVHdTFjQ0VySmE3QVkwMDAwNjZkZkBob3RtYWlsLmNvbT4gPDIwMDIxMDI4MTA1NjQ2MDMxNC4wMDMxMzREREBtYWlsLnJob3dvcmxkLmNvbT4gPE9FNTFzdm1pdTYyejl5cmRCVG8wMDAwOTJjY0Bob3RtYWlsLmNvbT4="},"prevInTopic":2778,"nextInTopic":2780,"prevInTime":2778,"nextInTime":2780,"topicId":2771,"numMessagesInTopic":6,"msgSnippet":"... form ... target= panel_right ... I take your point, if the thing on the left was a form with checkboxes, but UI constraints dictate that it s an explorer","rawEmail":"Return-Path: &lt;dball@...&gt;\r\nX-Sender: dball@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nReceived: (EGP: mail-8_2_2_1); 28 Oct 2002 18:52:21 -0000\r\nReceived: (qmail 97020 invoked from network); 28 Oct 2002 18:52:21 -0000\r\nReceived: from unknown (66.218.66.217)\n  by m13.grp.scd.yahoo.com with QMQP; 28 Oct 2002 18:52:21 -0000\r\nReceived: from unknown (HELO mailman.rhoworld.com) (216.136.12.130)\n  by mta2.grp.scd.yahoo.com with SMTP; 28 Oct 2002 18:52:21 -0000\r\nReceived: (from root@localhost)\n\tby mailman.rhoworld.com (8.12.3/8.12.3) id g9SIqLI8003351\n\tfor rest-discuss@yahoogroups.com; Mon, 28 Oct 2002 13:52:21 -0500 (EST)\n\t(envelope-from dball@...)\r\nReceived: from DHLSQQ11 ([10.1.1.252])\n\tby mailman.rhoworld.com (8.12.3/8.12.3av) with ESMTP id g9SIqK2L003344\n\tfor &lt;rest-discuss@yahoogroups.com&gt;; Mon, 28 Oct 2002 13:52:20 -0500 (EST)\n\t(envelope-from dball@...)\r\nMessage-ID: &lt;200210281352170988.00D1E836@...&gt;\r\nIn-Reply-To: &lt;OE51svmiu62z9yrdBTo000092cc@...&gt;\r\nReferences: &lt;200210231626500507.0140B63C@...&gt;\n &lt;OE28tDeGu1cCErJa7AY000066df@...&gt;\n &lt;200210281056460314.003134DD@...&gt;\n &lt;OE51svmiu62z9yrdBTo000092cc@...&gt;\r\nX-Mailer: Calypso Version 3.30.00.00 (4)\r\nDate: Mon, 28 Oct 2002 13:52:17 -0500\r\nTo: rest-discuss@yahoogroups.com\r\nSubject: Re: [rest-discuss] How to handle in a RESTful fashion?\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nX-Virus-Scanned: by AMaViS perl-11\r\nFrom: &quot;Donald Ball&quot; &lt;dball@...&gt;\r\nReply-To: dball@...\r\nX-Yahoo-Group-Post: member; u=128052681\r\nX-Yahoo-Profile: donald_the_rhobot\r\n\r\n&gt;&gt; &gt;a) use client-side state for the set of column selected\n&gt;&gt; &gt;If the left panel has a list of db columns, and each were a checkbox in\n&gt;a\n&gt;&gt; &gt;form, auto-submit the form when a checkbox is checked, and have the\nform\n&gt;&gt; &gt;use\n&gt;&gt; &gt;method=GET. This will cause a URL to be generated of the format\n&gt;&gt; &gt;?col1=on&col3=on&col7=on\n&gt;&gt; &gt;This URI identifies a resource which is that particular permutation of\n&gt;&gt; &gt;column names. This can be easily rendered into HTML\n&gt;&gt; &gt;Of course, using a FORM literally might not be the most chrome looking\n&gt;UI,\n&gt;&gt; &gt;so let your script kiddies go nuts.\n&gt;&gt;\n&gt;&gt; Can&#39;t / don&#39;t want to reload this frame every time the link is checked.\n&gt;&gt; It&#39;s a big tree and somewhat expensive to render.\n&gt;You don&#39;t re-load the frame on the left, you use &lt;form\ntarget=&#39;panel_right&#39;\n&gt;&gt; to reload the panel on the right.\n\nI take your point, if the thing on the left was a form with checkboxes, but\nUI constraints dictate that it&#39;s an explorer tree with links. c&#39;e la vie.\n\n&gt;&gt; Could use javascript to generate the links on the fly, but that&#39;s also\n&gt;not\n&gt;necessarily desirable\n&gt;&gt; from a RESTful pov.\n&gt;You are in a classical browser, you aren&#39;t going to get very far into REST\n&gt;land that way.\n&gt;Serve the user first, and the architecture second.\n\nI think the REST architecture principles have just as much to offer\ntraditional HTML webapps as new-fangled XML web services. But that&#39;s beside\nthe point.\n\n&gt;&gt; I think that&#39;s the one I&#39;d like to run with. Question is, what do the\n&gt;&gt; mechanics look like? When adding a column to a view, I issue a request\n&gt;&gt; something like:\n&gt;&gt;\n&gt;&gt; GET /view?task=add&var=foo\n&gt;No, no, no. Did I mention, no? Do not do an &#39;update&#39; with a GET.\n&gt;If you have a single view that you add names to over time, then the\n&gt;requests\n&gt;will go to the /same uri/ - so don&#39;t put things in the query terms (it is\n&gt;part of the URI).\n\nSo you&#39;re of the opinion that, given the design constraints, it would be\npreferable to massage the requests to POSTs using javascript than to issue\nGET requests without relying on javascript?\n\n&gt;You will want something like:\n&gt;\n&gt;====\n&gt;// request #1\n&gt;POST /view?task=add\n&gt;Content-Type: application/x-www-form-urlencoded\n&gt;\n&gt;var=foo\n&gt;\n&gt;// request #2\n&gt;POST /view?task=add\n&gt;Content-Type: application/x-www-form-urlencoded\n&gt;\n&gt;var=bar\n&gt;\n&gt;=====\n&gt;Notice how the same URI is used twice. That is because the same resource\nis\n&gt;updated twice. Also, notice that the URI that is being used isn&#39;t all that\n&gt;great - all users would be appending column names all day long. You need\nto\n&gt;get some qualifying information intothe URI - either the userID, the\n&gt;viewID,\n&gt;or something.\n\nunless the semantics for the /view URL dictate that, absent a specific\nidentifier, the current view for the user is the one being modified. Is\nthat legit from a REST pov?\n\n&gt;&gt; 1. I&#39;m not specifying the view id in the change request. Due to the fact\n&gt;&gt; that I don&#39;t want to regenerate the link tree, though, this is largely\n&gt;&gt; unavoidable. I&#39;ll just store the user&#39;s active view id in their session,\n&gt;&gt; but always redirect them to a URL which they can use absent a session.\n&gt;Tell me again why using a viewId causes the tree to change?\n\nbecause I don&#39;t know the view id until the user has created one by clicking\non a link in the tree. It would be undesirable for a couple of other\nreasons as well, actually.\n\n&gt;&gt; 2. I should be using a POST request when changing the dataset view.\nThere\n&gt;&gt; are two reasons why I can&#39;t/shouldn&#39;t though:\n&gt;&gt;\n&gt;&gt;   a. The change request is activated by a link, which can&#39;t issue a POST\n&gt;&gt; request unless use javascript links\n&gt;Causing updates on the server via a link is to be avoided. I know it would\n&gt;be really nice to do this, but you need to avoid this anyway.\n&gt;If you really want that kind of silent update, use javascript. If you use\n&gt;checkboxes and send the form on each click, then you&#39;ll know when the user\n&gt;de-selects a column. Clicking links won&#39;t allow you do de-select columns.\n\nOnce a column is in the active dataset view, there are a number of things\nthat can be done to the column in the view frame, including removing it\nfrom the dataset.\n\n&gt;&gt;   b. You&#39;re not supposed to issue a redirect from a POST request\n&gt;There are two different response status codes - one means &#39;request\n&gt;finished - see this link for results&#39;, the other means &#39;request not\n&gt;processed - try again at this location&#39;.\n&gt;Why aren&#39;t you supposed to redirect from a POST?\n\nI had been given to understand that it was technically not allowed\naccording to the HTTP spec, but as it turns out, that&#39;s untrue. It _is_\ntrue that browsers are supposed to verify a redirect request with a user if\nthe server issues a 302 or a 307 in response to a POST (although none do,\nit would seem), but HTTP/1.1 added a 303 response which is suitable for\nredirects from POST requests. Doesn&#39;t work with NN4, but 302 is an\nacceptable fallback.\n\nSo the upshot seems to be that, given my constraints, the links in the\nexplorer should silently turn into POST requests, which send back 303\nredirects to a long-lived URL for the dataset view. I can live with that,\nthanks for the conversation.\n\n- donald\n\n\n"}}
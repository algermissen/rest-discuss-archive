{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":184797058,"authorName":"Benjamin Carlyle","from":"Benjamin Carlyle &lt;benjamincarlyle@...&gt;","profile":"fuzzybsc","replyTo":"SENDER","senderId":"TUYF5VTPJb1X961jHJmOEOrBL_Llrts2CRJKvZTAKCx9wzOD9bNwvdeD3k6uPFZ9PnHy9bknpwVfzCHQfgG1uZdRsIpSlSFGuJAAfaV6RCyqQ-iICE-U8VI","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [rest-discuss] modelling transactions","postDate":"1170797058","msgId":7818,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDExNzA3OTcwNTguNDgzOS4xMy5jYW1lbEBsb2NhbGhvc3QubG9jYWxkb21haW4+","inReplyToHeader":"PDIwMDcwMjA1MTkwNTQ0LkdBODMyNkBzbGlua3AuY29tPg==","referencesHeader":"PDIwMDcwMjAyMDUxNjA0LkdBMTA0OTVAc2xpbmtwLmNvbT4JIDwxMTcwNTUwNTQ0LjUzMDIuMTguY2FtZWxAbG9jYWxob3N0LmxvY2FsZG9tYWluPgkgPDIwMDcwMjA1MTUyNTQ2LkdFNzE5MkBzbGlua3AuY29tPiA8ODdwczhvOG1nMy5mc2ZAdGFwc2VsbGZlcnJpZXIuY28udWs+CSA8MjAwNzAyMDUxOTA1NDQuR0E4MzI2QHNsaW5rcC5jb20+"},"prevInTopic":7815,"nextInTopic":7819,"prevInTime":7817,"nextInTime":7819,"topicId":7780,"numMessagesInTopic":17,"msgSnippet":"... Sorry: Post Once Exactly. Techniques for this are currently being discussed in the POST at most once thread. ... That would seem to be a problem with","rawEmail":"Return-Path: &lt;benjamincarlyle@...&gt;\r\nX-Sender: benjamincarlyle@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nReceived: (qmail 64185 invoked from network); 6 Feb 2007 21:25:26 -0000\r\nReceived: from unknown (66.218.67.34)\n  by m35.grp.scd.yahoo.com with QMQP; 6 Feb 2007 21:25:26 -0000\r\nReceived: from unknown (HELO mail05.syd.optusnet.com.au) (211.29.132.186)\n  by mta8.grp.scd.yahoo.com with SMTP; 6 Feb 2007 21:25:26 -0000\r\nReceived: from c210-49-93-69.rochd2.qld.optusnet.com.au (c210-49-93-69.rochd2.qld.optusnet.com.au [210.49.93.69])\n\tby mail05.syd.optusnet.com.au (8.13.1/8.13.1) with ESMTP id l16LOI7h012625;\n\tWed, 7 Feb 2007 08:24:20 +1100\r\nTo: Paul Winkler &lt;pw_lists@...&gt;\r\nCc: rest-discuss@yahoogroups.com\r\nIn-Reply-To: &lt;20070205190544.GA8326@...&gt;\r\nReferences: &lt;20070202051604.GA10495@...&gt;\n\t &lt;1170550544.5302.18.camel@...&gt;\n\t &lt;20070205152546.GE7192@...&gt; &lt;87ps8o8mg3.fsf@...&gt;\n\t &lt;20070205190544.GA8326@...&gt;\r\nContent-Type: text/plain\r\nDate: Wed, 07 Feb 2007 07:24:18 +1000\r\nMessage-Id: &lt;1170797058.4839.13.camel@...&gt;\r\nMime-Version: 1.0\r\nX-Mailer: Evolution 2.6.3 \r\nContent-Transfer-Encoding: 7bit\r\nX-eGroups-Msg-Info: 1:0:0:0\r\nFrom: Benjamin Carlyle &lt;benjamincarlyle@...&gt;\r\nSubject: Re: [rest-discuss] modelling transactions\r\nX-Yahoo-Group-Post: member; u=184797058; y=XQgx9JqmLQfiJ2CNL6BKfA3T5SYWffrGJ9dgGqwAhHjSNsc\r\nX-Yahoo-Profile: fuzzybsc\r\n\r\nOn Mon, 2007-02-05 at 10:25 -0500, Paul Winkler wrote: \n&gt; On Sun, Feb 04, 2007 at 10:55:43AM +1000, Benjamin Carlyle wrote:\n&gt; &gt; You can use a POE technique to ensure that this operation can be\n&gt; safely\n&gt; &gt; retried if the client recieves no response.\n&gt; What is POE?\n\nSorry: Post Once Exactly. Techniques for this are currently being\ndiscussed in the POST at most once thread.\n\n&gt; On Mon, 2007-02-05 at 14:05 -0500, Paul Winkler wrote:\n&gt; On Mon, Feb 05, 2007 at 06:54:20PM +0000, Nic James Ferrier wrote:\n&gt; &gt; Paul Winkler &lt;pw_lists@...&gt; writes:\n&gt; &gt; &gt; Noted. Many of our requirements fit perfectly into the\n&gt; single-request\n&gt; &gt; &gt; model. It&#39;s just the bulk loading stuff that&#39;s a pain.\n&gt; &gt; &gt; Maybe I should provide as separate interface for that.\n&gt; &gt; Is it though? Surely you could publish a format requirement for a\n&gt; &gt; POSTed entity that allowed bulk uploading in one shot.\n&gt; Sure, but that&#39;s impractical when I have gigabytes of stuff to load in\n&gt; one &quot;transaction&quot;, as mentioned previously in the thread.\n\nThat would seem to be a problem with implementation technology, however\nI conceed that such limitations need to be worked around :)\n\nSo let&#39;s look at this in stages:\n1. Transfer state of new publications to server\n2. Server acts on the publication as an atomic unit\n3. Client is notified of transaction completion\n\nThe simplest implementation of POST -&gt; 200 OK is not available because\nthe implementation technology would cause us to eat up all available\nmemory just transferring the request. So we use\n\n1a. Use any available file transfer mechanism from client to server\n1b. Request the server use the transferred file as input\n2. Server acts on publication as an atomic unit\n3. Server replies with 200 OK, or sends a request back to the client\nsaying effectively 200 OK.\n\nThis leaves us with a number of problems still to solve. For example,\nhow do we phrase the &quot;load this data&quot; request. It is most analagous to\nthe WebDav COPY request. ie, copy the file resource we just gave you to\nthe set of published nodes. You&#39;ll find varying opinions on the merit of\nCOPY on this list. IIRC Fielding has noted in the past that HTTP is\ndesigned to operate on a single url, and that WebDav COPY and related\noperations have both theoretical and practical problems attached to\nthem.\n\nThe other alternative is to head in the direction you are already\nheading, which is unlikely to be worse than the file transfer + COPY\napproach. Perform the transaction piecemeal with POSTs to a transaction\nurl or other requests that refer to the transaction url in a header,\nthen POST a commit marker into the transaction resource.\n\nIf the client really needs to make the update atomically and your\nimplementation technology really doesn&#39;t permit the update to be\nperformed as a single request, you have to head in this sort of\ndirection. Just plan your error recovery carefully. There are a lot more\nways that multiple requests can go wrong.\n\nBenjamin.\n\n\n"}}
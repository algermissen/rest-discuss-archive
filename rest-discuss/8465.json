{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":164939419,"authorName":"Jon Hanna","from":"Jon Hanna &lt;jon@...&gt;","profile":"hack_poet","replyTo":"SENDER","senderId":"29cCQlLXTfPy09vudOa4amTesZY8Dgan-ATide5HIT4GQ7HSdpImUfoxg5hg710qeDa8wxVG7w4UtSZvJy4JF4A462I","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [rest-discuss] URI for current authenticated user","postDate":"1179242748","msgId":8465,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDQ2NDlEMEZDLjcwNDA1MDNAaGFja2NyYWZ0Lm5ldD4=","inReplyToHeader":"PDBFNzVBQjA3LUFDMTQtNDkyRS05NUFELTlGMjI3RDk0RjZCQ0Bjcy5tYW4uYWMudWs+","referencesHeader":"PGQ4YjU5NDVmMDcwNTE0MTExNXAxZjI0MDlkOXRlZmRiY2Y3MWViZTAxM2JlQG1haWwuZ21haWwuY29tPiA8NDY0OUFFNEIuMTA4MDgwN0BoYWNrY3JhZnQubmV0PiA8MEU3NUFCMDctQUMxNC00OTJFLTk1QUQtOUYyMjdEOTRGNkJDQGNzLm1hbi5hYy51az4="},"prevInTopic":8464,"nextInTopic":8466,"prevInTime":8464,"nextInTime":8466,"topicId":8451,"numMessagesInTopic":24,"msgSnippet":"... It s RESTful to return a different representation based on the content of headers, as long as you say that you re doing so (through the Vary header), so","rawEmail":"Return-Path: &lt;jon@...&gt;\r\nX-Sender: jon@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nReceived: (qmail 5613 invoked from network); 15 May 2007 15:27:55 -0000\r\nReceived: from unknown (66.218.66.70)\n  by m51.grp.scd.yahoo.com with QMQP; 15 May 2007 15:27:55 -0000\r\nReceived: from unknown (HELO mail.arena1.com) (63.116.216.131)\n  by mta12.grp.scd.yahoo.com with SMTP; 15 May 2007 15:27:55 -0000\r\nReceived: from UnknownHost [83.70.80.115] by mail.arena1.com with SMTP;\n   Tue, 15 May 2007 11:25:48 -0400\r\nMessage-ID: &lt;4649D0FC.7040503@...&gt;\r\nDate: Tue, 15 May 2007 16:25:48 +0100\r\nUser-Agent: Thunderbird 2.0.0.0 (Windows/20070326)\r\nMIME-Version: 1.0\r\nTo: Rest List &lt;rest-discuss@yahoogroups.com&gt;\r\nReferences: &lt;d8b5945f0705141115p1f2409d9tefdbcf71ebe013be@...&gt; &lt;4649AE4B.1080807@...&gt; &lt;0E75AB07-AC14-492E-95AD-9F227D94F6BC@...&gt;\r\nIn-Reply-To: &lt;0E75AB07-AC14-492E-95AD-9F227D94F6BC@...&gt;\r\nContent-Type: text/plain; charset=UTF-8; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-Declude-Sender: jon@... [83.70.80.115]\r\nX-Declude-Spoolname: -157463270722.eml\r\nX-Declude-RefID: \r\nX-Declude-Note: Scanned by Declude 4.3.14 for spam. &quot;http://www.declude.com/x-note.htm&quot;\r\nX-Declude-Scan: Score [4] at 11:25:57 on 15 May 2007\r\nX-Declude-Fail: Whitelisted\r\nX-Country-Chain: \r\nX-eGroups-Msg-Info: 1:0:0:0\r\nFrom: Jon Hanna &lt;jon@...&gt;\r\nSubject: Re: [rest-discuss] URI for current authenticated user\r\nX-Yahoo-Group-Post: member; u=164939419; y=MhW-XdKlVEY5F0BayJy1rcwOo2KRG3NwPuwdVODFI3iM03vE\r\nX-Yahoo-Profile: hack_poet\r\n\r\nStian Soiland wrote:\n\n&gt;  From here the client knows where to go to post new jobs, etc. My  \n&gt; problem is how to get that &#39;/user/stain&#39; address from the seed  \n&gt; address. The username is the same as in the HTTP basic authentication  \n&gt; (which is required for basically everything), but I still feel it&#39;s  \n&gt; not really RESTful to on the client construct the address from the  \n&gt; capabilities-&gt;users element at / and the HTTP basic-auth username, or  \n&gt; to include a &lt;currentUser xlink:href=&quot;users/stain&quot; /&gt; element in the  \n&gt; capabilities document. Or is it?\n\n\nIt&#39;s RESTful to return a different representation based on the content \nof headers, as long as you say that you&#39;re doing so (through the Vary \nheader), so putting &lt;currentUser xlink:href=&quot;users/stain&quot; /&gt; doesn&#39;t \nbreak with REST as long as you include Authorization in the Vary header.\n\nThere are advantages in not doing so, particularly with regard to \ncachability (since most caches will regard anything with a Vary header \nas non-cachable, and even a &quot;perfect&quot; cache will of course only be able \nto send you the cached version if it is in response to the same \nAuthorization header. Therefore to minimise the impact of this I&#39;d \nrecommend always sending &lt;currentUser xlink:href=&quot;currentUser&quot; /&gt; and \nhaving that redirecting the the current user on the basis of the \nAuthorization header - with appropriate cache and vary headers.\n\nThen only that redirect response suffers from the caching problems.\n\n\n"}}
{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":299094884,"authorName":"Stefan Eissing","from":"Stefan Eissing &lt;stefan.eissing@...&gt;","replyTo":"SENDER","senderId":"0FxHH4ez8N71t5XMkLAKTCBs80XSH2Yd3iQqo5pdm0zj536zKnqTpZ2bQ9Mk31MX2Y5QjAWK4va8j-JCbfHY03Vwv9zBc7SYgcLuAHL1lTxzAqFm","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [rest-discuss] Re: AtomPub copy/move extension: [was Amazon S3 tacks a COPY under PUT]","postDate":"1215413454","msgId":10989,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDZDMzY2M0RDLTQ2MTItNDU2Qi04NzdBLTRBQkFEMUM2MDlGOEBncmVlbmJ5dGVzLmRlPg==","inReplyToHeader":"PDIwMDgwNzA2MTUzODI4LkdBMjE2NjFAa2xhbmdyYXVtLnBsYXNtYXN0dXJtLm9yZz4=","referencesHeader":"PDlkYzc4ZDdiMDgwNDE0MDQwMHY0OGM0NjRkMnIzOGY4ZjJmNzYwNWMwNDFjQG1haWwuZ21haWwuY29tPiA8NDgwMzNEOTIuMzA2MDEwM0BnbXguZGU+IDxhNmE2ZGYzNjA4MDQxNDA2NTN2NGRhNzY0NnAyNTkyYjRjODEwMjA2NTA5QG1haWwuZ21haWwuY29tPiA8NUMzRjM2QUYtNEJEMi00OEQ4LUI5NzctRDc2NkExNjZCMUYyQGdtYWlsLmNvbT4gPGE2YTZkZjM2MDgwNDE0MTUwNWsxZDA1OGVlOWs2NmViYjM3Zjc0NWRmMjBjQG1haWwuZ21haWwuY29tPiA8NDgwNDU2Q0MuOTAzMDgwNkBnbXguZGU+IDw5ZGM3OGQ3YjA4MDQxNTAxMThnYjdkOGFhZHExOWQyMjgxMzY4MGE2MzJAbWFpbC5nbWFpbC5jb20+IDw0ODA2NkE3Qy4xMDIwMTA5QGRlaG9yYS5uZXQ+IDw0ODZFNDU1Ny45MDIwMDA0QGRlaG9yYS5uZXQ+IDw2OUZGQTYxMzI0QzY0N0ZFOENFQUM4NTAwRjNDNzdBQ0BUNjA+IDwyMDA4MDcwNjE1MzgyOC5HQTIxNjYxQGtsYW5ncmF1bS5wbGFzbWFzdHVybS5vcmc+"},"prevInTopic":10988,"nextInTopic":10990,"prevInTime":10988,"nextInTime":10990,"topicId":10613,"numMessagesInTopic":44,"msgSnippet":"HTTP injection, cool! Who would have thought that we could invent a new attack vector so easily! Security issues aside, there are quite some obstacles when","rawEmail":"Return-Path: &lt;stefan.eissing@...&gt;\r\nX-Sender: stefan.eissing@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 87258 invoked from network); 7 Jul 2008 06:50:59 -0000\r\nX-Received: from unknown (66.218.67.96)\n  by m42.grp.scd.yahoo.com with QMQP; 7 Jul 2008 06:50:59 -0000\r\nX-Received: from unknown (HELO donbot.greenbytes.de) (217.91.35.233)\n  by mta17.grp.scd.yahoo.com with SMTP; 7 Jul 2008 06:50:58 -0000\r\nX-Received: from [192.168.1.6] (unknown [192.168.1.6])\n\t(using TLSv1 with cipher AES128-SHA (128/128 bits))\n\t(Client did not present a certificate)\n\tby donbot.greenbytes.de (Postfix) with ESMTP id BD41EC4C060;\n\tMon,  7 Jul 2008 08:51:41 +0200 (CEST)\r\nIn-Reply-To: &lt;20080706153828.GA21661@...&gt;\r\nReferences: &lt;9dc78d7b0804140400v48c464d2r38f8f2f7605c041c@...&gt; &lt;48033D92.3060103@...&gt; &lt;a6a6df360804140653v4da7646p2592b4c810206509@...&gt; &lt;5C3F36AF-4BD2-48D8-B977-D766A166B1F2@...&gt; &lt;a6a6df360804141505k1d058ee9k66ebb37f745df20c@...&gt; &lt;480456CC.9030806@...&gt; &lt;9dc78d7b0804150118gb7d8aadq19d22813680a632@...&gt; &lt;48066A7C.1020109@...&gt; &lt;486E4557.9020004@...&gt; &lt;69FFA61324C647FE8CEAC8500F3C77AC@T60&gt; &lt;20080706153828.GA21661@...&gt;\r\nMime-Version: 1.0 (Apple Message framework v753.1)\r\nContent-Type: text/plain; charset=ISO-8859-1; delsp=yes; format=flowed\r\nMessage-Id: &lt;6C3663DC-4612-456B-877A-4ABAD1C609F8@...&gt;\r\nCc: rest-discuss@yahoogroups.com\r\nContent-Transfer-Encoding: quoted-printable\r\nDate: Mon, 7 Jul 2008 08:50:54 +0200\r\nTo: Aristotle Pagaltzis &lt;pagaltzis@...&gt;\r\nX-Mailer: Apple Mail (2.753.1)\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Stefan Eissing &lt;stefan.eissing@...&gt;\r\nSubject: Re: [rest-discuss] Re: AtomPub copy/move extension: [was Amazon S3 tacks a COPY under PUT]\r\nX-Yahoo-Group-Post: member; u=299094884\r\n\r\nHTTP injection, cool! Who would have thought that we could invent a  \nnew a=\r\nttack vector so easily!\n\nSecurity issues aside, there are quite some obstac=\r\nles when doing  \n*cross-server* copying. The first one is authentication, s=\r\necond is  \ncoookies/session handling and third is content negotiation. All =\r\nare  \navoided if the client does the copying.\n\nAdmittedly, there are lots o=\r\nf scenarios where these issues do not  \ncome up. But perhaps its worth to t=\r\nake another look at why the client  \ncannot do the GET+PUT itself?\n\n//Stefa=\r\nn\n\nAm 06.07.2008 um 17:38 schrieb Aristotle Pagaltzis:\n\n&gt; * Brian Smith &lt;br=\r\nian@...&gt; [2008-07-04 19:05]:\n&gt; &gt; How about:\n&gt; &gt;\n&gt; &gt; GETPUT /coll=\r\nection/slug\n&gt; &gt; Host: www.example.org\n&gt; &gt; Allow-Rename: t\n&gt; &gt; Content-Type:=\r\n message/http\n&gt; &gt; Content-Length &lt;...&gt;\n&gt; &gt; Authorization: &lt;...&gt;\n&gt; &gt;\n&gt; &gt; GET=\r\n /data/bob/entry/aefeeibc\n&gt; &gt; Host: www.example.org\n&gt; &gt; If-Match: &lt;....&gt;\n&gt; =\r\n&gt; Authorization: &lt;...&gt;\n&gt;\n&gt; The one thing that makes me vaguely uncomfortabl=\r\ne is that the\n&gt; request in the body MUST be a GET request. I think I would =\r\nrather\n&gt; end up pulling the source URI up into the headers and pass just\n&gt; =\r\nthe headers of the GET request in the body using `message/rfc822`.\n&gt;\n&gt; For =\r\nsimilar reasons I would have the source URI header contain\n&gt; the host name =\r\nif the resource is on a foreign server, and throw\n&gt; away any Host header in=\r\ncluded in the embedded GET headers.\n&gt;\n&gt; GETPUT /collection/slug\n&gt; Host: www=\r\n.example.org\n&gt; Source-URI: /data/bob/entry/aefeeibc\n&gt; Allow-Rename: t\n&gt; Con=\r\ntent-Type: message/rfc822\n&gt; Content-Length &lt;...&gt;\n&gt; Authorization: &lt;...&gt;\n&gt;\n&gt;=\r\n If-Match: &lt;....&gt;\n&gt; Authorization: &lt;...&gt;\n&gt;\n&gt; Regards,\n&gt; -- \n&gt; Aristotle Pag=\r\naltzis // &lt;http://plasmasturm.org/&gt;\n&gt;\n&gt; \n\n--\n&lt;green/&gt;bytes GmbH, Hafenweg 1=\r\n6, D-48155 M=FCnster, Germany\nAmtsgericht M=FCnster: HRB5782\n\n\n\n\n\n"}}
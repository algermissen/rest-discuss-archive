{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":22532369,"authorName":"Duncan Wilcox","from":"Duncan Wilcox &lt;duncan@...&gt;","profile":"duncanwilcox","replyTo":"SENDER","senderId":"lYwwPkZ5t0tq1EG26UpmalhU73D9cmSJWxIlHxU6CBYgOMZQ0KN6fk7Npg0HkHe_bYtv7gXSyXs9qVELfyZ0PvvBRi18VUY","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Concurrent updates and proxies","postDate":"1059077959","msgId":3786,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDFCNjZCQTQwLUJFMTQtMTFENy1CNkRBLTAwMzA2NUEyNzhFNkBtY2xpbmsuaXQ+"},"prevInTopic":0,"nextInTopic":0,"prevInTime":3785,"nextInTime":3787,"topicId":3786,"numMessagesInTopic":1,"msgSnippet":"I originally posted this question to www-talk@w3.org a couple days ago. Maybe someone here has some thoughts? I m working on a system that has a REST interface","rawEmail":"Return-Path: &lt;duncan@...&gt;\r\nX-Sender: duncan@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nReceived: (qmail 27209 invoked from network); 24 Jul 2003 20:19:27 -0000\r\nReceived: from unknown (66.218.66.218)\n  by m11.grp.scd.yahoo.com with QMQP; 24 Jul 2003 20:19:27 -0000\r\nReceived: from unknown (HELO mail4.mclink.it) (195.110.128.78)\n  by mta3.grp.scd.yahoo.com with SMTP; 24 Jul 2003 20:19:26 -0000\r\nReceived: from mclink.it (duncan.mclink.it [195.110.141.10])\n\tby mail4.mclink.it (8.12.6p2/8.12.3) with ESMTP id h6OKJNRK072041\n\tfor &lt;rest-discuss@yahoogroups.com&gt;; Thu, 24 Jul 2003 22:19:25 +0200 (CEST)\n\t(envelope-from duncan@...)\r\nDate: Thu, 24 Jul 2003 22:19:19 +0200\r\nMime-Version: 1.0 (Apple Message framework v552)\r\nContent-Type: text/plain; charset=US-ASCII; format=flowed\r\nSubject: Concurrent updates and proxies\r\nTo: rest-discuss@yahoogroups.com\r\nContent-Transfer-Encoding: 7bit\r\nMessage-Id: &lt;1B66BA40-BE14-11D7-B6DA-003065A278E6@...&gt;\r\nX-Mailer: Apple Mail (2.552)\r\nFrom: Duncan Wilcox &lt;duncan@...&gt;\r\nX-Yahoo-Group-Post: member; u=22532369\r\nX-Yahoo-Profile: duncanwilcox\r\n\r\nI originally posted this question to www-talk@... a couple days ago. \nMaybe someone here has some thoughts?\n\nI&#39;m working on a system that has a REST interface used to exchange, \namong other things, configuration documents.\n\nThe interface used to be a CGI, for many reasons I wrote a bare bones \nHTTP server, I can now attempt to make the interface more RESTful.\n\nSpecifically, the CGI environment doesn&#39;t let me deal with ETags and \npreconditions (If-Match, If-None-Match), so the configuration documents \nin my system contain a sort of CRC of the document, to solve the \nconcurrent update problem (CRC in submitted document doesn&#39;t match \nstored version = reject).\n\nWith my web server I&#39;m planning on using ETags and preconditions, as \noutlined in:\n\nhttp://www.w3.org/1999/04/Editing/\n\nI think I have the mechanics clear, the client GETs a document, \nmodifies the document, PUTs it back with an If-Match with the original \nETag. The server rejects the PUT unless the string supplied through \nIf-Match actually matches.\n\nI have been recently bitten by Squid downgrading a request to HTTP/1.0, \nin a bug in my code I would respect the &quot;Expect: 100-continue&quot; header \neven though the incoming request was HTTP/1.0 and emit a 100, which \nSquid apparently doesn&#39;t really know what to do with, confusing the \noriginal client.\n\nNow, if my configuration document update process requires and relies on \nHTTP/1.1 features like If-Match, what should I do with proxies like \nSquid that downgrade the connection to HTTP/1.0?\n\nSquid would probably leave the If-Match header in place, as it left the \nExpect header. Can I rely on this to use the If-Match anyway and \nsimulate the precondition failure through a generic 400 after the PUT \n(instead of a PUT-aborting 412)? Or will some HTTP/1.0 proxy \nresynthetize the headers and drop the unknown ones, thus breaking an \nHTTP/1.1-specific application?\n\nThanks,\nDuncan\n\n\n"}}
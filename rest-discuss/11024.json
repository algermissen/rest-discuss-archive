{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":352334505,"authorName":"Craig McClanahan","from":"Craig McClanahan &lt;craigmcc@...&gt;","profile":"craig_mcclanahan","replyTo":"SENDER","senderId":"YPIud0v240HLVvUboLYt_m4oWdWhccbEWxUyyUZfWLWp-fMUlv7gFjKU7Zw4TEB_wN93SOkh-8wOUVZbzzokWCbX_D4fYncAESZdGw","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [rest-discuss] Query string format","postDate":"1215666570","msgId":11024,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDQ4NzU5OThBLjYwMjA4QGdtYWlsLmNvbT4=","inReplyToHeader":"PDdGNjI2RjQ3LTNBRTYtNDZBOS1BRUJFLUI2MzYzQTM4REVEMkBzdWJidS5vcmc+","referencesHeader":"PDg0NTU5MS45MzE5OS5xbUB3ZWI1NTkxMS5tYWlsLnJlMy55YWhvby5jb20+CTxDNTE4NjI1RS0xMzhBLTQ1NzctOENCQy0xOTQwQjBFMDlEQ0VAc3ViYnUub3JnPgk8NDg3NTNDNzEuOTAyMDQwNkBnbWFpbC5jb20+IDxQLUlSQy1FWEJFMDJIVmJ4WlhBMDAwMDI4NDVARVguVUNPUC5FRFU+IDw0ODc1NUM3RS4zMDAwNDA3QGdtYWlsLmNvbT4gPDdGNjI2RjQ3LTNBRTYtNDZBOS1BRUJFLUI2MzYzQTM4REVEMkBzdWJidS5vcmc+"},"prevInTopic":11023,"nextInTopic":11025,"prevInTime":11023,"nextInTime":11025,"topicId":11011,"numMessagesInTopic":23,"msgSnippet":"... Yep, it would.  Treating them as non-cacheable is lesser evil than that :-). ... It denies on ? characters as well, by default. ... Did a bit more","rawEmail":"Return-Path: &lt;craigmcc@...&gt;\r\nX-Sender: craigmcc@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 80108 invoked from network); 10 Jul 2008 05:06:17 -0000\r\nX-Received: from unknown (66.218.67.96)\n  by m42.grp.scd.yahoo.com with QMQP; 10 Jul 2008 05:06:17 -0000\r\nX-Received: from unknown (HELO rv-out-0506.google.com) (209.85.198.231)\n  by mta17.grp.scd.yahoo.com with SMTP; 10 Jul 2008 05:06:17 -0000\r\nX-Received: by rv-out-0506.google.com with SMTP id f6so3217015rvb.53\n        for &lt;rest-discuss@yahoogroups.com&gt;; Wed, 09 Jul 2008 22:06:17 -0700 (PDT)\r\nX-Received: by 10.141.79.12 with SMTP id g12mr4532127rvl.182.1215666377149;\n        Wed, 09 Jul 2008 22:06:17 -0700 (PDT)\r\nReturn-Path: &lt;craigmcc@...&gt;\r\nX-Received: from ?192.168.5.21? ( [24.20.210.170])\n        by mx.google.com with ESMTPS id f21sm12305194rvb.0.2008.07.09.22.06.14\n        (version=TLSv1/SSLv3 cipher=RC4-MD5);\n        Wed, 09 Jul 2008 22:06:15 -0700 (PDT)\r\nMessage-ID: &lt;4875998A.60208@...&gt;\r\nDate: Wed, 09 Jul 2008 22:09:30 -0700\r\nUser-Agent: Thunderbird 2.0.0.14 (X11/20080505)\r\nMIME-Version: 1.0\r\nTo: Subbu Allamaraju &lt;subbu@...&gt;\r\nCc: Erik Hetzner &lt;erik.hetzner@...&gt;, rest-discuss@yahoogroups.com\r\nReferences: &lt;845591.93199.qm@...&gt;\t&lt;C518625E-138A-4577-8CBC-1940B0E09DCE@...&gt;\t&lt;48753C71.9020406@...&gt; &lt;P-IRC-EXBE02HVbxZXA00002845@...&gt; &lt;48755C7E.3000407@...&gt; &lt;7F626F47-3AE6-46A9-AEBE-B6363A38DED2@...&gt;\r\nIn-Reply-To: &lt;7F626F47-3AE6-46A9-AEBE-B6363A38DED2@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Craig McClanahan &lt;craigmcc@...&gt;\r\nSubject: Re: [rest-discuss] Query string format\r\nX-Yahoo-Group-Post: member; u=352334505; y=_B5tIBY0S9K4CtcEHSkPdZhXitsb9QX5Xv4ju-qLLHSyAtLFGOOhSgffGw\r\nX-Yahoo-Profile: craig_mcclanahan\r\n\r\nSubbu Allamaraju wrote:\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; I first noticed this behavior with Squid[1], when I was experimenting \n&gt;&gt; with trying to cache the results of Google-like search requests that \n&gt;&gt; pass the query string as a request parameter (q=.....), and Squid was \n&gt;&gt; refusing to cache the search results at all, no matter what I tried \n&gt;&gt; with setting response headers.  When I looked at the time, searching \n&gt;&gt; various articles and email lists led me to the belief that this was, \n&gt;&gt; in fact, required behavior.  Sadly, I did not maintain any bookmarks \n&gt;&gt; to the documents that (at the time) led me to that conclusion.\n&gt;&gt;\n&gt;&gt; Digging a bit further, it looks like this is (at least for Squid 2 or \n&gt;&gt; later) simply the *default* behavior, and you can configure Squid to \n&gt;&gt; cache such responses if you want to -- [2] includes one example of \n&gt;&gt; how to cache things with request parameters as long as expiry \n&gt;&gt; information was included.  However, it still seems doubtful to me \n&gt;&gt; that one could count on this unless it is on a cache that you control \n&gt;&gt; the configuration of (such as a cache in front of your search \n&gt;&gt; application to reduce the load when there are many equivalent \n&gt;&gt; queries).  Based on that, I&#39;d still select the former format if I \n&gt;&gt; thought caching would matter for my app (in addition to other \n&gt;&gt; reasons, like an aesthetic preference for including the complete \n&gt;&gt; resource identifier in the URL itself, and using request parameters \n&gt;&gt; for other purposes).\n&gt;\n&gt; That&#39;s an interesting conclusion to come to. By that conclusion, most \n&gt; of cache hits on the web will be negative - i.e., http://mystore.com, \n&gt; http://mystore.com/product?id=1 and http://mystore.com/product?id=2 \n&gt; will all be treated equivalent by caches. It would be a confusing web \n&gt; indeed ;)\n&gt;\nYep, it would.  Treating them as non-cacheable is lesser evil than that :-).\n&gt; I am not a squid expert, but the link \n&gt; [http://wiki.squid-cache.org/Features/StoreUrlRewrite] does not have \n&gt; anything to do with ignoring query strings from URIs. The only thing \n&gt; relevant I notice is the DENY setting for URIs containing cgi-bin.\nIt denies on &#39;?&#39; characters as well, by default.\n&gt; This setting is still questionable, but there may be some historical \n&gt; reasons for that.\nDid a bit more digging, and found a more relevant Squid wiki \nreference[1].  It seems like denying caching on these URLs was indeed \nbased on a pragmatic reality that much dynamic content didn&#39;t have valid \ncache-control headers.  The author of this wiki page, anyway, seems to \nthink the world has changed since then.\n\nOf course, that still begs a question that bothers me about using \nrequest parameters as part of a resource identifier, especially when \nthere is more than one identifier.  Do the following URLs specify the \nsame resource?\n\n    http://localhost/mysubresource?foo=bar&baz=bop\n\n    http://localhost/mysubresource?baz=bop&foo=bar\n\nIf they do (and, with my server side programming hat on, every app *I* \nhave ever written would return identical results), then I sure hope that \na cache would know that too (Squid doesn&#39;t *appear* to treat these \nidentically, but I haven&#39;t dug through all the code yet).  To say \nnothing of the fact that, at the end of the day, I hope the clients are \nactually getting such URIs from previous responses, instead of \nunderstanding the syntax.  Request parameters make client side \nassumptions like that *awfully* tempting.  I&#39;d generally prefer \nsomething like this instead:\n\n    http://localhost/myresource/bar/mysubresource/bop\n\nor even\n\n    http://localhost/foos/bar/bazzes/bop\n \n&gt;\n&gt; Subbu\n\nCraig\n\n[1] http://wiki.squid-cache.org/ConfigExamples/DynamicContent\n\n\n"}}
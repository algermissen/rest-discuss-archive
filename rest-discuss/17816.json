{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":355965900,"authorName":"Dilip Krishnan","from":"Dilip Krishnan &lt;dilip.krishnan@...&gt;","profile":"dilipkrish_subscriptions","replyTo":"SENDER","senderId":"N3XKpS--wYYzXZNT1Ahryg-yLrL3ulECbY1ypKc0RX26uZjWslHw2jT88U1iAVZo_saL9q1c11q7ELQpxD-hm2Z3ZLRgXhncjzsxgXBk_0U","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [rest-discuss] Conneg based on User-Agent","postDate":"1317217317","msgId":17816,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDI1OTUyRDc2LUY0QjgtNEFGOS04NzI0LTkwNjRERUExMjUzREBnbWFpbC5jb20+","inReplyToHeader":"PEE1REFBQjVGLTQ4NTAtNDYyMS05NERCLTIwN0ZBMTBCQkFDNkBub3Jkc2MuY29tPg==","referencesHeader":"PDNBRDk1QjVGLTdBNTgtNDMxMC05OTM0LTNFNkUwOTIzMjQzMUBub3Jkc2MuY29tPiA8Q0FEYkdaalpTak5vLUQ0Ym1ONU9zVEgrcmUrZ3AxMWtWeVQwLXprblRCTkVWdVZrY1RBQG1haWwuZ21haWwuY29tPiA8MEI4NDA2RjEtREU3NS00OEM4LUIzOUEtRTQ3NUEyQjEwMERGQG5vcmRzYy5jb20+IDw0MzgzNUU3RS0xMDU4LTRGNTgtQjM2OS0wOUE5RDlBNzlFMTBAZ21haWwuY29tPiA8QTVEQUFCNUYtNDg1MC00NjIxLTk0REItMjA3RkExMEJCQUM2QG5vcmRzYy5jb20+"},"prevInTopic":17779,"nextInTopic":17817,"prevInTime":17815,"nextInTime":17817,"topicId":17770,"numMessagesInTopic":13,"msgSnippet":"... Because the representation is no longer cacheable based on the resource identity/uri and caching headers alone. The resource identity is now a combination","rawEmail":"Return-Path: &lt;dilip.krishnan@...&gt;\r\nX-Sender: dilip.krishnan@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 28531 invoked from network); 28 Sep 2011 13:41:59 -0000\r\nX-Received: from unknown (98.137.34.45)\n  by m8.grp.sp2.yahoo.com with QMQP; 28 Sep 2011 13:41:59 -0000\r\nX-Received: from unknown (HELO mail-pz0-f44.google.com) (209.85.210.44)\n  by mta2.grp.sp2.yahoo.com with SMTP; 28 Sep 2011 13:41:59 -0000\r\nX-Received: by pzk32 with SMTP id 32so37327942pzk.3\n        for &lt;rest-discuss@yahoogroups.com&gt;; Wed, 28 Sep 2011 06:41:59 -0700 (PDT)\r\nX-Received: by 10.68.14.102 with SMTP id o6mr44706564pbc.51.1317217318974;\n        Wed, 28 Sep 2011 06:41:58 -0700 (PDT)\r\nReturn-Path: &lt;dilip.krishnan@...&gt;\r\nX-Received: from [192.168.0.107] (pool-71-252-175-208.dllstx.fios.verizon.net. [71.252.175.208])\n        by mx.google.com with ESMTPS id ml4sm7925454pbc.0.2011.09.28.06.41.57\n        (version=TLSv1/SSLv3 cipher=OTHER);\n        Wed, 28 Sep 2011 06:41:58 -0700 (PDT)\r\nMime-Version: 1.0 (Apple Message framework v1244.3)\r\nContent-Type: text/plain; charset=windows-1252\r\nIn-Reply-To: &lt;A5DAAB5F-4850-4621-94DB-207FA10BBAC6@...&gt;\r\nDate: Wed, 28 Sep 2011 08:41:57 -0500\r\nCc: Erik Mogensen &lt;erik@...&gt;,\n REST Discuss &lt;rest-discuss@yahoogroups.com&gt;\r\nContent-Transfer-Encoding: quoted-printable\r\nMessage-Id: &lt;25952D76-F4B8-4AF9-8724-9064DEA1253D@...&gt;\r\nReferences: &lt;3AD95B5F-7A58-4310-9934-3E6E09232431@...&gt; &lt;CADbGZjZSjNo-D4bmN5OsTH+re+gp11kVyT0-zknTBNEVuVkcTA@...&gt; &lt;0B8406F1-DE75-48C8-B39A-E475A2B100DF@...&gt; &lt;43835E7E-1058-4F58-B369-09A9D9A79E10@...&gt; &lt;A5DAAB5F-4850-4621-94DB-207FA10BBAC6@...&gt;\r\nTo: Jan Algermissen &lt;jan.algermissen@...&gt;\r\nX-Mailer: Apple Mail (2.1244.3)\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Dilip Krishnan &lt;dilip.krishnan@...&gt;\r\nSubject: Re: [rest-discuss] Conneg based on User-Agent\r\nX-Yahoo-Group-Post: member; u=355965900; y=lAMj_yimX62tyjrwJWiOg2qTGL1DId5iY6gXxskO8d7BRO8U5T37OTb531-FXEbUyhaY\r\nX-Yahoo-Profile: dilipkrish_subscriptions\r\n\r\n\n\n&gt;&gt; Seems like &quot;soap&quot;-creep to me ... a la WS-addressing :)\n&gt; \n&gt; Why in pa=\r\nrticular?\n\nBecause the representation is no longer cacheable based on the r=\r\nesource identity/uri and caching headers alone. The resource identity is no=\r\nw a combination of UA and uri. This makes it complicated for the intermedia=\r\nry and feels kind of WS-*ish to me, specifically reminds me of WS-addressin=\r\ng with endpoint references, reference parameters and properties.\n\n&gt; \n&gt;&gt; \n&gt;&gt;=\r\n \n&gt;&gt; One thing that doesn&#39;t feel right to me is the fact that the client is=\r\n driving control flow.\n&gt; \n&gt; Is that any different from redirecting a mobile=\r\n UA to a dedicated server?\n\nIt is a little different in the sense that the =\r\nserver responds with a different action to a given request. The intermediar=\r\ny is causing a different &quot;version&quot; of the representation to be rendered. \n\n=\r\n&gt; \n&gt; I just remembered the Accept_Features header, which is somehow related=\r\n: http://www.ietf.org/rfc/rfc2295.txt\n&gt; \n&gt; Jan\n&gt; \n&gt; \n&gt; \n&gt;&gt; Also reminds of =\r\na Subbu&#39;s post on Media Types, Plumbing and Democracy, in the issues that i=\r\nt brings up. I do like the parametrized media types but its not widely supp=\r\norted; (atleast the last time I checked)\n&gt;&gt; \n&gt;&gt; Regards,\n&gt;&gt; Dilip Krishnan\n=\r\n&gt;&gt; dilip.krishnan@...\n&gt;&gt; \n&gt;&gt; \n&gt;&gt; \n&gt;&gt; On Sep 15, 2011, at 5:46 PM, Jan=\r\n Algermissen wrote:\n&gt;&gt; \n&gt;&gt;&gt; \n&gt;&gt;&gt; On Sep 16, 2011, at 12:20 AM, Erik Mogense=\r\nn wrote:\n&gt;&gt;&gt; \n&gt;&gt;&gt;&gt; On Thu, Sep 15, 2011 at 7:54 PM, Jan Algermissen &lt;jan.al=\r\ngermissen@...&gt; wrote:\n&gt;&gt;&gt;&gt; I think using the UserAgent header to neg=\r\notiate representation features is a nice solution for non-human targeted si=\r\ntuations, too. Essentially this means to negotiate incompatible media types=\r\n based on Accept and the compatible variations in a given media type based =\r\non UserAgent. This might include the addition of certain Link headers.\n&gt;&gt;&gt;&gt;=\r\n \n&gt;&gt;&gt;&gt; I agree with the &quot;Avoid avoid&quot; here.  It sounds a lot like out-of-ba=\r\nnd knowledge, and in the opposite direction than is usual.  &quot;I know that V3=\r\n.1.3 of FooClient doesn&#39;t use the xyzzy link relation, so I&#39;ll just save ba=\r\nndwidth by not sending it&quot;.  The server could end up with a large amount of=\r\n knowledge.  See wurfl for an example of this going bad.\n&gt;&gt;&gt;&gt; \n&gt;&gt;&gt;&gt; Why not=\r\n stick to Accept (which is that it&#39;s for) and use media type parameters?\n&gt;&gt;=\r\n&gt;&gt; \n&gt;&gt;&gt;&gt; Accept: application/procurement;hypermediacontrols=3Dnew;q=3D1, ap=\r\nplication/procurement;hypermediacontrols=3Dold;q=3D0.3\n&gt;&gt;&gt; \n&gt;&gt;&gt; Been there,=\r\n done that :-) Too enteprisey for my taste. Leads to packaging up feature s=\r\nets into version numbers. I&#39;d always let the Accept express the general cap=\r\nability of the client. (Which I read as: &quot;If you hand me application/atom I=\r\n am pretty sure I can fulfill my user&#39;s intent from there&quot;) Versioning make=\r\ns the whole elegance go away :-)\n&gt;&gt;&gt; \n&gt;&gt;&gt; I was thinking more in terms of &#39;=\r\nhints&#39; or &#39;best effort&#39;. Sending mobile devices different content (incl. bu=\r\n way of a redirect) seems ok. So why not &quot;direct that old legacy product we=\r\n sold 5 years ago to that old (set of) servers we keep around for these cas=\r\nes&quot;?\n&gt;&gt;&gt; \n&gt;&gt;&gt; My original issue, BTW, was routing requests in a load balanc=\r\ner to direct clients that need a new feature to those services that have th=\r\ne new feature installed and are already up and running. In general: situati=\r\nons where you have scaled to N services behind one IP that run different ve=\r\nrsions of a service (e.g. because they are being upgraded one by one while =\r\nkeeping the site in operation).\n&gt;&gt;&gt; \n&gt;&gt;&gt; Jan\n&gt;&gt;&gt; \n&gt;&gt;&gt;&gt; \n&gt;&gt;&gt;&gt; &quot;new&quot; and &quot;old=\r\n&quot; are obviously bad choices, but you get the idea.  That way the media type=\r\n can express the different &quot;variants&quot; within compatibility, and clients can=\r\n express their capabilities in a header designed for conneg.  Evolvability =\r\nFTW!\n&gt;&gt;&gt; \n&gt;&gt;&gt; \n&gt;&gt;&gt; \n&gt;&gt;&gt;&gt; -- \n&gt;&gt;&gt;&gt; -mogsie-\n&gt;&gt;&gt; \n&gt;&gt;&gt; \n&gt;&gt;&gt; \n&gt;&gt;&gt; -------------=\r\n-----------------------\n&gt;&gt;&gt; \n&gt;&gt;&gt; Yahoo! Groups Links\n&gt;&gt;&gt; \n&gt;&gt;&gt; \n&gt;&gt;&gt; \n&gt;&gt; \n&gt;&gt; =\r\n\n&gt;&gt; \n&gt; \n\n\n"}}
{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":40455398,"authorName":"Julian Reschke","from":"Julian Reschke &lt;julian.reschke@...&gt;","profile":"JulianReschke","replyTo":"SENDER","senderId":"JcGcqBJ4p4dO_klquqf9AE_Iu6pE98w0q899QklgJVrknCdximxCEgNkdI2v_t3spjRXiUptPgCFfxlO-RUyrm2Ub0TZhD--7JaJ2mM","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [rest-discuss] Re: Fun with DELETE","postDate":"1184276992","msgId":9450,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDQ2OTZBMjAwLjEwMTAxMDZAZ214LmRlPg==","inReplyToHeader":"PFc3NDE2ODc1NDkxMTg4NTExODQyNzU2MThAbWFpbC5tYWlsc25hcmUubmV0Pg==","referencesHeader":"PFc3NDE2ODc1NDkxMTg4NTExODQyNzU2MThAbWFpbC5tYWlsc25hcmUubmV0Pg=="},"prevInTopic":9448,"nextInTopic":9454,"prevInTime":9449,"nextInTime":9451,"topicId":8604,"numMessagesInTopic":107,"msgSnippet":"... Yes. ... Yes, but the definition of ETag as Response Header , as defined in  makes that","rawEmail":"Return-Path: &lt;julian.reschke@...&gt;\r\nX-Sender: julian.reschke@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nReceived: (qmail 37147 invoked from network); 12 Jul 2007 21:50:06 -0000\r\nReceived: from unknown (66.218.67.35)\n  by m53.grp.scd.yahoo.com with QMQP; 12 Jul 2007 21:50:06 -0000\r\nReceived: from unknown (HELO mail.gmx.net) (213.165.64.20)\n  by mta9.grp.scd.yahoo.com with SMTP; 12 Jul 2007 21:50:05 -0000\r\nReceived: (qmail invoked by alias); 12 Jul 2007 21:49:54 -0000\r\nReceived: from p508F9B18.dip0.t-ipconnect.de (EHLO [192.168.178.22]) [80.143.155.24]\n  by mail.gmx.net (mp046) with SMTP; 12 Jul 2007 23:49:54 +0200\r\nX-Authenticated: #1915285\r\nX-Provags-ID: V01U2FsdGVkX194dbkwSSt4SWTMwypPjxPwWGAMccd/vgH7ql1zew\n\teSxtoBAExQzBnH\r\nMessage-ID: &lt;4696A200.1010106@...&gt;\r\nDate: Thu, 12 Jul 2007 23:49:52 +0200\r\nUser-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; de; rv:1.8.0.4) Gecko/20060516 Thunderbird/1.5.0.4 Mnenhy/0.7.4.666\r\nMIME-Version: 1.0\r\nTo: eric@...\r\nCc: rest-discuss@yahoogroups.com\r\nReferences: &lt;W741687549118851184275618@...&gt;\r\nIn-Reply-To: &lt;W741687549118851184275618@...&gt;\r\nContent-Type: text/plain; charset=UTF-8; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-Y-GMX-Trusted: 0\r\nX-eGroups-Msg-Info: 1:0:0:0\r\nFrom: Julian Reschke &lt;julian.reschke@...&gt;\r\nSubject: Re: [rest-discuss] Re: Fun with DELETE\r\nX-Yahoo-Group-Post: member; u=40455398; y=X-FbS96qw_7_-0Ncz_iPx84GYC6p9h-Tstya0x1NpjnYQdX0pwx7tg\r\nX-Yahoo-Profile: JulianReschke\r\n\r\nEric J. Bowman wrote:\n&gt; \n&gt; \n&gt;  &gt;\n&gt;  &gt;In general they are not representations of *any* resource (at least not\n&gt;  &gt;one with a URI known by the client). There are just messages.\n&gt;  &gt;\n&gt; \n&gt; A 404 or a 410 message says that the requested URI maps to the empty set:\n&gt; \n&gt; &quot;A resource can map to the empty set, which allows references to be made\n&gt; to a concept before any realization of that concept exists&quot;\n\nYes.\n\n&gt; They are &quot;just messages&quot; but those messages contain entity bodies, and I\n&gt; do not see where the spec says an entity body (no restriction is made to\n&gt; 2xx responses in the spec) can not have an entity tag.\n\nYes, but the definition of ETag as &quot;Response Header&quot;, as defined in \n&lt;http://greenbytes.de/tech/webdav/rfc2616.html#rfc.section.6.2&gt; makes \nthat restriction.\n\nWhen you return a 201 status with an ETag, is the ETag for the entity \nthat just was stored, or for the message telling the client that a \nresource was created?\n\nSee.\n\n&gt;  &gt;&gt; Huh? An ETag is both an entity header field and a response header.\n&gt;  &gt;\n&gt;  &gt;Eric, please read the definitions in RFC2616. Not every header appearing\n&gt;  &gt;in an HTTP response is a &quot;Response Header&quot;, as defined in Section 6.2.\n&gt;  &gt;\n&gt; \n&gt; I don&#39;t recall making that claim -- obviously, &quot;Server&quot; and &quot;Date&quot; have\n&gt; nothing to do with the response. Section 6.2 lists ETag as a response\n&gt; header. So how is it not a response header? Are you saying that since\n\nIt is a response header, but not an entity header. Sorry for the confusion.\n\n&gt; RFC 2616 doesn&#39;t specifically state that ETags may be used on 4xx\n&gt; responses, then doing so goes against spec? Well, I disagree.\n\nThey don&#39;t make sense upon 404/410 because of their definition.\n\n&gt;  &gt;No, it just means that you are using HTTP machinery in a way not\n&gt;  &gt;sanctioned by the spec, so basically you&#39;re inventing a new protocol.\n&gt;  &gt;\n&gt; \n&gt; I&#39;m using HTTP machinery in a way nobody has tried before, this is not\n&gt; the same thing as &quot;inventing a new protocol&quot; nor is it &quot;against&quot; RFC\n&gt; 2616. If it were a &quot;bad thing&quot; to send an ETag with a 410 response\n&gt; then the spec would say so. If the spec had to specifically account\n\nNo, that&#39;s not how specs are written. But maybe now we&#39;ll have to put it \n  into RFC2616bis :-)\n\n&gt; for all possible request/response combinations allowable, wouldn&#39;t it\n&gt; be literally thousands of pages long? Just because an ETag on a 410\n&gt; isn&#39;t directly &quot;ruled in&quot; hardly makes it &quot;ruled out&quot;.\n\nReturning it with a 404/410 does not make sense, and that&#39;s why the spec \ndoesn&#39;t *need* to say it.\n\n&gt;  &gt;It&#39;s just something that is not compliant to RFC2616. You won&#39;t notice\n&gt;  &gt;any problems as long as you&#39;re just using your own client, no\n&gt;  &gt;intermediaries, and so on.\n&gt;  &gt;\n&gt; \n&gt; That is exactly my concern, and remains my challenge. Just exactly what\n&gt; client will have problems with my setup? Just exactly why would an\n&gt; intermediary get all fouled up due to an ETag on a 410 response?\n\nIt wouldn&#39;t. But a generic client never ever will send a DELETE request \nto something it already successfully deleted.\n\n&gt; Granted, a client needs to understand my API to make the second DELETE,\n&gt; but that hardly restricts usage to a &quot;custom&quot; client -- I can make an\n&gt; XForms page which uses XHR to implement this, meaning any HTTP client\n&gt; with an understanding of XForms (and XHTML) and XHR will interoperate\n&gt; with my system cleanly.\n\nSo what if there is a proxy that doesn&#39;t even forward the second DELETE \nbecause it already knows about the previous DELETE? Or if the \nXmlHttpRequest object follows the spec and assumes that if a GET/HEAD on \na resource once returned a 410, it doesn&#39;t make sense to access that URI \nagain?\n\n&gt; ...\n\nBest regards, Julian\n\n"}}
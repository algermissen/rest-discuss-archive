{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":45837988,"authorName":"Bill Moseley","from":"Bill Moseley &lt;moseley@...&gt;","profile":"whmoseley","replyTo":"SENDER","senderId":"Kn1LNr52WP7CUvGbjrieX9gnzii5dal83R5HonMcLUMMnlIgn_YPjz6PBImpNgJzszOCYH_1JvWgAbjgCeXdXBXO63ATEA","spamInfo":{"isSpam":false,"reason":"4"},"subject":"HTTP Response codes to return on errors","postDate":"1269295811","msgId":15056,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDE2ZjY1ZDAwMTAwMzIyMTUxMHUxYjljMGJjM285OWI1NDEyNWFkOGMxZTdhQG1haWwuZ21haWwuY29tPg=="},"prevInTopic":0,"nextInTopic":15059,"prevInTime":15055,"nextInTime":15057,"topicId":15056,"numMessagesInTopic":3,"msgSnippet":"I m adding a (hopefully it s) RESTful API on to an existing web application. I m not sure I understand what correct response codes to send in some cases. These","rawEmail":"Return-Path: &lt;moseley@...&gt;\r\nX-Sender: moseley@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 24342 invoked from network); 22 Mar 2010 22:10:33 -0000\r\nX-Received: from unknown (98.137.34.46)\n  by m1.grp.sp2.yahoo.com with QMQP; 22 Mar 2010 22:10:33 -0000\r\nX-Received: from unknown (HELO mail-pw0-f45.google.com) (209.85.160.45)\n  by mta3.grp.sp2.yahoo.com with SMTP; 22 Mar 2010 22:10:31 -0000\r\nX-Received: by pwi9 with SMTP id 9so3891262pwi.32\n        for &lt;rest-discuss@yahoogroups.com&gt;; Mon, 22 Mar 2010 15:10:31 -0700 (PDT)\r\nMIME-Version: 1.0\r\nX-Received: by 10.141.13.10 with SMTP id q10mr3545455rvi.296.1269295831213; Mon, \n\t22 Mar 2010 15:10:31 -0700 (PDT)\r\nDate: Mon, 22 Mar 2010 15:10:11 -0700\r\nMessage-ID: &lt;16f65d001003221510u1b9c0bc3o99b54125ad8c1e7a@...&gt;\r\nTo: rest-discuss@yahoogroups.com\r\nContent-Type: multipart/alternative; boundary=000e0cd11aaa22685f04826af724\r\nX-eGroups-Msg-Info: 2:4:8:0:2\r\nFrom: Bill Moseley &lt;moseley@...&gt;\r\nSubject: HTTP Response codes to return on errors\r\nX-Yahoo-Group-Post: member; u=45837988; y=fwkItdlo_AtjfvwsxwzKho69JDDPS4ezhMLC9NYA4fJh6utL\r\nX-Yahoo-Profile: whmoseley\r\n\r\n\r\n--000e0cd11aaa22685f04826af724\r\nContent-Type: text/plain; charset=ISO-8859-1\r\n\r\nI&#39;m adding a (hopefully it&#39;s) RESTful API on to an existing web application.\n I&#39;m not sure I understand what correct response codes to send in some\ncases.\n\nThese seem clear to me:\n\nPOST /user -- returns 201 created with header &quot;Location:\nhttp://example.com/user/1234&quot;.\n(Thanks for the comments in the previous thread about this.)\n\nGET /user/1234  -- get valid user returns 200 with user serialized in body\n(or 304 -- where supported).\n\nPUT /user/1234 -- returns 204 with no body.\n\nGET /user/9999 -- &quot;9999&quot; does not exist so return 404.\n\nAre these the correct approach?:\n\nIf  PUT /user/1234 is missing some required data in the body (say\n&quot;username&quot;) I return a 400 and to be nice I return an entity body that\nincludes an error explaining the problem (e.g. errors =&gt; { username =&gt;\n&quot;username is required&quot; }).  Correct approach?\n\nWhat about PUT /user/9999 where &quot;9999&quot; does not exist.   I assume this is a\n404 before even inspecting the entity body for correct format. I.e. a 404\nbefore a 400.\n\n\nGET /user/abcd -- ID provided is invalid format (not an integer).  Is this a\n400 or a 404?  I tend to do a 404 as it points to something that does not\nexist (e.g. maybe non-integer user ids will be acceptable keys in the\nfuture??).\n\n\nGET /user/4321 -- Say this resource exists but belongs to another &quot;account&quot;\n-- that is the actor making the request will never have access to that\nspecific user object.  I know the actor making the request because of some\nother data in the request (e.g. a cookie).  Is that a 404 or a 403?\n\nI lean toward using a 404 because 1) that user object does not exist in that\nactor&#39;s &quot;account namespace&quot; -- meaning it doesn&#39;t exist to them just like\n/user/abde and /user/9999 don&#39;t exist.  Also, I prefer not to let the\nrequester know that /user/9999 does not exist, but /user/4321 does exist but\nthey can&#39;t access it.  Maybe that&#39;s a little &quot;security by obscurity&quot; but it\nseems to make sense because it&#39;s a resource that will never be available to\nthe actor making the request -- as far as they are concerned it just does\nnot exist.\n\nI would use a 403 if maybe at a later time access might be allowed.\n\n\nDo these seem reasonable?\n\nThanks very much,\n\n-- \nBill Moseley\nmoseley@...\n\r\n--000e0cd11aaa22685f04826af724\r\nContent-Type: text/html; charset=ISO-8859-1\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\n&lt;div&gt;I&#39;m adding a (hopefully it&#39;s) RESTful API on to an existing we=\r\nb application. =A0I&#39;m not sure I understand what correct response codes=\r\n to send in some cases.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;These seem clear to me:&lt;/d=\r\niv&gt;\n\n&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;POST /user -- returns 201 created with header &quo=\r\nt;Location: &lt;a href=3D&quot;http://example.com/user/1234&quot;&gt;http://example.com/use=\r\nr/1234&lt;/a&gt;&quot;.&lt;/div&gt;&lt;div&gt;(Thanks for the comments in the previous thread=\r\n about this.)&lt;/div&gt;\n\n&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;GET /user/1234 =A0-- get valid use=\r\nr returns 200 with user serialized in body (or 304 -- where supported).&lt;/di=\r\nv&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;PUT /user/1234 -- returns 204 with no body.&lt;/div&gt;&lt;div=\r\n&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;GET /user/9999 -- &quot;9999&quot; does not exist so return=\r\n 404.&lt;/div&gt;\n\n&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Are these the correct approach?:&lt;/div&gt;&lt;div=\r\n&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;If =A0PUT /user/1234 is missing some required data in the b=\r\nody (say &quot;username&quot;) I return a 400 and to be nice I return an en=\r\ntity body that includes an error explaining the problem (e.g. errors =3D&gt=\r\n; { username =3D&gt; &quot;username is required&quot; }). =A0Correct approa=\r\nch?&lt;/div&gt;\n\n&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;What about PUT /user/9999 where &quot;9999&q=\r\nuot; does not exist. =A0 I assume this is a 404 before even inspecting the =\r\nentity body for correct format. I.e. a 404 before a 400.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/di=\r\nv&gt;&lt;div&gt;&lt;br&gt;\n\n&lt;/div&gt;&lt;div&gt;GET /user/abcd -- ID provided is invalid format (no=\r\nt an integer). =A0Is this a 400 or a 404? =A0I tend to do a 404 as it point=\r\ns to something that does not exist (e.g. maybe non-integer user ids will be=\r\n acceptable keys in the future??).&lt;/div&gt;\n\n&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;di=\r\nv&gt;GET /user/4321 -- Say this resource exists but belongs to another &quot;a=\r\nccount&quot; -- that is the actor making the request will never have access=\r\n to that specific user object. =A0I know the actor making the request becau=\r\nse of some other data in the request (e.g. a cookie). =A0Is that a 404 or a=\r\n 403?&lt;/div&gt;\n\n&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I lean toward using a 404 because 1) that =\r\nuser object does not exist in that actor&#39;s &quot;account namespace&quot=\r\n; -- meaning it doesn&#39;t exist to them just like /user/abde and /user/99=\r\n99 don&#39;t exist. =A0Also, I prefer not to let the requester know that /u=\r\nser/9999 does not exist, but /user/4321 does exist but they can&#39;t acces=\r\ns it. =A0Maybe that&#39;s a little &quot;security by obscurity&quot; but it=\r\n seems to make sense because it&#39;s a resource that will never be availab=\r\nle to the actor making the request -- as far as they are concerned it just =\r\ndoes not exist.&lt;/div&gt;\n\n&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I would use a 403 if maybe at a =\r\nlater time access might be allowed.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div=\r\n&gt;Do these seem reasonable?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks very much,&lt;/div&gt;=\r\n&lt;br&gt;-- &lt;br&gt;Bill Moseley&lt;br&gt;\n\n&lt;a href=3D&quot;mailto:moseley@...&quot;&gt;moseley@ha=\r\nnk.org&lt;/a&gt;&lt;br&gt;\n\r\n--000e0cd11aaa22685f04826af724--\r\n\n"}}
{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":303606877,"authorName":"Stian Soiland","from":"Stian Soiland &lt;ssoiland@...&gt;","profile":"stian_soiland","replyTo":"SENDER","senderId":"X65MnMCsj5BUmBTX6AvEbFR_16jIB-cp7tWKNhPk7j5sto2zk-ZOt50nxWL5-27wxPqra0D1PnjFCGvthZQJkAFaJMmwFdgFwBp31Q","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [rest-discuss] Re: URI for current authenticated user","postDate":"1179319901","msgId":8483,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PEYyMDYwNTYzLUNCQkMtNDVGQy04RkFCLTkwNEYxN0VGNTJEQUBjcy5tYW4uYWMudWs+","inReplyToHeader":"PDIwMDcwNTE2MTE1NDE5LkdBNTA5NUBrbGFuZ3JhdW0+","referencesHeader":"PGQ4YjU5NDVmMDcwNTE0MTExNXAxZjI0MDlkOXRlZmRiY2Y3MWViZTAxM2JlQG1haWwuZ21haWwuY29tPiA8NDY0OUFFNEIuMTA4MDgwN0BoYWNrY3JhZnQubmV0PiA8MEU3NUFCMDctQUMxNC00OTJFLTk1QUQtOUYyMjdEOTRGNkJDQGNzLm1hbi5hYy51az4gPDIwMDcwNTE1MTUyMTQyLkdBMTExMUBrbGFuZ3JhdW0+IDwyNTU5RTdFNC1CRjNCLTQ4MTktOTk0NC0yODg3RjQ0NUI1QjdAY3MubWFuLmFjLnVrPiA8MjAwNzA1MTYxMTU0MTkuR0E1MDk1QGtsYW5ncmF1bT4="},"prevInTopic":8480,"nextInTopic":8485,"prevInTime":8482,"nextInTime":8484,"topicId":8451,"numMessagesInTopic":24,"msgSnippet":"... So this would be the current user URI then. ... Maybe my description was not self-describing.. My idea was that at / user/stain you would get the user","rawEmail":"Return-Path: &lt;ssoiland@...&gt;\r\nX-Sender: ssoiland@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nReceived: (qmail 99780 invoked from network); 16 May 2007 12:53:25 -0000\r\nReceived: from unknown (66.218.67.35)\n  by m51.grp.scd.yahoo.com with QMQP; 16 May 2007 12:53:25 -0000\r\nReceived: from unknown (HELO clarity.mcc.ac.uk) (130.88.200.144)\n  by mta9.grp.scd.yahoo.com with SMTP; 16 May 2007 12:53:25 -0000\r\nReceived: from webcam3.cs.man.ac.uk ([130.88.195.217])\n\tby clarity.mcc.ac.uk with esmtp (Exim 4.63 (FreeBSD))\n\t(envelope-from &lt;ssoiland@...&gt;)\n\tid 1HoIz1-000DNL-9f; Wed, 16 May 2007 13:51:59 +0100\r\nIn-Reply-To: &lt;20070516115419.GA5095@klangraum&gt;\r\nReferences: &lt;d8b5945f0705141115p1f2409d9tefdbcf71ebe013be@...&gt; &lt;4649AE4B.1080807@...&gt; &lt;0E75AB07-AC14-492E-95AD-9F227D94F6BC@...&gt; &lt;20070515152142.GA1111@klangraum&gt; &lt;2559E7E4-BF3B-4819-9944-2887F445B5B7@...&gt; &lt;20070516115419.GA5095@klangraum&gt;\r\nMime-Version: 1.0 (Apple Message framework v752.3)\r\nContent-Type: text/plain; charset=WINDOWS-1252; delsp=yes; format=flowed\r\nMessage-Id: &lt;F2060563-CBBC-45FC-8FAB-904F17EF52DA@...&gt;\r\nContent-Transfer-Encoding: quoted-printable\r\nDate: Wed, 16 May 2007 13:51:41 +0100\r\nTo: Rest List &lt;rest-discuss@yahoogroups.com&gt;\r\nX-Mailer: Apple Mail (2.752.3)\r\nX-UoM: Scanned by the University Mail System. See http://www.itservices.manchester.ac.uk/email/filtering/information/ for details.\r\nX-eGroups-Msg-Info: 1:0:0:0\r\nFrom: Stian Soiland &lt;ssoiland@...&gt;\r\nSubject: Re: [rest-discuss] Re: URI for current authenticated user\r\nX-Yahoo-Group-Post: member; u=303606877; y=2gxNm5EodHl__FJAz_HPuxcSU05I0JjSKRGs__e20L6UFZ72YYN_QA\r\nX-Yahoo-Profile: stian_soiland\r\n\r\n\nOn 16 May 2007, at 12:54, A. Pagaltzis wrote:\n\n&gt; As a response to whicheve=\r\nr URI in the sequence is the first one\n&gt; to require authentication. Instead=\r\n of returning a page in\n&gt; response to a successfully authenticated request =\r\nfor that URI,\n&gt; send a redirect.\n\nSo this would be the &#39;current user&#39; URI t=\r\nhen.\n\n\n&gt; I=92m not following. Does /user/stain have to be something other\n&gt;=\r\n than the capabilities document?\n\nMaybe my description was not self-describ=\r\ning.. My idea was that at / \nuser/stain you would get the user document whi=\r\nch describes the user  \nand links to the user&#39;s different personal collecti=\r\nons:\n\nGET /users/stain (authenticated as stain)\n&lt;user&gt;\n    &lt;username&gt;stain&lt;=\r\n/username&gt;\n    &lt;workflows xlink:href=3D&quot;/users/stain/workflows&quot; /&gt;\n    &lt;job=\r\ns xlink:href=3D&quot;/users/stain/jobs&quot; /&gt;\n&lt;/user&gt;\n\n\nWhile the capabilities docu=\r\nment (maybe not the best name) would  \ndescribe the overall site structures=\r\n. I want to serve this at / so  \nthat the client can see where to POST  to =\r\nregister (/users), where  \nthe list of queues are (/queues) etc.  Basically=\r\n everything except  \nPOSTing a new user requires authentication.\n\nI am ther=\r\nefore now thinking that I&#39;ll go for Jon&#39;s suggestion with a  \nslight variat=\r\nion on the URI for the current user:\n\nGET / (without auth)\n&lt;capabilites&gt;\n  =\r\n &lt;users xlink:href=3D&quot;/users&quot; /&gt;\n   &lt;currentUser xlink:href=3D&quot;/users;curre=\r\nnt&quot; /&gt;\n   &lt;queues xlink:href=3D&quot;/queues&quot; &gt;\n&lt;/capabiltiles&gt;\n\nThe current use=\r\nr link could also be shown in the collection document  \nat /users - might b=\r\ne cleaner, although it should also be an OK link  \nfrom &#39;capabilities&#39; as I=\r\n don&#39;t want to show the list of users to  \nunauthorised users - possibly no=\r\nt for normal users neither.\n\nI&#39;m open for suggestion for a better name than=\r\n &#39;capabilities&#39; :-)\n\n\n\nGET /users;current (without auth)\n401 Auth required\n=\r\nVary: Authorization  (Should it be included here?)\n\n\nGET /users;current (wi=\r\nth auth &quot;stain&quot;)\n302 (Found) moved Temporarily\nVary: Authorization\nLocation=\r\n: /users/stain\n\n\n\n\n(For the curious, here&#39;s the registration)\n\nPOST /users\n=\r\n&lt;user&gt;\n    &lt;username&gt;stain&lt;/username&gt;\n    &lt;password&gt;fish&lt;/password&gt;\n&lt;/user&gt;=\r\n\n\n201 Created\nLocation: /users/stain\n\n(or 409 Conflict if the username was =\r\nalready taken.. I was thinking  \nthat this could also be done through PUT /=\r\nusers/stain - but then how  \nshould I specify that URI template?)\n\n\n--\nStia=\r\nn Soiland, myGrid team\nSchool of Computer Science\nThe University of Manches=\r\nter\nhttp://www.cs.man.ac.uk/~ssoiland/\n\n\n\n"}}
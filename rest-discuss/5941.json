{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":189850543,"authorName":"Dimitri Glazkov","from":"&quot;Dimitri Glazkov&quot; &lt;dimitri.glazkov@...&gt;","profile":"dimitriglazkov","replyTo":"SENDER","senderId":"t9koh8npq8eFM_JKKOAE1Ci1MGpeKLYBQJTQHJbjDjowWDjjAD0uY2MQI5z9TSaljI-E6VDtnr6MQ4sNigtj5_i2TqUx4bIWuoO9tg3UsLJQf20g","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [rest-discuss] Avoiding re-POSTs","postDate":"1145015294","msgId":5941,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PGZiMTVhYzIxMDYwNDE0MDQ0OGs0NTY3NmY1NnZlMjMwMzhlMDAzN2EwNmQ3QG1haWwuZ21haWwuY29tPg==","inReplyToHeader":"PDZDNERBRjY0LTBGN0EtNEY3Ni05NzI5LTY4NEExNDVBNEEyM0BhcnRpbWEuY29tPg==","referencesHeader":"PDQ0M0VDNDBCLjkwOTAzMDNAdmVpY29uLmNvbT4gPDQ0M0VEOUNDLjYwOTA0MDhAZGVob3JhLm5ldD4JIDw0NDNFRDlGOC42MDkwODAyQGRlaG9yYS5uZXQ+CSA8MkYyNzhFNzQtQzQwRS00MDRELTg4OTAtQUEwMUZEMEQyQzRCQGFydGltYS5jb20+CSA8NDQzRUUxNzUuMzA4MDcwOUBkZWhvcmEubmV0PgkgPDY3NDQwMTM1LTg0QUUtNEE4MC04MTJBLTgxQTFDMTJDMzlBRUBhcnRpbWEuY29tPgkgPDQ0M0VGMjA0LjMwMzAxMDBAZGVob3JhLm5ldD4JIDw2QzREQUY2NC0wRjdBLTRGNzYtOTcyOS02ODRBMTQ1QTRBMjNAYXJ0aW1hLmNvbT4="},"prevInTopic":5940,"nextInTopic":5943,"prevInTime":5940,"nextInTime":5942,"topicId":5923,"numMessagesInTopic":16,"msgSnippet":"Now, onto the POE discussion. I ve read the draft a while back, and just now read about aritma s diamonds. Fascinating stuff. Still... Somehow I feel this","rawEmail":"Return-Path: &lt;dimitri.glazkov@...&gt;\r\nX-Sender: dimitri.glazkov@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nReceived: (qmail 11380 invoked from network); 14 Apr 2006 11:48:16 -0000\r\nReceived: from unknown (66.218.66.166)\n  by m16.grp.scd.yahoo.com with QMQP; 14 Apr 2006 11:48:16 -0000\r\nReceived: from unknown (HELO nz-out-0102.google.com) (64.233.162.202)\n  by mta5.grp.scd.yahoo.com with SMTP; 14 Apr 2006 11:48:14 -0000\r\nReceived: by nz-out-0102.google.com with SMTP id 13so72147nzp\n        for &lt;rest-discuss@yahoogroups.com&gt;; Fri, 14 Apr 2006 04:48:14 -0700 (PDT)\r\nReceived: by 10.65.204.8 with SMTP id g8mr657406qbq;\n        Fri, 14 Apr 2006 04:48:14 -0700 (PDT)\r\nReceived: by 10.65.105.3 with HTTP; Fri, 14 Apr 2006 04:48:14 -0700 (PDT)\r\nMessage-ID: &lt;fb15ac210604140448k45676f56ve23038e0037a06d7@...&gt;\r\nDate: Fri, 14 Apr 2006 06:48:14 -0500\r\nTo: &quot;Bill Venners&quot; &lt;bv-svp@...&gt;\r\nCc: &quot;=?ISO-8859-1?Q?Bill_de_h=D3ra?=&quot; &lt;bill@...&gt;, \n\trest-discuss@yahoogroups.com\r\nIn-Reply-To: &lt;6C4DAF64-0F7A-4F76-9729-684A145A4A23@...&gt;\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Transfer-Encoding: quoted-printable\r\nContent-Disposition: inline\r\nReferences: &lt;443EC40B.9090303@...&gt; &lt;443ED9CC.6090408@...&gt;\n\t &lt;443ED9F8.6090802@...&gt;\n\t &lt;2F278E74-C40E-404D-8890-AA01FD0D2C4B@...&gt;\n\t &lt;443EE175.3080709@...&gt;\n\t &lt;67440135-84AE-4A80-812A-81A1C12C39AE@...&gt;\n\t &lt;443EF204.3030100@...&gt;\n\t &lt;6C4DAF64-0F7A-4F76-9729-684A145A4A23@...&gt;\r\nX-eGroups-Msg-Info: 1:12:0:0\r\nFrom: &quot;Dimitri Glazkov&quot; &lt;dimitri.glazkov@...&gt;\r\nSubject: Re: [rest-discuss] Avoiding re-POSTs\r\nX-Yahoo-Group-Post: member; u=189850543; y=0_2NjScoMhNP0RYX4kZ1Z3r-WYiZMeXoLrG6Xsso5vcEeT2-J4v2J6Q\r\nX-Yahoo-Profile: dimitriglazkov\r\n\r\nNow, onto the POE discussion. I&#39;ve read the draft a while back, and\njust no=\r\nw read about aritma&#39;s diamonds. Fascinating stuff. Still...\n\nSomehow I feel=\r\n this should be responsibility of the user agent to\nprevent accidental doub=\r\nle-posts, and responsibility of the server to\naccommodate attempts to creat=\r\ne a resource more than once.\n\nBut maybe it&#39;s just me.\n\n:DG&lt;\n\nOn 4/13/06, Bi=\r\nll Venners &lt;bv-svp@...&gt; wrote:\n&gt; Hi Bill,\n&gt;\n&gt; On Apr 13, 2006, at 5:=\r\n51 PM, Bill de h=D3ra wrote:\n&gt;\n&gt; &gt; It&#39;s worth pointing out that the /12345 =\r\nis entirely private to the\n&gt; &gt; server, all the client deals with is the URL=\r\n. And I think creating\n&gt; &gt; a new\n&gt; &gt; resource to represent state this way i=\r\ns much cleaner that redirect\n&gt; &gt; after\n&gt; &gt; POST hacks via controllers (an i=\r\ndiom that seems to be common in the\n&gt; &gt; Java\n&gt; &gt; world).\n&gt; &gt;\n&gt; I have never=\r\n thought of redirect after post to be a strategy to\n&gt; prevent duplicate pos=\r\nts, although that is the context in which Lyle\n&gt; Kopnicky brought it up in =\r\nthis thread. I have considered redirect\n&gt; after post only as a way to preve=\r\nnt the user-unfriendly pop up dialog\n&gt; that asks whether or not the user wa=\r\nnts to repost old data. That\n&gt; dialog is confusing to most users, and makes=\r\n the site feel\n&gt; unprofessional in my opinion. Redirecting to a get after a=\r\n post\n&gt; prevents that dialog box. I consider duplicate posts a separate\n&gt; i=\r\nssue. Even if you do redirect after get, the user could still back\n&gt; up and=\r\n press submit again.\n&gt;\n&gt; To me the /12345 approach contrasts with the deja =\r\nvu token, which is\n&gt; mentioned as a J2EE pattern. As far as I know, the dej=\r\na vu token has\n&gt; traditionally been submitted to the server as part of the =\r\npost data,\n&gt; rather than being embedded in the URI. So instead of posting t=\r\no:\n&gt;\n&gt; /accounts/bob/orders/12345\n&gt;\n&gt; You would post to:\n&gt;\n&gt; /accounts/bob/=\r\norders\n&gt;\n&gt; ...but include in the post data (likely from a HTML hidden form\n=\r\n&gt; field) a parameter named dejavu with the value 12345.\n&gt;\n&gt; In either appro=\r\nach, the deja vu token is private to the server,\n&gt; opaque to the client. In=\r\n either approach, the server must keep track\n&gt; of the deja vu tokens they&#39;v=\r\ne already seen. What I think placing it\n&gt; in the URI does is enable the POE=\r\n stuff. But so long as POE isn&#39;t\n&gt; widely supported, however, I don&#39;t see m=\r\nuch difference between the\n&gt; two, though the J2EE way has slightly cleaner =\r\nURIs.\n&gt;\n&gt; &gt;&gt; What do you mean by &quot;incorporate 410 to emulate ttl?&quot;\n&gt; &gt;\n&gt; &gt; =\r\nI mean that for this to work you need to keep a record of URLs that\n&gt; &gt; cou=\r\nld be POSTed to and might be rePOSTed to. Servers need to be\n&gt; &gt; able to\n&gt; =\r\n&gt; release those resources heuristically as there&#39;s no guarantee the\n&gt; &gt; cli=\r\nent\n&gt; &gt; will come back. It&#39;s nicer if they have a means of letting the clie=\r\nnt\n&gt; &gt; know what&#39;s happened.\n&gt; &gt;\n&gt; Disks are pretty cheap these days. To me=\r\n if keeping track of the\n&gt; tokens is required for the correct functioning o=\r\nf the application,\n&gt; I&#39;d put them in the database and keep them forever. Yo=\r\nu could\n&gt; associate them with the data being saved or updated as a result o=\r\nf\n&gt; the post, and just check each time.\n&gt;\n&gt; But even if you were to store t=\r\nhe tokens in memory, and release them\n&gt; after a while, I don&#39;t understand w=\r\nhat you would accomplish by\n&gt; telling the client the timeout. What would th=\r\ne client do with that\n&gt; information? Oh, do you mean that after the resourc=\r\ne is released,\n&gt; and /12345 doesn&#39;t exist anymore, that&#39;s when you send the=\r\n 410?\n&gt;\n&gt; Bill\n&gt; ----\n&gt; Bill Venners\n&gt; Editor-in-Chief\n&gt; Artima Developer\n&gt;=\r\n http://www.artima.com\n&gt;\n&gt;\n&gt;\n&gt;\n&gt; Yahoo! Groups Links\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n\n"}}
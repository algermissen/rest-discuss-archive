{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":470287550,"authorName":"Alessandro Nadalin","from":"Alessandro Nadalin &lt;alessandro.nadalin@...&gt;","profile":"alessandro.nadalin","replyTo":"SENDER","senderId":"ypLRJdZ7FCrgh4OVm8Muz0SnRzHzV4abdk92nnjmCX0MwiCTez11i2xr6stLzsMayLhVa0xFjqONvnM1K3ZzLG2svVSZH5IZ_Gg7CFbUPUEiJLJAcpVu_g","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [rest-discuss] Browser don&#39;t send the Etag on a POST","postDate":"1303720126","msgId":17499,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PEJBTkxrVGltcmhfT0VRVXBCdGdWKzNaQ3Y9SDZDUDZOZHZnQG1haWwuZ21haWwuY29tPg==","inReplyToHeader":"PEJBTkxrVGlrX0YzZnA1cVdnb0V1QkU0SFlYNlE2dV8tQkRnQG1haWwuZ21haWwuY29tPg==","referencesHeader":"PEJBTkxrVGlueDIzSjk0Zl9rZ2M3VEZlNTZ1djZSMGhEczhBQG1haWwuZ21haWwuY29tPgk8QkFOTGtUaWtfRjNmcDVxV2dvRXVCRTRIWVg2UTZ1Xy1CRGdAbWFpbC5nbWFpbC5jb20+"},"prevInTopic":17498,"nextInTopic":17501,"prevInTime":17498,"nextInTime":17500,"topicId":17497,"numMessagesInTopic":5,"msgSnippet":"... Do you think they have any reason for doing so? Sounds like a lack of functionality at the protocol level, to me. ... -- Nadalin Alessandro www.odino.org ","rawEmail":"Return-Path: &lt;alessandro.nadalin@...&gt;\r\nX-Sender: alessandro.nadalin@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 15584 invoked from network); 25 Apr 2011 08:28:47 -0000\r\nX-Received: from unknown (98.137.34.46)\n  by m1.grp.sp2.yahoo.com with QMQP; 25 Apr 2011 08:28:47 -0000\r\nX-Received: from unknown (HELO mail-qy0-f175.google.com) (209.85.216.175)\n  by mta3.grp.sp2.yahoo.com with SMTP; 25 Apr 2011 08:28:47 -0000\r\nX-Received: by mail-qy0-f175.google.com with SMTP id 35so731528qyk.6\n        for &lt;rest-discuss@yahoogroups.com&gt;; Mon, 25 Apr 2011 01:28:47 -0700 (PDT)\r\nMIME-Version: 1.0\r\nX-Received: by 10.229.66.151 with SMTP id n23mr2458564qci.268.1303720126506;\n Mon, 25 Apr 2011 01:28:46 -0700 (PDT)\r\nX-Received: by 10.229.241.209 with HTTP; Mon, 25 Apr 2011 01:28:46 -0700 (PDT)\r\nIn-Reply-To: &lt;BANLkTik_F3fp5qWgoEuBE4HYX6Q6u_-BDg@...&gt;\r\nReferences: &lt;BANLkTinx23J94f_kgc7TFe56uv6R0hDs8A@...&gt;\n\t&lt;BANLkTik_F3fp5qWgoEuBE4HYX6Q6u_-BDg@...&gt;\r\nDate: Mon, 25 Apr 2011 10:28:46 +0200\r\nMessage-ID: &lt;BANLkTimrh_OEQUpBtgV+3ZCv=H6CP6Ndvg@...&gt;\r\nTo: mike amundsen &lt;mamund@...&gt;\r\nCc: rest-discuss@yahoogroups.com\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Transfer-Encoding: quoted-printable\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Alessandro Nadalin &lt;alessandro.nadalin@...&gt;\r\nSubject: Re: [rest-discuss] Browser don&#39;t send the Etag on a POST\r\nX-Yahoo-Group-Post: member; u=470287550; y=TfDiCh6ool2zV9Ms7JI9DAL7WA5gMnsk-4GJMpUqVEBp3wSpfhJL4bgyKTYF\r\nX-Yahoo-Profile: alessandro.nadalin\r\n\r\nOn Sun, Apr 24, 2011 at 10:20 PM, mike amundsen &lt;mamund@...&gt; wrote:\n&gt;=\r\n This is expected behavior for common Web browsers; they do not return\n&gt; th=\r\ne ETag on POST. I think the W3C Amaya browser is an exception to\n&gt; this rul=\r\ne, but it&#39;s been a while since I worked with that one.\n\nDo you think they h=\r\nave any reason for doing so?\n\nSounds like a lack of functionality at the pr=\r\notocol level, to me.\n\n&gt;\n&gt; I&#39;ve used two ways to resolve this &quot;missing ETag&quot;=\r\n problem when sending\n&gt; data to servers.\n&gt;\n&gt; The easiest approach is to inc=\r\nlude the ETag as an argument on the URI\n&gt; supplied in the POST form and hav=\r\ne the server use that argument to do\n&gt; the concurrency check:\n&gt; &lt;form metho=\r\nd=3D&quot;post&quot; action=3D&quot;/resource?etag=3Dq1w2e3r4t5&quot;&gt;\n&gt; ...\n&gt; &lt;/form&gt;\n&gt;\n&gt; An a=\r\nlternate POST FORM solution could be to use a hidden field in the\n&gt; FORM to=\r\n hold the concurrency value:\n&gt; &lt;form method=3D&quot;post&quot; action=3D&quot;/resource&quot;&gt;\n=\r\n&gt; ...&lt;input type=3D&quot;hidden&quot; name=3D&quot;etag&quot; value=3D&quot;q1w2e3r4t5&quot; /&gt;\n&gt; &lt;/form&gt;=\r\n\n&gt;\n&gt; Another option is to abandon the Web browser&#39;s POST form pattern and\n&gt;=\r\n use XmlHttpRequest via Javascript to capture the Etag and execute the\n&gt; me=\r\nthod directly. =A0By using Javascript you can also use the PUT or\n&gt; PATCH m=\r\nethods if that is more appropriate (semantically) for the\n&gt; operatoin you w=\r\nish to perform.\n&gt;\n&gt; I use the first option when I am in an environment wher=\r\ne javascript is\n&gt; not allowed or undesirable. I use the second option when =\r\n&quot;Ajax&quot; style\n&gt; interactions with the server are expected.\n&gt;\n&gt; mca\n&gt; http://=\r\namundsen.com/blog/\n&gt; http://twitter.com@mamund\n&gt; http://mamund.com/foaf.rdf=\r\n#me\n&gt;\n&gt;\n&gt; #RESTFest 2010\n&gt; http://rest-fest.googlecode.com\n&gt;\n&gt;\n&gt;\n&gt;\n&gt; On Sun=\r\n, Apr 24, 2011 at 15:55, Alessandro Nadalin\n&gt; &lt;alessandro.nadalin@...=\r\n&gt; wrote:\n&gt;&gt; Hi guys,\n&gt;&gt;\n&gt;&gt; I&#39;m testing some browser&#39;s behaviour with precon=\r\nditions.\n&gt;&gt;\n&gt;&gt; I&#39;m GETting /foo, which is a webpage in text/html with an Et=\r\nag (1234)\n&gt;&gt; in the HTTP headers, with a form which has an action pointing =\r\nto the\n&gt;&gt; same URL.\n&gt;&gt; So I would expect the browser to send the If-Match h=\r\neader when I\n&gt;&gt; submit the form, but that doesn&#39;t happens ( I can&#39;t use PUT=\r\n for\n&gt;&gt; obvious reasons, hope HTML5 will integrate it [ thanks mike ] ).\n&gt;&gt;=\r\n\n&gt;&gt; Is this the expected behavior? How can I fix the &quot;lost update&quot;\n&gt;&gt; probl=\r\nem, in a web application, at the protocol level?\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; --\n&gt;&gt; Nadalin Ale=\r\nssandro\n&gt;&gt; www.odino.org\n&gt;&gt; www.twitter.com/_odino_\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; --------------=\r\n----------------------\n&gt;&gt;\n&gt;&gt; Yahoo! Groups Links\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;\n\n\n\n-- \nNadal=\r\nin Alessandro\nwww.odino.org\nwww.twitter.com/_odino_\n\n"}}
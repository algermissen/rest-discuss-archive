{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":111788143,"authorName":"Miles Sabin","from":"Miles Sabin &lt;miles@...&gt;","profile":"milessabin","replyTo":"SENDER","senderId":"sN9NTKaOOTIU7sPr_CMKSIhb0hsNsdx2oXiWAvUboYTTnwqkYNgnWI_-sUHX-6ysApMh5VV4mDPdGITD30PiQ3WwX00wC8rtlg","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [rest-discuss] Idempotent sequences","postDate":"1031082570","msgId":2349,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDIwMDIwOTAzMjA0OS4zMDkxNS5taWxlc0BtaWxlc3NhYmluLmNvbT4=","inReplyToHeader":"PDEzNzNENjM0MkZBMUQ0MTE5QTUxMDBFMDI5NDM3RjY0MDE1NUY4RTlAY2xpZmZvcmQuZGV2by5pbHguY29tPg==","referencesHeader":"PDEzNzNENjM0MkZBMUQ0MTE5QTUxMDBFMDI5NDM3RjY0MDE1NUY4RTlAY2xpZmZvcmQuZGV2by5pbHguY29tPg=="},"prevInTopic":2348,"nextInTopic":2356,"prevInTime":2348,"nextInTime":2350,"topicId":2333,"numMessagesInTopic":26,"msgSnippet":"Mathews, Walden wrote, ... Hmm ... OK, this is a bit rough and ready, but let s see ... By definition GET, PUT and DELETE are idempotent, so, using the","rawEmail":"Return-Path: &lt;miles@...&gt;\r\nX-Sender: miles@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nReceived: (EGP: mail-8_1_0_1); 3 Sep 2002 19:49:32 -0000\r\nReceived: (qmail 79098 invoked from network); 3 Sep 2002 19:49:32 -0000\r\nReceived: from unknown (66.218.66.218)\n  by m11.grp.scd.yahoo.com with QMQP; 3 Sep 2002 19:49:32 -0000\r\nReceived: from unknown (HELO putnam.milessabin.com) (195.184.234.163)\n  by mta3.grp.scd.yahoo.com with SMTP; 3 Sep 2002 19:49:32 -0000\r\nReceived: from mailhub.milessabin.com ([195.184.234.174] helo=meinong.milessabin.com)\n\tby putnam.milessabin.com with esmtp (Exim 3.36 #2)\n\tid 17mJg3-0002qq-00\n\tfor rest-discuss@yahoogroups.com; Tue, 03 Sep 2002 20:49:31 +0100\r\nReceived: from localhost (localhost [[UNIX: localhost]])\n\tby meinong.milessabin.com (8.11.6/8.11.6) id g83JnUf30803\n\tfor rest-discuss@yahoogroups.com; Tue, 3 Sep 2002 20:49:30 +0100\r\nContent-Type: text/plain;\n  charset=&quot;iso-8859-1&quot;\r\nTo: rest-discuss@yahoogroups.com\r\nSubject: Re: [rest-discuss] Idempotent sequences\r\nDate: Tue, 3 Sep 2002 20:49:30 +0100\r\nX-Mailer: KMail [version 1.4]\r\nReferences: &lt;1373D6342FA1D4119A5100E029437F640155F8E9@...&gt;\r\nIn-Reply-To: &lt;1373D6342FA1D4119A5100E029437F640155F8E9@...&gt;\r\nMIME-Version: 1.0\r\nContent-Transfer-Encoding: 8bit\r\nMessage-Id: &lt;200209032049.30915.miles@...&gt;\r\nFrom: Miles Sabin &lt;miles@...&gt;\r\nX-Yahoo-Group-Post: member; u=111788143\r\nX-Yahoo-Profile: milessabin\r\n\r\nMathews, Walden wrote,\n&gt; What&#39;s the trivial proof?  I also sense that it&#39;s easy, but if\n&gt; it&#39;s that easy, then Alloy won&#39;t help.\n\nHmm ... OK, this is a bit rough and ready, but let&#39;s see ...\n\nBy definition GET, PUT and DELETE are idempotent, so, using the notation \nfrom my previous mail,\n\n  g(g(s)) = g(s)   ie. g.g = g\n  p(p(s)) = p(s)       p.p = p\n  d(d(s)) = d(s)       d.d = d\n\nwhere PUT entities are constant and the request URI is common to g, p \nand d (I&#39;ll remove this last assumption later).\n\nFirst off, g is the identity function. That might sound odd, but \nremember, we&#39;re only interested in the state of the server, so if \nfollows from the safeness of GET.\n\nIt follows that every sequence of g, p, d can be simplified to just g, \nor an alternation of p and d, because the g&#39;s can be eliminated and \nruns of p&#39;s and d&#39;s can be collapsed to a single p or d. That means \nthat every sequence is equivalent to one of,\n\n1.  g\n2.  p.d ... p.d\n3.  p.d ... d.p\n4.  d.p ... p.d\n5.  d.p ... d.p\n\nNow, a PUT of /foo followed by a DELETE of /foo is equivalent to just a \nDELETE, so,\n\n  d(p(s)) = d(s)   ie. d.p = d\n\nand a DELETE of /foo followed by a PUT of /foo is equivalent to just a \nPUT, so,\n\n  p(d(s)) = p(s)   ie. p.d = p\n\nSo we can now reduce the sequences above to,\n\n1. g\n2. p\n3. p\n4. d\n5. d\n\nie. any sequence of g, p, and d is equivalent to the most recent \nnon-GET, or to just GET if there are no PUTs or DELETEs involved. But \nthose three are all idempotent, so the original sequence must be \nidempotent too.\n\nOK, now all we have to do is generalize to the case where the sequence \nincludes GETs, PUTs and DELETEs wrt different request URIs. On the \nassumption that a PUT or DELETE of /foo only affect /foo and not any \nother resource we can decompose a mixed URI sequence into distinct \nsubsequences, one for each distinct URI. For example,\n\n  GET /foo                   GET /foo\n  PUT /bar                                          PUT /bar\n  DELETE /foo                DELETE /foo\n  GET /bar                                          GET /bar\n  PUT /foo                   PUT /foo\n  DELETE /bar                                       DELETE /bar\n\nBecause these subsequences are relative to distinct URIs they can&#39;t have \nany interdependencies, hence the mixed URI sequence is idempotent if \neach of the homogenous URI sequences is.\n\nBut we&#39;ve already seen that the homogenous URI sequences are idempotent, \nso all sequences are.\n\nQED ;-)\n\nCheers,\n\n\nMiles\n\n"}}
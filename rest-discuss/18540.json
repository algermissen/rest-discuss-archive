{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":69164307,"authorName":"mike amundsen","from":"mike amundsen &lt;mamund@...&gt;","profile":"mamund","replyTo":"SENDER","senderId":"cycqHUxr1z0pKtK0Ia6sbA_DU-TygoOfs3cU-JByrV0p_XjakvNmQR2xiZ6AMcTf47eZMXO94V5qMvj6vGODIsciPi6Ji34","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [rest-discuss] Stateless services requiring authentication in an AJAX application","postDate":"1328746097","msgId":18540,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PENBUFdfOG02QTQxYldyK009TE9nMjRacEJXVHM2MHBpdi1SaHdkUUVtSj0zZG0zMVlDUUBtYWlsLmdtYWlsLmNvbT4=","inReplyToHeader":"PENBUFdfOG01LWkwb2I3TUNKU1pnMGp2d19EVXFRYTlVc3BHdFJ5SnorNFdDMzk3RHVOQUBtYWlsLmdtYWlsLmNvbT4=","referencesHeader":"PGpnczhtOCtvOTh1QGVHcm91cHMuY29tPgk8Q0FQV184bTUtaTBvYjdNQ0pTWmcwanZ3X0RVcVFhOVVzcEd0UnlKeis0V0MzOTdEdU5BQG1haWwuZ21haWwuY29tPg=="},"prevInTopic":18539,"nextInTopic":0,"prevInTime":18539,"nextInTime":18541,"topicId":18529,"numMessagesInTopic":7,"msgSnippet":"Jason: SIGN OUT HTTP Auth does not support sign-out so, by default, i do not expect it when using HTTP Auth. However: - when using browser-based auth, this","rawEmail":"Return-Path: &lt;mca@...&gt;\r\nX-Sender: mca@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 4698 invoked from network); 9 Feb 2012 00:08:17 -0000\r\nX-Received: from unknown (98.137.35.160)\n  by m14.grp.sp2.yahoo.com with QMQP; 9 Feb 2012 00:08:17 -0000\r\nX-Received: from unknown (HELO mail-pw0-f54.google.com) (209.85.160.54)\n  by mta4.grp.sp2.yahoo.com with SMTP; 9 Feb 2012 00:08:17 -0000\r\nX-Received: by pbdv10 with SMTP id v10so1266452pbd.13\n        for &lt;rest-discuss@yahoogroups.com&gt;; Wed, 08 Feb 2012 16:08:17 -0800 (PST)\r\nMIME-Version: 1.0\r\nX-Received: by 10.68.220.162 with SMTP id px2mr73245726pbc.76.1328746097215;\n Wed, 08 Feb 2012 16:08:17 -0800 (PST)\r\nX-Received: by 10.142.50.5 with HTTP; Wed, 8 Feb 2012 16:08:17 -0800 (PST)\r\nIn-Reply-To: &lt;CAPW_8m5-i0ob7MCJSZg0jvw_DUqQa9UspGtRyJz+4WC397DuNA@...&gt;\r\nReferences: &lt;jgs8m8+o98u@...&gt;\n\t&lt;CAPW_8m5-i0ob7MCJSZg0jvw_DUqQa9UspGtRyJz+4WC397DuNA@...&gt;\r\nDate: Wed, 8 Feb 2012 19:08:17 -0500\r\nX-Google-Sender-Auth: StODuba30tmYzrlEsJMKSwgDn9w\r\nMessage-ID: &lt;CAPW_8m6A41bWr+M=LOg24ZpBWTs60piv-RhwdQEmJ=3dm31YCQ@...&gt;\r\nTo: jason_h_erickson &lt;jason@...&gt;\r\nCc: rest-discuss@yahoogroups.com\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Transfer-Encoding: quoted-printable\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: mike amundsen &lt;mamund@...&gt;\r\nSubject: Re: [rest-discuss] Stateless services requiring authentication in an\n AJAX application\r\nX-Yahoo-Group-Post: member; u=69164307; y=FkHAftt1S5Dma8TTfv43f9wO4-9Inj0qvu2dlIue0YHv\r\nX-Yahoo-Profile: mamund\r\n\r\nJason:\n\nSIGN OUT\nHTTP Auth does not support &quot;sign-out&quot; so, by default, i do=\r\n not expect\nit when using HTTP Auth. However:\n- when using browser-based au=\r\nth, this is the browser&#39;s problem\n- when using my pre-auth option or cookie=\r\n-hack, i can use a flag to\n&quot;turn off&quot; sending the auth bits on each call\n\nI=\r\nS THIS REST?\nas for the whole &quot;is this REST thing&quot; I&#39;ll only point out that=\r\n the\narch style in Fielding&#39;s dissertation has nothing to say about\nauthent=\r\nication patterns. That is why I made the remark at the top.\nThis is not me =\r\ntrying to get in a dig or something, just making an\nobservation.\n\nAJAX\nI do=\r\nn&#39;t really follow how using XmlHttpRequest object from a browser\nis primary=\r\n to asking about using HTTP Auth or deciding if an\nimplementation follows F=\r\nielding&#39;s model. For example, I&#39;ve written\nquite a few &quot;desktop&quot; apps that =\r\ndon&#39;t use common browsers (i.e. all\ncomplied code making direct HTTP calls =\r\nand parsing the responses) and\nwas able to follow Fielding&#39;s model w/o any =\r\nproblem. As for &quot;pretty\nlogin&quot;, I think I covered that in the previous post=\r\n (the pre-auth).\n\nSESSION STATE\nI suspect part of your question really has =\r\nto do w/ state-handling\n(not just auth, but the entire notion of maintainin=\r\ng state in a\ndist-net app). Here, Fielding&#39;s model declares &quot;Session state =\r\nis\ntherefore kept entirely on the client&quot;[1] to support the Layered\nSytsem =\r\n[2] property in his model. And, as you point out, common Web\nbrowsers make =\r\nit tough to pull that off since,until recently, their\nsupport for allowing =\r\nservers to send code that &quot;writes&quot; state data to\nthe client has been limite=\r\nd to the cookie option. Yes, for &quot;modern&quot;\nbrowsers, there is the WebStorage=\r\n API that recently hit recommendation\nstatus[3]. I&#39;ve not used this in any =\r\nproduction code; perhaps others\ncan comment on it&#39;s usefulness.\n\nMY SESSION=\r\n HACK FOR BROWSERS\nFor cases where i need to get around the &quot;session state =\r\non the client&quot;\nproblem common for browsers (no matter how &quot;old&quot; they are), =\r\nI usually\ncreate a server-side resource that holds all the &quot;transient state=\r\n&quot; for\nthat logged in user. This is tied to the auth session and usually\ncac=\r\nhed w/ an etag to prevent chatty traffic where possible. again,\nit&#39;s a hack=\r\n, but it isolates the problem and makes it possible to:\n- make this &quot;sessio=\r\nn state&quot; mobile (not tied to any single server),\n- treat is as orthagonal t=\r\no the server implementation (servers don&#39;t\n_do_ anything with this stuff, i=\r\nt&#39;s the client that must ask for and\napply the state upon requests)\n- imple=\r\nmentation agnostic (since it&#39;s a separated component, future\nclient updates=\r\n can take advantage of changes in state support w/o\naffecting existing serv=\r\ner implementations or &quot;older&quot; clients.\n\nMore than once, I&#39;ve written server=\r\n implementations that supported\nboth &quot;desktop&quot; and &quot;browser&quot; clients. In th=\r\nose cases, the desktop apps\nkept their own state and the browsers used the =\r\nserver-side session\nresources. The server itself (that handled the business=\r\n scenario)\nnever knew the diff.\n\nHopefully this gives you some ideas on how=\r\n to come up w/ a solution\nthat will work for your use cases.\n\n[1] http://ww=\r\nw.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm#sec_5_1_3\n[2]=\r\n http://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm#sec=\r\n_5_1_6\n[3] http://www.w3.org/TR/webstorage/\n\nmca\nhttp://amundsen.com/blog/\n=\r\nhttp://twitter.com@mamund\nhttp://mamund.com/foaf.rdf#me\n\n\n\n\nOn Wed, Feb 8, =\r\n2012 at 10:23, mike amundsen &lt;mamund@...&gt; wrote:\n&gt; Interesting HTTP Q=\r\n (not related to REST, of course)...\n&gt;\n&gt; Here&#39;s my list of HTTP auth soluti=\r\nons when working w/ common browsers:\n&gt;\n&gt; LET THE BROWSER HANDLE IT ALL\n&gt; I =\r\nusually use HTTPS + Basic Auth for browser apps and I let the\n&gt; browser han=\r\ndle this detail for me. IOW, I set up the server to require\n&gt; auth for the =\r\nURIs and let things &quot;flow&quot; from there. No special coding\n&gt; on the browser c=\r\nlient at all.\n&gt;\n&gt; SCRIPTED PRE-AUTH\n&gt; Occasionally, I&#39;ll set up a scripted =\r\n&quot;pre-auth&quot; on the browser. In\n&gt; this case, I use a small JS lib to handle t=\r\nhe base64 encoding and\n&gt; prompt the user to provide user/pass locally, enco=\r\nde it and stuff it\n&gt; into the headers for ajax calls. I do this on every ca=\r\nll, tho and that\n&gt; can get tedious.\n&gt;\n&gt; BASIC AUTH COOKIE HACK\n&gt; Finally, (=\r\nand I&#39;m not really proud of this one....) I sometimes stuff\n&gt; the Base64-en=\r\ncoded Basic Auth value as a cookie (sheesh!) and set up\n&gt; the server to pee=\r\nk into the cookie space before throwing a 403 upon\n&gt; receiving an un-auth&#39;e=\r\nd request. The advantage here is the cookie is\n&gt; retained across pages.\n&gt;\n&gt;=\r\n That&#39;s what I do.\n&gt;\n&gt; mca\n&gt; http://amundsen.com/blog/\n&gt; http://twitter.com=\r\n@mamund\n&gt; http://mamund.com/foaf.rdf#me\n&gt;\n&gt;\n&gt;\n&gt;\n&gt; On Tue, Feb 7, 2012 at 17=\r\n:30, jason_h_erickson &lt;jason@...&gt; wrote:\n&gt;&gt; I have a web appl=\r\nication that has many web services and an AJAX web client as well as some m=\r\nobile clients. =A0I won&#39;t call them RESTful web services, but I&#39;m trying to=\r\n get them closer.\n&gt;&gt;\n&gt;&gt; One problem I have is that I am trying to avoid hav=\r\ning any application state on the server. =A0I have that with the exception =\r\nof having an authenticated session. =A0Nothing is stored in the session exc=\r\nept for the user&#39;s &quot;Subject&quot; which knows whether or not it is authenticated=\r\n and who it is authenticated as.\n&gt;&gt;\n&gt;&gt; But I want to get all the way to hav=\r\ning no session, but that means I have to authenticate with every request. =\r\n=A0My mobile clients have no trouble doing this. =A0(In fact, they do it al=\r\nready.) =A0However, this seems to be rather tricky from a browser.\n&gt;&gt;\n&gt;&gt; If=\r\n the ENTIRE application was in one web page, then you could just store the =\r\ncredentials in memory. =A0However, if you have to go from one web page to a=\r\nnother, it starts to get hairy.\n&gt;&gt;\n&gt;&gt; Does anyone on this list have any bes=\r\nt practices for avoiding having any session in web applications (Human to M=\r\nachine) requiring authentication?\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; -----------------------------=\r\n-------\n&gt;&gt;\n&gt;&gt; Yahoo! Groups Links\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n\n"}}
{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":331949899,"authorName":"Sebastien Lambla","from":"&quot;Sebastien Lambla&quot; &lt;seb@...&gt;","profile":"serialseb","replyTo":"SENDER","senderId":"lLqbkrU79Ix529J4vwIEQDi4imdpfk-jNU5ndedwdxoi6Ga0qNNaS9HHWKPORVv4XuyJh_oCokrYUNtwohNBqcJNCLa4FWU5u2QQ0Ic","spamInfo":{"isSpam":false,"reason":"0"},"subject":"RE: [rest-discuss] What location to return on 202 (asynchronous process) and what polling result?","postDate":"1220896778","msgId":11266,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PEJMVTEwMi1EUzFERDg3NTM1Q0NBMzY4NzdDQ0UxQUI1NTUwQHBoeC5nYmw+","inReplyToHeader":"PGc5dW9vNStqNGlrQGVHcm91cHMuY29tPg==","referencesHeader":"PGc5dW9vNStqNGlrQGVHcm91cHMuY29tPg=="},"prevInTopic":11265,"nextInTopic":11267,"prevInTime":11265,"nextInTime":11267,"topicId":11263,"numMessagesInTopic":15,"msgSnippet":"Rfc says: The entity returned with this response SHOULD include an indication of the request s current status and either a pointer to a status monitor or some","rawEmail":"Return-Path: &lt;seb@...&gt;\r\nX-Sender: seb@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nX-Received: (qmail 55902 invoked from network); 8 Sep 2008 17:59:53 -0000\r\nX-Received: from unknown (66.218.67.97)\n  by m1.grp.re1.yahoo.com with QMQP; 8 Sep 2008 17:59:53 -0000\r\nX-Received: from unknown (HELO blu0-omc4-s22.blu0.hotmail.com) (65.55.111.161)\n  by mta18.grp.scd.yahoo.com with SMTP; 8 Sep 2008 17:59:53 -0000\r\nX-Received: from BLU102-DS1 ([65.55.111.136]) by blu0-omc4-s22.blu0.hotmail.com with Microsoft SMTPSVC(6.0.3790.3959);\n\t Mon, 8 Sep 2008 10:59:52 -0700\r\nX-Originating-Email: [seb@...]\r\nMessage-ID: &lt;BLU102-DS1DD87535CCA36877CCE1AB5550@...&gt;\r\nReturn-Path: seb@...\r\nTo: &quot;&#39;Rest Discussion Group&#39;&quot; &lt;rest-discuss@yahoogroups.com&gt;\r\nReferences: &lt;g9uoo5+j4ik@...&gt;\r\nIn-Reply-To: &lt;g9uoo5+j4ik@...&gt;\r\nDate: Mon, 8 Sep 2008 18:59:38 +0100\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;us-ascii&quot;\r\nContent-Transfer-Encoding: 7bit\r\nX-Mailer: Microsoft Office Outlook 12.0\r\nThread-Index: AckRTwy0tA9FaLSyTDCQ/Alz3T19wwANBi3w\r\nContent-Language: en-gb\r\nX-OriginalArrivalTime: 08 Sep 2008 17:59:52.0991 (UTC) FILETIME=[B1C7D2F0:01C911DC]\r\nFrom: &quot;Sebastien Lambla&quot; &lt;seb@...&gt;\r\nSubject: RE: [rest-discuss] What location to return on 202 (asynchronous process) and what polling result?\r\nX-Yahoo-Group-Post: member; u=331949899; y=eCpXUyI7LJVMzBqs_MZTQA6p3qlIwSauODCyPf8L1g_gQZN9\r\nX-Yahoo-Profile: serialseb\r\n\r\nRfc says: The entity returned with this response SHOULD include an\nindication of the request&#39;s current status and either a pointer to a status\nmonitor or some estimate of when the user can expect the request to be\nfulfilled\n\nYou could simply post to /backups and return a 202. The spec says nothing\nabout using the Location: header so you should put the location that you\nwould use to query the state of the backup (the status monitor talked about)\nin the content. That said, this is a typical example where it makes sense\nIMO to take some liberty with headers and go ahead and add a Location header\n(I&#39;ve seen system doing this before), as long as you of course do have it in\nthe entity.\n\nNow you have two options. The first one is to consider the status to be a\nresource in itself, in which case that resource is created upon request and\nwill always return a 200. You push the interpretation of the result in the\ncontent you send back. As 202 implies that the status monitor link should be\nin the content itself, it&#39;s an acceptable approach: If you understand how to\nrender the initial 202 response you&#39;ll have no problem parsing the 200\nresponse from the status code.\n\nAnother approach could simply be to return the backup url itself as a\nresonse to your 202, and push the response value at the http level. In that\ncase, the initial 202 would include the location to /backups/version_x. Any\nsubsequent request to that uri would trigger a 202 until there&#39;s a final\noutcome for the backup, that could either be a 200 for success or a 410 for\nfailure.\n\nSome people would argue that 202 is not used correctly if in response to a\nget to that resource. However I interpret the spec as saying &quot;the request\nhas been understood but I can&#39;t give you an answer&quot;. This does imply that\nyou assign a uri to a resource that doesn&#39;t exist yet, but I don&#39;t have a\nfundamental problem with that.\n\nSeb \n\n\n\n-----Original Message-----\nFrom: rest-discuss@yahoogroups.com [mailto:rest-discuss@yahoogroups.com] On\nBehalf Of bierstuebl\nSent: 06 September 2008 21:21\nTo: rest-discuss@yahoogroups.com\nSubject: [rest-discuss] What location to return on 202 (asynchronous\nprocess) and what polling result?\n\nHi all,\n\nI&#39;m new to this mailing list and to be honest: I&#39;ve neve been on a\nmailing list before. So in case I&#39;m doing things wrong, please be\nforgiving.\n\nHowever, here is my first question:\n\nI would like to use asynchronous REST by POSTing a request to e.g.\n/backups  (for creating a new backup version), which will return me a\n202 with a location in the header. What should this location look like?\nI think it should look like /backups/version_x and NOT be somewhere\nelse like /queue/backups/version_x or the like.\nHowever, if a client starts polling now on /backups/version_x and the\nprocess hasn&#39;t finished yet, what should be returned? A 404 with a\nbody until the process is finished an the real representation can be\nsent with 200?\n\nUsing a new resource like /queue/backups/version I could return a 200\nwith some status information in it. However, the client initially\nrequested a representation of a backup, but when it starts polling on\nthe new resource it receives another representation, the a status\nrepresenteation. How could a client adjust to this situation without\nknowing in advance  that the action would be asynchronous??\n\nHmm, it&#39;s difficult to describe the problem. I hope it&#39;s\nunderstandable somehow.\n\nregards,\nRoland\n\n\n------------------------------------\n\nYahoo! Groups Links\n\n\n\n\n\n"}}
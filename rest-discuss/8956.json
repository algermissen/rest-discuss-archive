{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":3702469,"authorName":"Nic James Ferrier","from":"Nic James Ferrier &lt;nferrier@...&gt;","profile":"nferrier_tapsellferrier","replyTo":"SENDER","senderId":"P4278Fs1JzwrceVeQpXIsZkPHroePKQqQ2bicjGK9Qzqr6wUI8NGIEOWf1f-R2k25v9v32dEE5K_Dd3Bh8HXyxkwk_nLtePi026sM7Plbcj_R7b-OFQZNQ","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [rest-discuss] Message queues","postDate":"1181680481","msgId":8956,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDg3OHhhbzUydTYuZnNmQGthbmdhLnRhcHNlbGxmZXJyaWVyLmNvLnVrPg==","inReplyToHeader":"PDIwMDcwNjEyMjAwODIwLkdEOTgwN0BzbGlua3AuY29tPiAoUGF1bCBXaW5rbGVyJ3MgbWVzc2FnZSBvZiAiVHVlXCwgMTIgSnVuIDIwMDcgMTZcOjA4XDoyMCAtMDQwMCIp","referencesHeader":"PDIwMDcwNjEyMjAwODIwLkdEOTgwN0BzbGlua3AuY29tPg=="},"prevInTopic":8955,"nextInTopic":8957,"prevInTime":8955,"nextInTime":8957,"topicId":8955,"numMessagesInTopic":70,"msgSnippet":"... To retrieve a message from the queue you should do this: POST /queue/ = 201, Location /queue/snapshotIDxxxx GET /queue/snapshotIDxxxx = 200, state of the","rawEmail":"Return-Path: &lt;nferrier@...&gt;\r\nX-Sender: nferrier@...\r\nX-Apparently-To: rest-discuss@yahoogroups.com\r\nReceived: (qmail 24576 invoked from network); 12 Jun 2007 20:34:38 -0000\r\nReceived: from unknown (66.218.66.166)\n  by m41.grp.scd.yahoo.com with QMQP; 12 Jun 2007 20:34:38 -0000\r\nReceived: from unknown (HELO owls-house.tapsellferrier.co.uk) (81.187.188.218)\n  by mta5.grp.scd.yahoo.com with SMTP; 12 Jun 2007 20:34:37 -0000\r\nReceived: from nicferrier.tapsellferrier.co.uk ([172.31.50.1] helo=localhost)\n\tby owls-house.tapsellferrier.co.uk with esmtp (Exim 4.60 #1 (Debian))\n\tid 1HyD1O-0003Z9-3U; Tue, 12 Jun 2007 21:31:22 +0100\r\nReceived: by localhost (Postfix, from userid 1000)\n\tid 22551C06FB; Tue, 12 Jun 2007 21:34:41 +0100 (BST)\r\nTo: Paul Winkler &lt;pw_lists@...&gt;\r\nCc: rest-discuss@yahoogroups.com\r\nReferences: &lt;20070612200820.GD9807@...&gt;\r\nDate: Tue, 12 Jun 2007 21:34:41 +0100\r\nIn-Reply-To: &lt;20070612200820.GD9807@...&gt; (Paul Winkler&#39;s message of &quot;Tue&#92;, 12 Jun 2007 16&#92;:08&#92;:20 -0400&quot;)\r\nMessage-ID: &lt;878xao52u6.fsf@...&gt;\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=us-ascii\r\nX-eGroups-Msg-Info: 1:0:0:0\r\nFrom: Nic James Ferrier &lt;nferrier@...&gt;\r\nSubject: Re: [rest-discuss] Message queues\r\nX-Yahoo-Group-Post: member; u=3702469; y=_3fQ8a0M8o8D6069ajixqhfXr3NNVcXoUsBU_VZHo-YLvXwf3D9JgaxGY94N5-5AUH4\r\nX-Yahoo-Profile: nferrier_tapsellferrier\r\n\r\nPaul Winkler &lt;pw_lists@...&gt; writes:\n\n&gt; * it&#39;s not REST that says GET is a read-only operation; it&#39;s HTTP.  So\n&gt; their HTTP implementation is broken. Sadly seems to be pretty common.\n&gt;\n&gt; * DELETE on a URL representing a queue means you want to delete the\n&gt;   entire queue, not a single message!\n&gt;\n&gt; The reason I&#39;m writing to this list is that I thought it was an\n&gt; interesting case and I couldn&#39;t immediately think of better solution.\n&gt; Has anybody thought of a good way to model a queue?\n&gt;\n&gt; You could of course do a GET on the queue, returning a list of\n&gt; available messages, then DELETE one of those - but that leads to\n&gt; concurrency problems.\n\nTo retrieve a message from the queue you should do this:\n\n  POST /queue/\n  =&gt; 201, Location /queue/snapshotIDxxxx\n\n  GET /queue/snapshotIDxxxx\n  =&gt; 200, state of the snapshot, with links to elements\n\n  DELETE /queue/snapshotIDxxxx/1\n  =&gt; 200, deleted resource\n\n\nThis is the transactional model. Of course... it means either:\n\n- the queue is a multi-consumer queue\n- everything in the queue disappears when you create the snapshot.\n\nThe latter is preferred obviously.\n\n-- \nNic Ferrier\nhttp://www.tapsellferrier.co.uk   \n\n"}}